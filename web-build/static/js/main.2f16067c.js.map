{"version":3,"file":"static/js/main.2f16067c.js","mappings":"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","sources":["assets/utility.js","assets/theme.js","src/OverlayProcedureMessage.js","src/OverlayLanguage.js","src/OverlayAlert.js","src/Preference.js","src/Login.js","src/MainTable.js","src/MainMenu.js","src/OverlayAutoLogout.js","src/OverlayDeposit.js","src/OverlayScanBarcode.js","src/OverlayRequestAccess.js","src/OverlayChangePrice.js","src/OverlayLineDiscount.js","src/OverlayHeaderDiscount.js","src/OverlayMergeTable.js","src/OverlaySplitTable.js","src/OverlayChangeTable.js","src/OverlayReviseItem.js","src/OverlayTableActions.js","src/OverlayAdditionalFunctions.js","src/OverlayChoosePrinter.js","src/Main.js","src/OverlayServiceEntry.js","src/Register.js","src/OverlaySplitItems.js","src/Split.js","src/OverlayInputReference.js","src/OverlayMergeBill.js","src/OverlaySplitBill.js","src/OverlaySplitAmount.js","src/OverlayUpdateTips.js","src/OverlayViewSplitted.js","src/OverlayPaynow.js","src/Pos.js","src/Adhoc.js","src/Dayclose.js","src/Printer.js","src/OverlayEnterDate.js","src/Report.js","src/Reprint.js","src/Resequence.js","src/Transfer.js","src/OverlayVoidReceipt.js","src/Void.js","src/Collect.js","src/Table.js","src/Menu.js","src/Scan.js","src/Trace.js","src/Activate.js","src/Limit.js","src/Fire.js","src/Combo.js","src/Secondary.js","App.js","node_modules/moment/locale|sync|/^/.*$","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import React, { useContext } from 'react'\nimport * as RN from 'react-native';\n// import ThemeContext from '../ThemeContext';\n\n// text wrapper for custom style text component\nexport function Text({ style, children, ...rest }) {\n\n  // const themeContext = useContext(ThemeContext);\n\n  let styleObject = style;\n  // convert array to object\n  if (Array.isArray(style)) {\n    styleObject = {};\n    style.forEach(el => {\n      styleObject = Object.assign(styleObject, el);\n    })\n  }\n\n  return (\n    // override font size\n    <RN.Text style={{ ...styleObject, fontSize: (styleObject?.fontSize || 14), fontFamily: (styleObject?.fontFamily || 'varela-round') }} {...rest}>\n      {children}\n    </RN.Text>\n  );\n};\n\nexport function debug(serviceEntry, msg1, msg2, msg3, msg4, msg5, msg6) {\n  fetch(serviceEntry + 'api/debug/', {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n    body: JSON.stringify({\n      msg1, // action\n      msg2, // user name\n      msg3, // error\n      msg4, // target id (table)\n      msg5, // detail name (tableItem)\n      msg6, // additional info (other)\n    }),\n  })\n}","import { Platform } from 'react-native';\r\n\r\nconst theme = {\r\n  vacant: '#30BEAE', // hsl(173, 60%, 47%)\r\n  reserved: '#FFB86F', // hsl(30, 100%, 72%)\r\n  occupied: '#2A79A8', //\thsl(202, 60%, 41%)\r\n  paid: '#E84855', // hsl(355, 78%, 60%)\r\n  unavailable: '#424549',\r\n  adhoc: '#7a4988', // hsl(287, 30%, 41%)\r\n  deposit: '#d65c91', // hsl(334, 60%, 60%)\r\n  grey1: '#23272A',\r\n  grey2: '#2C2F33',\r\n  grey3: '#36393E',\r\n  grey4: '#424549',\r\n  grey5: '#99aab5',\r\n\r\n  grey7: '#E3E5E8',\r\n  grey8: '#EBEDEF',\r\n  grey9: '#F2F3F5',\r\n\r\n  size: Platform.OS === 'web' ? 5 : 4,\r\n\r\n  black8: '#000000aa', // cc is 0.8, aa is not\r\n  white8: '#ffffffcc',\r\n}\r\n\r\nexport default theme;","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayproceduremessage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>WARNING</Text>\r\n            <Text style={[styles.overlaySubtitleText, { color: theme.paid }]}>Procedure Message</Text>\r\n            <Text style={styles.overlayText}>{this.props.text.toUpperCase()}</Text>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromProcedureMessage('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 3,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Feather, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayLanguage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlaylanguage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Language  </Text>\r\n            {/* <Text style={styles.overlayText}>Select a message for the chef</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('en')}>\r\n              <Text style={{ marginTop: 5, color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>Aa</Text>\r\n              <Text style={[styles.buttonText,]}>ENGLISH</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zhs')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={[styles.buttonText,]}></Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zht')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={styles.buttonText}></Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('ja')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={styles.buttonText}></Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromLanguage('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { input } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{input?.title}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{input?.subtitle}</Text>\r\n            <Text style={styles.overlayText}>{input?.text}</Text>\r\n          </View>\r\n          {\r\n            input?.ok &&\r\n            <TouchableOpacity style={styles.overlayOption}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>OK</Text>\r\n            </TouchableOpacity>\r\n          }\r\n          {\r\n            input?.options ?\r\n              input?.options.map(el =>\r\n                <TouchableOpacity style={styles.overlayOption}\r\n                  key={el.handleText}\r\n                  onPress={() => this.props.handleUpdateFromAlert(el.handleText)}>\r\n                  <Text style={styles.overlayOptionText}>{el.text}</Text>\r\n                </TouchableOpacity>\r\n              )\r\n              : null\r\n          }\r\n          {\r\n            input?.cancel &&\r\n            <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n            </TouchableOpacity>\r\n          }\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Preference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // tcolsize: '',\r\n      // mcolsize: '',\r\n      // pcolsize: '',\r\n      // mquick: '',\r\n      // dsecondary: '',\r\n      // usecondary: '',\r\n      // rpartition: '',\r\n      preference: null,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n      this.setState({\r\n        preference\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doReset') {\r\n      this.doReset();\r\n    }\r\n  }\r\n\r\n  doPressReset() {\r\n    let options = [];\r\n    options.push({ text: intl.get('yes'), handleText: 'doReset' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: `${intl.get('reset')} ${intl.get('preference')}`,\r\n        text: 'Reset all to factory preset?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doReset() {\r\n    let preference = {\r\n      tcolsize: Platform.OS === 'web' ? 5 : 4,\r\n      mcolsize: Platform.OS === 'web' ? 3 : 2,\r\n      pcolsize: Platform.OS === 'web' ? 5 : 3,\r\n      mquick: 'Y',\r\n      dsecondary: 'N',\r\n      usecondary: '',\r\n      // rpartition: 0.33,\r\n    };\r\n    this.setState({ preference })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n  }\r\n\r\n  doTcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.tcolsize < 8) {\r\n      preferenceUpdate.tcolsize = preferenceUpdate.tcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.tcolsize = 3;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mcolsize < 6) {\r\n      preferenceUpdate.mcolsize = preferenceUpdate.mcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.mcolsize = 1;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doPcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.pcolsize < 7) {\r\n      preferenceUpdate.pcolsize = preferenceUpdate.pcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.pcolsize = 2;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMquick() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mquick === 'Y') {\r\n      preferenceUpdate.mquick = 'N';\r\n    } else {\r\n      preferenceUpdate.mquick = 'Y';\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doDsecondary() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.dsecondary === 'N') {\r\n      preferenceUpdate.dsecondary = 'Y';\r\n    } else {\r\n      preferenceUpdate.dsecondary = 'N';\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doUsecondary(text) {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    preferenceUpdate.usecondary = text;\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doRpartition(text) {\r\n    const { preference } = this.state;\r\n\r\n    if (isNaN(text)) return;\r\n\r\n    let preferenceUpdate = preference;\r\n    preferenceUpdate.rpartition = Number(text);\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render preference', preference);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doTcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>TCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>3-8</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Table</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.tcolsize === 5) || (Platform.OS !== 'web' && preference?.tcolsize === 4)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doPcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>PCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>2-7</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for POS</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.pcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.pcolsize === 5) || (Platform.OS !== 'web' && preference?.pcolsize === 3)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n                  <View\r\n                    style={styles.grid}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>USECONDARY</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>TEXT</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Secondary Display User</Text>\r\n                      <TextInput style={[styles.gridSecondText, { width: 100, color: theme.reserved, textAlign: 'right' }]}\r\n                        selectTextOnFocus\r\n                        defaultValue={preference?.usecondary || ''}\r\n                        onChangeText={(text) => this.doUsecondary(text)}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        !preference?.usecondary ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </View>\r\n\r\n                  {/* <View\r\n                    style={styles.grid}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>RPARTITION</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>0 &#60; X &#60; 1</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Partition Ratio</Text>\r\n                      <TextInput style={[styles.gridSecondText, { width: 100, color: theme.reserved, textAlign: 'right' }]}\r\n                        selectTextOnFocus\r\n                        defaultValue={preference?.rpartition.toString()}\r\n                        onChangeText={(text) => this.doRpartition(text)}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        Number(preference?.rpartition) === 0.33 ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </View> */}\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>1-6</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.mcolsize === 3) || (Platform.OS !== 'web' && preference?.mcolsize === 2)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMquick()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MQUICK</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>Y/N</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Quick Select for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mquick}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        preference?.mquick === 'Y' ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doDsecondary()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>DSECONDARY</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>Y/N</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Acting Secondary Display</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.dsecondary}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        preference?.dsecondary === 'N' ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressReset()}>\r\n                <AntDesign\r\n                  name='warning'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reset')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialIcons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, Platform, Dimensions } from 'react-native';\r\nimport * as Linking from 'expo-linking';\r\nimport Constants from 'expo-constants';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text, debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport Logo from '../assets/logo-small-light.png';\r\nimport moment from 'moment';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayLanguage from './OverlayLanguage';\r\nimport Preference from './Preference';\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      preference: null,\r\n      language: '-',\r\n      serviceEntry: '',\r\n      serviceEntryObj: null,\r\n      accessCode: '',\r\n      password: '',\r\n      userId: '',\r\n      home: null,\r\n\r\n      dev: false,\r\n      // dev: true,\r\n    };\r\n\r\n    this.handleUpdateFromLanguage = this.handleUpdateFromLanguage.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { navigation } = this.props;\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const language = await AsyncStorage.getItem('language');\r\n    let preference = await AsyncStorage.getItem('preference');\r\n\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n    }\r\n    preference = {\r\n      tcolsize: preference?.tcolsize || (Platform.OS === 'web' ? 5 : 4),\r\n      mcolsize: preference?.mcolsize || (Platform.OS === 'web' ? 3 : 2),\r\n      pcolsize: preference?.pcolsize || (Platform.OS === 'web' ? 5 : 3),\r\n      mquick: preference?.mquick || 'Y',\r\n      dsecondary: preference?.dsecondary || 'N',\r\n      usecondary: preference?.usecondary || '',\r\n      // rpartition: preference?.rpartition || 0.33,\r\n    };\r\n    AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n\r\n    console.log('mounting service', serviceEntry)\r\n    let serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (serviceEntryObj) {\r\n      serviceEntryObj = JSON.parse(serviceEntryObj);\r\n    } else {\r\n      serviceEntryObj = null;\r\n    }\r\n    this.setState({\r\n      preference,\r\n      serviceEntry,\r\n      language: language || 'en',\r\n      serviceEntryObj,\r\n    })\r\n    // secondary display only\r\n    if (preference.dsecondary === 'Y') {\r\n      navigation.navigate('Secondary', {\r\n        preference,\r\n        serviceEntry,\r\n        serviceEntryObj,\r\n      });\r\n    }\r\n    // dev only\r\n    if (this.state.dev) {\r\n      this.setState({\r\n        accessCode: 'qwe'\r\n      }, () => this.doSubmitAccessCode())\r\n    }\r\n  }\r\n\r\n  async didFocus() {\r\n    const { route } = this.props;\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (preference) {\r\n      this.setState({ preference: JSON.parse(preference) })\r\n    }\r\n    if (serviceEntryObj) {\r\n      this.setState({ serviceEntryObj: JSON.parse(serviceEntryObj) })\r\n    }\r\n    this.setState({ serviceEntry })\r\n    if (route.params?.sync && (moment(route.params.sync).diff(moment(), 'seconds') > -1)) {\r\n      this.doSubmitAccessCode();\r\n    } else {\r\n      if (!this.state.dev) {\r\n        this.setState({\r\n          accessCode: ''\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  handleUpdateFromLanguage(item) {\r\n    this.setState({\r\n      overlayLanguageVisible: false,\r\n    })\r\n    if (!item) {\r\n      return;\r\n    }\r\n    intl.options.currentLocale = item;\r\n    AsyncStorage.setItem('language', item);\r\n    this.setState({\r\n      language: item,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressDownload() {\r\n    Alert.alert(\r\n      `Download latest bistro app?`,\r\n      '',\r\n      [\r\n        {\r\n          text: 'Cancel',\r\n        },\r\n        {\r\n          text: 'Ok',\r\n          onPress: () => this.doDownload()\r\n        },\r\n      ],\r\n    );\r\n  }\r\n\r\n  doDownload() {\r\n    if (Platform.OS === 'ios') {\r\n      Linking.openURL(`itms-apps://itunes.apple.com/app/id6443468946`);\r\n    }\r\n  }\r\n\r\n  doSubmitPassword() {\r\n    const { serviceEntry, userId, password } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      userId: userId,\r\n      password: password,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  doSubmitAccessCode() {\r\n    const { serviceEntry, accessCode } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      accessCode: accessCode,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  async doLogIn(link, body) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry } = this.state;\r\n\r\n    fetch(link, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post login', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          throw response;\r\n        }\r\n        this.setState({\r\n          home: response,\r\n        });\r\n        return Promise.all([\r\n          AsyncStorage.setItem('home', JSON.stringify(response)),\r\n          response,\r\n        ]);\r\n      })\r\n      .then(([response, home]) => {// do parallel chain\r\n\r\n        let promiseArray = [];\r\n\r\n        let url = serviceEntry + 'api/sections';\r\n        let params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        let promiseObject = { url: url, nameString: 'sections' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/tablemas';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'tablemas' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/foldergrps';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'foldergrps' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/folders';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'folders' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/menus';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'menus' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mods';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'mods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mod-bundles';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'modBundles' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-items';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboItems' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-groups';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboGroups' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/payment-methods';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'paymentMethods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/vip-sources';\r\n        promiseObject = { url: url, nameString: 'vipSources' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/discounts';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'discounts' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/returns';\r\n        promiseObject = { url: url, nameString: 'returns' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/settings';\r\n        params = new URLSearchParams();\r\n        params.append('appCode', 'RESTMENU');\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'settings' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/privileges';\r\n        params = new URLSearchParams();\r\n        params.append('userId', home.userId);\r\n        params.append('locId', home.locId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'privileges' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/cashier-printers';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'cashierPrinters' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kottype';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kottypes' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kitchenmsgs';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kitchenmsgs' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        return Promise.all([\r\n          ...promiseArray.map(el =>\r\n            fetch(el.url)\r\n              .then(response => response.json())\r\n              .then(response => {\r\n                console.log('fetching', el.nameString, response);\r\n                return ({ [el.nameString]: response });\r\n              })\r\n          )\r\n        ]);\r\n      })\r\n      .then(response => {\r\n        const masters = response.reduce((o, item) => ({ ...o, [Object.keys(item)[0]]: Object.values(item)[0] }), {});\r\n        console.log('masters', masters);\r\n        navigation.navigate('Main', {\r\n          masters,\r\n          home: this.state.home,\r\n          serviceEntryObj: this.state.serviceEntryObj,\r\n          serviceEntry: this.state.serviceEntry,\r\n          preference: this.state.preference\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log('error', error);\r\n        this.setState({\r\n          accessCode: '',\r\n        })\r\n      });\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { accessCode } = this.state;\r\n    let accessCodeUpdate = accessCode + item;\r\n    this.setState({ accessCode: accessCodeUpdate });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { preference, serviceEntryObj, serviceEntry, language, userId, password, accessCode,\r\n      overlayProcedureMessageVisible, overlayLanguageVisible } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayLanguageVisible &&\r\n          <OverlayLanguage\r\n            handleUpdateFromLanguage={this.handleUpdateFromLanguage} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ flex: 1, backgroundColor: 'white', }}>\r\n          <View style={{ flex: 2, }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View>\r\n                <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.paid }}\r\n                  onPress={() => navigation.navigate('Register')}>\r\n                  <Ionicons name='ios-globe' size={24} color={theme.grey1} style={{ height: 24, width: 24, marginTop: -2 }} />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ marginHorizontal: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.reserved }}\r\n                  onPress={() => navigation.navigate('Preference')}>\r\n                  <MaterialIcons name=\"miscellaneous-services\" size={24} color={theme.grey1} />\r\n                </TouchableOpacity>\r\n                {\r\n                  Platform.OS === 'ios' &&\r\n                  <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.occupied }}\r\n                    onPress={() => this.doPressDownload()}>\r\n                    <AntDesign name=\"clouddownload\" size={24} color={theme.grey1} />\r\n                  </TouchableOpacity>\r\n                }\r\n              </View>\r\n\r\n            </View>\r\n            <View style={{ margin: 20, alignItems: 'flex-end', justifyContent: 'flex-end', }}>\r\n              <Text style={{ color: theme.paid }}>{serviceEntryObj?.name || 'Entry'}</Text>\r\n              <Text style={{ fontSize: 10, marginBottom: 5, color: theme.occupied }} numberOfLines={1}>{serviceEntry}</Text>\r\n              <Text style={{ fontSize: 18 }}>AN EXTENSION OF THE EPB SYSTEM</Text>\r\n              <Text style={{ fontSize: 18 }}>VERSION {Constants.manifest.version?.split('.')[0]}</Text>\r\n            </View>\r\n          </View>\r\n          <Image\r\n            style={{ flex: 1, width: '100%', }}\r\n            source={Logo}\r\n            resizeMode='contain'\r\n          />\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: theme.grey1, justifyContent: 'center', alignItems: 'center' }}>\r\n          <TouchableOpacity style={{ position: 'absolute', right: 20, top: 20, minHeight: 40, alignItems: 'flex-end' }}\r\n            onPress={() => this.setState({ overlayLanguageVisible: true })}>\r\n            <Text style={{ color: 'white', textTransform: 'uppercase' }}>{language === 'ja' ? '' : language === 'zhs' ? '' : language === 'zht' ? '' : 'EN'}</Text>\r\n            <Text style={{ color: 'white', fontSize: 10 }}>LANGUAGE  </Text>\r\n          </TouchableOpacity>\r\n          <View style={styles.textInputContainer}>\r\n            <TextInput style={styles.textInput}\r\n              placeholder={intl.get('accesscode')}\r\n              placeholderTextColor='white'\r\n              placeholderStyle={{ textTransform: 'uppercase' }}\r\n              onChangeText={text => this.setState({ accessCode: text })}\r\n              value={accessCode}\r\n              secureTextEntry\r\n              autoComplete='off'\r\n              autoCorrect={false}\r\n              onSubmitEditing={() => this.doSubmitAccessCode()}\r\n            />\r\n          </View>\r\n\r\n          <View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('1')}>\r\n                <Text style={styles.buttonText}>1</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('2')}>\r\n                <Text style={styles.buttonText}>2</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('3')}>\r\n                <Text style={styles.buttonText}>3</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('4')}>\r\n                <Text style={styles.buttonText}>4</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('5')}>\r\n                <Text style={styles.buttonText}>5</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('6')}>\r\n                <Text style={styles.buttonText}>6</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('7')}>\r\n                <Text style={styles.buttonText}>7</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('8')}>\r\n                <Text style={styles.buttonText}>8</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('9')}>\r\n                <Text style={styles.buttonText}>9</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.setState({ accessCode: '' })}>\r\n                <AntDesign name='close' color='white' size={24} />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('0')}>\r\n                <Text style={styles.buttonText}>0</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.doSubmitAccessCode()}>\r\n                <AntDesign name='enter' color='white' size={24} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').width / 16;\r\n\r\nconst styles = StyleSheet.create({\r\n  textInputContainer: {\r\n    width: '80%',\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n    height: 60,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n  },\r\n  textInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 20,\r\n    borderRadius: 100,\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    // height: keyHeight - 10,\r\n    // width: keyHeight - 10,\r\n    height: 48,\r\n    width: 48,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'black',\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, MaterialCommunityIcons, Feather, Ionicons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, Text, TextInput, Alert, FlatList, ScrollView, Platform } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport moment from 'moment';\r\n\r\nexport default class MainTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      preference: props.preference,\r\n      settings: props.masters.settings,\r\n      sections: props.masters.sections || [],\r\n      tablemas: props.masters.tablemas,\r\n      tables: [],\r\n      floorWidth: null,\r\n\r\n      selectedSection: null,\r\n      focused: null,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.doRefresh(true);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.refresh && prevProps.refresh !== this.props.refresh) {\r\n      console.log('componentDidUpdate', prevProps.refresh, this.props.refresh)\r\n      this.setState({\r\n        focused: null,\r\n      })\r\n      this.doRefresh();\r\n    }\r\n  }\r\n\r\n  async doRefresh(initial) {\r\n    const { sections, selectedSection } = this.state;\r\n    if (initial) {\r\n      if (sections.length > 0) {\r\n        await this.doPressFloor();\r\n      } else {\r\n        await this.doPressSection({ sectionId: 'SYS' });\r\n      }\r\n    } else {\r\n      if (selectedSection?.sectionId === 'FLOOR') {\r\n        await this.doPressFloor();\r\n      } else if (selectedSection) {\r\n        await this.doPressSection(selectedSection);\r\n      } else {\r\n        this.doRefresh(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  async doPressFloor() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('tableFlg', 'Y');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: 'FLOOR' },\r\n        });\r\n      })\r\n  }\r\n\r\n  async doPressSection(item) {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n\r\n    if (item?.sectionId === 'OCCUPIED') {\r\n      params.append('statusFlg', 'C');\r\n      params.append('tableFlg', 'Y');\r\n    } else if (item?.sectionId === 'RESERVED') {\r\n      params.append('statusFlg', 'B');\r\n    } else if (item?.sectionId === 'SYS') {\r\n      params.append('sectionId', item.sectionId)\r\n      params.append('statusFlg', 'C');\r\n    } else {\r\n      params.append('sectionId', item.sectionId)\r\n    }\r\n\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: item.sectionId },\r\n        });\r\n      })\r\n  }\r\n\r\n  doPressTable(item) {\r\n    const { focused, selectedSection } = this.state;\r\n    if (focused?.tableId === item.tableId) {\r\n      this.setState({\r\n        focused: null\r\n      })\r\n      this.doPressFocusedTable(item);\r\n      return;\r\n    }\r\n    if (item.sectionId !== 'SYS') {\r\n      this.doPressSection(selectedSection);\r\n      this.setState({\r\n        focused: item,\r\n      })\r\n    }\r\n    this.props.handlePressTable(item);\r\n  }\r\n\r\n  doPressFloorTable(item) {\r\n    const { tables, focused } = this.state;\r\n    if (focused?.tableId === item.tableId) {\r\n      this.setState({\r\n        focused: null\r\n      })\r\n      this.doPressFocusedTable(tables.find(el => el.tableId === item.tableId));\r\n      return;\r\n    }\r\n    this.doPressFloor()\r\n    this.setState({\r\n      focused: item\r\n    })\r\n    this.props.handlePressTable(tables.find(el => el.tableId === item.tableId));\r\n  }\r\n\r\n  doPressFocusedTable(item) {\r\n    if (item.statusFlg === 'A') {\r\n      this.props.handleActionTable(item, 'OPEN')\r\n    } else if (item.statusFlg === 'C') {\r\n      this.props.handleActionTable(item, 'EDIT')\r\n    }\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateFloorTableColor(item) {\r\n    const { tables } = this.state;\r\n    return this.doTranslateTableColor(tables.find(el => el.tableId === item.tableId))\r\n  }\r\n\r\n  doLayout(e) {\r\n    this.setState({\r\n      floorWidth: e.nativeEvent.layout.width / 16,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { preference, sections, settings, tables, selectedSection } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n          {\r\n            selectedSection?.sectionId === 'FLOOR' ?\r\n              this.renderFloor()\r\n              :\r\n              <FlatList\r\n                style={{ flex: 1, padding: 3 }}\r\n                showsVerticalScrollIndicator={false}\r\n                numColumns={preference.tcolsize}\r\n                horizontal={false}\r\n                data={selectedSection?.sectionId === 'SYS' ? [{ recKey: -999 }, ...tables] : tables}\r\n                keyExtractor={(item, index) => item.recKey.toString()}\r\n                renderItem={({ item, index }) => this.renderTable(item, index)}\r\n                initialNumToRender={25}\r\n              />\r\n          }\r\n        </View>\r\n        <View style={{ marginVertical: 5, width: 130, }}>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 80, borderRadius: 5, margin: 5 }}\r\n            onPress={() => this.doPressFloor()}>\r\n            <MaterialCommunityIcons name=\"mapbox\" size={30} color=\"white\" style={{ height: 28 }} />\r\n            <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('floorplan')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.paid, borderRadius: 5, margin: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'SYS' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text>\r\n            {/* <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text> */}\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.reserved, borderRadius: 5, margin: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'RESERVED' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('B')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.occupied, borderRadius: 5, margin: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'OCCUPIED' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('C')}</Text>\r\n          </TouchableOpacity>\r\n          {\r\n            sections &&\r\n            <ScrollView style={{ flex: 1, }}\r\n              showsVerticalScrollIndicator={false}>\r\n              {\r\n                sections.map((item, index) => (\r\n                  <TouchableOpacity key={index}\r\n                    style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: selectedSection?.sectionId === item.sectionId ? 'white' : theme.grey1, borderRadius: 5, margin: 5 }}\r\n                    onPress={() => this.doPressSection(item)}>\r\n                    <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: selectedSection?.sectionId === item.sectionId ? 'black' : 'white' }}>{item.name}</Text>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n          }\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n\r\n  renderTable(item, index) {\r\n    const { selectedSection, preference, focused } = this.state;\r\n    if (selectedSection?.sectionId === 'SYS' && index === 0) {\r\n      return (\r\n        <TouchableOpacity style={{ flex: 1 / preference.tcolsize, aspectRatio: 1, }}\r\n          onPress={() => this.props.handleActionTable(null, 'CREATE')}>\r\n          <View style={{ flex: 1, margin: 3, backgroundColor: theme.grey4, justifyContent: 'center', alignItems: 'center' }}>\r\n            <AntDesign name=\"pluscircleo\" size={36} color={theme.grey1} />\r\n          </View>\r\n        </TouchableOpacity>\r\n      )\r\n    }\r\n    return (\r\n      <TouchableOpacity style={{ flex: 1 / preference.tcolsize, aspectRatio: 1, }}\r\n        disabled={!item.tableId}\r\n        onPress={() => this.doPressTable(item)}>\r\n        <View style={{ flex: 1, margin: 3, backgroundColor: this.doTranslateTableColor(item), justifyContent: 'center', alignItems: 'center' }}>\r\n          {\r\n            item.seatTime &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', top: 5, left: 5, color: 'black', fontSize: theme.size * 4 }}>{moment(item.seatTime).format('HH:mm')}</Text>\r\n          }\r\n          {\r\n            (item.sectionId !== 'SYS' && item.pax > 0) &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', top: 5, right: 5, color: 'white', fontSize: theme.size * 4 }}>{item.pax} <Feather color='white' name='users' size={theme.size * 4} /></Text>\r\n          }\r\n          <Text style={{ fontFamily: 'varela-round', color: 'rgba(0,0,0,0.8)', fontSize: 22, letterSpacing: 1 }}>{item.tableId}</Text>\r\n          {\r\n            item.vipName &&\r\n            <Text style={[styles.tableLowerBand]}>{item.vipName}</Text>\r\n          }\r\n          {\r\n            item.grandTotal > 0 &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', bottom: 5, right: 5, color: 'black', fontSize: theme.size * 4 }}>${item.grandTotal}</Text>\r\n          }\r\n        </View>\r\n        {\r\n          focused?.tableId === item.tableId &&\r\n          <View style={{ position: 'absolute', top: 3, left: 3, right: 3, bottom: 3, backgroundColor: 'white', alignItems: 'center', justifyContent: 'center' }}>\r\n            {\r\n              (item.statusFlg === 'A' || item.statusFlg === 'C') &&\r\n              <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('press')}</Text>\r\n            }\r\n            <Text style={{ fontFamily: 'varela-round', color: 'rgba(0,0,0,0.8)', fontSize: 22, letterSpacing: 1 }}>{item.tableId}</Text>\r\n            {\r\n              item.statusFlg === 'A' ?\r\n                <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('open')}</Text>\r\n                : item.statusFlg === 'C' ?\r\n                  <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('edit')}</Text>\r\n                  : null\r\n            }\r\n          </View>\r\n        }\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  renderFloor() {\r\n    const { home, tablemas, tables, floorWidth, focused } = this.state;\r\n    return (\r\n      <ScrollView style={{ flex: 1 }}\r\n        showsVerticalScrollIndicator={false}>\r\n        <View style={{ flex: 1, aspectRatio: 1, backgroundColor: theme.grey1, overflow: 'hidden', borderRadius: 5 }}>\r\n          <View style={{ position: 'absolute', left: 0, right: 0, top: 0, bottom: 0 }}>\r\n            <View style={{ flex: 1, justifyContent: 'space-between' }}>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n            </View>\r\n          </View>\r\n          <View style={{ position: 'absolute', left: 0, right: 0, top: 0, bottom: 0 }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 3, }} onLayout={(e) => this.doLayout(e)}>\r\n            {\r\n              floorWidth && tablemas.map(item =>\r\n                <View key={item.recKey}\r\n                  style={{ position: 'absolute', left: item.xaxis * floorWidth, top: Number(item.yaxis * floorWidth), width: item.width * floorWidth, height: Number(item.height * floorWidth) }}>\r\n                  {\r\n                    item.shape === 'B' ?\r\n                      <TouchableOpacity style={{ flex: 1, alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? floorWidth * item.height : 0 }}\r\n                        onPress={() => this.doPressFloorTable(item)}>\r\n                        <View style={{ height: Math.sqrt(0.5) * (item.width * floorWidth - 6), width: Math.sqrt(0.5) * (item.width * floorWidth - 6), backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), transform: [{ rotateZ: '45deg' }], justifyContent: 'center', alignItems: 'center' }}>\r\n                          <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20, transform: [{ rotateZ: '-45deg' }] }}>{item.tableId}</Text>\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                      :\r\n                      <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? floorWidth * item.height : 0 }}\r\n                        onPress={() => this.doPressFloorTable(item)}>\r\n                        <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20 }}>{item.tableId}</Text>\r\n                      </TouchableOpacity>\r\n                  }\r\n                  {/* {\r\n                    // top and bottom chairs\r\n                    (item.width > item.height && item.shape === 'A') &&\r\n                    <>\r\n                      <View style={{ position: 'absolute', top: -3, left: 0, right: 0, height: 6, flexDirection: 'row', }}>\r\n                        {\r\n                          [...Array(item.width)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: theme.grey4, borderTopLeftRadius: 3, borderTopRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                      <View style={{ position: 'absolute', bottom: -3, left: 0, right: 0, height: 6, flexDirection: 'row', }}>\r\n                        {\r\n                          [...Array(item.width)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: theme.grey4, borderBottomLeftRadius: 3, borderBottomRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  } */}\r\n                  {/* {\r\n                    // left and right chairs\r\n                    (item.width < item.height && item.shape === 'A') &&\r\n                    <>\r\n                      <View style={{ position: 'absolute', left: -3, top: 0, bottom: 0, width: 6, }}>\r\n                        {\r\n                          [...Array(item.height)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: theme.grey4, borderTopLeftRadius: 3, borderBottomLeftRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                      <View style={{ position: 'absolute', right: -3, top: 0, bottom: 0, width: 6, }}>\r\n                        {\r\n                          [...Array(item.height)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: theme.grey4, borderTopRightRadius: 3, borderBottomRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  } */}\r\n                </View>\r\n              )\r\n            }\r\n          </View>\r\n\r\n\r\n        </View>\r\n        <View style={{ margin: 3, marginTop: -3, flexWrap: 'wrap', flexDirection: 'row' }}>\r\n          {\r\n            floorWidth && tables.filter(el => !tablemas.some(obj => obj.tableId === el.tableId)).map((item, index) =>\r\n              <View key={index} style={{ width: floorWidth * 4, aspectRatio: 4 }}>\r\n                <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.doPressFloorTable(item)}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20 }}>{item.tableId}</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  textInput: {\r\n    color: 'white',\r\n    height: 60,\r\n    borderRadius: 30,\r\n    width: '90%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 120,\r\n    textAlign: 'center',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n  },\r\n  onetwo: {\r\n    position: 'absolute', top: '0', left: '0', height: '12.5%', width: '12.5%',\r\n  },\r\n  tableLowerBand: {\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, ScrollView, FlatList, Platform, Keyboard } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text } from '../assets/utility';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class MainMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      serviceEntryObj: props.serviceEntryObj,\r\n      preference: props.preference,\r\n\r\n      settings: props.settings,\r\n      foldergrps: props.foldergrps,\r\n      folders: props.folders,\r\n      uniqueFolders: [...new Map(props.folders.map(v => [v.folderId, v])).values()],\r\n      menus: props.menus,\r\n      uniqueMenus: [...new Map(props.menus.map(v => [v.menuId, v])).values()],\r\n      modBundles: props.modBundles,\r\n\r\n      displayMode: '',\r\n      displays: [],\r\n      limiteds: [],\r\n\r\n      searchText: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount mainmenu')\r\n    const { foldergrps, folders, menus } = this.state;\r\n\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    if (folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: foldergrps[0],\r\n      displays,\r\n      displayMode,\r\n    }, () => this.doGet());\r\n  }\r\n\r\n  doGet() {\r\n    // real time fast changing data\r\n    const { serviceEntry, home, selectedFoldergrp } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    selectedFoldergrp && params.append('foldergrpId', selectedFoldergrp.foldergrpId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doPressFoldergrp(item) {\r\n    const { folders, menus, } = this.state;\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    if (folders.filter(el => el.foldergrpId === item.foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === item.foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === item.foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: item,\r\n      displays,\r\n      displayMode,\r\n      searchText: '',\r\n    }, () => this.doGet());\r\n  }\r\n\r\n  doPressFolder(item) {\r\n    const { menus } = this.state;\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId),\r\n    })\r\n  }\r\n\r\n  doPressMenu(item, quick) {\r\n    this.props.handlePressMenu(item, quick);\r\n  }\r\n\r\n  doSearchText(text) {\r\n    const { menus, foldergrps } = this.state;\r\n    this.setState({ searchText: text });\r\n    if (!text) {\r\n      this.setState({\r\n        displayMode: 'MENU',\r\n        displays: '',\r\n      })\r\n      return;\r\n    }\r\n\r\n    let caseText = text.toUpperCase();\r\n    let displaysUpdate = menus.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: displaysUpdate,\r\n      selectedFoldergrp: null,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { preference, settings, displayMode, displays, foldergrps, folders, uniqueFolders, uniqueMenus, menus, modBundles,\r\n      searchText,\r\n      selectedFoldergrp } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1 }}>\r\n          <View style={{ marginHorizontal: 10, marginTop: -5, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontSize: 10, color: theme.white8 }}><Text style={{ fontSize: 10, color: theme.paid }}>{uniqueMenus.length}</Text> MENU <Text style={{ fontSize: 10, color: theme.reserved }}>{uniqueFolders.length}</Text> FOLDER <Text style={{ fontSize: 10, color: theme.reserved }}>{foldergrps.length}</Text> FOLDERGRP <Text style={{ fontSize: 10, color: theme.vacant }}>{modBundles.length}</Text> MODIFIER</Text>\r\n          </View>\r\n          <View style={styles.searchBox}>\r\n            <TextInput style={styles.searchBoxInputValue}\r\n              placeholder={`${intl.get('enter')?.toUpperCase()} ${intl.get('search')?.toUpperCase()} ${intl.get('text')?.toUpperCase()}`}\r\n              placeholderTextColor='rgba(255,255,255,0.2)'\r\n              value={searchText}\r\n              onFocus={() => this.setState({ selectedFoldergrp: null }, () => this.doGet())}\r\n              onChangeText={(text) => this.doSearchText(text)} />\r\n            <TouchableOpacity style={styles.searchBoxButton}\r\n              onPress={() => {\r\n                this.doPressFoldergrp(foldergrps[0]);\r\n                Keyboard.dismiss();\r\n              }}>\r\n              <AntDesign name='close' size={24} color={theme.grey4} />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n            {\r\n              displayMode === 'MENU' ?\r\n                (\r\n                  settings.find(el => el.setId === 'POSMODE')?.setString === 'A' ?\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.mcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenu(item)}\r\n                    />\r\n                    :\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.pcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenuB(item)}\r\n                    />\r\n                )\r\n                :\r\n                <FlatList\r\n                  key={'FOLDER' + selectedFoldergrp?.foldergrpId}\r\n                  style={{ flex: 1, padding: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  numColumns={preference.mcolsize}\r\n                  horizontal={false}\r\n                  data={displays}\r\n                  keyExtractor={(item, index) => item.recKey.toString()}\r\n                  renderItem={({ item }) => this.renderFolder(item)}\r\n                />\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={{ marginVertical: 5, width: 130, }}>\r\n          <View style={{ height: 90 }}>\r\n            <ScrollView\r\n              horizontal={true}\r\n              pagingEnabled={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                Platform.OS !== 'web' &&\r\n                <TouchableOpacity\r\n                  style={{ alignItems: 'center', justifyContent: 'center', height: 80, width: 120, margin: 5 }}\r\n                  onPress={() => this.props.handlePressScan(true)}>\r\n                  <MaterialCommunityIcons name=\"camera-iris\" size={30} color=\"white\" style={{ height: 28 }} />\r\n                  <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('scan')}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n              <TouchableOpacity\r\n                style={{ alignItems: 'center', justifyContent: 'center', height: 80, width: 120, margin: 5 }}\r\n                onPress={() => this.props.handlePressScan()}>\r\n                <MaterialCommunityIcons name=\"movie-filter\" size={28} color=\"white\" style={{ height: 28 }} />\r\n                <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('barcode')}</Text>\r\n              </TouchableOpacity>\r\n            </ScrollView>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              foldergrps.map((item, index) => (\r\n                <TouchableOpacity key={index}\r\n                  style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'white' : theme.grey1, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doPressFoldergrp(item)}>\r\n                  {\r\n                    (moment(item.startTime, 'HH:mm:ss').format('HH:mm') !== '00:00' || moment(item.endTime, 'HH:mm:ss').format('HH:mm') !== '23:59') &&\r\n                    <Text style={{ fontSize: 12, textAlign: 'center', color: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'black' : theme.reserved }}>{moment(item.startTime, 'HH:mm:ss').format('HH:mm')}~{moment(item.endTime, 'HH:mm:ss').format('HH:mm')}</Text>\r\n                  }\r\n                  <Text style={{ textAlign: 'center', color: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'black' : 'white' }}>{item.name}</Text>\r\n                </TouchableOpacity>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderFolder(item) {\r\n    const { preference, menus } = this.state;\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <TouchableOpacity\r\n          style={{ margin: 2.5, height: 90, backgroundColor: 'black', alignItems: 'center', justifyContent: 'center' }}\r\n          onPress={() => this.doPressFolder(item)}>\r\n          <Text style={{ color: theme.paid, fontSize: 12 }}>{item.folderId}</Text>\r\n          <Text style={{ color: 'white', paddingHorizontal: 10, textAlign: 'center', fontSize: 16 }}>{item.name}</Text>\r\n          <Text style={{ color: theme.vacant }}>{menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId).length}</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenu(item) {\r\n    const { preference, limiteds, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <View style={[{ margin: 2.5, flexDirection: 'row', height: 90, backgroundColor: theme.grey4, }, found?.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n          {\r\n            preference.mquick === 'Y' &&\r\n            <TouchableOpacity\r\n              style={{ width: 50, backgroundColor: theme.grey3, justifyContent: 'center', alignItems: 'center' }}\r\n              disabled={found?.statusFlg === 'B'}\r\n              onPress={() => this.doPressMenu(item, true)}>\r\n              <AntDesign name=\"check\" size={18} color={theme.grey1} />\r\n              {/* {\r\n                serviceEntry === 'https://www.epbrowser.com:8090/fnb-ws/' &&\r\n                <Image\r\n                  style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0 }}\r\n                  source={{\r\n                    uri: 'http://203.208.248.200:9090/image-proxy-epbsg/ASP/EPBSG/NORMAL/Shell/picture/' + item.stkId + '.jpg'\r\n                    // uri: imageEntry + item.menuId + '.jpg'\r\n                  }}\r\n                />\r\n              } */}\r\n            </TouchableOpacity>\r\n          }\r\n          <TouchableOpacity\r\n            style={{ flex: 1 }}\r\n            disabled={found?.statusFlg === 'B'}\r\n            onPress={() => this.doPressMenu(item)}>\r\n            <View style={{ flex: 1, padding: 10 }}>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: 'white', fontSize: 12, }}></Text>\r\n                <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n              </View>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{(found && found?.serveLimit !== 0) ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                <Text style={{ color: theme.paid, fontSize: 12, }}>{item.menuId}</Text>\r\n              </View>\r\n            </View>\r\n          </TouchableOpacity>\r\n          {\r\n            searchText.length > 0 &&\r\n            <Text style={{ position: 'absolute', top: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n          }\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenuB(item) {\r\n    const { preference, limiteds, serviceEntryObj, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / (preference.pcolsize) }}>\r\n        <TouchableOpacity style={{ margin: 2.5, }}\r\n          disabled={found?.statusFlg === 'B'}\r\n          onPress={() => this.doPressMenu(item)}>\r\n          <View style={{ backgroundColor: theme.grey3 }}>\r\n            <Image\r\n              style={{ aspectRatio: 1 }}\r\n              source={{\r\n                uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.urlAddr + '&t=' + item.lastupdate\r\n              }}\r\n            />\r\n            {\r\n              searchText.length > 0 &&\r\n              <Text style={{ position: 'absolute', bottom: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n            }\r\n          </View>\r\n          <View style={[{ flexDirection: 'row', height: 70, backgroundColor: theme.grey4, }, found?.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n            <View\r\n              style={{ flex: 1 }}>\r\n              <View style={{ flex: 1, padding: 10 }}>\r\n                <View style={{ flex: 1 }}>\r\n                  <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n                </View>\r\n                <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                  <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{(found && found?.serveLimit !== 0) ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                  <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  searchBox: {\r\n    margin: 10,\r\n    // marginTop: 25,\r\n    marginBottom: 5,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n    borderRadius: 100,\r\n  },\r\n  searchBoxButton: {\r\n    position: 'absolute',\r\n    right: 0,\r\n    top: 0,\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAutoLogout extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      timer: 5,\r\n    };\r\n    this.countdown = () => { };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let initialTimer = 5;\r\n    this.countdown = setInterval(() => {\r\n      initialTimer -= 1;\r\n      this.setState({\r\n        timer: initialTimer,\r\n      });\r\n      if (initialTimer === 0) {\r\n        clearInterval(this.countdown);\r\n        this.props.handleUpdateFromAutoLogout(initialTimer);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.countdown);\r\n  }\r\n\r\n  render() {\r\n    const { timer } = this.state;\r\n    console.log('in overlayautologout', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Auto Logout</Text>\r\n            <Text style={styles.overlayText}>{timer}</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromAutoLogout('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, TextInput,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayDeposit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      homeDelivery: props.selectedTable.homeDelivery === 'Y' ? 'Y' : 'N',\r\n      vipName: props.selectedTable.vipName || '',\r\n      vipPhone: props.selectedTable.vipPhone || '',\r\n      dlyDate: props.selectedTable.dlyDate ? moment(props.selectedTable.dlyDate).format('YYYY-MM-DD') : '',\r\n      dpostalcode: props.selectedTable.dpostalcode || '',\r\n      daddress1: props.selectedTable.daddress1 || '',\r\n      daddress2: props.selectedTable.daddress2 || '',\r\n    }\r\n  }\r\n\r\n  doPressDelivery(type) {\r\n    this.setState({ homeDelivery: type })\r\n  }\r\n\r\n  doChangePostal(text) {\r\n    this.setState({ dpostalcode: text })\r\n    if (text.length === 6) {\r\n      const { serviceEntry } = this.state;\r\n      let url = serviceEntry + 'api/epbsggeo';\r\n      const params = new URLSearchParams();\r\n      params.append('postal', text);\r\n      url += ('?' + params);\r\n      fetch(url, {\r\n        method: 'GET'\r\n      })\r\n        .then(response => {\r\n          if (response.ok) return response.json();\r\n        })\r\n        .then(response => {\r\n          if (response?.address) {\r\n            this.setState({\r\n              daddress1: response.address || '',\r\n            });\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    this.props.handleUpdateFromDeposit('G', vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2)\r\n  }\r\n\r\n  render() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    console.log('in overlayDeposit', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Deposit Info</Text>\r\n            <View style={{ flexDirection: 'row', marginTop: 20 }}>\r\n              <View style={{ flex: 1, alignItems: 'flex-end', }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'Y' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('N')}>\r\n                  <Text style={{ color: homeDelivery === 'Y' ? 'white' : 'black', fontFamily: 'varela-round' }}>Self Collect</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1, }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'N' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('Y')}>\r\n                  <Text style={{ color: homeDelivery === 'N' ? 'white' : 'black', fontFamily: 'varela-round' }}>Delivery</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n            <View style={styles.vipInputsContainer}>\r\n              <View style={styles.vipInputsRow}>\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='NAME'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipName: text })}\r\n                  value={vipName}\r\n                />\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='PHONE'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  keyboardType='numeric'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipPhone: text })}\r\n                  value={vipPhone}\r\n                />\r\n              </View>\r\n              {\r\n                homeDelivery === 'Y' ?\r\n                  <>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='POSTAL'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.doChangePostal(text)}\r\n                        value={dpostalcode}\r\n                      />\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='DLY DATE'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                        onChangeText={text => this.setState({ dlyDate: text })}\r\n                        value={dlyDate}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 1'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress1: text })}\r\n                        value={daddress1}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 2'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress2: text })}\r\n                        value={daddress2}\r\n                      />\r\n                    </View>\r\n                  </>\r\n                  :\r\n                  <View style={[styles.vipInputsRow, { justifyContent: 'flex-end' }]}>\r\n                    <TextInput style={styles.vipInput}\r\n                      placeholder='DLY DATE'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      textContentType='none'\r\n                      autoComplete='off'\r\n                      autoCorrect={false}\r\n                      onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                      onChangeText={text => this.setState({ dlyDate: text })}\r\n                      value={dlyDate}\r\n                    />\r\n                  </View>\r\n              }\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.grey4 }]}\r\n            onPress={() => this.doSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromDeposit('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    height: '90%',\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginBottom: 20,\r\n    marginHorizontal: 5,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayScanBarcode extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromScanBarcode(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayscanbarcode');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Scan Barcode</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='ENTER BARCODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromScanBarcode('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayRequestAccess extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromRequestAccess(overlayText);\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { overlayText } = this.state;\r\n    let overlayTextUpdate = overlayText;\r\n    if (item === 'CLEAR') {\r\n      this.setState({ overlayText: '' });\r\n    } else if (item === 'ENTER') {\r\n      this.handleSubmit(overlayText);\r\n    } else {\r\n      this.setState({ overlayText: overlayTextUpdate + item })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { home, requestedPrivilege } = this.props;\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayrequestaccess');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Request Access</Text>\r\n            <Text style={styles.overlayText}>Grant temporary {requestedPrivilege} privilege to {home.userId}?</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                secureTextEntry={true}\r\n                autoFocus={true}\r\n                placeholder='ENTER ACCESS CODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ width: 135, marginBottom: 20, alignSelf: 'center' }}\r\n            data={['1', '2', '3', '4', '5', '6', '7', '8', '9', 'CLEAR', '0', 'ENTER']}\r\n            scrollEnabled={false}\r\n            showsVerticalScrollIndicator={false}\r\n            numColumns={3}\r\n            keyExtractor={(item, index) => index.toString()}\r\n            renderItem={({ item }) => (\r\n              <View style={{ flex: 1 / 3, aspectRatio: 1 }}>\r\n                <TouchableOpacity style={{ margin: 2.5, flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: 'black', borderRadius: 5, }}\r\n                  onPress={() => this.doPressKey(item)}>\r\n                  {\r\n                    item === 'CLEAR' ?\r\n                      <AntDesign name='close' color='white' size={18} />\r\n                      : item === 'ENTER' ?\r\n                        <AntDesign name='enter' color='white' size={18} />\r\n                        :\r\n                        <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 18, }}>{item}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n          {/* <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity> */}\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromRequestAccess('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 2,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChangePrice extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n      selectedTableItem: props.selectedTableItem,\r\n\r\n      availableDiscounts: props.discounts,\r\n      overlaySearchText: '',\r\n      overlayText: '',\r\n      discountSelected: false,\r\n      selectedDiscount: '',\r\n      validatePass: true,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleValidate(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleValidate(superUserId) {\r\n    const { home, privileges, overlayText, selectedDiscount, selectedTableItem } = this.state;\r\n    if (!overlayText) {\r\n      this.setState({\r\n        validatePass: false,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'CHANGEPRICE') || selectedTableItem.listPrice === 0) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'CHANGEPRICE',\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromChangePrice(overlayText, selectedDiscount || '-', superUserId);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, overlayText, discountSelected, availableDiscounts, discounts,\r\n      selectedDiscount, validatePass, overlayProcedureMessageVisible,\r\n      overlayRequestAccessVisible, requestedPrivilege } = this.state;\r\n    console.log('in overlaychangeprice, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Price</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={[styles.overlaySearchBoxInput, validatePass ? null : { color: theme.paid }]}\r\n                placeholder='ENTER PRICE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text, validatePass: true })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          {\r\n            discountSelected ?\r\n              <View style={{ flex: 1 }}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <TouchableOpacity style={styles.overlaySearchBox}\r\n                    onPress={() => this.setState({\r\n                      overlaySearchText: '',\r\n                      selectedDiscount: '',\r\n                      discountSelected: false,\r\n                    })}>\r\n                    <Text style={styles.selectText}>{selectedDiscount.discId}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={{ paddingBottom: 5 }}></View>\r\n              </View>\r\n              :\r\n              <View style={styles.selectWrapper}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                    <TextInput style={styles.overlaySearchBoxInput}\r\n                      placeholder='ENTER SEARCH TEXT'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                      value={overlaySearchText}\r\n                    />\r\n                    <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                      onPress={() => {\r\n                        this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                        Keyboard.dismiss()\r\n                      }}>\r\n                      <AntDesign name='close' size={24} color={theme.grey4} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={[{ flex: 1 }]}\r\n                  data={availableDiscounts}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                      onPress={() => this.setState({\r\n                        discountSelected: true,\r\n                        selectedDiscount: item,\r\n                        validatePass: true,\r\n                      })}>\r\n                      <View style={styles.overlayGridFirst}>\r\n                        <View style={styles.overlayGridFirstLeft}>\r\n                          <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                        </View>\r\n                        <View style={styles.overlayGridFirstRight}>\r\n                          <Text style={styles.overlayGridFirstRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.overlayGridSecond}>\r\n                        <Text style={styles.overlayGridSecondText}>\r\n                          {item.discName}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.overlayGridThird}>\r\n                        <View style={styles.overlayGridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.overlayGridThirdRight}>\r\n                          <Text style={styles.overlayGridThirdRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n          }\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleValidate()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromChangePrice('', '')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayLineDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      discounts: props.discounts,\r\n      privileges: props.privileges,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'LINEDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access LINEDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'LINEDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromLineDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlaylinediscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='LINEDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Line Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromLineDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayHeaderDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'HEADERDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access HEADERDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'HEADERDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromHeaderDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlayheaderdiscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='HEADERDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Header Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromHeaderDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayMergeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      mergeTables: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTable = this.handleSelectTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.sectionId !== 'SYS'),\r\n          availableTables: response.filter(el => el.sectionId !== 'SYS'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTable(item) {\r\n    const { mergeTables } = this.state;\r\n    let mergeTablesUpdate = mergeTables;\r\n    if (!mergeTables.some(el => el.tableId === item.tableId)) {\r\n      mergeTablesUpdate.push(item);\r\n    } else {\r\n      mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    }\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { mergeTables } = this.state;\r\n    const mergeTablesUpdate = mergeTables;\r\n    mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTables, tables, mergeTables } = this.state;\r\n    console.log('in overlaymergetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {mergeTables.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTable(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.tableId}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeTable([])}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.vacant }]}\r\n            onPress={() => this.props.handleUpdateFromMergeTable(mergeTables)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n      tableItems: props.tableItems,\r\n\r\n      overlaySearchText: '',\r\n      availableTableItems: props.tableItems.filter(el => !el.refRecKey),\r\n      selectedTableItems: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tableItems } = this.state;\r\n    let availableTableItemsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTableItems);\r\n\r\n    availableTableItemsUpdate = tableItems.filter(el => !el.refRecKey);\r\n    if (!text) {\r\n      this.setState({\r\n        availableTableItems: availableTableItemsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTableItemsUpdate = availableTableItemsUpdate.filter(item => {\r\n      return item.menuId.toUpperCase().includes(caseText) || item.menuName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTableItems: availableTableItemsUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    const { selectedTableItems } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItemsUpdate.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { selectedTableItems } = this.state;\r\n    const selectedTableItemsUpdate = selectedTableItems;\r\n    selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTableItems, selectedTableItems } = this.state;\r\n    console.log('in overlaysplittable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {selectedTableItems.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTableItem(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.lineNo}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromSplitTable('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTableItems.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTableItems}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTableItem(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.menuId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>{item.lineNo}</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.menuName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitTable(selectedTableItems)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nexport default class OverlayChangeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.sectionId !== 'SYS'),\r\n          availableTables: response.filter(el => el.sectionId !== 'SYS'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableTables, tables, selectedTable } = this.state;\r\n    console.log('in overlaychangetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Table</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChangeTable('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.props.handleUpdateFromChangeTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayReviseItem extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, selectedTableItem, tableItems } = this.props;\r\n    console.log('in overlayreviseitem', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reviseitem')}</Text>\r\n            <Text style={styles.overlayText}>{selectedTableItem.menuName.toUpperCase()}</Text>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('voidItem')}>\r\n              <AntDesign\r\n                name='close'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('remove')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('duplicateItem')}>\r\n              <AntDesign\r\n                name='copy1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('duplicate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.confirmFlg === 'Y' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.confirmFlg === 'Y'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineBreak')}>\r\n              <AntDesign\r\n                name='minus'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linebreak')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('editItem')}>\r\n              <AntDesign\r\n                name='edit'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, !(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X') && { opacity: 0.2 }]}\r\n              disabled={!(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X')}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('revertItem')}>\r\n              <AntDesign\r\n                name='man'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('revert')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0) && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('changePrice')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('changeprice')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.discFlg === 'N' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineDiscount')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linedisc')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromReviseItem('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayTableActions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, tableItems } = this.props;\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('table')} {intl.get('action')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('openTable')}>\r\n              <AntDesign name='appstore-o' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('editTable')}>\r\n              <AntDesign name='edit' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('reserveTable')}>\r\n              <AntDesign name='calendar' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('reserve')}</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              (selectedTable?.sectionId !== 'SYS' && selectedTable?.statusFlg === 'A') ?\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg !== 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('disableTable')}>\r\n                  <MaterialCommunityIcons name='cancel' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('disable')}</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg === 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg === 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('resetTable')}>\r\n                  <AntDesign name='reload1' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('mergeTable')}>\r\n              <AntDesign name='menufold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('mergetable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('splitTable')}>\r\n              <AntDesign name='menuunfold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('splittable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('changeTable')}>\r\n              <AntDesign name='swap' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('changetable')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewResequence')}>\r\n              <AntDesign name='bars' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('resequence')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewTransfer')}>\r\n              <AntDesign name='export' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('transferitems')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('headerDiscount')}>\r\n              <AntDesign name='exception1' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('headerdisc')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('printBill')}>\r\n              <AntDesign name='book' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('printbill')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromTableActions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAdditionalFunctions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('additionalfunctions')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReprint')}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewVoid')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('voidreceipts')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewCollect')}>\r\n              <AntDesign\r\n                name='gift'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('collection')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('openDrawer')}>\r\n              <AntDesign\r\n                name='laptop'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('opendrawer')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('logOut')}>\r\n              <AntDesign\r\n                name='doubleleft'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('logout')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewTrace')}>\r\n              <AntDesign\r\n                name='eyeo'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewPrinters')}>\r\n              <AntDesign\r\n                name='fork'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('testprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('syncMasters')}>\r\n              <AntDesign\r\n                name='retweet'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('syncmasters')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewActivate')}>\r\n              <AntDesign\r\n                name='bulb1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('activate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewLimit')}>\r\n              <AntDesign\r\n                name='staro'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('limited')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewDayclose')}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('dayend')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReports')}>\r\n              <AntDesign\r\n                name='solution1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reports')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromAdditionalFunctions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChoosePrinter extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      printers: props.cashierPrinters,\r\n      availablePrinters: props.cashierPrinters,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { printers, availablePrinters } = this.state;\r\n    let availablePrintersUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availablePrinters);\r\n\r\n    availablePrintersUpdate = printers;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePrinters: availablePrintersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePrintersUpdate = availablePrintersUpdate.filter(item => {\r\n      return item.iomodelId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePrinters: availablePrintersUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { printPurpose } = this.props;\r\n    const { overlaySearchText, availablePrinters, printers } = this.state;\r\n    console.log('in overlaychooseprinter, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{printPurpose}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('choose')} {intl.get('printer')}</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChoosePrinter('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availablePrinters.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            // numColumns={3}\r\n            data={availablePrinters}\r\n            keyExtractor={(item, index) => index}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.props.handleUpdateFromChoosePrinter(item, printPurpose)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.iomodelId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, StatusBar, ScrollView, TouchableOpacity, Text, Alert, Platform, Dimensions } from 'react-native';\r\nimport { AntDesign, Ionicons, Entypo, MaterialCommunityIcons, Fontisto, FontAwesome, MaterialIcons } from '@expo/vector-icons';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport { debug } from '../assets/utility';\r\nimport io from 'socket.io-client';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport Constants from 'expo-constants';\r\nimport theme from '../assets/theme';\r\nimport MainTable from './MainTable';\r\nimport MainMenu from './MainMenu';\r\n\r\nimport OverlayAutoLogout from './OverlayAutoLogout';\r\nimport OverlayDeposit from './OverlayDeposit';\r\nimport OverlayScanBarcode from './OverlayScanBarcode';\r\nimport OverlayChangePrice from './OverlayChangePrice';\r\nimport OverlayLineDiscount from './OverlayLineDiscount';\r\nimport OverlayHeaderDiscount from './OverlayHeaderDiscount';\r\nimport OverlayMergeTable from './OverlayMergeTable';\r\nimport OverlaySplitTable from './OverlaySplitTable';\r\nimport OverlayChangeTable from './OverlayChangeTable';\r\nimport OverlayReviseItem from './OverlayReviseItem';\r\nimport OverlayTableActions from './OverlayTableActions';\r\nimport OverlayAdditionalFunctions from './OverlayAdditionalFunctions';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nconst Tab = createBottomTabNavigator();\r\n\r\nexport default class Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedTable: null,\r\n      selectedTableItem: null,\r\n      tableItems: [],\r\n      printPurpose: '',\r\n      requestedPrivilege: '',\r\n\r\n      screen: 'TABLE',\r\n      refresh: null,\r\n    };\r\n\r\n    this.handlePressTable = this.handlePressTable.bind(this);\r\n    this.handleActionTable = this.handleActionTable.bind(this);\r\n    this.handlePressMenu = this.handlePressMenu.bind(this);\r\n    this.handlePressScan = this.handlePressScan.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromAutoLogout = this.handleUpdateFromAutoLogout.bind(this);\r\n    this.handleUpdateFromDeposit = this.handleUpdateFromDeposit.bind(this);\r\n    this.handleUpdateFromScanBarcode = this.handleUpdateFromScanBarcode.bind(this);\r\n    this.handleUpdateFromReviseItem = this.handleUpdateFromReviseItem.bind(this);\r\n    this.handleUpdateFromTableActions = this.handleUpdateFromTableActions.bind(this);\r\n    this.handleUpdateFromAdditionalFunctions = this.handleUpdateFromAdditionalFunctions.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromHeaderDiscount = this.handleUpdateFromHeaderDiscount.bind(this);\r\n    this.handleUpdateFromLineDiscount = this.handleUpdateFromLineDiscount.bind(this);\r\n    this.handleUpdateFromChangePrice = this.handleUpdateFromChangePrice.bind(this);\r\n    this.handleUpdateFromMergeTable = this.handleUpdateFromMergeTable.bind(this);\r\n    this.handleUpdateFromSplitTable = this.handleUpdateFromSplitTable.bind(this);\r\n    this.handleUpdateFromChangeTable = this.handleUpdateFromChangeTable.bind(this);\r\n\r\n    this.handleUpdateFromVoid = this.handleUpdateFromVoid.bind(this);\r\n    this.handleUpdateFromTable = this.handleUpdateFromTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntryObj, preference, home, selectedTable, tableItems } = this.state;\r\n\r\n    if (preference?.usecondary) {\r\n      global.socket = io(\r\n        serviceEntryObj.restServiceUrl.substring(0, serviceEntryObj.restServiceUrl.lastIndexOf(\"/gateway\")) + '/socket.io',\r\n        {\r\n          query: {\r\n            userId: home.userId,\r\n            serviceId: serviceEntryObj.epbId,\r\n          }\r\n        },\r\n      );\r\n    }\r\n\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    this.doChooseDefaultPrinter();\r\n    // temp\r\n    // this.handlePressTable({ recKey: 381386 })\r\n  }\r\n\r\n  didFocus() {\r\n    const { selectedTable } = this.state;\r\n    if (selectedTable) {\r\n      this.handlePressTable(selectedTable);\r\n    }\r\n    this.setState({\r\n      refresh: moment().format('HH:mm:ss'),\r\n    })\r\n    console.log('focused')\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n\r\n    if (global.socket) {\r\n      global.socket.close();\r\n    }\r\n  }\r\n\r\n  doChooseDefaultPrinter() {\r\n    const { home, masters } = this.state;\r\n    if (Platform.OS === 'web' && masters.cashierPrinters.length > 1) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'DEFAULT PRINTER',\r\n      });\r\n    } else if (masters.cashierPrinters.length === 1) {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = masters.cashierPrinters?.[0];\r\n      this.setState({\r\n        home: homeUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  async handlePressTable(item) {\r\n    if (!item?.recKey) return;\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, preference } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + item.recKey;\r\n    return fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // hide paid or reset split tables\r\n        // if (response.opentable.splitTableFlg === 'Y' && (response.opentable.statusFlg === 'A')) {\r\n        //   this.doClearTable()\r\n        //   return;\r\n        // }\r\n        // hide paid or reset takeaway tables\r\n        if (response.opentable.sectionId === 'SYS' && (response.opentable.statusFlg === 'A' || response.opentable.statusFlg === 'D')) {\r\n          this.doClearTable();\r\n          this.doToggleScreen('MENU');\r\n          return;\r\n        }\r\n        // faster navigation for takeaway tables\r\n        if (response.opentable.sectionId === 'SYS') {\r\n          this.doToggleScreen('TABLE');\r\n        }\r\n        // emit to secondary display\r\n        if (global.socket) {\r\n          global.socket.emit('participate-room', {\r\n            home: this.state.home,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            users: preference.usecondary.split(','),\r\n          })\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  handleActionTable(item, action) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (action === 'CREATE') {\r\n      this.doCreateTable();\r\n    } else if (action === 'OPEN') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (action === 'EDIT') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    }\r\n  }\r\n\r\n  handlePressMenu(item, quick) {\r\n    const { navigation } = this.props;\r\n    const { home, preference, serviceEntry, settings, masters, selectedTable } = this.state;\r\n    const settingPOSMODE = settings.find(el => el.setId === 'POSMODE')?.setString;\r\n    console.log(item)\r\n    // no opentable, bistro mode\r\n    if (!selectedTable && settingPOSMODE === 'A') {\r\n      if (item.menuType === 'O') {\r\n        navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      } else {\r\n        navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      }\r\n      return;\r\n    }\r\n    // no opentable, pos mode\r\n    if (!selectedTable && settingPOSMODE === 'B') {\r\n      this.doCreateTableForPos(item);\r\n      return;\r\n    }\r\n    // combo\r\n    if (item.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // compulsory modifier\r\n    if (masters.modBundles.some(el => el.modmas.mustFlg === 'Y' && el.modmas.globalFlg === 'Y') || masters.mods.some(el => el.menuId === item.menuId && (masters.modBundles.find(obj => obj.modmas.modId === el.modId)?.modmas.mustFlg === 'Y'))) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // normal\r\n    if (!quick) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n    } else {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: item.recKey,\r\n        restmenuMod: item.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((selectedTable.sectionId === 'SYS' && settingPOSMODE === 'A') ? `*${intl.get('takeaway')}  ` : ''),\r\n        orderQty: '1',\r\n        orderType: item.serviceFlg === 'N' ? 'B' : (selectedTable.sectionId === 'SYS' ? 'B' : 'A'),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              item.menuName,\r\n              '1',\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          this.handlePressTable(selectedTable);\r\n        })\r\n    }\r\n  }\r\n\r\n  handlePressScan(camera) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, selectedTable } = this.state;\r\n    if (!selectedTable) return;\r\n    if (camera) {\r\n      if (Platform.OS !== 'web') {\r\n        navigation.navigate('Scan', { home, serviceEntry, masters, selectedTable })\r\n      }\r\n    } else {\r\n      this.setState({\r\n        overlayScanBarcodeVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  doClearTable() {\r\n    // emit to secondary display\r\n    if (global.socket) {\r\n      global.socket.emit('participate-room', {\r\n        home: this.state.home,\r\n        selectedTable: null,\r\n        tableItems: [],\r\n        users: this.state.preference.usecondary.split(','),\r\n      })\r\n    }\r\n    this.setState({\r\n      selectedTable: null,\r\n      tableItems: [],\r\n    });\r\n  }\r\n\r\n  doCreateTable(item) {\r\n    const { navigation } = this.props;\r\n    const { preference, serviceEntry, home, settings, } = this.state;\r\n    let url = serviceEntry + 'api/insert-opentable';\r\n    const body = {\r\n      userId: home.userId,\r\n      orderType: 'B',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Create Table',\r\n            home.userName,\r\n            response.message,\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('MainMenu')\r\n        // emit to secondary display\r\n        if (global.socket) {\r\n          global.socket.emit('participate-room', {\r\n            home: this.state.home,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            users: preference.usecondary.split(','),\r\n          })\r\n        }\r\n        this.setState({\r\n          screen: 'MENU',\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          refresh: moment().format('HH:mm:ss'),\r\n        }, () => {\r\n          if (item) this.handlePressMenu(item, true);\r\n        });\r\n      })\r\n  }\r\n\r\n  doCreateTableForPos(item) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, preference, masters, selectedTable, settings, } = this.state;\r\n    let url = serviceEntry + 'api/insert-opentable';\r\n    const body = {\r\n      userId: home.userId,\r\n      orderType: 'B',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Create Table',\r\n            home.userName,\r\n            response.message,\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('MainMenu')\r\n        // emit to secondary display\r\n        if (global.socket) {\r\n          global.socket.emit('participate-room', {\r\n            home: this.state.home,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            users: preference.usecondary.split(','),\r\n          })\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          refresh: moment().format('HH:mm:ss'),\r\n        }, () => {\r\n          if (item.menuType === 'O') {\r\n            navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable: response.opentable, selectedMenu: item });\r\n          } else {\r\n            navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable: response.opentable, selectedMenu: item });\r\n          }\r\n        });\r\n      })\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateTableStatus(item) {\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.transType === 'A') {\r\n        return intl.get('sales');\r\n      } else if (item.transType === 'G') {\r\n        if (item.homeDelivery === 'Y') {\r\n          return intl.get('deposit') + 'DLY';\r\n        } else {\r\n          return intl.get('deposit');\r\n        }\r\n      }\r\n    } else {\r\n      return intl.get(`${item.statusFlg}`).d('Unknown');\r\n    }\r\n  }\r\n\r\n  doTranslateTableItemColor(item) {\r\n    if (item.fireFlg === 'Y') {\r\n      return theme.reserved;\r\n    }\r\n    if (item.confirmFlg === 'Y') {\r\n      return theme.occupied;\r\n    }\r\n    return theme.vacant;\r\n  }\r\n\r\n  doToggleScreen(item) {\r\n    const { navigation } = this.props;\r\n    const { settings } = this.state;\r\n    if (item === 'MENU' && settings.find(el => el.setId === 'POSMODE')?.setString === 'A') {\r\n      this.setState({\r\n        screen: 'TABLE',\r\n        refresh: moment().format('HH:mm:ss'),\r\n      })\r\n      navigation.navigate('MainTable')\r\n    } else {\r\n      this.setState({ screen: 'MENU' })\r\n      navigation.navigate('MainMenu')\r\n    }\r\n  }\r\n\r\n  doPressItem(item) {\r\n    this.setState({\r\n      selectedTableItem: item,\r\n      overlayReviseItemVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartDayclose(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, settings, } = this.state;\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'DAYCLOSE')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'DAYCLOSE',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/start-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Dayclose',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Dayclose', { home, serviceEntry, masters, dayclosePayments: response.posDayCloseAmt, daycloseSubPayments: response.posDayCloseAmtDtl })\r\n      })\r\n  }\r\n\r\n  doPressTransType() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: intl.get('sales'), handleText: 'doTransTypeSales' });\r\n    options.push({ text: intl.get('deposit'), handleText: 'doTransTypeDeposit' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Transaction Type',\r\n        text: 'Select transaction type for ' + selectedTable.tableId,\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartPayment(printer, superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, masters, settings,\r\n      selectedTable, tableItems, } = this.state;\r\n\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'SELECT AN ORDER',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n      });\r\n      return;\r\n    }\r\n    if (!tableItems || tableItems.length === 0) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'NO TABLE ITEMS',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.refTableId) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'TABLE ALREADY MERGED ' + selectedTable.refTableId,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'PAYMENT')) && !superUserId) {\r\n      this.setState({\r\n        requestedPrivilege: 'PAYMENT',\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          pospays: response.opentablePospays,\r\n        }, () => navigation.navigate('Pos', { home, serviceEntry, serviceEntryObj, masters, selectedTable: response.opentable, pospays: response.opentablePospays }));\r\n      })\r\n  }\r\n\r\n  doChangeTableStatus(newStatus) {\r\n    const { home, serviceEntry, selectedTable, masters, settings } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table-status';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: newStatus,\r\n      pax: '',\r\n      vipId: '',\r\n      vipName: '',\r\n      phone: '',\r\n      reservationTime: '',\r\n      sourceId: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table-status successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table Status',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            newStatus,\r\n          );\r\n        if (response.message) {\r\n          if (response.message === 'Table Not Found') {\r\n            this.doClearTable();\r\n            this.doToggleScreen('MENU')\r\n          } else {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n          }\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doRevertTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/revert-adhoc';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post revert-adhoc successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Revert Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n          refresh: moment().format('HH:mm:ss'),\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doDuplicateTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/duplicate-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post duplicate-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Duplicate Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doUpdateLineBreak() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    })\r\n    let newLineBreak = 'Y';\r\n    if (selectedTableItem.lineBreak === 'Y') {\r\n      newLineBreak = 'N';\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-line-break';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      lineBreak: newLineBreak,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-line-break successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Break',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  doPrintBill(printer) {\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    if (!selectedTable || !(selectedTable?.statusFlg === 'C' || selectedTable?.sectionId === 'SYS')) return;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'PRINT BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/print-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Print Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, masters, settings } = this.state;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'OPEN DRAWER',\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n  }\r\n\r\n  doTransTypeSales() {\r\n    const { selectedTable } = this.state;\r\n    this.handleUpdateFromDeposit('A', selectedTable.vipName, selectedTable.vipPhone, selectedTable.homeDelivery, selectedTable.dlyDate ? moment(selectedTable.dlyDate).format('YYYY-MM-DD') : '', selectedTable.dpostalcode, selectedTable.daddress1, selectedTable.daddress2)\r\n  }\r\n\r\n  doTransTypeDeposit() {\r\n    this.setState({\r\n      overlayDepositVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressSend() {\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (!selectedTable || selectedTable.sendFlg !== 'Y') {\r\n      console.log('no selectedTable or sendFlg is N');\r\n      return;\r\n    }\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doSendOrder' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Send Order',\r\n        text: 'Send order for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doSendOrder(printer) {\r\n    const { serviceEntry, home, selectedTable, masters, settings } = this.state;\r\n\r\n    // section-based print order\r\n    let printOrder = false;\r\n    if (selectedTable.sectionId !== 'SYS') {\r\n      printOrder = masters.sections.find(el => el.sectionId === selectedTable.sectionId)?.printOrderFlg === 'Y';\r\n    }\r\n\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter && printOrder) {\r\n      this.setState({\r\n        printPurpose: 'SEND ORDER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/send-order';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: printOrder && ((home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId)),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post send-order successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Send Order',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  doEditTableItem(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, preference,\r\n      tableItems, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'EDITITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (selectedTableItem?.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, masters, preference, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem, tableItems })\r\n    } else {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem })\r\n    }\r\n  }\r\n\r\n  doDeleteTableItem(superUserId) {\r\n    const { serviceEntry, home, selectedTableItem, selectedTable, masters, settings, privileges } = this.state;\r\n\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      // special scenario all personnel need double confirm\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'VOIDITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'VOIDITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable, home } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'SEND ORDER') {\r\n      this.doSendOrder(printer);\r\n    } else if (purpose === 'PRINT BILL') {\r\n      this.doPrintBill(printer);\r\n    } else if (purpose === 'START PAYMENT') {\r\n      this.doStartPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.doOpenDrawer(printer);\r\n    } else if (purpose === 'DEFAULT PRINTER') {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = printer;\r\n      this.setState({\r\n        home: homeUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, masters, settings, requestedPrivilege, selectedPrinter,\r\n      selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable?.tableId,\r\n            selectedTableItem?.menuName,\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.doOpenDrawer(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'PAYMENT') {\r\n          this.doStartPayment(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'DAYCLOSE') {\r\n          this.doStartDayclose(response.userId);\r\n        } else if (requestedPrivilege === 'VOIDITEM') {\r\n          this.doDeleteTableItem(response.userId);\r\n        } else if (requestedPrivilege === 'EDITITEM') {\r\n          this.doEditTableItem(response.userId);\r\n        }\r\n      })\r\n  }\r\n\r\n  handleUpdateFromAdditionalFunctions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayAdditionalFunctionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewReprint') {\r\n      navigation.navigate('Reprint', { home, serviceEntry, masters });\r\n    } else if (text === 'viewVoid') {\r\n      navigation.navigate('Void', { home, serviceEntry, masters, handleUpdateFromVoid: this.handleUpdateFromVoid });\r\n    } else if (text === 'viewCollect') {\r\n      navigation.navigate('Collect', { home, serviceEntry, masters, });\r\n    } else if (text === 'viewDayclose') {\r\n      this.doStartDayclose();\r\n    } else if (text === 'viewReports') {\r\n      navigation.navigate('Report', { home, serviceEntry, masters });\r\n    } else if (text === 'openDrawer') {\r\n      this.doOpenDrawer();\r\n    } else if (text === 'viewPrinters') {\r\n      navigation.navigate('Printer', { home, serviceEntry });\r\n    } else if (text === 'viewActivate') {\r\n      navigation.navigate('Activate', { home, serviceEntry, masters });\r\n    } else if (text === 'logOut') {\r\n      navigation.goBack();\r\n    } else if (text === 'syncMasters') {\r\n      navigation.navigate('Login', { sync: new Date() });\r\n    } else if (text === 'viewTrace') {\r\n      navigation.navigate('Trace', { home, serviceEntry, selectedTable });\r\n    } else if (text === 'viewLimit') {\r\n      navigation.navigate('Limit', { home, serviceEntry, masters });\r\n    }\r\n  }\r\n\r\n  async handleUpdateFromTableActions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayTableActionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewResequence') {\r\n      navigation.navigate('Resequence', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'viewTransfer') {\r\n      navigation.navigate('Transfer', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'headerDiscount') {\r\n      this.setState({\r\n        overlayHeaderDiscountVisible: true,\r\n      })\r\n    } else if (text === 'printBill') {\r\n      this.doPrintBill();\r\n    } else if (text === 'openTable') {\r\n      await this.handlePressTable(selectedTable)\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (text === 'editTable') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    } else if (text === 'resetTable') {\r\n      this.doChangeTableStatus('A');\r\n    } else if (text === 'reserveTable') {\r\n      this.doChangeTableStatus('B');\r\n    } else if (text === 'disableTable') {\r\n      this.doChangeTableStatus('E');\r\n    } else if (text === 'mergeTable') {\r\n      this.setState({\r\n        overlayMergeTableVisible: true,\r\n      });\r\n    } else if (text === 'splitTable') {\r\n      this.setState({\r\n        overlaySplitTableVisible: true,\r\n      });\r\n    } else if (text === 'changeTable') {\r\n      this.setState({\r\n        overlayChangeTableVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromReviseItem(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, masters, selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'voidItem') {\r\n      let options = [];\r\n      options.push({ text: 'Yes', handleText: 'doDeleteTableItem' });\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n        overlayAlertInputValue: {\r\n          title: intl.get('action'),\r\n          subtitle: 'Remove Item',\r\n          text: 'Remove ' + selectedTableItem.menuName + ' ?',\r\n          ok: false,\r\n          cancel: true,\r\n          options: options,\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n    } else if (text === 'editItem') {\r\n      this.doEditTableItem();\r\n    } else if (text === 'revertItem') {\r\n      this.doRevertTableItem();\r\n    } else if (text === 'changePrice') {\r\n      this.setState({\r\n        overlayChangePriceVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineDiscount') {\r\n      this.setState({\r\n        overlayLineDiscountVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineBreak') {\r\n      this.doUpdateLineBreak();\r\n    } else if (text === 'duplicateItem') {\r\n      this.doDuplicateTableItem();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromLineDiscount(text, superUserId) {\r\n    this.setState({ overlayLineDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/line-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post line-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromHeaderDiscount(text, superUserId) {\r\n    this.setState({ overlayHeaderDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/header-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post header-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Header Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangePrice(text, item, superUserId) {\r\n    this.setState({ overlayChangePriceVisible: false });\r\n    if (!text && !item) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-price';\r\n    const body = {\r\n      userId: home.userId,\r\n      price: text,\r\n      discId: item.discId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-price successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Price',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromMergeTable(tables) {\r\n    this.setState({ overlayMergeTableVisible: false });\r\n    if (tables.length === 0) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-table';\r\n    const itemPayloads = tables.map(el => ({\r\n      mergedTableId: el.tableId,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            tables.map(el => el.tableId).join(','),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromSplitTable(items) {\r\n    this.setState({\r\n      overlaySplitTableVisible: false,\r\n    });\r\n    if (!items) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/split-table';\r\n    const itemPayloads = items.map(el => ({\r\n      opentableItemRecKey: el.recKey,\r\n      opentableRecKey: selectedTable.recKey,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post split-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Split Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(response.opentable || selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangeTable(table) {\r\n    this.setState({ overlayChangeTableVisible: false });\r\n    if (!table) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table';\r\n    const body = {\r\n      userId: home.userId,\r\n      tableIdTo: table.tableId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            table.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(table);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSendOrder') {\r\n      this.doSendOrder();\r\n    } else if (text === 'doDeleteTableItem') {\r\n      this.doDeleteTableItem();\r\n    } else if (text === 'doTransTypeSales') {\r\n      this.doTransTypeSales();\r\n    } else if (text === 'doTransTypeDeposit') {\r\n      this.doTransTypeDeposit();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAutoLogout(timer) {\r\n    // if (!timer) {\r\n    //   this.setState({\r\n    //     overlayAutoLogoutVisible: false,\r\n    //   });\r\n    //   this.doAutoLogout();\r\n    // }\r\n    // if (timer === 0) {\r\n    //   this.setState({\r\n    //     toLogin: true,\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  handleUpdateFromDeposit(transType, vipName, phone, deliveryFlg, dlyDate, postalCode, addr1, addr2) {\r\n    this.setState({ overlayDepositVisible: false });\r\n    if (!transType) {\r\n      return;\r\n    }\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-table-info';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      transType: transType,\r\n      vipName: vipName,\r\n      phone: phone,\r\n      deliveryFlg: deliveryFlg,\r\n      dlyDate: dlyDate,\r\n      postalCode: postalCode,\r\n      addr1: addr1,\r\n      addr2: addr2,\r\n      addr3: '',\r\n      addr4: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post deposit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Transaction Type',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            transType + ',' + deliveryFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable)\r\n      })\r\n  }\r\n\r\n  handleUpdateFromScanBarcode(text) {\r\n    if (!text) {\r\n      this.setState({ overlayScanBarcodeVisible: false });\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      vipId: home.vipId,\r\n      barcode: text,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post scan-barcode successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Scan Barcode',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromVoid(tableInfo) {\r\n    this.setState({\r\n      selectedTable: tableInfo.opentable,\r\n      tableItems: tableInfo.opentableItems,\r\n    });\r\n  }\r\n\r\n  handleUpdateFromTable() {\r\n    this.doToggleScreen('TABLE');\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntryObj, serviceEntry, home, preference, masters, screen, refresh,\r\n      selectedTable, selectedTableItem, tableItems, printPurpose, requestedPrivilege,\r\n      overlayAutoLogoutVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayReviseItemVisible, overlayTableActionsVisible, overlayAdditionalFunctionsVisible, overlayRequestAccessVisible,\r\n      overlayHeaderDiscountVisible, overlayLineDiscountVisible, overlayChangePriceVisible,\r\n      overlayChangeTableVisible, overlayMergeTableVisible, overlaySplitTableVisible,\r\n      overlayDepositVisible, overlayScanBarcodeVisible,\r\n      overlayProcedureMessageVisible, overlayChoosePrinterVisible } = this.state;\r\n    const settingPOSMODE = masters.settings.find(el => el.setId === 'POSMODE')?.setString;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayAutoLogoutVisible &&\r\n          <OverlayAutoLogout\r\n            handleUpdateFromAutoLogout={this.handleUpdateFromAutoLogout} />\r\n        }\r\n        {\r\n          overlayDepositVisible &&\r\n          <OverlayDeposit\r\n            serviceEntry={serviceEntry}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromDeposit={this.handleUpdateFromDeposit} />\r\n        }\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayScanBarcodeVisible &&\r\n          <OverlayScanBarcode\r\n            handleUpdateFromScanBarcode={this.handleUpdateFromScanBarcode} />\r\n        }\r\n        {\r\n          overlayReviseItemVisible &&\r\n          <OverlayReviseItem\r\n            home={home}\r\n            privileges={masters.privileges}\r\n            selectedTable={selectedTable}\r\n            selectedTableItem={selectedTableItem}\r\n            tableItems={tableItems}\r\n            handleUpdateFromReviseItem={this.handleUpdateFromReviseItem} />\r\n        }\r\n        {\r\n          overlayTableActionsVisible &&\r\n          <OverlayTableActions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromTableActions={this.handleUpdateFromTableActions} />\r\n        }\r\n        {\r\n          overlayAdditionalFunctionsVisible &&\r\n          <OverlayAdditionalFunctions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromAdditionalFunctions={this.handleUpdateFromAdditionalFunctions} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayChangePriceVisible &&\r\n          <OverlayChangePrice\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            selectedTableItem={selectedTableItem}\r\n            handleUpdateFromChangePrice={this.handleUpdateFromChangePrice} />\r\n        }\r\n        {\r\n          overlayLineDiscountVisible &&\r\n          <OverlayLineDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromLineDiscount={this.handleUpdateFromLineDiscount} />\r\n        }\r\n        {\r\n          overlayHeaderDiscountVisible &&\r\n          <OverlayHeaderDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromHeaderDiscount={this.handleUpdateFromHeaderDiscount} />\r\n        }\r\n        {\r\n          overlayMergeTableVisible &&\r\n          <OverlayMergeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeTable={this.handleUpdateFromMergeTable} />\r\n        }\r\n        {\r\n          overlaySplitTableVisible &&\r\n          <OverlaySplitTable\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromSplitTable={this.handleUpdateFromSplitTable} />\r\n        }\r\n        {\r\n          overlayChangeTableVisible &&\r\n          <OverlayChangeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromChangeTable={this.handleUpdateFromChangeTable} />\r\n        }\r\n        <View style={{ width: 10, backgroundColor: theme.grey8 }}>\r\n          <View style={{ marginTop: 30, height: 100, backgroundColor: this.doTranslateTableColor(selectedTable) }}></View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{home.userName}</Text>\r\n            <Text style={styles.footerText}>{home.locName}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, marginLeft: 0, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            {/* {\r\n              selectedTable &&\r\n              <TouchableOpacity style={{ margin: 3, marginLeft: 0, marginRight: 0, width: 23, backgroundColor: this.doTranslateTableColor(selectedTable) }}\r\n                onPress={() => this.doClearTable()}>\r\n\r\n              </TouchableOpacity>\r\n            } */}\r\n            <View style={{ margin: 3, flex: 1, flexDirection: 'row', }}>\r\n              {\r\n                selectedTable &&\r\n                <TouchableOpacity style={{ marginLeft: 0, aspectRatio: 1, backgroundColor: this.doTranslateTableColor(selectedTable), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.setState({ overlayTableActionsVisible: true })}>\r\n                  <Text style={styles.tableUpperBand} numberOfLines={1}>{selectedTable.vipName || ''}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 24, letterSpacing: 1 }} numberOfLines={1}>{selectedTable.tableId}</Text>\r\n                  <Text style={styles.tableLowerBand} numberOfLines={1}>{this.doTranslateTableStatus(selectedTable)}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n            </View>\r\n            {\r\n              selectedTable && selectedTable.sectionId === 'SYS' ?\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT', tab: 'VIP' })}>\r\n                    <MaterialCommunityIcons name=\"apps-box\" size={28} color={theme.unavailable} style={{ height: 28, width: 28 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n                  </TouchableOpacity>\r\n                  {\r\n                    selectedTable.adhocItem > 0 &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                      <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                      <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'A' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      disabled={selectedTable.sendFlg !== 'Y'}\r\n                      onPress={() => this.doPressSend()}>\r\n                      <FontAwesome name=\"send\" size={22} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 25, marginTop: 3 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'A' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                      <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28, }} />\r\n                      <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {/* <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => this.doPressTransType()}>\r\n                    <MaterialCommunityIcons name=\"water\" size={32} color={theme.deposit} style={{ height: 28, width: 32 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('type')}</Text>\r\n                  </TouchableOpacity> */}\r\n                </View>\r\n                : selectedTable && selectedTable.statusFlg === 'A' ?\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable })}>\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n                  </TouchableOpacity>\r\n                  : selectedTable && selectedTable.statusFlg === 'D' ?\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => this.handleUpdateFromTableActions('resetTable')}>\r\n                      <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.vacant} style={{ height: 28, width: 26 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                    </TouchableOpacity>\r\n                    : selectedTable ?\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        {\r\n                          selectedTable.adhocItem > 0 &&\r\n                          <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                            onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                            <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                            <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                            <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                          </TouchableOpacity>\r\n                        }\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          disabled={selectedTable.sendFlg !== 'Y'}\r\n                          onPress={() => this.doPressSend()}>\r\n                          <FontAwesome name=\"send\" size={22} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 25, marginTop: 3 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                          <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                        </TouchableOpacity>\r\n                      </View>\r\n                      : null\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.setState({ overlayAdditionalFunctionsVisible: true })}>\r\n              <MaterialCommunityIcons name=\"clover\" size={28} color={theme.paid} style={{ height: 28, width: 28 }} />\r\n              <Text style={styles.buttonText}>{intl.get('func')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: 'white' }}>\r\n            <View style={{ width: 50, height: 20, alignItems: 'center', justifyContent: 'center', borderRightColor: theme.paid }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('qty')}</Text>\r\n            </View>\r\n            <View style={{ flex: 1, justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('desc')}</Text>\r\n            </View>\r\n            <View style={{ paddingRight: 10, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('total')}</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            onContentSizeChange={() => this.scrollViewRef.scrollToEnd()}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              tableItems.filter(el => !el.refRecKey).map(item => (\r\n                <View key={item.recKey.toString()}>\r\n                  {\r\n                    item.lineBreak === 'Y' &&\r\n                    <View style={{ alignItems: 'center', flexDirection: 'row', height: 20, }}>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                      <Text style={{ fontFamily: 'varela-round', color: theme.grey5, fontSize: 12 }}>LINE BREAK</Text>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                    </View>\r\n                  }\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: this.doTranslateTableItemColor(item), }}\r\n                    onPress={() => this.doPressItem(item)}>\r\n                    <View style={{ paddingVertical: 10, width: 50, alignItems: 'center', borderRightColor: theme.paid }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.orderQty}</Text>\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, flex: 1 }}>\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.menuName}</Text>\r\n                          {\r\n                            item.menuMod &&\r\n                            <Text style={{ fontFamily: 'varela-round', fontSize: 16, color: theme.paid }}>{item.menuMod}</Text>\r\n                          }\r\n                        </View>\r\n                        <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.lineTotal?.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      {\r\n                        tableItems.filter(el => el.refRecKey === item.recKey).map(obj =>\r\n                          <View style={{ marginTop: 5, flexDirection: 'row' }} key={obj.recKey.toString()}>\r\n                            <View style={{ flex: 1, }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14, marginLeft: 10 }}>- {obj.menuName}</Text>\r\n                              {\r\n                                obj.menuMod &&\r\n                                <Text style={{ fontFamily: 'varela-round', fontSize: 14, color: theme.paid }}>{obj.menuMod}</Text>\r\n                              }\r\n                            </View>\r\n                            <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14 }}>{obj.lineTotal ? obj.lineTotal?.toFixed(2) : ''}</Text>\r\n                            </View>\r\n                          </View>\r\n                        )\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <View style={{ margin: 10, marginBottom: 0, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'baseline' }}>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 10 }}></Text>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 28 }}>${selectedTable?.grandTotal?.toFixed(2) || '0.00'}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, flexDirection: 'row', }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                onPress={() => this.doToggleScreen(screen)}>\r\n                {\r\n                  screen === 'TABLE' ?\r\n                    <Ionicons name=\"md-book\" size={26} color={theme.reserved} style={{ height: 28, width: 26 }} />\r\n                    :\r\n                    <MaterialCommunityIcons name=\"apps-box\" size={28} color={theme.vacant} style={{ height: 28, width: 28 }} />\r\n                }\r\n                <Text style={styles.buttonText}>{screen === 'TABLE' ? intl.get('menu') : intl.get('table')}</Text>\r\n              </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => navigation.navigate('Trace', { home, serviceEntry, selectedTable })}>\r\n              <MaterialCommunityIcons name=\"navigation\" size={28} color={theme.adhoc} style={{ height: 28, width: 28, transform: [{ rotateZ: '180deg' }] }} />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doPrintBill()}>\r\n              <MaterialCommunityIcons name=\"book\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n              <Text style={styles.buttonText}>{intl.get('bill')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doStartPayment()}>\r\n              <Ionicons name=\"print-sharp\" size={27} color={theme.paid} style={{ height: 28, marginLeft: 1 }} />\r\n              <Text style={styles.buttonText}>{intl.get('payment')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{moment().format('HH:mm')}</Text>\r\n            <Text style={styles.footerText}>EPB BISTRO {Constants.manifest.version?.split('.')[0]}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ flex: 2, backgroundColor: theme.grey9 }}>\r\n          <Tab.Navigator\r\n            screenOptions={{\r\n              headerShown: false,\r\n              animation: 'none',\r\n              gestureEnabled: false,\r\n              tabBarStyle: { display: 'none' },\r\n            }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <Tab.Screen name=\"MainTable\"\r\n                children={() =>\r\n                  <MainTable\r\n                    refresh={refresh}\r\n                    home={home}\r\n                    serviceEntry={serviceEntry}\r\n                    preference={preference}\r\n                    masters={masters}\r\n                    handlePressTable={this.handlePressTable}\r\n                    handleActionTable={this.handleActionTable} />\r\n                } />\r\n            }\r\n            <Tab.Screen name=\"MainMenu\"\r\n              children={() =>\r\n                <MainMenu\r\n                  home={home}\r\n                  serviceEntry={serviceEntry}\r\n                  serviceEntryObj={serviceEntryObj}\r\n                  preference={preference}\r\n                  settings={masters.settings}\r\n                  foldergrps={masters.foldergrps}\r\n                  folders={masters.folders}\r\n                  menus={masters.menus}\r\n                  modBundles={masters.modBundles}\r\n                  handlePressMenu={this.handlePressMenu}\r\n                  handlePressScan={this.handlePressScan} />\r\n              } />\r\n          </Tab.Navigator>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  footerText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableUpperBand: {\r\n    position: 'absolute',\r\n    top: 10, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    // backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'black',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableLowerBand: {\r\n    position: 'absolute',\r\n    bottom: 0, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonText: {\r\n    marginTop: 10,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: theme.grey5,\r\n    textTransform: 'uppercase'\r\n  }\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayServiceEntry extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.props.handleUpdateFromServiceEntry(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayserviceentry');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Register</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='EPB ID OR IP:PORT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromServiceEntry('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayServiceEntry from './OverlayServiceEntry';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      savedEntries: [],\r\n      serviceEntry: '',\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromServiceEntry = this.handleUpdateFromServiceEntry.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    let savedEntries = await AsyncStorage.getItem('savedEntries');\r\n    if (savedEntries) {\r\n      savedEntries = JSON.parse(savedEntries);\r\n    } else {\r\n      savedEntries = [];\r\n    }\r\n    this.setState({\r\n      serviceEntry,\r\n      savedEntries,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doDeleteEntry') {\r\n      this.doDeleteEntry(selectedItem);\r\n    } else if (text === 'doSetEntry') {\r\n      this.doSetEntry(selectedItem);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromServiceEntry(text) {\r\n    this.setState({ overlayServiceEntryVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text.includes(':8085')) {\r\n      // assume local\r\n      let found = {\r\n        epbId: 'IP:PORT',\r\n        name: 'IP:PORT',\r\n        bistroServiceUrl: 'http://' + text + '/',\r\n      }\r\n      this.doSaveEntry(found);\r\n    } else {\r\n      // EPB ID\r\n      fetch('http://203.208.248.199:9090/beacon/api/locate?epbId=' + text, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('response', response);\r\n          this.doSaveEntry(response);\r\n        })\r\n        .catch(error => {\r\n          console.log('error', error);\r\n          this.setState({\r\n            overlayProcedureMessageVisible: 'INVALID EPB ID',\r\n          })\r\n        });\r\n    }\r\n  }\r\n\r\n  doSaveEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    if (!item.bistroServiceUrl) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING BISTRO SERVICE URL',\r\n      })\r\n      return;\r\n    }\r\n    if (savedEntriesUpdate.some(el => (el.epbId === item.epbId))) {\r\n      savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    }\r\n    savedEntriesUpdate.unshift(item);\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  doPressAdd() {\r\n    this.setState({\r\n      overlayServiceEntryVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressEntry(item) {\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: '',\r\n        ok: false,\r\n        cancel: true,\r\n        options: [\r\n          { text: 'SET ENTRY', handleText: 'doSetEntry' },\r\n          { text: 'DELETE ENTRY', handleText: 'doDeleteEntry' }\r\n        ],\r\n      },\r\n      overlayAlertVisible: true,\r\n      selectedItem: item,\r\n    });\r\n  }\r\n\r\n  doDeleteEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    console.log(savedEntriesUpdate)\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n  }\r\n\r\n  doSetEntry(item) {\r\n    this.setState({\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference, savedEntries, serviceEntry,\r\n      overlayServiceEntryVisible,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render register', savedEntries);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayServiceEntryVisible &&\r\n          <OverlayServiceEntry\r\n            handleUpdateFromServiceEntry={this.handleUpdateFromServiceEntry} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  {\r\n                    savedEntries.map((item, index) =>\r\n                      <TouchableOpacity\r\n                        key={index.toString()}\r\n                        style={styles.grid}\r\n                        onPress={() => this.doPressEntry(item)}>\r\n                        <View style={styles.gridFirst}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.epbId || '-'}</Text>\r\n                          <Text style={styles.gridFirstRightText}>{item.bistroServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridSecond}>\r\n                          <Text style={styles.gridSecondText}>{item.name || 'IP:PORT'}</Text>\r\n                          <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                        </View>\r\n                        <View style={[styles.gridFirst, { marginBottom: 5 }]}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.restServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridThird}>\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                          {\r\n                            item.bistroServiceUrl === serviceEntry ?\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>{intl.get('active')}</Text>\r\n                              :\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('inactive')}</Text>\r\n                          }\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    )\r\n                  }\r\n\r\n\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressAdd()}>\r\n                <AntDesign\r\n                  name='pluscircleo'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('add')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitItems extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        percentage: (100 / props.receipts.length).toFixed(0).toString(),\r\n      })),\r\n    };\r\n    this.handleFillPercentagesEvenly = this.handleFillPercentagesEvenly.bind(this);\r\n    this.handleSetPercentageForReceipt = this.handleSetPercentageForReceipt.bind(this);\r\n    this.handleSetFullPercentageForReceipt = this.handleSetFullPercentageForReceipt.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillPercentagesEvenly() {\r\n    const { receipts } = this.state;\r\n    let numberString = (100 / receipts.length).toFixed(0).toString();\r\n    receipts.forEach(item => this.handleSetPercentageForReceipt(numberString, item.docId));\r\n  }\r\n\r\n  handleSetFullPercentageForReceipt(item) {\r\n    const { receipts } = this.state;\r\n    receipts.forEach(el => {\r\n      if (el.docId === item.docId) {\r\n        this.handleSetPercentageForReceipt('100', el.docId);\r\n      } else {\r\n        this.handleSetPercentageForReceipt('0', el.docId);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSetPercentageForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.docId === docId);\r\n    if (!Number(number)) {\r\n      receiptsUpdate[index].percentage = '0';\r\n    } else {\r\n      receiptsUpdate[index].percentage = Number(number).toFixed(0).toString();\r\n    }\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdate2', receipts));\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.percentage); }, 0);\r\n    console.log('agg', aggregate);\r\n    if (receipts.some(item => receipts[0].percentage !== item.percentage) && aggregate !== 100) {\r\n      console.log('validation failed');\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromSplitItems(receipts);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTableItems } = this.props;\r\n    const { receipts } = this.state;\r\n    console.log('in overlaysplititems');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Item(s)</Text>\r\n            <Text style={styles.overlayText}>You are splitting {selectedTableItems.length} item(s) for {receipts.length} receipts</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleSetFullPercentageForReceipt(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).percentage}\r\n                      onChangeText={(number) => this.handleSetPercentageForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}>%</Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.handleFillPercentagesEvenly()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>Fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitItems('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlaySplitItems from './OverlaySplitItems';\r\n\r\nexport default class Split extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n      selectedTableItems: [],\r\n      overlaySplitItemsVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSplitSelectedTableItems = this.handleSplitSelectedTableItems.bind(this);\r\n    this.handleUndoAll = this.handleUndoAll.bind(this);\r\n    this.handleSelectAllUnsplitTableItems = this.handleSelectAllUnsplitTableItems.bind(this);\r\n    this.handleDeselectAllUnsplitTableItems = this.handleDeselectAllUnsplitTableItems.bind(this);\r\n    this.handleUpdateFromSplitItems = this.handleUpdateFromSplitItems.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    const { selectedTableItems, receipts } = this.state;\r\n    const { tableItems } = this.props;\r\n    if (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey)) {\r\n      return;\r\n    }\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSelectAllUnsplitTableItems() {\r\n    const { tableItems } = this.props;\r\n    const { selectedTableItems, receipts } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    tableItems.forEach(el => {\r\n      if (receipts[0].receiptItems.some(obj => obj.recKey === el.recKey) || selectedTableItems.some(obj => obj.recKey === el.recKey)) {\r\n        return;\r\n      }\r\n      selectedTableItemsUpdate.push(el);\r\n    });\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleDeselectAllUnsplitTableItems() {\r\n    this.setState({\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleSplitSelectedTableItems() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlaySplitItemsVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUndoAll() {\r\n    this.setState({\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleUpdateFromSplitItems(distribution) {\r\n    console.log('distribution', distribution);\r\n    if (!distribution) {\r\n      this.setState({\r\n        overlaySplitItemsVisible: false,\r\n        selectedTableItems: [],\r\n      });\r\n      return;\r\n    }\r\n    const { receipts, selectedTableItems } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    receiptsUpdate.forEach(el => {\r\n      selectedTableItems.forEach(obj => {\r\n        el.receiptItems.push({\r\n          ...obj,\r\n          percentage: distribution.find(item => item.docId === el.docId).percentage\r\n        });\r\n      })\r\n    })\r\n    this.setState({\r\n      overlaySplitItemsVisible: false,\r\n      selectedTableItems: [],\r\n      receipts: receiptsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplit(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { serviceEntry, home, selectedTable, availableReceipts, tableItems, cashierPrinters } = this.props;\r\n    const { receipts, selectedTableItems, overlaySplitItemsVisible, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in split');\r\n    \r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlaySplitItemsVisible &&\r\n          <OverlaySplitItems\r\n            receipts={receipts}\r\n            selectedTableItems={selectedTableItems}\r\n            handleUpdateFromSplitItems={this.handleUpdateFromSplitItems} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY ITEM'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE</Text>\r\n              <Text style={styles.overlaySubtitleText}>{selectedTable.tableId}</Text>\r\n              <Text style={styles.overlayTitleText}>{tableItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleUndoAll()}\r\n              >\r\n                <Text style={styles.buttonText}>Undo</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleDeselectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Deselect</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleSelectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Select</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                tableItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    disabled={(receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) ? true : false}\r\n                    style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}\r\n                  >\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}\r\n                    >\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.refRecKey ? '- ' : null}{item.menuName}\r\n                      </Text>\r\n                      {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={[styles.actionButton, selectedTableItems.length !== 0 ? { backgroundColor: theme.occupied } : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleSplitSelectedTableItems()}\r\n            >\r\n              <Text style={styles.buttonText}>Split Selected</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              receipts[0].receiptItems.length === tableItems.length ?\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.handleSubmit()}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm Split</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.props.handleUpdateFromSplit('')}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.paid }]}>Quit</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <ScrollView style={styles.splitScroll}\r\n            horizontal={true}\r\n            snapToInterval={wrapperWidth}\r\n            decelerationRate='fast'\r\n          >\r\n            {\r\n              receipts.map((obj, index) => (\r\n                <View style={styles.wrapper}\r\n                  key={obj.docId}\r\n                >\r\n                  <View style={styles.overlayHeader}>\r\n                    <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>SPLIT {index + 1} OF {receipts.length}</Text>\r\n                    <Text style={styles.overlaySubtitleText}>{obj.docId}</Text>\r\n                    <Text style={styles.overlayTitleText}>{obj.receiptItems.length} ITEMS</Text>\r\n                  </View>\r\n                  <ScrollView style={styles.itemsContainer}>\r\n                    <View style={{ paddingTop: 5 }}></View>\r\n                    {\r\n                      obj.receiptItems.map(item => (\r\n                        <TouchableOpacity key={item.recKey}\r\n                          style={styles.tableItemContainer}\r\n                        // onPress={() => this.handleSelectTableItem(item)}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <View style={styles.tableItemSecondContainer}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </View>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              <Text style={{ color: theme.reserved }}>{item.percentage}</Text><Text style={{ color: theme.grey1 }}> %</Text>\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst wrapperWidth = Dimensions.get('window').width / 3;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n    width: wrapperWidth,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayInputReference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayinputreference');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Input Reference</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                placeholder='ENTER REFERENCE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.props.handleUpdateFromInputReference(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromInputReference(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromInputReference('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\n\r\nexport default class OverlayMergeBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      selectedTargetTable: '',\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.props;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        const filteredResponse = response.filter(el => {\r\n          return el.tableId !== selectedTable.tableId;\r\n        });\r\n        this.setState({\r\n          tables: filteredResponse,\r\n          availableTables: filteredResponse,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTargetTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleSubmit(selectedTargetTable, printer);\r\n  }\r\n\r\n  handleSubmit(item, printer) {\r\n    const { home } = this.props;\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    });\r\n    const { cashierPrinters } = this.props;\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromMergeBill(item, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { overlaySearchText, availableTables, tables, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaymergebill', selectedTable);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='MERGE BILL'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Bill</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeBill('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>OCCUPIED</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, TextInput,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayNumber: 2,\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayNumber === 2) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleNumberChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayNumber: 2 })\r\n    } else {\r\n      this.setState({ overlayNumber: Number(text) })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { overlayNumber } = this.state;\r\n    console.log('in overlaysplitbill');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Bill</Text>\r\n            <Text style={styles.overlayText}>Enter the number of bills to split into</Text>\r\n          </View>\r\n          <View style={styles.adjustContainer}>\r\n            <TouchableOpacity style={styles.adjustFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.adjustSecond}>\r\n              <TextInput style={styles.overlayNumber}\r\n                selectTextOnFocus\r\n                keyboardType='numeric'\r\n                value={overlayNumber?.toString()}\r\n                onChangeText={(searchText) => this.handleNumberChange(searchText)} />\r\n            </View>\r\n            <TouchableOpacity style={styles.adjustThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 2 && { backgroundColor: theme.occupied }]}\r\n              onPress={() => this.setState({ overlayNumber: 2 })}>\r\n              <Text style={styles.buttonText}>2</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 3 && { backgroundColor: theme.reserved }]}\r\n              onPress={() => this.setState({ overlayNumber: 3 })}>\r\n              <Text style={styles.buttonText}>3</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 4 && { backgroundColor: theme.paid }]}\r\n              onPress={() => this.setState({ overlayNumber: 4 })}>\r\n              <Text style={styles.buttonText}>4</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'ITEM')}>\r\n            <Text style={styles.overlayOptionText}>Split By Item</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'AMOUNT')}>\r\n            <Text style={styles.overlayOptionText}>Split By Amount</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitBill('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n    marginBottom: 30,\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 20,\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitAmount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        recKey: item.recKey,\r\n        amount: '0',\r\n      })),\r\n      warning: 'Total amount to split is ' + props.selectedTable.grandTotal.toFixed(2),\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleFillRemainder = this.handleFillRemainder.bind(this);\r\n    this.handleSetAmountForReceipt = this.handleSetAmountForReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillRemainder(item) {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.recKey === item.recKey);\r\n    const aggregate = receipts.filter(el => el.recKey !== item.recKey).reduce((init, obj) => { return init + Number(obj.amount); }, 0);\r\n    if (aggregate <= Number(selectedTable.grandTotal)) {\r\n      receiptsUpdate[index].amount = (Number(selectedTable.grandTotal) - aggregate).toFixed(2).toString();\r\n      this.setState({\r\n        receipts: receiptsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSetAmountForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    let index = receipts.findIndex(el => el.docId === docId);\r\n    receiptsUpdate[index].amount = number;\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { selectedTable, cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.amount); }, 0).toFixed(2);\r\n    console.log('aggregate', aggregate);\r\n    if (receipts.some(item => Number(item.amount) === 0) || (Number(aggregate) !== Number(selectedTable.grandTotal))) {\r\n      console.log('validation failed');\r\n      this.setState({\r\n        warning: 'Ensure numbers are valid and add up to ' + selectedTable.grandTotal.toFixed(2),\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplitAmount(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  doFillEvenly() {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n\r\n    const equal = Number(selectedTable.grandTotal / receipts.length).toFixed(2);\r\n\r\n    receiptsUpdate.forEach((el, index) => {\r\n      if (index !== receiptsUpdate.length - 1) {\r\n        el.amount = Number(equal).toFixed(2);\r\n      } else {\r\n        el.amount = (selectedTable.grandTotal - equal * (receiptsUpdate.length - 1)).toFixed(2);\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { receipts, warning, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaysplitamount');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY AMOUNT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Amount</Text>\r\n            <Text style={styles.overlayText}>{warning}</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleFillRemainder(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).amount}\r\n                      onChangeText={(number) => this.handleSetAmountForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.doFillEvenly()}>\r\n            <Text style={styles.overlayOptionText}>fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption,]}\r\n            onPress={() => this.handleSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitAmount('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayUpdateTips extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n      overlaySearchText: '',\r\n      paymentMethods: props.paymentMethods,\r\n      availablePaymentMethods: props.paymentMethods,\r\n      selectedPaymentMethod: null,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { paymentMethods } = this.state;\r\n    let availablePaymentMethodsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availablePaymentMethodsUpdate = paymentMethods;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePaymentMethods: availablePaymentMethodsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePaymentMethodsUpdate = availablePaymentMethodsUpdate.filter(item => {\r\n      return item.pmId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePaymentMethods: availablePaymentMethodsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlayText, selectedPaymentMethod, availablePaymentMethods, overlaySearchText } = this.state;\r\n    console.log('in overlayupdatetips', availablePaymentMethods);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Update Tips</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                keyboardType='numeric'\r\n                placeholder='ENTER TIPS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          <View style={styles.selectWrapper}>\r\n            <View style={styles.searchBoxWrapper}>\r\n              <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                <TextInput style={styles.overlaySearchBoxInput}\r\n                  placeholder='ENTER SEARCH TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                  value={overlaySearchText}\r\n                />\r\n                <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                  onPress={() => {\r\n                    this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                    Keyboard.dismiss()\r\n                  }}>\r\n                  <AntDesign name='close' size={24} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availablePaymentMethods.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={[{ flex: 1 }]}\r\n              data={availablePaymentMethods}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  style={[styles.overlayGrid, selectedPaymentMethod?.pmId === item.pmId && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.setState({ selectedPaymentMethod: item, })}>\r\n                  <View style={styles.overlayGridFirst}>\r\n                    <View style={styles.overlayGridFirstLeft}>\r\n                      <Text style={styles.overlayGridFirstLeftText}>{item.pmId}</Text>\r\n                    </View>\r\n                    <View style={styles.overlayGridFirstRight}>\r\n                      <Text style={styles.overlayGridFirstRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.overlayGridSecond}>\r\n                    <Text style={styles.overlayGridSecondText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridThird}>\r\n                    <View style={styles.overlayGridThirdLeft}>\r\n                    </View>\r\n                    <View style={styles.overlayGridThirdRight}>\r\n                      <Text style={styles.overlayGridThirdRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips(overlayText, selectedPaymentMethod)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayViewSplitted extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { receipts } = this.props;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>VIEW</Text>\r\n            <Text style={styles.overlaySubtitleText}>Splitted Receipts</Text>\r\n            <Text style={styles.overlayText}></Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.recKey}\r\n                >\r\n                  <View style={styles.inputRowLeft}>\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </View>\r\n                  <View style={styles.inputRowRight}>\r\n                    <Text style={styles.textInput}>{item.grandTotal ? item.grandTotal.toFixed(2) : null}</Text>\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromViewSplitted('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport QRCode from 'react-native-qrcode-svg';\r\nimport Paynow from '../assets/paynow.png';\r\nimport moment from 'moment';\r\n\r\nclass PaynowQR {\r\n  constructor(opts) {\r\n    Object.defineProperty(this, 'qrstring', {\r\n      value: this.generate(opts)\r\n    });\r\n  }\r\n  output() {\r\n    return this.qrstring;\r\n  }\r\n\r\n  padLeft(s, n, str) {\r\n    if (n < String(s).length) {\r\n      return s.toString();\r\n    }\r\n    else {\r\n      return Array(n - String(s).length + 1).join(str || '0') + s;\r\n    }\r\n  }\r\n\r\n  crc16(s) {\r\n    var crcTable = [0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5,\r\n      0x60c6, 0x70e7, 0x8108, 0x9129, 0xa14a, 0xb16b,\r\n      0xc18c, 0xd1ad, 0xe1ce, 0xf1ef, 0x1231, 0x0210,\r\n      0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6,\r\n      0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c,\r\n      0xf3ff, 0xe3de, 0x2462, 0x3443, 0x0420, 0x1401,\r\n      0x64e6, 0x74c7, 0x44a4, 0x5485, 0xa56a, 0xb54b,\r\n      0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d,\r\n      0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6,\r\n      0x5695, 0x46b4, 0xb75b, 0xa77a, 0x9719, 0x8738,\r\n      0xf7df, 0xe7fe, 0xd79d, 0xc7bc, 0x48c4, 0x58e5,\r\n      0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823,\r\n      0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969,\r\n      0xa90a, 0xb92b, 0x5af5, 0x4ad4, 0x7ab7, 0x6a96,\r\n      0x1a71, 0x0a50, 0x3a33, 0x2a12, 0xdbfd, 0xcbdc,\r\n      0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a,\r\n      0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03,\r\n      0x0c60, 0x1c41, 0xedae, 0xfd8f, 0xcdec, 0xddcd,\r\n      0xad2a, 0xbd0b, 0x8d68, 0x9d49, 0x7e97, 0x6eb6,\r\n      0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70,\r\n      0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a,\r\n      0x9f59, 0x8f78, 0x9188, 0x81a9, 0xb1ca, 0xa1eb,\r\n      0xd10c, 0xc12d, 0xf14e, 0xe16f, 0x1080, 0x00a1,\r\n      0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067,\r\n      0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c,\r\n      0xe37f, 0xf35e, 0x02b1, 0x1290, 0x22f3, 0x32d2,\r\n      0x4235, 0x5214, 0x6277, 0x7256, 0xb5ea, 0xa5cb,\r\n      0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d,\r\n      0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447,\r\n      0x5424, 0x4405, 0xa7db, 0xb7fa, 0x8799, 0x97b8,\r\n      0xe75f, 0xf77e, 0xc71d, 0xd73c, 0x26d3, 0x36f2,\r\n      0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634,\r\n      0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9,\r\n      0xb98a, 0xa9ab, 0x5844, 0x4865, 0x7806, 0x6827,\r\n      0x18c0, 0x08e1, 0x3882, 0x28a3, 0xcb7d, 0xdb5c,\r\n      0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a,\r\n      0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0,\r\n      0x2ab3, 0x3a92, 0xfd2e, 0xed0f, 0xdd6c, 0xcd4d,\r\n      0xbdaa, 0xad8b, 0x9de8, 0x8dc9, 0x7c26, 0x6c07,\r\n      0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1,\r\n      0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba,\r\n      0x8fd9, 0x9ff8, 0x6e17, 0x7e36, 0x4e55, 0x5e74,\r\n      0x2e93, 0x3eb2, 0x0ed1, 0x1ef0];\r\n\r\n    var crc = 0xFFFF;\r\n    var j, i;\r\n\r\n    for (i = 0; i < s.length; i++) {\r\n\r\n      let c = s.charCodeAt(i);\r\n      if (c > 255) {\r\n        throw new RangeError();\r\n      }\r\n      j = (c ^ (crc >> 8)) & 0xFF;\r\n      crc = crcTable[j] ^ (crc << 8);\r\n    }\r\n\r\n    return ((crc ^ 0) & 0xFFFF).toString(16).toUpperCase();\r\n  }\r\n\r\n\r\n  generate(opts) {\r\n\r\n    for (let key in opts) {\r\n      if (typeof opts[key] == 'string') {\r\n        opts[key] = opts[key].trim();\r\n      }\r\n    }\r\n\r\n\r\n    const p = [\r\n      { id: '00', value: '01' },                    // ID 00: Payload Format Indicator (Fixed to '01')\r\n      { id: '01', value: '12' },                    // ID 01: Point of Initiation Method 11: static, 12: dynamic\r\n      {\r\n        id: '26', value:                            // ID 26: Merchant Account Info Template\r\n          [{ id: '00', value: 'SG.PAYNOW' },\r\n          { id: '01', value: '2' },                 // 0 for mobile, 2 for UEN. 1 is not used.\r\n          { id: '02', value: String(opts.uen) },            // PayNow UEN (Company Unique Entity Number)\r\n          { id: '03', value: String(!opts.amount || opts.editable ? 1 : 0) },       // 1 = Payment amount is editable, 0 = Not Editable\r\n          { id: '04', value: String(opts.expiry) }]         // Expiry date (YYYYMMDD)\r\n      },\r\n      { id: '52', value: '0000' },                  // ID 52: Merchant Category Code (not used)\r\n      { id: '53', value: '702' },                   // ID 53: Currency. SGD is 702\r\n      { id: '54', value: String(opts.amount || 0) },  // ID 54: Transaction Amount\r\n      { id: '58', value: 'SG' },                    // ID 58: 2-letter Country Code (SG)\r\n      { id: '59', value: String(opts.company || 'COMPANY') },          // ID 59: Company Name\r\n      { id: '60', value: 'Singapore' }             // ID 60: Merchant City\r\n\r\n    ]\r\n\r\n    let otherdata = {\r\n      id: '62', value: [{                         // ID 62: Additional data fields\r\n        id: '01', value: String(opts.refNumber || '')           // ID 01: Bill Number\r\n      }]\r\n    };\r\n\r\n    if (opts.refNumber) {\r\n      p.push(otherdata);\r\n    }\r\n\r\n    let str = p.reduce((final, current) => {\r\n      if (Array.isArray(current.value)) { //nest loop\r\n        current.value = current.value.reduce((f, c) => {\r\n          f += c.id + this.padLeft(c.value.length.toString(), 2) + c.value;\r\n          return f\r\n        }, \"\")\r\n      }\r\n      final += current.id + this.padLeft(current.value.length.toString(), 2) + current.value;\r\n      return final\r\n    }, \"\")\r\n\r\n    // Here we add \"6304\" to the previous string\r\n    // ID 63 (Checksum) 04 (4 characters)\r\n    // Do a CRC16 of the whole string including the \"6304\"\r\n    // then append it to the end.\r\n    str += '6304' + this.padLeft(this.crc16(str + '6304'), 4);\r\n\r\n    return str;\r\n\r\n  }\r\n}\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home } = this.props;\r\n    let qrcode = new PaynowQR({\r\n      uen: home.uen,           //Required: UEN of company\r\n      amount: Number(this.props.input.amount),               //Specify amount of money to pay.\r\n      editable: false,             //Whether or not to allow editing of payment amount. Defaults to false if amount is specified\r\n      expiry: moment().format('YYYYMMDD'),         //Set an expiry date for the Paynow QR code (YYYYMMDD). If omitted, defaults to 5 years from current time.\r\n      refNumber: this.props.input.reference,   //Reference number for Paynow Transaction. Useful if you need to track payments for recouncilation.\r\n      company: home.orgName   //Company name to embed in the QR code. Optional.               \r\n    });\r\n\r\n    this.setState({\r\n      qrcodeString: qrcode.output(),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { input, qrcodeString } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlaySubtitleText}>${this.props.input.amount}</Text>\r\n            <Text style={[styles.overlayText, { marginTop: 0 }]}>{this.props.home.orgName}</Text>\r\n          </View>\r\n          <QRCode\r\n            size={300}\r\n            value={qrcodeString}\r\n            color='#761972'\r\n            logo={Paynow}\r\n            logoSize={80}\r\n          />\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={[styles.overlayText, { marginTop: 5 }]}>Thank you!</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { width: 400 }]}\r\n            onPress={() => this.props.handleUpdateFromPaynow('')}>\r\n            <Text style={styles.overlayOptionText}>CONTINUE</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    // width: '40%',\r\n    // backgroundColor: theme.grey2,\r\n    // borderRadius: 5,\r\n    // overflow: 'hidden',\r\n    alignItems: 'center',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Dimensions, FlatList, ScrollView, Platform, Text, Image } from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport Split from './Split';\r\nimport OverlayInputReference from './OverlayInputReference';\r\nimport OverlayMergeBill from './OverlayMergeBill';\r\nimport OverlaySplitBill from './OverlaySplitBill';\r\nimport OverlaySplitAmount from './OverlaySplitAmount';\r\nimport OverlayUpdateTips from './OverlayUpdateTips';\r\nimport OverlayViewSplitted from './OverlayViewSplitted';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayPaynow from './OverlayPaynow';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Pos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      paymentMethods: props.route.params.masters.paymentMethods,\r\n      settings: props.route.params.masters.settings,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedTable: props.route.params.selectedTable,\r\n      payments: props.route.params.pospays,\r\n\r\n      selectedPaymentMethod: null,\r\n      selectedPaymentItem: '',\r\n      numberString: '0',\r\n      pay: props.route.params.selectedTable.balance,\r\n\r\n      overlayPaynowVisible: false,\r\n      overlayInputReferenceVisible: false,\r\n      overlayMergeBillVisible: false,\r\n      overlaySplitBillVisible: false,\r\n      overlaySplitAmountVisible: false,\r\n      overlayUpdateTipsVisible: false,\r\n      overlayViewSplittedVisible: false,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printPurpose: '',\r\n      selectedPrinter: '',\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      splitting: false,\r\n      availableReceipts: [],\r\n      splitReceipts: [],\r\n      tableItems: [],\r\n\r\n      keyHeight: null,\r\n    };\r\n    this.handleBuildNumberString = this.handleBuildNumberString.bind(this);\r\n    this.handleSelectPaymentMethod = this.handleSelectPaymentMethod.bind(this);\r\n    this.handleRounding = this.handleRounding.bind(this);\r\n    this.handleEnterButton = this.handleEnterButton.bind(this);\r\n    this.handleFinishButton = this.handleFinishButton.bind(this);\r\n    this.handleAddPayment = this.handleAddPayment.bind(this);\r\n    this.handleDeletePayment = this.handleDeletePayment.bind(this);\r\n    this.handleFinishPayment = this.handleFinishPayment.bind(this);\r\n    this.handleUnsplitBill = this.handleUnsplitBill.bind(this);\r\n    this.handlePressPaymentItem = this.handlePressPaymentItem.bind(this);\r\n    this.handlePressPaymentItemRef = this.handlePressPaymentItemRef.bind(this);\r\n    this.handlePressMerge = this.handlePressMerge.bind(this);\r\n    this.handlePressUnmerge = this.handlePressUnmerge.bind(this);\r\n    this.handlePressTips = this.handlePressTips.bind(this);\r\n    this.handlePressSplit = this.handlePressSplit.bind(this);\r\n    this.handlePressUnsplit = this.handlePressUnsplit.bind(this);\r\n    this.handleViewSplitted = this.handleViewSplitted.bind(this);\r\n    this.handleUpdateFromInputReference = this.handleUpdateFromInputReference.bind(this);\r\n    this.handleUpdateFromMergeBill = this.handleUpdateFromMergeBill.bind(this);\r\n    this.handleUpdateFromSplitBill = this.handleUpdateFromSplitBill.bind(this);\r\n    this.handleUpdateFromSplitAmount = this.handleUpdateFromSplitAmount.bind(this);\r\n    this.handleUpdateFromSplit = this.handleUpdateFromSplit.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromUpdateTips = this.handleUpdateFromUpdateTips.bind(this);\r\n    this.handleUpdateFromViewSplitted = this.handleUpdateFromViewSplitted.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromPaynow = this.handleUpdateFromPaynow.bind(this);\r\n    this.handleOpenDrawer = this.handleOpenDrawer.bind(this);\r\n    this.handleValidateAmount = this.handleValidateAmount.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleViewSplitted()\r\n  }\r\n\r\n  handleBuildNumberString(type) {\r\n    const { numberString } = this.state;\r\n    const maxLength = 7;\r\n\r\n    if (type === 'DEL') {\r\n      if (numberString.length !== 1) {\r\n        let newNumberString = numberString.slice(0, -1);\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === 'CLEAR') {\r\n      if (numberString !== '0') {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === '.') {\r\n      if (numberString.length > maxLength - 2) return;\r\n      if (numberString.indexOf('.') < '0') {\r\n        let newNumberString = numberString + '.';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '0') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '0';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '00') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 0) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '00';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else { // 9, 8, 7, 6, 5, 4, 3, 2, 1\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + type;\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: type\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSelectPaymentMethod(type) {\r\n    // early exit memberson\r\n    if (type.refType === 'P') {\r\n      const { numberString, selectedTable } = this.state;\r\n      let numberStringUpdate = '';\r\n      if (selectedTable.vipPtsMoney < selectedTable.balance) {\r\n        numberStringUpdate = Math.floor(selectedTable.vipPtsMoney);\r\n      } else {\r\n        numberStringUpdate = Math.floor(selectedTable.balance);\r\n      }\r\n      this.setState({\r\n        numberString: numberStringUpdate,\r\n        selectedPaymentMethod: type,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedPaymentMethod: type,\r\n    });\r\n    console.log(type);\r\n    this.handleRounding(type);\r\n  }\r\n\r\n  handleEnterButton() {\r\n    const { numberString, selectedPaymentMethod } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const decimal = 2;\r\n    if (!selectedPaymentMethod) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Missing Payment Method',\r\n          text: 'Please select a payment method',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    // if (numberStringVal === 0) {\r\n    //   return;\r\n    // }\r\n    // early exit memberson\r\n    if (selectedPaymentMethod.refType === 'P') {\r\n      if (!this.handleValidateAmount()) return;\r\n    }\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleAddPayment());\r\n  }\r\n\r\n  handleValidateAmount() {\r\n    const { numberString, selectedTable } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const isInteger = Number.isInteger(numberStringVal);\r\n    console.log('isInteger', isInteger, selectedTable.balance, selectedTable.vipPtsMoney);\r\n\r\n    if (!Number.isInteger(numberStringVal) || numberStringVal > selectedTable.balance || numberStringVal > selectedTable.vipPtsMoney) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Inappropriate Amount',\r\n          text: 'Enter an integer less than balance and redeemable',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      });\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  handleFinishButton() {\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleFinishPayment());\r\n  }\r\n\r\n  handleFinishPayment(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'FINISH PAYMENT',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUnsplitBill() {\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unsplit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unsplit Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n        this.handleViewSplitted();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPaymentItemRef(item) {\r\n    if (item.pmId === 'PAYNOW') {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        selectedPaymentItem: item,\r\n        overlayInputReferenceVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressPaymentItem(item) {\r\n    this.setState({\r\n      selectedPaymentItem: item,\r\n    });\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleDeletePayment' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: 'Delete payment of ' + Number(item.payMoney).toFixed(2) + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleDeletePayment() {\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAddPayment() {\r\n    const { serviceEntry, home, settings, paymentMethods, selectedPaymentMethod, selectedTable, pay, numberString } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/add-payment';\r\n    console.log('here debug', Number(numberString));\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      pmId: selectedPaymentMethod.pmId,\r\n      payAmt: Number(numberString),\r\n      roundAmt: Number(selectedTable.balance - pay).toFixed(2),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post add-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Add Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          loading: false,\r\n          selectedTable: response.opentable,\r\n          selectedPaymentMethod: null,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        }, () => {\r\n          this.handleRounding(paymentMethods.find(el => el.pmId === selectedPaymentMethod.pmId))\r\n          this.handleAfterAddPayment();\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAfterAddPayment() {\r\n    const { home, selectedTable, payments } = this.state;\r\n    const found = payments.find(el => el.pmId === 'PAYNOW');\r\n    if (found) {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n        overlayPaynowInput: {\r\n          amount: found.payMoney.toFixed(2),\r\n          reference: home.shopId + '-' + selectedTable.docNo,\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  handleRounding(type) {\r\n    console.log(type);\r\n    const { selectedTable } = this.state;\r\n    const { numberString } = this.state;\r\n    const decimal = 2;\r\n    let number = Number(selectedTable.balance);\r\n\r\n    if (type.roundingFlg === 'N') {\r\n      this.setState({\r\n        pay: number,\r\n        numberString: number.toFixed(decimal).toString(),\r\n      });\r\n      return;\r\n    }\r\n\r\n    switch (type.roundType) {\r\n      case '0': // 4 down 5 up\r\n        console.log('case 0');\r\n        // number = Math.round(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '1': // ceiling\r\n        console.log('case 1');\r\n        number = Math.ceil(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '2': // floor 5\r\n        console.log('case 2');\r\n        number = Math.floor(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '3': // floor\r\n        console.log('case 3');\r\n        number = Math.floor(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '4': // closest 5\r\n        console.log('case 4');\r\n        number = Math.round(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '5':\r\n        console.log('legacy case 5 not in use');\r\n        break;\r\n      case '6':\r\n        console.log('legacy case 6 not in use');\r\n        break;\r\n    }\r\n  }\r\n\r\n  handlePressTips() {\r\n    this.setState({\r\n      overlayUpdateTipsVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSplit() {\r\n    this.setState({\r\n      overlaySplitBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnsplit() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUnsplitBill' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Unsplit Bill',\r\n        text: 'Unsplit Bill for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressMerge() {\r\n    this.setState({\r\n      overlayMergeBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnmerge(printer) {\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'UNMERGE BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unmerge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unmerge-bill successful', response.opentable);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unmerge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleViewSplitted() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/splitted-receipts';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get splitted-receipts successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          splitReceipts: response?.filter(el => el.recKey > 0),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, cashierPrinters, privileges, settings, selectedTable } = this.state;\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'OPEN DRAWER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'handleDeletePayment') {\r\n      this.handleDeletePayment();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    } else if (text === 'handleUnsplitBill') {\r\n      this.handleUnsplitBill();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromPaynow(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayPaynowVisible: false,\r\n      });\r\n      return;\r\n    }\r\n  }\r\n\r\n  handleUpdateFromInputReference(text) {\r\n    this.setState({ overlayInputReferenceVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/payment-reference';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n      ref: text,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post payment-reference successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Payment Reference',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplitBill(number, type) {\r\n    if (!number) {\r\n      this.setState({ overlaySplitBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-split-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      splitCount: number,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-split-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Split Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'ITEM') {\r\n          this.setState({\r\n            splitting: true,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else if (type === 'AMOUNT') {\r\n          this.setState({\r\n            overlaySplitAmountVisible: true,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else {\r\n\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplit(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            selectedTable: response.opentable,\r\n            overlaySplitBillVisible: false,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceipts: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          itemPercentages: el.receiptItems.map(obj => ({\r\n            itemRecKey: obj.recKey,\r\n            percentage: obj.percentage,\r\n          }))\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromSplitAmount(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    this.setState({\r\n      overlaySplitAmountVisible: false,\r\n    });\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt-byamt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceiptsByamt: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          amt: el.amount,\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromMergeBill(table, printer) {\r\n    if (!table) {\r\n      this.setState({ overlayMergeBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      tableIdGuest: table.tableId,\r\n      iomodelId: printer && printer.iomodelId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n          overlayMergeBillVisible: false,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromUpdateTips(number, method) {\r\n    this.setState({ overlayUpdateTipsVisible: false });\r\n    if (!number) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-tips';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      tips: Number(number).toFixed(2),\r\n      pmId: method?.pmId || '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-tips successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Tips',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            `${number},${method?.pmId}`,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromViewSplitted(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayViewSplittedVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'UNMERGE BILL') {\r\n      this.handlePressUnmerge(printer);\r\n    } else if (purpose === 'FINISH PAYMENT') {\r\n      this.handleFinishPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.handleOpenDrawer(printer);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege, settings, selectedPrinter, selectedTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.handleOpenDrawer(selectedPrinter, response.userId);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  doLayout(e) {\r\n    this.setState({\r\n      keyHeight: e.nativeEvent.layout.height,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, cashierPrinters, settings, selectedTable,\r\n      overlayInputReferenceVisible, overlayMergeBillVisible, overlaySplitBillVisible, overlayUpdateTipsVisible,\r\n      overlaySplitAmountVisible, overlayViewSplittedVisible, overlayRequestAccessVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayPaynowVisible, overlayPaynowInput,\r\n      numberString, paymentMethods, payments, selectedPaymentMethod, pay,\r\n      splitting, availableReceipts, splitReceipts, tableItems, requestedPrivilege,\r\n      selectedPrinter, printPurpose, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible, loading,\r\n      keyHeight,\r\n    } = this.state;\r\n\r\n    console.log('in pos');\r\n\r\n    if (splitting) {\r\n      return (\r\n        <Split\r\n          serviceEntry={serviceEntry}\r\n          home={home}\r\n          selectedTable={selectedTable}\r\n          availableReceipts={availableReceipts}\r\n          tableItems={tableItems}\r\n          cashierPrinters={cashierPrinters}\r\n          handleUpdateFromSplit={this.handleUpdateFromSplit} />\r\n      );\r\n    }\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayInputReferenceVisible &&\r\n          <OverlayInputReference\r\n            handleUpdateFromInputReference={this.handleUpdateFromInputReference} />\r\n        }\r\n        {\r\n          overlayMergeBillVisible &&\r\n          <OverlayMergeBill\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            cashierPrinters={cashierPrinters}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeBill={this.handleUpdateFromMergeBill} />\r\n        }\r\n        {\r\n          overlaySplitBillVisible &&\r\n          <OverlaySplitBill\r\n            handleUpdateFromSplitBill={this.handleUpdateFromSplitBill} />\r\n        }\r\n        {\r\n          overlaySplitAmountVisible &&\r\n          <OverlaySplitAmount\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromSplitAmount={this.handleUpdateFromSplitAmount} />\r\n        }\r\n        {\r\n          overlayViewSplittedVisible &&\r\n          <OverlayViewSplitted\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            handleUpdateFromViewSplitted={this.handleUpdateFromViewSplitted} />\r\n        }\r\n        {\r\n          overlayUpdateTipsVisible &&\r\n          <OverlayUpdateTips\r\n            paymentMethods={paymentMethods}\r\n            handleUpdateFromUpdateTips={this.handleUpdateFromUpdateTips} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayPaynowVisible &&\r\n          <OverlayPaynow\r\n            home={home}\r\n            input={overlayPaynowInput}\r\n            handleUpdateFromPaynow={this.handleUpdateFromPaynow} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.leftFirstContainer}>\r\n            <View style={styles.rowOf5}\r\n              onLayout={(e) => this.doLayout(e)}>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => navigation.goBack()}>\r\n                <Text style={[styles.headerKeyTextTableId,]}>{selectedTable.tableId}</Text>\r\n                <Text style={[styles.headerKeyText, { marginTop: 0 }]}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.headerKeyContainer, (selectedTable.splitFlg === 'Y') && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressTips()}\r\n                disabled={selectedTable.splitFlg === 'Y'}>\r\n                <AntDesign name='like2' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('tips')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => this.handleOpenDrawer()}>\r\n                <AntDesign name='laptop' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('drawer')}</Text>\r\n              </TouchableOpacity>\r\n              {\r\n                selectedTable.splitFlg === 'Y' ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnsplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unsplit')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressSplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('splitbill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n              {\r\n                selectedTable.hostFlg === 'Y' || selectedTable.refTableId\r\n                  ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnmerge()}>\r\n                    <AntDesign name='menuunfold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unmerge')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={[styles.headerKeyContainer, selectedTable.splitFlg === 'Y' && { opacity: 0.2 }]}\r\n                    disabled={selectedTable.splitFlg === 'Y'}\r\n                    onPress={() => this.handlePressMerge()}>\r\n                    <AntDesign name='menufold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('mergebill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n          <View style={styles.leftSecondContainer}>\r\n            <View style={styles.tableSummaryContainer}>\r\n              <View style={styles.tableSummaryTitleContainer}>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('beforedisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('totaldisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('servicecharge')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tax')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tips')} {selectedTable.tipsPmId}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.reserved }]}>{intl.get('grandtotal')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.paid }]}>{intl.get('pay')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('balance')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tender')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('change')}</Text>\r\n                </View>\r\n              </View>\r\n              <View style={styles.tableSummaryValueContainer}>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.beforeDisc ? selectedTable.beforeDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalDisc ? selectedTable.totalDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.serviceCharge ? selectedTable.serviceCharge.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalTax ? selectedTable.totalTax.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tips ? selectedTable.tips.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.reserved }]}>{selectedTable.grandTotal.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.paid }]}>{pay.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.balance.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tender.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.change.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n            <ScrollView\r\n              style={{ maxHeight: 30, }}\r\n              horizontal={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                selectedTable.vipId &&\r\n                <View\r\n                  style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{selectedTable.vipId || '-'}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.reserved, }}>{selectedTable.vipName || '-'}</Text>\r\n                </View>\r\n              }\r\n              {\r\n                splitReceipts && splitReceipts.map(item =>\r\n                  <View key={item.recKey.toString()}\r\n                    style={{ flexDirection: 'row', flex: 1, alignItems: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{item.docId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', }}>{item.grandTotal ? item.grandTotal.toFixed(2) : '-'}</Text>\r\n                  </View>)\r\n              }\r\n            </ScrollView>\r\n            <View style={{ flex: 1, backgroundColor: theme.grey3, borderRadius: 5 }}>\r\n              <View style={styles.paymentsContainer}>\r\n                <View style={styles.paymentsFirst}><Text style={styles.paymentsTitleText}>No.</Text></View>\r\n                <View style={styles.paymentsSecond}><Text style={styles.paymentsTitleText}>Payment ID</Text></View>\r\n                <View style={styles.paymentsThird}><Text style={styles.paymentsTitleText}>Ref</Text></View>\r\n                <View style={styles.paymentsFourth}><Text style={styles.paymentsTitleText}>Amount</Text></View>\r\n              </View>\r\n              <ScrollView\r\n                style={{ flex: 1 }}\r\n                ref={ref => this.posScrollView = ref}\r\n                onContentSizeChange={(contentWidth, contentHeight) => {\r\n                  this.posScrollView.scrollToEnd({ animated: true });\r\n                }}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  payments.map((item, index) => (\r\n                    <View style={styles.datumContainer} key={index}>\r\n                      <View style={styles.datumFirst}><Text style={styles.datumText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={styles.datumSecond} onPress={() => this.handlePressPaymentItem(item)}>\r\n                        <Text style={styles.datumText}>{item.name}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.datumThird} onPress={() => this.handlePressPaymentItemRef(item)}>\r\n                        <Text style={styles.datumText}>{item.payRef}</Text>\r\n                      </TouchableOpacity>\r\n                      <View style={styles.datumFourth}><Text style={styles.datumText}>{item.payMoney.toFixed(2)}</Text></View>\r\n                    </View>\r\n                  ))\r\n                }\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightFirstContainer}>\r\n            <FlatList\r\n              style={{ flex: 3 }}\r\n              showsVerticalScrollIndicator={false}\r\n              numColumns={5}\r\n              data={paymentMethods}\r\n              extraData={selectedPaymentMethod}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => {\r\n                if (keyHeight) return (\r\n                  <View style={{ flex: 1 / 5, height: keyHeight }}>\r\n                    <TouchableOpacity\r\n                      style={[item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyContainer : styles.functionKeyContainer, item.pmId ? null : { opacity: 0.2 },]}\r\n                      onPress={() => this.handleSelectPaymentMethod(item)}>\r\n                      <Image\r\n                        style={{ flex: 1, aspectRatio: 1 }}\r\n                        source={{\r\n                          uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.pmId + '&t=' + item.lastupdate\r\n                        }}\r\n                      />\r\n                      <View style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, alignItems: 'center', justifyContent: 'center', }}>\r\n                        <Text style={item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyText : styles.functionKeyText}>{item.pmId}</Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )\r\n              }}\r\n            />\r\n          </View>\r\n          <View style={styles.rightFirstNumberContainer}>\r\n            <Text style={styles.rightFirstNumberText}>{numberString}</Text>\r\n          </View>\r\n          <View style={styles.rightSecondContainer}>\r\n            <View style={styles.rightSecondLeftContainer}>\r\n              <TouchableOpacity style={styles.clearContainer} onPress={() => this.handleBuildNumberString('CLEAR')}>\r\n                <Text style={styles.keyText}>\r\n                  CLEAR\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.rightSecondMiddleContainer}>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('7')}>\r\n                  <Text style={styles.keyNumberText}>7</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('4')}>\r\n                  <Text style={styles.keyNumberText}>4</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('1')}>\r\n                  <Text style={styles.keyNumberText}>1</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('0')}>\r\n                  <Text style={styles.keyNumberText}>0</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('8')}>\r\n                  <Text style={styles.keyNumberText}>8</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('5')}>\r\n                  <Text style={styles.keyNumberText}>5</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('2')}>\r\n                  <Text style={styles.keyNumberText}>2</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('.')}>\r\n                  <Text style={styles.keyNumberText}>.</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('9')}>\r\n                  <Text style={styles.keyNumberText}>9</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('6')}>\r\n                  <Text style={styles.keyNumberText}>6</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('3')}>\r\n                  <Text style={styles.keyNumberText}>3</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('00')}>\r\n                  <Text style={styles.keyNumberText}>00</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.rightSecondRightContainer}>\r\n              <TouchableOpacity style={styles.backspaceContainer} onPress={() => this.handleBuildNumberString('DEL')}>\r\n                {/* <Ionicons name='ios-arrow-round-back' size={48} color='white' /> */}\r\n                <Text style={styles.keyText}>\r\n                  DEL\r\n                </Text>\r\n              </TouchableOpacity>\r\n              {\r\n                (selectedTable.balance === 0 && !selectedPaymentMethod) ?\r\n                  <TouchableOpacity style={[styles.finishContainer, loading && { opacity: 0.2 }]}\r\n                    disabled={loading}\r\n                    onPress={() => this.handleFinishButton()}>\r\n                    {/* <Ionicons name='ios-arrow-up' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      FINISH\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={[styles.enterContainer, loading && { opacity: 0.2 }]}\r\n                    disabled={loading}\r\n                    onPress={() => this.handleEnterButton()}>\r\n                    {/* <Ionicons name='ios-return-left' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      ENTER\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight2 = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    padding: 5,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n  },\r\n  leftFirstContainer: {\r\n    // backgroundColor: 'blue',\r\n    flex: 1,\r\n  },\r\n  leftSecondContainer: {\r\n    flex: 7,\r\n    margin: 5,\r\n  },\r\n  rightFirstContainer: {\r\n    flex: 3,\r\n  },\r\n  rightSecondContainer: {\r\n    flex: 4,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondLeftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightSecondMiddleContainer: {\r\n    flex: 3,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondRightContainer: {\r\n    flex: 1,\r\n  },\r\n  rowOf5: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightFirstNumberContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tableSummaryContainer: {\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'row',\r\n    // backgroundColor: 'brown',\r\n    marginHorizontal: 60,\r\n    marginTop: 10,\r\n    marginBottom: 20,\r\n  },\r\n  tableSummaryTitleContainer: {\r\n    alignItems: 'flex-start',\r\n    // backgroundColor: 'green'\r\n  },\r\n  tableSummaryValueContainer: {\r\n    alignItems: 'flex-end',\r\n    // backgroundColor: 'blue'\r\n  },\r\n  tableSummaryTitle: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n    // backgroundColor:'red'\r\n  },\r\n  tableSummaryValue: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  tableSummaryTitleText: {\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n    color: 'white',\r\n  },\r\n  tableSummaryValueText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  keyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backspaceContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  enterContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.reserved,\r\n  },\r\n  finishContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.occupied,\r\n    borderRadius: 5,\r\n    borderWidth: 2,\r\n    borderColor: 'white',\r\n  },\r\n  clearContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.paid,\r\n  },\r\n  functionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  activeFunctionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'white',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyTextTableId: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 24,\r\n  },\r\n  headerKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 12,\r\n  },\r\n  keyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  keyNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  functionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  activeFunctionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'black',\r\n    textAlign: 'center',\r\n  },\r\n  rightFirstNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 64,\r\n  },\r\n  paymentsContainer: {\r\n    height: 30,\r\n    // backgroundColor: 'white',\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n  },\r\n  dataContainer: {\r\n    flex: 1,\r\n  },\r\n  paymentsFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  paymentsSecond: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsThird: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  paymentsTitleText: {\r\n    color: theme.grey5,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  datumFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  datumSecond: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  datumThird: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  datumFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  datumText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  datumContainer: {\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Adhoc extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      menus: props.route.params.masters.menus,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedAdhocItem: '',\r\n      selectedMenu: '',\r\n      adhocItems: [],\r\n\r\n      searchText: '',\r\n      availableMenus: props.route.params.masters.menus.filter(menu => {\r\n        return menu.menuType === 'X';\r\n      }),\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSelectAdhoc = this.handleSelectAdhoc.bind(this);\r\n    this.handlePressSettleAsMenu = this.handlePressSettleAsMenu.bind(this);\r\n    this.handlePressSettleAsRetail = this.handlePressSettleAsRetail.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doGet();\r\n  }\r\n\r\n  doGet() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/opentable-adhocs';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get opentable-adhocs successful', response);\r\n        // to state\r\n        this.setState({\r\n          adhocItems: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    this.setState({\r\n      selectedAdhocItem: item,\r\n      selectedMenu: '',\r\n    });\r\n  }\r\n\r\n  handleSelectAdhoc(item) {\r\n    const { selectedAdhocItem } = this.state;\r\n    if (!selectedAdhocItem) return;\r\n    this.setState({\r\n      selectedMenu: item,\r\n    });\r\n  }\r\n\r\n  handlePressSettleAsMenu() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, settings, selectedTable, selectedAdhocItem, selectedMenu } = this.state;\r\n\r\n    if (!selectedAdhocItem) return;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      orderQty: '1',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Adhoc Settle Menu',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedAdhocItem.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.doGet();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressSettleAsRetail() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, settings, selectedTable, selectedAdhocItem } = this.state;\r\n\r\n    if (!selectedAdhocItem) return;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      // restmenuRecKey: menu.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      orderQty: selectedAdhocItem.orderQty,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Adhoc Settle Retail',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedAdhocItem.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.doGet();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus.filter(menu => {\r\n      return menu.menuType === 'X';\r\n    });\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, adhocItems, selectedAdhocItem, selectedMenu, searchText, availableMenus,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in adhoc',);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n              <Text style={styles.overlaySubtitleText}>Ad Hoc</Text>\r\n              <Text style={styles.overlayTitleText}>{adhocItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={[styles.button, { opacity: 0.2 }]}\r\n                disabled={true}\r\n                onPress={() => this.handlePressSettleAsRetail()}>\r\n                <Text style={styles.buttonText}>Settle</Text>\r\n                <Text style={styles.buttonText}>As</Text>\r\n                <Text style={styles.buttonText}>Retail</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={!selectedMenu}\r\n                onPress={() => this.handlePressSettleAsMenu()}>\r\n                <Text style={styles.buttonText}>Settle</Text>\r\n                <Text style={styles.buttonText}>As</Text>\r\n                <Text style={styles.buttonText}>Menu</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                adhocItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    style={[styles.tableItemContainer, (selectedAdhocItem.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}>\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.name}\r\n                      </Text>\r\n                      <Text style={styles.tableItemText}>\r\n                        {moment(item.createDate).format(\"HH:mm\")}\r\n                      </Text>\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={styles.actionButton}\r\n              onPress={() => navigation.goBack()}>\r\n              <Text style={[styles.buttonText, { color: theme.paid }]}>QUIT</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightWrapper}>\r\n            <View style={styles.searchBox}>\r\n              <TextInput style={styles.searchBoxInputValue}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                value={searchText}\r\n                onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n              />\r\n              <TouchableOpacity style={styles.searchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={{ flex: 1 }}\r\n              data={availableMenus}\r\n              keyExtractor={item => item.recKey.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  key={item.recKey}\r\n                  style={[styles.grid, (selectedMenu.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.handleSelectAdhoc(item)}>\r\n                  <View style={styles.gridFirst}>\r\n                    <View style={styles.gridFirstLeft}>\r\n                      <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                    </View>\r\n                    <View style={styles.gridFirstRight}>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.gridSecond}>\r\n                    <Text style={styles.gridSecondText}>\r\n                      {item.menuName}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.gridThird}>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  rightWrapper: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    width: 400,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    height: 80,\r\n    width: 400,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  FlatList, TextInput,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Dayclose extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      dayclosePayments: props.route.params.dayclosePayments,\r\n      daycloseSubPayments: props.route.params.daycloseSubPayments,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      total: props.route.params.dayclosePayments.reduce((init, obj) => { return init + obj.systemAmt }, 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }),\r\n      focused: null,\r\n    };\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n\r\n    this.handleFinishDayclose = this.handleFinishDayclose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleFinishDayclose(printer);\r\n  }\r\n\r\n  handleFinishDayclose(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, dayclosePayments, daycloseSubPayments, cashierPrinters } = this.state;\r\n    if (dayclosePayments.length === 0) {\r\n      return;\r\n    }\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/finish-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      daycloseRecKey: dayclosePayments[0].masRecKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      verify: dayclosePayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n      subVerify: daycloseSubPayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Dayclose',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  doChangeText(item, text) {\r\n    const { dayclosePayments, daycloseSubPayments } = this.state;\r\n    const found = dayclosePayments.find(el => el.pmId === item.pmId);\r\n    this.setState({\r\n      [item.recKey]: text,\r\n      [found.recKey]: daycloseSubPayments.filter(el => el.pmId === item.pmId && el.recKey !== item.recKey).reduce((init, el) => {\r\n        return init + (this.state[el.recKey] || 0) * el.pmValue\r\n      }, Number(text) * item.pmValue)\r\n    })\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { focused, dayclosePayments, daycloseSubPayments } = this.state;\r\n    const found = daycloseSubPayments.find(el => el.recKey === focused);\r\n    if (item === 'CLEAR') {\r\n      this.doChangeText(found, '0')\r\n    } else if (Number(this.state[focused]) === 0) {\r\n      this.setState({ [focused]: item })\r\n      this.doChangeText(found, item)\r\n    } else {\r\n      this.doChangeText(found, (this.state[focused] || '') + item)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { settings, dayclosePayments, daycloseSubPayments, cashierPrinters, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible,\r\n      total, focused } = this.state;\r\n    const settingDAYCLOSEVERIFY = settings.find(el => el.setId === 'DAYCLOSEVERIFY')?.setString;\r\n    console.log('in dayclose', focused);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='DAY-END CLOSE'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>BACK</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Day-end Closing</Text>\r\n            <Text style={styles.overlayTitleText}>{dayclosePayments.length} PAYMENT METHODS</Text>\r\n          </View>\r\n          {\r\n            settingDAYCLOSEVERIFY === 'N' &&\r\n            <View style={styles.summary}>\r\n              <Text style={styles.summaryText}>TOTAL</Text>\r\n              <Text style={styles.summaryTotalText}>{total}</Text>\r\n            </View>\r\n          }\r\n          <View style={styles.searchBoxInfo}>\r\n            <View style={styles.titleFirstContainer}>\r\n              <Text style={styles.titleText}>Line No.</Text>\r\n            </View>\r\n            <View style={styles.titleSecondContainer}>\r\n              <Text style={styles.titleText}>Payment ID</Text>\r\n            </View>\r\n            <View style={styles.titleThirdContainer}>\r\n              <Text style={styles.titleText}>Payment Name</Text>\r\n            </View>\r\n            <View style={styles.titleFourthContainer}>\r\n              <Text style={styles.titleText}>Amount</Text>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            data={dayclosePayments}\r\n            showsVerticalScrollIndicator={false}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <>\r\n                <View style={[styles.tableItemContainer, (Number(this.state[item.recKey] || 0).toFixed(2) !== (item.systemAmt + item.floatAmt).toFixed(2) && daycloseSubPayments.some(el => el.pmId === item.pmId) && settingDAYCLOSEVERIFY === 'Y') && { backgroundColor: theme.paid }]}>\r\n                  <View style={styles.tableItemFirstContainer}>\r\n                    <Text style={styles.tableItemText}>{item.lineNo}</Text>\r\n                  </View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.pmId}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemFourthContainer}>\r\n                    {\r\n                      (settingDAYCLOSEVERIFY === 'Y' && daycloseSubPayments.some(obj => obj.pmId === item.pmId)) ?\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {(this.state[item.recKey] || 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                        :\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                {\r\n                  daycloseSubPayments.filter(el => el.pmId === item.pmId).map(el =>\r\n                    <View key={el.recKey.toString()}\r\n                      style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}>\r\n                        <Text style={styles.tableItemText}></Text>\r\n                      </View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, justifyContent: 'center' }}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {el.subPmId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, }}>\r\n                        <View style={[styles.inputRowRight, { marginRight: 10 }, focused === el.recKey && { backgroundColor: theme.reserved }]}>\r\n                          <TextInput style={[styles.textInput, focused === el.recKey && { color: 'black' }]}\r\n                            keyboardType='numeric'\r\n                            selectTextOnFocus={true}\r\n                            value={this.state[el.recKey] || '0'}\r\n                            onChangeText={text => this.doChangeText(el, text)}\r\n                            onFocus={() => this.setState({ focused: el.recKey })}\r\n                          />\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {(el.pmValue * Number(this.state[el.recKey] || 0)).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={[styles.containerThird]}>\r\n          <View style={{ flex: 1, }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleFinishDayclose()}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>DAY CLOSE</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View>\r\n            {\r\n              focused &&\r\n              <FlatList\r\n                data={['1', '2', '3', '4', '5', '6', '7', '8', '9', 'CLEAR', '0']}\r\n                scrollEnabled={false}\r\n                showsVerticalScrollIndicator={false}\r\n                numColumns={3}\r\n                keyExtractor={(item, index) => index.toString()}\r\n                renderItem={({ item }) => (\r\n                  <View style={{ flex: 1 / 3, aspectRatio: 1 }}>\r\n                    <TouchableOpacity style={{ margin: 2.5, flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: 'black', borderRadius: 5, }}\r\n                      onPress={() => this.doPressKey(item)}>\r\n                      {\r\n                        item === 'CLEAR' ?\r\n                          <AntDesign name='close' color='white' size={18} />\r\n                          :\r\n                          <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 18, }}>{item}</Text>\r\n                      }\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )}\r\n              />\r\n            }\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  titleFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 20,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  summary: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  summaryTotalText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    color: theme.reserved,\r\n    textAlign: 'center',\r\n  },\r\n  summaryText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Printer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printers: [],\r\n      loading: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home, serviceEntry } = this.state;\r\n    let url = serviceEntry + 'api/iomodels';\r\n    const params = new URLSearchParams();\r\n    params.append('posNo', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('iomodels', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          printers: response,\r\n        }, () => this.handlePingAll())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingPrinter(item) {\r\n    const { serviceEntry, printers } = this.state;\r\n\r\n    let printersUpdate0 = printers;\r\n    printersUpdate0.find(el => el.recKey === item.recKey).statusFlg = 'PING...';\r\n    this.setState({\r\n      printers: printersUpdate0,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/iomodels/' + item.recKey;\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('ping iomodel', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        let printersUpdate = printers;\r\n        if (response.msgId === 'OK') {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'ONLINE';\r\n        } else {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'OFFLINE';\r\n        }\r\n        this.setState({\r\n          printers: printersUpdate,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPingAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handlePingAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Ping All Printers',\r\n        text: 'Send ping to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressTestAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleTestAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Test All Printers',\r\n        text: 'Send test command to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handleTestAll() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/test-printer';\r\n    const params = new URLSearchParams();\r\n    params.append('userId', home.userId);\r\n    params.append('orgId', home.orgId);\r\n    params.append('locId', home.locId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET',\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post test-printer successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingAll() {\r\n    const { printers } = this.state;\r\n    printers.forEach(el => this.handlePingPrinter(el));\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleTestAll') {\r\n      this.handleTestAll();\r\n    } else if (text === 'handlePingAll') {\r\n      this.handlePingAll();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { printers, loading,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('in printers');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2 === 0) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}\r\n                        >\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          key={item.recKey}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}\r\n                        >\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressPingAll()}\r\n              >\r\n                <AntDesign\r\n                  name='fork'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>PING {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressTestAll()}\r\n              >\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('test')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayEnterDate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dateString: props.dateString ? moment(props.dateString).format('YYYY-MM-DD') : moment(new Date()).format('YYYY-MM-DD'),\r\n      valid: true,\r\n    }\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleValidate(dateString) {\r\n    this.setState({\r\n      dateString,\r\n      valid: moment(dateString, 'YYYY-MM-DD', true).isValid(),\r\n    });\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    const { dateString } = this.state;\r\n    if (type === 'PLUS') {\r\n      let dateStringUpdate = moment(dateString).add(1, 'days').format('YYYY-MM-DD');\r\n\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      let dateStringUpdate = moment(dateString).subtract(1, 'days').format('YYYY-MM-DD');\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { dateString, valid } = this.state;\r\n    console.log('in overlayenterdate', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Enter Date</Text>\r\n          </View>\r\n          <View style={styles.inputRow}>\r\n            <TouchableOpacity style={styles.inputRowFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.inputRowSecond}>\r\n              <TextInput style={[styles.textInput, !valid && { color: theme.paid }]}\r\n                keyboardType='numeric'\r\n                value={dateString}\r\n                onChangeText={(dateString) => this.handleValidate(dateString)}\r\n              />\r\n            </View>\r\n            <TouchableOpacity style={styles.inputRowThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity onPress={() => this.setState({ dateString: moment().format('YYYY-MM-DD'), valid: true })}>\r\n            <Text style={styles.overlayText}>YYYY-MM-DD</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }, !valid && { opacity: 0.2 }]}\r\n            disabled={!valid}\r\n            onPress={() => this.props.handleUpdateFromEnterDate(dateString, this.props.dateType)}>\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromEnterDate('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    width: '100%',\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowFirst: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowSecond: {\r\n    flex: 1,\r\n    minWidth: 80,\r\n    width: 150,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowThird: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Report extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedButton: '',\r\n      fromDateString: moment().format('YYYY-MM-DD'),\r\n      toDateString: moment().format('YYYY-MM-DD'),\r\n      reportDetails: '',\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleSelectReport = this.handleSelectReport.bind(this);\r\n    this.handlePrintReport = this.handlePrintReport.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handlePressDate(type) {\r\n    const { fromDateString, toDateString } = this.state;\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n      selectedDateType: type,\r\n      selectedDateString: type === 'FROMDATE' ? fromDateString : toDateString,\r\n    })\r\n  }\r\n\r\n  handleSelectReport(report, superUserId) {\r\n    const { serviceEntry, home, privileges, fromDateString, toDateString } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === report)) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: report,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedButton: report,\r\n    });\r\n    console.log('report');\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: report,\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePrintReport(printer) {\r\n    const { home, serviceEntry, cashierPrinters, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    if (!selectedButton) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/print-bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, type) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    let fromDateStringUpdate = fromDateString;\r\n    let toDateStringUpdate = toDateString;\r\n\r\n    if (type === 'TODATE') {\r\n      toDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    } else {\r\n      fromDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    }\r\n\r\n    this.setState({\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handlePrintReport(printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSelectReport(requestedPrivilege, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, cashierPrinters,\r\n      selectedButton, reportDetails, requestedPrivilege,\r\n      fromDateString, toDateString, selectedDateString, selectedDateType,\r\n      overlayProcedureMessageVisible, overlayEnterDateVisible,\r\n      overlayChoosePrinterVisible, overlayRequestAccessVisible } = this.state;\r\n    console.log('in reports');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            dateType={selectedDateType}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='PRINT REPORT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUESUM' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUESUM')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>SUMMARY</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUEDTL' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUEDTL')}\r\n            >\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>DETAIL</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'COLLECTION' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('COLLECTION')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>PAYMENT</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>COLLECTION</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reports')}</Text>\r\n            <View style={styles.gap}></View>\r\n            <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('FROMDATE')}>\r\n                <Text style={styles.overlayTitleText}>{fromDateString}</Text>\r\n              </TouchableOpacity>\r\n              <Text style={styles.overlayTitleText}>    /    </Text>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('TODATE')}>\r\n                <Text style={styles.overlayTitleText}>{toDateString}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>\r\n              {selectedButton === 'REVENUESUM' ?\r\n                'REVENUE SUMMARY'\r\n                :\r\n                selectedButton === 'REVENUEDTL' ?\r\n                  'REVENUE DETAIL'\r\n                  :\r\n                  selectedButton === 'COLLECTION' ?\r\n                    'PAYMENT COLLECTION'\r\n                    : null}\r\n            </Text>\r\n          </View>\r\n          {\r\n            reportDetails ?\r\n              <ScrollView style={styles.reportContainer}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  reportDetails.map((item, index) =>\r\n                    <View style={styles.reportLineContainer}\r\n                      key={item.recKey}\r\n                    >\r\n                      <View style={styles.reportLineFirst}>\r\n                        <Text style={styles.reportLineFirstText}>{item.description}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineSecond}>\r\n                        <Text style={styles.reportLineSecondText}>{item.qty}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineThird}>\r\n                        <Text style={styles.reportLineThirdText}>{item.val ? item.val.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) : null}</Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </ScrollView>\r\n              : null\r\n          }\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button, !selectedButton && { opacity: 0.2 }]}\r\n              disabled={!selectedButton}\r\n              onPress={() => this.handlePrintReport()}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('print')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n    alignItems: 'center',\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  selection: {\r\n    width: '100%',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  reportContainer: {\r\n    flex: 1,\r\n    width: 440,\r\n    borderTopLeftRadius: 5,\r\n    borderTopRightRadius: 5,\r\n    backgroundColor: theme.grey2,\r\n    padding: 20,\r\n  },\r\n  reportLineContainer: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n  },\r\n  reportLineFirst: {\r\n    width: 240,\r\n  },\r\n  reportLineSecond: {\r\n    width: 60,\r\n  },\r\n  reportLineThird: {\r\n    width: 100,\r\n    alignItems: 'flex-end',\r\n  },\r\n  reportLineFirstText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineSecondText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineThirdText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, ScrollView,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class Reprint extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n\r\n      selectedButton: 'ORDERS',\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      searchText: '',\r\n      receiptsxText: '',\r\n\r\n      headers: '',\r\n      pays: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handlePressSearch = this.handlePressSearch.bind(this);\r\n    this.handleSelectButton = this.handleSelectButton.bind(this);\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleReprint = this.handleReprint.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/orders';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('orders', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response,\r\n          availableMasters: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSearch() {\r\n    const { serviceEntry, home, receiptsxText } = this.state;\r\n    this.setState({\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!receiptsxText) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/receipts-search';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('searchInput', receiptsxText);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas,\r\n          availableMasters: response.receiptmas,\r\n          searches: response.receiptpaydtl,\r\n          details: [],\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, mode) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton } = this.state;\r\n    let url = serviceEntry;\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (selectedButton === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    const dateString = mode === 'LEFT' ?\r\n      moment(text).subtract(1, 'days').format('YYYY-MM-DD')\r\n      : mode === 'RIGHT' ?\r\n        moment(text).add(1, 'days').format('YYYY-MM-DD')\r\n        : moment(text).format('YYYY-MM-DD');\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectButton(type) {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n\r\n    this.setState({\r\n      details: [],\r\n      selectedMaster: '',\r\n      selectedButton: type,\r\n      pays: '',\r\n      headers: '',\r\n    })\r\n\r\n    // early exit for RECEIPTSX \r\n    if (type === 'RECEIPTSX') {\r\n      this.setState({\r\n        masters: [],\r\n        availableMasters: [],\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    if (type === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (type === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (type === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry, selectedButton } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry;\r\n    console.log('item', selectedButton, item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + item.recKey + '/bundle';\r\n    } else {\r\n      url += 'api/daycloses/' + item.recKey + '/amts';\r\n    }\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n          this.setState({\r\n            details: response.receiptitems,\r\n            pays: response.receiptpays,\r\n            headers: response.receiptmas\r\n          });\r\n        } else {\r\n          this.setState({\r\n            details: response,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleReprint(printer) {\r\n    const { serviceEntry, home, cashierPrinters, selectedMaster, selectedButton } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    // console.log('item', item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + selectedMaster.recKey + '/reprint';\r\n    } else {\r\n      url += 'api/daycloses/' + selectedMaster.recKey + '/reprint';\r\n    }\r\n    console.log('debug', home.defaultPrinter);\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post reprint successful', response);\r\n\r\n        // to state\r\n\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || item.createUserId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleReprint(printer);\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { cashierPrinters, selectedButton, masters, availableMasters, details, searchText, receiptsxText,\r\n      selectedMaster, selectedDateString,\r\n      pays, headers,\r\n      overlayChoosePrinterVisible, overlayEnterDateVisible, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='REPRINT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <ScrollView\r\n                style={styles.selectionContainer}\r\n                alwaysBounceVertical={false}\r\n                showsVerticalScrollIndicator={false}>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'ORDERS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('ORDERS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'ORDERS' && { color: theme.grey1 }]}>ORDERS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'KOTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('KOTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'KOTS' && { color: theme.grey1 }]}>KOTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTS' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTSX' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTSX')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTSX' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                  <Text style={[styles.selectionText, { color: theme.paid }]}>UNKNOWN DATE</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'DAYCLOSES' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('DAYCLOSES')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'DAYCLOSES' && { color: theme.grey1 }]}>DAY CLOSES</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                {\r\n                  selectedButton !== 'RECEIPTSX' ?\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={searchText}\r\n                        onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                          Keyboard.dismiss()\r\n                        }}\r\n                      >\r\n                        <AntDesign name='close' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    :\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={receiptsxText}\r\n                        onChangeText={(text) => this.setState({ receiptsxText: text })}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.handlePressSearch();\r\n                          Keyboard.dismiss();\r\n                        }}\r\n                      >\r\n                        <AntDesign name='search1' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                }\r\n                <View style={styles.searchBoxInfo}>\r\n                  {\r\n                    selectedButton !== 'RECEIPTSX' &&\r\n                    <View style={{ flex: 1, flexDirection: 'row' }}>\r\n                      <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                        onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'LEFT')}>\r\n                        <AntDesign name=\"doubleleft\" size={14} color={theme.grey5} />\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                        onPress={() => this.handlePressDate()}>\r\n                        <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                        onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'RIGHT')}>\r\n                        <AntDesign name=\"doubleright\" size={14} color={theme.grey5} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  }\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{selectedButton === 'RECEIPTSX' && moment(item.createDate).format(\"YYYY-MM-DD \")}{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX' ?\r\n                  <View style={styles.gridContainer}>\r\n                    <View style={styles.overlayHeader}>\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </View>\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>Qty</Text>\r\n                      </View>\r\n                      <View style={styles.titleSecondContainer}>\r\n                        <Text style={styles.titleText}>Desc</Text>\r\n                      </View>\r\n                      <View style={styles.titleThirdContainer}>\r\n                        <Text style={styles.titleText}>Price</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Total</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={details}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item }) => (\r\n                        <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <TouchableOpacity style={styles.tableItemSecondContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.netPrice && item.netPrice.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>No.</Text>\r\n                      </View>\r\n                      <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                        <Text style={styles.titleText}>PM ID</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Amount</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={pays}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item, index }) => (\r\n                        <TouchableOpacity\r\n                          style={[styles.tableItemContainer]}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                          <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.pmId}\r\n                            </Text>\r\n                            {\r\n                              item.payRef &&\r\n                              <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                                {item.payRef}\r\n                              </Text>\r\n                            }\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={{ flex: 1 }}>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>DISCOUNT</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={styles.gridContainer}>\r\n                    <TouchableOpacity style={styles.overlayHeader}\r\n                      onPress={() => this.setState({ selectedMaster: '', details: [] })}\r\n                    >\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </TouchableOpacity>\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                            <Text style={styles.titleText}>Payment Method</Text>\r\n                          </View>\r\n                          <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                            <Text style={styles.titleText}>Amount</Text>\r\n                          </View>\r\n                        </View>\r\n                        :\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={styles.titleFirstContainer}>\r\n                            <Text style={styles.titleText}>Qty</Text>\r\n                          </View>\r\n                          <View style={styles.titleSecondContainer}>\r\n                            <Text style={styles.titleText}>Desc</Text>\r\n                          </View>\r\n                          <View style={styles.titleThirdContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Price'}</Text>\r\n                          </View>\r\n                          <View style={styles.titleFourthContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Total'}</Text>\r\n                          </View>\r\n                        </View>\r\n                    }\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.tableItemContainer]}\r\n                            >\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                              >\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.pmId}\r\n                                </Text>\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  ${item.systemAmt && item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                        :\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.tableItemContainer]}\r\n                            >\r\n                              <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                              >\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.refRecKey ? '- ' : null}{item.menuName}\r\n                                </Text>\r\n                                {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemThirdContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.netPrice && item.netPrice.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.lineTotal && item.lineTotal.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                    }\r\n                  </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMaster && { opacity: 0.2 }]}\r\n                onPress={() => this.handleReprint()}\r\n                disabled={!selectedMaster}\r\n              >\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView, FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Resequence extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      selectedTableItems: [],\r\n      arrangedItems: props.route.params.tableItems.filter(el => el.confirmFlg === 'N'),\r\n\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n    this.handleAddLineBreak = this.handleAddLineBreak.bind(this);\r\n    this.handleRemoveLineBreak = this.handleRemoveLineBreak.bind(this);\r\n    this.handleResequence = this.handleResequence.bind(this);\r\n    this.handleShiftTop = this.handleShiftTop.bind(this);\r\n    this.handleShiftUp = this.handleShiftUp.bind(this);\r\n    this.handleShiftDown = this.handleShiftDown.bind(this);\r\n    this.handleShiftBottom = this.handleShiftBottom.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('menu selected', item);\r\n    const { selectedTableItems, arrangedItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = [];\r\n    selectedTableItemsUpdate.push(item);\r\n    let comboItems = [];\r\n    comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n    console.log('comboItems', comboItems);\r\n    comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleReset() {\r\n    this.setState({\r\n      arrangedItems: this.state.tableItems.filter(el => el.confirmFlg === 'N'),\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleAddLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'Y';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleRemoveLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'N';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftTop() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.unshift(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToOffset({ animated: true, offset: 0 }));\r\n  }\r\n\r\n  handleShiftUp() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === 0) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index - 1;\r\n    if (arrangedItems[spliceIndex].refRecKey) {\r\n      spliceIndex = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === arrangedItems[index - 1].refRecKey));\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftDown() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === arrangedItems.length - selectedTableItems.length) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index + 1;\r\n    if (arrangedItemsUpdate.some(el => el.refRecKey === arrangedItemsUpdate[index].recKey)) {\r\n      let skip = arrangedItems.filter(el => el.refRecKey === arrangedItemsUpdate[index].recKey).length;\r\n      console.log('skip', skip);\r\n      spliceIndex += skip;\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftBottom() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.push(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToEnd());\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleResequence() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, tableItems, arrangedItems } = this.state;\r\n\r\n    // count sent table items\r\n    let skip = tableItems.filter(el => el.confirmFlg === 'Y').length;\r\n    console.log('skip', skip);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/resequence';\r\n    const itemPayloads = arrangedItems.map((el, index) =>\r\n    ({\r\n      opentableItemRecKey: el.recKey,\r\n      lineNo: el.lineNo,\r\n      newLineNo: index + 1 + skip,\r\n      lineBreak: el.lineBreak,\r\n    })\r\n    );\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post resequence successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Resequence Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, tableItems, arrangedItems, selectedTableItems,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in resequence', selectedTableItems, arrangedItems);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleReset()}>\r\n              <AntDesign name='reload1' size={36} color='white' />\r\n              <Text style={styles.buttonText}>Reset</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              !selectedTableItems[0] ?\r\n                <View style={[styles.button, { opacity: 0.2 }]}>\r\n                  <AntDesign name='minus' size={36} color='white' />\r\n                  <Text style={styles.buttonText}>Add Break</Text>\r\n                </View>\r\n                :\r\n                selectedTableItems[0].lineBreak === 'Y' ?\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleRemoveLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Remove Break</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleAddLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Add Break</Text>\r\n                  </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleResequence()}>\r\n              <AntDesign name='bars' size={36} color={theme.reserved} />\r\n              <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('resequence')}</Text>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={arrangedItems}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <View>\r\n                {\r\n                  item.lineBreak === 'Y' &&\r\n                  <View style={styles.lineBreakContainer}>\r\n                    <Text style={[styles.tableItemText, { color: theme.paid }]}>- Line Break -</Text>\r\n                  </View>\r\n                }\r\n                <TouchableOpacity\r\n                  disabled={item.refRecKey ? true : false}\r\n                  style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                  onPress={() => this.handleSelectTableItem(item)}>\r\n                  <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.refRecKey && '- '}{item.menuName}\r\n                    </Text>\r\n                    {\r\n                      item.menuMod &&\r\n                      <Text style={styles.tableItemModText}>{item.menuMod}</Text>\r\n                    }\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                    </Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftTop()}>\r\n              <AntDesign name='arrowup' size={36} color='white' />\r\n              <Text style={styles.buttonText}>TOP</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftUp()}>\r\n              <AntDesign name='up' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftDown()}>\r\n              <AntDesign name='down' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftBottom()}>\r\n              <AntDesign name='arrowdown' size={36} color='white' />\r\n              <Text style={styles.buttonText}>BOTTOM</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  lineBreakContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Transfer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      tableItems: props.route.params.tableItems,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      tables: [],\r\n      availableTables: [],\r\n      selectedTargetTable: '',\r\n      selectedTableItems: [],\r\n      searchText: '',\r\n\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTargetTable = this.handleSelectTargetTable.bind(this);\r\n    this.handlePressSelectAll = this.handlePressSelectAll.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.tableId !== selectedTable.tableId),\r\n          availableTables: response.filter(el => el.tableId !== selectedTable.tableId),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  generateTextForSelectAll() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return 'SELECT ALL';\r\n    } else {\r\n      return 'DESELECT ALL';\r\n    }\r\n  }\r\n\r\n  handlePressSelectAll() {\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    if (selectedTableItems.length === 0) {\r\n      this.setState({\r\n        selectedTableItems: tableItems,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedTableItems: [],\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTargetTable(item) {\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    })\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('tableitem selected', item);\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, selectedTableItems, selectedTargetTable, home, serviceEntry, privileges, settings } = this.state;\r\n\r\n    if (selectedTableItems.length === 0 || !selectedTargetTable) {\r\n      return;\r\n    }\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'TRANSFERITEMS')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // convert array to string without items with refRecKey\r\n    let converted = selectedTableItems.filter(el => !el.refRecKey).map(el => el.recKey).reduce((init, el) => { return init + el + ','; }, '');\r\n    console.log('converted', converted);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/transfer-items';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKeyFrom: selectedTable.recKey,\r\n      opentableRecKeyTo: selectedTargetTable.recKey,\r\n      opentableItemRecKeys: converted,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post transfer-items successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Transfer Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedTargetTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { tables, availableTables, searchText } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedTable, selectedTargetTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'TRANSFERITEMS',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access TRANSFERITEMS',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { tableItems, home, selectedTargetTable, availableTables, searchText, selectedTableItems,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in transfer');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='TRANSFERITEM'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3, alignItems: 'center', justifyContent: 'center' }]}>\r\n                  <TouchableOpacity\r\n                    onPress={() => this.handlePressSelectAll()}\r\n                  >\r\n                    <Text style={styles.titleText}>{this.generateTextForSelectAll()}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      onPress={() => this.handleSelectTableItem(item)}\r\n                      disabled={item.refRecKey ? true : false}\r\n                    >\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={[styles.searchBoxInfo, { justifyContent: 'center' }]}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableTables}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedTargetTable.tableId === item.tableId && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectTargetTable(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.sectionId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={[styles.gridFirstRightText, selectedTargetTable.tableId === item.tableId ? { color: 'white' } : { color: theme.occupied }]}>OCCUPIED</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.tableId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedTargetTable || selectedTableItems.length === 0) && { opacity: 0.2 }]}\r\n                onPress={() => this.handleSubmit()}\r\n                disabled={!selectedTargetTable || selectedTableItems.length === 0}\r\n              >\r\n                <AntDesign\r\n                  name='export'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('transfer')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayVoidReceipt extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      returns: props.returns,\r\n      availableReturns: props.returns,\r\n      selectedReturn: '',\r\n\r\n      remarks: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { returns, availableReturns } = this.state;\r\n    let availableReturnsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableReturns);\r\n\r\n    availableReturnsUpdate = returns;\r\n    if (!text) {\r\n      this.setState({\r\n        availableReturns: availableReturnsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableReturnsUpdate = availableReturnsUpdate.filter(item => {\r\n      return item.returnId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableReturns: availableReturnsUpdate\r\n    });\r\n  }\r\n\r\n  handleSubmit(item) {\r\n    const { remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    this.props.handleUpdateFromVoidReceipt(itemWithRemarks);\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableReturns, remarks } = this.state;\r\n    console.log('in overlayvoidreceipt, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Void Receipt</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromVoidReceipt('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableReturns.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableReturns}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.returnId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayVoidReceipt from './OverlayVoidReceipt';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Void extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayVoidReceiptVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      mode: 'VOID',\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleVoid = this.handleVoid.bind(this);\r\n    this.handlePressVoid = this.handlePressVoid.bind(this);\r\n    this.handlePressReopen = this.handlePressReopen.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromVoidReceipt = this.handleUpdateFromVoidReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n    console.log('item', item);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, mode) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = mode === 'LEFT' ?\r\n      moment(text).subtract(1, 'days').format('YYYY-MM-DD')\r\n      : mode === 'RIGHT' ?\r\n        moment(text).add(1, 'days').format('YYYY-MM-DD')\r\n        : moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: dateString,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege, selectedPrinter, selectedReturn } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleVoid(selectedReturn, selectedPrinter, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleReopen') {\r\n      navigation.goBack();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromVoidReceipt(text) {\r\n    this.setState({ overlayVoidReceiptVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedReturn: text,\r\n    })\r\n    this.handleVoid(text);\r\n  }\r\n\r\n  handlePressReopen() {\r\n    this.setState({\r\n      mode: 'REOPEN',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handlePressVoid() {\r\n    this.setState({\r\n      mode: 'VOID',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handleVoid(item, printer, superUserId) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString, mode, } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (!item) {\r\n      this.setState({\r\n        overlayVoidReceiptVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'VOIDRECEIPT',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    if (mode === 'REOPEN') {\r\n      url = serviceEntry + 'api/void-receipt-reopen';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    } else {\r\n      url = serviceEntry + 'api/void-receipt';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    }\r\n    // return;\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post void-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'REOPEN' ? 'Reopen Receipt' : 'Void Receipt',\r\n            home.userName,\r\n            response.message,\r\n            (mode === 'REOPEN' && !response.message) ? response.opentable.tableId : '',\r\n            '',\r\n            selectedMaster.recKey + ',' + selectedMaster.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (mode === 'REOPEN') {\r\n          this.props.route.params.handleUpdateFromVoid(response);\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully, reopened Table ' + response.opentable.tableId,\r\n              ok: false,\r\n              cancel: false,\r\n              options: [{ text: 'Ok', handleText: 'handleReopen' }],\r\n            },\r\n            overlayAlertVisible: true,\r\n            reopenResponse: response,\r\n            loading: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully',\r\n              ok: true,\r\n              cancel: false,\r\n              options: [],\r\n            },\r\n            overlayAlertVisible: true,\r\n            masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            searches: response.receiptpaydtl,\r\n            selectedMaster: '',\r\n            headers: '',\r\n            details: '',\r\n            pays: '',\r\n            loading: false,\r\n          })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayRequestAccessVisible, overlayProcedureMessageVisible,\r\n      overlayVoidReceiptVisible, overlayAlertVisible, overlayAlertInputValue, requestedPrivilege,\r\n      loading, } = this.state;\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayVoidReceiptVisible &&\r\n          <OverlayVoidReceipt\r\n            returns={this.props.route.params.masters.returns}\r\n            handleUpdateFromVoidReceipt={this.handleUpdateFromVoidReceipt} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ flex: 1, flexDirection: 'row' }}>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'LEFT')}>\r\n                      <AntDesign name=\"doubleleft\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                      onPress={() => this.handlePressDate()}>\r\n                      <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'RIGHT')}>\r\n                      <AntDesign name=\"doubleright\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressVoid()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.paid}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.paid }]}>{intl.get('void')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressReopen()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('reopen')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Collect extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, mode) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = mode === 'LEFT' ?\r\n      moment(text).subtract(1, 'days').format('YYYY-MM-DD')\r\n      : mode === 'RIGHT' ?\r\n        moment(text).add(1, 'days').format('YYYY-MM-DD')\r\n        : moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: dateString,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressCollect(printer) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    url = serviceEntry + 'api/collection-receipt';\r\n    body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      receiptRecKey: selectedMaster.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      docDateString: selectedDateString,\r\n    };\r\n    console.log('body', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post collect-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Collect Receipt',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            selectedMaster.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayAlertInputValue: {\r\n            title: 'ALERT',\r\n            subtitle: 'Procedure Reply',\r\n            text: 'Receipt collected successfully',\r\n            ok: true,\r\n            cancel: false,\r\n            options: [],\r\n          },\r\n          overlayAlertVisible: true,\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedMaster: '',\r\n          headers: '',\r\n          details: '',\r\n          pays: '',\r\n          loading: false,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayProcedureMessageVisible,\r\n      overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ flex: 1, flexDirection: 'row' }}>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'LEFT')}>\r\n                      <AntDesign name=\"doubleleft\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                      onPress={() => this.handlePressDate()}>\r\n                      <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'RIGHT')}>\r\n                      <AntDesign name=\"doubleright\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                disabled={!selectedMaster || loading}\r\n                onPress={() => this.handlePressCollect()}>\r\n                <AntDesign\r\n                  name='gift'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('collect')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Table extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      mode: props.route.params.mode,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      vipSources: props.route.params.masters.vipSources,\r\n      availableVipSources: props.route.params.masters.vipSources,\r\n\r\n      overlayPax: props.route.params.mode === 'NEW' ? (props.route.params.masters.tablemas?.find(el => el.tableId === props.route.params.selectedTable.tableId)?.capacity || 2) : (props.route.params.selectedTable.pax || 0),\r\n      overlayVip: props.route.params.mode === 'NEW' ? null\r\n        : {\r\n          vipId: props.route.params.selectedTable.vipId || '',\r\n          vipName: props.route.params.selectedTable.vipName || '',\r\n          vipDisc: props.route.params.selectedTable.vipDisc || '',\r\n          vipPhone: props.route.params.selectedTable.vipPhone || '',\r\n          cumPts: props.route.params.selectedTable.cumPts || '',\r\n          vipPtsMoney: props.route.params.selectedTable.vipPtsMoney || '',\r\n          classId: props.route.params.selectedTable.classId || '',\r\n        },\r\n      overlayValidateVipId: '',\r\n      overlayValidateCardNumber: '',\r\n      overlayValidateNric: '',\r\n      overlayValidateVipName: '',\r\n      overlayValidateVipPhone: '',\r\n      overlayValidateVipPhoneCountryCode: '', // 65\r\n      overlayValidateEmailAddress: '',\r\n\r\n      vipResults: '',\r\n      selectedVipResult: '',\r\n\r\n      overlaySource: props.route.params.mode === 'NEW' ? ''\r\n        : {\r\n          sourceId: props.route.params.selectedTable.sourceId || '',\r\n        },\r\n      overlaySourceSearch: '',\r\n\r\n      overlayDeliveryFlg: props.route.params.mode === 'NEW' ? 'N' : (props.route.params.selectedTable.homeDelivery || ''),\r\n      overlayPostalCode: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.dpostalcode || ''),\r\n      overlayAddr1: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress1 || ''),\r\n      overlayAddr2: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress2 || ''),\r\n      overlayAddr3: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress3 || ''),\r\n      overlayAddr4: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress4 || ''),\r\n\r\n      activeTab: props.route.params.tab || 'PAX',\r\n      warning: '',\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n    this.handlePressTab = this.handlePressTab.bind(this);\r\n    this.handleSearchVip = this.handleSearchVip.bind(this);\r\n    this.handleEnterVip = this.handleEnterVip.bind(this);\r\n    this.handleClearVip = this.handleClearVip.bind(this);\r\n    this.handlePressNext = this.handlePressNext.bind(this);\r\n    this.handlePressPrev = this.handlePressPrev.bind(this);\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleAddressChange = this.handleAddressChange.bind(this);\r\n    this.handleCheckDeliveryFlg = this.handleCheckDeliveryFlg.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { navigation, } = this.props;\r\n    const { mode, home, serviceEntry, selectedTable, settings, overlayPax, overlayVip, overlaySource, overlayValidateVipName, overlayDeliveryFlg,\r\n      overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (!overlayPax && overlayPax !== 0) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + (mode === 'NEW' ? '/change-table-status' : '/update-table-info');\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: 'C',\r\n      pax: overlayPax,\r\n      // vipId: overlayVip?.vipId,\r\n      vipName: overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n      phone: overlayVip?.vipPhone,\r\n      reservationTime: '',\r\n      sourceId: overlaySource.sourceId,\r\n      deliveryFlg: overlayDeliveryFlg,\r\n      postalCode: overlayPostalCode,\r\n      addr1: overlayAddr1,\r\n      addr2: overlayAddr2,\r\n      addr3: overlayAddr3,\r\n      addr4: overlayAddr4,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post table-edit-open successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'NEW' ? 'Open Table' : 'Edit Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        if (mode === 'NEW') {\r\n          this.props.route.params.handleUpdateFromTable();\r\n        } else {\r\n          navigation.goBack();\r\n        }\r\n      })\r\n  }\r\n\r\n  handleAddressChange(type, text) {\r\n    if (type === 'POSTALCODE') {\r\n      this.setState({\r\n        overlayPostalCode: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR1') {\r\n      this.setState({\r\n        overlayAddr1: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR2') {\r\n      this.setState({\r\n        overlayAddr2: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR3') {\r\n      this.setState({\r\n        overlayAddr3: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR4') {\r\n      this.setState({\r\n        overlayAddr4: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    }\r\n  }\r\n\r\n  handleCheckDeliveryFlg() {\r\n    const { overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (overlayPostalCode || overlayAddr1 || overlayAddr2 || overlayAddr3 || overlayAddr4) {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'Y'\r\n      })\r\n    } else {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'N'\r\n      })\r\n    }\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayPax === 0) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handlePaxChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayPax: 0 })\r\n    } else {\r\n      this.setState({ overlayPax: Number(text) })\r\n    }\r\n  }\r\n\r\n  handlePressTab(type) {\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n\r\n    if (type === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (type === 'PAX') {\r\n      this.setState({\r\n        activeTab: 'PAX',\r\n      });\r\n    } else if (type === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    } else if (type === 'DELIVERY') {\r\n      this.setState({\r\n        activeTab: 'DELIVERY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressNext() {\r\n    const { activeTab } = this.state;\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activeTab === 'PAX') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (activeTab === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    } else if (activeTab === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'DELIVERY',\r\n      });\r\n    } else if (activeTab === 'DELIVERY') {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressPrev() {\r\n    const { activeTab } = this.state;\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activeTab === 'PAX') {\r\n      return;\r\n    } else if (activeTab === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'PAX',\r\n      });\r\n    } else if (activeTab === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (activeTab === 'DELIVERY') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateVipName,\r\n      overlayValidateNric, overlayValidateEmailAddress, overlayValidateVipPhone, overlayValidateVipPhoneCountryCode } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/search-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    if (overlayValidateVipId) {\r\n      body.vipId = overlayValidateVipId;\r\n    }\r\n    if (overlayValidateCardNumber) {\r\n      body.cardNumber = overlayValidateCardNumber;\r\n    }\r\n    if (overlayValidateVipName) {\r\n      body.vipName = overlayValidateVipName;\r\n    }\r\n    if (overlayValidateNric) {\r\n      body.nric = overlayValidateNric;\r\n    }\r\n    if (overlayValidateEmailAddress) {\r\n      body.emailAddress = overlayValidateEmailAddress;\r\n    }\r\n    if (overlayValidateVipPhone) {\r\n      body.vipPhone = overlayValidateVipPhone;\r\n      body.vipPhoneCountryCode = overlayValidateVipPhoneCountryCode\r\n    }\r\n    console.log('before searching vip', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Search Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'Invalid VIP search',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          warning: response.length + ' VIP result(s) found',\r\n          vipResults: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleEnterVip(item) {\r\n    this.setState({\r\n      selectedVipResult: item,\r\n    });\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/enter-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n      customerNumber: item.customerNumber,\r\n      name: item.name,\r\n      mobileNumber: item.mobileNumber,\r\n      emailAddress: item.emailaddress,\r\n      customerSource: item.customerSource,\r\n    };\r\n    console.log('before entering vip', item);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Input Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            item.customerNumber + ',' + item.name,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'VIP input unsuccessful',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP input successful',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClearVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/clear-table-vip-info';\r\n    let body = {};\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Clear Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: response.message,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP cleared',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { vipSources, availableVipSources } = this.state;\r\n    let availableVipSourcesUpdate = [];\r\n    this.setState({ overlaySourceSearch: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', availableVipSources);\r\n\r\n    availableVipSourcesUpdate = vipSources;\r\n    if (!text) {\r\n      this.setState({\r\n        availableVipSources: availableVipSourcesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableVipSourcesUpdate = availableVipSourcesUpdate.filter(item => {\r\n      return item.sourceId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableVipSources: availableVipSourcesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { mode, selectedTable, overlayProcedureMessageVisible,\r\n      overlayPax, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateEmailAddress,\r\n      overlayValidateVipPhone, overlayValidateVipPhoneCountryCode, overlayValidateVipName, overlayValidateNric,\r\n      overlaySource, overlaySourceSearch, vipResults, selectedVipResult,\r\n      overlayDeliveryFlg, overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4,\r\n      warning, activeTab, availableVipSources } = this.state;\r\n    console.log('in overlayopentable');\r\n\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{mode === 'NEW' ? intl.get('open') : intl.get('edit')}</Text>\r\n            <Text style={styles.overlayText}>{warning ? warning : 'Enter Pax, VIP & Source'}</Text>\r\n          </View>\r\n          <View style={styles.tabsContainer}>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'PAX' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('PAX')}>\r\n              {\r\n                overlayPax !== null ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                    {overlayPax}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                PAX\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'VIP' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('VIP')}>\r\n              {\r\n                overlayVip?.vipId ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                    {overlayVip?.vipId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                VIP\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'SOURCE' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('SOURCE')}>\r\n              {\r\n                overlaySource.sourceId ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    {overlaySource.sourceId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                SOURCE\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'DELIVERY' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('DELIVERY')}>\r\n              {\r\n                overlayDeliveryFlg === 'Y' ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    YES\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    NO\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                DELIVERY\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          {\r\n            activeTab === 'PAX' ?\r\n              <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                <View style={styles.adjustContainer}>\r\n                  <TouchableOpacity style={styles.adjustFirst}\r\n                    onPress={() => this.handleQtyChange('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.adjustSecond}>\r\n                    <TextInput style={styles.overlayPax}\r\n                      selectTextOnFocus\r\n                      keyboardType='numeric'\r\n                      value={overlayPax?.toString()}\r\n                      onChangeText={(searchText) => this.handlePaxChange(searchText)} />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.adjustThird}\r\n                    onPress={() => this.handleQtyChange('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 1 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 1 })}>\r\n                    <Text style={styles.buttonText}>1</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 2 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 2 })}>\r\n                    <Text style={styles.buttonText}>2</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 3 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 3 })}>\r\n                    <Text style={styles.buttonText}>3</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 4 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 4 })}>\r\n                    <Text style={styles.buttonText}>4</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 5 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 5 })}>\r\n                    <Text style={styles.buttonText}>5</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 6 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 6 })}>\r\n                    <Text style={styles.buttonText}>6</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 7 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 7 })}>\r\n                    <Text style={styles.buttonText}>7</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 8 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 8 })}>\r\n                    <Text style={styles.buttonText}>8</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 9 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 9 })}>\r\n                    <Text style={styles.buttonText}>9</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 10 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 10 })}>\r\n                    <Text style={styles.buttonText}>10</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 11 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 11 })}>\r\n                    <Text style={styles.buttonText}>11</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 12 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 12 })}>\r\n                    <Text style={styles.buttonText}>12</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              </View>\r\n              :\r\n              activeTab === 'VIP' ?\r\n                <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                  {\r\n                    (vipResults && vipResults.length !== 0) ?\r\n                      <View style={styles.selectWrapper}>\r\n                        <View style={styles.searchBoxWrapper}>\r\n                          <View style={[styles.overlaySearchBox, { marginHorizontal: 0, justifyContent: 'space-between', }]}>\r\n                            <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                              onPress={() => this.setState({ vipResults: '' })}\r\n                            >\r\n                              <AntDesign name='close' size={24} color='white' />\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <Text style={styles.searchBoxInfoText}>{vipResults.length} ITEMS</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={[{ flex: 1 }]}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={vipResults}\r\n                          keyExtractor={(item, index) => index.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.overlayGrid, item.customerNumber === selectedVipResult.customerNumber && { backgroundColor: theme.occupied }]}\r\n                              onPress={() => this.handleEnterVip(item)}>\r\n                              <View style={styles.overlayGridFirst}>\r\n                                <View style={styles.overlayGridFirstLeft}>\r\n                                  <Text style={styles.overlayGridFirstLeftText}>{item.customerNumber}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridFirstRight}>\r\n                                  <Text style={[styles.overlayGridFirstRightText, item.customerNumber === selectedVipResult.customerNumber && { color: 'white' }]}>{item.hasActiveMembership} {item.customerSource}</Text>\r\n                                </View>\r\n                              </View>\r\n                              <View style={styles.overlayGridSecond}>\r\n                                <Text style={styles.overlayGridSecondText}>\r\n                                  {item.name}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridThird}>\r\n                                <View style={styles.overlayGridThirdLeft}>\r\n                                  <Text style={styles.overlayGridThirdLeftText}>{item.emailaddress}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridThirdRight}>\r\n                                  <Text style={styles.overlayGridThirdRightText}>{item.mobileNumber ? item.mobileNumber : ' '}</Text>\r\n                                </View>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                      </View>\r\n                      :\r\n                      <View style={styles.vipInputsContainer}>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP ID'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipId) => this.setState({ overlayValidateVipId })}\r\n                            value={overlayValidateVipId}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='CARD NO.'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateCardNumber) => this.setState({ overlayValidateCardNumber })}\r\n                            value={overlayValidateCardNumber}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP NAME'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipName) => this.setState({ overlayValidateVipName })}\r\n                            value={overlayValidateVipName}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 50 }]}\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhoneCountryCode) => this.setState({ overlayValidateVipPhoneCountryCode })}\r\n                            value={overlayValidateVipPhoneCountryCode}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 130 }]}\r\n                            placeholder='VIP PHONE'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhone) => this.setState({ overlayValidateVipPhone })}\r\n                            value={overlayValidateVipPhone}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP EMAIL'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateEmailAddress) => this.setState({ overlayValidateEmailAddress })}\r\n                            value={overlayValidateEmailAddress}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <View style={{ flex: 1, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n                            <TouchableOpacity style={{ paddingHorizontal: 10, height: 20, margin: 5, borderRadius: 40, backgroundColor: theme.paid, alignItems: 'center', justifyContent: 'center' }}\r\n                              onPress={() => this.handleClearVip()}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 10, textTransform: 'uppercase', color: 'white' }}>{intl.get('remove')}</Text>\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP ID</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP CLASS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.classId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP DISC</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipDisc || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP NAME</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipName || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>CUMULATIVE PTS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.cumPts || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>REDEEMABLE</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipPtsMoney || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                      </View>\r\n                  }\r\n                </View>\r\n                :\r\n                activeTab === 'SOURCE' ?\r\n                  <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                    <View style={styles.selectWrapper}>\r\n                      <View style={styles.searchBoxWrapper}>\r\n                        <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                          <TextInput style={styles.overlaySearchBoxInput}\r\n                            placeholder='ENTER SEARCH TEXT'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            onChangeText={(overlaySourceSearch) => this.handleOverlaySearchText(overlaySourceSearch)}\r\n                            value={overlaySourceSearch}\r\n                          />\r\n                          <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                            onPress={() => {\r\n                              this.setState({ overlaySourceSearch: '', overlaySource: '' }, () => this.handleOverlaySearchText(''))\r\n                              Keyboard.dismiss()\r\n                            }}>\r\n                            <AntDesign name='close' size={24} color={theme.grey4} />\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.searchBoxInfo}>\r\n                        <Text style={styles.searchBoxInfoText}>{availableVipSources.length} ITEMS</Text>\r\n                      </View>\r\n                      <FlatList\r\n                        style={[{ flex: 1 }]}\r\n                        showsVerticalScrollIndicator={false}\r\n                        data={availableVipSources}\r\n                        keyExtractor={item => item.recKey.toString()}\r\n                        renderItem={({ item }) => (\r\n                          <TouchableOpacity\r\n                            style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                            onPress={() => this.setState({\r\n                              overlaySource: item,\r\n                              overlaySourceSearch: item.sourceId,\r\n                            })}\r\n                          >\r\n                            <View style={styles.overlayGridFirst}>\r\n                              <View style={styles.overlayGridFirstLeft}>\r\n                                <Text style={styles.overlayGridFirstLeftText}>{item.sourceId}</Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridFirstRight}>\r\n                                <Text style={styles.overlayGridFirstRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                            <View style={styles.overlayGridSecond}>\r\n                              <Text style={styles.overlayGridSecondText}>\r\n                                {item.name}\r\n                              </Text>\r\n                            </View>\r\n                            <View style={styles.overlayGridThird}>\r\n                              <View style={styles.overlayGridThirdLeft}>\r\n                              </View>\r\n                              <View style={styles.overlayGridThirdRight}>\r\n                                <Text style={styles.overlayGridThirdRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                          </TouchableOpacity>\r\n                        )}\r\n                      />\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                    <View style={styles.vipInputsContainer}>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={styles.vipInput}\r\n                          placeholder='POSTAL CODE'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('POSTALCODE', text)}\r\n                          value={overlayPostalCode}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR1'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR1', text)}\r\n                          value={overlayAddr1}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR2'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR2', text)}\r\n                          value={overlayAddr2}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR3'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR3', text)}\r\n                          value={overlayAddr3}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR4'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR4', text)}\r\n                          value={overlayAddr4}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n          }\r\n          <View style={styles.overlayOptionsContainer}>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='close' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {intl.get('close')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressPrev()} >\r\n              <AntDesign name='left' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                PREV\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressNext()} >\r\n              <AntDesign name='right' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                NEXT\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handleSubmit()}>\r\n              <AntDesign name={mode === 'NEW' ? 'appstore-o' : 'edit'} size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {mode === 'NEW' ? intl.get('open') : intl.get('edit')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: theme.grey2,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    flex: 1,\r\n    minWidth: '60%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n    alignItems: 'center',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayPax: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 50,\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 50,\r\n  },\r\n  overlayOptionContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayOptionsContainer: {\r\n    height: 100,\r\n    marginTop: 20,\r\n    backgroundColor: theme.grey3,\r\n    flexDirection: 'row',\r\n    margin: 5,\r\n    width: '100%',\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: 'white',\r\n    marginTop: 5,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayTab: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tabsContainer: {\r\n    height: 40,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginTop: 20,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 50,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlaySearchBoxButtonText: {\r\n    fontSize: 14,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase'\r\n  },\r\n  overlaySearchVipButton: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 110,\r\n  },\r\n  detailWrapper: {\r\n    alignItems: 'flex-end',\r\n    margin: 5,\r\n    width: 370 / 3,\r\n  },\r\n  detailText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  detailTitle: {\r\n    opacity: 0.6,\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    marginTop: 50,\r\n    width: 400,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, ScrollView, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedMenu.serviceFlg === 'N' ? 'B' : (props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : props.route.params.selectedTable?.sectionId === 'SYS' ? 'B' : 'A'),\r\n      lineBreak: props.route.params.selectedTableItem ? props.route.params.selectedTableItem.lineBreak : 'N',\r\n\r\n      modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedMenu.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((props.route.params.selectedTable?.sectionId === 'SYS' && props.route.params.masters.settings.find(el => el.setId === 'POSMODE')?.setString === 'A') ? `*${intl.get('takeaway')}  ` : '')),\r\n      modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount menu', this.state.selectedMenu, this.state.selectedTableItem)\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, modInput } = this.state;\r\n    let modInputUpdate = modInput;\r\n    if (orderType === 'A') {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      modInputUpdate = `*${intl.get('takeaway')}  ` + modInputUpdate;\r\n      this.setState({\r\n        orderType: 'B',\r\n        modInput: modInputUpdate,\r\n      });\r\n    } else {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      this.setState({\r\n        orderType: 'A',\r\n        modInput: modInputUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleLineBreak() {\r\n    const { lineBreak } = this.state;\r\n    this.setState({\r\n      lineBreak: lineBreak === 'Y' ? 'N' : 'Y',\r\n    });\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { modInput, selectedModBundle, modRecKeys } = this.state;\r\n    let modInputUpdate = modInput;\r\n    let modRecKeysUpdate = modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n    this.setState({\r\n      modInput: modInputUpdate,\r\n      modRecKeys: modRecKeysUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys } = this.state;\r\n\r\n    // need preference to auto go through\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (modBundles.filter(el => el.modmas.mustFlg === 'Y' && (el.modmas.globalFlg === 'Y' || mods.some(obj => obj.menuId === selectedMenu.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => modRecKeys.some(el => el === obj.recKey.toString())))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n              qtyInput,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading,\r\n      home, settings, selectedMenu, selectedTable, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          <ScrollView contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              selectedModBundle?.moditems.map(item =>\r\n                <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.doPressMod(item)}>\r\n                  <Text style={styles.modText}>{item.name}</Text>\r\n                  {\r\n                    item.listPrice !== 0 &&\r\n                    <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              )\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId} </Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.reserved, fontSize: 16, }}> ${selectedTableItem?.listPrice?.toFixed(2) || selectedMenu.listPrice?.toFixed(2)}</Text>\r\n                  </View>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM') || selectedMenu.listPrice === 0)}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={modInput}\r\n                  onChangeText={text => this.setState({ modInput: text })}\r\n                />\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    mods?.filter(el => el.menuId === selectedMenu.menuId).length > 0 &&\r\n                    <>\r\n                      <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                        <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MENU SPECIFIC MODIFIER</Text>\r\n                      </View>\r\n                      <View style={styles.modContainer}>\r\n                        {\r\n                          mods?.filter(el => el.menuId === selectedMenu.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                            <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                              onPress={() => this.doPressModBundle(item)}>\r\n                              <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                            </TouchableOpacity>\r\n                          )\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  }\r\n                  <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                    <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>GLOBAL MODIFIER</Text>\r\n                  </View>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      modBundles?.filter(el => el.modmas.globalFlg === 'Y').map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n              </View>\r\n\r\n              <View style={{ height: 100, margin: 5, marginTop: 0, flexDirection: 'row', backgroundColor: 'white' }}>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name='close' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4, textTransform: 'uppercase' }}>\r\n                    {intl.get('close')}\r\n                  </Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name='check' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4 }}>\r\n                    OK\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={{ marginVertical: 5, width: 130, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, margin: 5 }}\r\n                  disabled={selectedMenu.serviceFlg === 'N'}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                {\r\n                  settings.find(el => el.setId === 'MARKFIRE')?.setString === 'Y' ?\r\n                    <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: lineBreak === 'N' ? theme.grey3 : theme.occupied, borderRadius: 5, margin: 5 }}\r\n                      disabled={selectedTableItem?.confirmFlg === 'Y'}\r\n                      onPress={() => this.doToggleLineBreak()}>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase', fontSize: 10 }}>{lineBreak === 'N' ? intl.get('no') : intl.get('add')}</Text>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white' }}>LINE BREAK</Text>\r\n                    </TouchableOpacity>\r\n                    :\r\n                    <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                    </View>\r\n                }\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, View, Dimensions, TouchableOpacity, Platform } from 'react-native';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Scan extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      selectedTable: props.route.params.selectedTable,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      hasCameraPermission: null,\r\n      detected: false,\r\n    };\r\n    this.handleBarCodeScanned = this.handleBarCodeScanned.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { status } = await BarCodeScanner.requestPermissionsAsync();\r\n    this.setState({ hasCameraPermission: status === 'granted' });\r\n  }\r\n\r\n  handleBarCodeScanned({ type, data }) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, detected } = this.state;\r\n    let dataUpdate = data;\r\n    if (Platform.OS === 'ios') {\r\n      if (type === 'org.gs1.EAN-13') {\r\n        if (data.charAt(0) === '0') {\r\n          dataUpdate = data.slice(1);\r\n        }\r\n      }\r\n    }\r\n    this.setState({ detected: true }, () => {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        shopId: home.shopId,\r\n        vipId: home.vipId,\r\n        barcode: dataUpdate,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            this.setState({ detected: false });\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('post scan-barcode successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Scan Barcode',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable?.tableId,\r\n              '',\r\n              dataUpdate,\r\n            );\r\n          navigation.goBack();\r\n        })\r\n        .catch(error => {\r\n          console.log('error: ', JSON.stringify(error));\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { hasCameraPermission, detected } = this.state;\r\n\r\n    // if (hasCameraPermission === null) {\r\n    //     return <Text>Requesting for camera permission</Text>;\r\n    // }\r\n    // if (hasCameraPermission === false) {\r\n    //     return <Text>No access to camera</Text>;\r\n    // }\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <BarCodeScanner\r\n          onBarCodeScanned={detected ? null : this.handleBarCodeScanned}\r\n          style={{ flex: 1 }}\r\n        />\r\n        <TouchableOpacity style={styles.backButton}\r\n          onPress={() => navigation.goBack()}>\r\n          <AntDesign name='left' size={48} color='white' />\r\n          <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.iconContainer}>\r\n          <Ionicons name='ios-barcode' color={detected ? 'red' : 'white'} size={400} />\r\n        </View>\r\n      </ View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst windowWidth = Dimensions.get('window').width;\r\nconst windowHeight = Dimensions.get('window').height;\r\n\r\nconst styles = StyleSheet.create({\r\n  iconContainer: {\r\n    position: 'absolute',\r\n    right: windowWidth / 2 - 200,\r\n    top: windowHeight / 2 - 200,\r\n    opacity: 0.5,\r\n    width: 400,\r\n    height: 400,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backButton: {\r\n    position: 'absolute',\r\n    left: 50,\r\n    top: 50,\r\n    width: 100,\r\n    height: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 10,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, Fontisto, FontAwesome, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport moment from 'moment';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Trace extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      maps: [],\r\n      thisTable: props.route.params.selectedTable ? true : false,\r\n      thisUser: false,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doReload()\r\n  }\r\n\r\n  doReload() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser } = this.state;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doLoad() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser, maps } = this.state;\r\n    // end reached\r\n    if (maps.length < 40) return;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    params.append('recKey', maps[maps.length - 1].recKey);\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: [...maps, ...response],\r\n        });\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleTable() {\r\n    const { thisTable } = this.state;\r\n    this.setState({\r\n      thisTable: !thisTable,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  doToggleUser() {\r\n    const { thisUser } = this.state;\r\n    this.setState({\r\n      thisUser: !thisUser,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, selectedTable,\r\n      maps, thisUser, thisTable,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in trace');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <TouchableOpacity style={styles.overlayHeader} onPress={() => this.traceRef.scrollToOffset({ animated: true, offset: 0 })}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('trace')}</Text>\r\n            <Text style={styles.overlayTitleText}></Text>\r\n          </TouchableOpacity>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.traceRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={maps}\r\n            onEndReachedThreshold={0.4}\r\n            onEndReached={() => this.doLoad()}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <ScrollView\r\n                style={{ minHeight: 40, paddingVertical: 5, }}\r\n                contentContainerStyle={{ alignItems: 'center' }}\r\n                horizontal\r\n                alwaysBounceHorizontal={false}\r\n                showsHorizontalScrollIndicator={false}>\r\n                <Text style={[styles.traceText, { textAlign: 'right', width: 40, color: theme.grey5 }]}>{moment(item.createDate).format('ddd')}</Text>\r\n                <Text style={[styles.traceText, { marginLeft: 10, }]}>{moment(item.createDate).format('HH:mm')}</Text>\r\n                <View style={{ width: 30, marginHorizontal: 5, alignItems: 'center', }}>\r\n                  {\r\n                    item.msg1 === 'Fire Course' &&\r\n                    <Fontisto name=\"fire\" size={20} color={theme.reserved} style={{ marginLeft: 1 }} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Send Order' &&\r\n                    <FontAwesome name=\"send\" size={18} color={theme.occupied} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Payment' &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.paid} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Dayclose' &&\r\n                    <MaterialCommunityIcons name=\"moon-full\" size={22} color={theme.reserved} style={{}} />\r\n                  }\r\n                  {\r\n                    (item.msg1 === 'Open Table' || item.msg1 === 'Create Table' || (item.msg1 === 'Reopen Receipt' && !item.msg3)) &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.occupied} style={{}} />\r\n                  }\r\n                </View>\r\n                <Text style={[styles.traceText, { color: theme.grey5 }]}>{item.msg2} </Text>\r\n                <Text style={[styles.traceText, { marginLeft: 5, color: theme.paid }]}>{item.msg1}</Text>\r\n                {\r\n                  item.msg5 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.reserved }]}>\"{item.msg5}\"</Text>\r\n                }\r\n                {\r\n                  item.msg6 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.vacant }]}>&#60;{item.msg6}&#62;</Text>\r\n                }\r\n                {\r\n                  item.msg4 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.occupied }]}>#{item.msg4}</Text>\r\n                }\r\n                {\r\n                  item.msg3 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.adhoc }]}>[{item.msg3}]</Text>\r\n                }\r\n              </ScrollView>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              onPress={() => this.doToggleUser()}>\r\n              <AntDesign\r\n                name='woman'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText} numberOfLines={1}>{thisUser ? home.userName : `${intl.get('all')} ${intl.get('user')}`}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              disabled={!selectedTable}\r\n              onPress={() => this.doToggleTable()}>\r\n              <AntDesign\r\n                name='appstore-o'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{thisTable ? `${intl.get('table')} ${selectedTable.tableId}` : `${intl.get('all')} ${intl.get('table')}`}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  traceText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n  }\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Activate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [],\r\n      availableMenus: [],\r\n      limiteds: [],\r\n\r\n      updateds: [],\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n\r\n      loading: false,\r\n    };\r\n    this.handleSelectMenu = this.handleSelectMenu.bind(this);\r\n    this.handleSelectUpdated = this.handleSelectUpdated.bind(this);\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleUpdateMenu = this.handleUpdateMenu.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doGet();\r\n    this.doGetMenu();\r\n  }\r\n\r\n  doGet() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doGetMenu() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/menus';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n            availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  handleSelectMenu(item) {\r\n    const { menus, updateds, limiteds } = this.state;\r\n    if (updateds.some(el => el.recKey === item.recKey)) {\r\n      return;\r\n    } else {\r\n      let updatedsUpdate = updateds;\r\n      let itemUpdate = item;\r\n      const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n      itemUpdate.statusFlg = found?.statusFlg || 'A';\r\n      updatedsUpdate.push(itemUpdate);\r\n      this.setState({\r\n        updateds: updatedsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectUpdated(item) {\r\n    const { menus, updateds } = this.state;\r\n    let updatedsUpdate = updateds;\r\n    updatedsUpdate = updatedsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      updateds: updatedsUpdate,\r\n    })\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { updateds } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUpdateMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Update Menu',\r\n        text: 'Update ' + updateds.length + ' menus?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUpdateMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry, updateds } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let updatedsUpdate = updateds.map(el => ({\r\n      recKey: el.recKey,\r\n      newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n    }));\r\n\r\n    const restmenuRecKeys = updatedsUpdate.reduce((init, el) => { return init + el.recKey + ',' + el.newStatusFlg + ','; }, '');\r\n\r\n    let url = serviceEntry + 'api/update-restmenu';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKeys: restmenuRecKeys,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu successful');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            updateds.map(el => ({\r\n              menuId: el.menuId,\r\n              newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n            })).reduce((init, el) => { return init + el.menuId + ',' + el.newStatusFlg + ','; }, ''),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Login', { sync: new Date() });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus, limiteds } = this.state;\r\n    if (displayMode === 'INACTIVE ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => limiteds.some(obj => obj.restmenuRecKey === el.recKey && obj.statusFlg === 'B')),\r\n        searchText: '',\r\n        displayMode: 'INACTIVE ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleUpdateMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleUpdateMenu') {\r\n      this.handleUpdateMenu();\r\n    }\r\n  }\r\n\r\n  renderItem(item) {\r\n    const { limiteds } = this.state;\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.grid}\r\n        onPress={() => this.handleSelectMenu(item)}>\r\n        <View style={styles.gridFirst}>\r\n          <View style={styles.gridFirstLeft}>\r\n            <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n          </View>\r\n          <View style={styles.gridFirstRight}>\r\n            {\r\n              found?.statusFlg === 'B' ?\r\n                <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                :\r\n                <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridSecond}>\r\n          <Text style={styles.gridSecondText}>\r\n            {item.menuName}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, updateds, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => this.renderItem(item)}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3 }]}>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                    <Text style={styles.titleText}>{updateds.length} Changes</Text>\r\n                  </View>\r\n                  <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                    <Text style={styles.titleText}>New Status</Text>\r\n                  </View>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    updateds ?\r\n                      updateds.map((item, index) => (\r\n                        <TouchableOpacity\r\n                          key={index}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handleSelectUpdated(item)}>\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              {\r\n                                item.statusFlg === 'B' ?\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                                  :\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                              }\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.menuName}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                      : null\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (loading || updateds.length === 0) && { opacity: 0.2 }]}\r\n                disabled={loading || updateds.length === 0}\r\n                onPress={() => this.handleSubmit()}>\r\n                <AntDesign\r\n                  name='bulb1'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Limit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [],\r\n      availableMenus: [],\r\n      limiteds: [],\r\n\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      selectedMenu: null,\r\n      statusFlg: '',\r\n      onlineStatusFlg: '',\r\n      serveLimit: '',\r\n\r\n      loading: false,\r\n    };\r\n\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // real time fast changing data\r\n    this.doGet();\r\n    this.doGetMenu();\r\n  }\r\n\r\n  doGet() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doGetMenu() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/menus';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n            availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doSelectMenu(item) {\r\n    const { limiteds } = this.state;\r\n    this.setState({\r\n      selectedMenu: item,\r\n      statusFlg: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.statusFlg || 'A',\r\n      onlineStatusFlg: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.onlineStatusFlg || 'A',\r\n      serveLimit: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.serveLimit.toString() || '0',\r\n    })\r\n  }\r\n\r\n  doToggleStatus() {\r\n    const { statusFlg } = this.state;\r\n    if (statusFlg === 'A') {\r\n      this.setState({ statusFlg: 'B' })\r\n    } else {\r\n      this.setState({ statusFlg: 'A' })\r\n    }\r\n  }\r\n\r\n  doToggleOnlineStatus() {\r\n    const { onlineStatusFlg } = this.state;\r\n    if (onlineStatusFlg === 'A') {\r\n      this.setState({ onlineStatusFlg: 'B' })\r\n    } else {\r\n      this.setState({ onlineStatusFlg: 'A' })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { selectedMenu } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doLimitMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Limit Menu',\r\n        text: 'Limit ' + selectedMenu.menuName + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  doLimitMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry,\r\n      selectedMenu, statusFlg, serveLimit, onlineStatusFlg } = this.state;\r\n    // if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n    //   this.setState({\r\n    //     overlayRequestAccessVisible: true,\r\n    //   });\r\n    //   return;\r\n    // }\r\n\r\n    let url = serviceEntry + 'api/update-restmenu-serve';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      statusFlg: statusFlg,\r\n      onlineStatusFlg: onlineStatusFlg,\r\n      serveLimit: serveLimit,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu-serve');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Limit Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            selectedMenu.menuName,\r\n            serveLimit + ',' + statusFlg + ',' + onlineStatusFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          loading: false,\r\n          displayMode: 'ALL',\r\n          menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n        }, () => this.doGet())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus, availableMenus, limiteds } = this.state;\r\n    if (displayMode === 'LIMITED ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => limiteds?.some(obj => obj.restmenuRecKey === el.recKey)),\r\n        searchText: '',\r\n        displayMode: 'LIMITED ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.doLimitMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doLimitMenu') {\r\n      this.doLimitMenu();\r\n    }\r\n  }\r\n\r\n  renderItem(item) {\r\n    const { limiteds } = this.state;\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.grid}\r\n        onPress={() => this.doSelectMenu(item)}>\r\n        <View style={styles.gridFirst}>\r\n          <View style={styles.gridFirstLeft}>\r\n            <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n          </View>\r\n          <View style={styles.gridFirstRight}>\r\n            {\r\n              found?.statusFlg === 'B' ?\r\n                <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                :\r\n                <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridSecond}>\r\n          <Text style={styles.gridSecondText}>\r\n            {item.menuName}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            {\r\n              (found && found?.serveLimit !== 0) &&\r\n              <Text style={{ fontFamily: 'varela-round', color: theme.vacant, fontSize: 12 }}>LIMIT {found.serveLimit} SERVED {found.serveCount}</Text>\r\n            }\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            {\r\n              (found && found?.onlineStatusFlg === 'B') ?\r\n                <Text style={{ fontFamily: 'varela-round', color: theme.grey7, fontSize: 12 }}>ONLINE ORDER <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 12 }}>OFF</Text></Text>\r\n                :\r\n                <Text style={{ fontFamily: 'varela-round', color: theme.grey7, fontSize: 12 }}>  </Text>\r\n            }\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, selectedMenu, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, statusFlg, onlineStatusFlg, serveLimit } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => this.renderItem(item)}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedMenu &&\r\n                <View style={{ flex: 1, backgroundColor: theme.grey3, borderRadius: 5 }}>\r\n                  <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}>{selectedMenu.menuName}</Text>\r\n                  </View>\r\n                  <View style={styles.inputContainer}>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Status</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.inputRowRight}\r\n                        onPress={() => this.doToggleStatus()}>\r\n                        <Text style={[styles.inputRowRightText, { color: statusFlg === 'A' ? theme.reserved : theme.paid }]}>{statusFlg === 'A' ? 'Active' : 'Inactive'}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Online Order</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.inputRowRight}\r\n                        onPress={() => this.doToggleOnlineStatus()}>\r\n                        <Text style={[styles.inputRowRightText, { color: onlineStatusFlg === 'A' ? theme.reserved : theme.paid }]}>{onlineStatusFlg === 'A' ? 'On' : 'Off'}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Limit</Text>\r\n                      </View>\r\n                      <View style={styles.inputRowRight}>\r\n                        <TextInput style={styles.textInput}\r\n                          keyboardType='numeric'\r\n                          selectTextOnFocus={true}\r\n                          value={serveLimit}\r\n                          onChangeText={text => this.setState({ serveLimit: text })}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={loading || !selectedMenu}\r\n                onPress={() => this.doSubmit()}>\r\n                <AntDesign\r\n                  name='staro'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  inputContainer: {\r\n    marginTop: 30,\r\n    marginHorizontal: 5,\r\n  },\r\n  inputRow: {\r\n    flexDirection: 'row',\r\n    height: 40,\r\n    margin: 5,\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    paddingLeft: 10,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  inputRowLeftText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  inputRowRightText: {\r\n    paddingHorizontal: 10,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, MaterialCommunityIcons, Feather } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Fire extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      kitchenmsgs: props.route.params.masters.kitchenmsgs,\r\n      kottypes: props.route.params.masters.kottypes,\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      remark: '',\r\n      selectedTableItems: [],\r\n      selectedKottypes: [],\r\n      selectedKitchenmsg: null,\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  doReset() {\r\n    Keyboard.dismiss();\r\n    this.setState({\r\n      selectedKitchenmsg: null,\r\n      selectedKottypes: [],\r\n      selectedTableItems: [],\r\n      remark: '',\r\n    })\r\n  }\r\n\r\n  doPressFire() {\r\n    const { selectedKottypes, selectedTableItems, remark } = this.state;\r\n    // let options = [];\r\n    // options.push({ text: 'Yes', handleText: 'doSubmit' });\r\n    // this.setState({\r\n    //   overlayAlertInputValue: {\r\n    //     title: intl.get('action'),\r\n    //     subtitle: 'Fire',\r\n    //     text: `${intl.get('fire')} \"${remark}\" (${selectedTableItems.map(el => el.menuId).join(',')}) (${selectedKottypes.map(el => el.kotType).join(',')})`,\r\n    //     ok: false,\r\n    //     cancel: true,\r\n    //     options: options,\r\n    //   },\r\n    //   overlayAlertVisible: true,\r\n    // });\r\n    this.doSubmit();\r\n  }\r\n\r\n  doPressKitchenmsg(item) {\r\n    const { selectedKitchenmsg, kottypes } = this.state;\r\n    if (selectedKitchenmsg?.recKey === item?.recKey) {\r\n      this.setState({\r\n        selectedKitchenmsg: null,\r\n        remark: '',\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKitchenmsg: item,\r\n        remark: item.name,\r\n        selectedKottypes: item.kotTypes?.split(',').map(el => kottypes.find(obj => obj.kotType === el)) || [],\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressTableItem(item) {\r\n    const { selectedTableItems, } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate = selectedTableItems.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedTableItemsUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressKottype(item) {\r\n    const { selectedKottypes } = this.state;\r\n    let selectedKottypesUpdate = selectedKottypes;\r\n    if (selectedKottypes.some(el => el.recKey === item.recKey)) {\r\n      selectedKottypesUpdate = selectedKottypes.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedKottypesUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedKottypes: selectedKottypesUpdate,\r\n    })\r\n  }\r\n\r\n  doPressAllKottype() {\r\n    const { selectedKottypes, kottypes } = this.state;\r\n    if (!kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey))) {\r\n      this.setState({\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKottypes: kottypes,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSubmit') {\r\n      this.doSubmit();\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, masters, settings,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes, remark } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/fire-kot';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      remark: remark,\r\n      kotTypes: selectedKottypes.map(el => el.kotType).join(','),\r\n      opentableItemRecKeys: selectedTableItems.map(el => el.recKey).join(','),\r\n      msgId: selectedKitchenmsg?.msgId,\r\n    };\r\n    console.log(body)\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post fire-kot successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Fire Course',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            remark + ' (' + selectedTableItems.map(el => el.menuId).join(',') + ')' + ' (' + selectedKottypes.map(el => el.kotType).join(',') + ')',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, remark, kottypes, kitchenmsgs, tableItems,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n    } = this.state;\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.navigateButton}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER MESSAGE'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={remark}\r\n                    onChangeText={(text) => this.setState({ remark: text })}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => this.doReset()}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1, marginHorizontal: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kitchenmsgs}\r\n                  numColumns={2}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, { marginHorizontal: 2.5 }, selectedKitchenmsg?.recKey === item?.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKitchenmsg(item)}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.name}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      disabled={item.refRecKey ? true : false}\r\n                      onPress={() => this.doPressTableItem(item)}>\r\n                      <View style={[styles.tableItemFirstContainer, item.fireFlg === 'Y' && { borderRightColor: theme.reserved }]}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ paddingLeft: 10, alignItems: 'center', justifyContent: 'center', }}>\r\n                    <Text style={styles.titleText}>Destination</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    {\r\n                      selectedKottypes.length > 1 ?\r\n                        <Text style={[styles.titleText, { color: 'white' }]}>Various</Text>\r\n                        :\r\n                        selectedKottypes.length === 1 ?\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{kottypes?.find(el => el.kotType === selectedKottypes[0].kotType)?.kotName}</Text>\r\n                          :\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>-</Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kottypes}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  ListHeaderComponent={\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, !kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey)) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressAllKottype()}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ALL KOT PRINTERS\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedKottypes.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKottype(item)}>\r\n                      <View style={[styles.tableItemSecondContainer, { flexDirection: 'row', justifyContent: 'space-between', paddingRight: 10, alignItems: 'center' }]}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotName}\r\n                        </Text>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotType}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.navigateButton, ((selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark) && { opacity: 0.2 }]}\r\n                disabled={(selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark}\r\n                onPress={() => this.doPressFire()}>\r\n                <AntDesign\r\n                  name='customerservice'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('fire')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  navigateButton: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  navigateButtonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, SectionList, ScrollView, FlatList, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Combo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      comboGroups: props.route.params.masters.comboGroups.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      comboItems: props.route.params.masters.comboItems.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      selectedComboItems: [],\r\n      selectedComboItem: null,\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : props.route.params.selectedTable?.sectionId === 'SYS' ? 'B' : 'A',\r\n\r\n      // modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedTable?.sectionId === 'SYS' ? `*${intl.get('takeaway')}  ` : ''),\r\n      // modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount combo', this.state.comboItems, this.state.selectedComboItems)\r\n    this.doPrepareComboItems();\r\n  }\r\n\r\n  doPrepareComboItems() {\r\n    const { comboItems, tableItems, selectedTableItem } = this.state;\r\n    let tableItemsUpdate = selectedTableItem ? tableItems?.filter(el => el.refRecKey === selectedTableItem.recKey) : [];\r\n    let comboItemsUpdate = comboItems.map(el => ({\r\n      ...el,\r\n      modInput: tableItems?.find(obj => obj.comboitemRecKey === el.recKey)?.menuMod || '',\r\n      modRecKeys: tableItems?.find(obj => obj.comboitemRecKey === el.recKey)?.modRecKeys?.split(',') || [],\r\n    }));\r\n    let selectedComboItemsUpdate = comboItemsUpdate.filter(el => tableItemsUpdate.some(obj => obj.comboitemRecKey === el.recKey));\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n      selectedComboItems: selectedComboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doComboItemModInput(text) {\r\n    const { comboItems, selectedComboItem } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = text;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressComboItem(item) {\r\n    const { selectedComboItems } = this.state;\r\n    let selectedComboItemsUpdate = selectedComboItems;\r\n    if (selectedComboItems.some(el => el.recKey === item.recKey)) {\r\n      selectedComboItemsUpdate = selectedComboItems.filter(el => el.recKey !== item.recKey);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: null,\r\n        selectedModBundle: null,\r\n      })\r\n    } else {\r\n      selectedComboItemsUpdate.push(item);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: item,\r\n        selectedModBundle: null,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, comboItems } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n\r\n    if (orderType === 'A') {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n        el.modInput = `*${intl.get('takeaway')}  ` + el.modInput;\r\n      })\r\n      this.setState({\r\n        orderType: 'B',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    } else {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n      })\r\n      this.setState({\r\n        orderType: 'A',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { selectedModBundle, selectedComboItem, comboItems } = this.state;\r\n    let modInputUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput;\r\n    let modRecKeysUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = modInputUpdate;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modRecKeys = modRecKeysUpdate;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      comboGroups, comboItems, selectedComboItems,\r\n      menuName, qtyInput, orderType, } = this.state;\r\n\r\n    // no table\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // table status\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // combo group min max\r\n    if (comboGroups.some(el => (selectedComboItems.filter(obj => obj.groupNo === el.groupNo).length > el.maxSelectItem || selectedComboItems.filter(obj => obj.groupNo === el.groupNo).length < el.minSelectItem))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK MIN MAX',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // combo item compulsory modifier\r\n    if (selectedComboItems.some(arr => modBundles.filter(el => el.modmas.mustFlg === 'Y' && (el.modmas.globalFlg === 'Y' || mods.some(obj => obj.menuId === arr.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => arr.modRecKeys.some(el => el === obj.recKey.toString()))))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading, preference,\r\n      home, selectedMenu, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      menuName, qtyInput, orderType,\r\n      comboGroups, comboItems, selectedComboItems, selectedComboItem,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          {\r\n            selectedComboItem &&\r\n            <View style={{ flex: 1, marginVertical: 10, marginLeft: 0, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginVertical: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedComboItem.menuId}</Text>\r\n                  <Text style={{\r\n                    fontFamily: 'varela-round',\r\n                    color: 'white',\r\n                    fontSize: 20,\r\n                    textAlign: 'center',\r\n                    paddingHorizontal: 20,\r\n                  }} numberOfLines={2}>{selectedComboItem.menuName}</Text>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput}\r\n                  onChangeText={text => this.doComboItemModInput(text)}\r\n                />\r\n                <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                  <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MODIFIER</Text>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      mods?.filter(el => el.menuId === selectedMenu.menuId || el.menuId === selectedComboItem?.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                    {\r\n                      modBundles?.filter(el => el.modmas.globalFlg === 'Y').map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n                <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                  <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MODIFIER OPTIONS</Text>\r\n                </View>\r\n                <View style={{ flex: 1, backgroundColor: theme.grey4 }}>\r\n                  <ScrollView\r\n                    contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n                    showsVerticalScrollIndicator={false}>\r\n                    {\r\n                      selectedModBundle?.moditems.map(item =>\r\n                        <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, comboItems.find(el => el.recKey === selectedComboItem.recKey)?.modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                          onPress={() => this.doPressMod(item)}>\r\n                          <Text style={styles.modText}>{item.name}</Text>\r\n                          {\r\n                            item.listPrice !== 0 &&\r\n                            <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                          }\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          }\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM'))}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <ScrollView\r\n                  style={{ flex: 1, backgroundColor: theme.grey2, paddingBottom: 5 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    comboGroups.map(el =>\r\n                      <View key={el.recKey.toString()}>\r\n                        <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', }}>\r\n                          <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: 'white', }}>{el.groupName} <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.paid, }}>MIN</Text> {el.minSelectItem} <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.paid, }}>MAX</Text> {el.maxSelectItem}</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={{ margin: -2.5 }}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={comboItems.filter(obj => obj.groupNo === el.groupNo)}\r\n                          numColumns={preference.pcolsize}\r\n                          keyExtractor={(item, index) => item.recKey.toString()}\r\n                          renderItem={({ item }) => this.renderComboItem(item)}\r\n                        />\r\n                      </View>\r\n                    )\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n            </View>\r\n            <View style={{ marginVertical: 5, width: 130, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderComboItem(item) {\r\n    const { preference, selectedComboItems } = this.state;\r\n    const found = selectedComboItems.some(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.pcolsize }}>\r\n        <TouchableOpacity style={{ height: 70, padding: 10, margin: 2.5, backgroundColor: found ? theme.occupied : theme.grey4, }}\r\n          onPress={() => this.doPressComboItem(item)}>\r\n          <View style={{ flex: 1 }}>\r\n            <Text style={{ fontFamily: 'varela-round', color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 12, }}></Text>\r\n            <Text style={[{ fontFamily: 'varela-round', fontSize: 12, color: Number(item.addonPrice) === 0 ? 'transparent' : found ? 'white' : theme.reserved }]}>+{item.addonPrice?.toFixed(2)}</Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { StyleSheet, View, Image, ScrollView, TouchableOpacity, Text, Alert, Platform, Dimensions } from 'react-native';\r\nimport { AntDesign, Ionicons, Entypo, MaterialCommunityIcons, Fontisto, FontAwesome, MaterialIcons } from '@expo/vector-icons';\r\nimport moment from 'moment';\r\nimport io from 'socket.io-client';\r\nimport intl from 'react-intl-universal';\r\nimport Constants from 'expo-constants';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class Secondary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      preference: props.route.params.preference,\r\n\r\n      refresh: moment().format('HH:mm:ss'),\r\n      home: null,\r\n      selectedTable: null,\r\n      tableItems: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntryObj, preference } = this.state;\r\n\r\n    if (preference?.usecondary) {\r\n      global.socket = io(\r\n        serviceEntryObj.restServiceUrl.substring(0, serviceEntryObj.restServiceUrl.lastIndexOf(\"/gateway\")) + '/socket.io',\r\n        {\r\n          query: {\r\n            userId: preference.usecondary,\r\n            serviceId: serviceEntryObj.epbId,\r\n          }\r\n        },\r\n      );\r\n      global.socket.on('room-participate', this.doRoomParticipate);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (global.socket) {\r\n      global.socket.off('room-participate', this.doRoomParticipate)\r\n      global.socket.close();\r\n    }\r\n  }\r\n\r\n  doRoomParticipate = data => {\r\n    console.log('chatbox room-participate', data);\r\n    this.setState({\r\n      home: data.home,\r\n      selectedTable: data.selectedTable,\r\n      tableItems: data.tableItems,\r\n    })\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateTableStatus(item) {\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.transType === 'A') {\r\n        return intl.get('sales');\r\n      } else if (item.transType === 'G') {\r\n        if (item.homeDelivery === 'Y') {\r\n          return intl.get('deposit') + 'DLY';\r\n        } else {\r\n          return intl.get('deposit');\r\n        }\r\n      }\r\n    } else {\r\n      return intl.get(`${item.statusFlg}`).d('Unknown');\r\n    }\r\n  }\r\n\r\n  doTranslateTableItemColor(item) {\r\n    if (item.fireFlg === 'Y') {\r\n      return theme.reserved;\r\n    }\r\n    if (item.confirmFlg === 'Y') {\r\n      return theme.occupied;\r\n    }\r\n    return theme.vacant;\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntryObj, preference, refresh,\r\n      home, selectedTable, tableItems, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        <View style={{ width: 10, backgroundColor: theme.grey8 }}>\r\n          <View style={{ marginTop: 30, height: 100, backgroundColor: this.doTranslateTableColor(selectedTable) }}></View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n          <TouchableOpacity style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}\r\n            onPress={() => navigation.goBack()}>\r\n            <Text style={styles.footerText}>{home?.userName}</Text>\r\n            <Text style={styles.footerText}>{home?.locName}</Text>\r\n          </TouchableOpacity>\r\n          <View style={{ margin: 7, marginLeft: 0, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <View style={{ margin: 3, flex: 1, flexDirection: 'row', }}>\r\n              {\r\n                selectedTable &&\r\n                <View style={{ marginLeft: 0, aspectRatio: 1, backgroundColor: this.doTranslateTableColor(selectedTable), justifyContent: 'center', alignItems: 'center' }}\r\n                >\r\n                  <Text style={styles.tableUpperBand} numberOfLines={1}>{selectedTable.vipName || ''}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 24, letterSpacing: 1 }} numberOfLines={1}>{selectedTable.tableId}</Text>\r\n                  <Text style={styles.tableLowerBand} numberOfLines={1}>{this.doTranslateTableStatus(selectedTable)}</Text>\r\n                </View>\r\n              }\r\n            </View>\r\n            <View style={{ margin: 3, height: 100 }}>\r\n            </View>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: 'white' }}>\r\n            <View style={{ width: 50, height: 20, alignItems: 'center', justifyContent: 'center', borderRightColor: theme.paid }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('qty')}</Text>\r\n            </View>\r\n            <View style={{ flex: 1, justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('desc')}</Text>\r\n            </View>\r\n            <View style={{ paddingRight: 10, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('total')}</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            onContentSizeChange={() => this.scrollViewRef.scrollToEnd()}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              tableItems.filter(el => !el.refRecKey).map(item => (\r\n                <View key={item.recKey.toString()}>\r\n                  {\r\n                    item.lineBreak === 'Y' &&\r\n                    <View style={{ alignItems: 'center', flexDirection: 'row', height: 20, }}>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                      <Text style={{ fontFamily: 'varela-round', color: theme.grey5, fontSize: 12 }}>LINE BREAK</Text>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                    </View>\r\n                  }\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: this.doTranslateTableItemColor(item), }}\r\n                  >\r\n                    <View style={{ paddingVertical: 10, width: 50, alignItems: 'center', borderRightColor: theme.paid }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.orderQty}</Text>\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, flex: 1 }}>\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.menuName}</Text>\r\n                          {\r\n                            item.menuMod &&\r\n                            <Text style={{ fontFamily: 'varela-round', fontSize: 16, color: theme.paid }}>{item.menuMod}</Text>\r\n                          }\r\n                        </View>\r\n                        <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.lineTotal?.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      {\r\n                        tableItems.filter(el => el.refRecKey === item.recKey).map(obj =>\r\n                          <View style={{ marginTop: 5, flexDirection: 'row' }} key={obj.recKey.toString()}>\r\n                            <View style={{ flex: 1, }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14, marginLeft: 10 }}>- {obj.menuName}</Text>\r\n                              {\r\n                                obj.menuMod &&\r\n                                <Text style={{ fontFamily: 'varela-round', fontSize: 14, color: theme.paid }}>{obj.menuMod}</Text>\r\n                              }\r\n                            </View>\r\n                            <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14 }}>{obj.lineTotal ? obj.lineTotal?.toFixed(2) : ''}</Text>\r\n                            </View>\r\n                          </View>\r\n                        )\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <View style={{ margin: 10, marginBottom: 0, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'baseline' }}>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 10 }}></Text>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 28 }}>${selectedTable?.grandTotal?.toFixed(2) || '0.00'}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, flexDirection: 'row', }}>\r\n\r\n          </View>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{moment().format('HH:mm')}</Text>\r\n            <Text style={styles.footerText}>EPB BISTRO {Constants.manifest.version?.split('.')[0]}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: theme.grey1 }}>\r\n          <Image\r\n            style={{ flex: 1 }}\r\n            source={{\r\n              uri: serviceEntryObj.restServiceUrl + 'epbm/api/image/stock?stkId=' + 'BISTRO-SECONDARY-' + serviceEntryObj.epbId + '&isResourceId=true&skuId=&t=' + refresh\r\n            }}\r\n            resizeMode='cover'\r\n          />\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  footerText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableUpperBand: {\r\n    position: 'absolute',\r\n    top: 10, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    // backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'black',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableLowerBand: {\r\n    position: 'absolute',\r\n    bottom: 0, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonText: {\r\n    marginTop: 10,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: theme.grey5,\r\n    textTransform: 'uppercase'\r\n  }\r\n});\r\n","import { Component } from 'react';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport { StyleSheet, Text, View, Platform } from 'react-native';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport * as Font from 'expo-font';\r\nimport intl from 'react-intl-universal';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\n\r\nimport Login from './src/Login';\r\nimport Main from './src/Main';\r\nimport Register from './src/Register';\r\nimport Preference from './src/Preference';\r\nimport Pos from './src/Pos';\r\nimport Split from './src/Split';\r\nimport Adhoc from './src/Adhoc';\r\nimport Dayclose from './src/Dayclose';\r\nimport Printer from './src/Printer';\r\nimport Report from './src/Report';\r\nimport Reprint from './src/Reprint';\r\nimport Resequence from './src/Resequence';\r\nimport Transfer from './src/Transfer';\r\nimport Void from './src/Void';\r\nimport Collect from './src/Collect';\r\nimport Table from './src/Table';\r\nimport Menu from './src/Menu';\r\nimport Scan from './src/Scan';\r\nimport Trace from './src/Trace';\r\nimport Activate from './src/Activate';\r\nimport Limit from './src/Limit';\r\nimport Fire from './src/Fire';\r\nimport Combo from './src/Combo';\r\nimport Secondary from './src/Secondary';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n  }\r\n\r\n  async componentDidMount() {\r\n\r\n    // locale data\r\n    const locales = {\r\n      \"zhs\": require('./assets/zhs.json'),\r\n      \"zht\": require('./assets/zht.json'),\r\n      \"en\": require('./assets/en.json'),\r\n      \"ja\": require('./assets/ja.json'),\r\n    };\r\n\r\n    const currentLocale = await AsyncStorage.getItem('language');\r\n\r\n    await intl.init({\r\n      currentLocale: currentLocale || 'en',\r\n      locales,\r\n    });\r\n\r\n    // ttf for native, woff for web\r\n    await Font.loadAsync({\r\n      // 'varela-round': require('./assets/VarelaRound-Regular.ttf'),\r\n      'varela-round': require('./assets/VarelaRound-Regular.woff'),\r\n    })\r\n\r\n    if (Platform.OS !== 'web') {\r\n      BarCodeScanner.getPermissionsAsync()\r\n        .then(response => {\r\n          if (response.status !== 'granted') return BarCodeScanner.requestPermissionsAsync();\r\n          return Promise.resolve(response);\r\n        })\r\n    }\r\n\r\n    this.setState({ loading: false })\r\n\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n\r\n    if (loading) return <View></View>;\r\n\r\n    return (\r\n      <NavigationContainer>\r\n        <StatusBar hidden />\r\n        <Stack.Navigator\r\n          screenOptions={{\r\n            headerShown: false,\r\n            animation: 'none',\r\n            gestureEnabled: false,\r\n          }}>\r\n          <Stack.Screen name=\"Login\" component={Login} options={Login.navigationOptions} />\r\n          <Stack.Screen name=\"Register\" component={Register} options={Register.navigationOptions} />\r\n          <Stack.Screen name=\"Preference\" component={Preference} options={Preference.navigationOptions} />\r\n          <Stack.Screen name=\"Secondary\" component={Secondary} options={Secondary.navigationOptions} />\r\n          <Stack.Screen name=\"Main\" component={Main} options={Main.navigationOptions} />\r\n          <Stack.Screen name=\"Pos\" component={Pos} options={Pos.navigationOptions} />\r\n          <Stack.Screen name=\"Split\" component={Split} options={Split.navigationOptions} />\r\n          <Stack.Screen name=\"Void\" component={Void} options={Void.navigationOptions} />\r\n          <Stack.Screen name=\"Collect\" component={Collect} options={Collect.navigationOptions} />\r\n          <Stack.Screen name=\"Transfer\" component={Transfer} options={Transfer.navigationOptions} />\r\n          <Stack.Screen name=\"Resequence\" component={Resequence} options={Resequence.navigationOptions} />\r\n          <Stack.Screen name=\"Reprint\" component={Reprint} options={Reprint.navigationOptions} />\r\n          <Stack.Screen name=\"Report\" component={Report} options={Report.navigationOptions} />\r\n          <Stack.Screen name=\"Printer\" component={Printer} options={Printer.navigationOptions} />\r\n          <Stack.Screen name=\"Dayclose\" component={Dayclose} options={Dayclose.navigationOptions} />\r\n          <Stack.Screen name=\"Adhoc\" component={Adhoc} options={Adhoc.navigationOptions} />\r\n          <Stack.Screen name=\"Scan\" component={Scan} options={Scan.navigationOptions} />\r\n          <Stack.Screen name=\"Trace\" component={Trace} options={Trace.navigationOptions} />\r\n          <Stack.Screen name=\"Activate\" component={Activate} options={Activate.navigationOptions} />\r\n          <Stack.Screen name=\"Limit\" component={Limit} options={Limit.navigationOptions} />\r\n          <Stack.Screen name=\"Table\" component={Table} options={Table.navigationOptions} />\r\n          <Stack.Screen name=\"Fire\" component={Fire} options={Fire.navigationOptions} />\r\n          <Stack.Screen name=\"Menu\" component={Menu} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n          <Stack.Screen name=\"Combo\" component={Combo} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n        </Stack.Navigator>\r\n      </NavigationContainer>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n","var map = {\n\t\"./af\": 4506,\n\t\"./af.js\": 4506,\n\t\"./ar\": 9687,\n\t\"./ar-dz\": 2887,\n\t\"./ar-dz.js\": 2887,\n\t\"./ar-kw\": 6307,\n\t\"./ar-kw.js\": 6307,\n\t\"./ar-ly\": 1664,\n\t\"./ar-ly.js\": 1664,\n\t\"./ar-ma\": 9926,\n\t\"./ar-ma.js\": 9926,\n\t\"./ar-sa\": 5207,\n\t\"./ar-sa.js\": 5207,\n\t\"./ar-tn\": 2912,\n\t\"./ar-tn.js\": 2912,\n\t\"./ar.js\": 9687,\n\t\"./az\": 5011,\n\t\"./az.js\": 5011,\n\t\"./be\": 5997,\n\t\"./be.js\": 5997,\n\t\"./bg\": 4427,\n\t\"./bg.js\": 4427,\n\t\"./bm\": 5385,\n\t\"./bm.js\": 5385,\n\t\"./bn\": 7703,\n\t\"./bn-bd\": 7002,\n\t\"./bn-bd.js\": 7002,\n\t\"./bn.js\": 7703,\n\t\"./bo\": 9841,\n\t\"./bo.js\": 9841,\n\t\"./br\": 5642,\n\t\"./br.js\": 5642,\n\t\"./bs\": 4707,\n\t\"./bs.js\": 4707,\n\t\"./ca\": 3512,\n\t\"./ca.js\": 3512,\n\t\"./cs\": 9497,\n\t\"./cs.js\": 9497,\n\t\"./cv\": 6479,\n\t\"./cv.js\": 6479,\n\t\"./cy\": 9318,\n\t\"./cy.js\": 9318,\n\t\"./da\": 7229,\n\t\"./da.js\": 7229,\n\t\"./de\": 3460,\n\t\"./de-at\": 1044,\n\t\"./de-at.js\": 1044,\n\t\"./de-ch\": 6445,\n\t\"./de-ch.js\": 6445,\n\t\"./de.js\": 3460,\n\t\"./dv\": 2096,\n\t\"./dv.js\": 2096,\n\t\"./el\": 6048,\n\t\"./el.js\": 6048,\n\t\"./en-au\": 4301,\n\t\"./en-au.js\": 4301,\n\t\"./en-ca\": 6855,\n\t\"./en-ca.js\": 6855,\n\t\"./en-gb\": 761,\n\t\"./en-gb.js\": 761,\n\t\"./en-ie\": 6127,\n\t\"./en-ie.js\": 6127,\n\t\"./en-il\": 9157,\n\t\"./en-il.js\": 9157,\n\t\"./en-in\": 7199,\n\t\"./en-in.js\": 7199,\n\t\"./en-nz\": 1511,\n\t\"./en-nz.js\": 1511,\n\t\"./en-sg\": 7309,\n\t\"./en-sg.js\": 7309,\n\t\"./eo\": 2160,\n\t\"./eo.js\": 2160,\n\t\"./es\": 8582,\n\t\"./es-do\": 1885,\n\t\"./es-do.js\": 1885,\n\t\"./es-mx\": 8131,\n\t\"./es-mx.js\": 8131,\n\t\"./es-us\": 6962,\n\t\"./es-us.js\": 6962,\n\t\"./es.js\": 8582,\n\t\"./et\": 8890,\n\t\"./et.js\": 8890,\n\t\"./eu\": 7704,\n\t\"./eu.js\": 7704,\n\t\"./fa\": 2562,\n\t\"./fa.js\": 2562,\n\t\"./fi\": 877,\n\t\"./fi.js\": 877,\n\t\"./fil\": 4246,\n\t\"./fil.js\": 4246,\n\t\"./fo\": 8341,\n\t\"./fo.js\": 8341,\n\t\"./fr\": 9867,\n\t\"./fr-ca\": 2347,\n\t\"./fr-ca.js\": 2347,\n\t\"./fr-ch\": 7683,\n\t\"./fr-ch.js\": 7683,\n\t\"./fr.js\": 9867,\n\t\"./fy\": 1982,\n\t\"./fy.js\": 1982,\n\t\"./ga\": 3905,\n\t\"./ga.js\": 3905,\n\t\"./gd\": 3443,\n\t\"./gd.js\": 3443,\n\t\"./gl\": 6905,\n\t\"./gl.js\": 6905,\n\t\"./gom-deva\": 1324,\n\t\"./gom-deva.js\": 1324,\n\t\"./gom-latn\": 1890,\n\t\"./gom-latn.js\": 1890,\n\t\"./gu\": 7134,\n\t\"./gu.js\": 7134,\n\t\"./he\": 6835,\n\t\"./he.js\": 6835,\n\t\"./hi\": 1394,\n\t\"./hi.js\": 1394,\n\t\"./hr\": 3564,\n\t\"./hr.js\": 3564,\n\t\"./hu\": 6269,\n\t\"./hu.js\": 6269,\n\t\"./hy-am\": 7269,\n\t\"./hy-am.js\": 7269,\n\t\"./id\": 4254,\n\t\"./id.js\": 4254,\n\t\"./is\": 8699,\n\t\"./is.js\": 8699,\n\t\"./it\": 8301,\n\t\"./it-ch\": 5060,\n\t\"./it-ch.js\": 5060,\n\t\"./it.js\": 8301,\n\t\"./ja\": 4642,\n\t\"./ja.js\": 4642,\n\t\"./jv\": 2168,\n\t\"./jv.js\": 2168,\n\t\"./ka\": 4501,\n\t\"./ka.js\": 4501,\n\t\"./kk\": 9537,\n\t\"./kk.js\": 9537,\n\t\"./km\": 5808,\n\t\"./km.js\": 5808,\n\t\"./kn\": 4881,\n\t\"./kn.js\": 4881,\n\t\"./ko\": 2951,\n\t\"./ko.js\": 2951,\n\t\"./ku\": 2452,\n\t\"./ku.js\": 2452,\n\t\"./ky\": 1853,\n\t\"./ky.js\": 1853,\n\t\"./lb\": 7639,\n\t\"./lb.js\": 7639,\n\t\"./lo\": 4502,\n\t\"./lo.js\": 4502,\n\t\"./lt\": 874,\n\t\"./lt.js\": 874,\n\t\"./lv\": 8237,\n\t\"./lv.js\": 8237,\n\t\"./me\": 7878,\n\t\"./me.js\": 7878,\n\t\"./mi\": 4234,\n\t\"./mi.js\": 4234,\n\t\"./mk\": 7535,\n\t\"./mk.js\": 7535,\n\t\"./ml\": 3896,\n\t\"./ml.js\": 3896,\n\t\"./mn\": 3046,\n\t\"./mn.js\": 3046,\n\t\"./mr\": 927,\n\t\"./mr.js\": 927,\n\t\"./ms\": 7224,\n\t\"./ms-my\": 6332,\n\t\"./ms-my.js\": 6332,\n\t\"./ms.js\": 7224,\n\t\"./mt\": 4866,\n\t\"./mt.js\": 4866,\n\t\"./my\": 4206,\n\t\"./my.js\": 4206,\n\t\"./nb\": 6723,\n\t\"./nb.js\": 6723,\n\t\"./ne\": 5097,\n\t\"./ne.js\": 5097,\n\t\"./nl\": 7529,\n\t\"./nl-be\": 1355,\n\t\"./nl-be.js\": 1355,\n\t\"./nl.js\": 7529,\n\t\"./nn\": 296,\n\t\"./nn.js\": 296,\n\t\"./oc-lnc\": 4802,\n\t\"./oc-lnc.js\": 4802,\n\t\"./pa-in\": 7057,\n\t\"./pa-in.js\": 7057,\n\t\"./pl\": 9850,\n\t\"./pl.js\": 9850,\n\t\"./pt\": 5552,\n\t\"./pt-br\": 3726,\n\t\"./pt-br.js\": 3726,\n\t\"./pt.js\": 5552,\n\t\"./ro\": 1717,\n\t\"./ro.js\": 1717,\n\t\"./ru\": 9117,\n\t\"./ru.js\": 9117,\n\t\"./sd\": 1742,\n\t\"./sd.js\": 1742,\n\t\"./se\": 2049,\n\t\"./se.js\": 2049,\n\t\"./si\": 3329,\n\t\"./si.js\": 3329,\n\t\"./sk\": 7619,\n\t\"./sk.js\": 7619,\n\t\"./sl\": 6707,\n\t\"./sl.js\": 6707,\n\t\"./sq\": 9051,\n\t\"./sq.js\": 9051,\n\t\"./sr\": 436,\n\t\"./sr-cyrl\": 3408,\n\t\"./sr-cyrl.js\": 3408,\n\t\"./sr.js\": 436,\n\t\"./ss\": 7500,\n\t\"./ss.js\": 7500,\n\t\"./sv\": 6950,\n\t\"./sv.js\": 6950,\n\t\"./sw\": 4222,\n\t\"./sw.js\": 4222,\n\t\"./ta\": 3746,\n\t\"./ta.js\": 3746,\n\t\"./te\": 1130,\n\t\"./te.js\": 1130,\n\t\"./tet\": 4740,\n\t\"./tet.js\": 4740,\n\t\"./tg\": 3378,\n\t\"./tg.js\": 3378,\n\t\"./th\": 628,\n\t\"./th.js\": 628,\n\t\"./tk\": 2622,\n\t\"./tk.js\": 2622,\n\t\"./tl-ph\": 100,\n\t\"./tl-ph.js\": 100,\n\t\"./tlh\": 2871,\n\t\"./tlh.js\": 2871,\n\t\"./tr\": 3600,\n\t\"./tr.js\": 3600,\n\t\"./tzl\": 8985,\n\t\"./tzl.js\": 8985,\n\t\"./tzm\": 3627,\n\t\"./tzm-latn\": 1145,\n\t\"./tzm-latn.js\": 1145,\n\t\"./tzm.js\": 3627,\n\t\"./ug-cn\": 4790,\n\t\"./ug-cn.js\": 4790,\n\t\"./uk\": 7712,\n\t\"./uk.js\": 7712,\n\t\"./ur\": 9529,\n\t\"./ur.js\": 9529,\n\t\"./uz\": 9141,\n\t\"./uz-latn\": 1737,\n\t\"./uz-latn.js\": 1737,\n\t\"./uz.js\": 9141,\n\t\"./vi\": 8205,\n\t\"./vi.js\": 8205,\n\t\"./x-pseudo\": 697,\n\t\"./x-pseudo.js\": 697,\n\t\"./yo\": 7826,\n\t\"./yo.js\": 7826,\n\t\"./zh-cn\": 3994,\n\t\"./zh-cn.js\": 3994,\n\t\"./zh-hk\": 6892,\n\t\"./zh-hk.js\": 6892,\n\t\"./zh-mo\": 3884,\n\t\"./zh-mo.js\": 3884,\n\t\"./zh-tw\": 5136,\n\t\"./zh-tw.js\": 5136\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6700;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [556], () => (__webpack_require__(9386)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Text","_ref","_styleObject","_styleObject2","style","children","rest","_objectWithoutProperties","_excluded","styleObject","Array","isArray","forEach","el","Object","assign","_jsx","RN","_objectSpread","fontSize","fontFamily","debug","serviceEntry","msg1","msg2","msg3","msg4","msg5","msg6","fetch","method","headers","body","JSON","stringify","vacant","reserved","occupied","paid","unavailable","adhoc","deposit","grey1","grey2","grey3","grey4","grey5","grey7","grey8","grey9","size","Platform","OS","black8","white8","OverlayAlert","_Component","_inherits","_super","_createSuper","props","_classCallCheck","call","_createClass","key","value","_this","console","log","this","View","styles","overlay","_jsxs","overlayContent","overlayHeader","overlayTitleText","overlaySubtitleText","color","theme","overlayText","text","toUpperCase","TouchableOpacity","overlayOption","onPress","handleUpdateFromProcedureMessage","overlayOptionText","Component","StyleSheet","create","backgroundColor","position","zIndex","top","left","right","bottom","flex","alignItems","justifyContent","width","borderRadius","overflow","marginVertical","textTransform","opacity","textAlign","marginTop","height","margin","OverlayLanguage","intl","buttonsContainer","button","handleUpdateFromLanguage","buttonText","minWidth","paddingHorizontal","flexDirection","state","input","_this2","title","subtitle","ok","handleUpdateFromAlert","options","map","handleText","cancel","Preference","preference","overlayProcedureMessageVisible","overlayAlertVisible","overlayAlertInputValue","bind","_assertThisInitialized","_componentDidMount","_asyncToGenerator","AsyncStorage","getItem","parse","setState","apply","arguments","doReset","push","tcolsize","mcolsize","pcolsize","mquick","dsecondary","usecondary","setItem","preferenceUpdate","isNaN","rpartition","Number","navigation","_this$state","container","OverlayProcedureMessage","leftContainer","navigateContainer","navigateWrapper","goBack","AntDesign","name","selectionContainer","displayContainer","displayWrapper","paddingRight","gap","gridContainer","ScrollView","showsVerticalScrollIndicator","grid","doTcolsize","gridFirst","gridFirstLeftText","gridFirstRightText","gridSecond","gridSecondText","gridThird","gridThirdRightText","doPcolsize","TextInput","selectTextOnFocus","defaultValue","onChangeText","doUsecondary","rightContainer","paddingLeft","doMcolsize","doMquick","doDsecondary","doPressReset","searchBox","marginBottom","searchBoxInputValue","searchBoxButton","searchBoxInfo","searchBoxInfoLeft","searchBoxInfoRight","searchBoxInfoText","padding","gridFirstLeft","gridFirstRight","gridThirdLeft","gridThirdRight","paddingTop","aspectRatio","selection","paddingVertical","selectionText","tableItemText","tableItemModText","tableItemContainer","minHeight","marginHorizontal","tableItemFirstContainer","borderRightWidth","borderRightColor","tableItemSecondContainer","tableItemThirdContainer","tableItemFourthContainer","titleFirstContainer","titleSecondContainer","titleThirdContainer","titleFourthContainer","titleText","Login","language","serviceEntryObj","accessCode","password","userId","home","dev","_preference","_preference2","_preference3","_preference4","_preference5","_preference6","sub","addListener","didFocus","navigate","doSubmitAccessCode","_didFocus","_route$params","route","params","sync","moment","diff","item","overlayLanguageVisible","currentLocale","_this3","Alert","alert","doDownload","Linking","openURL","link","doLogIn","_this$state2","_doLogIn","_this4","then","response","json","message","Promise","all","_ref2","_slicedToArray","promiseArray","url","URLSearchParams","append","shopId","promiseObject","nameString","orgId","locId","_toConsumableArray","_defineProperty","masters","reduce","o","keys","values","catch","error","_x","_x2","accessCodeUpdate","_Constants$manifest$v","_this5","_this$props","_this$state3","Ionicons","MaterialIcons","doPressDownload","numberOfLines","Constants","manifest","version","split","Image","source","Logo","resizeMode","textInputContainer","textInput","placeholder","placeholderTextColor","placeholderStyle","secureTextEntry","autoComplete","autoCorrect","onSubmitEditing","doPressKey","Dimensions","get","MainTable","settings","sections","tablemas","tables","floorWidth","selectedSection","focused","doRefresh","prevProps","refresh","_doRefresh","initial","length","doPressFloor","doPressSection","sectionId","_doPressFloor","selectedTable","_doPressSection","_this$state4","tableId","doPressFocusedTable","handlePressTable","_this$state5","find","statusFlg","handleActionTable","adhocItem","transType","doTranslateTableColor","e","nativeEvent","layout","_this$state6","renderFloor","FlatList","numColumns","horizontal","data","recKey","concat","keyExtractor","index","toString","renderItem","renderTable","initialNumToRender","MaterialCommunityIcons","_this$state7","disabled","doPressTable","seatTime","format","pax","Feather","letterSpacing","vipName","tableLowerBand","grandTotal","_this6","_this$state8","onLayout","doLayout","xaxis","yaxis","shape","doPressFloorTable","Math","sqrt","doTranslateFloorTableColor","transform","rotateZ","flexWrap","filter","some","obj","onetwo","MainMenu","foldergrps","folders","uniqueFolders","Map","v","folderId","menus","uniqueMenus","menuId","modBundles","displayMode","displays","limiteds","searchText","foldergrpId","found","selectedFoldergrp","doGet","quick","handlePressMenu","caseText","displaysUpdate","menuName","includes","_intl$get","_intl$get2","_intl$get3","_settings$find","onFocus","doSearchText","doPressFoldergrp","Keyboard","dismiss","setId","setString","renderMenu","renderMenuB","_ref3","renderFolder","pagingEnabled","showsHorizontalScrollIndicator","handlePressScan","startTime","endTime","doPressFolder","_item$listPrice","_foldergrps$find","_folders$find","_this7","restmenuRecKey","doPressMenu","listPrice","toFixed","serveLimit","serveCount","_foldergrps$find2","_folders$find2","_item$listPrice2","_this8","uri","restServiceUrl","urlAddr","lastupdate","OverlayAutoLogout","timer","countdown","initialTimer","setInterval","clearInterval","handleUpdateFromAutoLogout","OverlayDeposit","homeDelivery","vipPhone","dlyDate","dpostalcode","daddress1","daddress2","type","address","handleUpdateFromDeposit","tabContainer","doPressDelivery","vipInputsContainer","vipInputsRow","vipInput","textContentType","keyboardType","_Fragment","doChangePostal","doSubmit","tabText","tabFocusText","OverlayScanBarcode","handleSubmit","scanTextInput","focus","handleUpdateFromScanBarcode","searchBoxWrapper","overlaySearchBox","overlaySearchBoxInput","ref","autoFocus","overlaySearchBoxButton","OverlayRequestAccess","handleUpdateFromRequestAccess","overlayTextUpdate","requestedPrivilege","alignSelf","scrollEnabled","OverlayChangePrice","privileges","discounts","selectedTableItem","availableDiscounts","overlaySearchText","discountSelected","selectedDiscount","validatePass","overlayRequestAccessVisible","handleOverlaySearchText","handleValidate","priId","userName","loading","superUserId","adminFlg","handleUpdateFromChangePrice","availableDiscountsUpdate","discId","discName","paddingBottom","selectText","selectWrapper","overlayGrid","dummy","hidden","overlayGridFirst","overlayGridFirstLeft","overlayGridFirstLeftText","overlayGridFirstRight","overlayGridFirstRightText","overlayGridSecond","overlayGridSecondText","overlayGridThird","overlayGridThirdLeft","overlayGridThirdRight","overlayGridThirdRightText","overlayBackButton","OverlayLineDiscount","remarks","itemWithRemarks","handleUpdateFromLineDiscount","OverlayHeaderDiscount","handleUpdateFromHeaderDiscount","OverlayMergeTable","availableTables","mergeTables","handleSelectTable","availableTablesUpdate","mergeTablesUpdate","_readOnlyError","modalAvailableMod","modalAvailableModText","handleUpdateFromMergeTable","marginRight","OverlaySplitTable","tableItems","availableTableItems","refRecKey","selectedTableItems","handleSelectTableItem","availableTableItemsUpdate","selectedTableItemsUpdate","lineNo","handleUpdateFromSplitTable","OverlayChangeTable","handleUpdateFromChangeTable","OverlayReviseItem","handleUpdateFromReviseItem","confirmFlg","menuType","discFlg","OverlayTableActions","handleUpdateFromTableActions","OverlayAdditionalFunctions","handleUpdateFromAdditionalFunctions","OverlayChoosePrinter","printers","cashierPrinters","availablePrinters","availablePrintersUpdate","iomodelId","printPurpose","handleUpdateFromChoosePrinter","Tab","createBottomTabNavigator","Main","screen","handleUpdateFromVoid","handleUpdateFromTable","global","socket","io","substring","lastIndexOf","query","serviceId","epbId","doChooseDefaultPrinter","close","overlayChoosePrinterVisible","_masters$cashierPrint","homeUpdate","defaultPrinter","_handlePressTable","opentable","doClearTable","doToggleScreen","emit","opentableItems","users","action","doCreateTable","mode","settingPOSMODE","modmas","mustFlg","globalFlg","mods","_masters$modBundles$f","modId","selectedMenu","opentableRecKey","restmenuMod","serviceFlg","orderQty","orderType","_settings$find2","doCreateTableForPos","camera","overlayScanBarcodeVisible","_settings$find3","_response$opentable","_settings$find4","_response$opentable2","d","fireFlg","_settings$find5","overlayReviseItemVisible","_this$state9","_settings$find6","dayclosePayments","posDayCloseAmt","daycloseSubPayments","posDayCloseAmtDtl","printer","_this$state10","refTableId","_settings$find7","pospays","opentablePospays","newStatus","_this$state11","tableStatus","vipId","phone","reservationTime","sourceId","_settings$find8","_this9","_this$state12","opentableItemRecKey","_settings$find9","_this10","_this$state13","_settings$find10","_this11","_this$state14","newLineBreak","lineBreak","_settings$find11","_this12","_this$state15","_settings$find12","_this13","_this$state16","_settings$find13","overlayDepositVisible","_this$state17","sendFlg","_masters$sections$fin","_this14","_this$state18","printOrder","printOrderFlg","_settings$find14","_this$state19","_this15","_this$state20","_settings$find15","purpose","_this$state21","selectedPrinter","doSendOrder","doPrintBill","doStartPayment","doOpenDrawer","_this16","_this$state22","_settings$find16","doStartDayclose","doDeleteTableItem","doEditTableItem","_this$state23","overlayAdditionalFunctionsVisible","Date","_handleUpdateFromTableActions","_this$state24","overlayTableActionsVisible","overlayHeaderDiscountVisible","doChangeTableStatus","overlayMergeTableVisible","overlaySplitTableVisible","overlayChangeTableVisible","_this$state25","doRevertTableItem","overlayChangePriceVisible","overlayLineDiscountVisible","doUpdateLineBreak","doDuplicateTableItem","_this17","_this$state26","disc","discNum","_settings$find17","_this18","_this$state27","_settings$find18","_this19","_this$state28","price","_settings$find19","_this20","_this$state29","itemPayloads","mergedTableId","_settings$find20","join","items","_this21","_this$state30","_settings$find21","_response$opentable3","table","_this22","_this$state31","tableIdTo","_settings$find22","_this$state32","doTransTypeSales","doTransTypeDeposit","deliveryFlg","postalCode","addr1","addr2","_this23","_this$state33","addr3","addr4","_settings$find23","_this24","_this$state34","barcode","_settings$find24","tableInfo","_masters$settings$fin","_selectedTable$grandT","_this25","_this$state35","overlayAutoLogoutVisible","footerText","locName","marginLeft","tableUpperBand","doTranslateTableStatus","tab","doPressSend","FontAwesome","Fontisto","borderLeftWidth","borderLeftColor","scrollViewRef","onContentSizeChange","scrollToEnd","_item$lineTotal","doTranslateTableItemColor","doPressItem","menuMod","lineTotal","_obj$lineTotal","Navigator","screenOptions","headerShown","animation","gestureEnabled","tabBarStyle","display","Screen","OverlayServiceEntry","handleUpdateFromServiceEntry","Register","savedEntries","selectedItem","doDeleteEntry","doSetEntry","overlayServiceEntryVisible","bistroServiceUrl","doSaveEntry","savedEntriesUpdate","unshift","doPressEntry","doPressAdd","OverlaySplitItems","receipts","docId","percentage","handleFillPercentagesEvenly","handleSetPercentageForReceipt","handleSetFullPercentageForReceipt","numberString","number","receiptsUpdate","findIndex","aggregate","init","handleUpdateFromSplitItems","overlayScroll","inputRow","inputRowLeft","inputRowTitleText","inputRowSubtitleText","inputRowRight","percentageText","overlayNumber","Split","availableReceipts","receiptItems","overlaySplitItemsVisible","handleSplitSelectedTableItems","handleUndoAll","handleSelectAllUnsplitTableItems","handleDeselectAllUnsplitTableItems","comboItems","distribution","handleUpdateFromSplit","_this$props2","wrapper","itemsContainer","actionButton","splitScroll","snapToInterval","wrapperWidth","decelerationRate","OverlayInputReference","handleUpdateFromInputReference","OverlayMergeBill","selectedTargetTable","filteredResponse","handleUpdateFromMergeBill","OverlaySplitBill","handleQtyChange","prevState","adjustContainer","adjustFirst","adjustSecond","handleNumberChange","adjustThird","handleUpdateFromSplitBill","keyHeight","OverlaySplitAmount","amount","warning","handleFillRemainder","handleSetAmountForReceipt","handleUpdateFromSplitAmount","equal","doFillEvenly","OverlayUpdateTips","paymentMethods","availablePaymentMethods","selectedPaymentMethod","availablePaymentMethodsUpdate","pmId","handleUpdateFromUpdateTips","OverlayViewSplitted","handleUpdateFromViewSplitted","PaynowQR","opts","defineProperty","generate","qrstring","s","n","str","String","i","crcTable","crc","c","charCodeAt","RangeError","trim","p","id","uen","editable","expiry","company","otherdata","refNumber","final","current","f","padLeft","crc16","qrcode","reference","orgName","qrcodeString","output","QRCode","logo","Paynow","logoSize","handleUpdateFromPaynow","Pos","payments","selectedPaymentItem","pay","balance","overlayPaynowVisible","overlayInputReferenceVisible","overlayMergeBillVisible","overlaySplitBillVisible","overlaySplitAmountVisible","overlayUpdateTipsVisible","overlayViewSplittedVisible","splitting","splitReceipts","handleBuildNumberString","handleSelectPaymentMethod","handleRounding","handleEnterButton","handleFinishButton","handleAddPayment","handleDeletePayment","handleFinishPayment","handleUnsplitBill","handlePressPaymentItem","handlePressPaymentItemRef","handlePressMerge","handlePressUnmerge","handlePressTips","handlePressSplit","handlePressUnsplit","handleViewSplitted","handleOpenDrawer","handleValidateAmount","newNumberString","slice","maxLength","indexOf","refType","numberStringUpdate","vipPtsMoney","floor","numberStringVal","isInteger","payMoney","opentablePospayRecKey","payAmt","roundAmt","handleAfterAddPayment","overlayPaynowInput","docNo","roundingFlg","roundType","ceil","round","splitCount","receiptmases","splittedReceipts","receiptRecKey","itemPercentages","itemRecKey","splittedReceiptsByamt","amt","_settings2$find","tableIdGuest","tips","OverlayPaynow","leftFirstContainer","rowOf5","headerKeyContainer","headerKeyTextTableId","headerKeyText","splitFlg","hostFlg","leftSecondContainer","tableSummaryContainer","tableSummaryTitleContainer","tableSummaryTitle","tableSummaryTitleText","tipsPmId","tableSummaryValueContainer","tableSummaryValue","tableSummaryValueText","beforeDisc","totalDisc","serviceCharge","totalTax","tender","change","maxHeight","paymentsContainer","paymentsFirst","paymentsTitleText","paymentsSecond","paymentsThird","paymentsFourth","posScrollView","contentWidth","contentHeight","animated","datumContainer","datumFirst","datumText","datumSecond","datumThird","payRef","datumFourth","rightFirstContainer","extraData","activeFunctionKeyContainer","functionKeyContainer","activeFunctionKeyText","functionKeyText","rightFirstNumberContainer","rightFirstNumberText","rightSecondContainer","rightSecondLeftContainer","clearContainer","keyText","rightSecondMiddleContainer","keyContainer","keyNumberText","rightSecondRightContainer","backspaceContainer","enterContainer","finishContainer","borderColor","borderWidth","dataContainer","Adhoc","selectedAdhocItem","adhocItems","availableMenus","menu","handleSelectAdhoc","handlePressSettleAsMenu","handlePressSettleAsRetail","handleSearchText","adhocRecKey","availableMenusUpdate","createDate","rightWrapper","Dayclose","total","systemAmt","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","handleFinishDayclose","daycloseRecKey","masRecKey","verify","subVerify","_this$setState","pmValue","doChangeText","settingDAYCLOSEVERIFY","containerFirst","containerSecond","summary","summaryText","summaryTotalText","floatAmt","subPmId","containerThird","Printer","handlePingAll","printersUpdate0","printersUpdate","msgId","handlePingPrinter","handleTestAll","printPort","handlePressPingAll","handlePressTestAll","OverlayEnterDate","dateString","valid","isValid","dateStringUpdate","add","subtract","inputRowFirst","inputRowSecond","inputRowThird","handleUpdateFromEnterDate","dateType","Report","selectedButton","fromDateString","toDateString","reportDetails","overlayEnterDateVisible","handlePressDate","handleSelectReport","handlePrintReport","selectedDateType","selectedDateString","report","reportCode","fromDateStringUpdate","toDateStringUpdate","reportContainer","reportLineContainer","reportLineFirst","reportLineFirstText","description","reportLineSecond","reportLineSecondText","qty","reportLineThird","reportLineThirdText","val","borderTopLeftRadius","borderTopRightRadius","Reprint","availableMasters","searches","selectedMaster","details","receiptsxText","pays","handlePressSearch","handleSelectButton","handleSelectMaster","handleReprint","receiptmas","receiptpaydtl","receiptitems","receiptpays","availableMastersUpdate","c1","c2","createUserId","alwaysBounceVertical","netPrice","_ref4","_ref5","Resequence","arrangedItems","handleReset","handleAddLineBreak","handleRemoveLineBreak","handleResequence","handleShiftTop","handleShiftUp","handleShiftDown","handleShiftBottom","arrangedItemsUpdate","_arrangedItemsUpdate","scrollToOffset","offset","_arrangedItemsUpdate2","spliceIndex","splice","_arrangedItemsUpdate3","skip","_arrangedItemsUpdate4","newLineNo","lineBreakContainer","Transfer","handleSelectTargetTable","handlePressSelectAll","converted","opentableRecKeyFrom","opentableRecKeyTo","opentableItemRecKeys","generateTextForSelectAll","OverlayVoidReceipt","returns","availableReturns","selectedReturn","availableReturnsUpdate","returnId","handleUpdateFromVoidReceipt","Void","overlayVoidReceiptVisible","reopenResponse","handleVoid","handlePressVoid","handlePressReopen","docDateString","Collect","handlePressCollect","Table","_props$route$params$m","_props$route$params$m2","vipSources","availableVipSources","overlayPax","capacity","overlayVip","vipDisc","cumPts","classId","overlayValidateVipId","overlayValidateCardNumber","overlayValidateNric","overlayValidateVipName","overlayValidateVipPhone","overlayValidateVipPhoneCountryCode","overlayValidateEmailAddress","vipResults","selectedVipResult","overlaySource","overlaySourceSearch","overlayDeliveryFlg","overlayPostalCode","overlayAddr1","overlayAddr2","overlayAddr3","daddress3","overlayAddr4","daddress4","activeTab","handlePressTab","handleSearchVip","handleEnterVip","handleClearVip","handlePressNext","handlePressPrev","handleAddressChange","handleCheckDeliveryFlg","cardNumber","nric","emailAddress","vipPhoneCountryCode","customerNumber","mobileNumber","emailaddress","customerSource","availableVipSourcesUpdate","overlayTabWidth","tabsContainer","overlayTab","handlePaxChange","hasActiveMembership","overlayGridThirdLeftText","detailWrapper","detailTitle","detailText","overlayOptionsContainer","overlayOptionContainer","overlaySearchBoxButtonText","overlaySearchVipButton","Menu","_props$route$params$s","_props$route$params$s2","_props$route$params$s3","_props$route$params$s4","_props$route$params$s5","_props$route$params$s6","_props$route$params$s7","_props$route$params$s8","_props$route$params$s9","qtyInput","modInput","modRecKeys","qtyInputUpdate","modInputUpdate","replace","selectedModBundle","modRecKeysUpdate","modType","moditems","_selectedTableItem$li","_selectedMenu$listPri","_mods$filter","_mods$filter$map","contentContainerStyle","flexGrow","modButton","doPressMod","modText","multiline","blurOnSubmit","menuQtyRow","menuQtyRowFirst","doChangeQty","menuQtyRowSecond","qtyTextInput","doValidateQty","menuQtyRowThird","modifierTextInput","modContainer","doPressModBundle","doToggleOrderType","doToggleLineBreak","Scan","hasCameraPermission","detected","handleBarCodeScanned","status","BarCodeScanner","requestPermissionsAsync","dataUpdate","charAt","onBarCodeScanned","backButton","iconContainer","windowWidth","windowHeight","Trace","maps","thisTable","thisUser","doReload","traceRef","onEndReachedThreshold","onEndReached","doLoad","alwaysBounceHorizontal","traceText","doToggleUser","doToggleTable","Activate","updateds","overlayRequestPrivilegeVisible","handleSelectMenu","handleSelectUpdated","handlePressDisplayMode","handleUpdateMenu","doGetMenu","updatedsUpdate","itemUpdate","restmenuRecKeys","newStatusFlg","kotType","Limit","onlineStatusFlg","_limiteds$find","_limiteds$find2","_limiteds$find3","doLimitMenu","doSelectMenu","inputContainer","inputRowLeftText","doToggleStatus","inputRowRightText","doToggleOnlineStatus","Fire","kitchenmsgs","kottypes","remark","selectedKottypes","selectedKitchenmsg","_item$kotTypes","kotTypes","selectedKottypesUpdate","_kottypes$find","navigateButton","navigateButtonText","doPressKitchenmsg","doPressTableItem","kotName","ListHeaderComponent","doPressAllKottype","doPressKottype","doPressFire","Combo","comboGroups","refMenuId","selectedComboItems","selectedComboItem","doPrepareComboItems","tableItemsUpdate","comboItemsUpdate","_tableItems$find","_tableItems$find2","_tableItems$find2$mod","comboitemRecKey","selectedComboItemsUpdate","groupNo","maxSelectItem","minSelectItem","arr","combogroupRecKey","doComboItemModInput","_comboItems$find","groupName","renderComboItem","_item$addonPrice","doPressComboItem","addonPrice","Secondary","doRoomParticipate","on","off","Stack","createNativeStackNavigator","App","_len","args","_key","locales","require","Font","loadAsync","getPermissionsAsync","resolve","NavigationContainer","StatusBar","component","navigationOptions","presentation","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code","module","exports","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","a","leafPrototypes","getProto","getPrototypeOf","t","ns","def","getOwnPropertyNames","definition","enumerable","g","globalThis","Function","window","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}