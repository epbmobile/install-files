(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{321:function(e,t,r){e.exports=r.p+"static/media/logo-small-light.2b420db1.png"},352:function(e,t,r){e.exports=r.p+"static/media/paynow.c9b5960d.png"},362:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Mn}));var n=r(30),l=r.n(n),a=r(8),o=r.n(a),i=r(9),s=r.n(i),c=r(12),d=r.n(c),u=r(13),f=r.n(u),h=r(5),y=r.n(h),b=r(2),g=r(363),m=r(10),p=r(1),j=r(16),x=r(498),v=r(497),T=r(149),O=r(6),S=r.n(O),I=r(38),C=r(94),F=r(15),P=r.n(F),R=r(20),w=r.n(R),k=r(22),A=r.n(k),E=r(7),B=r.n(E),D=r(485),U=r(486),M=r(487),V=r(4),z=r(44),N=r(18),K=r(65),L=r(25),G=r(364),H=r(42),Y=r(23),W=r.n(Y),q=r(26),Q=r.n(q),Z=r(3),J=r(0),X=["style","children"];function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){P()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e){var t,r,n=e.style,l=e.children,a=Q()(e,X),o=n;return Array.isArray(n)&&(o={},n.forEach((function(e){o=W()(o,e)}))),Object(J.jsx)(Z.default,_(_({style:_(_({},o),{},{fontSize:(null==(t=o)?void 0:t.fontSize)||14,fontFamily:(null==(r=o)?void 0:r.fontFamily)||"varela-round"})},a),{},{children:l}))}function te(e,t,r,n,l,a,o){fetch(e+"api/debug/",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({msg1:t,msg2:r,msg3:n,msg4:l,msg5:a,msg6:o})})}var re={vacant:"#30BEAE",reserved:"#FFB86F",occupied:"#2A79A8",paid:"#E84855",unavailable:"#424549",adhoc:"#7a4988",deposit:"#d65c91",grey1:"#23272A",grey2:"#2C2F33",grey3:"#36393E",grey4:"#424549",grey5:"#99aab5",grey7:"#E3E5E8",grey8:"#EBEDEF",grey9:"#F2F3F5",size:"web"===j.default.OS?5:4,black8:"#000000aa",white8:"#ffffffcc"},ne=r(321),le=r.n(ne),ae=r(11),oe=r.n(ae);function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var se=function(e){d()(r,e);var t=ie(r);function r(e){return o()(this,r),t.call(this,e)}return s()(r,[{key:"render",value:function(){var e=this;return console.log("in overlayproceduremessage",this.props),Object(J.jsx)(p.default,{style:ce.overlay,children:Object(J.jsxs)(p.default,{style:ce.overlayContent,children:[Object(J.jsxs)(p.default,{style:ce.overlayHeader,children:[Object(J.jsx)(Z.default,{style:ce.overlayTitleText,children:"WARNING"}),Object(J.jsx)(Z.default,{style:[ce.overlaySubtitleText,{color:re.paid}],children:"Procedure Message"}),Object(J.jsx)(Z.default,{style:ce.overlayText,children:this.props.text.toUpperCase()})]}),Object(J.jsx)(V.default,{style:ce.overlayOption,onPress:function(){return e.props.handleUpdateFromProcedureMessage("")},children:Object(J.jsx)(Z.default,{style:ce.overlayOptionText,children:"OK"})})]})})}}]),r}(b.Component),ce=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:3,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"}});function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var ue=function(e){d()(r,e);var t=de(r);function r(e){return o()(this,r),t.call(this,e)}return s()(r,[{key:"render",value:function(){var e=this;return console.log("in overlaylanguage",this.props),Object(J.jsx)(p.default,{style:fe.overlay,children:Object(J.jsxs)(p.default,{style:fe.overlayContent,children:[Object(J.jsxs)(p.default,{style:fe.overlayHeader,children:[Object(J.jsx)(Z.default,{style:fe.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:fe.overlaySubtitleText,children:"Language \u8bed\u8a00 \u30e9\u30f3\u30b2\u30fc\u30b8"})]}),Object(J.jsxs)(p.default,{style:fe.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:fe.button,onPress:function(){return e.props.handleUpdateFromLanguage("en")},children:[Object(J.jsx)(Z.default,{style:{marginTop:5,color:"white",fontFamily:"varela-round",fontSize:24},children:"Aa"}),Object(J.jsx)(Z.default,{style:[fe.buttonText],children:"ENGLISH"})]}),Object(J.jsxs)(V.default,{style:fe.button,onPress:function(){return e.props.handleUpdateFromLanguage("zhs")},children:[Object(J.jsx)(Z.default,{style:{color:"white",fontFamily:"varela-round",fontSize:24},children:"\u7b80\u4f53"}),Object(J.jsx)(Z.default,{style:[fe.buttonText],children:"\u7b80\u4f53\u4e2d\u6587"})]})]}),Object(J.jsxs)(p.default,{style:fe.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:fe.button,onPress:function(){return e.props.handleUpdateFromLanguage("zht")},children:[Object(J.jsx)(Z.default,{style:{color:"white",fontFamily:"varela-round",fontSize:24},children:"\u7e41\u9ad4"}),Object(J.jsx)(Z.default,{style:fe.buttonText,children:"\u7e41\u9ad4\u4e2d\u6587"})]}),Object(J.jsxs)(V.default,{style:fe.button,onPress:function(){return e.props.handleUpdateFromLanguage("ja")},children:[Object(J.jsx)(Z.default,{style:{color:"white",fontFamily:"varela-round",fontSize:24},children:"\u65e5\u672c\u8a9e"}),Object(J.jsx)(Z.default,{style:fe.buttonText,children:"\u65e5\u672c\u8a9e"})]})]}),Object(J.jsx)(V.default,{style:[fe.overlayOption,{backgroundColor:re.paid,marginTop:20}],onPress:function(){return e.props.handleUpdateFromLanguage("")},children:Object(J.jsx)(Z.default,{style:fe.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),fe=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{minWidth:"50%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},buttonsContainer:{paddingHorizontal:10,alignItems:"center",justifyContent:"center",flexDirection:"row"},button:{height:100,width:100,margin:5,alignItems:"center",justifyContent:"center",backgroundColor:re.grey1,borderRadius:5},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"}});function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){P()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var ge=function(e){d()(r,e);var t=be(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={preference:null,language:"-",serviceEntry:"",serviceEntryObj:null,accessCode:"",password:"",userId:"",home:null,dev:!1},n.handleUpdateFromLanguage=n.handleUpdateFromLanguage.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=l()((function*(){var e=this,t=this.props.navigation;this.sub=t.addListener("focus",this.didFocus.bind(this));var r=yield I.default.getItem("serviceEntry"),n=yield I.default.getItem("language"),l=yield I.default.getItem("preference");l?l=JSON.parse(l):(l={tcolsize:"web"===j.default.OS?5:4,mcolsize:"web"===j.default.OS?3:2,pcolsize:"web"===j.default.OS?5:3,mquick:"Y"},I.default.setItem("preference",JSON.stringify(l))),console.log("mounting service",r);var a=yield I.default.getItem("serviceEntryObj");a=a?JSON.parse(a):null,this.setState({preference:l,serviceEntry:r,language:n||"en",serviceEntryObj:a}),this.state.dev&&this.setState({accessCode:"qwe"},(function(){return e.doSubmitAccessCode()}))}));return function(){return e.apply(this,arguments)}}()},{key:"didFocus",value:function(){var e=l()((function*(){var e,t=this.props.route,r=yield I.default.getItem("preference"),n=yield I.default.getItem("serviceEntry"),l=yield I.default.getItem("serviceEntryObj");r&&this.setState({preference:JSON.parse(r)}),l&&this.setState({serviceEntryObj:JSON.parse(l)}),this.setState({serviceEntry:n}),null!=(e=t.params)&&e.sync&&oe()(t.params.sync).diff(oe()(),"seconds")>-1?this.doSubmitAccessCode():this.state.dev||this.setState({accessCode:""})}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.sub()}},{key:"handleUpdateFromLanguage",value:function(e){this.setState({overlayLanguageVisible:!1}),e&&(S.a.options.currentLocale=e,I.default.setItem("language",e),this.setState({language:e}))}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"doPressDownload",value:function(){var e=this;K.default.alert("Download latest bistro app?","",[{text:"Cancel"},{text:"Ok",onPress:function(){return e.doDownload()}}])}},{key:"doDownload",value:function(){"ios"===j.default.OS&&G.openURL("itms-apps://itunes.apple.com/app/id6443468946")}},{key:"doSubmitPassword",value:function(){var e=this.state,t=e.serviceEntry+"api/login-shop",r={userId:e.userId,password:e.password};this.doLogIn(t,r)}},{key:"doSubmitAccessCode",value:function(){var e=this.state,t=e.serviceEntry+"api/login-shop",r={accessCode:e.accessCode};this.doLogIn(t,r)}},{key:"doLogIn",value:function(){var e=l()((function*(e,t){var r=this,n=this.props.navigation,l=this.state.serviceEntry;fetch(e,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if(console.log("post login",e),e.message)throw r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}),e;return r.setState({home:e}),Promise.all([I.default.setItem("home",JSON.stringify(e)),e])})).then((function(e){var t=A()(e,2),r=(t[0],t[1]),n=[],a=l+"api/sections",o=new URLSearchParams;o.append("shopId",r.shopId);var i={url:a+="?"+o,nameString:"sections"};return n.push(i),a=l+"api/tablemas",(o=new URLSearchParams).append("shopId",r.shopId),i={url:a+="?"+o,nameString:"tablemas"},n.push(i),a=l+"api/foldergrps",(o=new URLSearchParams).append("orgId",r.orgId),o.append("shopId",r.shopId),i={url:a+="?"+o,nameString:"foldergrps"},n.push(i),a=l+"api/folders",(o=new URLSearchParams).append("shopId",r.shopId),o.append("orgId",r.orgId),i={url:a+="?"+o,nameString:"folders"},n.push(i),a=l+"api/menus",(o=new URLSearchParams).append("orgId",r.orgId),o.append("shopId",r.shopId),i={url:a+="?"+o,nameString:"menus"},n.push(i),a=l+"api/mods",(o=new URLSearchParams).append("orgId",r.orgId),i={url:a+="?"+o,nameString:"mods"},n.push(i),a=l+"api/mod-bundles",(o=new URLSearchParams).append("orgId",r.orgId),i={url:a+="?"+o,nameString:"modBundles"},n.push(i),a=l+"api/combo-items",(o=new URLSearchParams).append("orgId",r.orgId),i={url:a+="?"+o,nameString:"comboItems"},n.push(i),a=l+"api/combo-groups",(o=new URLSearchParams).append("orgId",r.orgId),i={url:a+="?"+o,nameString:"comboGroups"},n.push(i),a=l+"api/payment-methods",(o=new URLSearchParams).append("shopId",r.shopId),i={url:a+="?"+o,nameString:"paymentMethods"},n.push(i),i={url:a=l+"api/vip-sources",nameString:"vipSources"},n.push(i),a=l+"api/discounts",(o=new URLSearchParams).append("shopId",r.shopId),o.append("orgId",r.orgId),i={url:a+="?"+o,nameString:"discounts"},n.push(i),i={url:a=l+"api/returns",nameString:"returns"},n.push(i),a=l+"api/settings",(o=new URLSearchParams).append("appCode","RESTMENU"),o.append("orgId",r.orgId),i={url:a+="?"+o,nameString:"settings"},n.push(i),a=l+"api/privileges",(o=new URLSearchParams).append("userId",r.userId),o.append("locId",r.locId),i={url:a+="?"+o,nameString:"privileges"},n.push(i),a=l+"api/cashier-printers",(o=new URLSearchParams).append("shopId",r.shopId),i={url:a+="?"+o,nameString:"cashierPrinters"},n.push(i),a=l+"api/kottype",(o=new URLSearchParams).append("shopId",r.shopId),i={url:a+="?"+o,nameString:"kottypes"},n.push(i),a=l+"api/kitchenmsgs",(o=new URLSearchParams).append("orgId",r.orgId),o.append("shopId",r.shopId),i={url:a+="?"+o,nameString:"kitchenmsgs"},n.push(i),Promise.all(w()(n.map((function(e){return fetch(e.url).then((function(e){return e.json()})).then((function(t){return console.log("fetching",e.nameString,t),P()({},e.nameString,t)}))}))))})).then((function(e){var t=e.reduce((function(e,t){return ye(ye({},e),{},P()({},Object.keys(t)[0],Object.values(t)[0]))}),{});console.log("masters",t),n.navigate("Main",{masters:t,home:r.state.home,serviceEntryObj:r.state.serviceEntryObj,serviceEntry:r.state.serviceEntry,preference:r.state.preference})})).catch((function(e){console.log("error",e),r.setState({accessCode:""})}))}));return function(t,r){return e.apply(this,arguments)}}()},{key:"doPressKey",value:function(e){var t=this.state.accessCode+e;this.setState({accessCode:t})}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.navigation,l=(r.route,this.state),a=l.serviceEntryObj,o=l.serviceEntry,i=l.language,s=(l.userId,l.password,l.accessCode),c=l.overlayProcedureMessageVisible,d=l.overlayLanguageVisible;return Object(J.jsxs)(p.default,{style:{flex:1,flexDirection:"row"},children:[d&&Object(J.jsx)(ue,{handleUpdateFromLanguage:this.handleUpdateFromLanguage}),c&&Object(J.jsx)(se,{text:c,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsxs)(p.default,{style:{flex:1,backgroundColor:"white"},children:[Object(J.jsxs)(p.default,{style:{flex:2},children:[Object(J.jsx)(p.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"},children:Object(J.jsxs)(p.default,{children:[Object(J.jsx)(V.default,{style:{margin:20,height:36,width:36,borderRadius:18,justifyContent:"center",alignItems:"center",backgroundColor:re.paid},onPress:function(){return n.navigate("Register")},children:Object(J.jsx)(D.default,{name:"ios-globe",size:24,color:re.grey1,style:{height:24,width:24,marginTop:-2}})}),Object(J.jsx)(V.default,{style:{marginHorizontal:20,height:36,width:36,borderRadius:18,justifyContent:"center",alignItems:"center",backgroundColor:re.reserved},onPress:function(){return n.navigate("Preference")},children:Object(J.jsx)(U.default,{name:"miscellaneous-services",size:24,color:re.grey1})}),"ios"===j.default.OS&&Object(J.jsx)(V.default,{style:{margin:20,height:36,width:36,borderRadius:18,justifyContent:"center",alignItems:"center",backgroundColor:re.occupied},onPress:function(){return t.doPressDownload()},children:Object(J.jsx)(M.default,{name:"clouddownload",size:24,color:re.grey1})})]})}),Object(J.jsxs)(p.default,{style:{margin:20,alignItems:"flex-end",justifyContent:"flex-end"},children:[Object(J.jsx)(ee,{style:{color:re.paid},children:(null==a?void 0:a.name)||"Entry"}),Object(J.jsx)(ee,{style:{fontSize:10,marginBottom:5,color:re.occupied},numberOfLines:1,children:o}),Object(J.jsx)(ee,{style:{fontSize:18},children:"AN EXTENSION OF THE EPB SYSTEM"}),Object(J.jsxs)(ee,{style:{fontSize:18},children:["VERSION ",null==(e=H.default.manifest.version)?void 0:e.split(".")[0]]})]})]}),Object(J.jsx)(z.default,{style:{flex:1,width:"100%"},source:le.a,resizeMode:"contain"})]}),Object(J.jsxs)(p.default,{style:{flex:1,backgroundColor:re.grey1,justifyContent:"center",alignItems:"center"},children:[Object(J.jsxs)(V.default,{style:{position:"absolute",right:20,top:20,minHeight:40,alignItems:"flex-end"},onPress:function(){return t.setState({overlayLanguageVisible:!0})},children:[Object(J.jsx)(ee,{style:{color:"white",textTransform:"uppercase"},children:"ja"===i?"\u65e5\u672c\u8a9e":"zhs"===i?"\u7b80\u4f53\u4e2d\u6587":"zht"===i?"\u7e41\u9ad4\u4e2d\u6587":"EN"}),Object(J.jsx)(ee,{style:{color:"white",fontSize:10},children:"LANGUAGE \u8bed\u8a00 \u30e9\u30f3\u30b2\u30fc\u30b8"})]}),Object(J.jsx)(p.default,{style:pe.textInputContainer,children:Object(J.jsx)(N.default,{style:pe.textInput,placeholder:S.a.get("accesscode"),placeholderTextColor:"white",placeholderStyle:{textTransform:"uppercase"},onChangeText:function(e){return t.setState({accessCode:e})},value:s,secureTextEntry:!0,autoComplete:"off",autoCorrect:!1,onSubmitEditing:function(){return t.doSubmitAccessCode()}})}),Object(J.jsxs)(p.default,{children:[Object(J.jsxs)(p.default,{style:pe.buttonsContainer,children:[Object(J.jsx)(V.default,{style:pe.button,onPress:function(){return t.doPressKey("1")},children:Object(J.jsx)(ee,{style:pe.buttonText,children:"1"})}),Object(J.jsx)(V.default,{style:[pe.button],onPress:function(){return t.doPressKey("2")},children:Object(J.jsx)(ee,{style:pe.buttonText,children:"2"})}),Object(J.jsx)(V.default,{style:[pe.button],onPress:function(){return t.doPressKey("3")},children:Object(J.jsx)(ee,{style:pe.buttonText,children:"3"})})]}),Object(J.jsxs)(p.default,{style:pe.buttonsContainer,children:[Object(J.jsx)(V.default,{style:pe.button,onPress:function(){return t.doPressKey("4")},children:Object(J.jsx)(ee,{style:pe.buttonText,children:"4"})}),Object(J.jsx)(V.default,{style:[pe.button],onPress:function(){return t.doPressKey("5")},children:Object(J.jsx)(ee,{style:pe.buttonText,children:"5"})}),Object(J.jsx)(V.default,{style:[pe.button],onPress:function(){return t.doPressKey("6")},children:Object(J.jsx)(ee,{style:pe.buttonText,children:"6"})})]}),Object(J.jsxs)(p.default,{style:pe.buttonsContainer,children:[Object(J.jsx)(V.default,{style:pe.button,onPress:function(){return t.doPressKey("7")},children:Object(J.jsx)(ee,{style:pe.buttonText,children:"7"})}),Object(J.jsx)(V.default,{style:[pe.button],onPress:function(){return t.doPressKey("8")},children:Object(J.jsx)(ee,{style:pe.buttonText,children:"8"})}),Object(J.jsx)(V.default,{style:[pe.button],onPress:function(){return t.doPressKey("9")},children:Object(J.jsx)(ee,{style:pe.buttonText,children:"9"})})]}),Object(J.jsxs)(p.default,{style:pe.buttonsContainer,children:[Object(J.jsx)(V.default,{style:[pe.button,{backgroundColor:re.grey1}],onPress:function(){return t.setState({accessCode:""})},children:Object(J.jsx)(M.default,{name:"close",color:"white",size:24})}),Object(J.jsx)(V.default,{style:[pe.button],onPress:function(){return t.doPressKey("0")},children:Object(J.jsx)(ee,{style:pe.buttonText,children:"0"})}),Object(J.jsx)(V.default,{style:[pe.button,{backgroundColor:re.grey1}],onPress:function(){return t.doSubmitAccessCode()},children:Object(J.jsx)(M.default,{name:"enter",color:"white",size:24})})]})]})]})]})}}]),r}(b.Component),me=L.default.get("window").height/8,pe=m.default.create({textInputContainer:{width:"80%",marginTop:20,marginBottom:40,height:60,borderRadius:100,backgroundColor:"black"},textInput:{flex:1,fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center",paddingHorizontal:20,borderRadius:100},buttonsContainer:{alignItems:"center",justifyContent:"center",flexDirection:"row"},button:{height:me-10,width:me-10,margin:5,alignItems:"center",justifyContent:"center",backgroundColor:"black",borderRadius:5},buttonText:{color:"white",fontFamily:"varela-round",fontSize:24,textTransform:"uppercase"}}),je=r(24),xe=r(495),ve=r(496),Te=r(488),Oe=r(490),Se=r(36),Ie=r.n(Se),Ce=r(489),Fe=r(19);function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Re=function(e){d()(r,e);var t=Pe(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.home,serviceEntry:e.serviceEntry,preference:e.preference,settings:e.masters.settings,sections:e.masters.sections||[],tablemas:e.masters.tablemas,tables:[],floorWidth:null,selectedSection:null,focused:null},n}return s()(r,[{key:"componentDidMount",value:function(){return Ie.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.a.awrap(this.doRefresh(!0));case 2:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"componentDidUpdate",value:function(e){e.refresh&&e.refresh!==this.props.refresh&&(console.log("componentDidUpdate",e.refresh,this.props.refresh),this.setState({focused:null}),this.doRefresh())}},{key:"doRefresh",value:function(e){var t,r,n;return Ie.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=this.state,r=t.sections,n=t.selectedSection,!e){l.next=11;break}if(!(r.length>0)){l.next=7;break}return l.next=5,Ie.a.awrap(this.doPressFloor());case 5:l.next=9;break;case 7:return l.next=9,Ie.a.awrap(this.doPressSection({sectionId:"SYS"}));case 9:l.next=22;break;case 11:if("FLOOR"!==(null==n?void 0:n.sectionId)){l.next=16;break}return l.next=14,Ie.a.awrap(this.doPressFloor());case 14:l.next=22;break;case 16:if(!n){l.next=21;break}return l.next=19,Ie.a.awrap(this.doPressSection(n));case 19:l.next=22;break;case 21:this.doRefresh(!0);case 22:case"end":return l.stop()}}),null,this,null,Promise)}},{key:"doPressFloor",value:function(){var e,t,r,n,l,a=this;return Ie.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:e=this.state,t=e.serviceEntry,r=e.home,e.selectedTable,n=t+"api/tables",(l=new URLSearchParams).append("shopId",r.shopId),l.append("tableFlg","Y"),n+="?"+l,fetch(n,{method:"GET"}).then((function(e){return e.json()})).then((function(e){a.setState({tables:e,selectedSection:{sectionId:"FLOOR"}})}));case 7:case"end":return o.stop()}}),null,this,null,Promise)}},{key:"doPressSection",value:function(e){var t,r,n,l,a,o=this;return Ie.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:t=this.state,r=t.serviceEntry,n=t.home,t.selectedTable,l=r+"api/tables",(a=new URLSearchParams).append("shopId",n.shopId),"OCCUPIED"===(null==e?void 0:e.sectionId)?(a.append("statusFlg","C"),a.append("tableFlg","Y")):"RESERVED"===(null==e?void 0:e.sectionId)?a.append("statusFlg","B"):"SYS"===(null==e?void 0:e.sectionId)?(a.append("sectionId",e.sectionId),a.append("statusFlg","C")):a.append("sectionId",e.sectionId),l+="?"+a,fetch(l,{method:"GET"}).then((function(e){return e.json()})).then((function(t){o.setState({tables:t,selectedSection:{sectionId:e.sectionId}})}));case 7:case"end":return i.stop()}}),null,this,null,Promise)}},{key:"doPressTable",value:function(e){var t=this.state,r=t.focused,n=t.selectedSection;if((null==r?void 0:r.tableId)===e.tableId)return this.setState({focused:null}),void this.doPressFocusedTable(e);"SYS"!==e.sectionId&&(this.doPressSection(n),this.setState({focused:e})),this.props.handlePressTable(e)}},{key:"doPressFloorTable",value:function(e){var t=this.state,r=t.tables,n=t.focused;if((null==n?void 0:n.tableId)===e.tableId)return this.setState({focused:null}),void this.doPressFocusedTable(r.find((function(t){return t.tableId===e.tableId})));this.doPressFloor(),this.setState({focused:e}),this.props.handlePressTable(r.find((function(t){return t.tableId===e.tableId})))}},{key:"doPressFocusedTable",value:function(e){"A"===e.statusFlg?this.props.handleActionTable(e,"OPEN"):"C"===e.statusFlg&&this.props.handleActionTable(e,"EDIT")}},{key:"doTranslateTableColor",value:function(e){return e?e.adhocItem?re.adhoc:"SYS"===e.sectionId?"D"===e.statusFlg?re.paid:"A"===e.transType?re.grey5:re.deposit:"A"===e.statusFlg?re.vacant:"B"===e.statusFlg?re.reserved:"C"===e.statusFlg?re.occupied:"D"===e.statusFlg?re.paid:"E"===e.statusFlg?re.unavailable:void 0:re.grey9}},{key:"doTranslateFloorTableColor",value:function(e){var t=this.state.tables;return this.doTranslateTableColor(t.find((function(t){return t.tableId===e.tableId})))}},{key:"doLayout",value:function(e){this.setState({floorWidth:e.nativeEvent.layout.width/16})}},{key:"render",value:function(){var e=this,t=this.state,r=t.preference,n=t.sections,l=(t.settings,t.tables),a=t.selectedSection;return Object(J.jsxs)(p.default,{style:{flex:1,flexDirection:"row",backgroundColor:re.grey1,padding:5},children:[Object(J.jsx)(p.default,{style:{flex:1,margin:5,backgroundColor:re.grey2,borderRadius:5},children:"FLOOR"===(null==a?void 0:a.sectionId)?this.renderFloor():Object(J.jsx)(Fe.default,{style:{flex:1,padding:3},showsVerticalScrollIndicator:!1,numColumns:r.tcolsize,horizontal:!1,data:"SYS"===(null==a?void 0:a.sectionId)?[{recKey:-999}].concat(w()(l)):l,keyExtractor:function(e,t){return e.recKey.toString()},renderItem:function(t){var r=t.item,n=t.index;return e.renderTable(r,n)},initialNumToRender:25})}),Object(J.jsxs)(p.default,{style:{margin:5,width:120},children:[Object(J.jsxs)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:80,borderRadius:5,marginVertical:5},onPress:function(){return e.doPressFloor()},children:[Object(J.jsx)(Te.default,{name:"mapbox",size:30,color:"white",style:{height:28}}),Object(J.jsx)(Z.default,{style:{marginTop:10,fontFamily:"varela-round",color:"white",fontSize:10,textTransform:"uppercase"},children:S.a.get("floorplan")})]}),Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:re.paid,borderRadius:5,marginVertical:5},onPress:function(){return e.doPressSection({sectionId:"SYS"})},children:Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",textAlign:"center",color:"white",textTransform:"uppercase"},children:S.a.get("takeaway")})}),Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:re.reserved,borderRadius:5,marginVertical:5},onPress:function(){return e.doPressSection({sectionId:"RESERVED"})},children:Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",textAlign:"center",color:"white",textTransform:"uppercase"},children:S.a.get("B")})}),Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:re.occupied,borderRadius:5,marginVertical:5},onPress:function(){return e.doPressSection({sectionId:"OCCUPIED"})},children:Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",textAlign:"center",color:"white",textTransform:"uppercase"},children:S.a.get("C")})}),n&&Object(J.jsx)(je.default,{style:{flex:1},showsVerticalScrollIndicator:!1,children:n.map((function(t,r){return Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:(null==a?void 0:a.sectionId)===t.sectionId?"white":re.grey1,borderRadius:5,marginVertical:5},onPress:function(){return e.doPressSection(t)},children:Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",textAlign:"center",color:(null==a?void 0:a.sectionId)===t.sectionId?"black":"white"},children:t.name})},r)}))})]})]})}},{key:"renderTable",value:function(e,t){var r=this,n=this.state,l=n.selectedSection,a=n.preference,o=n.focused;return"SYS"===(null==l?void 0:l.sectionId)&&0===t?Object(J.jsx)(V.default,{style:{flex:1/a.tcolsize,aspectRatio:1},onPress:function(){return r.props.handleActionTable(null,"CREATE")},children:Object(J.jsx)(p.default,{style:{flex:1,margin:3,backgroundColor:re.grey4,justifyContent:"center",alignItems:"center"},children:Object(J.jsx)(M.default,{name:"pluscircleo",size:36,color:re.grey1})})}):Object(J.jsxs)(V.default,{style:{flex:1/a.tcolsize,aspectRatio:1},disabled:!e.tableId,onPress:function(){return r.doPressTable(e)},children:[Object(J.jsxs)(p.default,{style:{flex:1,margin:3,backgroundColor:this.doTranslateTableColor(e),justifyContent:"center",alignItems:"center"},children:[e.seatTime&&Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",position:"absolute",top:5,left:5,color:"black",fontSize:4*re.size},children:oe()(e.seatTime).format("HH:mm")}),"SYS"!==e.sectionId&&e.pax>0&&Object(J.jsxs)(Z.default,{style:{fontFamily:"varela-round",position:"absolute",top:5,right:5,color:"white",fontSize:4*re.size},children:[e.pax," ",Object(J.jsx)(Ce.default,{color:"white",name:"users",size:4*re.size})]}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:"rgba(0,0,0,0.8)",fontSize:22,letterSpacing:1},children:e.tableId}),e.vipName&&Object(J.jsx)(Z.default,{style:[we.tableLowerBand],children:e.vipName}),e.grandTotal>0&&Object(J.jsxs)(Z.default,{style:{fontFamily:"varela-round",position:"absolute",bottom:5,right:5,color:"black",fontSize:4*re.size},children:["$",e.grandTotal]})]}),(null==o?void 0:o.tableId)===e.tableId&&Object(J.jsxs)(p.default,{style:{position:"absolute",top:3,left:3,right:3,bottom:3,backgroundColor:"white",alignItems:"center",justifyContent:"center"},children:[("A"===e.statusFlg||"C"===e.statusFlg)&&Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:"black",fontSize:10,textTransform:"uppercase"},children:S.a.get("press")}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:"rgba(0,0,0,0.8)",fontSize:22,letterSpacing:1},children:e.tableId}),"A"===e.statusFlg?Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:"black",fontSize:10,textTransform:"uppercase"},children:S.a.get("open")}):"C"===e.statusFlg?Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:"black",fontSize:10,textTransform:"uppercase"},children:S.a.get("edit")}):null]})]})}},{key:"renderFloor",value:function(){var e=this,t=this.state,r=(t.home,t.tablemas),n=t.tables,l=t.floorWidth,a=t.focused;return Object(J.jsxs)(je.default,{style:{flex:1},showsVerticalScrollIndicator:!1,children:[Object(J.jsxs)(p.default,{style:{flex:1,aspectRatio:1,backgroundColor:re.grey1,overflow:"hidden",borderRadius:5},children:[Object(J.jsx)(p.default,{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(J.jsxs)(p.default,{style:{flex:1,justifyContent:"space-between"},children:[Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{height:6,backgroundColor:re.grey2}})]})}),Object(J.jsx)(p.default,{style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:Object(J.jsxs)(p.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"},children:[Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}}),Object(J.jsx)(p.default,{style:{width:6,backgroundColor:re.grey2}})]})}),Object(J.jsx)(p.default,{style:{flex:1,margin:3},onLayout:function(t){return e.doLayout(t)},children:l&&r.map((function(t){return Object(J.jsx)(p.default,{style:{position:"absolute",left:t.xaxis*l,top:Number(t.yaxis*l),width:t.width*l,height:Number(t.height*l)},children:"B"===t.shape?Object(J.jsx)(V.default,{style:{flex:1,alignItems:"center",justifyContent:"center",borderRadius:"C"===t.shape?l*t.height:0},onPress:function(){return e.doPressFloorTable(t)},children:Object(J.jsx)(p.default,{style:{height:Math.sqrt(.5)*(t.width*l-6),width:Math.sqrt(.5)*(t.width*l-6),backgroundColor:(null==a?void 0:a.tableId)===t.tableId?"white":e.doTranslateFloorTableColor(t),transform:[{rotateZ:"45deg"}],justifyContent:"center",alignItems:"center"},children:Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:re.black8,fontSize:20,transform:[{rotateZ:"-45deg"}]},children:t.tableId})})}):Object(J.jsx)(V.default,{style:{flex:1,margin:3,backgroundColor:(null==a?void 0:a.tableId)===t.tableId?"white":e.doTranslateFloorTableColor(t),alignItems:"center",justifyContent:"center",borderRadius:"C"===t.shape?l*t.height:0},onPress:function(){return e.doPressFloorTable(t)},children:Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:re.black8,fontSize:20},children:t.tableId})})},t.recKey)}))})]}),Object(J.jsx)(p.default,{style:{margin:3,marginTop:-3,flexWrap:"wrap",flexDirection:"row"},children:l&&n.filter((function(e){return!r.some((function(t){return t.tableId===e.tableId}))})).map((function(t,r){return Object(J.jsx)(p.default,{style:{width:4*l,aspectRatio:4},children:Object(J.jsx)(V.default,{style:{flex:1,margin:3,backgroundColor:(null==a?void 0:a.tableId)===t.tableId?"white":e.doTranslateFloorTableColor(t),justifyContent:"center",alignItems:"center"},onPress:function(){return e.doPressFloorTable(t)},children:Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:re.black8,fontSize:20},children:t.tableId})})},r)}))})]})}}]),r}(b.Component),we=m.default.create({textInput:{color:"white",height:60,borderRadius:30,width:"90%",alignItems:"center",justifyContent:"center",marginBottom:120,textAlign:"center",fontFamily:"varela-round",fontSize:24},onetwo:{position:"absolute",top:"0",left:"0",height:"12.5%",width:"12.5%"},tableLowerBand:{fontFamily:"varela-round",width:"100%",paddingVertical:5,backgroundColor:re.black8,justifyContent:"center",alignItems:"center",color:"white",fontSize:12,textAlign:"center",textTransform:"uppercase"}}),ke=r(27);function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Ee=function(e){d()(r,e);var t=Ae(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.home,serviceEntry:e.serviceEntry,serviceEntryObj:e.serviceEntryObj,preference:e.preference,settings:e.settings,foldergrps:e.foldergrps,folders:e.folders,uniqueFolders:w()(new Map(e.folders.map((function(e){return[e.folderId,e]}))).values()),menus:e.menus,uniqueMenus:w()(new Map(e.menus.map((function(e){return[e.menuId,e]}))).values()),modBundles:e.modBundles,displayMode:"",displays:[],limiteds:[],searchText:""},n}return s()(r,[{key:"componentDidMount",value:function(){console.log("mount mainmenu");var e=this.state,t=e.foldergrps,r=e.folders,n=e.menus;this.doGet();var l="",a=[];if(1===r.filter((function(e){return e.foldergrpId===t[0].foldergrpId})).length){var o=r.find((function(e){return e.foldergrpId===t[0].foldergrpId}));l="MENU",a=n.filter((function(e){return e.folderId===o.folderId&&e.foldergrpId===o.foldergrpId}))}else l="FOLDER",a=r.filter((function(e){return e.foldergrpId===t[0].foldergrpId}));this.setState({selectedFoldergrp:t[0],displays:a,displayMode:l})}},{key:"doGet",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=(t.home,r+"api/restmenu-serve"),l=new URLSearchParams;fetch(n+="?"+l,{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({limiteds:t})}))}},{key:"doPressFoldergrp",value:function(e){var t=this.state,r=t.folders,n=t.menus,l="",a=[];if(this.doGet(),1===r.filter((function(t){return t.foldergrpId===e.foldergrpId})).length){var o=r.find((function(t){return t.foldergrpId===e.foldergrpId}));l="MENU",a=n.filter((function(e){return e.folderId===o.folderId&&e.foldergrpId===o.foldergrpId}))}else l="FOLDER",a=r.filter((function(t){return t.foldergrpId===e.foldergrpId}));this.setState({selectedFoldergrp:e,displays:a,displayMode:l,searchText:""})}},{key:"doPressFolder",value:function(e){var t=this.state.menus;this.setState({displayMode:"MENU",displays:t.filter((function(t){return t.folderId===e.folderId&&t.foldergrpId===e.foldergrpId}))})}},{key:"doPressMenu",value:function(e,t){this.props.handlePressMenu(e,t)}},{key:"doSearchText",value:function(e){var t=this.state,r=t.menus,n=t.foldergrps;if(this.setState({searchText:e}),!e)return this.setState({displayMode:"MENU",displays:"",selectedFoldergrp:""}),void this.doPressFoldergrp(n[0]);var l=e.toUpperCase(),a=r.filter((function(e){return e.menuName.toUpperCase().includes(l)||e.menuId.toUpperCase().includes(l)}));this.setState({displayMode:"MENU",displays:a,selectedFoldergrp:""})}},{key:"render",value:function(){var e,t,r,n,l=this,a=this.state,o=a.preference,i=a.settings,s=a.displayMode,c=a.displays,d=a.foldergrps,u=(a.folders,a.uniqueFolders),f=a.uniqueMenus,h=(a.menus,a.modBundles),y=a.searchText,b=a.selectedFoldergrp;return Object(J.jsxs)(p.default,{style:{flex:1,flexDirection:"row",backgroundColor:re.grey1,padding:5},children:[Object(J.jsxs)(p.default,{style:{flex:1},children:[Object(J.jsx)(p.default,{style:{marginHorizontal:10,marginTop:-5,height:20,flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"},children:Object(J.jsxs)(ee,{style:{fontSize:10,color:re.white8},children:[Object(J.jsx)(ee,{style:{fontSize:10,color:re.paid},children:f.length})," MENU ",Object(J.jsx)(ee,{style:{fontSize:10,color:re.reserved},children:u.length})," FOLDER ",Object(J.jsx)(ee,{style:{fontSize:10,color:re.reserved},children:d.length})," FOLDERGRP ",Object(J.jsx)(ee,{style:{fontSize:10,color:re.vacant},children:h.length})," MODIFIER"]})}),Object(J.jsxs)(p.default,{style:Be.searchBox,children:[Object(J.jsx)(N.default,{style:Be.searchBoxInputValue,placeholder:(null==(e=S.a.get("enter"))?void 0:e.toUpperCase())+" "+(null==(t=S.a.get("search"))?void 0:t.toUpperCase())+" "+(null==(r=S.a.get("text"))?void 0:r.toUpperCase()),placeholderTextColor:"rgba(255,255,255,0.2)",value:y,onChangeText:function(e){return l.doSearchText(e)}}),Object(J.jsx)(V.default,{style:Be.searchBoxButton,onPress:function(){l.doSearchText(""),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]}),Object(J.jsx)(p.default,{style:{flex:1,margin:5,backgroundColor:re.grey2,borderRadius:5},children:"MENU"===s?"A"===(null==(n=i.find((function(e){return"POSMODE"===e.setId})))?void 0:n.setString)?Object(J.jsx)(Fe.default,{style:{flex:1,padding:2.5},showsVerticalScrollIndicator:!1,numColumns:o.mcolsize,horizontal:!1,data:c,keyExtractor:function(e,t){return e.recKey.toString()},renderItem:function(e){var t=e.item;return l.renderMenu(t)}},"MENU"+(null==b?void 0:b.foldergrpId)):Object(J.jsx)(Fe.default,{style:{flex:1,padding:2.5},showsVerticalScrollIndicator:!1,numColumns:o.pcolsize,horizontal:!1,data:c,keyExtractor:function(e,t){return e.recKey.toString()},renderItem:function(e){var t=e.item;return l.renderMenuB(t)}},"MENU"+(null==b?void 0:b.foldergrpId)):Object(J.jsx)(Fe.default,{style:{flex:1,padding:2.5},showsVerticalScrollIndicator:!1,numColumns:o.mcolsize,horizontal:!1,data:c,keyExtractor:function(e,t){return e.recKey.toString()},renderItem:function(e){var t=e.item;return l.renderFolder(t)}},"FOLDER"+(null==b?void 0:b.foldergrpId))})]}),Object(J.jsxs)(p.default,{style:{margin:5,width:120},children:[Object(J.jsx)(p.default,{style:{height:90},children:Object(J.jsxs)(je.default,{horizontal:!0,pagingEnabled:!0,showsHorizontalScrollIndicator:!1,children:["web"!==j.default.OS&&Object(J.jsxs)(V.default,{style:{alignItems:"center",justifyContent:"center",height:90,width:120},onPress:function(){return l.props.handlePressScan(!0)},children:[Object(J.jsx)(Te.default,{name:"camera-iris",size:30,color:"white",style:{height:28}}),Object(J.jsx)(ee,{style:{marginTop:10,fontFamily:"varela-round",color:"white",fontSize:10,textTransform:"uppercase"},children:S.a.get("scan")})]}),Object(J.jsxs)(V.default,{style:{alignItems:"center",justifyContent:"center",height:90,width:120},onPress:function(){return l.props.handlePressScan()},children:[Object(J.jsx)(Te.default,{name:"movie-filter",size:28,color:"white",style:{height:28}}),Object(J.jsx)(ee,{style:{marginTop:10,fontFamily:"varela-round",color:"white",fontSize:10,textTransform:"uppercase"},children:S.a.get("barcode")})]})]})}),Object(J.jsx)(je.default,{style:{flex:1},showsVerticalScrollIndicator:!1,children:d.map((function(e,t){return Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:e.foldergrpId===(null==b?void 0:b.foldergrpId)?"white":re.grey1,borderRadius:5,marginVertical:5},onPress:function(){return l.doPressFoldergrp(e)},children:Object(J.jsx)(ee,{style:{textAlign:"center",color:e.foldergrpId===(null==b?void 0:b.foldergrpId)?"black":"white"},children:e.name})},t)}))})]})]})}},{key:"renderFolder",value:function(e){var t=this,r=this.state,n=r.preference,l=r.menus;return Object(J.jsx)(p.default,{style:{flex:1/n.mcolsize},children:Object(J.jsxs)(V.default,{style:{margin:2.5,height:90,backgroundColor:"black",alignItems:"center",justifyContent:"center"},onPress:function(){return t.doPressFolder(e)},children:[Object(J.jsx)(ee,{style:{color:re.paid,fontSize:12},children:e.folderId}),Object(J.jsx)(ee,{style:{color:"white",paddingHorizontal:10,textAlign:"center",fontSize:16},children:e.name}),Object(J.jsx)(ee,{style:{color:re.vacant},children:l.filter((function(t){return t.folderId===e.folderId&&t.foldergrpId===e.foldergrpId})).length})]})})}},{key:"renderMenu",value:function(e){var t,r,n,l=this,a=this.state,o=a.preference,i=a.limiteds,s=a.searchText,c=a.foldergrps,d=a.folders,u=i.find((function(t){return t.recKey===e.recKey}));return Object(J.jsx)(p.default,{style:{flex:1/o.mcolsize},children:Object(J.jsxs)(p.default,{style:[{margin:2.5,flexDirection:"row",height:90,backgroundColor:re.grey4},"B"===e.statusFlg&&{opacity:.2}],children:["Y"===o.mquick&&Object(J.jsx)(V.default,{style:{width:50,backgroundColor:re.grey3,justifyContent:"center",alignItems:"center"},disabled:"B"===e.statusFlg,onPress:function(){return l.doPressMenu(e,!0)},children:Object(J.jsx)(M.default,{name:"check",size:18,color:re.grey1})}),Object(J.jsx)(V.default,{style:{flex:1},disabled:"B"===e.statusFlg,onPress:function(){return l.doPressMenu(e)},children:Object(J.jsxs)(p.default,{style:{flex:1,padding:10},children:[Object(J.jsxs)(p.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[Object(J.jsx)(ee,{style:{color:"white",fontSize:12}}),Object(J.jsxs)(ee,{style:[{color:re.reserved,fontSize:12},0===Number(e.listPrice)&&{color:"white"}],children:["$",null==(t=e.listPrice)?void 0:t.toFixed(2)]})]}),Object(J.jsx)(p.default,{style:{flex:1},children:Object(J.jsx)(ee,{style:{color:"white"},numberOfLines:2,children:e.menuName})}),Object(J.jsxs)(p.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[Object(J.jsx)(ee,{style:{color:re.vacant,fontSize:12,textTransform:"uppercase"},children:u?Number(u.serveLimit-u.serveCount)+" "+S.a.get("left"):" "}),Object(J.jsx)(ee,{style:{color:re.paid,fontSize:12},children:e.menuId})]})]})}),s.length>0&&Object(J.jsxs)(ee,{style:{position:"absolute",top:0,left:0,paddingHorizontal:5,backgroundColor:"black",color:"white",fontSize:10},numberOfLines:1,children:[null==(r=c.find((function(t){return t.foldergrpId===e.foldergrpId})))?void 0:r.name," > ",null==(n=d.find((function(t){return t.folderId===e.folderId})))?void 0:n.name]})]})})}},{key:"renderMenuB",value:function(e){var t,r,n,l=this,a=this.state,o=a.preference,i=a.limiteds,s=a.serviceEntryObj,c=a.searchText,d=a.foldergrps,u=a.folders,f=i.find((function(t){return t.recKey===e.recKey}));return Object(J.jsx)(p.default,{style:{flex:1/o.pcolsize},children:Object(J.jsxs)(V.default,{style:{margin:2.5},disabled:"B"===e.statusFlg,onPress:function(){return l.doPressMenu(e)},children:[Object(J.jsxs)(p.default,{style:{backgroundColor:re.grey3},children:[Object(J.jsx)(z.default,{style:{aspectRatio:1},source:{uri:(null==s?void 0:s.restServiceUrl)+"epbm/api/image/stock?stkId="+e.urlAddr+"&t="+e.lastupdate}}),c.length>0&&Object(J.jsxs)(ee,{style:{position:"absolute",bottom:0,left:0,paddingHorizontal:5,backgroundColor:"black",color:"white",fontSize:10},numberOfLines:1,children:[null==(t=d.find((function(t){return t.foldergrpId===e.foldergrpId})))?void 0:t.name," > ",null==(r=u.find((function(t){return t.folderId===e.folderId})))?void 0:r.name]})]}),Object(J.jsx)(p.default,{style:[{flexDirection:"row",height:70,backgroundColor:re.grey4},"B"===e.statusFlg&&{opacity:.2}],children:Object(J.jsx)(p.default,{style:{flex:1},children:Object(J.jsxs)(p.default,{style:{flex:1,padding:10},children:[Object(J.jsx)(p.default,{style:{flex:1},children:Object(J.jsx)(ee,{style:{color:"white"},numberOfLines:2,children:e.menuName})}),Object(J.jsxs)(p.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[Object(J.jsx)(ee,{style:{color:re.vacant,fontSize:12,textTransform:"uppercase"},children:f?Number(f.serveLimit-f.serveCount)+" "+S.a.get("left"):" "}),Object(J.jsxs)(ee,{style:[{color:re.reserved,fontSize:12},0===Number(e.listPrice)&&{color:"white"}],children:["$",null==(n=e.listPrice)?void 0:n.toFixed(2)]})]})]})})})]})})}}]),r}(b.Component),Be=m.default.create({searchBox:{margin:10,marginBottom:5,height:50,borderRadius:100,backgroundColor:"black",flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50,borderRadius:100},searchBoxButton:{position:"absolute",right:0,top:0,height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50}});function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Ue=function(e){d()(r,e);var t=De(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={timer:5},n.countdown=function(){},n}return s()(r,[{key:"componentDidMount",value:function(){var e=this,t=5;this.countdown=setInterval((function(){t-=1,e.setState({timer:t}),0===t&&(clearInterval(e.countdown),e.props.handleUpdateFromAutoLogout(t))}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.countdown)}},{key:"render",value:function(){var e=this,t=this.state.timer;return console.log("in overlayautologout",this.props),Object(J.jsx)(p.default,{style:Me.overlay,children:Object(J.jsxs)(p.default,{style:Me.overlayContent,children:[Object(J.jsxs)(p.default,{style:Me.overlayHeader,children:[Object(J.jsx)(Z.default,{style:Me.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:Me.overlaySubtitleText,children:"Auto Logout"}),Object(J.jsx)(Z.default,{style:Me.overlayText,children:t})]}),Object(J.jsx)(V.default,{style:[Me.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromAutoLogout("")},children:Object(J.jsx)(Z.default,{style:Me.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),Me=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"}});function Ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var ze=function(e){d()(r,e);var t=Ve(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={serviceEntry:e.serviceEntry,selectedTable:e.selectedTable,homeDelivery:"Y"===e.selectedTable.homeDelivery?"Y":"N",vipName:e.selectedTable.vipName||"",vipPhone:e.selectedTable.vipPhone||"",dlyDate:e.selectedTable.dlyDate?oe()(e.selectedTable.dlyDate).format("YYYY-MM-DD"):"",dpostalcode:e.selectedTable.dpostalcode||"",daddress1:e.selectedTable.daddress1||"",daddress2:e.selectedTable.daddress2||""},n}return s()(r,[{key:"doPressDelivery",value:function(e){this.setState({homeDelivery:e})}},{key:"doChangePostal",value:function(e){var t=this;if(this.setState({dpostalcode:e}),6===e.length){var r=this.state.serviceEntry+"api/epbsggeo",n=new URLSearchParams;n.append("postal",e),fetch(r+="?"+n,{method:"GET"}).then((function(e){if(e.ok)return e.json()})).then((function(e){null!=e&&e.address&&t.setState({daddress1:e.address||""})}))}}},{key:"doSubmit",value:function(){var e=this.state,t=e.vipName,r=e.vipPhone,n=e.homeDelivery,l=e.dlyDate,a=e.dpostalcode,o=e.daddress1,i=e.daddress2;this.props.handleUpdateFromDeposit("G",t,r,n,l,a,o,i)}},{key:"render",value:function(){var e=this,t=this.state,r=t.vipName,n=t.vipPhone,l=t.homeDelivery,a=t.dlyDate,o=t.dpostalcode,i=t.daddress1,s=t.daddress2;return console.log("in overlayDeposit",this.props),Object(J.jsx)(p.default,{style:Ne.overlay,children:Object(J.jsxs)(p.default,{style:Ne.overlayContent,children:[Object(J.jsxs)(p.default,{style:Ne.overlayHeader,children:[Object(J.jsx)(Z.default,{style:Ne.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:Ne.overlaySubtitleText,children:"Deposit Info"}),Object(J.jsxs)(p.default,{style:{flexDirection:"row",marginTop:20},children:[Object(J.jsx)(p.default,{style:{flex:1,alignItems:"flex-end"},children:Object(J.jsx)(V.default,{style:[Ne.tabContainer,{backgroundColor:"Y"===l?re.grey1:"white"}],onPress:function(){return e.doPressDelivery("N")},children:Object(J.jsx)(Z.default,{style:{color:"Y"===l?"white":"black",fontFamily:"varela-round"},children:"Self Collect"})})}),Object(J.jsx)(p.default,{style:{flex:1},children:Object(J.jsx)(V.default,{style:[Ne.tabContainer,{backgroundColor:"N"===l?re.grey1:"white"}],onPress:function(){return e.doPressDelivery("Y")},children:Object(J.jsx)(Z.default,{style:{color:"N"===l?"white":"black",fontFamily:"varela-round"},children:"Delivery"})})})]})]}),Object(J.jsx)(p.default,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:Object(J.jsxs)(p.default,{style:Ne.vipInputsContainer,children:[Object(J.jsxs)(p.default,{style:Ne.vipInputsRow,children:[Object(J.jsx)(N.default,{style:Ne.vipInput,placeholder:"NAME",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.setState({vipName:t})},value:r}),Object(J.jsx)(N.default,{style:Ne.vipInput,placeholder:"PHONE",placeholderTextColor:"rgba(255,255,255,0.2)",keyboardType:"numeric",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.setState({vipPhone:t})},value:n})]}),"Y"===l?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(p.default,{style:Ne.vipInputsRow,children:[Object(J.jsx)(N.default,{style:Ne.vipInput,placeholder:"POSTAL",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.doChangePostal(t)},value:o}),Object(J.jsx)(N.default,{style:Ne.vipInput,placeholder:"DLY DATE",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onFocus:function(){return""===a&&e.setState({dlyDate:oe()().format("YYYY-MM-DD")})},onChangeText:function(t){return e.setState({dlyDate:t})},value:a})]}),Object(J.jsx)(p.default,{style:Ne.vipInputsRow,children:Object(J.jsx)(N.default,{style:[Ne.vipInput,{flex:1}],placeholder:"ADDR 1",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.setState({daddress1:t})},value:i})}),Object(J.jsx)(p.default,{style:Ne.vipInputsRow,children:Object(J.jsx)(N.default,{style:[Ne.vipInput,{flex:1}],placeholder:"ADDR 2",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.setState({daddress2:t})},value:s})})]}):Object(J.jsx)(p.default,{style:[Ne.vipInputsRow,{justifyContent:"flex-end"}],children:Object(J.jsx)(N.default,{style:Ne.vipInput,placeholder:"DLY DATE",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onFocus:function(){return""===a&&e.setState({dlyDate:oe()().format("YYYY-MM-DD")})},onChangeText:function(t){return e.setState({dlyDate:t})},value:a})})]})}),Object(J.jsx)(V.default,{style:[Ne.overlayOption,{backgroundColor:re.grey4}],onPress:function(){return e.doSubmit()},children:Object(J.jsx)(Z.default,{style:Ne.overlayOptionText,children:S.a.get("submit")})}),Object(J.jsx)(V.default,{style:[Ne.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromDeposit("")},children:Object(J.jsx)(Z.default,{style:Ne.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),Ne=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{height:"90%",width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},vipInputsContainer:{marginBottom:20,marginHorizontal:5,width:400,alignItems:"center"},vipInputsRow:{height:50,width:400,flexDirection:"row"},vipInput:{backgroundColor:re.grey1,borderRadius:5,color:"white",fontFamily:"varela-round",fontSize:16,margin:5,paddingHorizontal:10,width:190},tabContainer:{backgroundColor:re.grey1,width:120,alignItems:"center",justifyContent:"center",borderRadius:20,height:40,marginHorizontal:5},tabText:{fontSize:10,fontFamily:"varela-round",color:"white"},tabFocusText:{fontSize:16,fontFamily:"varela-round",color:"white"}});function Ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Le=function(e){d()(r,e);var t=Ke(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={overlayText:""},n.handleSubmit=n.handleSubmit.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){this.scanTextInput.focus()}},{key:"handleSubmit",value:function(e){var t=this;this.setState({overlayText:""},(function(){return t.scanTextInput.focus()})),this.props.handleUpdateFromScanBarcode(e)}},{key:"render",value:function(){var e=this,t=this.state.overlayText;return console.log("in overlayscanbarcode"),Object(J.jsx)(p.default,{style:Ge.overlay,children:Object(J.jsxs)(p.default,{style:Ge.overlayContent,children:[Object(J.jsxs)(p.default,{style:Ge.overlayHeader,children:[Object(J.jsx)(Z.default,{style:Ge.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:Ge.overlaySubtitleText,children:"Scan Barcode"})]}),Object(J.jsx)(p.default,{style:Ge.searchBoxWrapper,children:Object(J.jsxs)(p.default,{style:Ge.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:Ge.overlaySearchBoxInput,ref:function(t){e.scanTextInput=t},autoFocus:!0,placeholder:"ENTER BARCODE",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.setState({overlayText:t})},onSubmitEditing:function(){return e.handleSubmit(t)},value:t}),Object(J.jsx)(V.default,{style:Ge.overlaySearchBoxButton,onPress:function(){e.setState({overlayText:""}),e.scanTextInput.focus()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})}),Object(J.jsx)(V.default,{style:Ge.overlayOption,onPress:function(){return e.handleSubmit(t)},children:Object(J.jsx)(Z.default,{style:Ge.overlayOptionText,children:S.a.get("submit")})}),Object(J.jsx)(V.default,{style:[Ge.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromScanBarcode("")},children:Object(J.jsx)(Z.default,{style:Ge.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),Ge=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center",marginBottom:30},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"}});function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Ye=function(e){d()(r,e);var t=He(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={overlayText:""},n.handleSubmit=n.handleSubmit.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){this.scanTextInput.focus()}},{key:"handleSubmit",value:function(e){var t=this;this.setState({overlayText:""},(function(){return t.scanTextInput.focus()})),this.props.handleUpdateFromRequestAccess(e)}},{key:"doPressKey",value:function(e){var t=this.state.overlayText,r=t;"CLEAR"===e?this.setState({overlayText:""}):"ENTER"===e?this.handleSubmit(t):this.setState({overlayText:r+e})}},{key:"render",value:function(){var e=this,t=this.props,r=t.home,n=t.requestedPrivilege,l=this.state.overlayText;return console.log("in overlayrequestaccess"),Object(J.jsx)(p.default,{style:We.overlay,children:Object(J.jsxs)(p.default,{style:We.overlayContent,children:[Object(J.jsxs)(p.default,{style:We.overlayHeader,children:[Object(J.jsx)(Z.default,{style:We.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:We.overlaySubtitleText,children:"Request Access"}),Object(J.jsxs)(Z.default,{style:We.overlayText,children:["Grant temporary ",n," privilege to ",r.userId,"?"]})]}),Object(J.jsx)(p.default,{style:We.searchBoxWrapper,children:Object(J.jsxs)(p.default,{style:We.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:We.overlaySearchBoxInput,ref:function(t){e.scanTextInput=t},secureTextEntry:!0,autoFocus:!0,placeholder:"ENTER ACCESS CODE",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.setState({overlayText:t})},onSubmitEditing:function(){return e.handleSubmit(l)},value:l}),Object(J.jsx)(V.default,{style:We.overlaySearchBoxButton,onPress:function(){e.setState({overlayText:""}),e.scanTextInput.focus()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})}),Object(J.jsx)(Fe.default,{style:{width:135,marginBottom:20,alignSelf:"center"},data:["1","2","3","4","5","6","7","8","9","CLEAR","0","ENTER"],scrollEnabled:!1,showsVerticalScrollIndicator:!1,numColumns:3,keyExtractor:function(e,t){return t.toString()},renderItem:function(t){var r=t.item;return Object(J.jsx)(p.default,{style:{flex:1/3,aspectRatio:1},children:Object(J.jsx)(V.default,{style:{margin:2.5,flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"black",borderRadius:5},onPress:function(){return e.doPressKey(r)},children:"CLEAR"===r?Object(J.jsx)(M.default,{name:"close",color:"white",size:18}):"ENTER"===r?Object(J.jsx)(M.default,{name:"enter",color:"white",size:18}):Object(J.jsx)(Z.default,{style:{color:"white",fontFamily:"varela-round",fontSize:18},children:r})})})}}),Object(J.jsx)(V.default,{style:[We.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromRequestAccess("")},children:Object(J.jsx)(Z.default,{style:We.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),We=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:2,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center",marginBottom:20},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"}});function qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Qe=function(e){d()(r,e);var t=qe(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.home,serviceEntry:e.serviceEntry,settings:e.settings,privileges:e.privileges,discounts:e.discounts,selectedTableItem:e.selectedTableItem,availableDiscounts:e.discounts,overlaySearchText:"",overlayText:"",discountSelected:!1,selectedDiscount:"",validatePass:!0,requestedPrivilege:"",overlayRequestAccessVisible:!1,overlayProcedureMessageVisible:!1},n.handleOverlaySearchText=n.handleOverlaySearchText.bind(B()(n)),n.handleUpdateFromRequestAccess=n.handleUpdateFromRequestAccess.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n.handleValidate=n.handleValidate.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromRequestAccess",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.settings,o=r.requestedPrivilege;if(e){var i=l+"api/super-user",s={locId:n.locId,accessCode:e,priId:o};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post super-user successful",e),"Y"===(null==(r=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(l,"Request Access "+o,n.userName,e.message,"","",e.userId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(t.setState({overlayRequestAccessVisible:!1}),t.handleValidate(e.userId))})).catch((function(e){console.log(e),t.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!1})}},{key:"handleValidate",value:function(e){var t=this.state,r=t.home,n=t.privileges,l=t.overlayText,a=t.selectedDiscount,o=t.selectedTableItem;l?"Y"===r.adminFlg||n.some((function(e){return"CHANGEPRICE"===e.priId}))||0===o.listPrice||e?this.props.handleUpdateFromChangePrice(l,a||"-",e):this.setState({overlayRequestAccessVisible:!0,requestedPrivilege:"CHANGEPRICE"}):this.setState({validatePass:!1})}},{key:"handleOverlaySearchText",value:function(e){var t=this.state,r=t.discounts,n=(t.availableDiscounts,[]);this.setState({overlaySearchText:e});var l=e.toUpperCase();console.log("caseText",l),console.log("available",this.state.availableDiscounts),n=r,e?(n=n.filter((function(e){return e.discId.toUpperCase().includes(l)||e.discName.toUpperCase().includes(l)})),this.setState({availableDiscounts:n})):this.setState({availableDiscounts:n})}},{key:"render",value:function(){var e=this,t=this.state,r=t.home,n=t.overlaySearchText,l=t.overlayText,a=t.discountSelected,o=t.availableDiscounts,i=(t.discounts,t.selectedDiscount),s=t.validatePass,c=t.overlayProcedureMessageVisible,d=t.overlayRequestAccessVisible,u=t.requestedPrivilege;return console.log("in overlaychangeprice, state",this.state),Object(J.jsxs)(p.default,{style:Ze.overlay,children:[c&&Object(J.jsx)(se,{text:c,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),d&&Object(J.jsx)(Ye,{home:r,requestedPrivilege:u,handleUpdateFromRequestAccess:this.handleUpdateFromRequestAccess}),Object(J.jsxs)(p.default,{style:Ze.overlayContent,children:[Object(J.jsxs)(p.default,{style:Ze.overlayHeader,children:[Object(J.jsx)(Z.default,{style:Ze.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:Ze.overlaySubtitleText,children:"Change Price"})]}),Object(J.jsx)(p.default,{style:Ze.searchBoxWrapper,children:Object(J.jsxs)(p.default,{style:Ze.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:[Ze.overlaySearchBoxInput,s?null:{color:re.paid}],placeholder:"ENTER PRICE",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.setState({overlayText:t,validatePass:!0})},value:l}),Object(J.jsx)(V.default,{style:Ze.overlaySearchBoxButton,onPress:function(){e.setState({overlayText:""}),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})}),Object(J.jsx)(p.default,{style:{paddingBottom:10}}),a?Object(J.jsxs)(p.default,{style:{flex:1},children:[Object(J.jsx)(p.default,{style:Ze.searchBoxWrapper,children:Object(J.jsx)(V.default,{style:Ze.overlaySearchBox,onPress:function(){return e.setState({overlaySearchText:"",selectedDiscount:"",discountSelected:!1})},children:Object(J.jsx)(Z.default,{style:Ze.selectText,children:i.discId})})}),Object(J.jsx)(p.default,{style:{paddingBottom:5}})]}):Object(J.jsxs)(p.default,{style:Ze.selectWrapper,children:[Object(J.jsx)(p.default,{style:Ze.searchBoxWrapper,children:Object(J.jsxs)(p.default,{style:[Ze.overlaySearchBox,{marginHorizontal:0}],children:[Object(J.jsx)(N.default,{style:Ze.overlaySearchBoxInput,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.handleOverlaySearchText(t)},value:n}),Object(J.jsx)(V.default,{style:Ze.overlaySearchBoxButton,onPress:function(){e.setState({overlaySearchText:""},(function(){return e.handleOverlaySearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})}),Object(J.jsx)(p.default,{style:Ze.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:Ze.searchBoxInfoText,children:[o.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],data:o,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[Ze.overlayGrid,r.dummy?Ze.hidden:null],onPress:function(){return e.setState({discountSelected:!0,selectedDiscount:r,validatePass:!0})},children:[Object(J.jsxs)(p.default,{style:Ze.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:Ze.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:Ze.overlayGridFirstLeftText,children:r.discId})}),Object(J.jsx)(p.default,{style:Ze.overlayGridFirstRight,children:Object(J.jsx)(Z.default,{style:Ze.overlayGridFirstRightText})})]}),Object(J.jsx)(p.default,{style:Ze.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:Ze.overlayGridSecondText,children:r.discName})}),Object(J.jsxs)(p.default,{style:Ze.overlayGridThird,children:[Object(J.jsx)(p.default,{style:Ze.overlayGridThirdLeft}),Object(J.jsx)(p.default,{style:Ze.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:Ze.overlayGridThirdRightText})})]})]})}})]}),Object(J.jsx)(V.default,{style:Ze.overlayOption,onPress:function(){return e.handleValidate()},children:Object(J.jsx)(Z.default,{style:Ze.overlayOptionText,children:S.a.get("submit")})}),Object(J.jsx)(V.default,{style:[Ze.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromChangePrice("","")},children:Object(J.jsx)(Z.default,{style:Ze.overlayOptionText,children:S.a.get("cancel")})})]})]})}}]),r}(b.Component),Ze=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",height:"80%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center"},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1,alignItems:"center",justifyContent:"center"},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},overlayBackButton:{width:50,height:50,borderRadius:50,marginHorizontal:5,alignItems:"center",justifyContent:"center"},overlayGrid:{flex:1,margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},overlayGridFirst:{flexDirection:"row"},overlayGridSecond:{marginVertical:5},overlayGridThird:{flexDirection:"row"},overlayGridFirstLeft:{flex:1},overlayGridFirstRight:{flex:1,alignItems:"flex-end"},overlayGridThirdLeft:{flex:1},overlayGridThirdRight:{flex:1,alignItems:"flex-end"},overlayGridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridFirstRightText:{color:re.vacant,fontSize:12,fontFamily:"varela-round"},overlayGridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},overlayGridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},selectText:{fontFamily:"varela-round",color:"white",fontSize:16},selectWrapper:{flex:1,backgroundColor:re.grey1,borderRadius:5,marginHorizontal:5,marginBottom:5},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"}});function Je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Xe=function(e){d()(r,e);var t=Je(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.home,serviceEntry:e.serviceEntry,settings:e.settings,discounts:e.discounts,privileges:e.privileges,availableDiscounts:e.discounts,overlaySearchText:"",selectedDiscount:"",remarks:"",overlayRequestAccessVisible:!1,overlayProcedureMessageVisible:!1},n.handleOverlaySearchText=n.handleOverlaySearchText.bind(B()(n)),n.handleUpdateFromRequestAccess=n.handleUpdateFromRequestAccess.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n.handleSubmit=n.handleSubmit.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleOverlaySearchText",value:function(e){var t=this.state,r=t.discounts,n=(t.availableDiscounts,[]);this.setState({overlaySearchText:e});var l=e.toUpperCase();console.log("caseText",l),console.log("available",this.state.availableDiscounts),n=r,e?(n=n.filter((function(e){return e.discId.toUpperCase().includes(l)||e.discName.toUpperCase().includes(l)})),this.setState({availableDiscounts:n})):this.setState({availableDiscounts:n})}},{key:"handleUpdateFromRequestAccess",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.settings,o=r.selectedDiscount;if(e){var i=l+"api/super-user",s={locId:n.locId,accessCode:e,priId:"LINEDISC"};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post super-user successful",e),"Y"===(null==(r=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(l,"Request Access LINEDISC",n.userName,e.message,"","",e.userId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(t.setState({overlayRequestAccessVisible:!1}),t.handleSubmit(o,e.userId))})).catch((function(e){console.log(e),t.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!1})}},{key:"handleSubmit",value:function(e,t){var r=this.state,n=r.home,l=r.privileges,a=r.remarks,o=e;o.remarks=a,"Y"===n.adminFlg||l.some((function(e){return"LINEDISC"===e.priId}))||t?this.props.handleUpdateFromLineDiscount(o,t):this.setState({overlayRequestAccessVisible:!0,selectedDiscount:e})}},{key:"render",value:function(){var e=this,t=this.state,r=t.home,n=t.overlaySearchText,l=t.availableDiscounts,a=t.remarks,o=t.overlayRequestAccessVisible,i=t.overlayProcedureMessageVisible;return console.log("in overlaylinediscount, state",this.state),Object(J.jsxs)(p.default,{style:$e.overlay,children:[i&&Object(J.jsx)(se,{text:i,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),o&&Object(J.jsx)(Ye,{home:r,requestedPrivilege:"LINEDISC",handleUpdateFromRequestAccess:this.handleUpdateFromRequestAccess}),Object(J.jsxs)(p.default,{style:$e.overlayContent,children:[Object(J.jsxs)(p.default,{style:$e.overlayHeader,children:[Object(J.jsx)(Z.default,{style:$e.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:$e.overlaySubtitleText,children:"Line Discount"})]}),Object(J.jsx)(p.default,{style:[$e.searchBoxWrapper,{marginBottom:10}],children:Object(J.jsx)(p.default,{style:$e.overlaySearchBox,children:Object(J.jsx)(N.default,{style:$e.overlaySearchBoxInput,placeholder:"ENTER REMARKS",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.setState({remarks:t})},value:a})})}),Object(J.jsxs)(p.default,{style:$e.searchBoxWrapper,children:[Object(J.jsx)(V.default,{style:$e.overlayBackButton,onPress:function(){return e.props.handleUpdateFromLineDiscount("")},children:Object(J.jsx)(M.default,{name:"close",size:24,color:"white"})}),Object(J.jsxs)(p.default,{style:$e.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:$e.overlaySearchBoxInput,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.handleOverlaySearchText(t)},value:n}),Object(J.jsx)(V.default,{style:$e.overlaySearchBoxButton,onPress:function(){e.setState({overlaySearchText:""},(function(){return e.handleOverlaySearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})]}),Object(J.jsx)(p.default,{style:$e.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:$e.searchBoxInfoText,children:[l.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],data:l,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[$e.overlayGrid,r.dummy?$e.hidden:null],onPress:function(){return e.handleSubmit(r)},children:[Object(J.jsxs)(p.default,{style:$e.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:$e.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:$e.overlayGridFirstLeftText,children:r.discId})}),Object(J.jsx)(p.default,{style:$e.overlayGridFirstRight,children:Object(J.jsx)(Z.default,{style:$e.overlayGridFirstRightText})})]}),Object(J.jsx)(p.default,{style:$e.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:$e.overlayGridSecondText,children:r.discName})}),Object(J.jsxs)(p.default,{style:$e.overlayGridThird,children:[Object(J.jsx)(p.default,{style:$e.overlayGridThirdLeft}),Object(J.jsx)(p.default,{style:$e.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:$e.overlayGridThirdRightText})})]})]})}})]})]})}}]),r}(b.Component),$e=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",height:"80%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center"},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},overlayBackButton:{width:50,height:50,borderRadius:50,marginHorizontal:5,alignItems:"center",justifyContent:"center"},overlayGrid:{flex:1,margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},overlayGridFirst:{flexDirection:"row"},overlayGridSecond:{marginVertical:5},overlayGridThird:{flexDirection:"row"},overlayGridFirstLeft:{flex:1},overlayGridFirstRight:{flex:1,alignItems:"flex-end"},overlayGridThirdLeft:{flex:1},overlayGridThirdRight:{flex:1,alignItems:"flex-end"},overlayGridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridFirstRightText:{color:re.vacant,fontSize:12,fontFamily:"varela-round"},overlayGridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},overlayGridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5}});function _e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var et=function(e){d()(r,e);var t=_e(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.home,serviceEntry:e.serviceEntry,settings:e.settings,privileges:e.privileges,discounts:e.discounts,availableDiscounts:e.discounts,overlaySearchText:"",selectedDiscount:"",remarks:"",overlayRequestAccessVisible:!1,overlayProcedureMessageVisible:!1},n.handleOverlaySearchText=n.handleOverlaySearchText.bind(B()(n)),n.handleUpdateFromRequestAccess=n.handleUpdateFromRequestAccess.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n.handleSubmit=n.handleSubmit.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleOverlaySearchText",value:function(e){var t=this.state,r=t.discounts,n=(t.availableDiscounts,[]);this.setState({overlaySearchText:e});var l=e.toUpperCase();console.log("caseText",l),console.log("available",this.state.availableDiscounts),n=r,e?(n=n.filter((function(e){return e.discId.toUpperCase().includes(l)||e.discName.toUpperCase().includes(l)})),this.setState({availableDiscounts:n})):this.setState({availableDiscounts:n})}},{key:"handleUpdateFromRequestAccess",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.settings,o=r.selectedDiscount;if(e){var i=l+"api/super-user",s={locId:n.locId,accessCode:e,priId:"HEADERDISC"};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post super-user successful",e),"Y"===(null==(r=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(l,"Request Access HEADERDISC",n.userName,e.message,"","",e.userId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(t.setState({overlayRequestAccessVisible:!1}),t.handleSubmit(o,e.userId))})).catch((function(e){console.log(e),t.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!1})}},{key:"handleSubmit",value:function(e,t){var r=this.state,n=r.home,l=r.privileges,a=r.remarks,o=e;o.remarks=a,"Y"===n.adminFlg||l.some((function(e){return"HEADERDISC"===e.priId}))||t?this.props.handleUpdateFromHeaderDiscount(o,t):this.setState({overlayRequestAccessVisible:!0,selectedDiscount:e})}},{key:"render",value:function(){var e=this,t=this.state,r=t.home,n=t.overlaySearchText,l=t.availableDiscounts,a=t.remarks,o=t.overlayRequestAccessVisible,i=t.overlayProcedureMessageVisible;return console.log("in overlayheaderdiscount, state",this.state),Object(J.jsxs)(p.default,{style:tt.overlay,children:[i&&Object(J.jsx)(se,{text:i,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),o&&Object(J.jsx)(Ye,{home:r,requestedPrivilege:"HEADERDISC",handleUpdateFromRequestAccess:this.handleUpdateFromRequestAccess}),Object(J.jsxs)(p.default,{style:tt.overlayContent,children:[Object(J.jsxs)(p.default,{style:tt.overlayHeader,children:[Object(J.jsx)(Z.default,{style:tt.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:tt.overlaySubtitleText,children:"Header Discount"})]}),Object(J.jsx)(p.default,{style:[tt.searchBoxWrapper,{marginBottom:10}],children:Object(J.jsx)(p.default,{style:tt.overlaySearchBox,children:Object(J.jsx)(N.default,{style:tt.overlaySearchBoxInput,placeholder:"ENTER REMARKS",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.setState({remarks:t})},value:a})})}),Object(J.jsxs)(p.default,{style:tt.searchBoxWrapper,children:[Object(J.jsx)(V.default,{style:tt.overlayBackButton,onPress:function(){return e.props.handleUpdateFromHeaderDiscount("")},children:Object(J.jsx)(M.default,{name:"close",size:24,color:"white"})}),Object(J.jsxs)(p.default,{style:tt.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:tt.overlaySearchBoxInput,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.handleOverlaySearchText(t)},value:n}),Object(J.jsx)(V.default,{style:tt.overlaySearchBoxButton,onPress:function(){e.setState({overlaySearchText:""},(function(){return e.handleOverlaySearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})]}),Object(J.jsx)(p.default,{style:tt.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:tt.searchBoxInfoText,children:[l.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],data:l,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[tt.overlayGrid,r.dummy?tt.hidden:null],onPress:function(){return e.handleSubmit(r)},children:[Object(J.jsxs)(p.default,{style:tt.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:tt.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:tt.overlayGridFirstLeftText,children:r.discId})}),Object(J.jsx)(p.default,{style:tt.overlayGridFirstRight,children:Object(J.jsx)(Z.default,{style:tt.overlayGridFirstRightText})})]}),Object(J.jsx)(p.default,{style:tt.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:tt.overlayGridSecondText,children:r.discName})}),Object(J.jsxs)(p.default,{style:tt.overlayGridThird,children:[Object(J.jsx)(p.default,{style:tt.overlayGridThirdLeft}),Object(J.jsx)(p.default,{style:tt.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:tt.overlayGridThirdRightText})})]})]})}})]})]})}}]),r}(b.Component),tt=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",height:"80%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center"},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},overlayBackButton:{width:50,height:50,borderRadius:50,marginHorizontal:5,alignItems:"center",justifyContent:"center"},overlayGrid:{flex:1,margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},overlayGridFirst:{flexDirection:"row"},overlayGridSecond:{marginVertical:5},overlayGridThird:{flexDirection:"row"},overlayGridFirstLeft:{flex:1},overlayGridFirstRight:{flex:1,alignItems:"flex-end"},overlayGridThirdLeft:{flex:1},overlayGridThirdRight:{flex:1,alignItems:"flex-end"},overlayGridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridFirstRightText:{color:re.vacant,fontSize:12,fontFamily:"varela-round"},overlayGridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},overlayGridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5}}),rt=r(119),nt=r.n(rt);function lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var at=function(e){d()(r,e);var t=lt(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.home,serviceEntry:e.serviceEntry,selectedTable:e.selectedTable,overlaySearchText:"",tables:"",availableTables:"",mergeTables:[]},n.handleOverlaySearchText=n.handleOverlaySearchText.bind(B()(n)),n.handleSelectTable=n.handleSelectTable.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=r+"api/tables",a=new URLSearchParams;a.append("shopId",n.shopId),a.append("statusFlg","A"),fetch(l+="?"+a,{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({tables:t.filter((function(e){return"SYS"!==e.sectionId})),availableTables:t.filter((function(e){return"SYS"!==e.sectionId}))})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handleOverlaySearchText",value:function(e){var t=this.state,r=t.tables,n=(t.availableTables,[]);this.setState({overlaySearchText:e});var l=e.toUpperCase();console.log("caseText",l),console.log("available",this.state.availableTables),n=r,e?(n=n.filter((function(e){return e.tableId.toUpperCase().includes(l)||e.sectionId.toUpperCase().includes(l)})),this.setState({availableTables:n})):this.setState({availableTables:n})}},{key:"handleSelectTable",value:function(e){var t=this.state.mergeTables,r=t;t.some((function(t){return t.tableId===e.tableId}))?r=r.filter((function(t){return t.tableId!==e.tableId})):r.push(e),this.setState({mergeTables:r})}},{key:"handlePressSelection",value:function(e){var t=this.state.mergeTables;t.filter((function(t){return t.tableId!==e.tableId})),nt()("mergeTablesUpdate"),this.setState({mergeTables:t})}},{key:"render",value:function(){var e=this,t=this.state,r=t.selectedTable,n=t.overlaySearchText,l=t.availableTables,a=(t.tables,t.mergeTables);return console.log("in overlaymergetable, state",this.state),Object(J.jsx)(p.default,{style:ot.overlay,children:Object(J.jsxs)(p.default,{style:ot.overlayContent,children:[Object(J.jsxs)(p.default,{style:ot.overlayHeader,children:[Object(J.jsxs)(Z.default,{style:ot.overlayTitleText,children:["TABLE ",r.tableId]}),Object(J.jsx)(Z.default,{style:ot.overlaySubtitleText,children:"Merge Table"})]}),Object(J.jsx)(p.default,{style:ot.selectionContainer,children:a.map((function(t){return Object(J.jsx)(V.default,{style:[ot.modalAvailableMod],onPress:function(){return e.handleSelectTable(t)},children:Object(J.jsx)(Z.default,{style:[ot.modalAvailableModText],children:t.tableId})},t.recKey)}))}),Object(J.jsxs)(p.default,{style:ot.searchBoxWrapper,children:[Object(J.jsx)(V.default,{style:ot.overlayBackButton,onPress:function(){return e.props.handleUpdateFromMergeTable([])},children:Object(J.jsx)(M.default,{name:"close",size:24,color:"white"})}),Object(J.jsxs)(p.default,{style:ot.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:ot.overlaySearchBoxInput,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.handleOverlaySearchText(t)},value:n}),Object(J.jsx)(V.default,{style:ot.overlaySearchBoxButton,onPress:function(){e.setState({overlaySearchText:""},(function(){return e.handleOverlaySearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})]}),Object(J.jsx)(p.default,{style:ot.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:ot.searchBoxInfoText,children:[l.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],showsVerticalScrollIndicator:!1,data:l,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:ot.overlayGrid,onPress:function(){return e.handleSelectTable(r)},children:[Object(J.jsxs)(p.default,{style:ot.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:ot.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:ot.overlayGridFirstLeftText,children:r.sectionId})}),Object(J.jsx)(p.default,{style:ot.overlayGridFirstRight,children:Object(J.jsx)(Z.default,{style:ot.overlayGridFirstRightText,children:"VACANT"})})]}),Object(J.jsx)(p.default,{style:ot.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:ot.overlayGridSecondText,children:r.tableId})}),Object(J.jsxs)(p.default,{style:ot.overlayGridThird,children:[Object(J.jsx)(p.default,{style:ot.overlayGridThirdLeft}),Object(J.jsx)(p.default,{style:ot.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:ot.overlayGridThirdRightText})})]})]})}}),Object(J.jsx)(V.default,{style:[ot.overlayOption,{backgroundColor:re.vacant}],onPress:function(){return e.props.handleUpdateFromMergeTable(a)},children:Object(J.jsx)(Z.default,{style:ot.overlayOptionText,children:S.a.get("submit")})})]})})}}]),r}(b.Component),ot=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",height:"80%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center"},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},overlayBackButton:{width:50,height:50,borderRadius:50,marginHorizontal:5,alignItems:"center",justifyContent:"center"},overlayGrid:{flex:1,margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},overlayGridFirst:{flexDirection:"row"},overlayGridSecond:{marginVertical:5},overlayGridThird:{flexDirection:"row"},overlayGridFirstLeft:{flex:1},overlayGridFirstRight:{flex:1,alignItems:"flex-end"},overlayGridThirdLeft:{flex:1},overlayGridThirdRight:{flex:1,alignItems:"flex-end"},overlayGridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridFirstRightText:{color:re.vacant,fontSize:12,fontFamily:"varela-round"},overlayGridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},overlayGridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},selectionContainer:{height:35,paddingBottom:5,flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},modalAvailableMod:{paddingHorizontal:10,alignItems:"center",justifyContent:"center",borderRadius:16,height:30,backgroundColor:re.grey1,marginRight:5,marginBottom:5},modalAvailableModText:{fontFamily:"varela-round",color:re.grey5,fontSize:20}});function it(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var st=function(e){d()(r,e);var t=it(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.home,serviceEntry:e.serviceEntry,selectedTable:e.selectedTable,tableItems:e.tableItems,overlaySearchText:"",availableTableItems:e.tableItems.filter((function(e){return!e.refRecKey})),selectedTableItems:[]},n.handleOverlaySearchText=n.handleOverlaySearchText.bind(B()(n)),n.handleSelectTableItem=n.handleSelectTableItem.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"handleOverlaySearchText",value:function(e){var t=this.state.tableItems,r=[];this.setState({overlaySearchText:e});var n=e.toUpperCase();console.log("caseText",n),console.log("available",this.state.availableTableItems),r=t.filter((function(e){return!e.refRecKey})),e?(r=r.filter((function(e){return e.menuId.toUpperCase().includes(n)||e.menuName.toUpperCase().includes(n)})),this.setState({availableTableItems:r})):this.setState({availableTableItems:r})}},{key:"handleSelectTableItem",value:function(e){var t=this.state.selectedTableItems;t.some((function(t){return t.recKey===e.recKey}))?t=t.filter((function(t){return t.recKey!==e.recKey})):t.push(e),this.setState({selectedTableItems:t})}},{key:"handlePressSelection",value:function(e){var t=this.state.selectedTableItems;t.filter((function(t){return t.recKey!==e.recKey})),nt()("selectedTableItemsUpdate"),this.setState({selectedTableItems:t})}},{key:"render",value:function(){var e=this,t=this.state,r=t.selectedTable,n=t.overlaySearchText,l=t.availableTableItems,a=t.selectedTableItems;return console.log("in overlaysplittable, state",this.state),Object(J.jsx)(p.default,{style:ct.overlay,children:Object(J.jsxs)(p.default,{style:ct.overlayContent,children:[Object(J.jsxs)(p.default,{style:ct.overlayHeader,children:[Object(J.jsxs)(Z.default,{style:ct.overlayTitleText,children:["TABLE ",r.tableId]}),Object(J.jsx)(Z.default,{style:ct.overlaySubtitleText,children:"Split Table"})]}),Object(J.jsx)(p.default,{style:ct.selectionContainer,children:a.map((function(t){return Object(J.jsx)(V.default,{style:[ct.modalAvailableMod],onPress:function(){return e.handleSelectTableItem(t)},children:Object(J.jsx)(Z.default,{style:[ct.modalAvailableModText],children:t.lineNo})},t.recKey)}))}),Object(J.jsxs)(p.default,{style:ct.searchBoxWrapper,children:[Object(J.jsx)(V.default,{style:ct.overlayBackButton,onPress:function(){return e.props.handleUpdateFromSplitTable("")},children:Object(J.jsx)(M.default,{name:"close",size:24,color:"white"})}),Object(J.jsxs)(p.default,{style:ct.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:ct.overlaySearchBoxInput,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.handleOverlaySearchText(t)},value:n}),Object(J.jsx)(V.default,{style:ct.overlaySearchBoxButton,onPress:function(){e.setState({overlaySearchText:""},(function(){return e.handleOverlaySearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})]}),Object(J.jsx)(p.default,{style:ct.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:ct.searchBoxInfoText,children:[l.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],showsVerticalScrollIndicator:!1,data:l,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:ct.overlayGrid,onPress:function(){return e.handleSelectTableItem(r)},children:[Object(J.jsxs)(p.default,{style:ct.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:ct.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:ct.overlayGridFirstLeftText,children:r.menuId})}),Object(J.jsx)(p.default,{style:ct.overlayGridFirstRight,children:Object(J.jsx)(Z.default,{style:ct.overlayGridFirstRightText,children:r.lineNo})})]}),Object(J.jsx)(p.default,{style:ct.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:ct.overlayGridSecondText,children:r.menuName})}),Object(J.jsxs)(p.default,{style:ct.overlayGridThird,children:[Object(J.jsx)(p.default,{style:ct.overlayGridThirdLeft}),Object(J.jsx)(p.default,{style:ct.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:ct.overlayGridThirdRightText})})]})]})}}),Object(J.jsx)(V.default,{style:ct.overlayOption,onPress:function(){return e.props.handleUpdateFromSplitTable(a)},children:Object(J.jsx)(Z.default,{style:ct.overlayOptionText,children:S.a.get("submit")})})]})})}}]),r}(b.Component),ct=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",height:"80%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center"},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},overlayBackButton:{width:50,height:50,borderRadius:50,marginHorizontal:5,alignItems:"center",justifyContent:"center"},overlayGrid:{flex:1,margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},overlayGridFirst:{flexDirection:"row"},overlayGridSecond:{marginVertical:5},overlayGridThird:{flexDirection:"row"},overlayGridFirstLeft:{flex:1},overlayGridFirstRight:{flex:1,alignItems:"flex-end"},overlayGridThirdLeft:{flex:1},overlayGridThirdRight:{flex:1,alignItems:"flex-end"},overlayGridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridFirstRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},overlayGridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},selectionContainer:{height:35,paddingBottom:5,flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},modalAvailableMod:{paddingHorizontal:10,alignItems:"center",justifyContent:"center",borderRadius:16,height:30,backgroundColor:re.grey1,marginRight:5,marginBottom:5},modalAvailableModText:{fontFamily:"varela-round",color:re.grey5,fontSize:20}});function dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var ut=function(e){d()(r,e);var t=dt(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.home,serviceEntry:e.serviceEntry,selectedTable:e.selectedTable,overlaySearchText:"",tables:"",availableTables:""},n.handleOverlaySearchText=n.handleOverlaySearchText.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=r+"api/tables",a=new URLSearchParams;a.append("shopId",n.shopId),a.append("statusFlg","A"),fetch(l+="?"+a,{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({tables:t.filter((function(e){return"SYS"!==e.sectionId})),availableTables:t.filter((function(e){return"SYS"!==e.sectionId}))})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handleOverlaySearchText",value:function(e){var t=this.state,r=t.tables,n=(t.availableTables,[]);this.setState({overlaySearchText:e});var l=e.toUpperCase();console.log("caseText",l),console.log("available",this.state.availableTables),n=r,e?(n=n.filter((function(e){return e.tableId.toUpperCase().includes(l)||e.sectionId.toUpperCase().includes(l)})),this.setState({availableTables:n})):this.setState({availableTables:n})}},{key:"render",value:function(){var e=this,t=this.state,r=t.overlaySearchText,n=t.availableTables,l=(t.tables,t.selectedTable);return console.log("in overlaychangetable, state",this.state),Object(J.jsx)(p.default,{style:ft.overlay,children:Object(J.jsxs)(p.default,{style:ft.overlayContent,children:[Object(J.jsxs)(p.default,{style:ft.overlayHeader,children:[Object(J.jsxs)(Z.default,{style:ft.overlayTitleText,children:["TABLE ",l.tableId]}),Object(J.jsx)(Z.default,{style:ft.overlaySubtitleText,children:"Change Table"})]}),Object(J.jsxs)(p.default,{style:ft.searchBoxWrapper,children:[Object(J.jsx)(V.default,{style:ft.overlayBackButton,onPress:function(){return e.props.handleUpdateFromChangeTable("")},children:Object(J.jsx)(M.default,{name:"close",size:24,color:"white"})}),Object(J.jsxs)(p.default,{style:ft.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:ft.overlaySearchBoxInput,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.handleOverlaySearchText(t)},value:r}),Object(J.jsx)(V.default,{style:ft.overlaySearchBoxButton,onPress:function(){e.setState({overlaySearchText:""},(function(){return e.handleOverlaySearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})]}),Object(J.jsx)(p.default,{style:ft.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:ft.searchBoxInfoText,children:[n.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],showsVerticalScrollIndicator:!1,data:n,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[ft.overlayGrid,r.dummy?ft.hidden:null],onPress:function(){return e.props.handleUpdateFromChangeTable(r)},children:[Object(J.jsxs)(p.default,{style:ft.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:ft.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:ft.overlayGridFirstLeftText,children:r.sectionId})}),Object(J.jsx)(p.default,{style:ft.overlayGridFirstRight,children:Object(J.jsx)(Z.default,{style:ft.overlayGridFirstRightText,children:"VACANT"})})]}),Object(J.jsx)(p.default,{style:ft.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:ft.overlayGridSecondText,children:r.tableId})}),Object(J.jsxs)(p.default,{style:ft.overlayGridThird,children:[Object(J.jsx)(p.default,{style:ft.overlayGridThirdLeft}),Object(J.jsx)(p.default,{style:ft.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:ft.overlayGridThirdRightText})})]})]})}})]})})}}]),r}(b.Component),ft=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",height:"80%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center"},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},overlayBackButton:{width:50,height:50,borderRadius:50,marginHorizontal:5,alignItems:"center",justifyContent:"center"},overlayGrid:{flex:1,margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},overlayGridFirst:{flexDirection:"row"},overlayGridSecond:{marginVertical:5},overlayGridThird:{flexDirection:"row"},overlayGridFirstLeft:{flex:1},overlayGridFirstRight:{flex:1,alignItems:"flex-end"},overlayGridThirdLeft:{flex:1},overlayGridThirdRight:{flex:1,alignItems:"flex-end"},overlayGridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridFirstRightText:{color:re.vacant,fontSize:12,fontFamily:"varela-round"},overlayGridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},overlayGridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5}});function ht(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var yt=function(e){d()(r,e);var t=ht(r);function r(e){return o()(this,r),t.call(this,e)}return s()(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.selectedTable,n=t.selectedTableItem;t.tableItems;return console.log("in overlayreviseitem",this.props),Object(J.jsx)(p.default,{style:bt.overlay,children:Object(J.jsxs)(p.default,{style:bt.overlayContent,children:[Object(J.jsxs)(p.default,{style:bt.overlayHeader,children:[Object(J.jsxs)(Z.default,{style:bt.overlayTitleText,children:[S.a.get("table")," ",r.tableId]}),Object(J.jsx)(Z.default,{style:bt.overlaySubtitleText,children:S.a.get("reviseitem")}),Object(J.jsx)(Z.default,{style:bt.overlayText,children:n.menuName.toUpperCase()})]}),Object(J.jsxs)(p.default,{style:bt.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:bt.button,onPress:function(){return e.props.handleUpdateFromReviseItem("voidItem")},children:[Object(J.jsx)(M.default,{name:"close",color:"white",size:32}),Object(J.jsx)(Z.default,{style:bt.buttonText,children:S.a.get("remove")})]}),Object(J.jsxs)(V.default,{style:bt.button,onPress:function(){return e.props.handleUpdateFromReviseItem("duplicateItem")},children:[Object(J.jsx)(M.default,{name:"copy1",color:"white",size:32}),Object(J.jsx)(Z.default,{style:bt.buttonText,children:S.a.get("duplicate")})]}),Object(J.jsxs)(V.default,{style:[bt.button,"Y"===n.confirmFlg&&{opacity:.2}],disabled:"Y"===n.confirmFlg,onPress:function(){return e.props.handleUpdateFromReviseItem("lineBreak")},children:[Object(J.jsx)(M.default,{name:"minus",color:"white",size:32}),Object(J.jsx)(Z.default,{style:bt.buttonText,children:S.a.get("linebreak")})]}),Object(J.jsxs)(V.default,{style:bt.button,onPress:function(){return e.props.handleUpdateFromReviseItem("editItem")},children:[Object(J.jsx)(M.default,{name:"edit",color:"white",size:32}),Object(J.jsx)(Z.default,{style:bt.buttonText,children:S.a.get("edit")})]})]}),Object(J.jsxs)(p.default,{style:bt.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:[bt.button,!("S"===n.menuType||"X"===n.menuType)&&{opacity:.2}],disabled:!("S"===n.menuType||"X"===n.menuType),onPress:function(){return e.props.handleUpdateFromReviseItem("revertItem")},children:[Object(J.jsx)(M.default,{name:"man",color:"white",size:32}),Object(J.jsx)(Z.default,{style:bt.buttonText,children:S.a.get("revert")})]}),Object(J.jsxs)(V.default,{style:[bt.button,"N"===n.discFlg&&0!==n.listPrice&&{opacity:.2}],disabled:"N"===n.discFlg&&0!==n.listPrice,onPress:function(){return e.props.handleUpdateFromReviseItem("changePrice")},children:[Object(J.jsx)(M.default,{name:"exception1",color:"white",size:32}),Object(J.jsx)(Z.default,{style:bt.buttonText,children:S.a.get("changeprice")})]}),Object(J.jsxs)(V.default,{style:[bt.button,"N"===n.discFlg&&{opacity:.2}],disabled:"N"===n.discFlg,onPress:function(){return e.props.handleUpdateFromReviseItem("lineDiscount")},children:[Object(J.jsx)(M.default,{name:"exception1",color:"white",size:32}),Object(J.jsx)(Z.default,{style:bt.buttonText,children:S.a.get("linedisc")})]})]}),Object(J.jsx)(V.default,{style:[bt.overlayOption,{backgroundColor:re.paid,marginTop:20}],onPress:function(){return e.props.handleUpdateFromReviseItem("")},children:Object(J.jsx)(Z.default,{style:bt.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),bt=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{minWidth:"50%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{margin:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},buttonsContainer:{paddingHorizontal:10,alignItems:"center",justifyContent:"center",flexDirection:"row"},button:{height:100,width:100,margin:5,alignItems:"center",justifyContent:"center",backgroundColor:re.grey1,borderRadius:5},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"}});function gt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var mt=function(e){d()(r,e);var t=gt(r);function r(e){return o()(this,r),t.call(this,e)}return s()(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.selectedTable;t.tableItems;return console.log("in overlayadditionalfunctions",this.props),Object(J.jsx)(p.default,{style:pt.overlay,children:Object(J.jsxs)(p.default,{style:pt.overlayContent,children:[Object(J.jsxs)(p.default,{style:pt.overlayHeader,children:[Object(J.jsxs)(Z.default,{style:pt.overlayTitleText,children:[S.a.get("table")," ",r.tableId]}),Object(J.jsxs)(Z.default,{style:pt.overlaySubtitleText,children:[S.a.get("table")," ",S.a.get("action")]})]}),Object(J.jsxs)(p.default,{style:pt.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:[pt.button,(!r||"SYS"===r.sectionId||"A"!==r.statusFlg)&&{opacity:.2}],disabled:!r||"SYS"===r.sectionId||"A"!==r.statusFlg,onPress:function(){return e.props.handleUpdateFromTableActions("openTable")},children:[Object(J.jsx)(M.default,{name:"appstore-o",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("open")})]}),Object(J.jsxs)(V.default,{style:[pt.button,(!r||!("C"===r.statusFlg||"SYS"===r.sectionId))&&{opacity:.2}],disabled:!r||!("C"===r.statusFlg||"SYS"===r.sectionId),onPress:function(){return e.props.handleUpdateFromTableActions("editTable")},children:[Object(J.jsx)(M.default,{name:"edit",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("edit")})]}),Object(J.jsxs)(V.default,{style:[pt.button,(!r||"SYS"===r.sectionId||"A"!==r.statusFlg)&&{opacity:.2}],disabled:!r||"SYS"===r.sectionId||"A"!==r.statusFlg,onPress:function(){return e.props.handleUpdateFromTableActions("reserveTable")},children:[Object(J.jsx)(M.default,{name:"calendar",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("reserve")})]}),"SYS"!==(null==r?void 0:r.sectionId)&&"A"===(null==r?void 0:r.statusFlg)?Object(J.jsxs)(V.default,{style:[pt.button,(!r||"A"!==r.statusFlg)&&{opacity:.2}],disabled:!r||"A"!==r.statusFlg,onPress:function(){return e.props.handleUpdateFromTableActions("disableTable")},children:[Object(J.jsx)(Te.default,{name:"cancel",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("disable")})]}):Object(J.jsxs)(V.default,{style:[pt.button,(!r||"A"===r.statusFlg)&&{opacity:.2}],disabled:!r||"A"===r.statusFlg,onPress:function(){return e.props.handleUpdateFromTableActions("resetTable")},children:[Object(J.jsx)(M.default,{name:"reload1",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("reset")})]})]}),Object(J.jsxs)(p.default,{style:pt.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:[pt.button,(!r||!("B"===r.statusFlg||"C"===r.statusFlg)||"SYS"===(null==r?void 0:r.sectionId))&&{opacity:.2}],disabled:!r||!("B"===r.statusFlg||"C"===r.statusFlg)||"SYS"===(null==r?void 0:r.sectionId),onPress:function(){return e.props.handleUpdateFromTableActions("mergeTable")},children:[Object(J.jsx)(M.default,{name:"menufold",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("mergetable")})]}),Object(J.jsxs)(V.default,{style:[pt.button,(!r||!("B"===r.statusFlg||"C"===r.statusFlg)||"SYS"===(null==r?void 0:r.sectionId))&&{opacity:.2}],disabled:!r||!("B"===r.statusFlg||"C"===r.statusFlg)||"SYS"===(null==r?void 0:r.sectionId),onPress:function(){return e.props.handleUpdateFromTableActions("splitTable")},children:[Object(J.jsx)(M.default,{name:"menuunfold",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("splittable")})]}),Object(J.jsxs)(V.default,{style:[pt.button,(!r||"C"!==r.statusFlg)&&{opacity:.2}],disabled:!r||"C"!==r.statusFlg,onPress:function(){return e.props.handleUpdateFromTableActions("changeTable")},children:[Object(J.jsx)(M.default,{name:"swap",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("changetable")})]})]}),Object(J.jsxs)(p.default,{style:pt.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:[pt.button,(!r||!("C"===r.statusFlg||"SYS"===r.sectionId))&&{opacity:.2}],disabled:!r||!("C"===r.statusFlg||"SYS"===r.sectionId),onPress:function(){return e.props.handleUpdateFromTableActions("viewResequence")},children:[Object(J.jsx)(M.default,{name:"bars",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("resequence")})]}),Object(J.jsxs)(V.default,{style:[pt.button,(!r||"C"!==r.statusFlg)&&{opacity:.2}],disabled:!r||"C"!==r.statusFlg,onPress:function(){return e.props.handleUpdateFromTableActions("viewTransfer")},children:[Object(J.jsx)(M.default,{name:"export",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("transferitems")})]}),Object(J.jsxs)(V.default,{style:[pt.button,(!r||!("C"===r.statusFlg||"SYS"===r.sectionId))&&{opacity:.2}],disabled:!r||!("C"===r.statusFlg||"SYS"===r.sectionId),onPress:function(){return e.props.handleUpdateFromTableActions("headerDiscount")},children:[Object(J.jsx)(M.default,{name:"exception1",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("headerdisc")})]}),Object(J.jsxs)(V.default,{style:[pt.button,(!r||!("C"===r.statusFlg||"SYS"===r.sectionId))&&{opacity:.2}],disabled:!r||!("C"===r.statusFlg||"SYS"===r.sectionId),onPress:function(){return e.props.handleUpdateFromTableActions("printBill")},children:[Object(J.jsx)(M.default,{name:"book",color:"white",size:32}),Object(J.jsx)(Z.default,{style:pt.buttonText,children:S.a.get("printbill")})]})]}),Object(J.jsx)(V.default,{style:[pt.overlayOption,{backgroundColor:re.paid,marginTop:20}],onPress:function(){return e.props.handleUpdateFromTableActions("")},children:Object(J.jsx)(Z.default,{style:pt.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),pt=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{minWidth:"50%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},buttonsContainer:{paddingHorizontal:10,alignItems:"center",justifyContent:"center",flexDirection:"row"},button:{height:100,width:100,margin:5,alignItems:"center",justifyContent:"center",backgroundColor:re.grey1,borderRadius:5},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"}});function jt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var xt=function(e){d()(r,e);var t=jt(r);function r(e){return o()(this,r),t.call(this,e)}return s()(r,[{key:"render",value:function(){var e=this;return console.log("in overlayadditionalfunctions",this.props),Object(J.jsx)(p.default,{style:vt.overlay,children:Object(J.jsxs)(p.default,{style:vt.overlayContent,children:[Object(J.jsxs)(p.default,{style:vt.overlayHeader,children:[Object(J.jsx)(Z.default,{style:vt.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:vt.overlaySubtitleText,children:S.a.get("additionalfunctions")})]}),Object(J.jsxs)(p.default,{style:vt.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:vt.button,onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("viewReprint")},children:[Object(J.jsx)(M.default,{name:"printer",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("reprint")})]}),Object(J.jsxs)(V.default,{style:[vt.button],onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("viewVoid")},children:[Object(J.jsx)(M.default,{name:"exception1",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("voidreceipts")})]}),Object(J.jsxs)(V.default,{style:[vt.button],onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("viewCollect")},children:[Object(J.jsx)(M.default,{name:"gift",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("collection")})]}),Object(J.jsxs)(V.default,{style:vt.button,onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("openDrawer")},children:[Object(J.jsx)(M.default,{name:"laptop",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("opendrawer")})]})]}),Object(J.jsxs)(p.default,{style:vt.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:[vt.button,{backgroundColor:re.grey2}],onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("logOut")},children:[Object(J.jsx)(M.default,{name:"doubleleft",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("logout")})]}),Object(J.jsxs)(V.default,{style:vt.button,onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("viewTrace")},children:[Object(J.jsx)(M.default,{name:"eyeo",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("trace")})]}),Object(J.jsxs)(V.default,{style:vt.button,onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("viewPrinters")},children:[Object(J.jsx)(M.default,{name:"fork",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("testprint")})]}),Object(J.jsxs)(V.default,{style:[vt.button,{backgroundColor:re.grey2}],onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("syncMasters")},children:[Object(J.jsx)(M.default,{name:"retweet",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("syncmasters")})]})]}),Object(J.jsxs)(p.default,{style:vt.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:vt.button,onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("viewActivate")},children:[Object(J.jsx)(M.default,{name:"bulb1",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("activate")})]}),Object(J.jsxs)(V.default,{style:vt.button,onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("viewLimit")},children:[Object(J.jsx)(M.default,{name:"staro",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("limited")})]}),Object(J.jsxs)(V.default,{style:vt.button,onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("viewDayclose")},children:[Object(J.jsx)(M.default,{name:"isv",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("dayend")})]}),Object(J.jsxs)(V.default,{style:vt.button,onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("viewReports")},children:[Object(J.jsx)(M.default,{name:"solution1",color:"white",size:32}),Object(J.jsx)(Z.default,{style:vt.buttonText,children:S.a.get("reports")})]})]}),Object(J.jsx)(V.default,{style:[vt.overlayOption,{backgroundColor:re.paid,marginTop:20}],onPress:function(){return e.props.handleUpdateFromAdditionalFunctions("")},children:Object(J.jsx)(Z.default,{style:vt.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),vt=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{minWidth:"50%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},buttonsContainer:{paddingHorizontal:10,alignItems:"center",justifyContent:"center",flexDirection:"row"},button:{height:100,width:100,margin:5,alignItems:"center",justifyContent:"center",backgroundColor:re.grey1,borderRadius:5},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"}});function Tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Ot=function(e){d()(r,e);var t=Tt(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={overlaySearchText:"",printers:e.cashierPrinters,availablePrinters:e.cashierPrinters},n.handleOverlaySearchText=n.handleOverlaySearchText.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"handleOverlaySearchText",value:function(e){var t=this.state,r=t.printers,n=(t.availablePrinters,[]);this.setState({overlaySearchText:e});var l=e.toUpperCase();console.log("caseText",l),console.log("available",this.state.availablePrinters),n=r,e?(n=n.filter((function(e){return e.iomodelId.toUpperCase().includes(l)||e.name.toUpperCase().includes(l)})),this.setState({availablePrinters:n})):this.setState({availablePrinters:n})}},{key:"render",value:function(){var e=this,t=this.props.printPurpose,r=this.state,n=r.overlaySearchText,l=r.availablePrinters;r.printers;return console.log("in overlaychooseprinter, state",this.state),Object(J.jsx)(p.default,{style:St.overlay,children:Object(J.jsxs)(p.default,{style:St.overlayContent,children:[Object(J.jsxs)(p.default,{style:St.overlayHeader,children:[Object(J.jsx)(Z.default,{style:St.overlayTitleText,children:t}),Object(J.jsxs)(Z.default,{style:St.overlaySubtitleText,children:[S.a.get("choose")," ",S.a.get("printer")]})]}),Object(J.jsxs)(p.default,{style:St.searchBoxWrapper,children:[Object(J.jsx)(V.default,{style:St.overlayBackButton,onPress:function(){return e.props.handleUpdateFromChoosePrinter("")},children:Object(J.jsx)(M.default,{name:"close",size:24,color:"white"})}),Object(J.jsxs)(p.default,{style:St.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:St.overlaySearchBoxInput,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.handleOverlaySearchText(t)},value:n}),Object(J.jsx)(V.default,{style:St.overlaySearchBoxButton,onPress:function(){e.setState({overlaySearchText:""},(function(){return e.handleOverlaySearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})]}),Object(J.jsx)(p.default,{style:St.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:St.searchBoxInfoText,children:[l.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],data:l,keyExtractor:function(e,t){return t},renderItem:function(r){var n=r.item;return Object(J.jsxs)(V.default,{style:[St.overlayGrid,n.dummy?St.hidden:null],onPress:function(){return e.props.handleUpdateFromChoosePrinter(n,t)},children:[Object(J.jsxs)(p.default,{style:St.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:St.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:St.overlayGridFirstLeftText,children:n.iomodelId})}),Object(J.jsx)(p.default,{style:St.overlayGridFirstRight,children:Object(J.jsx)(Z.default,{style:St.overlayGridFirstRightText})})]}),Object(J.jsx)(p.default,{style:St.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:St.overlayGridSecondText,children:n.name})}),Object(J.jsxs)(p.default,{style:St.overlayGridThird,children:[Object(J.jsx)(p.default,{style:St.overlayGridThirdLeft}),Object(J.jsx)(p.default,{style:St.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:St.overlayGridThirdRightText})})]})]})}})]})})}}]),r}(b.Component),St=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",height:"80%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center"},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},overlayBackButton:{width:50,height:50,borderRadius:50,marginHorizontal:5,alignItems:"center",justifyContent:"center"},overlayGrid:{flex:1,margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},overlayGridFirst:{flexDirection:"row"},overlayGridSecond:{marginVertical:5},overlayGridThird:{flexDirection:"row"},overlayGridFirstLeft:{flex:1},overlayGridFirstRight:{flex:1,alignItems:"flex-end"},overlayGridThirdLeft:{flex:1},overlayGridThirdRight:{flex:1,alignItems:"flex-end"},overlayGridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridFirstRightText:{color:re.vacant,fontSize:12,fontFamily:"varela-round"},overlayGridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},overlayGridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5}});function It(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Ct=function(e){d()(r,e);var t=It(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={input:e.input},n}return s()(r,[{key:"render",value:function(){var e=this,t=this.state.input;return console.log("in overlayalert",this.props),Object(J.jsx)(p.default,{style:Ft.overlay,children:Object(J.jsxs)(p.default,{style:Ft.overlayContent,children:[Object(J.jsxs)(p.default,{style:Ft.overlayHeader,children:[Object(J.jsx)(Z.default,{style:Ft.overlayTitleText,children:null==t?void 0:t.title}),Object(J.jsx)(Z.default,{style:Ft.overlaySubtitleText,children:null==t?void 0:t.subtitle}),Object(J.jsx)(Z.default,{style:Ft.overlayText,children:null==t?void 0:t.text})]}),(null==t?void 0:t.ok)&&Object(J.jsx)(V.default,{style:Ft.overlayOption,onPress:function(){return e.props.handleUpdateFromAlert("")},children:Object(J.jsx)(Z.default,{style:Ft.overlayOptionText,children:"OK"})}),null!=t&&t.options?null==t?void 0:t.options.map((function(t){return Object(J.jsx)(V.default,{style:Ft.overlayOption,onPress:function(){return e.props.handleUpdateFromAlert(t.handleText)},children:Object(J.jsx)(Z.default,{style:Ft.overlayOptionText,children:t.text})},t.handleText)})):null,(null==t?void 0:t.cancel)&&Object(J.jsx)(V.default,{style:[Ft.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromAlert("")},children:Object(J.jsx)(Z.default,{style:Ft.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),Ft=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{margin:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"}});function Pt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Rt=Object(Oe.default)(),wt=function(e){d()(r,e);var t=Pt(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={serviceEntry:e.route.params.serviceEntry,serviceEntryObj:e.route.params.serviceEntryObj,home:e.route.params.home,preference:e.route.params.preference,masters:e.route.params.masters,settings:e.route.params.masters.settings,selectedTable:null,selectedTableItem:null,tableItems:[],printPurpose:"",requestedPrivilege:"",screen:"MENU",refresh:null},n.handlePressTable=n.handlePressTable.bind(B()(n)),n.handleActionTable=n.handleActionTable.bind(B()(n)),n.handlePressMenu=n.handlePressMenu.bind(B()(n)),n.handlePressScan=n.handlePressScan.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n.handleUpdateFromAlert=n.handleUpdateFromAlert.bind(B()(n)),n.handleUpdateFromAutoLogout=n.handleUpdateFromAutoLogout.bind(B()(n)),n.handleUpdateFromDeposit=n.handleUpdateFromDeposit.bind(B()(n)),n.handleUpdateFromScanBarcode=n.handleUpdateFromScanBarcode.bind(B()(n)),n.handleUpdateFromReviseItem=n.handleUpdateFromReviseItem.bind(B()(n)),n.handleUpdateFromTableActions=n.handleUpdateFromTableActions.bind(B()(n)),n.handleUpdateFromAdditionalFunctions=n.handleUpdateFromAdditionalFunctions.bind(B()(n)),n.handleUpdateFromRequestAccess=n.handleUpdateFromRequestAccess.bind(B()(n)),n.handleUpdateFromChoosePrinter=n.handleUpdateFromChoosePrinter.bind(B()(n)),n.handleUpdateFromHeaderDiscount=n.handleUpdateFromHeaderDiscount.bind(B()(n)),n.handleUpdateFromLineDiscount=n.handleUpdateFromLineDiscount.bind(B()(n)),n.handleUpdateFromChangePrice=n.handleUpdateFromChangePrice.bind(B()(n)),n.handleUpdateFromMergeTable=n.handleUpdateFromMergeTable.bind(B()(n)),n.handleUpdateFromSplitTable=n.handleUpdateFromSplitTable.bind(B()(n)),n.handleUpdateFromChangeTable=n.handleUpdateFromChangeTable.bind(B()(n)),n.handleUpdateFromVoid=n.handleUpdateFromVoid.bind(B()(n)),n.handleUpdateFromTable=n.handleUpdateFromTable.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=this.props.navigation;this.sub=e.addListener("focus",this.didFocus.bind(this)),this.doChooseDefaultPrinter()}},{key:"didFocus",value:function(){var e=this.state.selectedTable;e&&this.handlePressTable(e),this.setState({refresh:oe()().format("HH:mm:ss")})}},{key:"componentWillUnmount",value:function(){this.sub()}},{key:"doChooseDefaultPrinter",value:function(){var e=this.state,t=e.home,r=e.masters;if("web"===j.default.OS&&r.cashierPrinters.length>1)this.setState({overlayChoosePrinterVisible:!0,printPurpose:"DEFAULT PRINTER"});else if(1===r.cashierPrinters.length){var n,l=t;l.defaultPrinter=null==(n=r.cashierPrinters)?void 0:n[0],this.setState({home:l})}}},{key:"handlePressTable",value:function(){var e=l()((function*(e){var t=this;if(null!=e&&e.recKey){this.props.navigation;var r=this.state.serviceEntry+"api/tables/"+e.recKey;return fetch(r,{method:"GET"}).then((function(e){return e.json()})).then((function(e){if("SYS"===e.opentable.sectionId&&("A"===e.opentable.statusFlg||"D"===e.opentable.statusFlg))return t.doClearTable(),void t.doToggleScreen("MENU");"SYS"===e.opentable.sectionId&&t.doToggleScreen("TABLE"),t.setState({selectedTable:e.opentable,tableItems:e.opentableItems})}))}}));return function(t){return e.apply(this,arguments)}}()},{key:"handleActionTable",value:function(e,t){var r=this.props.navigation,n=this.state,l=n.serviceEntry,a=n.home,o=n.masters,i=n.selectedTable;"CREATE"===t?this.doCreateTable():"OPEN"===t?r.navigate("Table",{home:a,serviceEntry:l,masters:o,selectedTable:i,mode:"NEW",handleUpdateFromTable:this.handleUpdateFromTable}):"EDIT"===t&&r.navigate("Table",{home:a,serviceEntry:l,masters:o,selectedTable:i,mode:"EDIT"})}},{key:"handlePressMenu",value:function(e,t){var r,n=this,l=this.props.navigation,a=this.state,o=a.home,i=a.preference,s=a.serviceEntry,c=a.settings,d=a.masters,u=a.selectedTable,f=null==(r=c.find((function(e){return"POSMODE"===e.setId})))?void 0:r.setString;if(console.log(e),u||"A"!==f)if(u||"B"!==f)if("O"!==e.menuType)if(d.modBundles.some((function(e){return"Y"===e.modmas.mustFlg&&"Y"===e.modmas.globalFlg}))||d.mods.some((function(t){var r;return t.menuId===e.menuId&&"Y"===(null==(r=d.modBundles.find((function(e){return e.modmas.modId===t.modId})))?void 0:r.modmas.mustFlg)})))l.navigate("Menu",{home:o,serviceEntry:s,masters:d,selectedTable:u,selectedMenu:e});else if(t){var h=s+"api/tables/"+u.recKey+"/insert-item",y={userId:o.userId,opentableRecKey:u.recKey,restmenuRecKey:e.recKey,restmenuMod:"N"===e.serviceFlg||"SYS"===u.sectionId&&"A"===f?"*"+S.a.get("takeaway")+"  ":"",orderQty:"1",orderType:"N"===e.serviceFlg||"SYS"===u.sectionId?"B":"A"};fetch(h,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(y)}).then((function(e){return e.json()})).then((function(t){var r;"Y"===(null==(r=c.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(s,"Insert Item",o.userName,t.message,u.tableId,e.menuName,"1"),console.log("post insert-item successful",t),t.message?n.setState({overlayProcedureMessageVisible:t.message.toUpperCase(),loading:!1}):n.handlePressTable(u)}))}else l.navigate("Menu",{home:o,serviceEntry:s,masters:d,selectedTable:u,selectedMenu:e});else l.navigate("Combo",{home:o,serviceEntry:s,preference:i,masters:d,selectedTable:u,selectedMenu:e});else this.doCreateTableForPos(e);else"O"===e.menuType?l.navigate("Combo",{home:o,serviceEntry:s,preference:i,masters:d,selectedTable:u,selectedMenu:e}):l.navigate("Menu",{home:o,serviceEntry:s,masters:d,selectedTable:u,selectedMenu:e})}},{key:"handlePressScan",value:function(e){var t=this.props.navigation,r=this.state,n=r.home,l=r.serviceEntry,a=r.masters,o=r.selectedTable;o&&(e?"web"!==j.default.OS&&t.navigate("Scan",{home:n,serviceEntry:l,masters:a,selectedTable:o}):this.setState({overlayScanBarcodeVisible:!0}))}},{key:"doClearTable",value:function(){this.setState({selectedTable:null,tableItems:[]}),this.doToggleScreen("TABLE")}},{key:"doCreateTable",value:function(e){var t=this,r=this.props.navigation,n=this.state,l=n.serviceEntry,a=n.home,o=n.settings,i=l+"api/insert-opentable",s={userId:a.userId,orderType:"B"};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(n){var i,s;"Y"===(null==(i=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(l,"Create Table",a.userName,n.message,null==(s=n.opentable)?void 0:s.tableId),n.message?t.setState({overlayProcedureMessageVisible:n.message.toUpperCase()}):(r.navigate("MainMenu"),t.setState({screen:"MENU",selectedTable:n.opentable,tableItems:n.opentableItems,refresh:oe()().format("HH:mm:ss")},(function(){e&&t.handlePressMenu(e,!0)})))}))}},{key:"doCreateTableForPos",value:function(e){var t=this,r=this.props.navigation,n=this.state,l=n.serviceEntry,a=n.home,o=n.preference,i=n.masters,s=(n.selectedTable,n.settings),c=l+"api/insert-opentable",d={userId:a.userId,orderType:"B"};fetch(c,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(n){var c,d;"Y"===(null==(c=s.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:c.setString)&&te(l,"Create Table",a.userName,n.message,null==(d=n.opentable)?void 0:d.tableId),n.message?t.setState({overlayProcedureMessageVisible:n.message.toUpperCase()}):(r.navigate("MainMenu"),t.setState({selectedTable:n.opentable,tableItems:n.opentableItems,refresh:oe()().format("HH:mm:ss")},(function(){"O"===e.menuType?r.navigate("Combo",{home:a,serviceEntry:l,preference:o,masters:i,selectedTable:n.opentable,selectedMenu:e}):r.navigate("Menu",{home:a,serviceEntry:l,masters:i,selectedTable:n.opentable,selectedMenu:e})})))}))}},{key:"doTranslateTableColor",value:function(e){return e?e.adhocItem?re.adhoc:"SYS"===e.sectionId?"D"===e.statusFlg?re.paid:"A"===e.transType?re.grey5:re.deposit:"A"===e.statusFlg?re.vacant:"B"===e.statusFlg?re.reserved:"C"===e.statusFlg?re.occupied:"D"===e.statusFlg?re.paid:"E"===e.statusFlg?re.unavailable:void 0:re.grey9}},{key:"doTranslateTableStatus",value:function(e){return"SYS"!==e.sectionId?S.a.get(""+e.statusFlg).d("Unknown"):"A"===e.transType?S.a.get("sales"):"G"===e.transType?"Y"===e.homeDelivery?S.a.get("deposit")+"DLY":S.a.get("deposit"):void 0}},{key:"doTranslateTableItemColor",value:function(e){return"Y"===e.fireFlg?re.reserved:"Y"===e.confirmFlg?re.occupied:re.vacant}},{key:"doToggleScreen",value:function(e){var t,r=this.props.navigation,n=this.state.settings;"MENU"===e&&"A"===(null==(t=n.find((function(e){return"POSMODE"===e.setId})))?void 0:t.setString)?(this.setState({screen:"TABLE",refresh:oe()().format("HH:mm:ss")}),r.navigate("MainTable")):(this.setState({screen:"MENU"}),r.navigate("MainMenu"))}},{key:"doPressItem",value:function(e){this.setState({selectedTableItem:e,overlayReviseItemVisible:!0})}},{key:"doStartDayclose",value:function(e){var t=this,r=this.props.navigation,n=this.state,l=n.serviceEntry,a=n.home,o=n.masters,i=n.settings;if("Y"===a.adminFlg||o.privileges.some((function(e){return"DAYCLOSE"===e.priId}))||e){var s=l+"api/start-dayclose",c={userId:a.userId,orgId:a.orgId,shopId:a.shopId};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var n;console.log("post start-dayclose successful",e),"Y"===(null==(n=i.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:n.setString)&&te(l,"Start Dayclose",a.userName,e.message),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):r.navigate("Dayclose",{home:a,serviceEntry:l,masters:o,dayclosePayments:e.posDayCloseAmt,daycloseSubPayments:e.posDayCloseAmtDtl})}))}else this.setState({overlayRequestAccessVisible:!0,requestedPrivilege:"DAYCLOSE"})}},{key:"doPressTransType",value:function(){var e=this.state.selectedTable,t=[];t.push({text:S.a.get("sales"),handleText:"doTransTypeSales"}),t.push({text:S.a.get("deposit"),handleText:"doTransTypeDeposit"}),this.setState({overlayAlertInputValue:{title:S.a.get("action"),subtitle:"Transaction Type",text:"Select transaction type for "+e.tableId,ok:!1,cancel:!0,options:t},overlayAlertVisible:!0})}},{key:"doStartPayment",value:function(e,t){var r=this,n=this.props.navigation,l=this.state,a=l.serviceEntry,o=l.serviceEntryObj,i=l.home,s=l.masters,c=l.settings,d=l.selectedTable,u=l.tableItems;if(d)if("SYS"===d.sectionId||"C"===d.statusFlg)if(u&&0!==u.length)if(d.refTableId)this.setState({overlayProcedureMessageVisible:"TABLE ALREADY MERGED "+d.refTableId});else if("Y"===i.adminFlg||s.privileges.some((function(e){return"PAYMENT"===e.priId}))||t){var f=a+"api/tables/"+d.recKey+"/start-payment",h={userId:i.userId,opentableRecKey:d.recKey,iomodelId:i.defaultPrinter&&i.defaultPrinter.iomodelId||e&&e.iomodelId};fetch(f,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(h)}).then((function(e){return e.json()})).then((function(e){var t;console.log("post start-payment successful",e),"Y"===(null==(t=c.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:t.setString)&&te(a,"Start Payment",i.userName,e.message,d.tableId),e.message?r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):r.setState({selectedTable:e.opentable,pospays:e.opentablePospays},(function(){return n.navigate("Pos",{home:i,serviceEntry:a,serviceEntryObj:o,masters:s,selectedTable:e.opentable,pospays:e.opentablePospays})}))}))}else this.setState({requestedPrivilege:"PAYMENT",overlayRequestAccessVisible:!0});else this.setState({overlayProcedureMessageVisible:"NO TABLE ITEMS"});else this.setState({overlayProcedureMessageVisible:"CHECK TABLE STATUS"});else this.setState({overlayProcedureMessageVisible:"SELECT AN ORDER"})}},{key:"doChangeTableStatus",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.selectedTable,o=(r.masters,r.settings),i=l+"api/tables/"+a.recKey+"/change-table-status",s={userId:n.userId,locId:n.locId,tableStatus:e,pax:"",vipId:"",vipName:"",phone:"",reservationTime:"",sourceId:""};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(r){var i;console.log("post change-table-status successful",r),"Y"===(null==(i=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(l,"Change Table Status",n.userName,r.message,a.tableId,"",e),r.message?t.setState({overlayProcedureMessageVisible:r.message.toUpperCase()}):(t.setState({refresh:oe()().format("HH:mm:ss")}),t.handlePressTable(a))}))}},{key:"doRevertTableItem",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=(t.masters,t.settings),a=t.selectedTableItem,o=t.selectedTable;this.setState({overlayReviseItemVisible:!1});var i=r+"api/tables/"+o.recKey+"/revert-adhoc",s={userId:n.userId,opentableRecKey:o.recKey,opentableItemRecKey:a.recKey};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){var i;console.log("post revert-adhoc successful",t),"Y"===(null==(i=l.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(r,"Revert Adhoc",n.userName,t.message,o.tableId,a.menuName),t.message?e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):(e.setState({selectedTableItem:"",refresh:oe()().format("HH:mm:ss")}),e.handlePressTable(o))}))}},{key:"doDuplicateTableItem",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=(t.masters,t.settings),a=t.selectedTableItem,o=t.selectedTable;this.setState({overlayReviseItemVisible:!1});var i=r+"api/tables/"+o.recKey+"/duplicate-item",s={userId:n.userId,opentableRecKey:o.recKey,opentableItemRecKey:a.recKey};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){var i;console.log("post duplicate-item successful",t),"Y"===(null==(i=l.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(r,"Duplicate Item",n.userName,t.message,o.tableId,a.menuName),t.message?e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):(e.setState({selectedTableItem:""}),e.handlePressTable(o))}))}},{key:"doUpdateLineBreak",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=(t.masters,t.settings),a=t.selectedTable,o=t.selectedTableItem;this.setState({overlayReviseItemVisible:!1});var i="Y";"Y"===o.lineBreak&&(i="N");var s=r+"api/tables/"+a.recKey+"/update-line-break",c={userId:n.userId,opentableRecKey:a.recKey,opentableItemRecKey:o.recKey,lineBreak:i};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){var i;console.log("post update-line-break successful",t),"Y"===(null==(i=l.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(r,"Line Break",n.userName,t.message,a.tableId,o.menuName),t.message?e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):e.handlePressTable(t.opentable)}))}},{key:"doPrintBill",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.masters,o=r.settings,i=r.selectedTable;if(i&&("C"===(null==i?void 0:i.statusFlg)||"SYS"===(null==i?void 0:i.sectionId)))if(a.cashierPrinters.length>1&&!e&&!n.defaultPrinter)this.setState({printPurpose:"PRINT BILL",overlayChoosePrinterVisible:!0});else{var s=l+"api/tables/"+i.recKey+"/print-bill",c={userId:n.userId,orgId:n.orgId,locId:n.locId,opentableRecKey:i.recKey,iomodelId:n.defaultPrinter&&n.defaultPrinter.iomodelId||e&&e.iomodelId};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post print-bill successful",e),"Y"===(null==(r=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(l,"Print Bill",n.userName,e.message,i.tableId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):t.handlePressTable(i)}))}}},{key:"doOpenDrawer",value:function(e,t){var r=this,n=this.state,l=n.home,a=n.serviceEntry,o=n.masters,i=n.settings;if(o.cashierPrinters.length>1&&!e&&!l.defaultPrinter)this.setState({overlayChoosePrinterVisible:!0,printPurpose:"OPEN DRAWER"});else if("Y"===l.adminFlg||o.privileges.some((function(e){return"OPENDRAWER"===e.priId}))||t){var s=a+"api/open-cashdrawer",c={userId:l.userId,orgId:l.orgId,locId:l.locId,shopId:l.shopId,iomodelId:l.defaultPrinter&&l.defaultPrinter.iomodelId||e&&e.iomodelId};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var t;console.log("post open-cashdrawer successful",e),"Y"===(null==(t=i.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:t.setString)&&te(a,"Open Cashdrawer",l.userName,e.message),e.message&&r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()})}))}else this.setState({overlayRequestAccessVisible:!0,requestedPrivilege:"OPENDRAWER"})}},{key:"doTransTypeSales",value:function(){var e=this.state.selectedTable;this.handleUpdateFromDeposit("A",e.vipName,e.vipPhone,e.homeDelivery,e.dlyDate?oe()(e.dlyDate).format("YYYY-MM-DD"):"",e.dpostalcode,e.daddress1,e.daddress2)}},{key:"doTransTypeDeposit",value:function(){this.setState({overlayDepositVisible:!0})}},{key:"doPressSend",value:function(){var e=this.state,t=(e.serviceEntry,e.home,e.masters,e.selectedTable);if(t&&"Y"===t.sendFlg){var r=[];r.push({text:"Yes",handleText:"doSendOrder"}),this.setState({overlayAlertInputValue:{title:S.a.get("action"),subtitle:"Send Order",text:"Send order for Table "+t.tableId+" ?",ok:!1,cancel:!0,options:r},overlayAlertVisible:!0})}else console.log("no selectedTable or sendFlg is N")}},{key:"doSendOrder",value:function(e){var t,r=this,n=this.state,l=n.serviceEntry,a=n.home,o=n.selectedTable,i=n.masters,s=n.settings,c=!1;"SYS"!==o.sectionId&&(c="Y"===(null==(t=i.sections.find((function(e){return e.sectionId===o.sectionId})))?void 0:t.printOrderFlg));if(i.cashierPrinters.length>1&&!e&&!a.defaultPrinter&&c)this.setState({printPurpose:"SEND ORDER",overlayChoosePrinterVisible:!0});else{var d=l+"api/tables/"+o.recKey+"/send-order",u={userId:a.userId,orgId:a.orgId,locId:a.locId,opentableRecKey:o.recKey,iomodelId:c&&(a.defaultPrinter&&a.defaultPrinter.iomodelId||e&&e.iomodelId)};fetch(d,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(e){var t;console.log("post send-order successful",e),"Y"===(null==(t=s.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:t.setString)&&te(l,"Send Order",a.userName,e.message,o.tableId),e.message?r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):r.setState({selectedTable:e.opentable,tableItems:e.opentableItems})}))}}},{key:"doEditTableItem",value:function(e){var t=this.props.navigation,r=this.state,n=r.home,l=r.serviceEntry,a=r.masters,o=r.preference,i=r.tableItems,s=r.selectedTable,c=r.selectedTableItem;this.setState({overlayReviseItemVisible:!1}),"Y"!==c.confirmFlg||"Y"===n.adminFlg||a.privileges.some((function(e){return"EDITITEM"===e.priId}))||e?"O"===(null==c?void 0:c.menuType)?t.navigate("Combo",{home:n,serviceEntry:l,masters:a,preference:o,selectedTable:s,selectedMenu:a.menus.find((function(e){return e.menuId===c.menuId})),selectedTableItem:c,tableItems:i}):t.navigate("Menu",{home:n,serviceEntry:l,masters:a,selectedTable:s,selectedMenu:a.menus.find((function(e){return e.menuId===c.menuId})),selectedTableItem:c}):this.setState({overlayRequestAccessVisible:!0,requestedPrivilege:"EDITITEM"})}},{key:"doDeleteTableItem",value:function(e){var t=this,r=this.state,n=r.serviceEntry,l=r.home,a=r.selectedTableItem,o=r.selectedTable,i=r.masters,s=r.settings;r.privileges;if("Y"!==a.confirmFlg||"Y"===l.adminFlg||i.privileges.some((function(e){return"VOIDITEM"===e.priId}))||e){var c=n+"api/tables/"+o.recKey+"/delete-item",d={userId:l.userId,orgId:l.orgId,locId:l.locId,opentableRecKey:o.recKey,opentableItemRecKey:a.recKey,superUserId:e};fetch(c,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post delete-item successful",e),"Y"===(null==(r=s.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(n,"Delete Item",l.userName,e.message,o.tableId,a.menuName),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):t.handlePressTable(e.opentable)}))}else this.setState({overlayRequestAccessVisible:!0,requestedPrivilege:"VOIDITEM"})}},{key:"handleUpdateFromChoosePrinter",value:function(e,t){var r=this.state,n=(r.selectedTable,r.home);if(e){if(this.setState({printPurpose:"",selectedPrinter:e,overlayChoosePrinterVisible:!1}),"SEND ORDER"===t)this.doSendOrder(e);else if("PRINT BILL"===t)this.doPrintBill(e);else if("START PAYMENT"===t)this.doStartPayment(e);else if("OPEN DRAWER"===t)this.doOpenDrawer(e);else if("DEFAULT PRINTER"===t){var l=n;l.defaultPrinter=e,this.setState({home:l})}}else this.setState({printPurpose:"",selectedPrinter:"",overlayChoosePrinterVisible:!1})}},{key:"handleUpdateFromRequestAccess",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=(r.masters,r.settings),o=r.requestedPrivilege,i=r.selectedPrinter,s=r.selectedTable,c=r.selectedTableItem;if(e){var d=l+"api/super-user",u={locId:n.locId,accessCode:e,priId:o};fetch(d,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post super-user successful",e),"Y"===(null==(r=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(l,"Request Access "+o,n.userName,e.message,null==s?void 0:s.tableId,null==c?void 0:c.menuName,e.userId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(t.setState({overlayRequestAccessVisible:!1}),"OPENDRAWER"===o?t.doOpenDrawer(i,e.userId):"PAYMENT"===o?t.doStartPayment(i,e.userId):"DAYCLOSE"===o?t.doStartDayclose(e.userId):"VOIDITEM"===o?t.doDeleteTableItem(e.userId):"EDITITEM"===o&&t.doEditTableItem(e.userId))}))}else this.setState({overlayRequestAccessVisible:!1})}},{key:"handleUpdateFromAdditionalFunctions",value:function(e){var t=this.props.navigation,r=this.state,n=r.serviceEntry,l=r.home,a=r.masters,o=r.selectedTable;r.tableItems;this.setState({overlayAdditionalFunctionsVisible:!1}),e&&("viewReprint"===e?t.navigate("Reprint",{home:l,serviceEntry:n,masters:a}):"viewVoid"===e?t.navigate("Void",{home:l,serviceEntry:n,masters:a,handleUpdateFromVoid:this.handleUpdateFromVoid}):"viewCollect"===e?t.navigate("Collect",{home:l,serviceEntry:n,masters:a}):"viewDayclose"===e?this.doStartDayclose():"viewReports"===e?t.navigate("Report",{home:l,serviceEntry:n,masters:a}):"openDrawer"===e?this.doOpenDrawer():"viewPrinters"===e?t.navigate("Printer",{home:l,serviceEntry:n}):"viewActivate"===e?t.navigate("Activate",{home:l,serviceEntry:n,masters:a}):"logOut"===e?t.goBack():"syncMasters"===e?t.navigate("Login",{sync:new Date}):"viewTrace"===e?t.navigate("Trace",{home:l,serviceEntry:n,selectedTable:o}):"viewLimit"===e&&t.navigate("Limit",{home:l,serviceEntry:n,masters:a}))}},{key:"handleUpdateFromTableActions",value:function(){var e=l()((function*(e){var t=this.props.navigation,r=this.state,n=r.serviceEntry,l=r.home,a=r.masters,o=r.selectedTable,i=r.tableItems;this.setState({overlayTableActionsVisible:!1}),e&&("viewResequence"===e?t.navigate("Resequence",{home:l,serviceEntry:n,masters:a,tableItems:i,selectedTable:o}):"viewTransfer"===e?t.navigate("Transfer",{home:l,serviceEntry:n,masters:a,tableItems:i,selectedTable:o}):"headerDiscount"===e?this.setState({overlayHeaderDiscountVisible:!0}):"printBill"===e?this.doPrintBill():"openTable"===e?(yield this.handlePressTable(o),t.navigate("Table",{home:l,serviceEntry:n,masters:a,selectedTable:o,mode:"NEW",handleUpdateFromTable:this.handleUpdateFromTable})):"editTable"===e?t.navigate("Table",{home:l,serviceEntry:n,masters:a,selectedTable:o,mode:"EDIT"}):"resetTable"===e?this.doChangeTableStatus("A"):"reserveTable"===e?this.doChangeTableStatus("B"):"disableTable"===e?this.doChangeTableStatus("E"):"mergeTable"===e?this.setState({overlayMergeTableVisible:!0}):"splitTable"===e?this.setState({overlaySplitTableVisible:!0}):"changeTable"===e&&this.setState({overlayChangeTableVisible:!0}))}));return function(t){return e.apply(this,arguments)}}()},{key:"handleUpdateFromReviseItem",value:function(e){this.props.navigation;var t=this.state,r=(t.serviceEntry,t.home,t.settings,t.masters,t.selectedTable,t.selectedTableItem);if(e)if("voidItem"===e){var n=[];n.push({text:"Yes",handleText:"doDeleteTableItem"}),this.setState({overlayReviseItemVisible:!1,overlayAlertInputValue:{title:S.a.get("action"),subtitle:"Remove Item",text:"Remove "+r.menuName+" ?",ok:!1,cancel:!0,options:n},overlayAlertVisible:!0})}else"editItem"===e?this.doEditTableItem():"revertItem"===e?this.doRevertTableItem():"changePrice"===e?this.setState({overlayChangePriceVisible:!0,overlayReviseItemVisible:!1}):"lineDiscount"===e?this.setState({overlayLineDiscountVisible:!0,overlayReviseItemVisible:!1}):"lineBreak"===e?this.doUpdateLineBreak():"duplicateItem"===e&&this.doDuplicateTableItem();else this.setState({overlayReviseItemVisible:!1})}},{key:"handleUpdateFromLineDiscount",value:function(e,t){var r=this;if(this.setState({overlayLineDiscountVisible:!1}),e){var n=this.state,l=n.serviceEntry,a=n.home,o=(n.masters,n.settings),i=n.selectedTable,s=n.selectedTableItem,c=l+"api/tables/"+i.recKey+"/line-discount",d={userId:a.userId,discId:e.discId,disc:e.discNum,opentableRecKey:i.recKey,opentableItemRecKey:s.recKey,superUserId:t,remarks:e.remarks};fetch(c,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(t){var n;console.log("post line-discount successful",t),"Y"===(null==(n=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:n.setString)&&te(l,"Line Discount",a.userName,t.message,i.tableId,s.menuName,e.discId),t.message?r.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):r.handlePressTable(i)}))}}},{key:"handleUpdateFromHeaderDiscount",value:function(e,t){var r=this;if(this.setState({overlayHeaderDiscountVisible:!1}),e){var n=this.state,l=n.serviceEntry,a=n.home,o=(n.masters,n.settings),i=n.selectedTable,s=l+"api/tables/"+i.recKey+"/header-discount",c={userId:a.userId,discId:e.discId,disc:e.discNum,opentableRecKey:i.recKey,superUserId:t,remarks:e.remarks};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){var n;console.log("post header-discount successful",t),"Y"===(null==(n=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:n.setString)&&te(l,"Header Discount",a.userName,t.message,i.tableId,"",e.discId),t.message?r.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):r.handlePressTable(i)}))}}},{key:"handleUpdateFromChangePrice",value:function(e,t,r){var n=this;if(this.setState({overlayChangePriceVisible:!1}),e||t){var l=this.state,a=l.serviceEntry,o=l.home,i=(l.masters,l.settings),s=l.selectedTable,c=l.selectedTableItem,d=a+"api/tables/"+s.recKey+"/change-price",u={userId:o.userId,price:e,discId:t.discId,opentableRecKey:s.recKey,opentableItemRecKey:c.recKey,superUserId:r};fetch(d,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(t){var r;console.log("post change-price successful",t),"Y"===(null==(r=i.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(a,"Change Price",o.userName,t.message,s.tableId,c.menuName,e),t.message?n.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):n.handlePressTable(s)}))}}},{key:"handleUpdateFromMergeTable",value:function(e){var t=this;if(this.setState({overlayMergeTableVisible:!1}),0!==e.length){var r=this.state,n=r.serviceEntry,l=r.home,a=(r.masters,r.settings),o=r.selectedTable,i=n+"api/tables/"+o.recKey+"/merge-table",s=e.map((function(e){return{mergedTableId:e.tableId}})),c={userId:l.userId,locId:l.locId,opentableRecKey:o.recKey,itemPayloads:s};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(r){var i;console.log("post merge-table successful",r),"Y"===(null==(i=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(n,"Merge Table",l.userName,r.message,o.tableId,"",e.map((function(e){return e.tableId})).join(",")),r.message?t.setState({overlayProcedureMessageVisible:r.message.toUpperCase()}):(t.setState({refresh:oe()().format("HH:mm:ss")}),t.handlePressTable(o))}))}}},{key:"handleUpdateFromSplitTable",value:function(e){var t=this;if(this.setState({overlaySplitTableVisible:!1}),e){var r=this.state,n=r.serviceEntry,l=r.home,a=(r.masters,r.settings),o=r.selectedTable,i=n+"api/tables/"+o.recKey+"/split-table",s=e.map((function(e){return{opentableItemRecKey:e.recKey,opentableRecKey:o.recKey}})),c={userId:l.userId,itemPayloads:s};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var r,i;console.log("post split-table successful",e),"Y"===(null==(r=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(n,"Split Table",l.userName,e.message,o.tableId,"",null==(i=e.opentable)?void 0:i.tableId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(t.setState({refresh:oe()().format("HH:mm:ss")}),t.handlePressTable(e.opentable||o))}))}}},{key:"handleUpdateFromChangeTable",value:function(e){var t=this;if(this.setState({overlayChangeTableVisible:!1}),e){var r=this.state,n=r.serviceEntry,l=r.home,a=(r.masters,r.settings),o=r.selectedTable,i=n+"api/tables/"+o.recKey+"/change-table",s={userId:l.userId,tableIdTo:e.tableId};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(r){var i;console.log("post change-table successful",r),"Y"===(null==(i=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(n,"Change Table",l.userName,r.message,o.tableId,"",e.tableId),r.message?t.setState({overlayProcedureMessageVisible:r.message.toUpperCase()}):(t.setState({refresh:oe()().format("HH:mm:ss")}),t.handlePressTable(e))}))}}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){var t=this.state;t.selectedTable,t.selectedTableItem;this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""}),e&&("doSendOrder"===e?this.doSendOrder():"doDeleteTableItem"===e?this.doDeleteTableItem():"doTransTypeSales"===e?this.doTransTypeSales():"doTransTypeDeposit"===e&&this.doTransTypeDeposit())}},{key:"handleUpdateFromAutoLogout",value:function(e){}},{key:"handleUpdateFromDeposit",value:function(e,t,r,n,l,a,o,i){var s=this;if(this.setState({overlayDepositVisible:!1}),e){var c=this.state,d=c.home,u=c.serviceEntry,f=(c.masters,c.settings),h=c.selectedTable,y=u+"api/tables/"+h.recKey+"/update-table-info",b={userId:d.userId,locId:d.locId,transType:e,vipName:t,phone:r,deliveryFlg:n,dlyDate:l,postalCode:a,addr1:o,addr2:i,addr3:"",addr4:""};fetch(y,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(b)}).then((function(e){return e.json()})).then((function(t){var r;console.log("post deposit successful",t),"Y"===(null==(r=f.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(u,"Update Transaction Type",d.userName,t.message,h.tableId,"",e+","+n),t.message?s.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):s.handlePressTable(h)}))}}},{key:"handleUpdateFromScanBarcode",value:function(e){var t=this;if(e){var r=this.state,n=r.serviceEntry,l=r.home,a=r.settings,o=r.selectedTable,i=n+"api/tables/"+o.recKey+"/scan-barcode",s={userId:l.userId,orgId:l.orgId,locId:l.locId,shopId:l.shopId,vipId:l.vipId,barcode:e,opentableRecKey:o.recKey};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(r){var i;console.log("post scan-barcode successful",r),"Y"===(null==(i=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(n,"Scan Barcode",l.userName,r.message,o.tableId,"",e),r.message?t.setState({overlayProcedureMessageVisible:r.message.toUpperCase()}):t.handlePressTable(o)}))}else this.setState({overlayScanBarcodeVisible:!1})}},{key:"handleUpdateFromVoid",value:function(e){this.setState({selectedTable:e.opentable,tableItems:e.opentableItems})}},{key:"handleUpdateFromTable",value:function(){this.doToggleScreen("TABLE")}},{key:"render",value:function(){var e,t,r,n=this,l=this.props,a=(l.route,l.navigation),o=this.state,i=o.serviceEntryObj,s=o.serviceEntry,c=o.home,d=o.preference,u=o.masters,f=o.screen,h=o.refresh,y=o.selectedTable,b=o.selectedTableItem,g=o.tableItems,m=o.printPurpose,j=o.requestedPrivilege,x=o.overlayAutoLogoutVisible,v=o.overlayAlertVisible,T=o.overlayAlertInputValue,O=o.overlayReviseItemVisible,I=o.overlayTableActionsVisible,C=o.overlayAdditionalFunctionsVisible,F=o.overlayRequestAccessVisible,P=o.overlayHeaderDiscountVisible,R=o.overlayLineDiscountVisible,w=o.overlayChangePriceVisible,k=o.overlayChangeTableVisible,A=o.overlayMergeTableVisible,E=o.overlaySplitTableVisible,B=o.overlayDepositVisible,M=o.overlayScanBarcodeVisible,z=o.overlayProcedureMessageVisible,N=o.overlayChoosePrinterVisible,K=null==(e=u.settings.find((function(e){return"POSMODE"===e.setId})))?void 0:e.setString;return Object(J.jsxs)(p.default,{style:{flex:1,flexDirection:"row"},children:[x&&Object(J.jsx)(Ue,{handleUpdateFromAutoLogout:this.handleUpdateFromAutoLogout}),B&&Object(J.jsx)(ze,{serviceEntry:s,selectedTable:y,handleUpdateFromDeposit:this.handleUpdateFromDeposit}),v&&Object(J.jsx)(Ct,{input:T,handleUpdateFromAlert:this.handleUpdateFromAlert}),z&&Object(J.jsx)(se,{text:z,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),M&&Object(J.jsx)(Le,{handleUpdateFromScanBarcode:this.handleUpdateFromScanBarcode}),O&&Object(J.jsx)(yt,{home:c,privileges:u.privileges,selectedTable:y,selectedTableItem:b,tableItems:g,handleUpdateFromReviseItem:this.handleUpdateFromReviseItem}),I&&Object(J.jsx)(mt,{selectedTable:y,tableItems:g,handleUpdateFromTableActions:this.handleUpdateFromTableActions}),C&&Object(J.jsx)(xt,{selectedTable:y,tableItems:g,handleUpdateFromAdditionalFunctions:this.handleUpdateFromAdditionalFunctions}),F&&Object(J.jsx)(Ye,{home:c,requestedPrivilege:j,handleUpdateFromRequestAccess:this.handleUpdateFromRequestAccess}),N&&Object(J.jsx)(Ot,{printPurpose:m,cashierPrinters:u.cashierPrinters,handleUpdateFromChoosePrinter:this.handleUpdateFromChoosePrinter}),w&&Object(J.jsx)(Qe,{home:c,serviceEntry:s,settings:u.settings,privileges:u.privileges,discounts:u.discounts,selectedTableItem:b,handleUpdateFromChangePrice:this.handleUpdateFromChangePrice}),R&&Object(J.jsx)(Xe,{home:c,serviceEntry:s,settings:u.settings,privileges:u.privileges,discounts:u.discounts,handleUpdateFromLineDiscount:this.handleUpdateFromLineDiscount}),P&&Object(J.jsx)(et,{home:c,serviceEntry:s,settings:u.settings,privileges:u.privileges,discounts:u.discounts,handleUpdateFromHeaderDiscount:this.handleUpdateFromHeaderDiscount}),A&&Object(J.jsx)(at,{serviceEntry:s,home:c,selectedTable:y,handleUpdateFromMergeTable:this.handleUpdateFromMergeTable}),E&&Object(J.jsx)(st,{selectedTable:y,tableItems:g,handleUpdateFromSplitTable:this.handleUpdateFromSplitTable}),k&&Object(J.jsx)(ut,{serviceEntry:s,home:c,selectedTable:y,handleUpdateFromChangeTable:this.handleUpdateFromChangeTable}),Object(J.jsx)(p.default,{style:{width:10,backgroundColor:re.grey8},children:Object(J.jsx)(p.default,{style:{marginTop:30,height:100,backgroundColor:this.doTranslateTableColor(y)}})}),Object(J.jsxs)(p.default,{style:{flex:1,backgroundColor:"white"},children:[Object(J.jsxs)(p.default,{style:{marginHorizontal:10,height:20,flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"},children:[Object(J.jsx)(Z.default,{style:kt.footerText,children:c.userName}),Object(J.jsx)(Z.default,{style:kt.footerText,children:c.locName})]}),Object(J.jsxs)(p.default,{style:{margin:7,marginLeft:0,flexDirection:"row",justifyContent:"space-between"},children:[Object(J.jsx)(p.default,{style:{margin:3,flex:1,flexDirection:"row"},children:y&&Object(J.jsxs)(V.default,{style:{marginLeft:0,aspectRatio:1,backgroundColor:this.doTranslateTableColor(y),justifyContent:"center",alignItems:"center"},onPress:function(){return n.setState({overlayTableActionsVisible:!0})},children:[Object(J.jsx)(Z.default,{style:kt.tableUpperBand,numberOfLines:1,children:y.vipName||""}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:re.black8,fontSize:24,letterSpacing:1},numberOfLines:1,children:y.tableId}),Object(J.jsx)(Z.default,{style:kt.tableLowerBand,numberOfLines:1,children:this.doTranslateTableStatus(y)})]})}),y&&"SYS"===y.sectionId?Object(J.jsxs)(p.default,{style:{flexDirection:"row"},children:[y.adhocItem>0&&Object(J.jsxs)(V.default,{style:{margin:3,height:100,width:50,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},onPress:function(){return a.navigate("Adhoc",{home:c,serviceEntry:s,masters:u,selectedTable:y})},children:[Object(J.jsx)(U.default,{name:"extension",size:28,color:re.adhoc,style:{height:28,width:28}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("adhoc")}),Object(J.jsx)(Z.default,{style:{position:"absolute",fontFamily:"varela-round",top:10,right:10},children:y.adhocItem})]}),"A"===K&&Object(J.jsxs)(V.default,{style:{margin:3,height:100,width:50,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},disabled:"Y"!==y.sendFlg,onPress:function(){return n.doPressSend()},children:[Object(J.jsx)(xe.default,{name:"send",size:24,color:"Y"!==y.sendFlg?re.grey5:re.occupied,style:{height:28}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("send")})]}),"A"===K&&Object(J.jsxs)(V.default,{style:{margin:3,height:100,width:50,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},onPress:function(){return a.navigate("Fire",{home:c,serviceEntry:s,masters:u,selectedTable:y,tableItems:g})},children:[Object(J.jsx)(ve.default,{name:"fire",size:24,color:re.reserved,style:{height:28}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("fire")})]})]}):y&&"A"===y.statusFlg?Object(J.jsxs)(V.default,{style:{margin:3,height:100,width:50,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},onPress:function(){return a.navigate("Table",{home:c,serviceEntry:s,masters:u,selectedTable:y,mode:"NEW",handleUpdateFromTable:n.handleUpdateFromTable})},children:[Object(J.jsx)(Te.default,{name:"checkbox-blank",size:26,color:re.occupied,style:{height:28,width:26}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("open")})]}):y&&"D"===y.statusFlg?Object(J.jsxs)(V.default,{style:{margin:3,height:100,width:50,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},onPress:function(){return n.handleUpdateFromTableActions("resetTable")},children:[Object(J.jsx)(Te.default,{name:"checkbox-blank",size:26,color:re.vacant,style:{height:28,width:26}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("reset")})]}):y?Object(J.jsxs)(p.default,{style:{flexDirection:"row"},children:[y.adhocItem>0&&Object(J.jsxs)(V.default,{style:{margin:3,height:100,width:50,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},onPress:function(){return a.navigate("Adhoc",{home:c,serviceEntry:s,masters:u,selectedTable:y})},children:[Object(J.jsx)(U.default,{name:"extension",size:28,color:re.adhoc,style:{height:28,width:28}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("adhoc")}),Object(J.jsx)(Z.default,{style:{position:"absolute",fontFamily:"varela-round",top:10,right:10},children:y.adhocItem})]}),Object(J.jsxs)(V.default,{style:{margin:3,height:100,width:50,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},disabled:"Y"!==y.sendFlg,onPress:function(){return n.doPressSend()},children:[Object(J.jsx)(xe.default,{name:"send",size:24,color:"Y"!==y.sendFlg?re.grey5:re.occupied,style:{height:28}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("send")})]}),Object(J.jsxs)(V.default,{style:{margin:3,height:100,width:50,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},onPress:function(){return a.navigate("Fire",{home:c,serviceEntry:s,masters:u,selectedTable:y,tableItems:g})},children:[Object(J.jsx)(ve.default,{name:"fire",size:24,color:re.reserved,style:{height:28}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("fire")})]})]}):null,Object(J.jsxs)(V.default,{style:{margin:3,height:100,width:50,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},onPress:function(){return n.setState({overlayAdditionalFunctionsVisible:!0})},children:[Object(J.jsx)(Te.default,{name:"clover",size:28,color:re.paid,style:{height:28,width:28}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("func")})]})]}),Object(J.jsxs)(p.default,{style:{flexDirection:"row",marginVertical:3,borderLeftWidth:5,borderLeftColor:"white"},children:[Object(J.jsx)(p.default,{style:{width:50,height:20,alignItems:"center",justifyContent:"center",borderRightColor:re.paid},children:Object(J.jsx)(Z.default,{style:[kt.footerText,{fontSize:12}],children:S.a.get("qty")})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:[kt.footerText,{fontSize:12}],children:S.a.get("desc")})}),Object(J.jsx)(p.default,{style:{paddingRight:10,alignItems:"flex-end",justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:[kt.footerText,{fontSize:12}],children:S.a.get("total")})})]}),Object(J.jsx)(je.default,{style:{flex:1},ref:function(e){return n.scrollViewRef=e},onContentSizeChange:function(){return n.scrollViewRef.scrollToEnd()},showsVerticalScrollIndicator:!1,children:g.filter((function(e){return!e.refRecKey})).map((function(e){var t;return Object(J.jsxs)(p.default,{children:["Y"===e.lineBreak&&Object(J.jsxs)(p.default,{style:{alignItems:"center",flexDirection:"row",height:20},children:[Object(J.jsx)(p.default,{style:{flex:1,height:1,width:20,backgroundColor:re.grey5,marginHorizontal:20}}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:re.grey5,fontSize:12},children:"LINE BREAK"}),Object(J.jsx)(p.default,{style:{flex:1,height:1,width:20,backgroundColor:re.grey5,marginHorizontal:20}})]}),Object(J.jsxs)(V.default,{style:{flexDirection:"row",marginVertical:3,borderLeftWidth:5,borderLeftColor:n.doTranslateTableItemColor(e)},onPress:function(){return n.doPressItem(e)},children:[Object(J.jsx)(p.default,{style:{paddingVertical:10,width:50,alignItems:"center",borderRightColor:re.paid},children:Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",fontSize:16},children:e.orderQty})}),Object(J.jsxs)(p.default,{style:{paddingVertical:10,flex:1},children:[Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",fontSize:16},children:e.menuName}),e.menuMod&&Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",fontSize:16,color:re.paid},children:e.menuMod}),g.filter((function(t){return t.refRecKey===e.recKey})).map((function(e){return Object(J.jsxs)(p.default,{style:{marginTop:5},children:[Object(J.jsxs)(Z.default,{style:{fontFamily:"varela-round",fontSize:14,marginLeft:10},children:["- ",e.menuName]}),e.menuMod&&Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",fontSize:14,color:re.paid},children:e.menuMod})]},e.recKey.toString())}))]}),Object(J.jsx)(p.default,{style:{paddingVertical:10,paddingHorizontal:10,alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",fontSize:16},children:null==(t=e.lineTotal)?void 0:t.toFixed(2)})})]})]},e.recKey.toString())}))}),Object(J.jsxs)(p.default,{style:{margin:10,marginBottom:0,flexDirection:"row",justifyContent:"flex-end",alignItems:"baseline"},children:[Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",fontSize:10}}),Object(J.jsxs)(Z.default,{style:{fontFamily:"varela-round",fontSize:28},children:["$",(null==y||null==(t=y.grandTotal)?void 0:t.toFixed(2))||"0.00"]})]}),Object(J.jsxs)(p.default,{style:{margin:7,flexDirection:"row"},children:["A"===K&&Object(J.jsxs)(V.default,{style:{margin:3,height:100,flex:1,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},onPress:function(){return n.doToggleScreen(f)},children:["TABLE"===f?Object(J.jsx)(D.default,{name:"md-book",size:26,color:re.reserved,style:{height:28,width:26}}):Object(J.jsx)(Te.default,{name:"apps-box",size:28,color:re.vacant,style:{height:28,width:28}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:"TABLE"===f?S.a.get("menu"):S.a.get("table")})]}),Object(J.jsxs)(V.default,{style:{margin:3,height:100,width:50,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},onPress:function(){return a.navigate("Trace",{home:c,serviceEntry:s,selectedTable:y})},children:[Object(J.jsx)(Te.default,{name:"navigation",size:28,color:re.adhoc,style:{height:28,width:28,transform:[{rotateZ:"180deg"}]}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("trace")})]}),Object(J.jsxs)(V.default,{style:{margin:3,height:100,width:50,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},onPress:function(){return n.doPrintBill()},children:[Object(J.jsx)(Te.default,{name:"book",size:26,color:re.occupied,style:{height:28,width:26}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("bill")})]}),Object(J.jsxs)(V.default,{style:{margin:3,height:100,flex:1,borderRadius:5,backgroundColor:re.grey9,alignItems:"center",justifyContent:"center"},onPress:function(){return n.doStartPayment()},children:[Object(J.jsx)(D.default,{name:"print-sharp",size:27,color:re.paid,style:{height:28,marginLeft:1}}),Object(J.jsx)(Z.default,{style:kt.buttonText,children:S.a.get("payment")})]})]}),Object(J.jsxs)(p.default,{style:{marginHorizontal:10,height:20,flexDirection:"row",justifyContent:"space-between"},children:[Object(J.jsx)(Z.default,{style:kt.footerText,children:oe()().format("HH:mm")}),Object(J.jsxs)(Z.default,{style:kt.footerText,children:["EPB BISTRO ",null==(r=H.default.manifest.version)?void 0:r.split(".")[0]]})]})]}),Object(J.jsx)(p.default,{style:{flex:2,backgroundColor:re.grey9},children:Object(J.jsxs)(Rt.Navigator,{screenOptions:{headerShown:!1,animation:"none",gestureEnabled:!1,tabBarStyle:{display:"none"}},children:["A"===K&&Object(J.jsx)(Rt.Screen,{name:"MainTable",children:function(){return Object(J.jsx)(Re,{refresh:h,home:c,serviceEntry:s,preference:d,masters:u,handlePressTable:n.handlePressTable,handleActionTable:n.handleActionTable})}}),Object(J.jsx)(Rt.Screen,{name:"MainMenu",children:function(){return Object(J.jsx)(Ee,{home:c,serviceEntry:s,serviceEntryObj:i,preference:d,settings:u.settings,foldergrps:u.foldergrps,folders:u.folders,menus:u.menus,modBundles:u.modBundles,handlePressMenu:n.handlePressMenu,handlePressScan:n.handlePressScan})}})]})})]})}}]),r}(b.Component),kt=m.default.create({footerText:{fontFamily:"varela-round",fontSize:10,textTransform:"uppercase"},tableUpperBand:{position:"absolute",top:10,left:0,fontFamily:"varela-round",width:"100%",paddingVertical:5,justifyContent:"center",alignItems:"center",color:"black",fontSize:12,textAlign:"center",textTransform:"uppercase"},tableLowerBand:{position:"absolute",bottom:0,left:0,fontFamily:"varela-round",width:"100%",paddingVertical:5,backgroundColor:re.black8,justifyContent:"center",alignItems:"center",color:"white",fontSize:12,textAlign:"center",textTransform:"uppercase"},buttonText:{marginTop:10,fontFamily:"varela-round",fontSize:10,color:re.grey5,textTransform:"uppercase"}});function At(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Et=function(e){d()(r,e);var t=At(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={overlayText:""},n.handleSubmit=n.handleSubmit.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"handleSubmit",value:function(e){this.props.handleUpdateFromServiceEntry(e)}},{key:"render",value:function(){var e=this,t=this.state.overlayText;return console.log("in overlayserviceentry"),Object(J.jsx)(p.default,{style:Bt.overlay,children:Object(J.jsxs)(p.default,{style:Bt.overlayContent,children:[Object(J.jsxs)(p.default,{style:Bt.overlayHeader,children:[Object(J.jsx)(Z.default,{style:Bt.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:Bt.overlaySubtitleText,children:"Register"})]}),Object(J.jsx)(p.default,{style:Bt.searchBoxWrapper,children:Object(J.jsxs)(p.default,{style:Bt.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:Bt.overlaySearchBoxInput,ref:function(t){e.scanTextInput=t},autoFocus:!0,placeholder:"EPB ID OR IP:PORT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.setState({overlayText:t})},onSubmitEditing:function(){return e.handleSubmit(t)},value:t}),Object(J.jsx)(V.default,{style:Bt.overlaySearchBoxButton,onPress:function(){e.setState({overlayText:""}),e.scanTextInput.focus()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})}),Object(J.jsx)(V.default,{style:Bt.overlayOption,onPress:function(){return e.handleSubmit(t)},children:Object(J.jsx)(Z.default,{style:Bt.overlayOptionText,children:S.a.get("submit")})}),Object(J.jsx)(V.default,{style:[Bt.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromServiceEntry("")},children:Object(J.jsx)(Z.default,{style:Bt.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),Bt=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center",marginBottom:30},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"}});function Dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Ut=function(e){d()(r,e);var t=Dt(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={savedEntries:[],serviceEntry:"",overlayAlertVisible:!1,overlayAlertInputValue:"",overlayProcedureMessageVisible:!1},n.handleUpdateFromAlert=n.handleUpdateFromAlert.bind(B()(n)),n.handleUpdateFromServiceEntry=n.handleUpdateFromServiceEntry.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=l()((function*(){var e=yield I.default.getItem("serviceEntry"),t=yield I.default.getItem("savedEntries");t=t?JSON.parse(t):[],this.setState({serviceEntry:e,savedEntries:t})}));return function(){return e.apply(this,arguments)}}()},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){var t=this.state.selectedItem;this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""}),e&&("doDeleteEntry"===e?this.doDeleteEntry(t):"doSetEntry"===e&&this.doSetEntry(t))}},{key:"handleUpdateFromServiceEntry",value:function(e){var t=this;if(this.setState({overlayServiceEntryVisible:!1}),e)if(e.includes(":8085")){var r={epbId:"IP:PORT",name:"IP:PORT",bistroServiceUrl:"http://"+e+"/"};this.doSaveEntry(r)}else fetch("http://203.208.248.199:9090/beacon/api/locate?epbId="+e,{headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){console.log("response",e),t.doSaveEntry(e)})).catch((function(e){console.log("error",e),t.setState({overlayProcedureMessageVisible:"INVALID EPB ID"})}))}},{key:"doSaveEntry",value:function(e){var t=this.state.savedEntries;e.bistroServiceUrl?(t.some((function(t){return t.epbId===e.epbId}))&&(t=t.filter((function(t){return t.epbId!==e.epbId}))),t.unshift(e),this.setState({savedEntries:t,serviceEntry:e.bistroServiceUrl}),I.default.setItem("savedEntries",JSON.stringify(t)),I.default.setItem("serviceEntry",e.bistroServiceUrl),I.default.setItem("serviceEntryObj",JSON.stringify(e))):this.setState({overlayProcedureMessageVisible:"MISSING BISTRO SERVICE URL"})}},{key:"doPressAdd",value:function(){this.setState({overlayServiceEntryVisible:!0})}},{key:"doPressEntry",value:function(e){this.setState({overlayAlertInputValue:{title:S.a.get("action"),subtitle:e.name,text:"",ok:!1,cancel:!0,options:[{text:"SET ENTRY",handleText:"doSetEntry"},{text:"DELETE ENTRY",handleText:"doDeleteEntry"}]},overlayAlertVisible:!0,selectedItem:e})}},{key:"doDeleteEntry",value:function(e){var t=this.state.savedEntries;t=t.filter((function(t){return t.epbId!==e.epbId})),console.log(t),this.setState({savedEntries:t}),I.default.setItem("savedEntries",JSON.stringify(t))}},{key:"doSetEntry",value:function(e){this.setState({serviceEntry:e.bistroServiceUrl}),I.default.setItem("serviceEntry",e.bistroServiceUrl),I.default.setItem("serviceEntryObj",JSON.stringify(e))}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.preference,l=r.savedEntries,a=r.serviceEntry,o=r.overlayServiceEntryVisible,i=r.overlayProcedureMessageVisible,s=r.overlayAlertVisible,c=r.overlayAlertInputValue;return console.log("render register",l),Object(J.jsxs)(p.default,{style:Mt.container,children:[s&&Object(J.jsx)(Ct,{input:c,handleUpdateFromAlert:this.handleUpdateFromAlert}),i&&Object(J.jsx)(se,{text:i,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),o&&Object(J.jsx)(Et,{handleUpdateFromServiceEntry:this.handleUpdateFromServiceEntry}),Object(J.jsxs)(p.default,{style:Mt.leftContainer,children:[Object(J.jsx)(p.default,{style:Mt.navigateContainer,children:Object(J.jsxs)(p.default,{style:Mt.navigateWrapper,children:[Object(J.jsxs)(V.default,{style:Mt.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Mt.buttonText,children:S.a.get("back")})]}),Object(J.jsx)(p.default,{style:Mt.selectionContainer})]})}),Object(J.jsx)(p.default,{style:Mt.displayContainer,children:Object(J.jsxs)(p.default,{style:[Mt.displayWrapper,{paddingRight:5}],children:[Object(J.jsx)(p.default,{style:Mt.gap}),Object(J.jsxs)(p.default,{style:Mt.gridContainer,children:[Object(J.jsx)(p.default,{style:Mt.gap}),Object(J.jsx)(je.default,{style:{flex:1},showsVerticalScrollIndicator:!1,children:l.map((function(t,r){return Object(J.jsxs)(V.default,{style:Mt.grid,onPress:function(){return e.doPressEntry(t)},children:[Object(J.jsxs)(p.default,{style:Mt.gridFirst,children:[Object(J.jsx)(Z.default,{style:Mt.gridFirstLeftText,children:t.epbId||"-"}),Object(J.jsx)(Z.default,{style:Mt.gridFirstRightText,children:t.bistroServiceUrl||"-"})]}),Object(J.jsxs)(p.default,{style:Mt.gridSecond,children:[Object(J.jsx)(Z.default,{style:Mt.gridSecondText,children:t.name||"IP:PORT"}),Object(J.jsx)(Z.default,{style:[Mt.gridSecondText,{color:re.reserved}],children:null==n?void 0:n.tcolsize})]}),Object(J.jsx)(p.default,{style:[Mt.gridFirst,{marginBottom:5}],children:Object(J.jsx)(Z.default,{style:Mt.gridFirstLeftText,children:t.restServiceUrl||"-"})}),Object(J.jsxs)(p.default,{style:Mt.gridThird,children:[Object(J.jsx)(Z.default,{style:[Mt.gridThirdRightText,{color:re.paid}]}),t.bistroServiceUrl===a?Object(J.jsx)(Z.default,{style:[Mt.gridThirdRightText,{color:re.reserved}],children:S.a.get("active")}):Object(J.jsx)(Z.default,{style:[Mt.gridThirdRightText,{color:re.paid}],children:S.a.get("inactive")})]})]},r.toString())}))})]}),Object(J.jsx)(p.default,{style:Mt.gap})]})})]}),Object(J.jsxs)(p.default,{style:Mt.rightContainer,children:[Object(J.jsx)(p.default,{style:Mt.displayContainer,children:Object(J.jsxs)(p.default,{style:[Mt.displayWrapper,{paddingLeft:5}],children:[Object(J.jsx)(p.default,{style:Mt.gap}),Object(J.jsxs)(p.default,{style:Mt.gridContainer,children:[Object(J.jsx)(p.default,{style:Mt.gap}),Object(J.jsx)(je.default,{style:{flex:1},showsVerticalScrollIndicator:!1})]}),Object(J.jsx)(p.default,{style:Mt.gap})]})}),Object(J.jsx)(p.default,{style:Mt.navigateContainer,children:Object(J.jsx)(p.default,{style:Mt.navigateWrapper,children:Object(J.jsxs)(V.default,{style:Mt.button,onPress:function(){return e.doPressAdd()},children:[Object(J.jsx)(M.default,{name:"pluscircleo",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Mt.buttonText,children:S.a.get("add")})]})})})]})]})}}]),r}(b.Component),Mt=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1,flexDirection:"row"},rightContainer:{flex:1,flexDirection:"row"},displayContainer:{flex:3,backgroundColor:re.grey1},displayWrapper:{flex:1},gridContainer:{flex:1,backgroundColor:re.grey3,borderRadius:5,flexDirection:"column"},searchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,margin:5,marginTop:10,marginBottom:0,flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},searchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},searchBoxInfoLeft:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoRight:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},grid:{margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},gridFirst:{flexDirection:"row",justifyContent:"space-between"},gridSecond:{marginVertical:5,flexDirection:"row",justifyContent:"space-between"},gridThird:{flexDirection:"row",justifyContent:"space-between"},gridFirstLeft:{flex:1},gridFirstRight:{flex:1,alignItems:"flex-end"},gridThirdLeft:{flex:1},gridThirdRight:{flex:1,alignItems:"flex-end"},gridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridFirstRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},gridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round",textTransform:"uppercase"},navigateContainer:{flex:1,backgroundColor:re.grey1,flexDirection:"column"},navigateWrapper:{flex:1,paddingHorizontal:10,paddingTop:10},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},selectionContainer:{marginTop:10},selection:{backgroundColor:re.grey3,borderRadius:5,alignItems:"center",justifyContent:"center",paddingVertical:30},selectionText:{fontFamily:"varela-round",color:"white",fontSize:12,textAlign:"center"},gap:{padding:5},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},tableItemFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:re.grey3},titleSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},titleThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},titleFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleText:{fontFamily:"varela-round",color:re.grey5},overlayHeader:{height:50,marginVertical:5,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"}});function Vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var zt=function(e){d()(r,e);var t=Vt(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={preference:null,overlayProcedureMessageVisible:!1,overlayAlertVisible:!1,overlayAlertInputValue:""},n.handleUpdateFromAlert=n.handleUpdateFromAlert.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=l()((function*(){var e=yield I.default.getItem("preference");console.log("here",e),e&&(e=JSON.parse(e),this.setState({preference:e}))}));return function(){return e.apply(this,arguments)}}()},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""}),e&&"doReset"===e&&this.doReset()}},{key:"doPressReset",value:function(){var e=[];e.push({text:S.a.get("yes"),handleText:"doReset"}),this.setState({overlayAlertInputValue:{title:S.a.get("action"),subtitle:S.a.get("reset")+" "+S.a.get("preference"),text:"Reset all to factory preset?",ok:!1,cancel:!0,options:e},overlayAlertVisible:!0})}},{key:"doReset",value:function(){var e={tcolsize:"web"===j.default.OS?5:4,mcolsize:"web"===j.default.OS?3:2,pcolsize:"web"===j.default.OS?5:3,mquick:"Y"};this.setState({preference:e}),I.default.setItem("preference",JSON.stringify(e))}},{key:"doTcolsize",value:function(){var e=this.state.preference;e.tcolsize<8?e.tcolsize=e.tcolsize+1:e.tcolsize=3,this.setState({preference:e}),I.default.setItem("preference",JSON.stringify(e))}},{key:"doMcolsize",value:function(){var e=this.state.preference;e.mcolsize<6?e.mcolsize=e.mcolsize+1:e.mcolsize=1,this.setState({preference:e}),I.default.setItem("preference",JSON.stringify(e))}},{key:"doPcolsize",value:function(){var e=this.state.preference;e.pcolsize<7?e.pcolsize=e.pcolsize+1:e.pcolsize=2,this.setState({preference:e}),I.default.setItem("preference",JSON.stringify(e))}},{key:"doMquick",value:function(){var e=this.state.preference;"Y"===e.mquick?e.mquick="N":e.mquick="Y",this.setState({preference:e}),I.default.setItem("preference",JSON.stringify(e))}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.preference,l=r.overlayProcedureMessageVisible,a=r.overlayAlertVisible,o=r.overlayAlertInputValue;return console.log("render preference"),Object(J.jsxs)(p.default,{style:Nt.container,children:[a&&Object(J.jsx)(Ct,{input:o,handleUpdateFromAlert:this.handleUpdateFromAlert}),l&&Object(J.jsx)(se,{text:l,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsxs)(p.default,{style:Nt.leftContainer,children:[Object(J.jsx)(p.default,{style:Nt.navigateContainer,children:Object(J.jsxs)(p.default,{style:Nt.navigateWrapper,children:[Object(J.jsxs)(V.default,{style:Nt.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Nt.buttonText,children:S.a.get("back")})]}),Object(J.jsx)(p.default,{style:Nt.selectionContainer})]})}),Object(J.jsx)(p.default,{style:Nt.displayContainer,children:Object(J.jsxs)(p.default,{style:[Nt.displayWrapper,{paddingRight:5}],children:[Object(J.jsx)(p.default,{style:Nt.gap}),Object(J.jsxs)(p.default,{style:Nt.gridContainer,children:[Object(J.jsx)(p.default,{style:Nt.gap}),Object(J.jsxs)(je.default,{style:{flex:1},showsVerticalScrollIndicator:!1,children:[Object(J.jsxs)(V.default,{style:Nt.grid,onPress:function(){return e.doTcolsize()},children:[Object(J.jsxs)(p.default,{style:Nt.gridFirst,children:[Object(J.jsx)(Z.default,{style:Nt.gridFirstLeftText,children:"TCOLSIZE"}),Object(J.jsx)(Z.default,{style:[Nt.gridFirstRightText],children:"3-8"})]}),Object(J.jsxs)(p.default,{style:Nt.gridSecond,children:[Object(J.jsx)(Z.default,{style:Nt.gridSecondText,children:"Number of Columns for Table"}),Object(J.jsx)(Z.default,{style:[Nt.gridSecondText,{color:re.reserved}],children:null==n?void 0:n.tcolsize})]}),Object(J.jsxs)(p.default,{style:Nt.gridThird,children:[Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.paid}]}),"web"===j.default.OS&&5===(null==n?void 0:n.tcolsize)||"web"!==j.default.OS&&4===(null==n?void 0:n.tcolsize)?Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.vacant}],children:S.a.get("default")}):Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.paid}],children:S.a.get("preference")})]})]}),Object(J.jsxs)(V.default,{style:Nt.grid,onPress:function(){return e.doPcolsize()},children:[Object(J.jsxs)(p.default,{style:Nt.gridFirst,children:[Object(J.jsx)(Z.default,{style:Nt.gridFirstLeftText,children:"PCOLSIZE"}),Object(J.jsx)(Z.default,{style:[Nt.gridFirstRightText],children:"2-7"})]}),Object(J.jsxs)(p.default,{style:Nt.gridSecond,children:[Object(J.jsx)(Z.default,{style:Nt.gridSecondText,children:"Number of Columns for POS"}),Object(J.jsx)(Z.default,{style:[Nt.gridSecondText,{color:re.reserved}],children:null==n?void 0:n.pcolsize})]}),Object(J.jsxs)(p.default,{style:Nt.gridThird,children:[Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.paid}]}),"web"===j.default.OS&&5===(null==n?void 0:n.pcolsize)||"web"!==j.default.OS&&3===(null==n?void 0:n.pcolsize)?Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.vacant}],children:S.a.get("default")}):Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.paid}],children:S.a.get("preference")})]})]})]})]}),Object(J.jsx)(p.default,{style:Nt.gap})]})})]}),Object(J.jsxs)(p.default,{style:Nt.rightContainer,children:[Object(J.jsx)(p.default,{style:Nt.displayContainer,children:Object(J.jsxs)(p.default,{style:[Nt.displayWrapper,{paddingLeft:5}],children:[Object(J.jsx)(p.default,{style:Nt.gap}),Object(J.jsxs)(p.default,{style:Nt.gridContainer,children:[Object(J.jsx)(p.default,{style:Nt.gap}),Object(J.jsxs)(je.default,{style:{flex:1},showsVerticalScrollIndicator:!1,children:[Object(J.jsxs)(V.default,{style:Nt.grid,onPress:function(){return e.doMcolsize()},children:[Object(J.jsxs)(p.default,{style:Nt.gridFirst,children:[Object(J.jsx)(Z.default,{style:Nt.gridFirstLeftText,children:"MCOLSIZE"}),Object(J.jsx)(Z.default,{style:[Nt.gridFirstRightText],children:"1-6"})]}),Object(J.jsxs)(p.default,{style:Nt.gridSecond,children:[Object(J.jsx)(Z.default,{style:Nt.gridSecondText,children:"Number of Columns for Menu"}),Object(J.jsx)(Z.default,{style:[Nt.gridSecondText,{color:re.reserved}],children:null==n?void 0:n.mcolsize})]}),Object(J.jsxs)(p.default,{style:Nt.gridThird,children:[Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.paid}]}),"web"===j.default.OS&&3===(null==n?void 0:n.mcolsize)||"web"!==j.default.OS&&2===(null==n?void 0:n.mcolsize)?Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.vacant}],children:S.a.get("default")}):Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.paid}],children:S.a.get("preference")})]})]}),Object(J.jsxs)(V.default,{style:Nt.grid,onPress:function(){return e.doMquick()},children:[Object(J.jsxs)(p.default,{style:Nt.gridFirst,children:[Object(J.jsx)(Z.default,{style:Nt.gridFirstLeftText,children:"MQUICK"}),Object(J.jsx)(Z.default,{style:[Nt.gridFirstRightText],children:"Y/N"})]}),Object(J.jsxs)(p.default,{style:Nt.gridSecond,children:[Object(J.jsx)(Z.default,{style:Nt.gridSecondText,children:"Quick Select for Menu"}),Object(J.jsx)(Z.default,{style:[Nt.gridSecondText,{color:re.reserved}],children:null==n?void 0:n.mquick})]}),Object(J.jsxs)(p.default,{style:Nt.gridThird,children:[Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.paid}]}),"Y"===(null==n?void 0:n.mquick)?Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.vacant}],children:S.a.get("default")}):Object(J.jsx)(Z.default,{style:[Nt.gridThirdRightText,{color:re.paid}],children:S.a.get("preference")})]})]})]})]}),Object(J.jsx)(p.default,{style:Nt.gap})]})}),Object(J.jsx)(p.default,{style:Nt.navigateContainer,children:Object(J.jsx)(p.default,{style:Nt.navigateWrapper,children:Object(J.jsxs)(V.default,{style:Nt.button,onPress:function(){return e.doPressReset()},children:[Object(J.jsx)(M.default,{name:"warning",color:"white",size:36}),Object(J.jsxs)(Z.default,{style:Nt.buttonText,children:[S.a.get("reset")," ",S.a.get("all")]})]})})})]})]})}}]),r}(b.Component),Nt=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1,flexDirection:"row"},rightContainer:{flex:1,flexDirection:"row"},displayContainer:{flex:3,backgroundColor:re.grey1},displayWrapper:{flex:1},gridContainer:{flex:1,backgroundColor:re.grey3,borderRadius:5,flexDirection:"column"},searchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,margin:5,marginTop:10,marginBottom:0,flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},searchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},searchBoxInfoLeft:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoRight:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},grid:{margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},gridFirst:{flexDirection:"row",justifyContent:"space-between"},gridSecond:{marginVertical:5,flexDirection:"row",justifyContent:"space-between"},gridThird:{flexDirection:"row",justifyContent:"space-between"},gridFirstLeft:{flex:1},gridFirstRight:{flex:1,alignItems:"flex-end"},gridThirdLeft:{flex:1},gridThirdRight:{flex:1,alignItems:"flex-end"},gridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridFirstRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},gridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round",textTransform:"uppercase"},navigateContainer:{flex:1,backgroundColor:re.grey1,flexDirection:"column"},navigateWrapper:{flex:1,paddingHorizontal:10,paddingTop:10},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},selectionContainer:{marginTop:10},selection:{backgroundColor:re.grey3,borderRadius:5,alignItems:"center",justifyContent:"center",paddingVertical:30},selectionText:{fontFamily:"varela-round",color:"white",fontSize:12,textAlign:"center"},gap:{padding:5},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},tableItemFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:re.grey3},titleSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},titleThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},titleFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleText:{fontFamily:"varela-round",color:re.grey5},overlayHeader:{height:50,marginVertical:5,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"}});function Kt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Lt=function(e){d()(r,e);var t=Kt(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={receipts:e.receipts.map((function(t){return{docId:t.docId,percentage:(100/e.receipts.length).toFixed(0).toString()}}))},n.handleFillPercentagesEvenly=n.handleFillPercentagesEvenly.bind(B()(n)),n.handleSetPercentageForReceipt=n.handleSetPercentageForReceipt.bind(B()(n)),n.handleSetFullPercentageForReceipt=n.handleSetFullPercentageForReceipt.bind(B()(n)),n.handleSubmit=n.handleSubmit.bind(B()(n)),n}return s()(r,[{key:"handleFillPercentagesEvenly",value:function(){var e=this,t=this.state.receipts,r=(100/t.length).toFixed(0).toString();t.forEach((function(t){return e.handleSetPercentageForReceipt(r,t.docId)}))}},{key:"handleSetFullPercentageForReceipt",value:function(e){var t=this;this.state.receipts.forEach((function(r){r.docId===e.docId?t.handleSetPercentageForReceipt("100",r.docId):t.handleSetPercentageForReceipt("0",r.docId)}))}},{key:"handleSetPercentageForReceipt",value:function(e,t){var r=this.state.receipts,n=r,l=r.findIndex((function(e){return e.docId===t}));Number(e)?n[l].percentage=Number(e).toFixed(0).toString():n[l].percentage="0",this.setState({receipts:n},(function(){return console.log("receiptsUpdate2",r)}))}},{key:"handleSubmit",value:function(){var e=this.state.receipts,t=e.reduce((function(e,t){return e+Number(t.percentage)}),0);console.log("agg",t),e.some((function(t){return e[0].percentage!==t.percentage}))&&100!==t?console.log("validation failed"):this.props.handleUpdateFromSplitItems(e)}},{key:"render",value:function(){var e=this,t=this.props.selectedTableItems,r=this.state.receipts;return console.log("in overlaysplititems"),Object(J.jsx)(p.default,{style:Gt.overlay,children:Object(J.jsxs)(p.default,{style:Gt.overlayContent,children:[Object(J.jsxs)(p.default,{style:Gt.overlayHeader,children:[Object(J.jsx)(Z.default,{style:Gt.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:Gt.overlaySubtitleText,children:"Split Item(s)"}),Object(J.jsxs)(Z.default,{style:Gt.overlayText,children:["You are splitting ",t.length," item(s) for ",r.length," receipts"]})]}),Object(J.jsx)(je.default,{style:Gt.overlayScroll,children:r.map((function(t){return Object(J.jsxs)(p.default,{style:Gt.inputRow,children:[Object(J.jsxs)(V.default,{style:Gt.inputRowLeft,onPress:function(){return e.handleSetFullPercentageForReceipt(t)},children:[Object(J.jsx)(Z.default,{style:Gt.inputRowTitleText,children:"RECEIPT"}),Object(J.jsx)(Z.default,{style:Gt.inputRowSubtitleText,children:t.docId})]}),Object(J.jsxs)(p.default,{style:Gt.inputRowRight,children:[Object(J.jsx)(N.default,{style:Gt.textInput,keyboardType:"numeric",selectTextOnFocus:!0,value:r.find((function(e){return e.docId===t.docId})).percentage,onChangeText:function(r){return e.handleSetPercentageForReceipt(r,t.docId)}}),Object(J.jsx)(Z.default,{style:Gt.percentageText,children:"%"})]})]},t.docId)}))}),Object(J.jsx)(V.default,{style:[Gt.overlayOption,{marginTop:20}],onPress:function(){return e.handleFillPercentagesEvenly()},children:Object(J.jsx)(Z.default,{style:Gt.overlayOptionText,children:"Fill evenly"})}),Object(J.jsx)(V.default,{style:Gt.overlayOption,onPress:function(){return e.handleSubmit()},children:Object(J.jsx)(Z.default,{style:Gt.overlayOptionText,children:S.a.get("submit")})}),Object(J.jsx)(V.default,{style:[Gt.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromSplitItems("")},children:Object(J.jsx)(Z.default,{style:Gt.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),Gt=(L.default.get("window").height,m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayNumber:{fontFamily:"varela-round",color:"white",fontSize:32},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},overlayScroll:{height:280},inputRow:{height:60,marginVertical:5,marginHorizontal:40,flexDirection:"row"},inputRowLeft:{flex:1,justifyContent:"center"},inputRowRight:{flex:1,borderRadius:5,flexDirection:"row",backgroundColor:re.grey1,alignItems:"center",justifyContent:"flex-end"},inputRowTitleText:{fontFamily:"varela-round",fontSize:12,color:re.paid},inputRowSubtitleText:{fontFamily:"varela-round",fontSize:20,color:"white"},textInput:{width:"75%",fontFamily:"varela-round",fontSize:20,color:"white",textAlign:"right"},percentageText:{fontFamily:"varela-round",fontSize:20,color:"white",opacity:.6,paddingHorizontal:10}}));function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(r),!0).forEach((function(t){P()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var qt=function(e){d()(r,e);var t=Wt(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={receipts:n.props.availableReceipts.map((function(e){return{docId:e.docId,recKey:e.recKey,receiptItems:[]}})),selectedTableItems:[],overlaySplitItemsVisible:!1,overlayChoosePrinterVisible:!1},n.handleSelectTableItem=n.handleSelectTableItem.bind(B()(n)),n.handleSplitSelectedTableItems=n.handleSplitSelectedTableItems.bind(B()(n)),n.handleUndoAll=n.handleUndoAll.bind(B()(n)),n.handleSelectAllUnsplitTableItems=n.handleSelectAllUnsplitTableItems.bind(B()(n)),n.handleDeselectAllUnsplitTableItems=n.handleDeselectAllUnsplitTableItems.bind(B()(n)),n.handleUpdateFromSplitItems=n.handleUpdateFromSplitItems.bind(B()(n)),n.handleUpdateFromChoosePrinter=n.handleUpdateFromChoosePrinter.bind(B()(n)),n.handleSubmit=n.handleSubmit.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"handleSelectTableItem",value:function(e){console.log("menu selected",e);var t=this.state,r=t.selectedTableItems,n=t.receipts,l=this.props.tableItems;if(!n[0].receiptItems.some((function(t){return t.recKey===e.recKey}))){var a=r;if(r.some((function(t){return t.recKey===e.recKey})))a=a.filter((function(t){return t.recKey!==e.recKey&&t.refRecKey!==e.recKey}));else{a.push(e);var o=[];o=l.filter((function(t){return t.refRecKey===e.recKey})),console.log("comboItems",o),o.forEach((function(e){return a.push(e)}))}this.setState({selectedTableItems:a})}}},{key:"handleSelectAllUnsplitTableItems",value:function(){var e=this.props.tableItems,t=this.state,r=t.selectedTableItems,n=t.receipts,l=r;e.forEach((function(e){n[0].receiptItems.some((function(t){return t.recKey===e.recKey}))||r.some((function(t){return t.recKey===e.recKey}))||l.push(e)})),this.setState({selectedTableItems:l})}},{key:"handleDeselectAllUnsplitTableItems",value:function(){this.setState({selectedTableItems:[]})}},{key:"handleSplitSelectedTableItems",value:function(){0!==this.state.selectedTableItems.length&&this.setState({overlaySplitItemsVisible:!0})}},{key:"handleUndoAll",value:function(){this.setState({receipts:this.props.availableReceipts.map((function(e){return{docId:e.docId,recKey:e.recKey,receiptItems:[]}}))})}},{key:"handleUpdateFromChoosePrinter",value:function(e,t){this.setState({overlayChoosePrinterVisible:!1}),e&&this.handleSubmit(e)}},{key:"handleUpdateFromSplitItems",value:function(e){if(console.log("distribution",e),e){var t=this.state,r=t.receipts,n=t.selectedTableItems,l=r;l.forEach((function(t){n.forEach((function(r){t.receiptItems.push(Yt(Yt({},r),{},{percentage:e.find((function(e){return e.docId===t.docId})).percentage}))}))})),this.setState({overlaySplitItemsVisible:!1,selectedTableItems:[],receipts:l})}else this.setState({overlaySplitItemsVisible:!1,selectedTableItems:[]})}},{key:"handleSubmit",value:function(e){var t=this.props,r=t.cashierPrinters,n=t.home,l=this.state.receipts;r.length>1&&!e&&!n.defaultPrinter?this.setState({overlayChoosePrinterVisible:!0}):this.props.handleUpdateFromSplit(l,n.defaultPrinter||e)}},{key:"render",value:function(){var e=this,t=this.props,r=(t.serviceEntry,t.home,t.selectedTable),n=(t.availableReceipts,t.tableItems),l=t.cashierPrinters,a=this.state,o=a.receipts,i=a.selectedTableItems,s=a.overlaySplitItemsVisible,c=a.overlayChoosePrinterVisible;return console.log("in split"),Object(J.jsxs)(p.default,{style:Zt.container,children:[s&&Object(J.jsx)(Lt,{receipts:o,selectedTableItems:i,handleUpdateFromSplitItems:this.handleUpdateFromSplitItems}),c&&Object(J.jsx)(Ot,{printPurpose:"SPLIT BY ITEM",cashierPrinters:l,handleUpdateFromChoosePrinter:this.handleUpdateFromChoosePrinter}),Object(J.jsx)(p.default,{style:Zt.leftContainer,children:Object(J.jsxs)(p.default,{style:Zt.wrapper,children:[Object(J.jsxs)(p.default,{style:Zt.overlayHeader,children:[Object(J.jsx)(Z.default,{style:Zt.overlayTitleText,children:"TABLE"}),Object(J.jsx)(Z.default,{style:Zt.overlaySubtitleText,children:r.tableId}),Object(J.jsxs)(Z.default,{style:Zt.overlayTitleText,children:[n.length," ITEMS"]})]}),Object(J.jsxs)(p.default,{style:Zt.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:Zt.button,onPress:function(){return e.handleUndoAll()},children:[Object(J.jsx)(Z.default,{style:Zt.buttonText,children:"Undo"}),Object(J.jsx)(Z.default,{style:Zt.buttonText,children:"All"})]}),Object(J.jsxs)(V.default,{style:Zt.button,onPress:function(){return e.handleDeselectAllUnsplitTableItems()},children:[Object(J.jsx)(Z.default,{style:Zt.buttonText,children:"Deselect"}),Object(J.jsx)(Z.default,{style:Zt.buttonText,children:"All"})]}),Object(J.jsxs)(V.default,{style:Zt.button,onPress:function(){return e.handleSelectAllUnsplitTableItems()},children:[Object(J.jsx)(Z.default,{style:Zt.buttonText,children:"Select"}),Object(J.jsx)(Z.default,{style:Zt.buttonText,children:"All"})]})]}),Object(J.jsxs)(je.default,{style:[Zt.itemsContainer],children:[Object(J.jsx)(p.default,{style:{paddingTop:5}}),n.map((function(t){return Object(J.jsxs)(V.default,{disabled:!(!o[0].receiptItems.some((function(e){return e.recKey===t.recKey}))&&!t.refRecKey),style:[Zt.tableItemContainer,i.some((function(e){return e.recKey===t.recKey}))&&{backgroundColor:re.occupied},(o[0].receiptItems.some((function(e){return e.recKey===t.recKey}))||t.refRecKey)&&{opacity:.2}],onPress:function(){return e.handleSelectTableItem(t)},children:[Object(J.jsx)(p.default,{style:Zt.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:Zt.tableItemText,children:t.orderQty})}),Object(J.jsxs)(p.default,{style:Zt.tableItemSecondContainer,children:[Object(J.jsxs)(Z.default,{style:Zt.tableItemText,children:[t.refRecKey?"- ":null,t.menuName]}),t.menuMod?Object(J.jsx)(Z.default,{style:Zt.tableItemModText,children:t.menuMod}):null]}),Object(J.jsx)(p.default,{style:Zt.tableItemThirdContainer,children:Object(J.jsx)(Z.default,{style:Zt.tableItemText})})]},t.recKey)}))]}),Object(J.jsx)(V.default,{style:[Zt.actionButton,0!==i.length?{backgroundColor:re.occupied}:{opacity:.2}],disabled:0===i.length,onPress:function(){return e.handleSplitSelectedTableItems()},children:Object(J.jsx)(Z.default,{style:Zt.buttonText,children:"Split Selected"})}),o[0].receiptItems.length===n.length?Object(J.jsx)(V.default,{style:Zt.actionButton,onPress:function(){return e.handleSubmit()},children:Object(J.jsx)(Z.default,{style:[Zt.buttonText,{color:re.reserved}],children:"Confirm Split"})}):Object(J.jsx)(V.default,{style:Zt.actionButton,onPress:function(){return e.props.handleUpdateFromSplit("")},children:Object(J.jsx)(Z.default,{style:[Zt.buttonText,{color:re.paid}],children:"Quit"})})]})}),Object(J.jsx)(p.default,{style:Zt.rightContainer,children:Object(J.jsx)(je.default,{style:Zt.splitScroll,horizontal:!0,snapToInterval:Qt,decelerationRate:"fast",children:o.map((function(e,t){return Object(J.jsxs)(p.default,{style:Zt.wrapper,children:[Object(J.jsxs)(p.default,{style:Zt.overlayHeader,children:[Object(J.jsxs)(Z.default,{style:[Zt.overlayTitleText,{color:re.paid,opacity:1}],children:["SPLIT ",t+1," OF ",o.length]}),Object(J.jsx)(Z.default,{style:Zt.overlaySubtitleText,children:e.docId}),Object(J.jsxs)(Z.default,{style:Zt.overlayTitleText,children:[e.receiptItems.length," ITEMS"]})]}),Object(J.jsxs)(je.default,{style:Zt.itemsContainer,children:[Object(J.jsx)(p.default,{style:{paddingTop:5}}),e.receiptItems.map((function(e){return Object(J.jsxs)(V.default,{style:Zt.tableItemContainer,children:[Object(J.jsx)(p.default,{style:Zt.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:Zt.tableItemText,children:e.orderQty})}),Object(J.jsxs)(p.default,{style:Zt.tableItemSecondContainer,children:[Object(J.jsxs)(Z.default,{style:Zt.tableItemText,children:[e.refRecKey?"- ":null,e.menuName]}),e.menuMod?Object(J.jsx)(Z.default,{style:Zt.tableItemModText,children:e.menuMod}):null]}),Object(J.jsx)(p.default,{style:Zt.tableItemThirdContainer,children:Object(J.jsxs)(Z.default,{style:Zt.tableItemText,children:[Object(J.jsx)(Z.default,{style:{color:re.reserved},children:e.percentage}),Object(J.jsx)(Z.default,{style:{color:re.grey1},children:" %"})]})})]},e.recKey)}))]})]},e.docId)}))})})]})}}]),r}(b.Component),Qt=L.default.get("window").width/3,Zt=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1},rightContainer:{flex:2},wrapper:{flex:1,width:Qt},splitScroll:{width:"100%",height:"100%"},itemsContainer:{flex:1,borderRadius:5,margin:5,backgroundColor:re.grey2},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},buttonsContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center"},button:{height:72,width:72,borderRadius:5,margin:5,backgroundColor:re.grey2,alignItems:"center",justifyContent:"center"},buttonText:{fontFamily:"varela-round",color:"white",fontSize:12,textTransform:"uppercase"},actionButton:{height:72,margin:5,backgroundColor:re.grey2,alignItems:"center",justifyContent:"center"},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:1,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{alignItems:"center",justifyContent:"center",width:50}});function Jt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Xt=function(e){d()(r,e);var t=Jt(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={overlayText:""},n}return s()(r,[{key:"render",value:function(){var e=this,t=this.state.overlayText;return console.log("in overlayinputreference"),Object(J.jsx)(p.default,{style:$t.overlay,children:Object(J.jsxs)(p.default,{style:$t.overlayContent,children:[Object(J.jsxs)(p.default,{style:$t.overlayHeader,children:[Object(J.jsx)(Z.default,{style:$t.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:$t.overlaySubtitleText,children:"Input Reference"})]}),Object(J.jsx)(p.default,{style:$t.searchBoxWrapper,children:Object(J.jsxs)(p.default,{style:$t.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:$t.overlaySearchBoxInput,autoFocus:!0,placeholder:"ENTER REFERENCE",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.setState({overlayText:t})},onSubmitEditing:function(){return e.props.handleUpdateFromInputReference(t)},value:t}),Object(J.jsx)(V.default,{style:$t.overlaySearchBoxButton,onPress:function(){e.setState({overlayText:""}),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})}),Object(J.jsx)(V.default,{style:$t.overlayOption,onPress:function(){return e.props.handleUpdateFromInputReference(t)},children:Object(J.jsx)(Z.default,{style:$t.overlayOptionText,children:S.a.get("submit")})}),Object(J.jsx)(V.default,{style:[$t.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromInputReference("")},children:Object(J.jsx)(Z.default,{style:$t.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),$t=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center",marginBottom:30},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"}});function _t(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var er=function(e){d()(r,e);var t=_t(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={overlaySearchText:"",tables:"",availableTables:"",selectedTargetTable:"",overlayChoosePrinterVisible:!1},n.handleOverlaySearchText=n.handleOverlaySearchText.bind(B()(n)),n.handleUpdateFromChoosePrinter=n.handleUpdateFromChoosePrinter.bind(B()(n)),n.handleSubmit=n.handleSubmit.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.serviceEntry,n=t.home,l=t.selectedTable,a=r+"api/tables",o=new URLSearchParams;o.append("shopId",n.shopId),o.append("statusFlg","C"),fetch(a+="?"+o,{method:"GET"}).then((function(e){return e.json()})).then((function(t){var r=t.filter((function(e){return e.tableId!==l.tableId}));e.setState({tables:r,availableTables:r})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handleOverlaySearchText",value:function(e){var t=this.state,r=t.tables,n=(t.availableTables,[]);this.setState({overlaySearchText:e});var l=e.toUpperCase();console.log("caseText",l),n=r,e?(n=n.filter((function(e){return e.tableId.toUpperCase().includes(l)||e.sectionId.toUpperCase().includes(l)})),this.setState({availableTables:n})):this.setState({availableTables:n})}},{key:"handleUpdateFromChoosePrinter",value:function(e,t){var r=this.state.selectedTargetTable;e?(this.setState({overlayChoosePrinterVisible:!1}),this.handleSubmit(r,e)):this.setState({overlayChoosePrinterVisible:!1})}},{key:"handleSubmit",value:function(e,t){var r=this.props.home;this.setState({selectedTargetTable:e}),this.props.cashierPrinters.length>1&&!t&&!r.defaultPrinter?this.setState({overlayChoosePrinterVisible:!0}):this.props.handleUpdateFromMergeBill(e,r.defaultPrinter||t)}},{key:"render",value:function(){var e=this,t=this.props,r=t.selectedTable,n=t.cashierPrinters,l=this.state,a=l.overlaySearchText,o=l.availableTables,i=(l.tables,l.overlayChoosePrinterVisible);return console.log("in overlaymergebill",r),Object(J.jsxs)(p.default,{style:tr.overlay,children:[i&&Object(J.jsx)(Ot,{printPurpose:"MERGE BILL",cashierPrinters:n,handleUpdateFromChoosePrinter:this.handleUpdateFromChoosePrinter}),Object(J.jsxs)(p.default,{style:tr.overlayContent,children:[Object(J.jsxs)(p.default,{style:tr.overlayHeader,children:[Object(J.jsxs)(Z.default,{style:tr.overlayTitleText,children:["TABLE ",r.tableId]}),Object(J.jsx)(Z.default,{style:tr.overlaySubtitleText,children:"Merge Bill"})]}),Object(J.jsxs)(p.default,{style:tr.searchBoxWrapper,children:[Object(J.jsx)(V.default,{style:tr.overlayBackButton,onPress:function(){return e.props.handleUpdateFromMergeBill("")},children:Object(J.jsx)(M.default,{name:"close",size:24,color:"white"})}),Object(J.jsxs)(p.default,{style:tr.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:tr.overlaySearchBoxInput,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.handleOverlaySearchText(t)},value:a}),Object(J.jsx)(V.default,{style:tr.overlaySearchBoxButton,onPress:function(){e.setState({overlaySearchText:""},(function(){return e.handleOverlaySearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})]}),Object(J.jsx)(p.default,{style:tr.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:tr.searchBoxInfoText,children:[o.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],showsVerticalScrollIndicator:!1,data:o,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[tr.overlayGrid,r.dummy?tr.hidden:null],onPress:function(){return e.handleSubmit(r)},children:[Object(J.jsxs)(p.default,{style:tr.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:tr.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:tr.overlayGridFirstLeftText,children:r.sectionId})}),Object(J.jsx)(p.default,{style:tr.overlayGridFirstRight,children:Object(J.jsx)(Z.default,{style:tr.overlayGridFirstRightText,children:"OCCUPIED"})})]}),Object(J.jsx)(p.default,{style:tr.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:tr.overlayGridSecondText,children:r.tableId})}),Object(J.jsxs)(p.default,{style:tr.overlayGridThird,children:[Object(J.jsx)(p.default,{style:tr.overlayGridThirdLeft}),Object(J.jsx)(p.default,{style:tr.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:tr.overlayGridThirdRightText})})]})]})}})]})]})}}]),r}(b.Component),tr=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",height:"80%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center"},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},overlayBackButton:{width:50,height:50,borderRadius:50,marginHorizontal:5,alignItems:"center",justifyContent:"center"},overlayGrid:{flex:1,margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},overlayGridFirst:{flexDirection:"row"},overlayGridSecond:{marginVertical:5},overlayGridThird:{flexDirection:"row"},overlayGridFirstLeft:{flex:1},overlayGridFirstRight:{flex:1,alignItems:"flex-end"},overlayGridThirdLeft:{flex:1},overlayGridThirdRight:{flex:1,alignItems:"flex-end"},overlayGridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridFirstRightText:{color:re.occupied,fontSize:12,fontFamily:"varela-round"},overlayGridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},overlayGridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5}});function rr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var nr=function(e){d()(r,e);var t=rr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={overlayNumber:2},n.handleQtyChange=n.handleQtyChange.bind(B()(n)),n}return s()(r,[{key:"handleQtyChange",value:function(e){if("PLUS"===e)this.setState((function(e,t){return{overlayNumber:e.overlayNumber+1}}));else if("MINUS"===e){if(2===this.state.overlayNumber)return;this.setState((function(e,t){return{overlayNumber:e.overlayNumber-1}}))}}},{key:"handleNumberChange",value:function(e){isNaN(e)?this.setState({overlayNumber:2}):this.setState({overlayNumber:Number(e)})}},{key:"render",value:function(){var e=this,t=this.state.overlayNumber;return console.log("in overlaysplitbill"),Object(J.jsx)(p.default,{style:ar.overlay,children:Object(J.jsxs)(p.default,{style:ar.overlayContent,children:[Object(J.jsxs)(p.default,{style:ar.overlayHeader,children:[Object(J.jsx)(Z.default,{style:ar.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:ar.overlaySubtitleText,children:"Split Bill"}),Object(J.jsx)(Z.default,{style:ar.overlayText,children:"Enter the number of bills to split into"})]}),Object(J.jsxs)(p.default,{style:ar.adjustContainer,children:[Object(J.jsx)(V.default,{style:ar.adjustFirst,onPress:function(){return e.handleQtyChange("MINUS")},children:Object(J.jsx)(M.default,{name:"minus",size:32,color:"rgba(0,0,0,0.85)"})}),Object(J.jsx)(p.default,{style:ar.adjustSecond,children:Object(J.jsx)(N.default,{style:ar.overlayNumber,selectTextOnFocus:!0,keyboardType:"numeric",value:null==t?void 0:t.toString(),onChangeText:function(t){return e.handleNumberChange(t)}})}),Object(J.jsx)(V.default,{style:ar.adjustThird,onPress:function(){return e.handleQtyChange("PLUS")},children:Object(J.jsx)(M.default,{name:"plus",size:32,color:"rgba(0,0,0,0.85)"})})]}),Object(J.jsxs)(p.default,{style:ar.buttonsContainer,children:[Object(J.jsx)(V.default,{style:[ar.button,2===t&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayNumber:2})},children:Object(J.jsx)(Z.default,{style:ar.buttonText,children:"2"})}),Object(J.jsx)(V.default,{style:[ar.button,3===t&&{backgroundColor:re.reserved}],onPress:function(){return e.setState({overlayNumber:3})},children:Object(J.jsx)(Z.default,{style:ar.buttonText,children:"3"})}),Object(J.jsx)(V.default,{style:[ar.button,4===t&&{backgroundColor:re.paid}],onPress:function(){return e.setState({overlayNumber:4})},children:Object(J.jsx)(Z.default,{style:ar.buttonText,children:"4"})})]}),Object(J.jsx)(V.default,{style:ar.overlayOption,onPress:function(){return e.props.handleUpdateFromSplitBill(t,"ITEM")},children:Object(J.jsx)(Z.default,{style:ar.overlayOptionText,children:"Split By Item"})}),Object(J.jsx)(V.default,{style:ar.overlayOption,onPress:function(){return e.props.handleUpdateFromSplitBill(t,"AMOUNT")},children:Object(J.jsx)(Z.default,{style:ar.overlayOptionText,children:"Split By Amount"})}),Object(J.jsx)(V.default,{style:[ar.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromSplitBill("")},children:Object(J.jsx)(Z.default,{style:ar.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),lr=L.default.get("window").height/8,ar=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayNumber:{width:"100%",fontFamily:"varela-round",color:"white",fontSize:32,textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},buttonsContainer:{alignItems:"center",justifyContent:"center",flexDirection:"row",marginBottom:30},button:{height:lr-10,width:lr-10,margin:5,alignItems:"center",justifyContent:"center",backgroundColor:re.grey1,borderRadius:5},buttonText:{color:"white",fontFamily:"varela-round",fontSize:24,textTransform:"uppercase"},adjustContainer:{height:80,flexDirection:"row",justifyContent:"center",alignItems:"center"},adjustFirst:{flex:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},adjustSecond:{flex:1,justifyContent:"center",alignItems:"center",marginHorizontal:20},adjustThird:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}});function or(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var ir=function(e){d()(r,e);var t=or(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={receipts:e.receipts.map((function(e){return{docId:e.docId,recKey:e.recKey,amount:"0"}})),warning:"Total amount to split is "+e.selectedTable.grandTotal.toFixed(2),overlayChoosePrinterVisible:!1},n.handleFillRemainder=n.handleFillRemainder.bind(B()(n)),n.handleSetAmountForReceipt=n.handleSetAmountForReceipt.bind(B()(n)),n.handleUpdateFromChoosePrinter=n.handleUpdateFromChoosePrinter.bind(B()(n)),n.handleSubmit=n.handleSubmit.bind(B()(n)),n}return s()(r,[{key:"handleFillRemainder",value:function(e){var t=this.props.selectedTable,r=this.state.receipts,n=r,l=r.findIndex((function(t){return t.recKey===e.recKey})),a=r.filter((function(t){return t.recKey!==e.recKey})).reduce((function(e,t){return e+Number(t.amount)}),0);a<=Number(t.grandTotal)&&(n[l].amount=(Number(t.grandTotal)-a).toFixed(2).toString(),this.setState({receipts:n}))}},{key:"handleSetAmountForReceipt",value:function(e,t){var r=this.state.receipts,n=r;n[r.findIndex((function(e){return e.docId===t}))].amount=e,this.setState({receipts:n},(function(){return console.log("receiptsUpdated",r)}))}},{key:"handleUpdateFromChoosePrinter",value:function(e,t){this.setState({overlayChoosePrinterVisible:!1}),e&&this.handleSubmit(e)}},{key:"handleSubmit",value:function(e){var t=this.props,r=t.selectedTable,n=t.cashierPrinters,l=t.home,a=this.state.receipts,o=a.reduce((function(e,t){return e+Number(t.amount)}),0).toFixed(2);if(console.log("aggregate",o),a.some((function(e){return 0===Number(e.amount)}))||Number(o)!==Number(r.grandTotal))return console.log("validation failed"),void this.setState({warning:"Ensure numbers are valid and add up to "+r.grandTotal.toFixed(2)});n.length>1&&!e&&!l.defaultPrinter?this.setState({overlayChoosePrinterVisible:!0}):this.props.handleUpdateFromSplitAmount(a,l.defaultPrinter||e)}},{key:"doFillEvenly",value:function(){var e=this.props.selectedTable,t=this.state.receipts,r=t,n=Number(e.grandTotal/t.length).toFixed(2);r.forEach((function(t,l){l!==r.length-1?t.amount=Number(n).toFixed(2):t.amount=(e.grandTotal-n*(r.length-1)).toFixed(2)})),this.setState({receipts:r},(function(){return console.log("receiptsUpdated",t)}))}},{key:"render",value:function(){var e=this,t=this.props,r=(t.selectedTable,t.cashierPrinters),n=this.state,l=n.receipts,a=n.warning,o=n.overlayChoosePrinterVisible;return console.log("in overlaysplitamount"),Object(J.jsxs)(p.default,{style:sr.overlay,children:[o&&Object(J.jsx)(Ot,{printPurpose:"SPLIT BY AMOUNT",cashierPrinters:r,handleUpdateFromChoosePrinter:this.handleUpdateFromChoosePrinter}),Object(J.jsxs)(p.default,{style:sr.overlayContent,children:[Object(J.jsxs)(p.default,{style:sr.overlayHeader,children:[Object(J.jsx)(Z.default,{style:sr.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:sr.overlaySubtitleText,children:"Split Amount"}),Object(J.jsx)(Z.default,{style:sr.overlayText,children:a})]}),Object(J.jsx)(je.default,{style:sr.overlayScroll,children:l.map((function(t){return Object(J.jsxs)(p.default,{style:sr.inputRow,children:[Object(J.jsxs)(V.default,{style:sr.inputRowLeft,onPress:function(){return e.handleFillRemainder(t)},children:[Object(J.jsx)(Z.default,{style:sr.inputRowTitleText,children:"RECEIPT"}),Object(J.jsx)(Z.default,{style:sr.inputRowSubtitleText,children:t.docId})]}),Object(J.jsxs)(p.default,{style:sr.inputRowRight,children:[Object(J.jsx)(N.default,{style:sr.textInput,keyboardType:"numeric",selectTextOnFocus:!0,value:l.find((function(e){return e.docId===t.docId})).amount,onChangeText:function(r){return e.handleSetAmountForReceipt(r,t.docId)}}),Object(J.jsx)(Z.default,{style:sr.percentageText})]})]},t.docId)}))}),Object(J.jsx)(V.default,{style:[sr.overlayOption,{marginTop:20}],onPress:function(){return e.doFillEvenly()},children:Object(J.jsx)(Z.default,{style:sr.overlayOptionText,children:"fill evenly"})}),Object(J.jsx)(V.default,{style:[sr.overlayOption],onPress:function(){return e.handleSubmit()},children:Object(J.jsx)(Z.default,{style:sr.overlayOptionText,children:S.a.get("submit")})}),Object(J.jsx)(V.default,{style:[sr.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromSplitAmount("")},children:Object(J.jsx)(Z.default,{style:sr.overlayOptionText,children:S.a.get("cancel")})})]})]})}}]),r}(b.Component),sr=(L.default.get("window").height,m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayNumber:{fontFamily:"varela-round",color:"white",fontSize:32},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},overlayScroll:{height:280},inputRow:{height:60,marginVertical:5,marginHorizontal:40,flexDirection:"row"},inputRowLeft:{flex:1,justifyContent:"center"},inputRowRight:{flex:1,borderRadius:5,flexDirection:"row",backgroundColor:re.grey1,alignItems:"center",justifyContent:"flex-end"},inputRowTitleText:{fontFamily:"varela-round",fontSize:12,color:re.paid},inputRowSubtitleText:{fontFamily:"varela-round",fontSize:20,color:"white"},textInput:{width:"75%",fontFamily:"varela-round",fontSize:20,color:"white",textAlign:"right"},percentageText:{fontFamily:"varela-round",fontSize:20,color:"white",opacity:.6,paddingHorizontal:10}}));function cr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var dr=function(e){d()(r,e);var t=cr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={overlayText:"",overlaySearchText:"",paymentMethods:e.paymentMethods,availablePaymentMethods:e.paymentMethods,selectedPaymentMethod:null},n.handleOverlaySearchText=n.handleOverlaySearchText.bind(B()(n)),n}return s()(r,[{key:"handleOverlaySearchText",value:function(e){var t=this.state.paymentMethods,r=[];this.setState({overlaySearchText:e});var n=e.toUpperCase();console.log("caseText",n),r=t,e?(r=r.filter((function(e){return e.pmId.toUpperCase().includes(n)||e.name.toUpperCase().includes(n)})),this.setState({availablePaymentMethods:r})):this.setState({availablePaymentMethods:r})}},{key:"render",value:function(){var e=this,t=this.state,r=t.overlayText,n=t.selectedPaymentMethod,l=t.availablePaymentMethods,a=t.overlaySearchText;return console.log("in overlayupdatetips",l),Object(J.jsx)(p.default,{style:ur.overlay,children:Object(J.jsxs)(p.default,{style:ur.overlayContent,children:[Object(J.jsxs)(p.default,{style:ur.overlayHeader,children:[Object(J.jsx)(Z.default,{style:ur.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:ur.overlaySubtitleText,children:"Update Tips"})]}),Object(J.jsx)(p.default,{style:ur.searchBoxWrapper,children:Object(J.jsxs)(p.default,{style:ur.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:ur.overlaySearchBoxInput,autoFocus:!0,keyboardType:"numeric",placeholder:"ENTER TIPS",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.setState({overlayText:t})},value:r}),Object(J.jsx)(V.default,{style:ur.overlaySearchBoxButton,onPress:function(){e.setState({overlayText:""}),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})}),Object(J.jsx)(p.default,{style:{paddingBottom:10}}),Object(J.jsxs)(p.default,{style:ur.selectWrapper,children:[Object(J.jsx)(p.default,{style:ur.searchBoxWrapper,children:Object(J.jsxs)(p.default,{style:[ur.overlaySearchBox,{marginHorizontal:0}],children:[Object(J.jsx)(N.default,{style:ur.overlaySearchBoxInput,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.handleOverlaySearchText(t)},value:a}),Object(J.jsx)(V.default,{style:ur.overlaySearchBoxButton,onPress:function(){e.setState({overlaySearchText:""},(function(){return e.handleOverlaySearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})}),Object(J.jsx)(p.default,{style:ur.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:ur.searchBoxInfoText,children:[l.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],data:l,keyExtractor:function(e,t){return t.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[ur.overlayGrid,(null==n?void 0:n.pmId)===r.pmId&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({selectedPaymentMethod:r})},children:[Object(J.jsxs)(p.default,{style:ur.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:ur.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:ur.overlayGridFirstLeftText,children:r.pmId})}),Object(J.jsx)(p.default,{style:ur.overlayGridFirstRight,children:Object(J.jsx)(Z.default,{style:ur.overlayGridFirstRightText})})]}),Object(J.jsx)(p.default,{style:ur.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:ur.overlayGridSecondText,children:r.name})}),Object(J.jsxs)(p.default,{style:ur.overlayGridThird,children:[Object(J.jsx)(p.default,{style:ur.overlayGridThirdLeft}),Object(J.jsx)(p.default,{style:ur.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:ur.overlayGridThirdRightText})})]})]})}})]}),Object(J.jsx)(V.default,{style:ur.overlayOption,onPress:function(){return e.props.handleUpdateFromUpdateTips(r,n)},children:Object(J.jsx)(Z.default,{style:ur.overlayOptionText,children:S.a.get("submit")})}),Object(J.jsx)(V.default,{style:[ur.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromUpdateTips()},children:Object(J.jsx)(Z.default,{style:ur.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),ur=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",height:"80%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center"},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1,alignItems:"center",justifyContent:"center"},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},overlayBackButton:{width:50,height:50,borderRadius:50,marginHorizontal:5,alignItems:"center",justifyContent:"center"},overlayGrid:{flex:1,margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},overlayGridFirst:{flexDirection:"row"},overlayGridSecond:{marginVertical:5},overlayGridThird:{flexDirection:"row"},overlayGridFirstLeft:{flex:1},overlayGridFirstRight:{flex:1,alignItems:"flex-end"},overlayGridThirdLeft:{flex:1},overlayGridThirdRight:{flex:1,alignItems:"flex-end"},overlayGridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridFirstRightText:{color:re.vacant,fontSize:12,fontFamily:"varela-round"},overlayGridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},overlayGridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},selectText:{fontFamily:"varela-round",color:"white",fontSize:16},selectWrapper:{flex:1,backgroundColor:re.grey1,borderRadius:5,marginHorizontal:5,marginBottom:5},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"}});function fr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var hr=function(e){d()(r,e);var t=fr(r);function r(e){return o()(this,r),t.call(this,e)}return s()(r,[{key:"render",value:function(){var e=this,t=this.props.receipts;return console.log("in overlayalert",this.props),Object(J.jsx)(p.default,{style:yr.overlay,children:Object(J.jsxs)(p.default,{style:yr.overlayContent,children:[Object(J.jsxs)(p.default,{style:yr.overlayHeader,children:[Object(J.jsx)(Z.default,{style:yr.overlayTitleText,children:"VIEW"}),Object(J.jsx)(Z.default,{style:yr.overlaySubtitleText,children:"Splitted Receipts"}),Object(J.jsx)(Z.default,{style:yr.overlayText})]}),Object(J.jsx)(je.default,{style:yr.overlayScroll,children:t.map((function(e){return Object(J.jsxs)(p.default,{style:yr.inputRow,children:[Object(J.jsxs)(p.default,{style:yr.inputRowLeft,children:[Object(J.jsx)(Z.default,{style:yr.inputRowTitleText,children:"RECEIPT"}),Object(J.jsx)(Z.default,{style:yr.inputRowSubtitleText,children:e.docId})]}),Object(J.jsxs)(p.default,{style:yr.inputRowRight,children:[Object(J.jsx)(Z.default,{style:yr.textInput,children:e.grandTotal?e.grandTotal.toFixed(2):null}),Object(J.jsx)(Z.default,{style:yr.percentageText})]})]},e.recKey)}))}),Object(J.jsx)(V.default,{style:yr.overlayOption,onPress:function(){return e.props.handleUpdateFromViewSplitted("")},children:Object(J.jsx)(Z.default,{style:yr.overlayOptionText,children:"OK"})})]})})}}]),r}(b.Component),yr=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},overlayScroll:{height:280},inputRow:{height:60,marginVertical:5,marginHorizontal:40,flexDirection:"row"},inputRowLeft:{flex:1,justifyContent:"center"},inputRowRight:{flex:1,borderRadius:5,flexDirection:"row",backgroundColor:re.grey1,alignItems:"center",justifyContent:"flex-end"},inputRowTitleText:{fontFamily:"varela-round",fontSize:12,color:re.paid},inputRowSubtitleText:{fontFamily:"varela-round",fontSize:20,color:"white"},textInput:{width:"75%",fontFamily:"varela-round",fontSize:20,color:"white",textAlign:"right"},percentageText:{fontFamily:"varela-round",fontSize:20,color:"white",opacity:.6,paddingHorizontal:10}}),br=r(365),gr=r(352),mr=r.n(gr);function pr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var jr=function(){function e(t){o()(this,e),Object.defineProperty(this,"qrstring",{value:this.generate(t)})}return s()(e,[{key:"output",value:function(){return this.qrstring}},{key:"padLeft",value:function(e,t,r){return t<String(e).length?e.toString():Array(t-String(e).length+1).join(r||"0")+e}},{key:"crc16",value:function(e){var t,r=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],n=65535;for(t=0;t<e.length;t++){var l=e.charCodeAt(t);if(l>255)throw new RangeError;n=r[255&(l^n>>8)]^n<<8}return(65535&(0^n)).toString(16).toUpperCase()}},{key:"generate",value:function(e){var t=this;for(var r in e)"string"==typeof e[r]&&(e[r]=e[r].trim());var n=[{id:"00",value:"01"},{id:"01",value:"12"},{id:"26",value:[{id:"00",value:"SG.PAYNOW"},{id:"01",value:"2"},{id:"02",value:String(e.uen)},{id:"03",value:String(!e.amount||e.editable?1:0)},{id:"04",value:String(e.expiry)}]},{id:"52",value:"0000"},{id:"53",value:"702"},{id:"54",value:String(e.amount||0)},{id:"58",value:"SG"},{id:"59",value:String(e.company||"COMPANY")},{id:"60",value:"Singapore"}],l={id:"62",value:[{id:"01",value:String(e.refNumber||"")}]};e.refNumber&&n.push(l);var a=n.reduce((function(e,r){return Array.isArray(r.value)&&(r.value=r.value.reduce((function(e,r){return e+=r.id+t.padLeft(r.value.length.toString(),2)+r.value}),"")),e+=r.id+t.padLeft(r.value.length.toString(),2)+r.value}),"");return a+="6304"+this.padLeft(this.crc16(a+"6304"),4)}}]),e}(),xr=function(e){d()(r,e);var t=pr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={input:e.input},n}return s()(r,[{key:"componentDidMount",value:function(){var e=this.props.home,t=new jr({uen:e.uen,amount:Number(this.props.input.amount),editable:!1,expiry:oe()().format("YYYYMMDD"),refNumber:this.props.input.reference,company:e.orgName});this.setState({qrcodeString:t.output()})}},{key:"render",value:function(){var e=this,t=this.state,r=(t.input,t.qrcodeString);return console.log("in overlayalert",this.props),Object(J.jsx)(p.default,{style:vr.overlay,children:Object(J.jsxs)(p.default,{style:vr.overlayContent,children:[Object(J.jsxs)(p.default,{style:vr.overlayHeader,children:[Object(J.jsxs)(Z.default,{style:vr.overlaySubtitleText,children:["$",this.props.input.amount]}),Object(J.jsx)(Z.default,{style:[vr.overlayText,{marginTop:0}],children:this.props.home.orgName})]}),Object(J.jsx)(br.default,{size:300,value:r,color:"#761972",logo:mr.a,logoSize:100}),Object(J.jsx)(p.default,{style:vr.overlayHeader,children:Object(J.jsx)(Z.default,{style:[vr.overlayText,{marginTop:5}],children:"Thank you!"})}),Object(J.jsx)(V.default,{style:[vr.overlayOption,{width:400}],onPress:function(){return e.props.handleUpdateFromPaynow("")},children:Object(J.jsx)(Z.default,{style:vr.overlayOptionText,children:"CONTINUE"})})]})})}}]),r}(b.Component),vr=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{alignItems:"center",position:"relative"},overlayHeader:{margin:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"}});function Tr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Or=function(e){d()(r,e);var t=Tr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={serviceEntry:e.route.params.serviceEntry,serviceEntryObj:e.route.params.serviceEntryObj,home:e.route.params.home,paymentMethods:e.route.params.masters.paymentMethods,settings:e.route.params.masters.settings,cashierPrinters:e.route.params.masters.cashierPrinters,privileges:e.route.params.masters.privileges,selectedTable:e.route.params.selectedTable,payments:e.route.params.pospays,selectedPaymentMethod:null,selectedPaymentItem:"",numberString:"0",pay:e.route.params.selectedTable.balance,overlayPaynowVisible:!1,overlayInputReferenceVisible:!1,overlayMergeBillVisible:!1,overlaySplitBillVisible:!1,overlaySplitAmountVisible:!1,overlayUpdateTipsVisible:!1,overlayViewSplittedVisible:!1,requestedPrivilege:"",overlayRequestAccessVisible:!1,overlayProcedureMessageVisible:!1,overlayAlertVisible:!1,overlayAlertInputValue:"",printPurpose:"",selectedPrinter:"",overlayChoosePrinterVisible:!1,splitting:!1,availableReceipts:[],splitReceipts:[],tableItems:[]},n.handleBuildNumberString=n.handleBuildNumberString.bind(B()(n)),n.handleSelectPaymentMethod=n.handleSelectPaymentMethod.bind(B()(n)),n.handleRounding=n.handleRounding.bind(B()(n)),n.handleEnterButton=n.handleEnterButton.bind(B()(n)),n.handleFinishButton=n.handleFinishButton.bind(B()(n)),n.handleAddPayment=n.handleAddPayment.bind(B()(n)),n.handleDeletePayment=n.handleDeletePayment.bind(B()(n)),n.handleFinishPayment=n.handleFinishPayment.bind(B()(n)),n.handleUnsplitBill=n.handleUnsplitBill.bind(B()(n)),n.handlePressPaymentItem=n.handlePressPaymentItem.bind(B()(n)),n.handlePressPaymentItemRef=n.handlePressPaymentItemRef.bind(B()(n)),n.handlePressMerge=n.handlePressMerge.bind(B()(n)),n.handlePressUnmerge=n.handlePressUnmerge.bind(B()(n)),n.handlePressTips=n.handlePressTips.bind(B()(n)),n.handlePressSplit=n.handlePressSplit.bind(B()(n)),n.handlePressUnsplit=n.handlePressUnsplit.bind(B()(n)),n.handleViewSplitted=n.handleViewSplitted.bind(B()(n)),n.handleUpdateFromInputReference=n.handleUpdateFromInputReference.bind(B()(n)),n.handleUpdateFromMergeBill=n.handleUpdateFromMergeBill.bind(B()(n)),n.handleUpdateFromSplitBill=n.handleUpdateFromSplitBill.bind(B()(n)),n.handleUpdateFromSplitAmount=n.handleUpdateFromSplitAmount.bind(B()(n)),n.handleUpdateFromSplit=n.handleUpdateFromSplit.bind(B()(n)),n.handleUpdateFromAlert=n.handleUpdateFromAlert.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n.handleUpdateFromUpdateTips=n.handleUpdateFromUpdateTips.bind(B()(n)),n.handleUpdateFromViewSplitted=n.handleUpdateFromViewSplitted.bind(B()(n)),n.handleUpdateFromRequestAccess=n.handleUpdateFromRequestAccess.bind(B()(n)),n.handleUpdateFromChoosePrinter=n.handleUpdateFromChoosePrinter.bind(B()(n)),n.handleUpdateFromPaynow=n.handleUpdateFromPaynow.bind(B()(n)),n.handleOpenDrawer=n.handleOpenDrawer.bind(B()(n)),n.handleValidateAmount=n.handleValidateAmount.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){this.handleViewSplitted()}},{key:"handleBuildNumberString",value:function(e){var t=this.state.numberString;if("DEL"===e)if(1!==t.length){var r=t.slice(0,-1);this.setState({numberString:r})}else this.setState({numberString:"0"});else if("CLEAR"===e)"0"!==t&&this.setState({numberString:"0"});else if("."===e){if(t.length>5)return;if(t.indexOf(".")<"0"){var n=t+".";this.setState({numberString:n})}}else if("0"===e){if(t.length>7)return;if(t.indexOf(".")>"0"&&t.split(".")[1].length>1)return;if("0"!==t){var l=t+"0";this.setState({numberString:l})}}else if("00"===e){if(t.length>7)return;if(t.indexOf(".")>"0"&&t.split(".")[1].length>0)return;if("0"!==t){var a=t+"00";this.setState({numberString:a})}}else{if(t.length>7)return;if(t.indexOf(".")>"0"&&t.split(".")[1].length>1)return;if("0"!==t){var o=t+e;this.setState({numberString:o})}else this.setState({numberString:e})}}},{key:"handleSelectPaymentMethod",value:function(e){if("P"===e.refType){var t=this.state,r=(t.numberString,t.selectedTable),n="";return n=r.vipPtsMoney<r.balance?Math.floor(r.vipPtsMoney):Math.floor(r.balance),void this.setState({numberString:n,selectedPaymentMethod:e})}this.setState({selectedPaymentMethod:e}),console.log(e),this.handleRounding(e)}},{key:"handleEnterButton",value:function(){var e=this,t=this.state,r=t.numberString,n=t.selectedPaymentMethod,l=Number(r);n?0!==l&&("P"!==n.refType||this.handleValidateAmount())&&this.setState({loading:!0},(function(){return e.handleAddPayment()})):this.setState({overlayAlertInputValue:{title:"ALERT",subtitle:"Missing Payment Method",text:"Please select a payment method",ok:!0,cancel:!1,options:[]},overlayAlertVisible:!0})}},{key:"handleValidateAmount",value:function(){var e=this.state,t=e.numberString,r=e.selectedTable,n=Number(t),l=Number.isInteger(n);return console.log("isInteger",l,r.balance,r.vipPtsMoney),!(!Number.isInteger(n)||n>r.balance||n>r.vipPtsMoney)||(this.setState({overlayAlertInputValue:{title:"ALERT",subtitle:"Inappropriate Amount",text:"Enter an integer less than balance and redeemable",ok:!0,cancel:!1,options:[]},overlayAlertVisible:!0}),!1)}},{key:"handleFinishButton",value:function(){var e=this;this.setState({loading:!0},(function(){return e.handleFinishPayment()}))}},{key:"handleFinishPayment",value:function(e){var t=this,r=this.props.navigation,n=this.state,l=n.serviceEntry,a=n.home,o=n.cashierPrinters,i=n.settings,s=n.selectedTable;if(o.length>1&&!e&&!a.defaultPrinter)this.setState({printPurpose:"FINISH PAYMENT",overlayChoosePrinterVisible:!0});else{var c=l+"api/tables/"+s.recKey+"/finish-payment",d={userId:a.userId,orgId:a.orgId,locId:a.locId,opentableRecKey:s.recKey,iomodelId:a.defaultPrinter&&a.defaultPrinter.iomodelId||e&&e.iomodelId};fetch(c,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(e){var n;console.log("post finish-payment successful",e),"Y"===(null==(n=i.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:n.setString)&&te(l,"Finish Payment",a.userName,e.message,s.tableId),e.message?t.setState({loading:!1,overlayProcedureMessageVisible:e.message.toUpperCase()}):r.goBack()})).catch((function(e){console.log(e),t.setState({loading:!1})}))}}},{key:"handleUnsplitBill",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=t.settings,a=t.selectedTable,o=r+"api/tables/"+a.recKey+"/unsplit-receipt",i={userId:n.userId,opentableRecKey:a.recKey};fetch(o,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(t){var o;console.log("post unsplit successful",t),"Y"===(null==(o=l.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:o.setString)&&te(r,"Unsplit Bill",n.userName,t.message,a.tableId),t.message?e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):(e.setState({selectedTable:t.opentable,payments:t.opentablePospays,pay:t.opentable.balance}),e.handleViewSplitted())})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handlePressPaymentItemRef",value:function(e){"PAYNOW"===e.pmId?this.setState({overlayPaynowVisible:!0}):this.setState({selectedPaymentItem:e,overlayInputReferenceVisible:!0})}},{key:"handlePressPaymentItem",value:function(e){this.setState({selectedPaymentItem:e});var t=[];t.push({text:"Yes",handleText:"handleDeletePayment"}),this.setState({overlayAlertInputValue:{title:S.a.get("action"),subtitle:e.name,text:"Delete payment of "+Number(e.payMoney).toFixed(2)+"?",ok:!1,cancel:!0,options:t},overlayAlertVisible:!0})}},{key:"handleDeletePayment",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=t.settings,a=t.selectedTable,o=t.selectedPaymentItem,i=r+"api/tables/"+a.recKey+"/delete-payment",s={userId:n.userId,opentableRecKey:a.recKey,opentablePospayRecKey:o.recKey};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){var o;console.log("post delete-payment successful",t),"Y"===(null==(o=l.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:o.setString)&&te(r,"Delete Payment",n.userName,t.message,a.tableId),t.message?e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):e.setState({selectedTable:t.opentable,payments:t.opentablePospays,numberString:"0",pay:t.opentable.balance})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handleAddPayment",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=t.settings,a=t.paymentMethods,o=t.selectedPaymentMethod,i=t.selectedTable,s=t.pay,c=t.numberString,d=r+"api/tables/"+i.recKey+"/add-payment";console.log("here debug",Number(c));var u={userId:n.userId,orgId:n.orgId,locId:n.locId,opentableRecKey:i.recKey,pmId:o.pmId,payAmt:Number(c),roundAmt:Number(i.balance-s).toFixed(2)};fetch(d,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(t){var s;console.log("post add-payment successful",t),"Y"===(null==(s=l.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:s.setString)&&te(r,"Add Payment",n.userName,t.message,i.tableId),t.message?e.setState({loading:!1,overlayProcedureMessageVisible:t.message.toUpperCase()}):e.setState({loading:!1,selectedTable:t.opentable,payments:t.opentablePospays,numberString:"0",pay:t.opentable.balance},(function(){e.handleRounding(a.find((function(e){return e.pmId===o.pmId}))),e.handleAfterAddPayment()}))})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handleAfterAddPayment",value:function(){var e=this.state,t=e.home,r=e.selectedTable,n=e.payments.find((function(e){return"PAYNOW"===e.pmId}));n&&this.setState({overlayPaynowVisible:!0,overlayPaynowInput:{amount:n.payMoney.toFixed(2),reference:t.shopId+"-"+r.docNo}})}},{key:"handleRounding",value:function(e){console.log(e);var t=this.state.selectedTable,r=(this.state.numberString,Number(t.balance));if("N"!==e.roundingFlg)switch(e.roundType){case"0":console.log("case 0"),this.setState({pay:r,numberString:r.toFixed(2).toString()});break;case"1":console.log("case 1"),r=Math.ceil(10*r)/10,this.setState({pay:r,numberString:r.toFixed(2).toString()});break;case"2":console.log("case 2"),r=Math.floor(20*r)/20,this.setState({pay:r,numberString:r.toFixed(2).toString()});break;case"3":console.log("case 3"),r=Math.floor(10*r)/10,this.setState({pay:r,numberString:r.toFixed(2).toString()});break;case"4":console.log("case 4"),r=Math.round(20*r)/20,this.setState({pay:r,numberString:r.toFixed(2).toString()});break;case"5":console.log("legacy case 5 not in use");break;case"6":console.log("legacy case 6 not in use")}else this.setState({pay:r,numberString:r.toFixed(2).toString()})}},{key:"handlePressTips",value:function(){this.setState({overlayUpdateTipsVisible:!0})}},{key:"handlePressSplit",value:function(){this.setState({overlaySplitBillVisible:!0})}},{key:"handlePressUnsplit",value:function(){var e=this.state.selectedTable,t=[];t.push({text:"Yes",handleText:"handleUnsplitBill"}),this.setState({overlayAlertInputValue:{title:S.a.get("action"),subtitle:"Unsplit Bill",text:"Unsplit Bill for Table "+e.tableId+" ?",ok:!1,cancel:!0,options:t},overlayAlertVisible:!0})}},{key:"handlePressMerge",value:function(){this.setState({overlayMergeBillVisible:!0})}},{key:"handlePressUnmerge",value:function(e){var t=this,r=this.state,n=r.serviceEntry,l=r.home,a=r.cashierPrinters,o=r.settings,i=r.selectedTable;if(a.length>1&&!e&!l.defaultPrinter)this.setState({printPurpose:"UNMERGE BILL",overlayChoosePrinterVisible:!0});else{var s=n+"api/tables/"+i.recKey+"/unmerge-bill",c={userId:l.userId,orgId:l.orgId,locId:l.locId,iomodelId:l.defaultPrinter&&l.defaultPrinter.iomodelId||e&&e.iomodelId};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post unmerge-bill successful",e.opentable),"Y"===(null==(r=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(n,"Unmerge Bill",l.userName,e.message,i.tableId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):t.setState({selectedTable:e.opentable,payments:e.opentablePospays,pay:e.opentable.balance})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}}},{key:"handleViewSplitted",value:function(){var e=this,t=this.state,r=(t.home,t.serviceEntry+"api/tables/"+t.selectedTable.recKey+"/splitted-receipts");fetch(r).then((function(e){return e.json()})).then((function(t){console.log("get splitted-receipts successful",t),t.message?e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):e.setState({splitReceipts:null==t?void 0:t.filter((function(e){return e.recKey>0}))})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handleOpenDrawer",value:function(e,t){var r=this,n=this.state,l=n.home,a=n.serviceEntry,o=n.cashierPrinters,i=n.privileges,s=n.settings,c=n.selectedTable;if(o.length>1&&!e&!l.defaultPrinter)this.setState({printPurpose:"OPEN DRAWER",overlayChoosePrinterVisible:!0});else if("Y"===l.adminFlg||i.some((function(e){return"OPENDRAWER"===e.priId}))||t){var d=a+"api/open-cashdrawer",u={userId:l.userId,orgId:l.orgId,locId:l.locId,shopId:l.shopId,iomodelId:l.defaultPrinter&&l.defaultPrinter.iomodelId||e&&e.iomodelId};fetch(d,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(e){var t;console.log("post open-cashdrawer successful",e),"Y"===(null==(t=s.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:t.setString)&&te(a,"Open Cashdrawer",l.userName,e.message,c.tableId),e.message&&r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()})})).catch((function(e){console.log(e),r.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!0,requestedPrivilege:"OPENDRAWER"})}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){e?"handleDeletePayment"===e?(this.handleDeletePayment(),this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""})):"handleUnsplitBill"===e&&(this.handleUnsplitBill(),this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""})):this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""})}},{key:"handleUpdateFromPaynow",value:function(e){e||this.setState({overlayPaynowVisible:!1})}},{key:"handleUpdateFromInputReference",value:function(e){var t=this;if(this.setState({overlayInputReferenceVisible:!1}),e){var r=this.state,n=r.serviceEntry,l=r.home,a=r.settings,o=r.selectedTable,i=r.selectedPaymentItem,s=n+"api/tables/"+o.recKey+"/payment-reference",c={userId:l.userId,opentableRecKey:o.recKey,opentablePospayRecKey:i.recKey,ref:e};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post payment-reference successful",e),"Y"===(null==(r=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(n,"Payment Reference",l.userName,e.message,o.tableId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):t.setState({selectedTable:e.opentable,payments:e.opentablePospays,numberString:"0",pay:e.opentable.balance})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}}},{key:"handleUpdateFromSplitBill",value:function(e,t){var r=this;if(e){var n=this.state,l=n.selectedTable,a=n.serviceEntry,o=n.home,i=n.settings,s=a+"api/tables/"+l.recKey+"/start-split-receipt",c={userId:o.userId,opentableRecKey:l.recKey,splitCount:e};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var n;console.log("post start-split-receipt successful",e),"Y"===(null==(n=i.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:n.setString)&&te(a,"Start Split Bill",o.userName,e.message,l.tableId),e.message?r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):"ITEM"===t?r.setState({splitting:!0,selectedTable:e.opentable,tableItems:e.opentableItems,availableReceipts:e.receiptmases}):"AMOUNT"===t&&r.setState({overlaySplitAmountVisible:!0,overlaySplitBillVisible:!1,selectedTable:e.opentable,availableReceipts:e.receiptmases})})).catch((function(e){console.log(e),r.setState({loading:!1})}))}else this.setState({overlaySplitBillVisible:!1})}},{key:"handleUpdateFromSplit",value:function(e,t){var r=this;if(console.log("receipts",e),e){var n=this.state,l=n.serviceEntry,a=n.home,o=n.settings,i=n.selectedTable,s=l+"api/tables/"+i.recKey+"/finish-split-receipt",c={userId:a.userId,orgId:a.orgId,locId:a.locId,opentableRecKey:i.recKey,splittedReceipts:e.map((function(e){return{receiptRecKey:e.recKey,itemPercentages:e.receiptItems.map((function(e){return{itemRecKey:e.recKey,percentage:e.percentage}}))}})),iomodelId:t&&t.iomodelId};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var t;console.log("post finish-split-receipt successful",e),"Y"===(null==(t=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:t.setString)&&te(l,"Finish Split Bill",a.userName,e.message,i.tableId),e.message?r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(r.setState({splitting:!1,overlaySplitBillVisible:!1,selectedTable:e.opentable,payments:e.opentablePospays,pay:e.opentable.balance}),r.handleViewSplitted())})).catch((function(e){console.log(e),r.setState({loading:!1})}))}else{var d=this.state,u=d.serviceEntry,f=d.home,h=d.settings,y=d.selectedTable,b=u+"api/tables/"+y.recKey+"/unsplit-receipt",g={userId:f.userId,opentableRecKey:y.recKey};fetch(b,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(g)}).then((function(e){return e.json()})).then((function(e){var t;console.log("post unsplit successful",e),"Y"===(null==(t=h.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:t.setString)&&te(u,"Unsplit Bill",f.userName,e.message,y.tableId),e.message?r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(r.setState({splitting:!1,selectedTable:e.opentable,overlaySplitBillVisible:!1}),r.handleViewSplitted())})).catch((function(e){console.log(e),r.setState({loading:!1})}))}}},{key:"handleUpdateFromSplitAmount",value:function(e,t){var r=this;if(console.log("receipts",e),this.setState({overlaySplitAmountVisible:!1}),e){var n=this.state,l=n.serviceEntry,a=n.home,o=n.settings,i=n.selectedTable,s=l+"api/tables/"+i.recKey+"/finish-split-receipt-byamt",c={userId:a.userId,orgId:a.orgId,locId:a.locId,opentableRecKey:i.recKey,splittedReceiptsByamt:e.map((function(e){return{receiptRecKey:e.recKey,amt:e.amount}})),iomodelId:t&&t.iomodelId};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var t;console.log("post finish-split-receipt successful",e),"Y"===(null==(t=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:t.setString)&&te(l,"Finish Split Bill",a.userName,e.message,i.tableId),e.message?r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(r.setState({selectedTable:e.opentable,payments:e.opentablePospays,pay:e.opentable.balance}),r.handleViewSplitted())})).catch((function(e){console.log(e),r.setState({loading:!1})}))}else{var d=this.state,u=d.serviceEntry,f=d.home,h=d.settings,y=d.selectedTable,b=u+"api/tables/"+y.recKey+"/unsplit-receipt",g={userId:f.userId,opentableRecKey:y.recKey};fetch(b,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(g)}).then((function(e){return e.json()})).then((function(e){var t;console.log("post unsplit successful",e),"Y"===(null==(t=h.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:t.setString)&&te(u,"Unsplit Bill",f.userName,e.message,y.tableId),e.message?r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(r.setState({selectedTable:e.opentable}),r.handleViewSplitted())})).catch((function(e){console.log(e),r.setState({loading:!1})}))}}},{key:"handleUpdateFromMergeBill",value:function(e,t){var r=this;if(e){var n=this.state,l=n.selectedTable,a=n.serviceEntry,o=n.home,i=n.settings,s=a+"api/tables/"+l.recKey+"/merge-bill",c={userId:o.userId,orgId:o.orgId,locId:o.locId,shopId:o.shopId,tableIdGuest:e.tableId,iomodelId:t&&t.iomodelId};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var t;console.log("post merge-bill successful",e),"Y"===(null==(t=i.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:t.setString)&&te(a,"Merge Bill",o.userName,e.message,l.tableId),e.message?r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):r.setState({selectedTable:e.opentable,payments:e.opentablePospays,pay:e.opentable.balance,overlayMergeBillVisible:!1})})).catch((function(e){console.log(e),r.setState({loading:!1})}))}else this.setState({overlayMergeBillVisible:!1})}},{key:"handleUpdateFromUpdateTips",value:function(e,t){var r=this;if(this.setState({overlayUpdateTipsVisible:!1}),e){var n=this.state,l=n.serviceEntry,a=n.home,o=n.settings,i=n.selectedTable,s=l+"api/tables/"+i.recKey+"/update-tips",c={userId:a.userId,opentableRecKey:i.recKey,tips:Number(e).toFixed(2),pmId:(null==t?void 0:t.pmId)||""};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(n){var s;console.log("post update-tips successful",n),"Y"===(null==(s=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:s.setString)&&te(l,"Update Tips",a.userName,n.message,i.tableId,"",e+","+(null==t?void 0:t.pmId)),n.message?r.setState({overlayProcedureMessageVisible:n.message.toUpperCase()}):r.setState({selectedTable:n.opentable,payments:n.opentablePospays,numberString:"0",pay:n.opentable.balance})})).catch((function(e){console.log(e),r.setState({loading:!1})}))}}},{key:"handleUpdateFromViewSplitted",value:function(e){e||this.setState({overlayViewSplittedVisible:!1})}},{key:"handleUpdateFromChoosePrinter",value:function(e,t){this.state.selectedTable;e?(this.setState({printPurpose:"",selectedPrinter:e,overlayChoosePrinterVisible:!1}),"UNMERGE BILL"===t?this.handlePressUnmerge(e):"FINISH PAYMENT"===t?this.handleFinishPayment(e):"OPEN DRAWER"===t&&this.handleOpenDrawer(e)):this.setState({printPurpose:"",selectedPrinter:"",overlayChoosePrinterVisible:!1})}},{key:"handleUpdateFromRequestAccess",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.requestedPrivilege,o=r.settings,i=r.selectedPrinter,s=r.selectedTable;if(e){var c=l+"api/super-user",d={locId:n.locId,accessCode:e,priId:a};fetch(c,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post super-user successful",e),"Y"===(null==(r=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(l,"Request Access "+a,n.userName,e.message,s.tableId,"",e.userId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(t.setState({overlayRequestAccessVisible:!1}),"OPENDRAWER"===a&&t.handleOpenDrawer(i,e.userId))})).catch((function(e){console.log(e),t.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props,r=(t.route,t.navigation),n=this.state,l=n.serviceEntry,a=n.serviceEntryObj,o=n.home,i=n.cashierPrinters,s=(n.settings,n.selectedTable),c=n.overlayInputReferenceVisible,d=n.overlayMergeBillVisible,u=n.overlaySplitBillVisible,f=n.overlayUpdateTipsVisible,h=n.overlaySplitAmountVisible,y=n.overlayViewSplittedVisible,b=n.overlayRequestAccessVisible,g=n.overlayAlertVisible,m=n.overlayAlertInputValue,j=n.overlayPaynowVisible,x=n.overlayPaynowInput,v=n.numberString,T=n.paymentMethods,O=n.payments,I=n.selectedPaymentMethod,C=n.pay,F=n.splitting,P=n.availableReceipts,R=n.splitReceipts,w=n.tableItems,k=n.requestedPrivilege,A=(n.selectedPrinter,n.printPurpose),E=n.overlayChoosePrinterVisible,B=n.overlayProcedureMessageVisible,D=n.loading;return console.log("in pos"),F?Object(J.jsx)(qt,{serviceEntry:l,home:o,selectedTable:s,availableReceipts:P,tableItems:w,cashierPrinters:i,handleUpdateFromSplit:this.handleUpdateFromSplit}):Object(J.jsxs)(p.default,{style:Ir.container,children:[g&&Object(J.jsx)(Ct,{input:m,handleUpdateFromAlert:this.handleUpdateFromAlert}),B&&Object(J.jsx)(se,{text:B,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),c&&Object(J.jsx)(Xt,{handleUpdateFromInputReference:this.handleUpdateFromInputReference}),d&&Object(J.jsx)(er,{serviceEntry:l,home:o,cashierPrinters:i,selectedTable:s,handleUpdateFromMergeBill:this.handleUpdateFromMergeBill}),u&&Object(J.jsx)(nr,{handleUpdateFromSplitBill:this.handleUpdateFromSplitBill}),h&&Object(J.jsx)(ir,{home:o,selectedTable:s,receipts:P,cashierPrinters:i,handleUpdateFromSplitAmount:this.handleUpdateFromSplitAmount}),y&&Object(J.jsx)(hr,{selectedTable:s,receipts:P,handleUpdateFromViewSplitted:this.handleUpdateFromViewSplitted}),f&&Object(J.jsx)(dr,{paymentMethods:T,handleUpdateFromUpdateTips:this.handleUpdateFromUpdateTips}),b&&Object(J.jsx)(Ye,{home:o,requestedPrivilege:k,handleUpdateFromRequestAccess:this.handleUpdateFromRequestAccess}),E&&Object(J.jsx)(Ot,{printPurpose:A,cashierPrinters:i,handleUpdateFromChoosePrinter:this.handleUpdateFromChoosePrinter}),j&&Object(J.jsx)(xr,{home:o,input:x,handleUpdateFromPaynow:this.handleUpdateFromPaynow}),Object(J.jsxs)(p.default,{style:Ir.leftContainer,children:[Object(J.jsx)(p.default,{style:Ir.leftFirstContainer,children:Object(J.jsxs)(p.default,{style:Ir.rowOf5,children:[Object(J.jsxs)(V.default,{style:Ir.headerKeyContainer,onPress:function(){return r.goBack()},children:[Object(J.jsx)(Z.default,{style:[Ir.headerKeyTextTableId],children:s.tableId}),Object(J.jsx)(Z.default,{style:[Ir.headerKeyText,{marginTop:0}],children:S.a.get("back")})]}),Object(J.jsxs)(V.default,{style:[Ir.headerKeyContainer,"Y"===s.splitFlg&&{opacity:.2}],onPress:function(){return e.handlePressTips()},disabled:"Y"===s.splitFlg,children:[Object(J.jsx)(M.default,{name:"like2",size:24,color:"white",style:{height:30}}),Object(J.jsx)(Z.default,{style:Ir.headerKeyText,children:S.a.get("tips")})]}),Object(J.jsxs)(V.default,{style:Ir.headerKeyContainer,onPress:function(){return e.handleOpenDrawer()},children:[Object(J.jsx)(M.default,{name:"laptop",size:24,color:"white",style:{height:30}}),Object(J.jsx)(Z.default,{style:Ir.headerKeyText,children:S.a.get("drawer")})]}),"Y"===s.splitFlg?Object(J.jsxs)(V.default,{style:Ir.headerKeyContainer,onPress:function(){return e.handlePressUnsplit()},children:[Object(J.jsx)(M.default,{name:"switcher",size:24,color:"white",style:{height:30}}),Object(J.jsx)(Z.default,{style:Ir.headerKeyText,children:S.a.get("unsplit")})]}):Object(J.jsxs)(V.default,{style:Ir.headerKeyContainer,onPress:function(){return e.handlePressSplit()},children:[Object(J.jsx)(M.default,{name:"switcher",size:24,color:"white",style:{height:30}}),Object(J.jsx)(Z.default,{style:Ir.headerKeyText,children:S.a.get("splitbill")})]}),"Y"===s.hostFlg||s.refTableId?Object(J.jsxs)(V.default,{style:Ir.headerKeyContainer,onPress:function(){return e.handlePressUnmerge()},children:[Object(J.jsx)(M.default,{name:"menuunfold",size:24,color:"white",style:{height:30}}),Object(J.jsx)(Z.default,{style:Ir.headerKeyText,children:S.a.get("unmerge")})]}):Object(J.jsxs)(V.default,{style:[Ir.headerKeyContainer,"Y"===s.splitFlg&&{opacity:.2}],disabled:"Y"===s.splitFlg,onPress:function(){return e.handlePressMerge()},children:[Object(J.jsx)(M.default,{name:"menufold",size:24,color:"white",style:{height:30}}),Object(J.jsx)(Z.default,{style:Ir.headerKeyText,children:S.a.get("mergebill")})]})]})}),Object(J.jsxs)(p.default,{style:Ir.leftSecondContainer,children:[Object(J.jsxs)(p.default,{style:Ir.tableSummaryContainer,children:[Object(J.jsxs)(p.default,{style:Ir.tableSummaryTitleContainer,children:[Object(J.jsx)(p.default,{style:Ir.tableSummaryTitle,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryTitleText,children:S.a.get("beforedisc")})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryTitle,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryTitleText,children:S.a.get("totaldisc")})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryTitle,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryTitleText,children:S.a.get("servicecharge")})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryTitle,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryTitleText,children:S.a.get("tax")})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryTitle,children:Object(J.jsxs)(Z.default,{style:Ir.tableSummaryTitleText,children:[S.a.get("tips")," ",s.tipsPmId]})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryTitle,children:Object(J.jsx)(Z.default,{style:[Ir.tableSummaryTitleText,{color:re.reserved}],children:S.a.get("grandtotal")})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryTitle,children:Object(J.jsx)(Z.default,{style:[Ir.tableSummaryTitleText,{color:re.paid}],children:S.a.get("pay")})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryTitle,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryTitleText,children:S.a.get("balance")})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryTitle,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryTitleText,children:S.a.get("tender")})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryTitle,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryTitleText,children:S.a.get("change")})})]}),Object(J.jsxs)(p.default,{style:Ir.tableSummaryValueContainer,children:[Object(J.jsx)(p.default,{style:Ir.tableSummaryValue,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryValueText,children:s.beforeDisc?s.beforeDisc.toFixed(2):"0.00"})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryValue,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryValueText,children:s.totalDisc?s.totalDisc.toFixed(2):"0.00"})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryValue,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryValueText,children:s.serviceCharge?s.serviceCharge.toFixed(2):"0.00"})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryValue,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryValueText,children:s.totalTax?s.totalTax.toFixed(2):"0.00"})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryValue,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryValueText,children:s.tips?s.tips.toFixed(2):"0.00"})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryValue,children:Object(J.jsx)(Z.default,{style:[Ir.tableSummaryValueText,{color:re.reserved}],children:s.grandTotal.toFixed(2)||0})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryValue,children:Object(J.jsx)(Z.default,{style:[Ir.tableSummaryValueText,{color:re.paid}],children:C.toFixed(2)||0})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryValue,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryValueText,children:s.balance.toFixed(2)||0})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryValue,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryValueText,children:s.tender.toFixed(2)||0})}),Object(J.jsx)(p.default,{style:Ir.tableSummaryValue,children:Object(J.jsx)(Z.default,{style:Ir.tableSummaryValueText,children:s.change.toFixed(2)||0})})]})]}),Object(J.jsxs)(je.default,{style:{maxHeight:30},horizontal:!0,showsHorizontalScrollIndicator:!1,children:[s.vipId&&Object(J.jsxs)(p.default,{style:{flexDirection:"row",alignItems:"center"},children:[Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:re.paid,marginLeft:20,marginRight:10},children:s.vipId||"-"}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:re.reserved},children:s.vipName||"-"})]}),R&&R.map((function(e){return Object(J.jsxs)(p.default,{style:{flexDirection:"row",flex:1,alignItems:"center"},children:[Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:re.paid,marginLeft:20,marginRight:10},children:e.docId}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:"white"},children:e.grandTotal?e.grandTotal.toFixed(2):"-"})]},e.recKey.toString())}))]}),Object(J.jsxs)(p.default,{style:{flex:1,backgroundColor:re.grey2,borderRadius:5},children:[Object(J.jsxs)(p.default,{style:Ir.paymentsContainer,children:[Object(J.jsx)(p.default,{style:Ir.paymentsFirst,children:Object(J.jsx)(Z.default,{style:Ir.paymentsTitleText,children:"No."})}),Object(J.jsx)(p.default,{style:Ir.paymentsSecond,children:Object(J.jsx)(Z.default,{style:Ir.paymentsTitleText,children:"Payment ID"})}),Object(J.jsx)(p.default,{style:Ir.paymentsThird,children:Object(J.jsx)(Z.default,{style:Ir.paymentsTitleText,children:"Ref"})}),Object(J.jsx)(p.default,{style:Ir.paymentsFourth,children:Object(J.jsx)(Z.default,{style:Ir.paymentsTitleText,children:"Amount"})})]}),Object(J.jsx)(je.default,{style:{flex:1},ref:function(t){return e.posScrollView=t},onContentSizeChange:function(t,r){e.posScrollView.scrollToEnd({animated:!0})},showsVerticalScrollIndicator:!1,children:O.map((function(t,r){return Object(J.jsxs)(p.default,{style:Ir.datumContainer,children:[Object(J.jsx)(p.default,{style:Ir.datumFirst,children:Object(J.jsx)(Z.default,{style:Ir.datumText,children:r+1})}),Object(J.jsx)(V.default,{style:Ir.datumSecond,onPress:function(){return e.handlePressPaymentItem(t)},children:Object(J.jsx)(Z.default,{style:Ir.datumText,children:t.name})}),Object(J.jsx)(V.default,{style:Ir.datumThird,onPress:function(){return e.handlePressPaymentItemRef(t)},children:Object(J.jsx)(Z.default,{style:Ir.datumText,children:t.payRef})}),Object(J.jsx)(p.default,{style:Ir.datumFourth,children:Object(J.jsx)(Z.default,{style:Ir.datumText,children:t.payMoney.toFixed(2)})})]},r)}))})]})]}),Object(J.jsxs)(p.default,{style:Ir.rowOf5,children:[Object(J.jsx)(V.default,{disabled:!0,style:Ir.headerKeyContainer}),Object(J.jsx)(V.default,{disabled:!0,style:Ir.headerKeyContainer}),Object(J.jsx)(V.default,{disabled:!0,style:Ir.headerKeyContainer}),Object(J.jsx)(V.default,{disabled:!0,style:Ir.headerKeyContainer}),Object(J.jsx)(V.default,{disabled:!0,style:Ir.headerKeyContainer})]})]}),Object(J.jsxs)(p.default,{style:Ir.rightContainer,children:[Object(J.jsx)(p.default,{style:Ir.rightFirstContainer,children:Object(J.jsx)(Fe.default,{style:{flex:3},showsVerticalScrollIndicator:!1,numColumns:5,data:T,extraData:I,keyExtractor:function(e,t){return t.toString()},renderItem:function(t){var r=t.item;return Object(J.jsx)(p.default,{style:{flex:.2,height:Sr},children:Object(J.jsxs)(V.default,{style:[r.pmId===(null==I?void 0:I.pmId)?Ir.activeFunctionKeyContainer:Ir.functionKeyContainer,r.pmId?null:{opacity:.2}],onPress:function(){return e.handleSelectPaymentMethod(r)},children:[Object(J.jsx)(z.default,{style:{flex:1,aspectRatio:1},source:{uri:(null==a?void 0:a.restServiceUrl)+"epbm/api/image/stock?stkId="+r.pmId+"&t="+r.lastupdate}}),Object(J.jsx)(p.default,{style:{position:"absolute",top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:r.pmId===(null==I?void 0:I.pmId)?Ir.activeFunctionKeyText:Ir.functionKeyText,children:r.pmId})})]})})}})}),Object(J.jsx)(p.default,{style:Ir.rightFirstNumberContainer,children:Object(J.jsx)(Z.default,{style:Ir.rightFirstNumberText,children:v})}),Object(J.jsxs)(p.default,{style:Ir.rightSecondContainer,children:[Object(J.jsx)(p.default,{style:Ir.rightSecondLeftContainer,children:Object(J.jsx)(V.default,{style:Ir.clearContainer,onPress:function(){return e.handleBuildNumberString("CLEAR")},children:Object(J.jsx)(Z.default,{style:Ir.keyText,children:"CLEAR"})})}),Object(J.jsxs)(p.default,{style:Ir.rightSecondMiddleContainer,children:[Object(J.jsxs)(p.default,{style:{flex:1},children:[Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString("7")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"7"})}),Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString("4")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"4"})}),Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString("1")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"1"})}),Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString("0")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"0"})})]}),Object(J.jsxs)(p.default,{style:{flex:1},children:[Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString("8")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"8"})}),Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString("5")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"5"})}),Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString("2")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"2"})}),Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString(".")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"."})})]}),Object(J.jsxs)(p.default,{style:{flex:1},children:[Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString("9")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"9"})}),Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString("6")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"6"})}),Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString("3")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"3"})}),Object(J.jsx)(V.default,{style:Ir.keyContainer,onPress:function(){return e.handleBuildNumberString("00")},children:Object(J.jsx)(Z.default,{style:Ir.keyNumberText,children:"00"})})]})]}),Object(J.jsxs)(p.default,{style:Ir.rightSecondRightContainer,children:[Object(J.jsx)(V.default,{style:Ir.backspaceContainer,onPress:function(){return e.handleBuildNumberString("DEL")},children:Object(J.jsx)(Z.default,{style:Ir.keyText,children:"DEL"})}),0!==s.balance?Object(J.jsx)(V.default,{style:[Ir.enterContainer,D&&{opacity:.2}],onPress:function(){return e.handleEnterButton()},disabled:D,children:Object(J.jsx)(Z.default,{style:Ir.keyText,children:"ENTER"})}):Object(J.jsx)(V.default,{style:[Ir.finishContainer,D&&{opacity:.2}],onPress:function(){return e.handleFinishButton()},disabled:D,children:Object(J.jsx)(Z.default,{style:Ir.keyText,children:"FINISH"})})]})]})]})]})}}]),r}(b.Component),Sr=L.default.get("window").height/8,Ir=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1},rightContainer:{flex:1},leftFirstContainer:{flex:1},leftSecondContainer:{flex:6,margin:5},rightFirstContainer:{flex:3},rightSecondContainer:{flex:4,flexDirection:"row"},rightSecondLeftContainer:{flex:1},rightSecondMiddleContainer:{flex:3,flexDirection:"row"},rightSecondRightContainer:{flex:1},rowOf5:{flex:1,flexDirection:"row"},rightFirstNumberContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},tableSummaryContainer:{justifyContent:"space-between",flexDirection:"row",marginHorizontal:60,marginTop:10,marginBottom:20},tableSummaryTitleContainer:{alignItems:"flex-start"},tableSummaryValueContainer:{alignItems:"flex-end"},tableSummaryTitle:{height:30,justifyContent:"flex-end"},tableSummaryValue:{height:30,justifyContent:"flex-end"},tableSummaryTitleText:{fontFamily:"varela-round",textTransform:"uppercase",color:"white"},tableSummaryValueText:{fontFamily:"varela-round",fontSize:20,color:"white"},keyContainer:{flex:1,margin:5,borderColor:"white",borderWidth:2,borderRadius:5,alignItems:"center",justifyContent:"center"},backspaceContainer:{flex:1,margin:5,alignItems:"center",justifyContent:"center",borderColor:"white",borderWidth:2,borderRadius:5,backgroundColor:re.grey4},enterContainer:{flex:1,margin:5,alignItems:"center",justifyContent:"center",borderColor:"white",borderWidth:2,borderRadius:5,backgroundColor:re.reserved},finishContainer:{flex:1,margin:5,alignItems:"center",justifyContent:"center",backgroundColor:re.occupied,borderRadius:5,borderWidth:2,borderColor:"white"},clearContainer:{flex:1,margin:5,alignItems:"center",justifyContent:"center",borderColor:"white",borderWidth:2,borderRadius:5,backgroundColor:re.paid},functionKeyContainer:{flex:1,margin:5,alignItems:"center",justifyContent:"center",borderColor:"white",borderWidth:2,borderRadius:5},activeFunctionKeyContainer:{flex:1,margin:5,alignItems:"center",justifyContent:"center",backgroundColor:"white",borderColor:"white",borderWidth:2,borderRadius:5},headerKeyContainer:{flex:1,margin:5,alignItems:"center",justifyContent:"center",backgroundColor:re.grey3,borderRadius:5},headerKeyTextTableId:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",fontSize:24},headerKeyText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",fontSize:12},keyText:{fontFamily:"varela-round",color:"white"},keyNumberText:{fontFamily:"varela-round",color:"white",fontSize:32},functionKeyText:{fontFamily:"varela-round",color:"white",textAlign:"center"},activeFunctionKeyText:{fontFamily:"varela-round",color:"black",textAlign:"center"},rightFirstNumberText:{fontFamily:"varela-round",color:"white",fontSize:64},paymentsContainer:{height:30,flexDirection:"row",marginHorizontal:5},dataContainer:{flex:1},paymentsFirst:{flex:1,justifyContent:"center",alignItems:"center",borderRightWidth:3,borderRightColor:re.grey2},paymentsSecond:{flex:3,justifyContent:"center",paddingLeft:10},paymentsThird:{flex:5,justifyContent:"center",paddingLeft:10},paymentsFourth:{flex:2,justifyContent:"center",alignItems:"flex-end",paddingRight:10},paymentsTitleText:{color:re.grey5,fontFamily:"varela-round"},datumFirst:{flex:1,justifyContent:"center",alignItems:"center",borderRightWidth:3,borderRightColor:"white"},datumSecond:{flex:3,justifyContent:"center",paddingLeft:10},datumThird:{flex:5,justifyContent:"center",paddingLeft:10},datumFourth:{flex:2,justifyContent:"center",alignItems:"flex-end",paddingRight:10},datumText:{color:"white",fontFamily:"varela-round",fontSize:16},datumContainer:{backgroundColor:re.grey4,flexDirection:"row",marginHorizontal:5,marginBottom:5,minHeight:50,paddingVertical:5}});function Cr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Fr=function(e){d()(r,e);var t=Cr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,selectedTable:e.route.params.selectedTable,menus:e.route.params.masters.menus,settings:e.route.params.masters.settings,selectedAdhocItem:"",selectedMenu:"",adhocItems:[],searchText:"",availableMenus:e.route.params.masters.menus.filter((function(e){return"X"===e.menuType}))},n.handleSelectTableItem=n.handleSelectTableItem.bind(B()(n)),n.handleSelectAdhoc=n.handleSelectAdhoc.bind(B()(n)),n.handlePressSettleAsMenu=n.handlePressSettleAsMenu.bind(B()(n)),n.handlePressSettleAsRetail=n.handlePressSettleAsRetail.bind(B()(n)),n.handleSearchText=n.handleSearchText.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){this.doGet()}},{key:"doGet",value:function(){var e=this,t=this.state,r=(t.home,t.serviceEntry+"api/tables/"+t.selectedTable.recKey+"/opentable-adhocs");fetch(r).then((function(e){return e.json()})).then((function(t){console.log("get opentable-adhocs successful",t),e.setState({adhocItems:t})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleSelectTableItem",value:function(e){this.setState({selectedAdhocItem:e,selectedMenu:""})}},{key:"handleSelectAdhoc",value:function(e){this.state.selectedAdhocItem&&this.setState({selectedMenu:e})}},{key:"handlePressSettleAsMenu",value:function(){var e=this,t=(this.props.navigation,this.state),r=t.home,n=t.serviceEntry,l=t.settings,a=t.selectedTable,o=t.selectedAdhocItem,i=t.selectedMenu;if(o){var s=n+"api/tables/"+a.recKey+"/insert-item",c={userId:r.userId,opentableRecKey:a.recKey,restmenuRecKey:i.recKey,adhocRecKey:o.recKey,orderQty:"1"};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){var i;console.log("post insert-item successful",t),"Y"===(null==(i=l.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(n,"Adhoc Settle Menu",r.userName,t.message,a.tableId,"",o.recKey),t.message?e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):e.doGet()})).catch((function(t){console.log(t),e.setState({loading:!1})}))}}},{key:"handlePressSettleAsRetail",value:function(){var e=this,t=(this.props.navigation,this.state),r=t.home,n=t.serviceEntry,l=t.settings,a=t.selectedTable,o=t.selectedAdhocItem;if(o){var i=n+"api/tables/"+a.recKey+"/insert-item",s={userId:r.userId,opentableRecKey:a.recKey,adhocRecKey:o.recKey,orderQty:o.orderQty};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){var i;console.log("post insert-item successful",t),"Y"===(null==(i=l.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(n,"Adhoc Settle Retail",r.userName,t.message,a.tableId,"",o.recKey),t.message?e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):e.doGet()})).catch((function(t){console.log(t),e.setState({loading:!1})}))}}},{key:"handleSearchText",value:function(e){var t=this.state.menus,r=[];this.setState({searchText:e});var n=e.toUpperCase();r=t.filter((function(e){return"X"===e.menuType})),e?(r=r.filter((function(e){return e.menuName.toUpperCase().includes(n)||e.menuId.toUpperCase().includes(n)})),this.setState({availableMenus:r})):this.setState({availableMenus:r})}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.selectedTable,l=r.adhocItems,a=r.selectedAdhocItem,o=r.selectedMenu,i=r.searchText,s=r.availableMenus,c=r.overlayProcedureMessageVisible;return console.log("in adhoc"),Object(J.jsxs)(p.default,{style:Pr.container,children:[c&&Object(J.jsx)(se,{text:c,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsx)(p.default,{style:Pr.leftContainer,children:Object(J.jsxs)(p.default,{style:Pr.wrapper,children:[Object(J.jsxs)(p.default,{style:Pr.overlayHeader,children:[Object(J.jsxs)(Z.default,{style:Pr.overlayTitleText,children:["TABLE ",n.tableId]}),Object(J.jsx)(Z.default,{style:Pr.overlaySubtitleText,children:"Ad Hoc"}),Object(J.jsxs)(Z.default,{style:Pr.overlayTitleText,children:[l.length," ITEMS"]})]}),Object(J.jsxs)(p.default,{style:Pr.buttonsContainer,children:[Object(J.jsxs)(V.default,{style:[Pr.button,{opacity:.2}],disabled:!0,onPress:function(){return e.handlePressSettleAsRetail()},children:[Object(J.jsx)(Z.default,{style:Pr.buttonText,children:"Settle"}),Object(J.jsx)(Z.default,{style:Pr.buttonText,children:"As"}),Object(J.jsx)(Z.default,{style:Pr.buttonText,children:"Retail"})]}),Object(J.jsxs)(V.default,{style:[Pr.button,!o&&{opacity:.2}],disabled:!o,onPress:function(){return e.handlePressSettleAsMenu()},children:[Object(J.jsx)(Z.default,{style:Pr.buttonText,children:"Settle"}),Object(J.jsx)(Z.default,{style:Pr.buttonText,children:"As"}),Object(J.jsx)(Z.default,{style:Pr.buttonText,children:"Menu"})]})]}),Object(J.jsxs)(je.default,{style:[Pr.itemsContainer],children:[Object(J.jsx)(p.default,{style:{paddingTop:5}}),l.map((function(t){return Object(J.jsxs)(V.default,{style:[Pr.tableItemContainer,a.recKey===t.recKey&&{backgroundColor:re.occupied}],onPress:function(){return e.handleSelectTableItem(t)},children:[Object(J.jsx)(p.default,{style:Pr.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:Pr.tableItemText,children:t.orderQty})}),Object(J.jsxs)(p.default,{style:Pr.tableItemSecondContainer,children:[Object(J.jsx)(Z.default,{style:Pr.tableItemText,children:t.name}),Object(J.jsx)(Z.default,{style:Pr.tableItemText,children:oe()(t.createDate).format("HH:mm")})]}),Object(J.jsx)(p.default,{style:Pr.tableItemThirdContainer,children:Object(J.jsx)(Z.default,{style:Pr.tableItemText})})]},t.recKey)}))]}),Object(J.jsx)(V.default,{style:Pr.actionButton,onPress:function(){return t.goBack()},children:Object(J.jsx)(Z.default,{style:[Pr.buttonText,{color:re.paid}],children:"QUIT"})})]})}),Object(J.jsx)(p.default,{style:Pr.rightContainer,children:Object(J.jsxs)(p.default,{style:Pr.rightWrapper,children:[Object(J.jsxs)(p.default,{style:Pr.searchBox,children:[Object(J.jsx)(N.default,{style:Pr.searchBoxInputValue,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",value:i,onChangeText:function(t){return e.handleSearchText(t)}}),Object(J.jsx)(V.default,{style:Pr.searchBoxButton,onPress:function(){e.setState({searchText:""},(function(){return e.handleSearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]}),Object(J.jsx)(p.default,{style:Pr.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:Pr.searchBoxInfoText,children:[s.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:{flex:1},data:s,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[Pr.grid,o.recKey===r.recKey&&{backgroundColor:re.occupied}],onPress:function(){return e.handleSelectAdhoc(r)},children:[Object(J.jsxs)(p.default,{style:Pr.gridFirst,children:[Object(J.jsx)(p.default,{style:Pr.gridFirstLeft,children:Object(J.jsx)(Z.default,{style:Pr.gridFirstLeftText,children:r.menuId})}),Object(J.jsx)(p.default,{style:Pr.gridFirstRight})]}),Object(J.jsx)(p.default,{style:Pr.gridSecond,children:Object(J.jsx)(Z.default,{style:Pr.gridSecondText,children:r.menuName})}),Object(J.jsx)(p.default,{style:Pr.gridThird})]},r.recKey)}})]})})]})}}]),r}(b.Component),Pr=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1},rightContainer:{flex:2,alignItems:"center",justifyContent:"center",margin:5},wrapper:{flex:1},splitScroll:{width:"100%",height:"100%"},itemsContainer:{flex:1,borderRadius:5,margin:5,backgroundColor:re.grey2},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},buttonsContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center"},actionButton:{height:72,margin:5,backgroundColor:re.grey2,alignItems:"center",justifyContent:"center"},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:1,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{alignItems:"center",justifyContent:"center",width:50},rightWrapper:{flex:1,borderRadius:5,width:"100%",alignItems:"center",justifyContent:"center",backgroundColor:re.grey2},button:{height:72,width:72,borderRadius:5,margin:5,backgroundColor:re.grey2,alignItems:"center",justifyContent:"center"},buttonText:{fontFamily:"varela-round",color:"white",fontSize:12,textTransform:"uppercase"},gap:{padding:5},searchBox:{backgroundColor:re.grey1,height:50,width:400,borderRadius:100,margin:5,marginTop:10,marginBottom:0,flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},searchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},grid:{height:80,width:400,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},gridFirst:{flexDirection:"row"},gridSecond:{marginVertical:5},gridThird:{flexDirection:"row"},gridFirstLeft:{flex:1},gridFirstRight:{flex:1,alignItems:"flex-end"},gridThirdLeft:{flex:1},gridThirdRight:{flex:1,alignItems:"flex-end"},gridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridFirstRightText:{color:re.reserved,fontSize:12,fontFamily:"varela-round"},gridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},gridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"}});function Rr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var wr=function(e){d()(r,e);var t=Rr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,dayclosePayments:e.route.params.dayclosePayments,daycloseSubPayments:e.route.params.daycloseSubPayments,cashierPrinters:e.route.params.masters.cashierPrinters,settings:e.route.params.masters.settings,overlayChoosePrinterVisible:!1,total:e.route.params.dayclosePayments.reduce((function(e,t){return e+t.systemAmt}),0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),focused:null},n.handleUpdateFromChoosePrinter=n.handleUpdateFromChoosePrinter.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n.handleFinishDayclose=n.handleFinishDayclose.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromChoosePrinter",value:function(e,t){e?(this.setState({overlayChoosePrinterVisible:!1}),this.handleFinishDayclose(e)):this.setState({overlayChoosePrinterVisible:!1})}},{key:"handleFinishDayclose",value:function(e){var t=this,r=this.props.navigation,n=this.state,l=n.serviceEntry,a=n.home,o=n.settings,i=n.dayclosePayments,s=n.daycloseSubPayments,c=n.cashierPrinters;if(0!==i.length)if(c.length>1&&!e&&!a.defaultPrinter)this.setState({overlayChoosePrinterVisible:!0});else{var d=l+"api/finish-dayclose",u={userId:a.userId,orgId:a.orgId,locId:a.locId,shopId:a.shopId,daycloseRecKey:i[0].masRecKey,iomodelId:a.defaultPrinter&&a.defaultPrinter.iomodelId||e&&e.iomodelId,verify:i.map((function(e){return e.recKey.toString()+","+(t.state[e.recKey]||"0")})).join(","),subVerify:s.map((function(e){return e.recKey.toString()+","+(t.state[e.recKey]||"0")})).join(",")};fetch(d,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(e){var n;console.log("post finish-dayclose successful",e),"Y"===(null==(n=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:n.setString)&&te(l,"Finish Dayclose",a.userName,e.message,"","",""),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):r.goBack()}))}}},{key:"doChangeText",value:function(e,t){var r,n=this,l=this.state,a=l.dayclosePayments,o=l.daycloseSubPayments,i=a.find((function(t){return t.pmId===e.pmId}));this.setState((r={},P()(r,e.recKey,t),P()(r,i.recKey,o.filter((function(t){return t.pmId===e.pmId&&t.recKey!==e.recKey})).reduce((function(e,t){return e+(n.state[t.recKey]||0)*t.pmValue}),Number(t)*e.pmValue)),r))}},{key:"doPressKey",value:function(e){var t=this.state,r=t.focused,n=(t.dayclosePayments,t.daycloseSubPayments.find((function(e){return e.recKey===r})));"CLEAR"===e?this.doChangeText(n,"0"):0===Number(this.state[r])?(this.setState(P()({},r,e)),this.doChangeText(n,e)):this.doChangeText(n,(this.state[r]||"")+e)}},{key:"render",value:function(){var e,t=this,r=this.props.navigation,n=this.state,l=n.settings,a=n.dayclosePayments,o=n.daycloseSubPayments,i=n.cashierPrinters,s=n.overlayChoosePrinterVisible,c=n.overlayProcedureMessageVisible,d=n.total,u=n.focused,f=null==(e=l.find((function(e){return"DAYCLOSEVERIFY"===e.setId})))?void 0:e.setString;return console.log("in dayclose",u),Object(J.jsxs)(p.default,{style:kr.container,children:[c&&Object(J.jsx)(se,{text:c,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),s&&Object(J.jsx)(Ot,{printPurpose:"DAY-END CLOSE",cashierPrinters:i,handleUpdateFromChoosePrinter:this.handleUpdateFromChoosePrinter}),Object(J.jsx)(p.default,{style:kr.containerFirst,children:Object(J.jsx)(p.default,{style:{flex:1},children:Object(J.jsxs)(V.default,{style:kr.button,onPress:function(){return r.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:kr.buttonText,children:"BACK"})]})})}),Object(J.jsxs)(p.default,{style:kr.containerSecond,children:[Object(J.jsxs)(p.default,{style:kr.overlayHeader,children:[Object(J.jsx)(Z.default,{style:kr.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:kr.overlaySubtitleText,children:"Day-end Closing"}),Object(J.jsxs)(Z.default,{style:kr.overlayTitleText,children:[a.length," PAYMENT METHODS"]})]}),"N"===f&&Object(J.jsxs)(p.default,{style:kr.summary,children:[Object(J.jsx)(Z.default,{style:kr.summaryText,children:"TOTAL"}),Object(J.jsx)(Z.default,{style:kr.summaryTotalText,children:d})]}),Object(J.jsxs)(p.default,{style:kr.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:kr.titleFirstContainer,children:Object(J.jsx)(Z.default,{style:kr.titleText,children:"Line No."})}),Object(J.jsx)(p.default,{style:kr.titleSecondContainer,children:Object(J.jsx)(Z.default,{style:kr.titleText,children:"Payment ID"})}),Object(J.jsx)(p.default,{style:kr.titleThirdContainer,children:Object(J.jsx)(Z.default,{style:kr.titleText,children:"Payment Name"})}),Object(J.jsx)(p.default,{style:kr.titleFourthContainer,children:Object(J.jsx)(Z.default,{style:kr.titleText,children:"Amount"})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},data:a,showsVerticalScrollIndicator:!1,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var r=e.item;return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(p.default,{style:[kr.tableItemContainer,Number(t.state[r.recKey]||0).toFixed(2)!==(r.systemAmt+r.floatAmt).toFixed(2)&&o.some((function(e){return e.pmId===r.pmId}))&&"Y"===f&&{backgroundColor:re.paid}],children:[Object(J.jsx)(p.default,{style:kr.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:kr.tableItemText,children:r.lineNo})}),Object(J.jsx)(p.default,{style:kr.tableItemSecondContainer,children:Object(J.jsx)(Z.default,{style:kr.tableItemText,children:r.pmId})}),Object(J.jsx)(p.default,{style:kr.tableItemThirdContainer,children:Object(J.jsx)(Z.default,{style:kr.tableItemText,children:r.name})}),Object(J.jsx)(p.default,{style:kr.tableItemFourthContainer,children:"Y"===f&&o.some((function(e){return e.pmId===r.pmId}))?Object(J.jsx)(Z.default,{style:[kr.tableItemText,{paddingRight:10}],children:(t.state[r.recKey]||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}):Object(J.jsx)(Z.default,{style:[kr.tableItemText,{paddingRight:10}],children:r.systemAmt.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})})]}),o.filter((function(e){return e.pmId===r.pmId})).map((function(e){return Object(J.jsxs)(p.default,{style:[kr.tableItemContainer],children:[Object(J.jsx)(p.default,{style:kr.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:kr.tableItemText})}),Object(J.jsx)(p.default,{style:kr.tableItemSecondContainer,children:Object(J.jsx)(Z.default,{style:kr.tableItemText})}),Object(J.jsx)(p.default,{style:{flex:.5,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:kr.tableItemText,children:e.subPmId})}),Object(J.jsx)(p.default,{style:{flex:.5},children:Object(J.jsx)(p.default,{style:[kr.inputRowRight,{marginRight:10},u===e.recKey&&{backgroundColor:re.reserved}],children:Object(J.jsx)(N.default,{style:[kr.textInput,u===e.recKey&&{color:"black"}],keyboardType:"numeric",selectTextOnFocus:!0,value:t.state[e.recKey]||"0",onChangeText:function(r){return t.doChangeText(e,r)},onFocus:function(){return t.setState({focused:e.recKey})}})})}),Object(J.jsx)(p.default,{style:kr.tableItemFourthContainer,children:Object(J.jsx)(Z.default,{style:[kr.tableItemText,{paddingRight:10}],children:(e.pmValue*Number(t.state[e.recKey]||0)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})})]},e.recKey.toString())}))]})}})]}),Object(J.jsxs)(p.default,{style:[kr.containerThird],children:[Object(J.jsx)(p.default,{style:{flex:1},children:Object(J.jsxs)(V.default,{style:kr.button,onPress:function(){return t.handleFinishDayclose()},children:[Object(J.jsx)(M.default,{name:"isv",color:"white",size:36}),Object(J.jsx)(Z.default,{style:kr.buttonText,children:"DAY CLOSE"})]})}),Object(J.jsx)(p.default,{children:u&&Object(J.jsx)(Fe.default,{data:["1","2","3","4","5","6","7","8","9","CLEAR","0"],scrollEnabled:!1,showsVerticalScrollIndicator:!1,numColumns:3,keyExtractor:function(e,t){return t.toString()},renderItem:function(e){var r=e.item;return Object(J.jsx)(p.default,{style:{flex:1/3,aspectRatio:1},children:Object(J.jsx)(V.default,{style:{margin:2.5,flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"black",borderRadius:5},onPress:function(){return t.doPressKey(r)},children:"CLEAR"===r?Object(J.jsx)(M.default,{name:"close",color:"white",size:18}):Object(J.jsx)(Z.default,{style:{color:"white",fontFamily:"varela-round",fontSize:18},children:r})})})}})})]})]})}}]),r}(b.Component),kr=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},containerFirst:{flex:1,flexDirection:"row",padding:10},containerSecond:{flex:6,marginVertical:10,borderRadius:5,backgroundColor:re.grey3},containerThird:{flex:1,padding:10},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},titleFirstContainer:{width:100,alignItems:"center",justifyContent:"center"},titleSecondContainer:{flex:1,justifyContent:"center"},titleThirdContainer:{flex:1,justifyContent:"center"},titleFourthContainer:{width:150,alignItems:"flex-end",justifyContent:"center",paddingRight:20},titleText:{fontFamily:"varela-round",color:re.grey5},tableItemText:{fontFamily:"varela-round",color:"white"},inputRowRight:{flex:1,backgroundColor:re.grey1,borderRadius:5,justifyContent:"center",alignItems:"flex-end"},textInput:{paddingHorizontal:10,flex:1,width:"100%",textAlign:"right",color:"white",fontFamily:"varela-round"},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:100,alignItems:"center",justifyContent:"center"},tableItemSecondContainer:{flex:1,justifyContent:"center"},tableItemThirdContainer:{flex:1,justifyContent:"center"},tableItemFourthContainer:{width:150,alignItems:"flex-end",justifyContent:"center",paddingRight:10},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},summary:{marginVertical:15,alignItems:"center",justifyContent:"center"},summaryTotalText:{fontFamily:"varela-round",fontSize:32,color:re.reserved,textAlign:"center"},summaryText:{fontFamily:"varela-round",fontSize:12,color:re.paid,textAlign:"center"}});function Ar(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Er=function(e){d()(r,e);var t=Ar(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,overlayProcedureMessageVisible:!1,overlayAlertVisible:!1,overlayAlertInputValue:"",printers:[],loading:!1},n.handleUpdateFromAlert=n.handleUpdateFromAlert.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.state,r=t.home,n=t.serviceEntry+"api/iomodels",l=new URLSearchParams;l.append("posNo",r.shopId),fetch(n+="?"+l,{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log("iomodels",t),t.message?e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):e.setState({printers:t},(function(){return e.handlePingAll()}))})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handlePingPrinter",value:function(e){var t=this,r=this.state,n=r.serviceEntry,l=r.printers,a=l;a.find((function(t){return t.recKey===e.recKey})).statusFlg="PING...",this.setState({printers:a});var o=n+"api/iomodels/"+e.recKey;fetch(o,{method:"GET"}).then((function(e){return e.json()})).then((function(r){if(console.log("ping iomodel",r),r.message)t.setState({overlayProcedureMessageVisible:r.message.toUpperCase()});else{var n=l;"OK"===r.msgId?n.find((function(t){return t.recKey===e.recKey})).statusFlg="ONLINE":n.find((function(t){return t.recKey===e.recKey})).statusFlg="OFFLINE",t.setState({printers:n})}})).catch((function(e){console.log(e),t.setState({loading:!1})}))}},{key:"handlePressPingAll",value:function(){var e=[];e.push({text:"Yes",handleText:"handlePingAll"}),this.setState({overlayAlertInputValue:{title:S.a.get("action"),subtitle:"Ping All Printers",text:"Send ping to all printers?",ok:!1,cancel:!0,options:e},overlayAlertVisible:!0})}},{key:"handlePressTestAll",value:function(){var e=[];e.push({text:"Yes",handleText:"handleTestAll"}),this.setState({overlayAlertInputValue:{title:S.a.get("action"),subtitle:"Test All Printers",text:"Send test command to all printers?",ok:!1,cancel:!0,options:e},overlayAlertVisible:!0})}},{key:"handleTestAll",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=r+"api/test-printer",a=new URLSearchParams;a.append("userId",n.userId),a.append("orgId",n.orgId),a.append("locId",n.locId),a.append("shopId",n.shopId),fetch(l+="?"+a,{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log("post test-printer successful",t),t.message&&e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handlePingAll",value:function(){var e=this;this.state.printers.forEach((function(t){return e.handlePingPrinter(t)}))}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""}),e&&("handleTestAll"===e?this.handleTestAll():"handlePingAll"===e&&this.handlePingAll())}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.printers,l=(r.loading,r.overlayProcedureMessageVisible),a=r.overlayAlertVisible,o=r.overlayAlertInputValue;return console.log("in printers"),Object(J.jsxs)(p.default,{style:Br.container,children:[a&&Object(J.jsx)(Ct,{input:o,handleUpdateFromAlert:this.handleUpdateFromAlert}),l&&Object(J.jsx)(se,{text:l,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsxs)(p.default,{style:Br.leftContainer,children:[Object(J.jsx)(p.default,{style:Br.navigateContainer,children:Object(J.jsxs)(p.default,{style:Br.navigateWrapper,children:[Object(J.jsxs)(V.default,{style:Br.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Br.buttonText,children:S.a.get("back")})]}),Object(J.jsx)(p.default,{style:Br.selectionContainer})]})}),Object(J.jsx)(p.default,{style:Br.displayContainer,children:Object(J.jsxs)(p.default,{style:[Br.displayWrapper,{paddingRight:5}],children:[Object(J.jsx)(p.default,{style:Br.gap}),Object(J.jsxs)(p.default,{style:Br.gridContainer,children:[Object(J.jsx)(p.default,{style:Br.gap}),Object(J.jsx)(Fe.default,{style:{flex:1,width:"100%"},data:n,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;if(t.index%2===0)return Object(J.jsxs)(V.default,{style:Br.grid,onPress:function(){return e.handlePingPrinter(r)},children:[Object(J.jsxs)(p.default,{style:Br.gridFirst,children:[Object(J.jsx)(p.default,{style:Br.gridFirstLeft,children:Object(J.jsx)(Z.default,{style:Br.gridFirstLeftText,children:r.iomodelId})}),Object(J.jsx)(p.default,{style:Br.gridFirstRight,children:Object(J.jsx)(Z.default,{style:[Br.gridFirstRightText,{color:"PING..."===r.statusFlg?re.reserved:"ONLINE"===r.statusFlg?re.vacant:re.paid}],children:"ONLINE"===r.statusFlg?S.a.get("online"):"OFFLINE"===r.statusFlg?S.a.get("offline"):r.statusFlg})})]}),Object(J.jsx)(p.default,{style:Br.gridSecond,children:Object(J.jsx)(Z.default,{style:Br.gridSecondText,children:r.name})}),Object(J.jsxs)(p.default,{style:Br.gridThird,children:[Object(J.jsx)(p.default,{style:Br.gridThirdLeft}),Object(J.jsx)(p.default,{style:Br.gridThirdRight,children:Object(J.jsx)(Z.default,{style:Br.gridThirdRightText,children:r.printPort})})]})]})}})]}),Object(J.jsx)(p.default,{style:Br.gap})]})})]}),Object(J.jsxs)(p.default,{style:Br.rightContainer,children:[Object(J.jsx)(p.default,{style:Br.displayContainer,children:Object(J.jsxs)(p.default,{style:[Br.displayWrapper,{paddingLeft:5}],children:[Object(J.jsx)(p.default,{style:Br.gap}),Object(J.jsxs)(p.default,{style:Br.gridContainer,children:[Object(J.jsx)(p.default,{style:Br.gap}),Object(J.jsx)(Fe.default,{style:{flex:1,width:"100%"},data:n,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;if(t.index%2)return Object(J.jsxs)(V.default,{style:Br.grid,onPress:function(){return e.handlePingPrinter(r)},children:[Object(J.jsxs)(p.default,{style:Br.gridFirst,children:[Object(J.jsx)(p.default,{style:Br.gridFirstLeft,children:Object(J.jsx)(Z.default,{style:Br.gridFirstLeftText,children:r.iomodelId})}),Object(J.jsx)(p.default,{style:Br.gridFirstRight,children:Object(J.jsx)(Z.default,{style:[Br.gridFirstRightText,{color:"PING..."===r.statusFlg?re.reserved:"ONLINE"===r.statusFlg?re.vacant:re.paid}],children:"ONLINE"===r.statusFlg?S.a.get("online"):"OFFLINE"===r.statusFlg?S.a.get("offline"):r.statusFlg})})]}),Object(J.jsx)(p.default,{style:Br.gridSecond,children:Object(J.jsx)(Z.default,{style:Br.gridSecondText,children:r.name})}),Object(J.jsxs)(p.default,{style:Br.gridThird,children:[Object(J.jsx)(p.default,{style:Br.gridThirdLeft}),Object(J.jsx)(p.default,{style:Br.gridThirdRight,children:Object(J.jsx)(Z.default,{style:Br.gridThirdRightText,children:r.printPort})})]})]},r.recKey)}})]}),Object(J.jsx)(p.default,{style:Br.gap})]})}),Object(J.jsx)(p.default,{style:Br.navigateContainer,children:Object(J.jsxs)(p.default,{style:Br.navigateWrapper,children:[Object(J.jsxs)(V.default,{style:Br.button,onPress:function(){return e.handlePressPingAll()},children:[Object(J.jsx)(M.default,{name:"fork",color:"white",size:36}),Object(J.jsxs)(Z.default,{style:Br.buttonText,children:["PING ",S.a.get("all")]})]}),Object(J.jsxs)(V.default,{style:Br.button,onPress:function(){return e.handlePressTestAll()},children:[Object(J.jsx)(M.default,{name:"printer",color:"white",size:36}),Object(J.jsxs)(Z.default,{style:Br.buttonText,children:[S.a.get("test")," ",S.a.get("all")]})]})]})})]})]})}}]),r}(b.Component),Br=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1,flexDirection:"row"},rightContainer:{flex:1,flexDirection:"row"},displayContainer:{flex:3,backgroundColor:re.grey1},displayWrapper:{flex:1},gridContainer:{flex:1,backgroundColor:re.grey3,borderRadius:5,flexDirection:"column",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center",overflow:"hidden"},searchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,margin:5,marginTop:10,marginBottom:0,flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},searchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},searchBoxInfoLeft:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoRight:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},grid:{margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},gridFirst:{flexDirection:"row"},gridSecond:{marginVertical:5},gridThird:{flexDirection:"row"},gridFirstLeft:{flex:1},gridFirstRight:{flex:1,alignItems:"flex-end"},gridThirdLeft:{flex:1},gridThirdRight:{flex:1,alignItems:"flex-end"},gridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridFirstRightText:{color:"white",fontSize:12,fontFamily:"varela-round",textTransform:"uppercase"},gridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},gridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},navigateContainer:{flex:1,backgroundColor:re.grey1,flexDirection:"column"},navigateWrapper:{flex:1,paddingHorizontal:10,paddingTop:10},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},selectionContainer:{marginTop:10},selection:{backgroundColor:re.grey3,borderRadius:5,alignItems:"center",justifyContent:"center",paddingVertical:30},selectionText:{fontFamily:"varela-round",color:"white",fontSize:12,textAlign:"center"},gap:{padding:5},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},tableItemFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:re.grey3},titleSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},titleThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},titleFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleText:{fontFamily:"varela-round",color:re.grey5},overlayHeader:{height:50,marginVertical:5,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"}});function Dr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Ur=function(e){d()(r,e);var t=Dr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={dateString:e.dateString?oe()(e.dateString).format("YYYY-MM-DD"):oe()(new Date).format("YYYY-MM-DD"),valid:!0},n.handleValidate=n.handleValidate.bind(B()(n)),n.handleQtyChange=n.handleQtyChange.bind(B()(n)),n}return s()(r,[{key:"handleValidate",value:function(e){this.setState({dateString:e,valid:oe()(e,"YYYY-MM-DD",!0).isValid()})}},{key:"handleQtyChange",value:function(e){var t=this.state.dateString;if("PLUS"===e){var r=oe()(t).add(1,"days").format("YYYY-MM-DD");this.setState({dateString:r,valid:oe()(r,"YYYY-MM-DD",!0).isValid()})}else if("MINUS"===e){var n=oe()(t).subtract(1,"days").format("YYYY-MM-DD");this.setState({dateString:n,valid:oe()(n,"YYYY-MM-DD",!0).isValid()})}}},{key:"render",value:function(){var e=this,t=this.state,r=t.dateString,n=t.valid;return console.log("in overlayenterdate",this.props),Object(J.jsx)(p.default,{style:Mr.overlay,children:Object(J.jsxs)(p.default,{style:Mr.overlayContent,children:[Object(J.jsxs)(p.default,{style:Mr.overlayHeader,children:[Object(J.jsx)(Z.default,{style:Mr.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:Mr.overlaySubtitleText,children:"Enter Date"})]}),Object(J.jsxs)(p.default,{style:Mr.inputRow,children:[Object(J.jsx)(V.default,{style:Mr.inputRowFirst,onPress:function(){return e.handleQtyChange("MINUS")},children:Object(J.jsx)(M.default,{name:"minus",size:32,color:"rgba(0,0,0,0.85)"})}),Object(J.jsx)(p.default,{style:Mr.inputRowSecond,children:Object(J.jsx)(N.default,{style:[Mr.textInput,!n&&{color:re.paid}],keyboardType:"numeric",value:r,onChangeText:function(t){return e.handleValidate(t)}})}),Object(J.jsx)(V.default,{style:Mr.inputRowThird,onPress:function(){return e.handleQtyChange("PLUS")},children:Object(J.jsx)(M.default,{name:"plus",size:32,color:"rgba(0,0,0,0.85)"})})]}),Object(J.jsx)(V.default,{onPress:function(){return e.setState({dateString:oe()().format("YYYY-MM-DD"),valid:!0})},children:Object(J.jsx)(Z.default,{style:Mr.overlayText,children:"YYYY-MM-DD"})}),Object(J.jsx)(V.default,{style:[Mr.overlayOption,{marginTop:20},!n&&{opacity:.2}],disabled:!n,onPress:function(){return e.props.handleUpdateFromEnterDate(r,e.props.dateType)},children:Object(J.jsx)(Z.default,{style:Mr.overlayOptionText,children:"OK"})}),Object(J.jsx)(V.default,{style:[Mr.overlayOption,{backgroundColor:re.paid}],onPress:function(){return e.props.handleUpdateFromEnterDate("")},children:Object(J.jsx)(Z.default,{style:Mr.overlayOptionText,children:S.a.get("cancel")})})]})})}}]),r}(b.Component),Mr=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayOption:{height:60,backgroundColor:re.grey4,alignItems:"center",justifyContent:"center",margin:5},overlayOptionText:{fontFamily:"varela-round",color:"white",textTransform:"uppercase",textAlign:"center"},inputRow:{height:60,width:"100%",marginVertical:5,flexDirection:"row",justifyContent:"center"},inputRowFirst:{width:100,height:60,alignItems:"center",justifyContent:"center"},inputRowSecond:{flex:1,minWidth:80,width:150,borderRadius:5,backgroundColor:re.grey1,alignItems:"center",justifyContent:"center"},inputRowThird:{width:100,height:60,alignItems:"center",justifyContent:"center"},textInput:{width:"75%",fontFamily:"varela-round",fontSize:20,color:"white",textAlign:"center"}});function Vr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var zr=function(e){d()(r,e);var t=Vr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,cashierPrinters:e.route.params.masters.cashierPrinters,privileges:e.route.params.masters.privileges,selectedButton:"",fromDateString:oe()().format("YYYY-MM-DD"),toDateString:oe()().format("YYYY-MM-DD"),reportDetails:"",requestedPrivilege:"",overlayRequestAccessVisible:!1,overlayChoosePrinterVisible:!1,overlayEnterDateVisible:!1,overlayProcedureMessageVisible:!1},n.handlePressDate=n.handlePressDate.bind(B()(n)),n.handleSelectReport=n.handleSelectReport.bind(B()(n)),n.handlePrintReport=n.handlePrintReport.bind(B()(n)),n.handleUpdateFromEnterDate=n.handleUpdateFromEnterDate.bind(B()(n)),n.handleUpdateFromRequestAccess=n.handleUpdateFromRequestAccess.bind(B()(n)),n.handleUpdateFromChoosePrinter=n.handleUpdateFromChoosePrinter.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"handlePressDate",value:function(e){var t=this.state,r=t.fromDateString,n=t.toDateString;this.setState({overlayEnterDateVisible:!0,selectedDateType:e,selectedDateString:"FROMDATE"===e?r:n})}},{key:"handleSelectReport",value:function(e,t){var r=this,n=this.state,l=n.serviceEntry,a=n.home,o=n.privileges,i=n.fromDateString,s=n.toDateString;if("Y"===a.adminFlg||o.some((function(t){return t.priId===e}))||t){this.setState({selectedButton:e}),console.log("report");var c=l+"api/bistro-report",d={userId:a.userId,orgId:a.orgId,locId:a.locId,shopId:a.shopId,reportCode:e,fromDateString:i,toDateString:s};console.log("body",d,c),fetch(c,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(e){console.log("post bistro-report successful",e),e.message?r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):r.setState({reportDetails:e})})).catch((function(e){console.log(e),r.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!0,requestedPrivilege:e})}},{key:"handlePrintReport",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.cashierPrinters,o=r.selectedButton,i=r.fromDateString,s=r.toDateString;if(o)if(a.length>1&&!e&!n.defaultPrinter)this.setState({overlayChoosePrinterVisible:!0});else{var c=l+"api/print-bistro-report",d={userId:n.userId,orgId:n.orgId,locId:n.locId,shopId:n.shopId,reportCode:o,iomodelId:n.defaultPrinter&&n.defaultPrinter.iomodelId||e&&e.iomodelId,fromDateString:i,toDateString:s};fetch(c,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(e){console.log("post print-bistro-report successful",e),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):t.setState({reportDetails:e})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}}},{key:"handleUpdateFromEnterDate",value:function(e,t){var r=this;if(this.setState({overlayEnterDateVisible:!1}),e){var n=this.state,l=n.serviceEntry,a=n.home,o=n.selectedButton,i=n.fromDateString,s=n.toDateString;"TODATE"===t?s=oe()(e).format("YYYY-MM-DD"):i=oe()(e).format("YYYY-MM-DD"),this.setState({fromDateString:i,toDateString:s});var c=l+"api/bistro-report",d={userId:a.userId,orgId:a.orgId,locId:a.locId,shopId:a.shopId,reportCode:o,fromDateString:i,toDateString:s};console.log("body",d,c),fetch(c,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(e){console.log("receipts",e),e.message?r.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):r.setState({reportDetails:e})})).catch((function(e){console.log(e),r.setState({loading:!1})}))}}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromChoosePrinter",value:function(e,t){this.setState({overlayChoosePrinterVisible:!1}),e&&this.handlePrintReport(e)}},{key:"handleUpdateFromRequestAccess",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.requestedPrivilege;if(e){var o=l+"api/super-user",i={locId:n.locId,accessCode:e,priId:a};fetch(o,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){console.log("post super-user successful",e),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(t.setState({overlayRequestAccessVisible:!1}),t.handleSelectReport(a,e.userId))})).catch((function(e){console.log(e),t.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.home,l=r.cashierPrinters,a=r.selectedButton,o=r.reportDetails,i=r.requestedPrivilege,s=r.fromDateString,c=r.toDateString,d=r.selectedDateString,u=r.selectedDateType,f=r.overlayProcedureMessageVisible,h=r.overlayEnterDateVisible,y=r.overlayChoosePrinterVisible,b=r.overlayRequestAccessVisible;return console.log("in reports"),Object(J.jsxs)(p.default,{style:Nr.container,children:[f&&Object(J.jsx)(se,{text:f,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),h&&Object(J.jsx)(Ur,{dateString:d,dateType:u,handleUpdateFromEnterDate:this.handleUpdateFromEnterDate}),y&&Object(J.jsx)(Ot,{printPurpose:"PRINT REPORT",cashierPrinters:l,handleUpdateFromChoosePrinter:this.handleUpdateFromChoosePrinter}),b&&Object(J.jsx)(Ye,{home:n,requestedPrivilege:i,handleUpdateFromRequestAccess:this.handleUpdateFromRequestAccess}),Object(J.jsx)(p.default,{style:Nr.containerFirst,children:Object(J.jsxs)(p.default,{style:{flex:1},children:[Object(J.jsxs)(V.default,{style:Nr.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Nr.buttonText,children:S.a.get("back")})]}),Object(J.jsxs)(V.default,{style:[Nr.selection,"REVENUESUM"===a&&{backgroundColor:"white"}],onPress:function(){return e.handleSelectReport("REVENUESUM")},children:[Object(J.jsx)(Z.default,{style:[Nr.selectionText,"REVENUESUM"===a&&{color:re.grey1}],children:"REVENUE"}),Object(J.jsx)(Z.default,{style:[Nr.selectionText,"REVENUESUM"===a&&{color:re.grey1}],children:"SUMMARY"})]}),Object(J.jsx)(p.default,{style:Nr.gap}),Object(J.jsxs)(V.default,{style:[Nr.selection,"REVENUEDTL"===a&&{backgroundColor:"white"}],onPress:function(){return e.handleSelectReport("REVENUEDTL")},children:[Object(J.jsx)(Z.default,{style:[Nr.selectionText,,"REVENUEDTL"===a&&{color:re.grey1}],children:"REVENUE"}),Object(J.jsx)(Z.default,{style:[Nr.selectionText,,"REVENUEDTL"===a&&{color:re.grey1}],children:"DETAIL"})]}),Object(J.jsx)(p.default,{style:Nr.gap}),Object(J.jsxs)(V.default,{style:[Nr.selection,"COLLECTION"===a&&{backgroundColor:"white"}],onPress:function(){return e.handleSelectReport("COLLECTION")},children:[Object(J.jsx)(Z.default,{style:[Nr.selectionText,"COLLECTION"===a&&{color:re.grey1}],children:"PAYMENT"}),Object(J.jsx)(Z.default,{style:[Nr.selectionText,"COLLECTION"===a&&{color:re.grey1}],children:"COLLECTION"})]}),Object(J.jsx)(p.default,{style:Nr.gap})]})}),Object(J.jsxs)(p.default,{style:Nr.containerSecond,children:[Object(J.jsxs)(p.default,{style:Nr.overlayHeader,children:[Object(J.jsx)(Z.default,{style:Nr.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:Nr.overlaySubtitleText,children:S.a.get("reports")}),Object(J.jsx)(p.default,{style:Nr.gap}),Object(J.jsxs)(p.default,{style:{flexDirection:"row",alignItems:"center"},children:[Object(J.jsx)(V.default,{style:{height:30,justifyContent:"center",backgroundColor:"none"},onPress:function(){return e.handlePressDate("FROMDATE")},children:Object(J.jsx)(Z.default,{style:Nr.overlayTitleText,children:s})}),Object(J.jsx)(Z.default,{style:Nr.overlayTitleText,children:"    /    "}),Object(J.jsx)(V.default,{style:{height:30,justifyContent:"center",backgroundColor:"none"},onPress:function(){return e.handlePressDate("TODATE")},children:Object(J.jsx)(Z.default,{style:Nr.overlayTitleText,children:c})})]}),Object(J.jsx)(Z.default,{style:[Nr.overlayTitleText,{color:re.paid,opacity:1}],children:"REVENUESUM"===a?"REVENUE SUMMARY":"REVENUEDTL"===a?"REVENUE DETAIL":"COLLECTION"===a?"PAYMENT COLLECTION":null})]}),o?Object(J.jsx)(je.default,{style:Nr.reportContainer,showsVerticalScrollIndicator:!1,children:o.map((function(e,t){return Object(J.jsxs)(p.default,{style:Nr.reportLineContainer,children:[Object(J.jsx)(p.default,{style:Nr.reportLineFirst,children:Object(J.jsx)(Z.default,{style:Nr.reportLineFirstText,children:e.description})}),Object(J.jsx)(p.default,{style:Nr.reportLineSecond,children:Object(J.jsx)(Z.default,{style:Nr.reportLineSecondText,children:e.qty})}),Object(J.jsx)(p.default,{style:Nr.reportLineThird,children:Object(J.jsx)(Z.default,{style:Nr.reportLineThirdText,children:e.val?e.val.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):null})})]},e.recKey)}))}):null]}),Object(J.jsx)(p.default,{style:Nr.containerThird,children:Object(J.jsx)(p.default,{style:{flex:1},children:Object(J.jsxs)(V.default,{style:[Nr.button,!a&&{opacity:.2}],disabled:!a,onPress:function(){return e.handlePrintReport()},children:[Object(J.jsx)(M.default,{name:"printer",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Nr.buttonText,children:S.a.get("print")})]})})})]})}}]),r}(b.Component),Nr=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},containerFirst:{flex:1,flexDirection:"row",padding:10},containerSecond:{flex:6,marginVertical:10,borderRadius:5,backgroundColor:re.grey3,alignItems:"center"},containerThird:{flex:1,flexDirection:"row",padding:10},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},selection:{width:"100%",backgroundColor:re.grey3,borderRadius:5,alignItems:"center",justifyContent:"center",height:70},selectionText:{fontFamily:"varela-round",color:"white",fontSize:12,textAlign:"center"},gap:{padding:5},reportContainer:{flex:1,width:440,borderTopLeftRadius:5,borderTopRightRadius:5,backgroundColor:re.grey2,padding:20},reportLineContainer:{height:50,flexDirection:"row"},reportLineFirst:{width:240},reportLineSecond:{width:60},reportLineThird:{width:100,alignItems:"flex-end"},reportLineFirstText:{fontFamily:"varela-round",color:re.grey5},reportLineSecondText:{fontFamily:"varela-round",color:re.grey5},reportLineThirdText:{fontFamily:"varela-round",color:re.grey5}});function Kr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Lr=function(e){d()(r,e);var t=Kr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={serviceEntry:e.route.params.serviceEntry,home:e.route.params.home,cashierPrinters:e.route.params.masters.cashierPrinters,selectedButton:"ORDERS",masters:[],availableMasters:[],searches:[],selectedMaster:"",details:[],searchText:"",receiptsxText:"",headers:"",pays:"",selectedDateString:oe()(new Date).format("YYYY-MM-DD"),overlayChoosePrinterVisible:!1},n.handlePressDate=n.handlePressDate.bind(B()(n)),n.handlePressSearch=n.handlePressSearch.bind(B()(n)),n.handleSelectButton=n.handleSelectButton.bind(B()(n)),n.handleSelectMaster=n.handleSelectMaster.bind(B()(n)),n.handleReprint=n.handleReprint.bind(B()(n)),n.handleSearchText=n.handleSearchText.bind(B()(n)),n.handleUpdateFromEnterDate=n.handleUpdateFromEnterDate.bind(B()(n)),n.handleUpdateFromChoosePrinter=n.handleUpdateFromChoosePrinter.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=t.selectedDateString,a=r+"api/orders",o=new URLSearchParams;o.append("orgId",n.orgId),o.append("shopId",n.shopId),o.append("docDateString",l),fetch(a+="?"+o,{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log("orders",t),e.setState({masters:t,availableMasters:t})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handlePressDate",value:function(){this.setState({overlayEnterDateVisible:!0})}},{key:"handlePressSearch",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=t.receiptsxText;if(this.setState({selectedMaster:"",details:[],pays:"",headers:""}),l){var a=r+"api/receipts-search",o=new URLSearchParams;o.append("orgId",n.orgId),o.append("shopId",n.shopId),o.append("searchInput",l),fetch(a+="?"+o,{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log("masters",t),e.setState({masters:t.receiptmas,availableMasters:t.receiptmas,searches:t.receiptpaydtl,details:[]})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}}},{key:"handleUpdateFromEnterDate",value:function(e){var t=this;if(this.setState({overlayEnterDateVisible:!1,selectedMaster:"",details:[],pays:"",headers:""}),e){var r=this.state,n=r.serviceEntry,l=r.home,a=r.selectedButton,o=n;o+="ORDERS"===a?"api/orders":"KOTS"===a?"api/kots":"RECEIPTS"===a?"api/receipts":"api/daycloses";var i=new URLSearchParams,s=oe()(e).format("YYYY-MM-DD");i.append("orgId",l.orgId),i.append("shopId",l.shopId),i.append("docDateString",s),o+="?"+i,fetch(o,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log("masters",e),"RECEIPTS"===a?t.setState({masters:e.receiptmas,availableMasters:e.receiptmas,searches:e.receiptpaydtl,selectedDateString:s,details:[]}):t.setState({masters:e,availableMasters:e,searches:[],selectedDateString:s,details:[]})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}}},{key:"handleSelectButton",value:function(e){var t=this,r=this.state,n=r.serviceEntry,l=r.home,a=r.selectedDateString;if(this.setState({details:[],selectedMaster:"",selectedButton:e,pays:"",headers:""}),"RECEIPTSX"!==e){var o=n;o+="ORDERS"===e?"api/orders":"KOTS"===e?"api/kots":"RECEIPTS"===e?"api/receipts":"api/daycloses";var i=new URLSearchParams;i.append("orgId",l.orgId),i.append("shopId",l.shopId),i.append("docDateString",a),o+="?"+i,fetch(o,{method:"GET"}).then((function(e){return e.json()})).then((function(r){console.log("masters",r),r.message?console.log(r.message):"RECEIPTS"===e?t.setState({masters:r.receiptmas,availableMasters:r.receiptmas,searches:r.receiptpaydtl}):t.setState({masters:r,availableMasters:r,searches:[]})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}else this.setState({masters:[],availableMasters:[]})}},{key:"handleSelectMaster",value:function(e){var t=this,r=this.state,n=r.serviceEntry,l=r.selectedButton;this.setState({selectedMaster:e});var a=n;console.log("item",l,e),a+="ORDERS"===l?"api/orders/"+e.recKey+"/items":"KOTS"===l?"api/kots/"+e.recKey+"/items":"RECEIPTS"===l||"RECEIPTSX"===l?"api/receipts/"+e.recKey+"/bundle":"api/daycloses/"+e.recKey+"/amts",fetch(a,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log("details",e),"RECEIPTS"===l||"RECEIPTSX"===l?t.setState({details:e.receiptitems,pays:e.receiptpays,headers:e.receiptmas}):t.setState({details:e})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}},{key:"handleReprint",value:function(e){var t=this,r=this.state,n=r.serviceEntry,l=r.home,a=r.cashierPrinters,o=r.selectedMaster,i=r.selectedButton;if(o)if(a.length>1&&!e&&!l.defaultPrinter)this.setState({overlayChoosePrinterVisible:!0});else{var s=n;s+="ORDERS"===i?"api/orders/"+o.recKey+"/reprint":"KOTS"===i?"api/kots/"+o.recKey+"/reprint":"RECEIPTS"===i||"RECEIPTSX"===i?"api/receipts/"+o.recKey+"/reprint":"api/daycloses/"+o.recKey+"/reprint",console.log("debug",l.defaultPrinter);var c={userId:l.userId,orgId:l.orgId,locId:l.locId,iomodelId:l.defaultPrinter&&l.defaultPrinter.iomodelId||e&&e.iomodelId};fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){console.log("post reprint successful",e)})).catch((function(e){console.log(e),t.setState({loading:!1})}))}}},{key:"handleSearchText",value:function(e){var t=this.state,r=t.masters,n=(t.availableMasters,t.searchText,t.searches),l=[];this.setState({searchText:e,selectedMaster:"",details:[],pays:"",headers:""});var a=e.toUpperCase();console.log("caseText",a),l=r,e?(l=l.filter((function(e){var t=n.filter((function(e){return e.payMoney===Number(a)})),r=n.filter((function(e){return e.pmId.toUpperCase().includes(a)}));return e.docId.toUpperCase().includes(a)||e.tableId.toUpperCase().includes(a)||e.createUserId.toUpperCase().includes(a)||t.some((function(t){return t.docId===e.docId}))||r.some((function(t){return t.docId===e.docId}))})),this.setState({availableMasters:l})):this.setState({availableMasters:l})}},{key:"handleUpdateFromChoosePrinter",value:function(e,t){this.setState({overlayChoosePrinterVisible:!1}),e&&this.handleReprint(e)}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.cashierPrinters,l=r.selectedButton,a=(r.masters,r.availableMasters),o=r.details,i=r.searchText,s=r.receiptsxText,c=r.selectedMaster,d=r.selectedDateString,u=r.pays,f=r.headers,h=r.overlayChoosePrinterVisible,y=r.overlayEnterDateVisible;return console.log("in reprint"),Object(J.jsxs)(p.default,{style:Gr.container,children:[y&&Object(J.jsx)(Ur,{dateString:d,handleUpdateFromEnterDate:this.handleUpdateFromEnterDate}),h&&Object(J.jsx)(Ot,{printPurpose:"REPRINT",cashierPrinters:n,handleUpdateFromChoosePrinter:this.handleUpdateFromChoosePrinter}),Object(J.jsxs)(p.default,{style:Gr.leftContainer,children:[Object(J.jsx)(p.default,{style:Gr.navigateContainer,children:Object(J.jsxs)(p.default,{style:Gr.navigateWrapper,children:[Object(J.jsxs)(V.default,{style:Gr.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Gr.buttonText,children:S.a.get("back")})]}),Object(J.jsxs)(je.default,{style:Gr.selectionContainer,alwaysBounceVertical:!1,showsVerticalScrollIndicator:!1,children:[Object(J.jsx)(V.default,{style:[Gr.selection,"ORDERS"===l&&{backgroundColor:"white"}],onPress:function(){return e.handleSelectButton("ORDERS")},children:Object(J.jsx)(Z.default,{style:[Gr.selectionText,"ORDERS"===l&&{color:re.grey1}],children:"ORDERS"})}),Object(J.jsx)(p.default,{style:Gr.gap}),Object(J.jsx)(V.default,{style:[Gr.selection,"KOTS"===l&&{backgroundColor:"white"}],onPress:function(){return e.handleSelectButton("KOTS")},children:Object(J.jsx)(Z.default,{style:[Gr.selectionText,"KOTS"===l&&{color:re.grey1}],children:"KOTS"})}),Object(J.jsx)(p.default,{style:Gr.gap}),Object(J.jsx)(V.default,{style:[Gr.selection,"RECEIPTS"===l&&{backgroundColor:"white"}],onPress:function(){return e.handleSelectButton("RECEIPTS")},children:Object(J.jsx)(Z.default,{style:[Gr.selectionText,"RECEIPTS"===l&&{color:re.grey1}],children:"RECEIPTS"})}),Object(J.jsx)(p.default,{style:Gr.gap}),Object(J.jsxs)(V.default,{style:[Gr.selection,"RECEIPTSX"===l&&{backgroundColor:"white"}],onPress:function(){return e.handleSelectButton("RECEIPTSX")},children:[Object(J.jsx)(Z.default,{style:[Gr.selectionText,"RECEIPTSX"===l&&{color:re.grey1}],children:"RECEIPTS"}),Object(J.jsx)(Z.default,{style:[Gr.selectionText,{color:re.paid}],children:"UNKNOWN DATE"})]}),Object(J.jsx)(p.default,{style:Gr.gap}),Object(J.jsx)(V.default,{style:[Gr.selection,"DAYCLOSES"===l&&{backgroundColor:"white"}],onPress:function(){return e.handleSelectButton("DAYCLOSES")},children:Object(J.jsx)(Z.default,{style:[Gr.selectionText,"DAYCLOSES"===l&&{color:re.grey1}],children:"DAY CLOSES"})}),Object(J.jsx)(p.default,{style:Gr.gap})]})]})}),Object(J.jsx)(p.default,{style:Gr.displayContainer,children:Object(J.jsxs)(p.default,{style:[Gr.displayWrapper,{paddingRight:5}],children:[Object(J.jsx)(p.default,{style:Gr.gap}),Object(J.jsxs)(p.default,{style:Gr.gridContainer,children:["RECEIPTSX"!==l?Object(J.jsxs)(p.default,{style:Gr.searchBox,children:[Object(J.jsx)(N.default,{style:Gr.searchBoxInputValue,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",value:i,onChangeText:function(t){return e.handleSearchText(t)}}),Object(J.jsx)(V.default,{style:Gr.searchBoxButton,onPress:function(){e.setState({searchText:""},(function(){return e.handleSearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]}):Object(J.jsxs)(p.default,{style:Gr.searchBox,children:[Object(J.jsx)(N.default,{style:Gr.searchBoxInputValue,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",value:s,onChangeText:function(t){return e.setState({receiptsxText:t})}}),Object(J.jsx)(V.default,{style:Gr.searchBoxButton,onPress:function(){e.handlePressSearch(),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"search1",size:24,color:re.grey4})})]}),Object(J.jsxs)(p.default,{style:Gr.searchBoxInfo,children:["RECEIPTSX"!==l&&Object(J.jsx)(V.default,{style:Gr.searchBoxInfoLeft,onPress:function(){return e.handlePressDate()},children:Object(J.jsx)(Z.default,{style:Gr.searchBoxInfoText,children:d})}),Object(J.jsx)(p.default,{style:Gr.searchBoxInfoRight,children:Object(J.jsxs)(Z.default,{style:Gr.searchBoxInfoText,children:[a.length," DOCS"]})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},data:a,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[Gr.grid,c.recKey===r.recKey&&{backgroundColor:re.occupied}],onPress:function(){return e.handleSelectMaster(r)},children:[Object(J.jsxs)(p.default,{style:Gr.gridFirst,children:[Object(J.jsx)(p.default,{style:Gr.gridFirstLeft,children:Object(J.jsx)(Z.default,{style:Gr.gridFirstLeftText,children:r.tableId})}),Object(J.jsx)(p.default,{style:Gr.gridFirstRight,children:Object(J.jsx)(Z.default,{style:Gr.gridFirstRightText,children:r.createUserId})})]}),Object(J.jsx)(p.default,{style:Gr.gridSecond,children:Object(J.jsx)(Z.default,{style:Gr.gridSecondText,children:r.docId})}),Object(J.jsxs)(p.default,{style:Gr.gridThird,children:[Object(J.jsx)(p.default,{style:Gr.gridThirdLeft}),Object(J.jsx)(p.default,{style:Gr.gridThirdRight,children:Object(J.jsxs)(Z.default,{style:Gr.gridThirdRightText,children:["RECEIPTSX"===l&&oe()(r.createDate).format("YYYY-MM-DD "),oe()(r.createDate).format("HH:mm")]})})]})]})}})]}),Object(J.jsx)(p.default,{style:Gr.gap})]})})]}),Object(J.jsxs)(p.default,{style:Gr.rightContainer,children:[Object(J.jsx)(p.default,{style:Gr.displayContainer,children:Object(J.jsxs)(p.default,{style:[Gr.displayWrapper,{paddingLeft:5}],children:[Object(J.jsx)(p.default,{style:Gr.gap}),"RECEIPTS"===l||"RECEIPTSX"===l?Object(J.jsxs)(p.default,{style:Gr.gridContainer,children:[Object(J.jsxs)(p.default,{style:Gr.overlayHeader,children:[Object(J.jsx)(Z.default,{style:Gr.overlayTitleText,children:c&&c.tableId||" "}),Object(J.jsx)(Z.default,{style:Gr.overlaySubtitleText,children:c?c.docId:" "})]}),Object(J.jsxs)(p.default,{style:Gr.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:Gr.titleFirstContainer,children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"Qty"})}),Object(J.jsx)(p.default,{style:Gr.titleSecondContainer,children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"Desc"})}),Object(J.jsx)(p.default,{style:Gr.titleThirdContainer,children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"Price"})}),Object(J.jsx)(p.default,{style:Gr.titleFourthContainer,children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"Total"})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},data:o,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var t=e.item;return Object(J.jsxs)(V.default,{style:[Gr.tableItemContainer],children:[Object(J.jsx)(p.default,{style:Gr.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:Gr.tableItemText,children:t.orderQty})}),Object(J.jsxs)(V.default,{style:Gr.tableItemSecondContainer,children:[Object(J.jsxs)(Z.default,{style:Gr.tableItemText,children:[t.refRecKey?"- ":null,t.menuName]}),t.menuMod?Object(J.jsx)(Z.default,{style:Gr.tableItemModText,children:t.menuMod}):null]}),Object(J.jsx)(p.default,{style:Gr.tableItemThirdContainer,children:Object(J.jsx)(Z.default,{style:Gr.tableItemText,children:t.netPrice&&t.netPrice.toFixed(2)})}),Object(J.jsx)(p.default,{style:Gr.tableItemFourthContainer,children:Object(J.jsx)(Z.default,{style:Gr.tableItemText,children:t.lineTotal&&t.lineTotal.toFixed(2)})})]})}}),Object(J.jsxs)(p.default,{style:Gr.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:Gr.titleFirstContainer,children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"No."})}),Object(J.jsx)(p.default,{style:[Gr.titleSecondContainer,{flex:10}],children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"PM ID"})}),Object(J.jsx)(p.default,{style:Gr.titleFourthContainer,children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"Amount"})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},data:u,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var t=e.item,r=e.index;return Object(J.jsxs)(V.default,{style:[Gr.tableItemContainer],children:[Object(J.jsx)(p.default,{style:Gr.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:Gr.tableItemText,children:r+1})}),Object(J.jsxs)(V.default,{style:[Gr.tableItemSecondContainer,{flex:10}],children:[Object(J.jsx)(Z.default,{style:Gr.tableItemText,children:t.pmId}),t.payRef&&Object(J.jsx)(Z.default,{style:[Gr.tableItemText,{color:re.reserved}],children:t.payRef})]}),Object(J.jsx)(p.default,{style:Gr.tableItemFourthContainer,children:Object(J.jsx)(Z.default,{style:Gr.tableItemText,children:t.payMoney&&"$"+t.payMoney.toFixed(2)})})]})}}),Object(J.jsxs)(p.default,{style:{flex:1},children:[Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"SUBTOTAL"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:f.beforeDisc&&f.beforeDisc.toFixed(2)})})]}),Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"DISCOUNT"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:f.totalDisc&&f.totalDisc.toFixed(2)})})]}),Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"SVC CHARGE"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:f.serviceCharge&&f.serviceCharge.toFixed(2)})})]}),Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:[Gr.titleText,{color:"white"}],children:"TOTAL"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:[Gr.titleText,{color:"white"}],children:f.grandTotal&&f.grandTotal.toFixed(2)})})]})]})]}):Object(J.jsxs)(p.default,{style:Gr.gridContainer,children:[Object(J.jsxs)(V.default,{style:Gr.overlayHeader,onPress:function(){return e.setState({selectedMaster:"",details:[]})},children:[Object(J.jsx)(Z.default,{style:Gr.overlayTitleText,children:c&&c.tableId||" "}),Object(J.jsx)(Z.default,{style:Gr.overlaySubtitleText,children:c?c.docId:" "})]}),"DAYCLOSES"===l?Object(J.jsxs)(p.default,{style:Gr.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:[Gr.titleSecondContainer,{flex:3}],children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"Payment Method"})}),Object(J.jsx)(p.default,{style:[Gr.titleFourthContainer,{flex:1}],children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"Amount"})})]}):Object(J.jsxs)(p.default,{style:Gr.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:Gr.titleFirstContainer,children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"Qty"})}),Object(J.jsx)(p.default,{style:Gr.titleSecondContainer,children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"Desc"})}),Object(J.jsx)(p.default,{style:Gr.titleThirdContainer,children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"KOTS"!==l&&"Price"})}),Object(J.jsx)(p.default,{style:Gr.titleFourthContainer,children:Object(J.jsx)(Z.default,{style:Gr.titleText,children:"KOTS"!==l&&"Total"})})]}),"DAYCLOSES"===l?Object(J.jsx)(Fe.default,{style:{flex:1},data:o,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var t=e.item;return Object(J.jsxs)(V.default,{style:[Gr.tableItemContainer],children:[Object(J.jsx)(V.default,{style:Gr.tableItemSecondContainer,children:Object(J.jsx)(Z.default,{style:Gr.tableItemText,children:t.pmId})}),Object(J.jsx)(p.default,{style:Gr.tableItemFourthContainer,children:Object(J.jsxs)(Z.default,{style:Gr.tableItemText,children:["$",t.systemAmt&&t.systemAmt.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]})}}):Object(J.jsx)(Fe.default,{style:{flex:1},data:o,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var t=e.item;return Object(J.jsxs)(V.default,{style:[Gr.tableItemContainer],children:[Object(J.jsx)(p.default,{style:Gr.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:Gr.tableItemText,children:t.orderQty})}),Object(J.jsxs)(V.default,{style:Gr.tableItemSecondContainer,children:[Object(J.jsxs)(Z.default,{style:Gr.tableItemText,children:[t.refRecKey?"- ":null,t.menuName]}),t.menuMod?Object(J.jsx)(Z.default,{style:Gr.tableItemModText,children:t.menuMod}):null]}),Object(J.jsx)(p.default,{style:Gr.tableItemThirdContainer,children:Object(J.jsxs)(Z.default,{style:Gr.tableItemText,children:["KOTS"!==l&&"$",t.netPrice&&t.netPrice.toFixed(2)]})}),Object(J.jsx)(p.default,{style:Gr.tableItemFourthContainer,children:Object(J.jsxs)(Z.default,{style:Gr.tableItemText,children:["KOTS"!==l&&"$",t.lineTotal&&t.lineTotal.toFixed(2)]})})]})}})]}),Object(J.jsx)(p.default,{style:Gr.gap})]})}),Object(J.jsx)(p.default,{style:Gr.navigateContainer,children:Object(J.jsx)(p.default,{style:Gr.navigateWrapper,children:Object(J.jsxs)(V.default,{style:[Gr.button,!c&&{opacity:.2}],onPress:function(){return e.handleReprint()},disabled:!c,children:[Object(J.jsx)(M.default,{name:"printer",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Gr.buttonText,children:S.a.get("reprint")})]})})})]})]})}}]),r}(b.Component),Gr=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1,flexDirection:"row"},rightContainer:{flex:1,flexDirection:"row"},displayContainer:{flex:3,backgroundColor:re.grey1},displayWrapper:{flex:1},gridContainer:{flex:1,backgroundColor:re.grey3,borderRadius:5,flexDirection:"column",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center",overflow:"hidden"},searchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,margin:5,marginTop:10,marginBottom:0,flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},searchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},searchBoxInfoLeft:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoRight:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},grid:{margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},gridFirst:{flexDirection:"row"},gridSecond:{marginVertical:5},gridThird:{flexDirection:"row"},gridFirstLeft:{flex:1},gridFirstRight:{flex:1,alignItems:"flex-end"},gridThirdLeft:{flex:1},gridThirdRight:{flex:1,alignItems:"flex-end"},gridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridFirstRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},gridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},navigateContainer:{flex:1,backgroundColor:re.grey1,flexDirection:"column"},navigateWrapper:{flex:1,paddingHorizontal:10,paddingTop:10},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},selectionContainer:{marginTop:10},selection:{backgroundColor:re.grey3,borderRadius:5,alignItems:"center",justifyContent:"center",height:70},selectionText:{fontFamily:"varela-round",color:"white",fontSize:12,textAlign:"center"},gap:{padding:5},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},tableItemFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:re.grey3},titleSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},titleThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},titleFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleText:{fontFamily:"varela-round",color:re.grey5},overlayHeader:{height:50,marginVertical:5,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"}});function Hr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Yr=function(e){d()(r,e);var t=Hr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,masters:e.route.params.masters,settings:e.route.params.masters.settings,selectedTable:e.route.params.selectedTable,tableItems:e.route.params.tableItems,selectedTableItems:[],arrangedItems:e.route.params.tableItems.filter((function(e){return"N"===e.confirmFlg})),overlayProcedureMessageVisible:!1},n.handleSelectTableItem=n.handleSelectTableItem.bind(B()(n)),n.handleReset=n.handleReset.bind(B()(n)),n.handleAddLineBreak=n.handleAddLineBreak.bind(B()(n)),n.handleRemoveLineBreak=n.handleRemoveLineBreak.bind(B()(n)),n.handleResequence=n.handleResequence.bind(B()(n)),n.handleShiftTop=n.handleShiftTop.bind(B()(n)),n.handleShiftUp=n.handleShiftUp.bind(B()(n)),n.handleShiftDown=n.handleShiftDown.bind(B()(n)),n.handleShiftBottom=n.handleShiftBottom.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n}return s()(r,[{key:"handleSelectTableItem",value:function(e){console.log("menu selected",e);var t=this.state,r=(t.selectedTableItems,t.arrangedItems,t.tableItems),n=[];n.push(e);var l=[];l=r.filter((function(t){return t.refRecKey===e.recKey})),console.log("comboItems",l),l.forEach((function(e){return n.push(e)})),this.setState({selectedTableItems:n})}},{key:"handleReset",value:function(){this.setState({arrangedItems:this.state.tableItems.filter((function(e){return"N"===e.confirmFlg})),selectedTableItems:[]})}},{key:"handleAddLineBreak",value:function(){var e=this.state,t=e.arrangedItems,r=e.selectedTableItems;if(0!==r.length){var n=t,l=n.indexOf(n.find((function(e){return e.recKey===r[0].recKey})));n[l].lineBreak="Y",this.setState({arrangedItems:n})}}},{key:"handleRemoveLineBreak",value:function(){var e=this.state,t=e.arrangedItems,r=e.selectedTableItems;if(0!==r.length){var n=t,l=n.indexOf(n.find((function(e){return e.recKey===r[0].recKey})));n[l].lineBreak="N",this.setState({arrangedItems:n})}}},{key:"handleShiftTop",value:function(){var e,t=this,r=this.state,n=r.selectedTableItems,l=r.arrangedItems;n.forEach((function(e){l=l.filter((function(t){return t.recKey!==e.recKey}))})),(e=l).unshift.apply(e,w()(n)),this.setState({arrangedItems:l},(function(){return t.scrollViewRef.scrollToOffset({animated:!0,offset:0})}))}},{key:"handleShiftUp",value:function(){var e,t=this.state,r=t.selectedTableItems,n=t.arrangedItems,l=n,a=n.indexOf(n.find((function(e){return e.recKey===r[0].recKey})));if(0!==a){r.forEach((function(e){l=l.filter((function(t){return t.recKey!==e.recKey}))}));var o=a-1;n[o].refRecKey&&(o=n.indexOf(n.find((function(e){return e.recKey===n[a-1].refRecKey})))),(e=l).splice.apply(e,[o,0].concat(w()(r))),this.setState({arrangedItems:l})}}},{key:"handleShiftDown",value:function(){var e,t=this.state,r=t.selectedTableItems,n=t.arrangedItems,l=n,a=n.indexOf(n.find((function(e){return e.recKey===r[0].recKey})));if(a!==n.length-r.length){r.forEach((function(e){l=l.filter((function(t){return t.recKey!==e.recKey}))}));var o=a+1;if(l.some((function(e){return e.refRecKey===l[a].recKey}))){var i=n.filter((function(e){return e.refRecKey===l[a].recKey})).length;console.log("skip",i),o+=i}(e=l).splice.apply(e,[o,0].concat(w()(r))),this.setState({arrangedItems:l})}}},{key:"handleShiftBottom",value:function(){var e,t=this,r=this.state,n=r.selectedTableItems,l=r.arrangedItems;n.forEach((function(e){l=l.filter((function(t){return t.recKey!==e.recKey}))})),(e=l).push.apply(e,w()(n)),this.setState({arrangedItems:l},(function(){return t.scrollViewRef.scrollToEnd()}))}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleResequence",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.serviceEntry,l=r.home,a=r.settings,o=r.selectedTable,i=r.tableItems,s=r.arrangedItems,c=i.filter((function(e){return"Y"===e.confirmFlg})).length;console.log("skip",c);var d=n+"api/tables/"+o.recKey+"/resequence",u=s.map((function(e,t){return{opentableItemRecKey:e.recKey,lineNo:e.lineNo,newLineNo:t+1+c,lineBreak:e.lineBreak}})),f={userId:l.userId,opentableRecKey:o.recKey,itemPayloads:u};fetch(d,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(f)}).then((function(e){return e.json()})).then((function(r){var i;console.log("post resequence successful",r),"Y"===(null==(i=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(n,"Resequence Items",l.userName,r.message,o.tableId,"",""),r.message?e.setState({overlayProcedureMessageVisible:r.message.toUpperCase()}):t.goBack()}))}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.selectedTable,l=(r.tableItems,r.arrangedItems),a=r.selectedTableItems,o=r.overlayProcedureMessageVisible;return console.log("in resequence",a,l),Object(J.jsxs)(p.default,{style:Wr.container,children:[o&&Object(J.jsx)(se,{text:o,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsx)(p.default,{style:Wr.containerFirst,children:Object(J.jsxs)(je.default,{style:{flex:1},alwaysBounceVertical:!1,showsVerticalScrollIndicator:!1,children:[Object(J.jsxs)(V.default,{style:Wr.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Wr.buttonText,children:S.a.get("back")})]}),Object(J.jsxs)(V.default,{style:Wr.button,onPress:function(){return e.handleReset()},children:[Object(J.jsx)(M.default,{name:"reload1",size:36,color:"white"}),Object(J.jsx)(Z.default,{style:Wr.buttonText,children:"Reset"})]}),a[0]?"Y"===a[0].lineBreak?Object(J.jsxs)(V.default,{style:Wr.button,onPress:function(){return e.handleRemoveLineBreak()},children:[Object(J.jsx)(M.default,{name:"minus",size:36,color:"white"}),Object(J.jsx)(Z.default,{style:Wr.buttonText,children:"Remove Break"})]}):Object(J.jsxs)(V.default,{style:Wr.button,onPress:function(){return e.handleAddLineBreak()},children:[Object(J.jsx)(M.default,{name:"minus",size:36,color:"white"}),Object(J.jsx)(Z.default,{style:Wr.buttonText,children:"Add Break"})]}):Object(J.jsxs)(p.default,{style:[Wr.button,{opacity:.2}],children:[Object(J.jsx)(M.default,{name:"minus",size:36,color:"white"}),Object(J.jsx)(Z.default,{style:Wr.buttonText,children:"Add Break"})]}),Object(J.jsxs)(V.default,{style:Wr.button,onPress:function(){return e.handleResequence()},children:[Object(J.jsx)(M.default,{name:"bars",size:36,color:re.reserved}),Object(J.jsx)(Z.default,{style:[Wr.buttonText,{color:re.reserved}],children:"Confirm"})]})]})}),Object(J.jsxs)(p.default,{style:Wr.containerSecond,children:[Object(J.jsxs)(p.default,{style:Wr.overlayHeader,children:[Object(J.jsxs)(Z.default,{style:Wr.overlayTitleText,children:[S.a.get("table")," ",n.tableId]}),Object(J.jsx)(Z.default,{style:Wr.overlaySubtitleText,children:S.a.get("resequence")})]}),Object(J.jsx)(Fe.default,{style:{flex:1},ref:function(t){return e.scrollViewRef=t},showsVerticalScrollIndicator:!1,data:l,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;t.index;return Object(J.jsxs)(p.default,{children:["Y"===r.lineBreak&&Object(J.jsx)(p.default,{style:Wr.lineBreakContainer,children:Object(J.jsx)(Z.default,{style:[Wr.tableItemText,{color:re.paid}],children:"- Line Break -"})}),Object(J.jsxs)(V.default,{disabled:!!r.refRecKey,style:[Wr.tableItemContainer,a.some((function(e){return e.recKey===r.recKey}))&&{backgroundColor:re.occupied},r.refRecKey&&{opacity:.2}],onPress:function(){return e.handleSelectTableItem(r)},children:[Object(J.jsx)(p.default,{style:Wr.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:Wr.tableItemText,children:r.orderQty})}),Object(J.jsxs)(p.default,{style:Wr.tableItemSecondContainer,children:[Object(J.jsxs)(Z.default,{style:Wr.tableItemText,children:[r.refRecKey&&"- ",r.menuName]}),r.menuMod&&Object(J.jsx)(Z.default,{style:Wr.tableItemModText,children:r.menuMod})]}),Object(J.jsx)(p.default,{style:Wr.tableItemThirdContainer,children:Object(J.jsx)(Z.default,{style:Wr.tableItemText})})]})]})}})]}),Object(J.jsx)(p.default,{style:Wr.containerThird,children:Object(J.jsxs)(je.default,{style:{flex:1},alwaysBounceVertical:!1,showsVerticalScrollIndicator:!1,children:[Object(J.jsxs)(V.default,{style:[Wr.button,0!==a.length?null:{opacity:.2}],disabled:0===a.length,onPress:function(){return e.handleShiftTop()},children:[Object(J.jsx)(M.default,{name:"arrowup",size:36,color:"white"}),Object(J.jsx)(Z.default,{style:Wr.buttonText,children:"TOP"})]}),Object(J.jsxs)(V.default,{style:[Wr.button,0!==a.length?null:{opacity:.2}],disabled:0===a.length,onPress:function(){return e.handleShiftUp()},children:[Object(J.jsx)(M.default,{name:"up",size:36,color:"white"}),Object(J.jsx)(Z.default,{style:Wr.buttonText,children:"SHIFT"})]}),Object(J.jsxs)(V.default,{style:[Wr.button,0!==a.length?null:{opacity:.2}],disabled:0===a.length,onPress:function(){return e.handleShiftDown()},children:[Object(J.jsx)(M.default,{name:"down",size:36,color:"white"}),Object(J.jsx)(Z.default,{style:Wr.buttonText,children:"SHIFT"})]}),Object(J.jsxs)(V.default,{style:[Wr.button,0!==a.length?null:{opacity:.2}],disabled:0===a.length,onPress:function(){return e.handleShiftBottom()},children:[Object(J.jsx)(M.default,{name:"arrowdown",size:36,color:"white"}),Object(J.jsx)(Z.default,{style:Wr.buttonText,children:"BOTTOM"})]})]})})]})}}]),r}(b.Component),Wr=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},containerFirst:{flex:1,flexDirection:"row",padding:10},containerSecond:{flex:6,marginVertical:10,borderRadius:5,backgroundColor:re.grey3},containerThird:{flex:1,flexDirection:"row",padding:10},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:1,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{alignItems:"center",justifyContent:"center",width:50},lineBreakContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,alignItems:"center",justifyContent:"center"}});function qr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Qr=function(e){d()(r,e);var t=qr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,tableItems:e.route.params.tableItems,selectedTable:e.route.params.selectedTable,privileges:e.route.params.masters.privileges,settings:e.route.params.masters.settings,tables:[],availableTables:[],selectedTargetTable:"",selectedTableItems:[],searchText:"",overlayRequestAccessVisible:!1,overlayProcedureMessageVisible:!1},n.handleSelectTargetTable=n.handleSelectTargetTable.bind(B()(n)),n.handlePressSelectAll=n.handlePressSelectAll.bind(B()(n)),n.handleSelectTableItem=n.handleSelectTableItem.bind(B()(n)),n.handleSearchText=n.handleSearchText.bind(B()(n)),n.handleUpdateFromRequestAccess=n.handleUpdateFromRequestAccess.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n.handleSubmit=n.handleSubmit.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=t.selectedTable,a=r+"api/tables",o=new URLSearchParams;o.append("shopId",n.shopId),o.append("statusFlg","C"),fetch(a+="?"+o,{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log("tables",t),e.setState({tables:t.filter((function(e){return e.tableId!==l.tableId})),availableTables:t.filter((function(e){return e.tableId!==l.tableId}))})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"generateTextForSelectAll",value:function(){return 0===this.state.selectedTableItems.length?"SELECT ALL":"DESELECT ALL"}},{key:"handlePressSelectAll",value:function(){var e=this.state,t=e.selectedTableItems,r=e.tableItems;0===t.length?this.setState({selectedTableItems:r}):this.setState({selectedTableItems:[]})}},{key:"handleSelectTargetTable",value:function(e){this.setState({selectedTargetTable:e})}},{key:"handleSelectTableItem",value:function(e){console.log("tableitem selected",e);var t=this.state,r=t.selectedTableItems,n=t.tableItems,l=r;if(r.some((function(t){return t.recKey===e.recKey})))l=l.filter((function(t){return t.recKey!==e.recKey&&t.refRecKey!==e.recKey}));else{l.push(e);var a=[];a=n.filter((function(t){return t.refRecKey===e.recKey})),console.log("comboItems",a),a.forEach((function(e){return l.push(e)}))}this.setState({selectedTableItems:l})}},{key:"handleSubmit",value:function(e){var t=this,r=this.props.navigation,n=this.state,l=n.selectedTable,a=n.selectedTableItems,o=n.selectedTargetTable,i=n.home,s=n.serviceEntry,c=n.privileges,d=n.settings;if(0!==a.length&&o)if("Y"===i.adminFlg||c.some((function(e){return"TRANSFERITEMS"===e.priId}))||e){var u=a.filter((function(e){return!e.refRecKey})).map((function(e){return e.recKey})).reduce((function(e,t){return e+t+","}),"");console.log("converted",u);var f=s+"api/tables/"+l.recKey+"/transfer-items",h={userId:i.userId,opentableRecKeyFrom:l.recKey,opentableRecKeyTo:o.recKey,opentableItemRecKeys:u,superUserId:e};fetch(f,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(h)}).then((function(e){return e.json()})).then((function(e){var n;console.log("post transfer-items successful",e),"Y"===(null==(n=d.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:n.setString)&&te(s,"Transfer Items",i.userName,e.message,l.tableId,"",o.tableId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):r.goBack()}))}else this.setState({overlayRequestAccessVisible:!0})}},{key:"handleSearchText",value:function(e){var t=this.state,r=t.tables,n=(t.availableTables,t.searchText,[]);this.setState({searchText:e});var l=e.toUpperCase();console.log("caseText",l),n=r,e?(n=n.filter((function(e){return e.tableId.toUpperCase().includes(l)||e.sectionId.toUpperCase().includes(l)})),this.setState({availableTables:n})):this.setState({availableTables:n})}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromRequestAccess",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.settings,o=r.selectedTable;r.selectedTargetTable;if(e){var i=l+"api/super-user",s={locId:n.locId,accessCode:e,priId:"TRANSFERITEMS"};fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post super-user successful",e),"Y"===(null==(r=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(l,"Request Access TRANSFERITEMS",n.userName,e.message,o.tableId,"",e.userId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(t.setState({overlayRequestAccessVisible:!1}),t.handleSubmit(e.userId))})).catch((function(e){console.log(e),t.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.tableItems,l=r.home,a=r.selectedTargetTable,o=r.availableTables,i=r.searchText,s=r.selectedTableItems,c=r.overlayRequestAccessVisible,d=r.overlayProcedureMessageVisible;return console.log("in transfer"),Object(J.jsxs)(p.default,{style:Zr.container,children:[c&&Object(J.jsx)(Ye,{home:l,requestedPrivilege:"TRANSFERITEM",handleUpdateFromRequestAccess:this.handleUpdateFromRequestAccess}),d&&Object(J.jsx)(se,{text:d,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsxs)(p.default,{style:Zr.leftContainer,children:[Object(J.jsx)(p.default,{style:Zr.navigateContainer,children:Object(J.jsx)(p.default,{style:Zr.navigateWrapper,children:Object(J.jsxs)(V.default,{style:Zr.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Zr.buttonText,children:S.a.get("back")})]})})}),Object(J.jsx)(p.default,{style:Zr.displayContainer,children:Object(J.jsxs)(p.default,{style:[Zr.displayWrapper,{paddingRight:5}],children:[Object(J.jsx)(p.default,{style:Zr.gap}),Object(J.jsxs)(p.default,{style:Zr.gridContainer,children:[Object(J.jsx)(p.default,{style:[Zr.searchBox,{backgroundColor:re.grey3,alignItems:"center",justifyContent:"center"}],children:Object(J.jsx)(V.default,{onPress:function(){return e.handlePressSelectAll()},children:Object(J.jsx)(Z.default,{style:Zr.titleText,children:this.generateTextForSelectAll()})})}),Object(J.jsxs)(p.default,{style:Zr.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:Zr.titleFirstContainer,children:Object(J.jsx)(Z.default,{style:Zr.titleText,children:"Qty"})}),Object(J.jsx)(p.default,{style:Zr.titleSecondContainer,children:Object(J.jsx)(Z.default,{style:Zr.titleText,children:"Desc"})}),Object(J.jsx)(p.default,{style:Zr.titleThirdContainer,children:Object(J.jsx)(Z.default,{style:Zr.titleText,children:"Price"})}),Object(J.jsx)(p.default,{style:Zr.titleFourthContainer,children:Object(J.jsx)(Z.default,{style:Zr.titleText,children:"Total"})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},showsVerticalScrollIndicator:!1,data:n,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[Zr.tableItemContainer,s.some((function(e){return e.recKey===r.recKey}))&&{backgroundColor:re.occupied},r.refRecKey&&{opacity:.2}],onPress:function(){return e.handleSelectTableItem(r)},disabled:!!r.refRecKey,children:[Object(J.jsx)(p.default,{style:Zr.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:Zr.tableItemText,children:r.orderQty})}),Object(J.jsxs)(p.default,{style:Zr.tableItemSecondContainer,children:[Object(J.jsxs)(Z.default,{style:Zr.tableItemText,children:[r.refRecKey?"- ":null,r.menuName]}),r.menuMod?Object(J.jsx)(Z.default,{style:Zr.tableItemModText,children:r.menuMod}):null]}),Object(J.jsx)(p.default,{style:Zr.tableItemThirdContainer,children:Object(J.jsx)(Z.default,{style:Zr.tableItemText,children:r.netPrice&&r.netPrice.toFixed(2)})}),Object(J.jsx)(p.default,{style:Zr.tableItemFourthContainer,children:Object(J.jsx)(Z.default,{style:Zr.tableItemText,children:r.lineTotal&&r.lineTotal.toFixed(2)})})]})}})]}),Object(J.jsx)(p.default,{style:Zr.gap})]})})]}),Object(J.jsxs)(p.default,{style:Zr.rightContainer,children:[Object(J.jsx)(p.default,{style:Zr.displayContainer,children:Object(J.jsxs)(p.default,{style:[Zr.displayWrapper,{paddingLeft:5}],children:[Object(J.jsx)(p.default,{style:Zr.gap}),Object(J.jsxs)(p.default,{style:Zr.gridContainer,children:[Object(J.jsxs)(p.default,{style:Zr.searchBox,children:[Object(J.jsx)(N.default,{style:Zr.searchBoxInputValue,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",value:i,onChangeText:function(t){return e.handleSearchText(t)}}),Object(J.jsx)(V.default,{style:Zr.searchBoxButton,onPress:function(){e.setState({searchText:""},(function(){return e.handleSearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]}),Object(J.jsx)(p.default,{style:[Zr.searchBoxInfo,{justifyContent:"center"}],children:Object(J.jsxs)(Z.default,{style:Zr.searchBoxInfoText,children:[o.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:{flex:1},showsVerticalScrollIndicator:!1,data:o,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[Zr.grid,a.tableId===r.tableId&&{backgroundColor:re.occupied}],onPress:function(){return e.handleSelectTargetTable(r)},children:[Object(J.jsxs)(p.default,{style:Zr.gridFirst,children:[Object(J.jsx)(p.default,{style:Zr.gridFirstLeft,children:Object(J.jsx)(Z.default,{style:Zr.gridFirstLeftText,children:r.sectionId})}),Object(J.jsx)(p.default,{style:Zr.gridFirstRight,children:Object(J.jsx)(Z.default,{style:[Zr.gridFirstRightText,a.tableId===r.tableId?{color:"white"}:{color:re.occupied}],children:"OCCUPIED"})})]}),Object(J.jsx)(p.default,{style:Zr.gridSecond,children:Object(J.jsx)(Z.default,{style:Zr.gridSecondText,children:r.tableId})}),Object(J.jsxs)(p.default,{style:Zr.gridThird,children:[Object(J.jsx)(p.default,{style:Zr.gridThirdLeft}),Object(J.jsx)(p.default,{style:Zr.gridThirdRight})]})]})}})]}),Object(J.jsx)(p.default,{style:Zr.gap})]})}),Object(J.jsx)(p.default,{style:Zr.navigateContainer,children:Object(J.jsx)(p.default,{style:Zr.navigateWrapper,children:Object(J.jsxs)(V.default,{style:[Zr.button,(!a||0===s.length)&&{opacity:.2}],onPress:function(){return e.handleSubmit()},disabled:!a||0===s.length,children:[Object(J.jsx)(M.default,{name:"export",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Zr.buttonText,children:S.a.get("transfer")})]})})})]})]})}}]),r}(b.Component),Zr=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1,flexDirection:"row"},rightContainer:{flex:1,flexDirection:"row"},displayContainer:{flex:3,backgroundColor:re.grey1},displayWrapper:{flex:1},gridContainer:{flex:1,backgroundColor:re.grey3,borderRadius:5,flexDirection:"column",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center",overflow:"hidden"},searchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,margin:5,marginTop:10,marginBottom:0,flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},searchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},searchBoxInfoLeft:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoRight:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},grid:{margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},gridFirst:{flexDirection:"row"},gridSecond:{marginVertical:5},gridThird:{flexDirection:"row"},gridFirstLeft:{flex:1},gridFirstRight:{flex:1,alignItems:"flex-end"},gridThirdLeft:{flex:1},gridThirdRight:{flex:1,alignItems:"flex-end"},gridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridFirstRightText:{color:re.reserved,fontSize:12,fontFamily:"varela-round"},gridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},gridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},navigateContainer:{flex:1,backgroundColor:re.grey1,flexDirection:"column"},navigateWrapper:{flex:1,paddingHorizontal:10,paddingTop:10},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},selectionContainer:{marginTop:10},selection:{backgroundColor:re.grey3,borderRadius:5,alignItems:"center",justifyContent:"center",paddingVertical:30},selectionText:{fontFamily:"varela-round",color:"white",fontSize:12,textAlign:"center"},gap:{padding:5},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},tableItemFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:re.grey3},titleSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},titleThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},titleFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleText:{fontFamily:"varela-round",color:re.grey5}});function Jr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Xr=function(e){d()(r,e);var t=Jr(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={overlaySearchText:"",returns:e.returns,availableReturns:e.returns,selectedReturn:"",remarks:""},n.handleOverlaySearchText=n.handleOverlaySearchText.bind(B()(n)),n.handleSubmit=n.handleSubmit.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"handleOverlaySearchText",value:function(e){var t=this.state,r=t.returns,n=(t.availableReturns,[]);this.setState({overlaySearchText:e});var l=e.toUpperCase();console.log("caseText",l),console.log("available",this.state.availableReturns),n=r,e?(n=n.filter((function(e){return e.returnId.toUpperCase().includes(l)||e.name.toUpperCase().includes(l)})),this.setState({availableReturns:n})):this.setState({availableReturns:n})}},{key:"handleSubmit",value:function(e){var t=this.state.remarks,r=e;r.remarks=t,this.props.handleUpdateFromVoidReceipt(r)}},{key:"render",value:function(){var e=this,t=this.state,r=t.overlaySearchText,n=t.availableReturns,l=t.remarks;return console.log("in overlayvoidreceipt, state",this.state),Object(J.jsx)(p.default,{style:$r.overlay,children:Object(J.jsxs)(p.default,{style:$r.overlayContent,children:[Object(J.jsxs)(p.default,{style:$r.overlayHeader,children:[Object(J.jsx)(Z.default,{style:$r.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:$r.overlaySubtitleText,children:"Void Receipt"})]}),Object(J.jsx)(p.default,{style:[$r.searchBoxWrapper,{marginBottom:10}],children:Object(J.jsx)(p.default,{style:$r.overlaySearchBox,children:Object(J.jsx)(N.default,{style:$r.overlaySearchBoxInput,placeholder:"ENTER REMARKS",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.setState({remarks:t})},value:l})})}),Object(J.jsxs)(p.default,{style:$r.searchBoxWrapper,children:[Object(J.jsx)(V.default,{style:$r.overlayBackButton,onPress:function(){return e.props.handleUpdateFromVoidReceipt("")},children:Object(J.jsx)(M.default,{name:"close",size:24,color:"white"})}),Object(J.jsxs)(p.default,{style:$r.overlaySearchBox,children:[Object(J.jsx)(N.default,{style:$r.overlaySearchBoxInput,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.handleOverlaySearchText(t)},value:r}),Object(J.jsx)(V.default,{style:$r.overlaySearchBoxButton,onPress:function(){e.setState({overlaySearchText:""},(function(){return e.handleOverlaySearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})]}),Object(J.jsx)(p.default,{style:$r.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:$r.searchBoxInfoText,children:[n.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],data:n,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[$r.overlayGrid,r.dummy?$r.hidden:null],onPress:function(){return e.handleSubmit(r)},children:[Object(J.jsxs)(p.default,{style:$r.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:$r.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:$r.overlayGridFirstLeftText,children:r.returnId})}),Object(J.jsx)(p.default,{style:$r.overlayGridFirstRight,children:Object(J.jsx)(Z.default,{style:$r.overlayGridFirstRightText})})]}),Object(J.jsx)(p.default,{style:$r.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:$r.overlayGridSecondText,children:r.name})}),Object(J.jsxs)(p.default,{style:$r.overlayGridThird,children:[Object(J.jsx)(p.default,{style:$r.overlayGridThirdLeft}),Object(J.jsx)(p.default,{style:$r.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:$r.overlayGridThirdRightText})})]})]})}})]})})}}]),r}(b.Component),$r=m.default.create({overlay:{backgroundColor:"rgba(0,0,0,0.9)",position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{width:"40%",height:"80%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center"},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,marginHorizontal:5,flexDirection:"row",flex:1},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},overlayBackButton:{width:50,height:50,borderRadius:50,marginHorizontal:5,alignItems:"center",justifyContent:"center"},overlayGrid:{flex:1,margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},overlayGridFirst:{flexDirection:"row"},overlayGridSecond:{marginVertical:5},overlayGridThird:{flexDirection:"row"},overlayGridFirstLeft:{flex:1},overlayGridFirstRight:{flex:1,alignItems:"flex-end"},overlayGridThirdLeft:{flex:1},overlayGridThirdRight:{flex:1,alignItems:"flex-end"},overlayGridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridFirstRightText:{color:re.vacant,fontSize:12,fontFamily:"varela-round"},overlayGridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},overlayGridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5}});function _r(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var en=function(e){d()(r,e);var t=_r(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,settings:e.route.params.masters.settings,masters:[],availableMasters:[],searches:[],selectedMaster:"",details:[],headers:[],searchText:"",selectedDateString:oe()(new Date).format("YYYY-MM-DD"),overlayVoidReceiptVisible:!1,overlayEnterDateVisible:!1,overlayChoosePrinterVisible:!1,overlayRequestAccessVisible:!1,overlayProcedureMessageVisible:!1,loading:!1,mode:"VOID",reopenResponse:""},n.handleSelectMaster=n.handleSelectMaster.bind(B()(n)),n.handleVoid=n.handleVoid.bind(B()(n)),n.handlePressVoid=n.handlePressVoid.bind(B()(n)),n.handlePressReopen=n.handlePressReopen.bind(B()(n)),n.handleSearchText=n.handleSearchText.bind(B()(n)),n.handlePressDate=n.handlePressDate.bind(B()(n)),n.handleUpdateFromEnterDate=n.handleUpdateFromEnterDate.bind(B()(n)),n.handleUpdateFromVoidReceipt=n.handleUpdateFromVoidReceipt.bind(B()(n)),n.handleUpdateFromChoosePrinter=n.handleUpdateFromChoosePrinter.bind(B()(n)),n.handleUpdateFromRequestAccess=n.handleUpdateFromRequestAccess.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n.handleUpdateFromAlert=n.handleUpdateFromAlert.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=t.selectedDateString,a=r+"api/receipts",o=new URLSearchParams;o.append("orgId",n.orgId),o.append("shopId",n.shopId),o.append("docDateString",l),fetch(a+="?"+o,{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log("receipts",t),e.setState({masters:t.receiptmas.filter((function(e){return"E"===e.statusFlg})),availableMasters:t.receiptmas.filter((function(e){return"E"===e.statusFlg})),searches:t.receiptpaydtl})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handleSelectMaster",value:function(e){var t=this,r=this.state.serviceEntry;this.setState({selectedMaster:e});var n=r+"api/receipts/"+e.recKey+"/bundle";console.log("item",e),fetch(n,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log("details",e),t.setState({details:e.receiptitems,pays:e.receiptpays,headers:e.receiptmas})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}},{key:"handleSearchText",value:function(e){var t=this.state,r=t.masters,n=(t.availableMasters,t.searchText,t.searches),l=[];this.setState({searchText:e});var a=e.toUpperCase();console.log("caseText",a),l=r,e?(l=l.filter((function(e){var t=n.filter((function(e){return e.payMoney===Number(a)})),r=n.filter((function(e){return e.pmId.toUpperCase().includes(a)}));return e.docId.toUpperCase().includes(a)||e.tableId.toUpperCase().includes(a)||t.some((function(t){return t.docId===e.docId}))||r.some((function(t){return t.docId===e.docId}))})),this.setState({availableMasters:l})):this.setState({availableMasters:l})}},{key:"handlePressDate",value:function(){this.setState({overlayEnterDateVisible:!0})}},{key:"handleUpdateFromEnterDate",value:function(e){var t=this;if(this.setState({overlayEnterDateVisible:!1,selectedMaster:"",headers:"",details:"",pays:""}),e){var r=this.state,n=r.serviceEntry,l=r.home,a=oe()(e).format("YYYY-MM-DD"),o=n+"api/receipts",i=new URLSearchParams;i.append("orgId",l.orgId),i.append("shopId",l.shopId),i.append("docDateString",a),fetch(o+="?"+i,{method:"GET"}).then((function(e){return e.json()})).then((function(r){console.log("receipts",r),r.message?console.log(r.message):t.setState({masters:r.receiptmas.filter((function(e){return"E"===e.statusFlg})),availableMasters:r.receiptmas.filter((function(e){return"E"===e.statusFlg})),searches:r.receiptpaydtl,selectedDateString:oe()(e).format("YYYY-MM-DD")})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}}},{key:"handleUpdateFromChoosePrinter",value:function(e,t){var r=this.state.selectedReturn;this.setState({overlayChoosePrinterVisible:!1,selectedPrinter:e}),e&&this.handleVoid(r,e)}},{key:"handleUpdateFromRequestAccess",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.settings,o=r.requestedPrivilege,i=r.selectedPrinter,s=r.selectedReturn;if(e){var c=l+"api/super-user",d={locId:n.locId,accessCode:e,priId:o};fetch(c,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post super-user successful",e),"Y"===(null==(r=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(l,"Request Access "+o,n.userName,e.message,"","",e.userId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(t.setState({overlayRequestAccessVisible:!1}),t.handleVoid(s,i,e.userId))})).catch((function(e){console.log(e),t.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!1})}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){var t=this.props.navigation;this.state.reopenResponse;this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""}),e&&"handleReopen"===e&&t.goBack()}},{key:"handleUpdateFromVoidReceipt",value:function(e){this.setState({overlayVoidReceiptVisible:!1}),e&&(this.setState({selectedReturn:e}),this.handleVoid(e))}},{key:"handlePressReopen",value:function(){this.setState({mode:"REOPEN"}),this.handleVoid()}},{key:"handlePressVoid",value:function(){this.setState({mode:"VOID"}),this.handleVoid()}},{key:"handleVoid",value:function(e,t,r){var n=this,l=this.state,a=l.serviceEntry,o=l.home,i=l.settings,s=l.selectedMaster,c=l.selectedDateString,d=l.mode;if(s)if(e)if(this.props.route.params.masters.cashierPrinters.length>1&&!t&&!o.defaultPrinter)this.setState({overlayChoosePrinterVisible:!0});else if(r){this.setState({loading:!0});var u="",f="";"REOPEN"===d?(u=a+"api/void-receipt-reopen",f={userId:o.userId,orgId:o.orgId,locId:o.locId,receiptRecKey:s.recKey,returnId:e.returnId,superUserId:r,iomodelId:o.defaultPrinter&&o.defaultPrinter.iomodelId||t&&t.iomodelId,docDateString:c,remarks:e.remarks},console.log("body",f)):(u=a+"api/void-receipt",f={userId:o.userId,orgId:o.orgId,locId:o.locId,receiptRecKey:s.recKey,returnId:e.returnId,superUserId:r,iomodelId:o.defaultPrinter&&o.defaultPrinter.iomodelId||t&&t.iomodelId,docDateString:c,remarks:e.remarks},console.log("body",f)),fetch(u,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(f)}).then((function(e){return e.json()})).then((function(e){var t;console.log("post void-receipt successful",e),"Y"===(null==(t=i.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:t.setString)&&te(a,"REOPEN"===d?"Reopen Receipt":"Void Receipt",o.userName,e.message,"REOPEN"!==d||e.message?"":e.opentable.tableId,"",s.recKey+","+s.tableId),e.message?n.setState({overlayProcedureMessageVisible:e.message.toUpperCase(),loading:!1}):"REOPEN"===d?(n.props.route.params.handleUpdateFromVoid(e),n.setState({overlayAlertInputValue:{title:"ALERT",subtitle:"Procedure Reply",text:"Receipt voided successfully, reopened Table "+e.opentable.tableId,ok:!1,cancel:!1,options:[{text:"Ok",handleText:"handleReopen"}]},overlayAlertVisible:!0,reopenResponse:e,loading:!1})):n.setState({overlayAlertInputValue:{title:"ALERT",subtitle:"Procedure Reply",text:"Receipt voided successfully",ok:!0,cancel:!1,options:[]},overlayAlertVisible:!0,masters:e.receiptmas.filter((function(e){return"E"===e.statusFlg})),availableMasters:e.receiptmas.filter((function(e){return"E"===e.statusFlg})),searches:e.receiptpaydtl,selectedMaster:"",headers:"",details:"",pays:"",loading:!1})})).catch((function(e){console.log(e),n.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!0,requestedPrivilege:"VOIDRECEIPT"});else this.setState({overlayVoidReceiptVisible:!0})}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.home,l=(r.masters,r.availableMasters),a=r.details,o=r.pays,i=r.headers,s=r.searchText,c=r.selectedMaster,d=r.selectedDateString,u=r.overlayEnterDateVisible,f=r.overlayChoosePrinterVisible,h=r.overlayRequestAccessVisible,y=r.overlayProcedureMessageVisible,b=r.overlayVoidReceiptVisible,g=r.overlayAlertVisible,m=r.overlayAlertInputValue,j=r.requestedPrivilege,x=r.loading;return console.log("in reprint"),Object(J.jsxs)(p.default,{style:tn.container,children:[g&&Object(J.jsx)(Ct,{input:m,handleUpdateFromAlert:this.handleUpdateFromAlert}),b&&Object(J.jsx)(Xr,{returns:this.props.route.params.masters.returns,handleUpdateFromVoidReceipt:this.handleUpdateFromVoidReceipt}),f&&Object(J.jsx)(Ot,{printPurpose:"VOID RECEIPT",cashierPrinters:this.props.route.params.masters.cashierPrinters,handleUpdateFromChoosePrinter:this.handleUpdateFromChoosePrinter}),u&&Object(J.jsx)(Ur,{dateString:d,handleUpdateFromEnterDate:this.handleUpdateFromEnterDate}),y&&Object(J.jsx)(se,{text:y,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),h&&Object(J.jsx)(Ye,{home:n,requestedPrivilege:j,handleUpdateFromRequestAccess:this.handleUpdateFromRequestAccess}),Object(J.jsxs)(p.default,{style:tn.leftContainer,children:[Object(J.jsx)(p.default,{style:tn.navigateContainer,children:Object(J.jsx)(p.default,{style:tn.navigateWrapper,children:Object(J.jsxs)(V.default,{style:tn.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:tn.buttonText,children:S.a.get("back")})]})})}),Object(J.jsx)(p.default,{style:tn.displayContainer,children:Object(J.jsxs)(p.default,{style:[tn.displayWrapper,{paddingRight:5}],children:[Object(J.jsx)(p.default,{style:tn.gap}),Object(J.jsxs)(p.default,{style:tn.gridContainer,children:[Object(J.jsxs)(p.default,{style:tn.searchBox,children:[Object(J.jsx)(N.default,{style:tn.searchBoxInputValue,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",value:s,onChangeText:function(t){return e.handleSearchText(t)}}),Object(J.jsx)(V.default,{style:tn.searchBoxButton,onPress:function(){e.setState({searchText:""},(function(){return e.handleSearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]}),Object(J.jsxs)(V.default,{style:tn.searchBoxInfo,onPress:function(){return e.handlePressDate()},children:[Object(J.jsx)(p.default,{style:tn.searchBoxInfoLeft,children:Object(J.jsx)(Z.default,{style:tn.searchBoxInfoText,children:d})}),Object(J.jsx)(p.default,{style:tn.searchBoxInfoRight,children:Object(J.jsxs)(Z.default,{style:tn.searchBoxInfoText,children:[l.length," DOCS"]})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},showsVerticalScrollIndicator:!1,data:l,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[tn.grid,c.recKey===r.recKey&&{backgroundColor:re.occupied}],onPress:function(){return e.handleSelectMaster(r)},children:[Object(J.jsxs)(p.default,{style:tn.gridFirst,children:[Object(J.jsx)(p.default,{style:tn.gridFirstLeft,children:Object(J.jsx)(Z.default,{style:tn.gridFirstLeftText,children:r.tableId})}),Object(J.jsx)(p.default,{style:tn.gridFirstRight,children:Object(J.jsx)(Z.default,{style:tn.gridFirstRightText,children:r.createUserId})})]}),Object(J.jsx)(p.default,{style:tn.gridSecond,children:Object(J.jsx)(Z.default,{style:tn.gridSecondText,children:r.docId})}),Object(J.jsxs)(p.default,{style:tn.gridThird,children:[Object(J.jsx)(p.default,{style:tn.gridThirdLeft}),Object(J.jsx)(p.default,{style:tn.gridThirdRight,children:Object(J.jsx)(Z.default,{style:tn.gridThirdRightText,children:oe()(r.createDate).format("HH:mm")})})]})]})}})]}),Object(J.jsx)(p.default,{style:tn.gap})]})})]}),Object(J.jsxs)(p.default,{style:tn.rightContainer,children:[Object(J.jsx)(p.default,{style:tn.displayContainer,children:Object(J.jsxs)(p.default,{style:[tn.displayWrapper,{paddingLeft:5}],children:[Object(J.jsxs)(p.default,{style:tn.overlayHeader,children:[Object(J.jsx)(Z.default,{style:tn.overlayTitleText,children:c?c.tableId:" "}),Object(J.jsx)(Z.default,{style:tn.overlaySubtitleText,children:c?c.docId:" "})]}),Object(J.jsx)(p.default,{style:tn.gap}),Object(J.jsxs)(p.default,{style:[tn.gridContainer,{flex:3}],children:[Object(J.jsxs)(p.default,{style:tn.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:tn.titleFirstContainer,children:Object(J.jsx)(Z.default,{style:tn.titleText,children:"Qty"})}),Object(J.jsx)(p.default,{style:tn.titleSecondContainer,children:Object(J.jsx)(Z.default,{style:tn.titleText,children:"Desc"})}),Object(J.jsx)(p.default,{style:tn.titleThirdContainer,children:Object(J.jsx)(Z.default,{style:tn.titleText,children:"Price"})}),Object(J.jsx)(p.default,{style:tn.titleFourthContainer,children:Object(J.jsx)(Z.default,{style:tn.titleText,children:"Total"})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},showsVerticalScrollIndicator:!1,data:a,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var t=e.item;return Object(J.jsxs)(V.default,{style:[tn.tableItemContainer],children:[Object(J.jsx)(p.default,{style:tn.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:tn.tableItemText,children:t.orderQty})}),Object(J.jsxs)(V.default,{style:tn.tableItemSecondContainer,children:[Object(J.jsxs)(Z.default,{style:tn.tableItemText,children:[t.refRecKey?"- ":null,t.menuName]}),t.menuMod?Object(J.jsx)(Z.default,{style:tn.tableItemModText,children:t.menuMod}):null]}),Object(J.jsx)(p.default,{style:tn.tableItemThirdContainer,children:Object(J.jsxs)(Z.default,{style:tn.tableItemText,children:["$",t.netPrice&&t.netPrice.toFixed(2)]})}),Object(J.jsx)(p.default,{style:tn.tableItemFourthContainer,children:Object(J.jsxs)(Z.default,{style:tn.tableItemText,children:["$",t.lineTotal&&t.lineTotal.toFixed(2)]})})]})}})]}),Object(J.jsx)(p.default,{style:tn.gap}),Object(J.jsxs)(p.default,{style:tn.gridContainer,children:[Object(J.jsxs)(p.default,{style:tn.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:tn.titleFirstContainer,children:Object(J.jsx)(Z.default,{style:tn.titleText,children:"No."})}),Object(J.jsx)(p.default,{style:[tn.titleSecondContainer,{flex:10}],children:Object(J.jsx)(Z.default,{style:tn.titleText,children:"PM ID"})}),Object(J.jsx)(p.default,{style:tn.titleFourthContainer,children:Object(J.jsx)(Z.default,{style:tn.titleText,children:"Amount"})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},showsVerticalScrollIndicator:!1,data:o,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var t=e.item,r=e.index;return Object(J.jsxs)(V.default,{style:[tn.tableItemContainer],children:[Object(J.jsx)(p.default,{style:tn.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:tn.tableItemText,children:r+1})}),Object(J.jsxs)(V.default,{style:[tn.tableItemSecondContainer,{flex:10}],children:[Object(J.jsx)(Z.default,{style:tn.tableItemText,children:t.pmId}),t.payRef&&Object(J.jsx)(Z.default,{style:[tn.tableItemText,{color:re.reserved}],children:t.payRef})]}),Object(J.jsx)(p.default,{style:tn.tableItemFourthContainer,children:Object(J.jsx)(Z.default,{style:tn.tableItemText,children:t.payMoney&&"$"+t.payMoney.toFixed(2)})})]})}})]}),Object(J.jsx)(p.default,{style:tn.gap}),Object(J.jsx)(p.default,{style:[tn.gridContainer,{flex:2,backgroundColor:"none"}],children:Object(J.jsxs)(p.default,{style:{flex:1,width:"100%"},children:[Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:tn.titleText,children:"SUBTOTAL"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:tn.titleText,children:i.beforeDisc&&i.beforeDisc.toFixed(2)})})]}),Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:tn.titleText,children:"DISCOUNT"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:tn.titleText,children:i.totalDisc&&i.totalDisc.toFixed(2)})})]}),Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:tn.titleText,children:"SVC CHARGE"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:tn.titleText,children:i.serviceCharge&&i.serviceCharge.toFixed(2)})})]}),Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:[tn.titleText,{color:"white"}],children:"TOTAL"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:[tn.titleText,{color:"white"}],children:i.grandTotal&&i.grandTotal.toFixed(2)})})]})]})}),Object(J.jsx)(p.default,{style:tn.gap})]})}),Object(J.jsx)(p.default,{style:tn.navigateContainer,children:Object(J.jsxs)(p.default,{style:tn.navigateWrapper,children:[Object(J.jsxs)(V.default,{style:[tn.button,(!c||x)&&{opacity:.2}],onPress:function(){return e.handlePressVoid()},disabled:!c||x,children:[Object(J.jsx)(M.default,{name:"exception1",color:re.paid,size:36}),Object(J.jsx)(Z.default,{style:[tn.buttonText,{color:re.paid}],children:S.a.get("void")})]}),Object(J.jsxs)(V.default,{style:[tn.button,(!c||x)&&{opacity:.2}],onPress:function(){return e.handlePressReopen()},disabled:!c||x,children:[Object(J.jsx)(M.default,{name:"exception1",color:re.reserved,size:36}),Object(J.jsx)(Z.default,{style:[tn.buttonText,{color:re.reserved}],children:S.a.get("reopen")})]})]})})]})]})}}]),r}(b.Component),tn=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1,flexDirection:"row"},rightContainer:{flex:1,flexDirection:"row"},displayContainer:{flex:3,backgroundColor:re.grey1},displayWrapper:{flex:1},gridContainer:{flex:1,backgroundColor:re.grey3,borderRadius:5,flexDirection:"column",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center",overflow:"hidden"},searchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,margin:5,marginTop:10,marginBottom:0,flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},searchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},searchBoxInfoLeft:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoRight:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},grid:{margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},gridFirst:{flexDirection:"row"},gridSecond:{marginVertical:5},gridThird:{flexDirection:"row"},gridFirstLeft:{flex:1},gridFirstRight:{flex:1,alignItems:"flex-end"},gridThirdLeft:{flex:1},gridThirdRight:{flex:1,alignItems:"flex-end"},gridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridFirstRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},gridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},navigateContainer:{flex:1,backgroundColor:re.grey1,flexDirection:"column"},navigateWrapper:{flex:1,paddingHorizontal:10,paddingTop:10},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},selectionContainer:{marginTop:10},selection:{backgroundColor:re.grey3,borderRadius:5,alignItems:"center",justifyContent:"center",paddingVertical:30},selectionText:{fontFamily:"varela-round",color:"white",fontSize:12,textAlign:"center"},gap:{padding:5},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},tableItemFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:re.grey3},titleSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},titleThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},titleFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleText:{fontFamily:"varela-round",color:re.grey5},overlayHeader:{height:50,marginTop:10,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"}});function rn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var nn=function(e){d()(r,e);var t=rn(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,settings:e.route.params.masters.settings,masters:[],availableMasters:[],searches:[],selectedMaster:"",details:[],headers:[],searchText:"",selectedDateString:oe()(new Date).format("YYYY-MM-DD"),overlayEnterDateVisible:!1,overlayChoosePrinterVisible:!1,overlayProcedureMessageVisible:!1,loading:!1,reopenResponse:""},n.handleSelectMaster=n.handleSelectMaster.bind(B()(n)),n.handleSearchText=n.handleSearchText.bind(B()(n)),n.handlePressDate=n.handlePressDate.bind(B()(n)),n.handleUpdateFromEnterDate=n.handleUpdateFromEnterDate.bind(B()(n)),n.handleUpdateFromChoosePrinter=n.handleUpdateFromChoosePrinter.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n.handleUpdateFromAlert=n.handleUpdateFromAlert.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=t.selectedDateString,a=r+"api/deposit-receipts",o=new URLSearchParams;o.append("orgId",n.orgId),o.append("shopId",n.shopId),o.append("docDateString",l),fetch(a+="?"+o,{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log("receipts",t),e.setState({masters:t.receiptmas.filter((function(e){return"E"===e.statusFlg})),availableMasters:t.receiptmas.filter((function(e){return"E"===e.statusFlg})),searches:t.receiptpaydtl})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handleSelectMaster",value:function(e){var t=this,r=this.state.serviceEntry;this.setState({selectedMaster:e});var n=r+"api/receipts/"+e.recKey+"/bundle";fetch(n,{method:"GET"}).then((function(e){return e.json()})).then((function(e){t.setState({details:e.receiptitems,pays:e.receiptpays,headers:e.receiptmas})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}},{key:"handleSearchText",value:function(e){var t=this.state,r=t.masters,n=(t.availableMasters,t.searchText,t.searches),l=[];this.setState({searchText:e});var a=e.toUpperCase();console.log("caseText",a),l=r,e?(l=l.filter((function(e){var t=n.filter((function(e){return e.payMoney===Number(a)})),r=n.filter((function(e){return e.pmId.toUpperCase().includes(a)}));return e.docId.toUpperCase().includes(a)||e.tableId.toUpperCase().includes(a)||t.some((function(t){return t.docId===e.docId}))||r.some((function(t){return t.docId===e.docId}))})),this.setState({availableMasters:l})):this.setState({availableMasters:l})}},{key:"handlePressDate",value:function(){this.setState({overlayEnterDateVisible:!0})}},{key:"handleUpdateFromEnterDate",value:function(e){var t=this;if(this.setState({overlayEnterDateVisible:!1,selectedMaster:"",headers:"",details:"",pays:""}),e){var r=this.state,n=r.serviceEntry,l=r.home,a=oe()(e).format("YYYY-MM-DD"),o=n+"api/deposit-receipts",i=new URLSearchParams;i.append("orgId",l.orgId),i.append("shopId",l.shopId),i.append("docDateString",a),fetch(o+="?"+i,{method:"GET"}).then((function(e){return e.json()})).then((function(r){console.log("receipts",r),r.message?console.log(r.message):t.setState({masters:r.receiptmas.filter((function(e){return"E"===e.statusFlg})),availableMasters:r.receiptmas.filter((function(e){return"E"===e.statusFlg})),searches:r.receiptpaydtl,selectedDateString:oe()(e).format("YYYY-MM-DD")})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}}},{key:"handleUpdateFromChoosePrinter",value:function(e,t){var r=this.state.selectedReturn;this.setState({overlayChoosePrinterVisible:!1,selectedPrinter:e}),e&&this.handleVoid(r,e)}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){this.props.navigation,this.state.reopenResponse;this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""})}},{key:"handlePressCollect",value:function(e){var t=this,r=this.state,n=r.serviceEntry,l=r.home,a=r.settings,o=r.selectedMaster,i=r.selectedDateString;if(o)if(this.props.route.params.masters.cashierPrinters.length>1&&!e&&!l.defaultPrinter)this.setState({overlayChoosePrinterVisible:!0});else{this.setState({loading:!0});var s,c;s=n+"api/collection-receipt",c={userId:l.userId,orgId:l.orgId,locId:l.locId,receiptRecKey:o.recKey,iomodelId:l.defaultPrinter&&l.defaultPrinter.iomodelId||e&&e.iomodelId,docDateString:i},console.log("body",c),fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post collect-receipt successful",e),"Y"===(null==(r=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(n,"Collect Receipt",l.userName,e.message,"","",o.recKey),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase(),loading:!1}):t.setState({overlayAlertInputValue:{title:"ALERT",subtitle:"Procedure Reply",text:"Receipt collected successfully",ok:!0,cancel:!1,options:[]},overlayAlertVisible:!0,masters:e.receiptmas.filter((function(e){return"E"===e.statusFlg})),availableMasters:e.receiptmas.filter((function(e){return"E"===e.statusFlg})),searches:e.receiptpaydtl,selectedMaster:"",headers:"",details:"",pays:"",loading:!1})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=(r.home,r.masters,r.availableMasters),l=r.details,a=r.pays,o=r.headers,i=r.searchText,s=r.selectedMaster,c=r.selectedDateString,d=r.overlayEnterDateVisible,u=r.overlayChoosePrinterVisible,f=r.overlayProcedureMessageVisible,h=r.overlayAlertVisible,y=r.overlayAlertInputValue,b=r.loading;return console.log("in reprint"),Object(J.jsxs)(p.default,{style:ln.container,children:[h&&Object(J.jsx)(Ct,{input:y,handleUpdateFromAlert:this.handleUpdateFromAlert}),u&&Object(J.jsx)(Ot,{printPurpose:"VOID RECEIPT",cashierPrinters:this.props.route.params.masters.cashierPrinters,handleUpdateFromChoosePrinter:this.handleUpdateFromChoosePrinter}),d&&Object(J.jsx)(Ur,{dateString:c,handleUpdateFromEnterDate:this.handleUpdateFromEnterDate}),f&&Object(J.jsx)(se,{text:f,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsxs)(p.default,{style:ln.leftContainer,children:[Object(J.jsx)(p.default,{style:ln.navigateContainer,children:Object(J.jsx)(p.default,{style:ln.navigateWrapper,children:Object(J.jsxs)(V.default,{style:ln.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:ln.buttonText,children:S.a.get("back")})]})})}),Object(J.jsx)(p.default,{style:ln.displayContainer,children:Object(J.jsxs)(p.default,{style:[ln.displayWrapper,{paddingRight:5}],children:[Object(J.jsx)(p.default,{style:ln.gap}),Object(J.jsxs)(p.default,{style:ln.gridContainer,children:[Object(J.jsxs)(p.default,{style:ln.searchBox,children:[Object(J.jsx)(N.default,{style:ln.searchBoxInputValue,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",value:i,onChangeText:function(t){return e.handleSearchText(t)}}),Object(J.jsx)(V.default,{style:ln.searchBoxButton,onPress:function(){e.setState({searchText:""},(function(){return e.handleSearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]}),Object(J.jsxs)(V.default,{style:ln.searchBoxInfo,onPress:function(){return e.handlePressDate()},children:[Object(J.jsx)(p.default,{style:ln.searchBoxInfoLeft,children:Object(J.jsx)(Z.default,{style:ln.searchBoxInfoText,children:c})}),Object(J.jsx)(p.default,{style:ln.searchBoxInfoRight,children:Object(J.jsxs)(Z.default,{style:ln.searchBoxInfoText,children:[n.length," DOCS"]})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},showsVerticalScrollIndicator:!1,data:n,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[ln.grid,s.recKey===r.recKey&&{backgroundColor:re.occupied}],onPress:function(){return e.handleSelectMaster(r)},children:[Object(J.jsxs)(p.default,{style:ln.gridFirst,children:[Object(J.jsx)(p.default,{style:ln.gridFirstLeft,children:Object(J.jsx)(Z.default,{style:ln.gridFirstLeftText,children:r.tableId})}),Object(J.jsx)(p.default,{style:ln.gridFirstRight,children:Object(J.jsx)(Z.default,{style:ln.gridFirstRightText,children:r.createUserId})})]}),Object(J.jsx)(p.default,{style:ln.gridSecond,children:Object(J.jsx)(Z.default,{style:ln.gridSecondText,children:r.docId})}),Object(J.jsxs)(p.default,{style:ln.gridThird,children:[Object(J.jsx)(p.default,{style:ln.gridThirdLeft}),Object(J.jsx)(p.default,{style:ln.gridThirdRight,children:Object(J.jsx)(Z.default,{style:ln.gridThirdRightText,children:oe()(r.createDate).format("HH:mm")})})]})]})}})]}),Object(J.jsx)(p.default,{style:ln.gap})]})})]}),Object(J.jsxs)(p.default,{style:ln.rightContainer,children:[Object(J.jsx)(p.default,{style:ln.displayContainer,children:Object(J.jsxs)(p.default,{style:[ln.displayWrapper,{paddingLeft:5}],children:[Object(J.jsxs)(p.default,{style:ln.overlayHeader,children:[Object(J.jsx)(Z.default,{style:ln.overlayTitleText,children:s?s.tableId:" "}),Object(J.jsx)(Z.default,{style:ln.overlaySubtitleText,children:s?s.docId:" "})]}),Object(J.jsx)(p.default,{style:ln.gap}),Object(J.jsxs)(p.default,{style:[ln.gridContainer,{flex:3}],children:[Object(J.jsxs)(p.default,{style:ln.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:ln.titleFirstContainer,children:Object(J.jsx)(Z.default,{style:ln.titleText,children:"Qty"})}),Object(J.jsx)(p.default,{style:ln.titleSecondContainer,children:Object(J.jsx)(Z.default,{style:ln.titleText,children:"Desc"})}),Object(J.jsx)(p.default,{style:ln.titleThirdContainer,children:Object(J.jsx)(Z.default,{style:ln.titleText,children:"Price"})}),Object(J.jsx)(p.default,{style:ln.titleFourthContainer,children:Object(J.jsx)(Z.default,{style:ln.titleText,children:"Total"})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},showsVerticalScrollIndicator:!1,data:l,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var t=e.item;return Object(J.jsxs)(V.default,{style:[ln.tableItemContainer],children:[Object(J.jsx)(p.default,{style:ln.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:ln.tableItemText,children:t.orderQty})}),Object(J.jsxs)(V.default,{style:ln.tableItemSecondContainer,children:[Object(J.jsxs)(Z.default,{style:ln.tableItemText,children:[t.refRecKey?"- ":null,t.menuName]}),t.menuMod?Object(J.jsx)(Z.default,{style:ln.tableItemModText,children:t.menuMod}):null]}),Object(J.jsx)(p.default,{style:ln.tableItemThirdContainer,children:Object(J.jsxs)(Z.default,{style:ln.tableItemText,children:["$",t.netPrice&&t.netPrice.toFixed(2)]})}),Object(J.jsx)(p.default,{style:ln.tableItemFourthContainer,children:Object(J.jsxs)(Z.default,{style:ln.tableItemText,children:["$",t.lineTotal&&t.lineTotal.toFixed(2)]})})]})}})]}),Object(J.jsx)(p.default,{style:ln.gap}),Object(J.jsxs)(p.default,{style:ln.gridContainer,children:[Object(J.jsxs)(p.default,{style:ln.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:ln.titleFirstContainer,children:Object(J.jsx)(Z.default,{style:ln.titleText,children:"No."})}),Object(J.jsx)(p.default,{style:[ln.titleSecondContainer,{flex:10}],children:Object(J.jsx)(Z.default,{style:ln.titleText,children:"PM ID"})}),Object(J.jsx)(p.default,{style:ln.titleFourthContainer,children:Object(J.jsx)(Z.default,{style:ln.titleText,children:"Amount"})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},showsVerticalScrollIndicator:!1,data:a,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var t=e.item,r=e.index;return Object(J.jsxs)(V.default,{style:[ln.tableItemContainer],children:[Object(J.jsx)(p.default,{style:ln.tableItemFirstContainer,children:Object(J.jsx)(Z.default,{style:ln.tableItemText,children:r+1})}),Object(J.jsxs)(V.default,{style:[ln.tableItemSecondContainer,{flex:10}],children:[Object(J.jsx)(Z.default,{style:ln.tableItemText,children:t.pmId}),t.payRef&&Object(J.jsx)(Z.default,{style:[ln.tableItemText,{color:re.reserved}],children:t.payRef})]}),Object(J.jsx)(p.default,{style:ln.tableItemFourthContainer,children:Object(J.jsx)(Z.default,{style:ln.tableItemText,children:t.payMoney&&"$"+t.payMoney.toFixed(2)})})]})}})]}),Object(J.jsx)(p.default,{style:ln.gap}),Object(J.jsx)(p.default,{style:[ln.gridContainer,{flex:2,backgroundColor:"none"}],children:Object(J.jsxs)(p.default,{style:{flex:1,width:"100%"},children:[Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:ln.titleText,children:"SUBTOTAL"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:ln.titleText,children:o.beforeDisc&&o.beforeDisc.toFixed(2)})})]}),Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:ln.titleText,children:"DISCOUNT"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:ln.titleText,children:o.totalDisc&&o.totalDisc.toFixed(2)})})]}),Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:ln.titleText,children:"SVC CHARGE"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:ln.titleText,children:o.serviceCharge&&o.serviceCharge.toFixed(2)})})]}),Object(J.jsxs)(p.default,{style:{flex:1,marginHorizontal:60,flexDirection:"row"},children:[Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:[ln.titleText,{color:"white"}],children:"TOTAL"})}),Object(J.jsx)(p.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end"},children:Object(J.jsx)(Z.default,{style:[ln.titleText,{color:"white"}],children:o.grandTotal&&o.grandTotal.toFixed(2)})})]})]})}),Object(J.jsx)(p.default,{style:ln.gap})]})}),Object(J.jsx)(p.default,{style:ln.navigateContainer,children:Object(J.jsx)(p.default,{style:ln.navigateWrapper,children:Object(J.jsxs)(V.default,{style:[ln.button,(!s||b)&&{opacity:.2}],disabled:!s||b,onPress:function(){return e.handlePressCollect()},children:[Object(J.jsx)(M.default,{name:"gift",color:re.reserved,size:36}),Object(J.jsx)(Z.default,{style:[ln.buttonText,{color:re.reserved}],children:S.a.get("collect")})]})})})]})]})}}]),r}(b.Component),ln=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1,flexDirection:"row"},rightContainer:{flex:1,flexDirection:"row"},displayContainer:{flex:3,backgroundColor:re.grey1},displayWrapper:{flex:1},gridContainer:{flex:1,backgroundColor:re.grey3,borderRadius:5,flexDirection:"column",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center",overflow:"hidden"},searchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,margin:5,marginTop:10,marginBottom:0,flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},searchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},searchBoxInfoLeft:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoRight:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},grid:{margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},gridFirst:{flexDirection:"row"},gridSecond:{marginVertical:5},gridThird:{flexDirection:"row"},gridFirstLeft:{flex:1},gridFirstRight:{flex:1,alignItems:"flex-end"},gridThirdLeft:{flex:1},gridThirdRight:{flex:1,alignItems:"flex-end"},gridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridFirstRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},gridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},navigateContainer:{flex:1,backgroundColor:re.grey1,flexDirection:"column"},navigateWrapper:{flex:1,paddingHorizontal:10,paddingTop:10},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},selectionContainer:{marginTop:10},selection:{backgroundColor:re.grey3,borderRadius:5,alignItems:"center",justifyContent:"center",paddingVertical:30},selectionText:{fontFamily:"varela-round",color:"white",fontSize:12,textAlign:"center"},gap:{padding:5},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},tableItemFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:re.grey3},titleSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},titleThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},titleFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleText:{fontFamily:"varela-round",color:re.grey5},overlayHeader:{height:50,marginTop:10,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"}});function an(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var on=function(e){d()(r,e);var t=an(r);function r(e){var n,l,a;return o()(this,r),(a=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,selectedTable:e.route.params.selectedTable,mode:e.route.params.mode,masters:e.route.params.masters,settings:e.route.params.masters.settings,vipSources:e.route.params.masters.vipSources,availableVipSources:e.route.params.masters.vipSources,overlayPax:"NEW"===e.route.params.mode?(null==(n=e.route.params.masters.tablemas)||null==(l=n.find((function(t){return t.tableId===e.route.params.selectedTable.tableId})))?void 0:l.capacity)||2:e.route.params.selectedTable.pax||0,overlayVip:"NEW"===e.route.params.mode?null:{vipId:e.route.params.selectedTable.vipId||"",vipName:e.route.params.selectedTable.vipName||"",vipDisc:e.route.params.selectedTable.vipDisc||"",vipPhone:e.route.params.selectedTable.vipPhone||"",cumPts:e.route.params.selectedTable.cumPts||"",vipPtsMoney:e.route.params.selectedTable.vipPtsMoney||"",classId:e.route.params.selectedTable.classId||""},overlayValidateVipId:"",overlayValidateCardNumber:"",overlayValidateNric:"",overlayValidateVipName:"",overlayValidateVipPhone:"",overlayValidateVipPhoneCountryCode:"",overlayValidateEmailAddress:"",vipResults:"",selectedVipResult:"",overlaySource:"NEW"===e.route.params.mode?"":{sourceId:e.route.params.selectedTable.sourceId||""},overlaySourceSearch:"",overlayDeliveryFlg:"NEW"===e.route.params.mode?"N":e.route.params.selectedTable.homeDelivery||"",overlayPostalCode:"NEW"===e.route.params.mode?"":e.route.params.selectedTable.dpostalcode||"",overlayAddr1:"NEW"===e.route.params.mode?"":e.route.params.selectedTable.daddress1||"",overlayAddr2:"NEW"===e.route.params.mode?"":e.route.params.selectedTable.daddress2||"",overlayAddr3:"NEW"===e.route.params.mode?"":e.route.params.selectedTable.daddress3||"",overlayAddr4:"NEW"===e.route.params.mode?"":e.route.params.selectedTable.daddress4||"",activePage:"PAX",warning:""},a.handleQtyChange=a.handleQtyChange.bind(B()(a)),a.handlePressTab=a.handlePressTab.bind(B()(a)),a.handleSearchVip=a.handleSearchVip.bind(B()(a)),a.handleEnterVip=a.handleEnterVip.bind(B()(a)),a.handleClearVip=a.handleClearVip.bind(B()(a)),a.handlePressNext=a.handlePressNext.bind(B()(a)),a.handlePressPrev=a.handlePressPrev.bind(B()(a)),a.handleOverlaySearchText=a.handleOverlaySearchText.bind(B()(a)),a.handleAddressChange=a.handleAddressChange.bind(B()(a)),a.handleCheckDeliveryFlg=a.handleCheckDeliveryFlg.bind(B()(a)),a.handleSubmit=a.handleSubmit.bind(B()(a)),a.handleUpdateFromProcedureMessage=a.handleUpdateFromProcedureMessage.bind(B()(a)),a}return s()(r,[{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleSubmit",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.mode,l=r.home,a=r.serviceEntry,o=r.selectedTable,i=r.settings,s=r.overlayPax,c=r.overlayVip,d=r.overlaySource,u=r.overlayValidateVipName,f=r.overlayDeliveryFlg,h=r.overlayPostalCode,y=r.overlayAddr1,b=r.overlayAddr2,g=r.overlayAddr3,m=r.overlayAddr4;if(s||0===s){var p=a+"api/tables/"+o.recKey+("NEW"===n?"/change-table-status":"/update-table-info"),j={userId:l.userId,locId:l.locId,tableStatus:"C",pax:s,vipName:null!=c&&c.vipId?null==c?void 0:c.vipName:u,phone:null==c?void 0:c.vipPhone,reservationTime:"",sourceId:d.sourceId,deliveryFlg:f,postalCode:h,addr1:y,addr2:b,addr3:g,addr4:m};fetch(p,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(j)}).then((function(e){return e.json()})).then((function(r){var s;console.log("post table-edit-open successful",r),"Y"===(null==(s=i.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:s.setString)&&te(a,"NEW"===n?"Open Table":"Edit Table",l.userName,r.message,o.tableId,"",null!=c&&c.vipId?null==c?void 0:c.vipName:u),r.message?e.setState({overlayProcedureMessageVisible:r.message.toUpperCase()}):"NEW"===n?e.props.route.params.handleUpdateFromTable():t.goBack()}))}}},{key:"handleAddressChange",value:function(e,t){var r=this;"POSTALCODE"===e?this.setState({overlayPostalCode:t},(function(){return r.handleCheckDeliveryFlg()})):"ADDR1"===e?this.setState({overlayAddr1:t},(function(){return r.handleCheckDeliveryFlg()})):"ADDR2"===e?this.setState({overlayAddr2:t},(function(){return r.handleCheckDeliveryFlg()})):"ADDR3"===e?this.setState({overlayAddr3:t},(function(){return r.handleCheckDeliveryFlg()})):"ADDR4"===e&&this.setState({overlayAddr4:t},(function(){return r.handleCheckDeliveryFlg()}))}},{key:"handleCheckDeliveryFlg",value:function(){var e=this.state,t=e.overlayPostalCode,r=e.overlayAddr1,n=e.overlayAddr2,l=e.overlayAddr3,a=e.overlayAddr4;t||r||n||l||a?this.setState({overlayDeliveryFlg:"Y"}):this.setState({overlayDeliveryFlg:"N"})}},{key:"handleQtyChange",value:function(e){if("PLUS"===e)this.setState((function(e,t){return{overlayPax:e.overlayPax+1}}));else if("MINUS"===e){if(0===this.state.overlayPax)return;this.setState((function(e,t){return{overlayPax:e.overlayPax-1}}))}}},{key:"handlePaxChange",value:function(e){isNaN(e)?this.setState({overlayPax:0}):this.setState({overlayPax:Number(e)})}},{key:"handlePressTab",value:function(e){L.default.get("window").width;"VIP"===e?this.setState({activePage:"VIP"}):"PAX"===e?this.setState({activePage:"PAX"}):"SOURCE"===e?this.setState({activePage:"SOURCE"}):"DELIVERY"===e&&this.setState({activePage:"DELIVERY"})}},{key:"handlePressNext",value:function(){var e=this.state.activePage;L.default.get("window").width;if("PAX"===e)this.setState({activePage:"VIP"});else if("VIP"===e)this.setState({activePage:"SOURCE"});else if("SOURCE"===e)this.setState({activePage:"DELIVERY"});else if("DELIVERY"===e)return}},{key:"handlePressPrev",value:function(){var e=this.state.activePage;L.default.get("window").width;"PAX"!==e&&("VIP"===e?this.setState({activePage:"PAX"}):"SOURCE"===e?this.setState({activePage:"VIP"}):"DELIVERY"===e&&this.setState({activePage:"SOURCE"}))}},{key:"handleSearchVip",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=(t.masters,t.settings),a=t.selectedTable,o=(t.overlayVip,t.overlayValidateVipId),i=t.overlayValidateCardNumber,s=t.overlayValidateVipName,c=t.overlayValidateNric,d=t.overlayValidateEmailAddress,u=t.overlayValidateVipPhone,f=t.overlayValidateVipPhoneCountryCode,h=r+"api/tables/"+a.recKey+"/search-vip",y={opentableRecKey:a.recKey};o&&(y.vipId=o),i&&(y.cardNumber=i),s&&(y.vipName=s),c&&(y.nric=c),d&&(y.emailAddress=d),u&&(y.vipPhone=u,y.vipPhoneCountryCode=f),console.log("before searching vip",y),fetch(h,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(y)}).then((function(e){return e.json()})).then((function(t){var o;console.log("post successful",t),"Y"===(null==(o=l.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:o.setString)&&te(r,"Search Vip",n.userName,t.message,a.tableId),t.message?e.setState({warning:"Invalid VIP search"}):e.setState({warning:t.length+" VIP result(s) found",vipResults:t})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handleEnterVip",value:function(e){var t=this;this.setState({selectedVipResult:e});var r=this.state,n=r.serviceEntry,l=r.home,a=(r.masters,r.settings),o=r.selectedTable,i=n+"api/tables/"+o.recKey+"/enter-vip",s={opentableRecKey:o.recKey,customerNumber:e.customerNumber,name:e.name,mobileNumber:e.mobileNumber,emailAddress:e.emailaddress,customerSource:e.customerSource};console.log("before entering vip",e),fetch(i,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(r){var i;console.log("post successful",r),"Y"===(null==(i=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(n,"Input Vip",l.userName,r.message,o.tableId,"",e.customerNumber+","+e.name),r.message?t.setState({warning:"VIP input unsuccessful"}):t.setState({overlayVip:{vipId:r.opentable.vipId||"",vipName:r.opentable.vipName||"",vipPhone:r.opentable.vipPhone||"",vipPtsMoney:r.opentable.vipPtsMoney||"",cumPts:r.opentable.cumPts||"",vipDisc:r.opentable.vipDisc||"",classId:r.opentable.classId||""},warning:"VIP input successful"})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}},{key:"handleClearVip",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=(t.masters,t.settings),a=t.selectedTable,o=r+"api/tables/"+a.recKey+"/update-table-vip-info";fetch(o,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({vipId:"",vipName:"",classId:"",vipDisc:"",cumPts:"",pts:"",money:"",cardNo:"",birthday:"",qrcode:"",phone:""})}).then((function(e){return e.json()})).then((function(t){var o;console.log("post successful",t),"Y"===(null==(o=l.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:o.setString)&&te(r,"Clear Vip",n.userName,t.message,a.tableId,"",""),t.message?e.setState({warning:t.message}):e.setState({overlayVip:{vipId:t.opentable.vipId||"",vipName:t.opentable.vipName||"",vipPhone:t.opentable.vipPhone||"",vipPtsMoney:t.opentable.vipPtsMoney||"",cumPts:t.opentable.cumPts||"",vipDisc:t.opentable.vipDisc||"",classId:t.opentable.classId||""},warning:"VIP cleared"})})).catch((function(t){console.log(t),e.setState({loading:!1})}))}},{key:"handleOverlaySearchText",value:function(e){var t=this.state,r=t.vipSources,n=t.availableVipSources,l=[];this.setState({overlaySourceSearch:e});var a=e.toUpperCase();console.log("caseText",a),console.log("available",n),l=r,e?(l=l.filter((function(e){return e.sourceId.toUpperCase().includes(a)||e.name.toUpperCase().includes(a)})),this.setState({availableVipSources:l})):this.setState({availableVipSources:l})}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.mode,l=r.selectedTable,a=r.overlayProcedureMessageVisible,o=r.overlayPax,i=r.overlayVip,s=r.overlayValidateVipId,c=r.overlayValidateCardNumber,d=r.overlayValidateEmailAddress,u=r.overlayValidateVipPhone,f=r.overlayValidateVipPhoneCountryCode,h=r.overlayValidateVipName,y=(r.overlayValidateNric,r.overlaySource),b=r.overlaySourceSearch,g=r.vipResults,m=r.selectedVipResult,j=r.overlayDeliveryFlg,x=r.overlayPostalCode,v=r.overlayAddr1,T=r.overlayAddr2,O=r.overlayAddr3,I=r.overlayAddr4,C=r.warning,F=r.activePage,P=r.availableVipSources;console.log("in overlayopentable");var R=L.default.get("window").width/5*3;return Object(J.jsxs)(p.default,{style:cn.overlay,children:[a&&Object(J.jsx)(se,{text:a,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsxs)(p.default,{style:cn.overlayContent,children:[Object(J.jsxs)(p.default,{style:cn.overlayHeader,children:[Object(J.jsxs)(Z.default,{style:cn.overlayTitleText,children:[S.a.get("table")," ",l.tableId]}),Object(J.jsx)(Z.default,{style:cn.overlaySubtitleText,children:"NEW"===n?S.a.get("open"):S.a.get("edit")}),Object(J.jsx)(Z.default,{style:cn.overlayText,children:C||"Enter Pax, VIP & Source"})]}),Object(J.jsxs)(p.default,{style:cn.tabsContainer,children:[Object(J.jsxs)(V.default,{style:[cn.tabContainer,"PAX"===F&&{backgroundColor:"white"}],onPress:function(){return e.handlePressTab("PAX")},children:[null!==o?Object(J.jsx)(Z.default,{style:[cn.tabFocusText,"PAX"===F&&{color:re.grey1}],children:o}):Object(J.jsx)(Z.default,{style:[cn.tabFocusText,"PAX"===F&&{color:re.grey1}],children:"TBD"}),Object(J.jsx)(Z.default,{style:[cn.tabText,"PAX"===F&&{color:re.grey1}],children:"PAX"})]}),Object(J.jsxs)(V.default,{style:[cn.tabContainer,"VIP"===F&&{backgroundColor:"white"}],onPress:function(){return e.handlePressTab("VIP")},children:[null!=i&&i.vipId?Object(J.jsx)(Z.default,{style:[cn.tabFocusText,"VIP"===F&&{color:re.grey1}],children:null==i?void 0:i.vipId}):Object(J.jsx)(Z.default,{style:[cn.tabFocusText,"VIP"===F&&{color:re.grey1}],children:"TBD"}),Object(J.jsx)(Z.default,{style:[cn.tabText,"VIP"===F&&{color:re.grey1}],children:"VIP"})]}),Object(J.jsxs)(V.default,{style:[cn.tabContainer,"SOURCE"===F&&{backgroundColor:"white"}],onPress:function(){return e.handlePressTab("SOURCE")},children:[y.sourceId?Object(J.jsx)(Z.default,{style:[cn.tabFocusText,"SOURCE"===F&&{color:re.grey1}],children:y.sourceId}):Object(J.jsx)(Z.default,{style:[cn.tabFocusText,"SOURCE"===F&&{color:re.grey1}],children:"TBD"}),Object(J.jsx)(Z.default,{style:[cn.tabText,"SOURCE"===F&&{color:re.grey1}],children:"SOURCE"})]}),Object(J.jsxs)(V.default,{style:[cn.tabContainer,"DELIVERY"===F&&{backgroundColor:"white"}],onPress:function(){return e.handlePressTab("DELIVERY")},children:["Y"===j?Object(J.jsx)(Z.default,{style:[cn.tabFocusText,"DELIVERY"===F&&{color:re.grey1}],children:"YES"}):Object(J.jsx)(Z.default,{style:[cn.tabFocusText,"DELIVERY"===F&&{color:re.grey1}],children:"NO"}),Object(J.jsx)(Z.default,{style:[cn.tabText,"DELIVERY"===F&&{color:re.grey1}],children:"DELIVERY"})]})]}),"PAX"===F?Object(J.jsxs)(p.default,{style:[cn.overlayPage,{width:R}],children:[Object(J.jsxs)(p.default,{style:cn.adjustContainer,children:[Object(J.jsx)(V.default,{style:cn.adjustFirst,onPress:function(){return e.handleQtyChange("MINUS")},children:Object(J.jsx)(M.default,{name:"minus",size:32,color:"rgba(0,0,0,0.85)"})}),Object(J.jsx)(p.default,{style:cn.adjustSecond,children:Object(J.jsx)(N.default,{style:cn.overlayPax,selectTextOnFocus:!0,keyboardType:"numeric",value:null==o?void 0:o.toString(),onChangeText:function(t){return e.handlePaxChange(t)}})}),Object(J.jsx)(V.default,{style:cn.adjustThird,onPress:function(){return e.handleQtyChange("PLUS")},children:Object(J.jsx)(M.default,{name:"plus",size:32,color:"rgba(0,0,0,0.85)"})})]}),Object(J.jsxs)(p.default,{style:cn.buttonsContainer,children:[Object(J.jsx)(V.default,{style:[cn.button,1===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:1})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"1"})}),Object(J.jsx)(V.default,{style:[cn.button,2===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:2})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"2"})}),Object(J.jsx)(V.default,{style:[cn.button,3===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:3})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"3"})}),Object(J.jsx)(V.default,{style:[cn.button,4===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:4})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"4"})})]}),Object(J.jsxs)(p.default,{style:cn.buttonsContainer,children:[Object(J.jsx)(V.default,{style:[cn.button,5===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:5})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"5"})}),Object(J.jsx)(V.default,{style:[cn.button,6===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:6})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"6"})}),Object(J.jsx)(V.default,{style:[cn.button,7===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:7})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"7"})}),Object(J.jsx)(V.default,{style:[cn.button,8===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:8})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"8"})})]}),Object(J.jsxs)(p.default,{style:cn.buttonsContainer,children:[Object(J.jsx)(V.default,{style:[cn.button,9===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:9})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"9"})}),Object(J.jsx)(V.default,{style:[cn.button,10===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:10})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"10"})}),Object(J.jsx)(V.default,{style:[cn.button,11===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:11})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"11"})}),Object(J.jsx)(V.default,{style:[cn.button,12===o&&{backgroundColor:re.occupied}],onPress:function(){return e.setState({overlayPax:12})},children:Object(J.jsx)(Z.default,{style:cn.buttonText,children:"12"})})]})]}):"VIP"===F?Object(J.jsx)(p.default,{style:[cn.overlayPage,{width:R}],children:g&&0!==g.length?Object(J.jsxs)(p.default,{style:cn.selectWrapper,children:[Object(J.jsx)(p.default,{style:cn.searchBoxWrapper,children:Object(J.jsx)(p.default,{style:[cn.overlaySearchBox,{marginHorizontal:0,justifyContent:"space-between"}],children:Object(J.jsx)(V.default,{style:cn.overlaySearchBoxButton,onPress:function(){return e.setState({vipResults:""})},children:Object(J.jsx)(M.default,{name:"close",size:24,color:"white"})})})}),Object(J.jsx)(p.default,{style:cn.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:cn.searchBoxInfoText,children:[g.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],showsVerticalScrollIndicator:!1,data:g,keyExtractor:function(e,t){return t.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[cn.overlayGrid,r.customerNumber===m.customerNumber&&{backgroundColor:re.occupied}],onPress:function(){return e.handleEnterVip(r)},children:[Object(J.jsxs)(p.default,{style:cn.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:cn.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:cn.overlayGridFirstLeftText,children:r.customerNumber})}),Object(J.jsx)(p.default,{style:cn.overlayGridFirstRight,children:Object(J.jsxs)(Z.default,{style:[cn.overlayGridFirstRightText,r.customerNumber===m.customerNumber&&{color:"white"}],children:[r.hasActiveMembership," ",r.customerSource]})})]}),Object(J.jsx)(p.default,{style:cn.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:cn.overlayGridSecondText,children:r.name})}),Object(J.jsxs)(p.default,{style:cn.overlayGridThird,children:[Object(J.jsx)(p.default,{style:cn.overlayGridThirdLeft,children:Object(J.jsx)(Z.default,{style:cn.overlayGridThirdLeftText,children:r.emailaddress})}),Object(J.jsx)(p.default,{style:cn.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:cn.overlayGridThirdRightText,children:r.mobileNumber?r.mobileNumber:" "})})]})]})}})]}):Object(J.jsxs)(p.default,{style:cn.vipInputsContainer,children:[Object(J.jsxs)(p.default,{style:cn.vipInputsRow,children:[Object(J.jsx)(N.default,{style:cn.vipInput,placeholder:"VIP ID",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.setState({overlayValidateVipId:t})},value:s,onSubmitEditing:function(){return e.handleSearchVip()}}),Object(J.jsx)(N.default,{style:cn.vipInput,placeholder:"CARD NO.",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.setState({overlayValidateCardNumber:t})},value:c,onSubmitEditing:function(){return e.handleSearchVip()}})]}),Object(J.jsxs)(p.default,{style:cn.vipInputsRow,children:[Object(J.jsx)(N.default,{style:cn.vipInput,placeholder:"VIP NAME",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.setState({overlayValidateVipName:t})},value:h,onSubmitEditing:function(){return e.handleSearchVip()}}),Object(J.jsx)(N.default,{style:[cn.vipInput,{width:50}],placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.setState({overlayValidateVipPhoneCountryCode:t})},value:f}),Object(J.jsx)(N.default,{style:[cn.vipInput,{width:130}],placeholder:"VIP PHONE",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.setState({overlayValidateVipPhone:t})},value:u,onSubmitEditing:function(){return e.handleSearchVip()}})]}),Object(J.jsxs)(p.default,{style:cn.vipInputsRow,children:[Object(J.jsx)(N.default,{style:cn.vipInput,placeholder:"VIP EMAIL",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.setState({overlayValidateEmailAddress:t})},value:d,onSubmitEditing:function(){return e.handleSearchVip()}}),Object(J.jsx)(p.default,{style:{flex:1,alignItems:"flex-end",justifyContent:"center"},children:Object(J.jsx)(V.default,{style:{paddingHorizontal:10,height:20,margin:5,borderRadius:40,backgroundColor:re.paid,alignItems:"center",justifyContent:"center"},onPress:function(){return e.handleClearVip()},children:Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",fontSize:10,textTransform:"uppercase",color:"white"},children:S.a.get("remove")})})})]}),Object(J.jsxs)(p.default,{style:cn.vipInputsRow,children:[Object(J.jsxs)(p.default,{style:[cn.detailWrapper,{alignItems:"flex-start"}],children:[Object(J.jsx)(Z.default,{style:cn.detailTitle,children:"VIP ID"}),Object(J.jsx)(Z.default,{style:cn.detailText,children:(null==i?void 0:i.vipId)||"-"})]}),Object(J.jsxs)(p.default,{style:cn.detailWrapper,children:[Object(J.jsx)(Z.default,{style:cn.detailTitle,children:"VIP CLASS"}),Object(J.jsx)(Z.default,{style:cn.detailText,children:(null==i?void 0:i.classId)||"-"})]}),Object(J.jsxs)(p.default,{style:cn.detailWrapper,children:[Object(J.jsx)(Z.default,{style:cn.detailTitle,children:"VIP DISC"}),Object(J.jsx)(Z.default,{style:cn.detailText,children:(null==i?void 0:i.vipDisc)||"-"})]})]}),Object(J.jsxs)(p.default,{style:cn.vipInputsRow,children:[Object(J.jsxs)(p.default,{style:[cn.detailWrapper,{alignItems:"flex-start"}],children:[Object(J.jsx)(Z.default,{style:cn.detailTitle,children:"VIP NAME"}),Object(J.jsx)(Z.default,{style:cn.detailText,children:(null==i?void 0:i.vipName)||"-"})]}),Object(J.jsxs)(p.default,{style:cn.detailWrapper,children:[Object(J.jsx)(Z.default,{style:cn.detailTitle,children:"CUMULATIVE PTS"}),Object(J.jsx)(Z.default,{style:cn.detailText,children:(null==i?void 0:i.cumPts)||"-"})]}),Object(J.jsxs)(p.default,{style:cn.detailWrapper,children:[Object(J.jsx)(Z.default,{style:cn.detailTitle,children:"REDEEMABLE"}),Object(J.jsx)(Z.default,{style:cn.detailText,children:(null==i?void 0:i.vipPtsMoney)||"-"})]})]})]})}):"SOURCE"===F?Object(J.jsx)(p.default,{style:[cn.overlayPage,{width:R}],children:Object(J.jsxs)(p.default,{style:cn.selectWrapper,children:[Object(J.jsx)(p.default,{style:cn.searchBoxWrapper,children:Object(J.jsxs)(p.default,{style:[cn.overlaySearchBox,{marginHorizontal:0}],children:[Object(J.jsx)(N.default,{style:cn.overlaySearchBoxInput,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",onChangeText:function(t){return e.handleOverlaySearchText(t)},value:b}),Object(J.jsx)(V.default,{style:cn.overlaySearchBoxButton,onPress:function(){e.setState({overlaySourceSearch:"",overlaySource:""},(function(){return e.handleOverlaySearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]})}),Object(J.jsx)(p.default,{style:cn.searchBoxInfo,children:Object(J.jsxs)(Z.default,{style:cn.searchBoxInfoText,children:[P.length," ITEMS"]})}),Object(J.jsx)(Fe.default,{style:[{flex:1}],showsVerticalScrollIndicator:!1,data:P,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:[cn.overlayGrid,r.dummy?cn.hidden:null],onPress:function(){return e.setState({overlaySource:r,overlaySourceSearch:r.sourceId})},children:[Object(J.jsxs)(p.default,{style:cn.overlayGridFirst,children:[Object(J.jsx)(p.default,{style:cn.overlayGridFirstLeft,children:Object(J.jsx)(Z.default,{style:cn.overlayGridFirstLeftText,children:r.sourceId})}),Object(J.jsx)(p.default,{style:cn.overlayGridFirstRight,children:Object(J.jsx)(Z.default,{style:cn.overlayGridFirstRightText})})]}),Object(J.jsx)(p.default,{style:cn.overlayGridSecond,children:Object(J.jsx)(Z.default,{style:cn.overlayGridSecondText,children:r.name})}),Object(J.jsxs)(p.default,{style:cn.overlayGridThird,children:[Object(J.jsx)(p.default,{style:cn.overlayGridThirdLeft}),Object(J.jsx)(p.default,{style:cn.overlayGridThirdRight,children:Object(J.jsx)(Z.default,{style:cn.overlayGridThirdRightText})})]})]})}})]})}):Object(J.jsx)(p.default,{style:[cn.overlayPage,{width:R}],children:Object(J.jsxs)(p.default,{style:cn.vipInputsContainer,children:[Object(J.jsx)(p.default,{style:cn.vipInputsRow,children:Object(J.jsx)(N.default,{style:cn.vipInput,placeholder:"POSTAL CODE",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.handleAddressChange("POSTALCODE",t)},value:x})}),Object(J.jsx)(p.default,{style:cn.vipInputsRow,children:Object(J.jsx)(N.default,{style:[cn.vipInput,{width:390}],placeholder:"ADDR1",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.handleAddressChange("ADDR1",t)},value:v})}),Object(J.jsx)(p.default,{style:cn.vipInputsRow,children:Object(J.jsx)(N.default,{style:[cn.vipInput,{width:390}],placeholder:"ADDR2",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.handleAddressChange("ADDR2",t)},value:T})}),Object(J.jsx)(p.default,{style:cn.vipInputsRow,children:Object(J.jsx)(N.default,{style:[cn.vipInput,{width:390}],placeholder:"ADDR3",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.handleAddressChange("ADDR3",t)},value:O})}),Object(J.jsx)(p.default,{style:cn.vipInputsRow,children:Object(J.jsx)(N.default,{style:[cn.vipInput,{width:390}],placeholder:"ADDR4",placeholderTextColor:"rgba(255,255,255,0.2)",textContentType:"none",autoComplete:"off",autoCorrect:!1,onChangeText:function(t){return e.handleAddressChange("ADDR4",t)},value:I})})]})}),Object(J.jsxs)(p.default,{style:cn.overlayOptionsContainer,children:[Object(J.jsxs)(V.default,{style:cn.overlayOptionContainer,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"close",size:32,color:"white"}),Object(J.jsx)(Z.default,{style:cn.overlayOptionText,children:S.a.get("close")})]}),Object(J.jsxs)(V.default,{style:cn.overlayOptionContainer,onPress:function(){return e.handlePressPrev()},children:[Object(J.jsx)(M.default,{name:"left",size:32,color:"white"}),Object(J.jsx)(Z.default,{style:cn.overlayOptionText,children:"PREV"})]}),Object(J.jsxs)(V.default,{style:cn.overlayOptionContainer,onPress:function(){return e.handlePressNext()},children:[Object(J.jsx)(M.default,{name:"right",size:32,color:"white"}),Object(J.jsx)(Z.default,{style:cn.overlayOptionText,children:"NEXT"})]}),Object(J.jsxs)(V.default,{style:cn.overlayOptionContainer,onPress:function(){return e.handleSubmit()},children:[Object(J.jsx)(M.default,{name:"NEW"===n?"appstore-o":"edit",size:32,color:"white"}),Object(J.jsx)(Z.default,{style:cn.overlayOptionText,children:"NEW"===n?S.a.get("open"):S.a.get("edit")})]})]})]})]})}}]),r}(b.Component),sn=L.default.get("window").height/8,cn=m.default.create({overlay:{backgroundColor:re.grey2,flex:1,alignItems:"center",justifyContent:"center"},overlayContent:{flex:1,width:"60%",backgroundColor:re.grey2,borderRadius:5,overflow:"hidden",position:"relative"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},overlayText:{marginTop:15,fontFamily:"varela-round",color:"white",textAlign:"center"},overlayPax:{width:"100%",fontFamily:"varela-round",color:"white",fontSize:32,textAlign:"center"},buttonsContainer:{alignItems:"center",justifyContent:"center",flexDirection:"row"},button:{height:sn-10,width:sn-10,margin:5,alignItems:"center",justifyContent:"center",backgroundColor:re.grey1,borderRadius:5},buttonText:{color:"white",fontFamily:"varela-round",fontSize:24,textTransform:"uppercase"},adjustContainer:{height:80,flexDirection:"row",justifyContent:"center",alignItems:"center"},adjustFirst:{flex:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginRight:50},adjustSecond:{flex:1,justifyContent:"center",alignItems:"center"},adjustThird:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginLeft:50},overlayOptionContainer:{flex:1,alignItems:"center",justifyContent:"center"},overlayOptionsContainer:{height:100,marginTop:20,backgroundColor:re.grey3,flexDirection:"row",margin:5},overlayOptionText:{fontFamily:"varela-round",fontSize:10,color:"white",marginTop:5,textTransform:"uppercase"},overlayPage:{flex:1,justifyContent:"center",alignItems:"center"},tabsContainer:{height:40,flexDirection:"row",alignItems:"center",justifyContent:"center"},tabContainer:{backgroundColor:re.grey1,width:120,alignItems:"center",justifyContent:"center",borderRadius:20,height:40,marginHorizontal:5},tabText:{fontSize:10,fontFamily:"varela-round",color:"white"},tabFocusText:{fontSize:16,fontFamily:"varela-round",color:"white"},searchBoxInfo:{height:20,margin:5,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},searchBoxWrapper:{height:50,flexDirection:"row",alignItems:"center"},vipInputsContainer:{marginTop:20,width:400,alignItems:"center"},vipInputsRow:{height:50,width:400,flexDirection:"row"},vipInput:{backgroundColor:re.grey1,borderRadius:5,color:"white",fontFamily:"varela-round",fontSize:16,margin:5,paddingHorizontal:10,width:190},overlaySearchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,margin:50,flexDirection:"row",flex:1,alignItems:"center"},overlaySearchBoxInput:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},overlaySearchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},overlaySearchBoxButtonText:{fontSize:14,fontFamily:"varela-round",color:"white",textTransform:"uppercase"},overlaySearchVipButton:{alignItems:"center",justifyContent:"center",height:110},detailWrapper:{alignItems:"flex-end",margin:5,width:370/3},detailText:{fontSize:16,fontFamily:"varela-round",color:"white"},detailTitle:{opacity:.6,fontSize:10,fontFamily:"varela-round",color:"white"},overlayGrid:{flex:1,margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},overlayGridFirst:{flexDirection:"row"},overlayGridSecond:{marginVertical:5},overlayGridThird:{flexDirection:"row"},overlayGridFirstLeft:{flex:1},overlayGridFirstRight:{flex:1,alignItems:"flex-end"},overlayGridThirdLeft:{flex:1},overlayGridThirdRight:{flex:1,alignItems:"flex-end"},overlayGridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridFirstRightText:{color:re.occupied,fontSize:12,fontFamily:"varela-round"},overlayGridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},overlayGridThirdLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},overlayGridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},selectWrapper:{flex:1,marginTop:50,width:400,backgroundColor:re.grey1,borderRadius:5}});function dn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var un=function(e){d()(r,e);var t=dn(r);function r(e){var n,l,a,i,s,c,d,u,f,h,y;return o()(this,r),(y=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,masters:e.route.params.masters,settings:e.route.params.masters.settings,modBundles:e.route.params.masters.modBundles,mods:e.route.params.masters.mods,selectedTable:e.route.params.selectedTable,selectedMenu:e.route.params.selectedMenu,selectedTableItem:e.route.params.selectedTableItem,loading:!1,menuName:e.route.params.selectedTableItem?null==(n=e.route.params.selectedTableItem)?void 0:n.menuName:e.route.params.selectedMenu.menuName,qtyInput:(null==(l=e.route.params.selectedTableItem)||null==(a=l.orderQty)?void 0:a.toString())||"1",orderType:"N"===e.route.params.selectedMenu.serviceFlg?"B":e.route.params.selectedTableItem?(null==(i=e.route.params.selectedTableItem)?void 0:i.orderType)||"A":"SYS"===(null==(s=e.route.params.selectedTable)?void 0:s.sectionId)?"B":"A",lineBreak:e.route.params.selectedTableItem?e.route.params.selectedTableItem.lineBreak:"N",modInput:e.route.params.selectedTableItem?(null==(c=e.route.params.selectedTableItem)?void 0:c.menuMod)||"":"N"===e.route.params.selectedMenu.serviceFlg||"SYS"===(null==(d=e.route.params.selectedTable)?void 0:d.sectionId)&&"A"===(null==(u=e.route.params.masters.settings.find((function(e){return"POSMODE"===e.setId})))?void 0:u.setString)?"*"+S.a.get("takeaway")+"  ":"",modRecKeys:(null==(f=e.route.params.selectedTableItem)||null==(h=f.modRecKeys)?void 0:h.split(","))||[]},y.handleUpdateFromProcedureMessage=y.handleUpdateFromProcedureMessage.bind(B()(y)),y.handleUpdateFromAlert=y.handleUpdateFromAlert.bind(B()(y)),y}return s()(r,[{key:"componentDidMount",value:function(){console.log("mount menu",this.state.selectedMenu,this.state.selectedTableItem)}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){var t=this.state;t.selectedTable,t.selectedTableItem;this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""})}},{key:"doValidateQty",value:function(e){!e||isNaN(e)?this.setState({qtyInput:"0"}):this.setState({qtyInput:e})}},{key:"doChangeQty",value:function(e){var t=this.state.qtyInput,r=Number(t);if("PLUS"===e)this.setState({qtyInput:(r+1).toString()});else if("MINUS"===e){if(r<=1)return;this.setState({qtyInput:(r-1).toString()})}}},{key:"doToggleOrderType",value:function(){var e=this.state,t=e.orderType,r=e.modInput;"A"===t?(r=r.replace("*"+S.a.get("takeaway")+"  ",""),r="*"+S.a.get("takeaway")+"  "+r,this.setState({orderType:"B",modInput:r})):(r=r.replace("*"+S.a.get("takeaway")+"  ",""),this.setState({orderType:"A",modInput:r}))}},{key:"doToggleLineBreak",value:function(){var e=this.state.lineBreak;this.setState({lineBreak:"Y"===e?"N":"Y"})}},{key:"doPressModBundle",value:function(e){this.setState({selectedModBundle:e})}},{key:"doPressMod",value:function(e){var t=this.state,r=t.modInput,n=t.selectedModBundle,l=t.modRecKeys,a=r,o=l;"A"===n.modmas.modType?l.some((function(t){return t===e.recKey.toString()}))?(a=a.replace("*"+e.name+"  ",""),o=o.filter((function(t){return t!==e.recKey.toString()}))):(a+="*"+e.name+"  ",o.push(e.recKey.toString())):(n.moditems.forEach((function(e){a=a.replace("*"+e.name+"  ",""),o=o.filter((function(t){return t!==e.recKey.toString()}))})),l.some((function(t){return t===e.recKey.toString()}))||(a+="*"+e.name+"  ",o.push(e.recKey.toString()))),this.setState({modInput:a,modRecKeys:o})}},{key:"doSubmit",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.serviceEntry,l=r.home,a=r.selectedTable,o=r.selectedMenu,i=r.selectedTableItem,s=r.mods,c=(r.masters,r.settings),d=r.modBundles,u=r.menuName,f=r.modInput,h=r.qtyInput,y=r.orderType,b=r.lineBreak,g=r.modRecKeys;if(a)if("SYS"===a.sectionId||"C"===a.statusFlg)if(d.filter((function(e){return"Y"===e.modmas.mustFlg&&("Y"===e.modmas.globalFlg||s.some((function(t){return t.menuId===o.menuId&&t.modId===e.modmas.modId})))})).some((function(e){return!e.moditems.some((function(e){return g.some((function(t){return t===e.recKey.toString()}))}))})))this.setState({overlayProcedureMessageVisible:"CHECK COMPULSORY MODIFIERS",loading:!1});else if(i){var m=n+"api/tables/"+a.recKey+"/update-item",p={userId:l.userId,opentableRecKey:a.recKey,opentableItemRecKey:i.recKey,restmenuMod:f,orderQty:h,orderType:y,modRecKeys:g.join(","),menuName:u,lineBreak:b};fetch(m,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(p)}).then((function(e){return e.json()})).then((function(r){var o;"Y"===(null==(o=c.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:o.setString)&&te(n,"Update Item",l.userName,r.message,a.tableId,u),console.log("post update-item successful",r),r.message?e.setState({overlayProcedureMessageVisible:r.message.toUpperCase(),loading:!1}):t.goBack()}))}else{var j=n+"api/tables/"+a.recKey+"/insert-item",x={userId:l.userId,opentableRecKey:a.recKey,restmenuRecKey:o.recKey,restmenuMod:f,orderQty:h,orderType:y,modRecKeys:g.join(","),menuName:u,lineBreak:b};fetch(j,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(x)}).then((function(e){return e.json()})).then((function(r){var o;"Y"===(null==(o=c.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:o.setString)&&te(n,"Insert Item",l.userName,r.message,a.tableId,u,h),console.log("post insert-item successful",r),r.message?e.setState({overlayProcedureMessageVisible:r.message.toUpperCase(),loading:!1}):t.goBack()}))}else this.setState({overlayProcedureMessageVisible:"CHECK TABLE STATUS",loading:!1});else this.setState({overlayProcedureMessageVisible:"MISSING TABLE",loading:!1})}},{key:"render",value:function(){var e,t,r,n,l,a=this,o=this.props,i=o.navigation,s=(o.route,this.state),c=s.loading,d=s.home,u=s.settings,f=s.selectedMenu,h=(s.selectedTable,s.selectedTableItem),y=s.masters,b=s.mods,g=s.modBundles,m=s.selectedModBundle,j=s.menuName,x=s.modInput,v=s.qtyInput,T=s.orderType,O=s.lineBreak,I=s.modRecKeys,C=s.overlayProcedureMessageVisible,F=s.overlayAlertVisible,P=s.overlayAlertInputValue;return Object(J.jsxs)(p.default,{style:{flex:1,flexDirection:"row",backgroundColor:"rgba(0,0,0,0.9)"},children:[F&&Object(J.jsx)(Ct,{input:P,handleUpdateFromAlert:this.handleUpdateFromAlert}),C&&Object(J.jsx)(se,{text:C,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsx)(p.default,{style:{width:10}}),Object(J.jsx)(p.default,{style:{flex:1},children:Object(J.jsx)(je.default,{contentContainerStyle:{flexGrow:1,alignItems:"flex-end",justifyContent:"center"},showsVerticalScrollIndicator:!1,children:null==m?void 0:m.moditems.map((function(e){var t;return Object(J.jsxs)(V.default,{style:[fn.modButton,{margin:10},I.some((function(t){return t===e.recKey.toString()}))&&{backgroundColor:re.occupied}],onPress:function(){return a.doPressMod(e)},children:[Object(J.jsx)(Z.default,{style:fn.modText,children:e.name}),0!==e.listPrice&&Object(J.jsxs)(Z.default,{style:{position:"absolute",top:-15,right:10,fontFamily:"varela-round",color:re.reserved,fontSize:20},children:[e.listPrice<0?"":"+",null==(t=e.listPrice)?void 0:t.toFixed(2)]})]},e.recKey.toString())}))})}),Object(J.jsx)(p.default,{style:{flex:2},children:Object(J.jsxs)(p.default,{style:{flex:1,flexDirection:"row",padding:5},children:[Object(J.jsxs)(p.default,{style:{flex:1,margin:5,backgroundColor:re.grey2,borderRadius:5},children:[Object(J.jsxs)(p.default,{style:{flex:1,margin:5,marginBottom:0,backgroundColor:re.grey4},children:[Object(J.jsxs)(p.default,{style:{alignItems:"center",marginTop:10},children:[Object(J.jsxs)(p.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(J.jsxs)(Z.default,{style:{fontFamily:"varela-round",color:re.paid,fontSize:16},children:[f.menuId," "]}),Object(J.jsxs)(Z.default,{style:{fontFamily:"varela-round",color:re.reserved,fontSize:16},children:[" $",(null==h||null==(e=h.listPrice)?void 0:e.toFixed(2))||(null==(t=f.listPrice)?void 0:t.toFixed(2))]})]}),Object(J.jsx)(N.default,{style:{height:50,width:"90%",fontFamily:"varela-round",color:"white",fontSize:20,textAlign:"center",paddingHorizontal:20},editable:"Y"===d.adminFlg||y.privileges.some((function(e){return"EDITITEM"===e.priId}))||0===f.listPrice,multiline:!0,blurOnSubmit:!0,value:j,onChangeText:function(e){return a.setState({menuName:e})}})]}),Object(J.jsxs)(p.default,{style:fn.menuQtyRow,children:[Object(J.jsx)(V.default,{style:fn.menuQtyRowFirst,onPress:function(){return a.doChangeQty("MINUS")},children:Object(J.jsx)(M.default,{name:"minus",size:32,color:"rgba(0,0,0,0.85)"})}),Object(J.jsx)(p.default,{style:fn.menuQtyRowSecond,children:Object(J.jsx)(N.default,{style:fn.qtyTextInput,value:v,keyboardType:"numeric",onChangeText:function(e){return a.doValidateQty(e)}})}),Object(J.jsx)(V.default,{style:fn.menuQtyRowThird,onPress:function(){return a.doChangeQty("PLUS")},children:Object(J.jsx)(M.default,{name:"plus",size:32,color:"rgba(0,0,0,0.85)"})})]}),Object(J.jsx)(N.default,{style:fn.modifierTextInput,multiline:!0,placeholder:"CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",value:x,onChangeText:function(e){return a.setState({modInput:e})}}),Object(J.jsxs)(je.default,{style:{flex:1},showsVerticalScrollIndicator:!1,children:[(null==b?void 0:b.filter((function(e){return e.menuId===f.menuId})).length)>0&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(p.default,{style:{height:20,justifyContent:"center",alignItems:"center",backgroundColor:re.grey2},children:Object(J.jsx)(Z.default,{style:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:re.grey7},children:"MENU SPECIFIC MODIFIER"})}),Object(J.jsx)(p.default,{style:fn.modContainer,children:null==b||null==(r=b.filter((function(e){return e.menuId===f.menuId})))||null==(n=r.map((function(e){return g.find((function(t){return t.modmas.modId===e.modId}))})))?void 0:n.map((function(e){return Object(J.jsx)(V.default,{style:[fn.modButton,"Y"===e.modmas.mustFlg&&{backgroundColor:re.paid}],onPress:function(){return a.doPressModBundle(e)},children:Object(J.jsx)(Z.default,{style:fn.modText,children:e.modmas.name})},e.modmas.recKey.toString())}))})]}),Object(J.jsx)(p.default,{style:{height:20,justifyContent:"center",alignItems:"center",backgroundColor:re.grey2},children:Object(J.jsx)(Z.default,{style:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:re.grey7},children:"GLOBAL MODIFIER"})}),Object(J.jsx)(p.default,{style:fn.modContainer,children:null==g?void 0:g.filter((function(e){return"Y"===e.modmas.globalFlg})).map((function(e){return Object(J.jsx)(V.default,{style:[fn.modButton,"Y"===e.modmas.mustFlg&&{backgroundColor:re.paid}],onPress:function(){return a.doPressModBundle(e)},children:Object(J.jsx)(Z.default,{style:fn.modText,children:e.modmas.name})},e.modmas.recKey.toString())}))})]})]}),Object(J.jsxs)(p.default,{style:{height:100,margin:5,marginTop:0,flexDirection:"row",backgroundColor:"white"},children:[Object(J.jsxs)(V.default,{style:{flex:1,alignItems:"center",justifyContent:"center"},disabled:c,onPress:function(){return i.goBack()},children:[Object(J.jsx)(M.default,{name:"close",size:48,color:re.grey4}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",fontSize:12,color:re.grey4,textTransform:"uppercase"},children:S.a.get("close")})]}),Object(J.jsxs)(V.default,{style:{flex:1,alignItems:"center",justifyContent:"center"},disabled:c,onPress:function(){return a.setState({loading:!0},(function(){return a.doSubmit()}))},children:[Object(J.jsx)(M.default,{name:"check",size:48,color:re.grey4}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",fontSize:12,color:re.grey4},children:"OK"})]})]})]}),Object(J.jsx)(p.default,{style:{margin:5,width:120},children:Object(J.jsxs)(je.default,{style:{flex:1},showsVerticalScrollIndicator:!1,alwaysBounceVertical:!1,children:[Object(J.jsx)(p.default,{style:{paddingHorizontal:5,height:80,marginVertical:5}}),Object(J.jsxs)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:"A"===T?re.grey3:re.paid,borderRadius:5,marginVertical:5},disabled:"N"===f.serviceFlg,onPress:function(){return a.doToggleOrderType()},children:[Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",textAlign:"center",color:"white",textTransform:"uppercase"},children:"A"===T?S.a.get("dinein"):S.a.get("takeaway")}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",textAlign:"center",color:"white",fontSize:10},children:"ORDER TYPE"})]}),"Y"===(null==(l=u.find((function(e){return"MARKFIRE"===e.setId})))?void 0:l.setString)?Object(J.jsxs)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:"N"===O?re.grey3:re.occupied,borderRadius:5,marginVertical:5},disabled:"Y"===(null==h?void 0:h.confirmFlg),onPress:function(){return a.doToggleLineBreak()},children:[Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",textAlign:"center",color:"white",textTransform:"uppercase",fontSize:10},children:"N"===O?S.a.get("no"):S.a.get("add")}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",textAlign:"center",color:"white"},children:"LINE BREAK"})]}):Object(J.jsx)(p.default,{style:{paddingHorizontal:5,height:50,marginVertical:5}}),Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:"white",borderRadius:5,marginVertical:5},disabled:c,onPress:function(){return a.setState({loading:!0},(function(){return a.doSubmit()}))},children:Object(J.jsx)(M.default,{name:"check",size:28,color:re.grey4})}),Object(J.jsx)(p.default,{style:{paddingHorizontal:5,height:50,marginVertical:5}}),Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:re.grey3,borderRadius:5,marginVertical:5},onPress:function(){return a.doChangeQty("PLUS")},children:Object(J.jsx)(M.default,{name:"plus",size:26,color:"white"})}),Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:re.grey3,borderRadius:5,marginVertical:5},onPress:function(){return a.doChangeQty("MINUS")},children:Object(J.jsx)(M.default,{name:"minus",size:32,color:"white"})}),Object(J.jsx)(p.default,{style:{paddingHorizontal:5,height:50,marginVertical:5}}),Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:"white",borderRadius:5,marginVertical:5},disabled:c,onPress:function(){return i.goBack()},children:Object(J.jsx)(M.default,{name:"close",size:26,color:re.grey4})})]})})]})})]})}}]),r}(b.Component),fn=m.default.create({modifierTextInput:{fontFamily:"varela-round",fontSize:20,color:"white",paddingHorizontal:20,height:120,backgroundColor:re.grey3},menuQtyRow:{height:80,flexDirection:"row",justifyContent:"center",alignItems:"center"},menuQtyRowFirst:{flex:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginRight:10},menuQtyRowSecond:{flex:1,justifyContent:"center",alignItems:"center"},menuQtyRowThird:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginLeft:10},qtyTextInput:{fontFamily:"varela-round",fontSize:32,width:"100%",color:"white",textAlign:"center"},modContainer:{padding:5,flexDirection:"row",flexWrap:"wrap",justifyContent:"center",backgroundColor:re.grey4},modButton:{paddingHorizontal:20,minHeight:32,justifyContent:"center",borderRadius:16,backgroundColor:re.grey2,margin:5},modText:{fontFamily:"varela-round",color:"white",fontSize:20}});function hn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var yn=function(e){d()(r,e);var t=hn(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={serviceEntry:e.route.params.serviceEntry,home:e.route.params.home,selectedTable:e.route.params.selectedTable,settings:e.route.params.masters.settings,hasCameraPermission:null,detected:!1},n.handleBarCodeScanned=n.handleBarCodeScanned.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){var e=l()((function*(){var e=(yield C.BarCodeScanner.requestPermissionsAsync()).status;this.setState({hasCameraPermission:"granted"===e})}));return function(){return e.apply(this,arguments)}}()},{key:"handleBarCodeScanned",value:function(e){var t=this,r=(e.type,e.data),n=this.props.navigation,l=this.state,a=l.serviceEntry,o=l.home,i=l.settings,s=l.selectedTable;l.detected;this.setState({detected:!0},(function(){var e=a+"api/tables/"+s.recKey+"/scan-barcode",l={userId:o.userId,orgId:o.orgId,locId:o.locId,shopId:o.shopId,vipId:o.vipId,barcode:r,opentableRecKey:s.recKey};fetch(e,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(l)}).then((function(e){if(e.ok)return e.json();throw t.setState({detected:!1}),e})).then((function(e){var t;console.log("post scan-barcode successful",e),"Y"===(null==(t=i.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:t.setString)&&te(a,"Scan Barcode",o.userName,e.message,null==s?void 0:s.tableId,"",r),n.goBack()})).catch((function(e){console.log("error: ",JSON.stringify(e))}))}))}},{key:"render",value:function(){var e=this.props,t=e.navigation,r=(e.route,this.state),n=(r.hasCameraPermission,r.detected);return Object(J.jsxs)(p.default,{style:{flex:1},children:[Object(J.jsx)(C.BarCodeScanner,{onBarCodeScanned:n?null:this.handleBarCodeScanned,style:{flex:1}}),Object(J.jsxs)(V.default,{style:mn.backButton,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",size:48,color:"white"}),Object(J.jsx)(Z.default,{style:mn.buttonText,children:S.a.get("back")})]}),Object(J.jsx)(p.default,{style:mn.iconContainer,children:Object(J.jsx)(D.default,{name:"ios-barcode",color:n?"red":"white",size:400})})]})}}]),r}(b.Component),bn=L.default.get("window").width,gn=L.default.get("window").height,mn=m.default.create({iconContainer:{position:"absolute",right:bn/2-200,top:gn/2-200,opacity:.5,width:400,height:400,alignItems:"center",justifyContent:"center"},backButton:{position:"absolute",left:50,top:50,width:100,height:100,alignItems:"center",justifyContent:"center",borderRadius:10},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"}});function pn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var jn=function(e){d()(r,e);var t=pn(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,selectedTable:e.route.params.selectedTable,maps:[],thisTable:!!e.route.params.selectedTable,thisUser:!1,overlayChoosePrinterVisible:!1},n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){this.doReload()}},{key:"doReload",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=t.selectedTable,a=t.thisTable,o=t.thisUser,i=r+"api/debuglogs",s=new URLSearchParams;o&&s.append("msg2",n.userName),a&&s.append("msg4",l.tableId),fetch(i+="?"+s,{method:"GET"}).then((function(e){return e.json()})).then((function(t){t.message?e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):e.setState({maps:t})}))}},{key:"doLoad",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=t.home,l=t.selectedTable,a=t.thisTable,o=t.thisUser,i=t.maps;if(!(i.length<40)){var s=r+"api/debuglogs",c=new URLSearchParams;c.append("recKey",i[i.length-1].recKey),o&&c.append("msg2",n.userName),a&&c.append("msg4",l.tableId),fetch(s+="?"+c,{method:"GET"}).then((function(e){return e.json()})).then((function(t){t.message?e.setState({overlayProcedureMessageVisible:t.message.toUpperCase()}):e.setState({maps:[].concat(w()(i),w()(t))})}))}}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"doToggleTable",value:function(){var e=this,t=this.state.thisTable;this.setState({thisTable:!t},(function(){return e.doReload()}))}},{key:"doToggleUser",value:function(){var e=this,t=this.state.thisUser;this.setState({thisUser:!t},(function(){return e.doReload()}))}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.home,l=r.selectedTable,a=r.maps,o=r.thisUser,i=r.thisTable,s=r.overlayProcedureMessageVisible;return Object(J.jsxs)(p.default,{style:xn.container,children:[s&&Object(J.jsx)(se,{text:s,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsx)(p.default,{style:xn.containerFirst,children:Object(J.jsx)(p.default,{style:{flex:1},children:Object(J.jsxs)(V.default,{style:xn.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:xn.buttonText,children:S.a.get("back")})]})})}),Object(J.jsxs)(p.default,{style:xn.containerSecond,children:[Object(J.jsxs)(V.default,{style:xn.overlayHeader,onPress:function(){return e.traceRef.scrollToOffset({animated:!0,offset:0})},children:[Object(J.jsx)(Z.default,{style:xn.overlayTitleText,children:S.a.get("action")}),Object(J.jsx)(Z.default,{style:xn.overlaySubtitleText,children:S.a.get("trace")}),Object(J.jsx)(Z.default,{style:xn.overlayTitleText})]}),Object(J.jsx)(Fe.default,{style:{flex:1},ref:function(t){return e.traceRef=t},showsVerticalScrollIndicator:!1,data:a,onEndReachedThreshold:.4,onEndReached:function(){return e.doLoad()},keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var t=e.item;e.index;return Object(J.jsxs)(je.default,{style:{minHeight:40,paddingVertical:5},contentContainerStyle:{alignItems:"center"},horizontal:!0,alwaysBounceHorizontal:!1,showsHorizontalScrollIndicator:!1,children:[Object(J.jsx)(Z.default,{style:[xn.traceText,{textAlign:"right",width:40,color:re.grey5}],children:oe()(t.createDate).format("ddd")}),Object(J.jsx)(Z.default,{style:[xn.traceText,{marginLeft:10}],children:oe()(t.createDate).format("HH:mm")}),Object(J.jsxs)(p.default,{style:{width:30,marginHorizontal:5,alignItems:"center"},children:["Fire Course"===t.msg1&&Object(J.jsx)(ve.default,{name:"fire",size:20,color:re.reserved,style:{marginLeft:1}}),"Send Order"===t.msg1&&Object(J.jsx)(xe.default,{name:"send",size:18,color:re.occupied,style:{}}),"Finish Payment"===t.msg1&&Object(J.jsx)(Te.default,{name:"checkbox-blank",size:22,color:re.paid,style:{}}),"Finish Dayclose"===t.msg1&&Object(J.jsx)(Te.default,{name:"moon-full",size:22,color:re.reserved,style:{}}),("Open Table"===t.msg1||"Create Table"===t.msg1||"Reopen Receipt"===t.msg1&&!t.msg3)&&Object(J.jsx)(Te.default,{name:"checkbox-blank",size:22,color:re.occupied,style:{}})]}),Object(J.jsxs)(Z.default,{style:[xn.traceText,{color:re.grey5}],children:[t.msg2," "]}),Object(J.jsx)(Z.default,{style:[xn.traceText,{marginLeft:5,color:re.paid}],children:t.msg1}),t.msg5&&Object(J.jsxs)(Z.default,{style:[xn.traceText,{marginLeft:5,color:re.reserved}],children:['"',t.msg5,'"']}),t.msg6&&Object(J.jsxs)(Z.default,{style:[xn.traceText,{marginLeft:5,color:re.vacant}],children:["<",t.msg6,">"]}),t.msg4&&Object(J.jsxs)(Z.default,{style:[xn.traceText,{marginLeft:5,color:re.occupied}],children:["#",t.msg4]}),t.msg3&&Object(J.jsxs)(Z.default,{style:[xn.traceText,{marginLeft:5,color:re.adhoc}],children:["[",t.msg3,"]"]})]})}})]}),Object(J.jsx)(p.default,{style:xn.containerThird,children:Object(J.jsxs)(p.default,{style:{flex:1},children:[Object(J.jsxs)(V.default,{style:[xn.button],onPress:function(){return e.doToggleUser()},children:[Object(J.jsx)(M.default,{name:"woman",color:"white",size:36}),Object(J.jsx)(Z.default,{style:xn.buttonText,numberOfLines:1,children:o?n.userName:S.a.get("all")+" "+S.a.get("user")})]}),Object(J.jsxs)(V.default,{style:[xn.button],disabled:!l,onPress:function(){return e.doToggleTable()},children:[Object(J.jsx)(M.default,{name:"appstore-o",color:"white",size:36}),Object(J.jsx)(Z.default,{style:xn.buttonText,children:i?S.a.get("table")+" "+l.tableId:S.a.get("all")+" "+S.a.get("table")})]})]})})]})}}]),r}(b.Component),xn=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},containerFirst:{flex:1,flexDirection:"row",padding:10},containerSecond:{flex:6,marginVertical:10,borderRadius:5,backgroundColor:re.grey3},containerThird:{flex:1,flexDirection:"row",padding:10},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},overlayHeader:{marginVertical:15,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6,textAlign:"center"},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white",textAlign:"center"},traceText:{fontFamily:"varela-round",color:"white",fontSize:12}});function vn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Tn=function(e){d()(r,e);var t=vn(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,masters:e.route.params.masters,privileges:e.route.params.masters.privileges,settings:e.route.params.masters.settings,menus:w()(new Map(e.route.params.masters.menus.map((function(e){return[e.menuId,e]}))).values()),availableMenus:w()(new Map(e.route.params.masters.menus.map((function(e){return[e.menuId,e]}))).values()),updateds:[],searchText:"",displayMode:"ALL",overlayRequestPrivilegeVisible:!1,overlayProcedureMessageVisible:!1,overlayAlertVisible:!1,overlayAlertInputValue:"",loading:!1},n.handleSelectMenu=n.handleSelectMenu.bind(B()(n)),n.handleSelectUpdated=n.handleSelectUpdated.bind(B()(n)),n.handlePressDisplayMode=n.handlePressDisplayMode.bind(B()(n)),n.handleSubmit=n.handleSubmit.bind(B()(n)),n.handleUpdateMenu=n.handleUpdateMenu.bind(B()(n)),n.handleSearchText=n.handleSearchText.bind(B()(n)),n.handleUpdateFromRequestAccess=n.handleUpdateFromRequestAccess.bind(B()(n)),n.handleUpdateFromAlert=n.handleUpdateFromAlert.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"handleSelectMenu",value:function(e){var t=this.state,r=(t.menus,t.updateds);if(!r.some((function(t){return t.recKey===e.recKey}))){var n=r;n.push(e),this.setState({updateds:n})}}},{key:"handleSelectUpdated",value:function(e){var t=this.state,r=(t.menus,t.updateds);r=r.filter((function(t){return t.recKey!==e.recKey})),this.setState({updateds:r})}},{key:"handleSubmit",value:function(){var e=this.state.updateds,t=[];t.push({text:"Yes",handleText:"handleUpdateMenu"}),this.setState({overlayAlertInputValue:{title:S.a.get("action"),subtitle:"Update Menu",text:"Update "+e.length+" menus?",ok:!1,cancel:!0,options:t},overlayAlertVisible:!0})}},{key:"handleUpdateMenu",value:function(e){var t=this,r=this.props.navigation,n=this.state,l=n.home,a=n.settings,o=n.privileges,i=n.serviceEntry,s=n.updateds;if("Y"===l.adminFlg||o.some((function(e){return"UPDATEMENU"===e.priId}))||e){var c=s.map((function(e){return{recKey:e.recKey,newStatusFlg:"A"===e.statusFlg?"B":"A"}})).reduce((function(e,t){return e+t.recKey+","+t.newStatusFlg+","}),""),d=i+"api/update-restmenu",u={userId:l.userId,orgId:l.orgId,shopId:l.shopId,restmenuRecKeys:c};this.setState({loading:!0}),fetch(d,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(u)}).then((function(e){return e.json()})).then((function(e){var n;console.log("post update-restmenu successful"),"Y"===(null==(n=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:n.setString)&&te(i,"Update Menu",l.userName,e.message,"","",s.map((function(e){return{menuId:e.menuId,newStatusFlg:"A"===e.statusFlg?"B":"A"}})).reduce((function(e,t){return e+t.menuId+","+t.newStatusFlg+","}),"")),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase(),loading:!1}):r.navigate("Login",{sync:new Date})})).catch((function(e){console.log(e),t.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!0})}},{key:"handleSearchText",value:function(e){var t=this.state,r=t.menus,n=(t.availableMenus,t.searchText,[]);this.setState({searchText:e,displayMode:"ALL"});var l=e.toUpperCase();n=r,e?(n=n.filter((function(e){return e.menuName.toUpperCase().includes(l)||e.menuId.toUpperCase().includes(l)})),this.setState({availableMenus:n})):this.setState({availableMenus:n})}},{key:"handlePressDisplayMode",value:function(){var e=this.state,t=e.displayMode,r=e.menus;"INACTIVE ONLY"===t?this.setState({availableMenus:r,searchText:"",displayMode:"ALL"}):"ALL"===t&&this.setState({availableMenus:r.filter((function(e){return"B"===e.statusFlg})),searchText:"",displayMode:"INACTIVE ONLY"})}},{key:"handleUpdateFromRequestAccess",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.settings;if(e){var o=l+"api/super-user",i={locId:n.locId,accessCode:e,priId:"UPDATEMENU"};fetch(o,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post super-user successful",e),"Y"===(null==(r=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(l,"Request Access UPDATEMENU",n.userName,e.message,"","",e.userId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(t.setState({overlayRequestAccessVisible:!1}),t.handleUpdateMenu(e.userId))})).catch((function(e){console.log(e),t.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!1})}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""}),e&&"handleUpdateMenu"===e&&this.handleUpdateMenu()}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.home,l=r.availableMenus,a=r.updateds,o=r.searchText,i=r.displayMode,s=r.overlayRequestAccessVisible,c=r.overlayProcedureMessageVisible,d=r.overlayAlertVisible,u=r.overlayAlertInputValue,f=r.loading;return console.log("in activate"),Object(J.jsxs)(p.default,{style:On.container,children:[d&&Object(J.jsx)(Ct,{input:u,handleUpdateFromAlert:this.handleUpdateFromAlert}),c&&Object(J.jsx)(se,{text:c,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),s&&Object(J.jsx)(Ye,{home:n,requestedPrivilege:"UPDATEMENU",handleUpdateFromRequestAccess:this.handleUpdateFromRequestAccess}),Object(J.jsxs)(p.default,{style:On.leftContainer,children:[Object(J.jsx)(p.default,{style:On.navigateContainer,children:Object(J.jsxs)(p.default,{style:On.navigateWrapper,children:[Object(J.jsxs)(V.default,{style:On.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:On.buttonText,children:S.a.get("back")})]}),Object(J.jsx)(p.default,{style:On.selectionContainer})]})}),Object(J.jsx)(p.default,{style:On.displayContainer,children:Object(J.jsxs)(p.default,{style:[On.displayWrapper,{paddingRight:5}],children:[Object(J.jsx)(p.default,{style:On.gap}),Object(J.jsxs)(p.default,{style:On.gridContainer,children:[Object(J.jsxs)(p.default,{style:On.searchBox,children:[Object(J.jsx)(N.default,{style:On.searchBoxInputValue,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",value:o,onChangeText:function(t){return e.handleSearchText(t)}}),Object(J.jsx)(V.default,{style:On.searchBoxButton,onPress:function(){e.setState({searchText:""},(function(){return e.handleSearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]}),Object(J.jsxs)(p.default,{style:On.searchBoxInfo,children:[Object(J.jsx)(V.default,{style:On.searchBoxInfoLeft,onPress:function(){return e.handlePressDisplayMode()},children:Object(J.jsx)(Z.default,{style:On.searchBoxInfoText,children:i})}),Object(J.jsx)(p.default,{style:On.searchBoxInfoRight,children:Object(J.jsxs)(Z.default,{style:On.searchBoxInfoText,children:[l.length," ITEMS"]})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},data:l,showsVerticalScrollIndicator:!1,keyExtractor:function(e,t){return t.toString()},renderItem:function(t){var r=t.item;return Object(J.jsxs)(V.default,{style:On.grid,onPress:function(){return e.handleSelectMenu(r)},children:[Object(J.jsxs)(p.default,{style:On.gridFirst,children:[Object(J.jsx)(p.default,{style:On.gridFirstLeft,children:Object(J.jsx)(Z.default,{style:On.gridFirstLeftText,children:r.menuId})}),Object(J.jsx)(p.default,{style:On.gridFirstRight,children:"A"===r.statusFlg?Object(J.jsx)(Z.default,{style:[On.gridFirstRightText,{color:re.reserved}],children:"ACTIVE"}):Object(J.jsx)(Z.default,{style:[On.gridFirstRightText,{color:re.paid}],children:"INACTIVE"})})]}),Object(J.jsx)(p.default,{style:On.gridSecond,children:Object(J.jsx)(Z.default,{style:On.gridSecondText,children:r.menuName})}),Object(J.jsxs)(p.default,{style:On.gridThird,children:[Object(J.jsx)(p.default,{style:On.gridThirdLeft,children:Object(J.jsxs)(Z.default,{style:[On.gridThirdRightText,{color:re.reserved}],children:["KOT ",r.kotType||"-"]})}),Object(J.jsx)(p.default,{style:On.gridThirdRight,children:Object(J.jsxs)(Z.default,{style:On.gridThirdRightText,children:["$",r.listPrice.toFixed(2)]})})]})]})}})]}),Object(J.jsx)(p.default,{style:On.gap})]})})]}),Object(J.jsxs)(p.default,{style:On.rightContainer,children:[Object(J.jsx)(p.default,{style:On.displayContainer,children:Object(J.jsxs)(p.default,{style:[On.displayWrapper,{paddingLeft:5}],children:[Object(J.jsx)(p.default,{style:On.gap}),Object(J.jsxs)(p.default,{style:On.gridContainer,children:[Object(J.jsx)(p.default,{style:[On.searchBox,{backgroundColor:re.grey3}]}),Object(J.jsxs)(p.default,{style:On.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:[On.titleSecondContainer,{flex:3}],children:Object(J.jsxs)(Z.default,{style:On.titleText,children:[a.length," Changes"]})}),Object(J.jsx)(p.default,{style:[On.titleFourthContainer,{flex:1}],children:Object(J.jsx)(Z.default,{style:On.titleText,children:"New Status"})})]}),Object(J.jsx)(je.default,{style:{flex:1},children:a?a.map((function(t,r){return Object(J.jsxs)(V.default,{style:On.grid,onPress:function(){return e.handleSelectUpdated(t)},children:[Object(J.jsxs)(p.default,{style:On.gridFirst,children:[Object(J.jsx)(p.default,{style:On.gridFirstLeft,children:Object(J.jsx)(Z.default,{style:On.gridFirstLeftText,children:t.menuId})}),Object(J.jsx)(p.default,{style:On.gridFirstRight,children:"B"===t.statusFlg?Object(J.jsx)(Z.default,{style:[On.gridFirstRightText,{color:re.reserved}],children:"ACTIVE"}):Object(J.jsx)(Z.default,{style:[On.gridFirstRightText,{color:re.paid}],children:"INACTIVE"})})]}),Object(J.jsx)(p.default,{style:On.gridSecond,children:Object(J.jsx)(Z.default,{style:On.gridSecondText,children:t.menuName})}),Object(J.jsxs)(p.default,{style:On.gridThird,children:[Object(J.jsx)(p.default,{style:On.gridThirdLeft}),Object(J.jsx)(p.default,{style:On.gridThirdRight,children:Object(J.jsxs)(Z.default,{style:On.gridThirdRightText,children:["$",t.listPrice.toFixed(2)]})})]})]},r)})):null})]}),Object(J.jsx)(p.default,{style:On.gap})]})}),Object(J.jsx)(p.default,{style:On.navigateContainer,children:Object(J.jsx)(p.default,{style:On.navigateWrapper,children:Object(J.jsxs)(V.default,{style:[On.button,(f||0===a.length)&&{opacity:.2}],disabled:f||0===a.length,onPress:function(){return e.handleSubmit()},children:[Object(J.jsx)(M.default,{name:"bulb1",color:"white",size:36}),Object(J.jsx)(Z.default,{style:On.buttonText,children:S.a.get("update")})]})})})]})]})}}]),r}(b.Component),On=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1,flexDirection:"row"},rightContainer:{flex:1,flexDirection:"row"},displayContainer:{flex:3,backgroundColor:re.grey1},displayWrapper:{flex:1},gridContainer:{flex:1,backgroundColor:re.grey3,borderRadius:5,flexDirection:"column",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center",overflow:"hidden"},searchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,margin:5,marginTop:10,marginBottom:0,flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},searchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},searchBoxInfoLeft:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoRight:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},grid:{margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},gridFirst:{flexDirection:"row"},gridSecond:{marginVertical:5},gridThird:{flexDirection:"row"},gridFirstLeft:{flex:1},gridFirstRight:{flex:1,alignItems:"flex-end"},gridThirdLeft:{flex:1},gridThirdRight:{flex:1,alignItems:"flex-end"},gridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridFirstRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},gridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},navigateContainer:{flex:1,backgroundColor:re.grey1,flexDirection:"column"},navigateWrapper:{flex:1,paddingHorizontal:10,paddingTop:10},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},selectionContainer:{marginTop:10},selection:{backgroundColor:re.grey3,borderRadius:5,alignItems:"center",justifyContent:"center",paddingVertical:30},selectionText:{fontFamily:"varela-round",color:"white",fontSize:12,textAlign:"center"},gap:{padding:5},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},tableItemFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:re.grey3},titleSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},titleThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},titleFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleText:{fontFamily:"varela-round",color:re.grey5},overlayHeader:{height:50,marginVertical:5,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"}});function Sn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var In=function(e){d()(r,e);var t=Sn(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,masters:e.route.params.masters,privileges:e.route.params.masters.privileges,settings:e.route.params.masters.settings,menus:w()(new Map(e.route.params.masters.menus.map((function(e){return[e.menuId,e]}))).values()),availableMenus:w()(new Map(e.route.params.masters.menus.map((function(e){return[e.menuId,e]}))).values()),searchText:"",displayMode:"ALL",limiteds:[],selectedMenu:null,statusFlg:"",serveLimit:"",loading:!1},n.handlePressDisplayMode=n.handlePressDisplayMode.bind(B()(n)),n.handleSearchText=n.handleSearchText.bind(B()(n)),n.handleUpdateFromRequestAccess=n.handleUpdateFromRequestAccess.bind(B()(n)),n.handleUpdateFromAlert=n.handleUpdateFromAlert.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){this.doGet()}},{key:"doGet",value:function(){var e=this,t=this.state,r=t.serviceEntry,n=(t.home,r+"api/restmenu-serve");n+="?"+new URLSearchParams,console.log(n),fetch(n,{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({limiteds:t})}))}},{key:"doSelectMenu",value:function(e){var t,r=this.state.limiteds;this.setState({selectedMenu:e,statusFlg:e.statusFlg,serveLimit:(null==(t=r.find((function(t){return t.recKey===e.recKey})))?void 0:t.serveLimit.toString())||"0"})}},{key:"doToggleStatus",value:function(){"A"===this.state.statusFlg?this.setState({statusFlg:"B"}):this.setState({statusFlg:"A"})}},{key:"doSubmit",value:function(){var e=this.state.selectedMenu,t=[];t.push({text:"Yes",handleText:"doLimitMenu"}),this.setState({overlayAlertInputValue:{title:S.a.get("action"),subtitle:"Limit Menu",text:"Limit "+e.menuName+"?",ok:!1,cancel:!0,options:t},overlayAlertVisible:!0})}},{key:"doLimitMenu",value:function(e){var t=this,r=(this.props.navigation,this.state),n=r.home,l=r.settings,a=(r.privileges,r.serviceEntry),o=r.selectedMenu,i=r.statusFlg,s=r.serveLimit,c=a+"api/update-restmenu-serve",d={userId:n.userId,orgId:n.orgId,shopId:n.shopId,restmenuRecKey:o.recKey,statusFlg:i,serveLimit:s};this.setState({loading:!0}),fetch(c,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post update-restmenu-serve"),"Y"===(null==(r=l.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(a,"Limit Menu",n.userName,e.message,"",o.menuName,s+","+i),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase(),loading:!1}):t.setState({loading:!1,displayMode:"ALL",menus:e,availableMenus:e},(function(){return t.doGet()}))})).catch((function(e){console.log(e),t.setState({loading:!1})}))}},{key:"handleSearchText",value:function(e){var t=this.state,r=t.menus,n=(t.availableMenus,t.searchText,[]);this.setState({searchText:e,displayMode:"ALL"});var l=e.toUpperCase();n=r,e?(n=n.filter((function(e){return e.menuName.toUpperCase().includes(l)||e.menuId.toUpperCase().includes(l)})),this.setState({availableMenus:n})):this.setState({availableMenus:n})}},{key:"handlePressDisplayMode",value:function(){var e=this.state,t=e.displayMode,r=e.menus,n=(e.availableMenus,e.limiteds);"LIMITED ONLY"===t?this.setState({availableMenus:r,searchText:"",displayMode:"ALL"}):"ALL"===t&&this.setState({availableMenus:r.filter((function(e){return n.some((function(t){return t.recKey===e.recKey}))})),searchText:"",displayMode:"LIMITED ONLY"})}},{key:"handleUpdateFromRequestAccess",value:function(e){var t=this,r=this.state,n=r.home,l=r.serviceEntry,a=r.settings;if(e){var o=l+"api/super-user",i={locId:n.locId,accessCode:e,priId:"UPDATEMENU"};fetch(o,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){var r;console.log("post super-user successful",e),"Y"===(null==(r=a.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:r.setString)&&te(l,"Request Access UPDATEMENU",n.userName,e.message,"","",e.userId),e.message?t.setState({overlayProcedureMessageVisible:e.message.toUpperCase()}):(t.setState({overlayRequestAccessVisible:!1}),t.doLimitMenu(e.userId))})).catch((function(e){console.log(e),t.setState({loading:!1})}))}else this.setState({overlayRequestAccessVisible:!1})}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""}),e&&"doLimitMenu"===e&&this.doLimitMenu()}},{key:"renderItem",value:function(e){var t=this,r=this.state.limiteds.find((function(t){return t.recKey===e.recKey}));return Object(J.jsxs)(V.default,{style:Cn.grid,onPress:function(){return t.doSelectMenu(e)},children:[Object(J.jsxs)(p.default,{style:Cn.gridFirst,children:[Object(J.jsx)(p.default,{style:Cn.gridFirstLeft,children:Object(J.jsx)(Z.default,{style:Cn.gridFirstLeftText,children:e.menuId})}),Object(J.jsx)(p.default,{style:Cn.gridFirstRight,children:"A"===e.statusFlg?Object(J.jsx)(Z.default,{style:[Cn.gridFirstRightText,{color:re.reserved}],children:"ACTIVE"}):Object(J.jsx)(Z.default,{style:[Cn.gridFirstRightText,{color:re.paid}],children:"INACTIVE"})})]}),Object(J.jsx)(p.default,{style:Cn.gridSecond,children:Object(J.jsx)(Z.default,{style:Cn.gridSecondText,children:e.menuName})}),Object(J.jsxs)(p.default,{style:Cn.gridThird,children:[Object(J.jsx)(p.default,{style:Cn.gridThirdLeft,children:r&&Object(J.jsxs)(Z.default,{style:{fontFamily:"varela-round",color:re.vacant,fontSize:12},children:["LIMIT ",r.serveLimit," SERVED ",r.serveCount]})}),Object(J.jsx)(p.default,{style:Cn.gridThirdRight,children:Object(J.jsxs)(Z.default,{style:Cn.gridThirdRightText,children:["$",e.listPrice.toFixed(2)]})})]})]})}},{key:"render",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.home,l=r.availableMenus,a=r.selectedMenu,o=r.searchText,i=r.displayMode,s=r.overlayRequestAccessVisible,c=r.overlayProcedureMessageVisible,d=r.overlayAlertVisible,u=r.overlayAlertInputValue,f=r.loading,h=r.statusFlg,y=r.serveLimit;return console.log("in activate"),Object(J.jsxs)(p.default,{style:Cn.container,children:[d&&Object(J.jsx)(Ct,{input:u,handleUpdateFromAlert:this.handleUpdateFromAlert}),c&&Object(J.jsx)(se,{text:c,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),s&&Object(J.jsx)(Ye,{home:n,requestedPrivilege:"UPDATEMENU",handleUpdateFromRequestAccess:this.handleUpdateFromRequestAccess}),Object(J.jsxs)(p.default,{style:Cn.leftContainer,children:[Object(J.jsx)(p.default,{style:Cn.navigateContainer,children:Object(J.jsxs)(p.default,{style:Cn.navigateWrapper,children:[Object(J.jsxs)(V.default,{style:Cn.button,onPress:function(){return t.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Cn.buttonText,children:S.a.get("back")})]}),Object(J.jsx)(p.default,{style:Cn.selectionContainer})]})}),Object(J.jsx)(p.default,{style:Cn.displayContainer,children:Object(J.jsxs)(p.default,{style:[Cn.displayWrapper,{paddingRight:5}],children:[Object(J.jsx)(p.default,{style:Cn.gap}),Object(J.jsxs)(p.default,{style:Cn.gridContainer,children:[Object(J.jsxs)(p.default,{style:Cn.searchBox,children:[Object(J.jsx)(N.default,{style:Cn.searchBoxInputValue,placeholder:"ENTER SEARCH TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",value:o,onChangeText:function(t){return e.handleSearchText(t)}}),Object(J.jsx)(V.default,{style:Cn.searchBoxButton,onPress:function(){e.setState({searchText:""},(function(){return e.handleSearchText("")})),ke.default.dismiss()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]}),Object(J.jsxs)(p.default,{style:Cn.searchBoxInfo,children:[Object(J.jsx)(V.default,{style:Cn.searchBoxInfoLeft,onPress:function(){return e.handlePressDisplayMode()},children:Object(J.jsx)(Z.default,{style:Cn.searchBoxInfoText,children:i})}),Object(J.jsx)(p.default,{style:Cn.searchBoxInfoRight,children:Object(J.jsxs)(Z.default,{style:Cn.searchBoxInfoText,children:[l.length," ITEMS"]})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},data:l,showsVerticalScrollIndicator:!1,keyExtractor:function(e,t){return t.toString()},renderItem:function(t){var r=t.item;return e.renderItem(r)}})]}),Object(J.jsx)(p.default,{style:Cn.gap})]})})]}),Object(J.jsxs)(p.default,{style:Cn.rightContainer,children:[Object(J.jsx)(p.default,{style:Cn.displayContainer,children:Object(J.jsxs)(p.default,{style:[Cn.displayWrapper,{paddingLeft:5}],children:[Object(J.jsx)(p.default,{style:Cn.gap}),a&&Object(J.jsxs)(p.default,{style:{flex:1,backgroundColor:re.grey3,borderRadius:5},children:[Object(J.jsxs)(p.default,{style:{alignItems:"center",marginTop:10},children:[Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:re.paid,fontSize:16},children:a.menuId}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:"white",fontSize:20,textAlign:"center",paddingHorizontal:20},children:a.menuName})]}),Object(J.jsxs)(p.default,{style:Cn.inputContainer,children:[Object(J.jsxs)(p.default,{style:Cn.inputRow,children:[Object(J.jsx)(p.default,{style:Cn.inputRowLeft,children:Object(J.jsx)(Z.default,{style:Cn.inputRowLeftText,children:"Status"})}),Object(J.jsx)(V.default,{style:Cn.inputRowRight,onPress:function(){return e.doToggleStatus()},children:Object(J.jsx)(Z.default,{style:[Cn.inputRowRightText,{color:"A"===h?re.reserved:re.paid}],children:"A"===h?"Active":"Inactive"})})]}),Object(J.jsxs)(p.default,{style:Cn.inputRow,children:[Object(J.jsx)(p.default,{style:Cn.inputRowLeft,children:Object(J.jsx)(Z.default,{style:Cn.inputRowLeftText,children:"Limit"})}),Object(J.jsx)(p.default,{style:Cn.inputRowRight,children:Object(J.jsx)(N.default,{style:Cn.textInput,keyboardType:"numeric",selectTextOnFocus:!0,value:y,onChangeText:function(t){return e.setState({serveLimit:t})}})})]})]})]}),Object(J.jsx)(p.default,{style:Cn.gap})]})}),Object(J.jsx)(p.default,{style:Cn.navigateContainer,children:Object(J.jsx)(p.default,{style:Cn.navigateWrapper,children:Object(J.jsxs)(V.default,{style:[Cn.button,!a&&{opacity:.2}],disabled:f||!a,onPress:function(){return e.doSubmit()},children:[Object(J.jsx)(M.default,{name:"staro",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Cn.buttonText,children:S.a.get("update")})]})})})]})]})}}]),r}(b.Component),Cn=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1,flexDirection:"row"},rightContainer:{flex:1,flexDirection:"row"},displayContainer:{flex:3,backgroundColor:re.grey1},displayWrapper:{flex:1},gridContainer:{flex:1,backgroundColor:re.grey3,borderRadius:5,flexDirection:"column",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center",overflow:"hidden"},searchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,margin:5,marginTop:10,marginBottom:0,flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},searchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},searchBoxInfoLeft:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoRight:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},grid:{margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},gridFirst:{flexDirection:"row"},gridSecond:{marginVertical:5},gridThird:{flexDirection:"row"},gridFirstLeft:{flex:1},gridFirstRight:{flex:1,alignItems:"flex-end"},gridThirdLeft:{flex:1},gridThirdRight:{flex:1,alignItems:"flex-end"},gridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridFirstRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},gridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},navigateContainer:{flex:1,backgroundColor:re.grey1,flexDirection:"column"},navigateWrapper:{flex:1,paddingHorizontal:10,paddingTop:10},button:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},selectionContainer:{marginTop:10},selection:{backgroundColor:re.grey3,borderRadius:5,alignItems:"center",justifyContent:"center",paddingVertical:30},selectionText:{fontFamily:"varela-round",color:"white",fontSize:12,textAlign:"center"},gap:{padding:5},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},tableItemFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:re.grey3},titleSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},titleThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},titleFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleText:{fontFamily:"varela-round",color:re.grey5},overlayHeader:{height:50,marginVertical:5,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"},inputContainer:{marginTop:30,marginHorizontal:5},inputRow:{flexDirection:"row",height:40,margin:5},inputRowLeft:{flex:1,paddingLeft:10,justifyContent:"center"},inputRowRight:{flex:1,backgroundColor:re.grey1,borderRadius:5,justifyContent:"center",alignItems:"flex-end"},inputRowLeftText:{color:"white",fontFamily:"varela-round",fontSize:16},inputRowRightText:{paddingHorizontal:10,color:"white",fontFamily:"varela-round",fontSize:16},textInput:{paddingHorizontal:10,flex:1,width:"100%",textAlign:"right",color:"white",fontFamily:"varela-round",fontSize:16}});function Fn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Pn=function(e){d()(r,e);var t=Fn(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,masters:e.route.params.masters,selectedTable:e.route.params.selectedTable,tableItems:e.route.params.tableItems,kitchenmsgs:e.route.params.masters.kitchenmsgs,kottypes:e.route.params.masters.kottypes,privileges:e.route.params.masters.privileges,settings:e.route.params.masters.settings,remark:"",selectedTableItems:[],selectedKottypes:[],selectedKitchenmsg:null,overlayRequestPrivilegeVisible:!1,overlayProcedureMessageVisible:!1,overlayAlertVisible:!1,overlayAlertInputValue:""},n.handleUpdateFromAlert=n.handleUpdateFromAlert.bind(B()(n)),n.handleUpdateFromProcedureMessage=n.handleUpdateFromProcedureMessage.bind(B()(n)),n}return s()(r,[{key:"componentDidMount",value:function(){}},{key:"doReset",value:function(){ke.default.dismiss(),this.setState({selectedKitchenmsg:null,selectedKottypes:[],selectedTableItems:[],remark:""})}},{key:"doPressFire",value:function(){var e=this.state;e.selectedKottypes,e.selectedTableItems,e.remark;this.doSubmit()}},{key:"doPressKitchenmsg",value:function(e){var t,r=this.state,n=r.selectedKitchenmsg,l=r.kottypes;(null==n?void 0:n.recKey)===(null==e?void 0:e.recKey)?this.setState({selectedKitchenmsg:null,remark:"",selectedKottypes:[]}):this.setState({selectedKitchenmsg:e,remark:e.name,selectedKottypes:(null==(t=e.kotTypes)?void 0:t.split(",").map((function(e){return l.find((function(t){return t.kotType===e}))})))||[]})}},{key:"doPressTableItem",value:function(e){var t=this.state.selectedTableItems,r=t;t.some((function(t){return t.recKey===e.recKey}))?r=t.filter((function(t){return t.recKey!==e.recKey})):r.push(e),this.setState({selectedTableItems:r})}},{key:"doPressKottype",value:function(e){var t=this.state.selectedKottypes,r=t;t.some((function(t){return t.recKey===e.recKey}))?r=t.filter((function(t){return t.recKey!==e.recKey})):r.push(e),this.setState({selectedKottypes:r})}},{key:"doPressAllKottype",value:function(){var e=this.state,t=e.selectedKottypes,r=e.kottypes;r.some((function(e){return!t.some((function(t){return t.recKey===e.recKey}))}))?this.setState({selectedKottypes:r}):this.setState({selectedKottypes:[]})}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""}),e&&"doSubmit"===e&&this.doSubmit()}},{key:"doSubmit",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.serviceEntry,l=r.home,a=r.selectedTable,o=(r.masters,r.settings),i=r.selectedKitchenmsg,s=r.selectedTableItems,c=r.selectedKottypes,d=r.remark,u=n+"api/tables/"+a.recKey+"/fire-kot",f={userId:l.userId,orgId:l.orgId,locId:l.locId,opentableRecKey:a.recKey,remark:d,kotTypes:c.map((function(e){return e.kotType})).join(","),opentableItemRecKeys:s.map((function(e){return e.recKey})).join(","),msgId:null==i?void 0:i.msgId};console.log(f),fetch(u,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(f)}).then((function(e){return e.json()})).then((function(r){var i;console.log("post fire-kot successful",r),"Y"===(null==(i=o.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:i.setString)&&te(n,"Fire Course",l.userName,r.message,a.tableId,"",d+" ("+s.map((function(e){return e.menuId})).join(",")+") ("+c.map((function(e){return e.kotType})).join(",")+")"),r.message?e.setState({overlayProcedureMessageVisible:r.message.toUpperCase()}):t.goBack()}))}},{key:"render",value:function(){var e,t=this,r=this.props.navigation,n=this.state,l=(n.home,n.remark),a=n.kottypes,o=n.kitchenmsgs,i=n.tableItems,s=n.selectedKitchenmsg,c=n.selectedTableItems,d=n.selectedKottypes,u=n.overlayProcedureMessageVisible,f=n.overlayAlertVisible,h=n.overlayAlertInputValue;return Object(J.jsxs)(p.default,{style:Rn.container,children:[f&&Object(J.jsx)(Ct,{input:h,handleUpdateFromAlert:this.handleUpdateFromAlert}),u&&Object(J.jsx)(se,{text:u,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsxs)(p.default,{style:Rn.leftContainer,children:[Object(J.jsx)(p.default,{style:Rn.navigateContainer,children:Object(J.jsxs)(p.default,{style:Rn.navigateWrapper,children:[Object(J.jsxs)(V.default,{style:Rn.navigateButton,onPress:function(){return r.goBack()},children:[Object(J.jsx)(M.default,{name:"left",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Rn.navigateButtonText,children:S.a.get("back")})]}),Object(J.jsx)(p.default,{style:Rn.selectionContainer})]})}),Object(J.jsx)(p.default,{style:Rn.displayContainer,children:Object(J.jsxs)(p.default,{style:[Rn.displayWrapper,{paddingRight:5}],children:[Object(J.jsx)(p.default,{style:Rn.gap}),Object(J.jsxs)(p.default,{style:Rn.gridContainer,children:[Object(J.jsxs)(p.default,{style:Rn.searchBox,children:[Object(J.jsx)(N.default,{style:Rn.searchBoxInputValue,placeholder:"ENTER MESSAGE",placeholderTextColor:"rgba(255,255,255,0.2)",value:l,onChangeText:function(e){return t.setState({remark:e})}}),Object(J.jsx)(V.default,{style:Rn.searchBoxButton,onPress:function(){return t.doReset()},children:Object(J.jsx)(M.default,{name:"close",size:24,color:re.grey4})})]}),Object(J.jsx)(p.default,{style:Rn.searchBoxInfo,children:Object(J.jsx)(p.default,{style:Rn.titleSecondContainer,children:Object(J.jsx)(Z.default,{style:Rn.titleText,children:"Desc"})})}),Object(J.jsx)(Fe.default,{style:{flex:1,marginHorizontal:2.5},showsVerticalScrollIndicator:!1,data:o,numColumns:2,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var r=e.item;return Object(J.jsx)(V.default,{style:[Rn.tableItemContainer,{marginHorizontal:2.5},(null==s?void 0:s.recKey)===(null==r?void 0:r.recKey)&&{backgroundColor:re.occupied}],onPress:function(){return t.doPressKitchenmsg(r)},children:Object(J.jsx)(p.default,{style:Rn.tableItemSecondContainer,children:Object(J.jsx)(Z.default,{style:Rn.tableItemText,children:r.name})})})}})]}),Object(J.jsx)(p.default,{style:Rn.gap})]})})]}),Object(J.jsxs)(p.default,{style:Rn.rightContainer,children:[Object(J.jsx)(p.default,{style:Rn.displayContainer,children:Object(J.jsxs)(p.default,{style:[Rn.displayWrapper,{paddingLeft:5}],children:[Object(J.jsx)(p.default,{style:Rn.gap}),Object(J.jsxs)(p.default,{style:Rn.gridContainer,children:[Object(J.jsxs)(p.default,{style:Rn.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:Rn.titleFirstContainer,children:Object(J.jsx)(Z.default,{style:Rn.titleText,children:"Qty"})}),Object(J.jsx)(p.default,{style:Rn.titleSecondContainer,children:Object(J.jsx)(Z.default,{style:Rn.titleText,children:"Desc"})}),Object(J.jsx)(p.default,{style:Rn.titleThirdContainer,children:Object(J.jsx)(Z.default,{style:Rn.titleText,children:"Price"})}),Object(J.jsx)(p.default,{style:Rn.titleFourthContainer,children:Object(J.jsx)(Z.default,{style:Rn.titleText,children:"Total"})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},showsVerticalScrollIndicator:!1,data:i,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(e){var r=e.item;return Object(J.jsxs)(V.default,{style:[Rn.tableItemContainer,c.some((function(e){return e.recKey===r.recKey}))&&{backgroundColor:re.occupied},r.refRecKey&&{opacity:.2}],disabled:!!r.refRecKey,onPress:function(){return t.doPressTableItem(r)},children:[Object(J.jsx)(p.default,{style:[Rn.tableItemFirstContainer,"Y"===r.fireFlg&&{borderRightColor:re.reserved}],children:Object(J.jsx)(Z.default,{style:Rn.tableItemText,children:r.orderQty})}),Object(J.jsxs)(p.default,{style:Rn.tableItemSecondContainer,children:[Object(J.jsxs)(Z.default,{style:Rn.tableItemText,children:[r.refRecKey?"- ":null,r.menuName]}),r.menuMod?Object(J.jsx)(Z.default,{style:Rn.tableItemModText,children:r.menuMod}):null]}),Object(J.jsx)(p.default,{style:Rn.tableItemThirdContainer,children:Object(J.jsx)(Z.default,{style:Rn.tableItemText,children:r.netPrice&&r.netPrice.toFixed(2)})}),Object(J.jsx)(p.default,{style:Rn.tableItemFourthContainer,children:Object(J.jsx)(Z.default,{style:Rn.tableItemText,children:r.lineTotal&&r.lineTotal.toFixed(2)})})]})}})]}),Object(J.jsx)(p.default,{style:Rn.gap}),Object(J.jsxs)(p.default,{style:Rn.gridContainer,children:[Object(J.jsxs)(p.default,{style:Rn.searchBoxInfo,children:[Object(J.jsx)(p.default,{style:{paddingLeft:10,alignItems:"center",justifyContent:"center"},children:Object(J.jsx)(Z.default,{style:Rn.titleText,children:"Destination"})}),Object(J.jsx)(p.default,{style:Rn.titleFourthContainer,children:d.length>1?Object(J.jsx)(Z.default,{style:[Rn.titleText,{color:"white"}],children:"Various"}):1===d.length?Object(J.jsx)(Z.default,{style:[Rn.titleText,{color:"white"}],children:null==a||null==(e=a.find((function(e){return e.kotType===d[0].kotType})))?void 0:e.kotName}):Object(J.jsx)(Z.default,{style:[Rn.titleText,{color:"white"}],children:"-"})})]}),Object(J.jsx)(Fe.default,{style:{flex:1},showsVerticalScrollIndicator:!1,data:a,keyExtractor:function(e){return e.recKey.toString()},ListHeaderComponent:Object(J.jsx)(V.default,{style:[Rn.tableItemContainer,!a.some((function(e){return!d.some((function(t){return t.recKey===e.recKey}))}))&&{backgroundColor:re.occupied}],onPress:function(){return t.doPressAllKottype()},children:Object(J.jsx)(p.default,{style:Rn.tableItemSecondContainer,children:Object(J.jsx)(Z.default,{style:Rn.tableItemText,children:"ALL KOT PRINTERS"})})}),renderItem:function(e){var r=e.item;return Object(J.jsx)(V.default,{style:[Rn.tableItemContainer,d.some((function(e){return e.recKey===r.recKey}))&&{backgroundColor:re.occupied}],onPress:function(){return t.doPressKottype(r)},children:Object(J.jsxs)(p.default,{style:[Rn.tableItemSecondContainer,{flexDirection:"row",justifyContent:"space-between",paddingRight:10,alignItems:"center"}],children:[Object(J.jsx)(Z.default,{style:Rn.tableItemText,children:r.kotName}),Object(J.jsx)(Z.default,{style:Rn.tableItemText,children:r.kotType})]})})}})]}),Object(J.jsx)(p.default,{style:Rn.gap})]})}),Object(J.jsx)(p.default,{style:Rn.navigateContainer,children:Object(J.jsx)(p.default,{style:Rn.navigateWrapper,children:Object(J.jsxs)(V.default,{style:[Rn.navigateButton,(0===c.length&&0===d.length||!l)&&{opacity:.2}],disabled:0===c.length&&0===d.length||!l,onPress:function(){return t.doPressFire()},children:[Object(J.jsx)(M.default,{name:"customerservice",color:"white",size:36}),Object(J.jsx)(Z.default,{style:Rn.navigateButtonText,children:S.a.get("fire")})]})})})]})]})}}]),r}(b.Component),Rn=m.default.create({container:{flex:1,flexDirection:"row",backgroundColor:re.grey1},leftContainer:{flex:1,flexDirection:"row"},rightContainer:{flex:1,flexDirection:"row"},displayContainer:{flex:3,backgroundColor:re.grey1},displayWrapper:{flex:1},gridContainer:{flex:1,backgroundColor:re.grey3,borderRadius:5,flexDirection:"column",flexWrap:"wrap",alignItems:"stretch",justifyContent:"center",overflow:"hidden"},searchBox:{backgroundColor:re.grey1,height:50,borderRadius:100,margin:5,marginTop:10,marginBottom:0,flexDirection:"row"},searchBoxInputValue:{flex:1,fontFamily:"varela-round",fontSize:16,color:"white",paddingHorizontal:20,height:50},searchBoxButton:{height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:50},searchBoxInfo:{height:20,margin:5,flexDirection:"row"},searchBoxInfoLeft:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoRight:{flex:1,alignItems:"center",justifyContent:"center"},searchBoxInfoText:{fontFamily:"varela-round",color:re.grey5},grid:{margin:5,marginTop:0,marginBottom:10,backgroundColor:re.grey4,flexDirection:"column",padding:10},gridFirst:{flexDirection:"row"},gridSecond:{marginVertical:5},gridThird:{flexDirection:"row"},gridFirstLeft:{flex:1},gridFirstRight:{flex:1,alignItems:"flex-end"},gridThirdLeft:{flex:1},gridThirdRight:{flex:1,alignItems:"flex-end"},gridFirstLeftText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridFirstRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},gridSecondText:{color:"white",fontSize:16,fontFamily:"varela-round",opacity:.8},gridThirdRightText:{color:"white",fontSize:12,fontFamily:"varela-round"},navigateContainer:{flex:1,backgroundColor:re.grey1,flexDirection:"column"},navigateWrapper:{flex:1,paddingHorizontal:10,paddingTop:10},navigateButton:{backgroundColor:"transparent",borderRadius:10,aspectRatio:1,alignItems:"center",justifyContent:"center"},navigateButtonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},buttonsContainer:{paddingHorizontal:10,alignItems:"center",justifyContent:"center",flexDirection:"row"},button:{height:100,width:100,margin:5,alignItems:"center",justifyContent:"center",backgroundColor:re.grey1,borderRadius:5},buttonText:{color:"white",fontFamily:"varela-round",fontSize:10,marginTop:10,textTransform:"uppercase"},selectionContainer:{marginTop:10},selection:{backgroundColor:re.grey3,borderRadius:5,alignItems:"center",justifyContent:"center",paddingVertical:30},selectionText:{fontFamily:"varela-round",color:"white",fontSize:12,textAlign:"center"},gap:{padding:5},tableItemText:{fontFamily:"varela-round",color:"white"},tableItemModText:{fontFamily:"varela-round",fontSize:12,color:re.reserved},tableItemContainer:{flex:1,flexDirection:"row",minHeight:50,paddingVertical:5,marginHorizontal:5,marginBottom:5,backgroundColor:re.grey4},tableItemFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:"white"},tableItemSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},tableItemThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},tableItemFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleFirstContainer:{width:50,alignItems:"center",justifyContent:"center",borderRightWidth:3,borderRightColor:re.grey3},titleSecondContainer:{flex:8,justifyContent:"center",paddingLeft:10},titleThirdContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64},titleFourthContainer:{flex:2,alignItems:"flex-end",justifyContent:"center",minWidth:64,paddingRight:10},titleText:{fontFamily:"varela-round",color:re.grey5},overlayHeader:{height:50,marginVertical:5,alignItems:"center",justifyContent:"center"},overlayTitleText:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white",opacity:.6},overlaySubtitleText:{fontFamily:"varela-round",fontSize:24,color:"white"}});function wn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(r),!0).forEach((function(t){P()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function An(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var En=function(e){d()(r,e);var t=An(r);function r(e){var n,l,a,i,s,c;return o()(this,r),(c=t.call(this,e)).state={home:e.route.params.home,serviceEntry:e.route.params.serviceEntry,preference:e.route.params.preference,masters:e.route.params.masters,settings:e.route.params.masters.settings,modBundles:e.route.params.masters.modBundles,mods:e.route.params.masters.mods,selectedTable:e.route.params.selectedTable,selectedMenu:e.route.params.selectedMenu,selectedTableItem:e.route.params.selectedTableItem,tableItems:e.route.params.tableItems,comboGroups:e.route.params.masters.comboGroups.filter((function(t){return t.refMenuId===e.route.params.selectedMenu.menuId})),comboItems:e.route.params.masters.comboItems.filter((function(t){return t.refMenuId===e.route.params.selectedMenu.menuId})),selectedComboItems:[],selectedComboItem:null,loading:!1,menuName:e.route.params.selectedTableItem?null==(n=e.route.params.selectedTableItem)?void 0:n.menuName:e.route.params.selectedMenu.menuName,qtyInput:(null==(l=e.route.params.selectedTableItem)||null==(a=l.orderQty)?void 0:a.toString())||"1",orderType:e.route.params.selectedTableItem?(null==(i=e.route.params.selectedTableItem)?void 0:i.orderType)||"A":"SYS"===(null==(s=e.route.params.selectedTable)?void 0:s.sectionId)?"B":"A"},c.handleUpdateFromProcedureMessage=c.handleUpdateFromProcedureMessage.bind(B()(c)),c.handleUpdateFromAlert=c.handleUpdateFromAlert.bind(B()(c)),c}return s()(r,[{key:"componentDidMount",value:function(){console.log("mount combo",this.state.comboItems,this.state.selectedComboItems),this.doPrepareComboItems()}},{key:"doPrepareComboItems",value:function(){var e=this.state,t=e.comboItems,r=e.tableItems,n=e.selectedTableItem,l=n?null==r?void 0:r.filter((function(e){return e.refRecKey===n.recKey})):[],a=t.map((function(e){var t,n,l;return kn(kn({},e),{},{modInput:(null==r||null==(t=r.find((function(t){return t.comboitemRecKey===e.recKey})))?void 0:t.menuMod)||"",modRecKeys:(null==r||null==(n=r.find((function(t){return t.comboitemRecKey===e.recKey})))||null==(l=n.modRecKeys)?void 0:l.split(","))||[]})})),o=a.filter((function(e){return l.some((function(t){return t.comboitemRecKey===e.recKey}))}));this.setState({comboItems:a,selectedComboItems:o})}},{key:"doComboItemModInput",value:function(e){var t=this.state,r=t.comboItems,n=t.selectedComboItem,l=r;l.find((function(e){return e.recKey===n.recKey})).modInput=e,this.setState({comboItems:l})}},{key:"doPressComboItem",value:function(e){var t=this.state.selectedComboItems,r=t;t.some((function(t){return t.recKey===e.recKey}))?(r=t.filter((function(t){return t.recKey!==e.recKey})),this.setState({selectedComboItems:r,selectedComboItem:null})):(r.push(e),this.setState({selectedComboItems:r,selectedComboItem:e}))}},{key:"handleUpdateFromProcedureMessage",value:function(e){e||this.setState({overlayProcedureMessageVisible:!1})}},{key:"handleUpdateFromAlert",value:function(e){var t=this.state;t.selectedTable,t.selectedTableItem;this.setState({overlayAlertVisible:!1,overlayAlertInputValue:""})}},{key:"doValidateQty",value:function(e){!e||isNaN(e)?this.setState({qtyInput:"0"}):this.setState({qtyInput:e})}},{key:"doChangeQty",value:function(e){var t=this.state.qtyInput,r=Number(t);if("PLUS"===e)this.setState({qtyInput:(r+1).toString()});else if("MINUS"===e){if(r<=1)return;this.setState({qtyInput:(r-1).toString()})}}},{key:"doToggleOrderType",value:function(){var e=this.state,t=e.orderType,r=e.comboItems;"A"===t?(r.forEach((function(e){e.modInput=e.modInput.replace("*"+S.a.get("takeaway")+"  ",""),e.modInput="*"+S.a.get("takeaway")+"  "+e.modInput})),this.setState({orderType:"B",comboItems:r})):(r.forEach((function(e){e.modInput=e.modInput.replace("*"+S.a.get("takeaway")+"  ","")})),this.setState({orderType:"A",comboItems:r}))}},{key:"doPressModBundle",value:function(e){this.setState({selectedModBundle:e})}},{key:"doPressMod",value:function(e){var t=this.state,r=t.selectedModBundle,n=t.selectedComboItem,l=t.comboItems,a=l.find((function(e){return e.recKey===n.recKey})).modInput,o=l.find((function(e){return e.recKey===n.recKey})).modRecKeys;"A"===r.modmas.modType?l.find((function(e){return e.recKey===n.recKey})).modRecKeys.some((function(t){return t===e.recKey.toString()}))?(a=a.replace("*"+e.name+"  ",""),o=o.filter((function(t){return t!==e.recKey.toString()}))):(a+="*"+e.name+"  ",o.push(e.recKey.toString())):(r.moditems.forEach((function(e){a=a.replace("*"+e.name+"  ",""),o=o.filter((function(t){return t!==e.recKey.toString()}))})),l.find((function(e){return e.recKey===n.recKey})).modRecKeys.some((function(t){return t===e.recKey.toString()}))||(a+="*"+e.name+"  ",o.push(e.recKey.toString())));var i=l;i.find((function(e){return e.recKey===n.recKey})).modInput=a,i.find((function(e){return e.recKey===n.recKey})).modRecKeys=o,this.setState({comboItems:i})}},{key:"doSubmit",value:function(){var e=this,t=this.props.navigation,r=this.state,n=r.serviceEntry,l=r.home,a=r.selectedTable,o=r.selectedMenu,i=r.selectedTableItem,s=r.mods,c=(r.masters,r.settings),d=r.modBundles,u=r.comboGroups,f=r.comboItems,h=r.selectedComboItems,y=r.menuName,b=r.qtyInput,g=r.orderType;if(a)if("SYS"===a.sectionId||"C"===a.statusFlg)if(u.some((function(e){return h.filter((function(t){return t.groupNo===e.groupNo})).length>e.maxSelectItem||h.filter((function(t){return t.groupNo===e.groupNo})).length<e.minSelectItem})))this.setState({overlayProcedureMessageVisible:"CHECK MIN MAX",loading:!1});else if(h.some((function(e){return d.filter((function(t){return"Y"===t.modmas.mustFlg&&("Y"===t.modmas.globalFlg||s.some((function(r){return r.menuId===e.menuId&&r.modId===t.modmas.modId})))})).some((function(t){return!t.moditems.some((function(t){return e.modRecKeys.some((function(e){return e===t.recKey.toString()}))}))}))})))this.setState({overlayProcedureMessageVisible:"CHECK COMPULSORY MODIFIERS",loading:!1});else if(i){var m=n+"api/tables/"+a.recKey+"/update-combo",p={opentableRecKey:a.recKey,opentableItemRecKey:i.recKey,userId:l.userId,restmenuRecKey:o.recKey,orderQty:b,orderType:g,menuName:y,itemPayloads:h.map((function(e){return{combogroupRecKey:u.find((function(t){return t.groupNo===e.groupNo})).recKey,comboitemRecKey:e.recKey,restmenuMod:f.find((function(t){return t.recKey===e.recKey})).modInput,modRecKeys:f.find((function(t){return t.recKey===e.recKey})).modRecKeys.join(","),orderQty:b,orderType:g}}))};fetch(m,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(p)}).then((function(e){return e.json()})).then((function(r){var o;"Y"===(null==(o=c.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:o.setString)&&te(n,"Update Item",l.userName,r.message,a.tableId,y),console.log("post update-item successful",r),r.message?e.setState({overlayProcedureMessageVisible:r.message.toUpperCase(),loading:!1}):t.goBack()}))}else{var j=n+"api/tables/"+a.recKey+"/insert-combo",x={opentableRecKey:a.recKey,userId:l.userId,restmenuRecKey:o.recKey,orderQty:b,orderType:g,menuName:y,itemPayloads:h.map((function(e){return{combogroupRecKey:u.find((function(t){return t.groupNo===e.groupNo})).recKey,comboitemRecKey:e.recKey,restmenuMod:f.find((function(t){return t.recKey===e.recKey})).modInput,modRecKeys:f.find((function(t){return t.recKey===e.recKey})).modRecKeys.join(","),orderQty:b,orderType:g}}))};fetch(j,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(x)}).then((function(e){return e.json()})).then((function(r){var o;"Y"===(null==(o=c.find((function(e){return"BISTRODEBUG"===e.setId})))?void 0:o.setString)&&te(n,"Insert Item",l.userName,r.message,a.tableId,y),console.log("post insert-item successful",r),r.message?e.setState({overlayProcedureMessageVisible:r.message.toUpperCase(),loading:!1}):t.goBack()}))}else this.setState({overlayProcedureMessageVisible:"CHECK TABLE STATUS",loading:!1});else this.setState({overlayProcedureMessageVisible:"MISSING TABLE",loading:!1})}},{key:"render",value:function(){var e,t,r=this,n=this.props,l=n.navigation,a=(n.route,this.state),o=a.loading,i=a.preference,s=a.home,c=a.selectedMenu,d=(a.selectedTableItem,a.masters),u=a.mods,f=a.modBundles,h=a.selectedModBundle,y=a.menuName,b=a.qtyInput,g=a.orderType,m=a.comboGroups,j=a.comboItems,x=(a.selectedComboItems,a.selectedComboItem),v=a.overlayProcedureMessageVisible,T=a.overlayAlertVisible,O=a.overlayAlertInputValue;return Object(J.jsxs)(p.default,{style:{flex:1,flexDirection:"row",backgroundColor:"rgba(0,0,0,0.9)"},children:[T&&Object(J.jsx)(Ct,{input:O,handleUpdateFromAlert:this.handleUpdateFromAlert}),v&&Object(J.jsx)(se,{text:v,handleUpdateFromProcedureMessage:this.handleUpdateFromProcedureMessage}),Object(J.jsx)(p.default,{style:{width:10}}),Object(J.jsx)(p.default,{style:{flex:1},children:x&&Object(J.jsx)(p.default,{style:{flex:1,marginVertical:10,marginLeft:0,backgroundColor:re.grey2,borderRadius:5},children:Object(J.jsxs)(p.default,{style:{flex:1,margin:5,backgroundColor:re.grey4},children:[Object(J.jsxs)(p.default,{style:{alignItems:"center",marginVertical:10},children:[Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:re.paid,fontSize:16},children:x.menuId}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:"white",fontSize:20,textAlign:"center",paddingHorizontal:20},numberOfLines:2,children:x.menuName})]}),Object(J.jsx)(N.default,{style:Bn.modifierTextInput,multiline:!0,placeholder:"CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT",placeholderTextColor:"rgba(255,255,255,0.2)",value:j.find((function(e){return e.recKey===x.recKey})).modInput,onChangeText:function(e){return r.doComboItemModInput(e)}}),Object(J.jsx)(p.default,{style:{height:20,justifyContent:"center",alignItems:"center",backgroundColor:re.grey2},children:Object(J.jsx)(Z.default,{style:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:re.grey7},children:"MODIFIER"})}),Object(J.jsx)(je.default,{style:{flex:1},showsVerticalScrollIndicator:!1,children:Object(J.jsxs)(p.default,{style:Bn.modContainer,children:[null==u||null==(e=u.filter((function(e){return e.menuId===c.menuId})))||null==(t=e.map((function(e){return f.find((function(t){return t.modmas.modId===e.modId}))})))?void 0:t.map((function(e){return Object(J.jsx)(V.default,{style:[Bn.modButton,"Y"===e.modmas.mustFlg&&{backgroundColor:re.paid}],onPress:function(){return r.doPressModBundle(e)},children:Object(J.jsx)(Z.default,{style:Bn.modText,children:e.modmas.name})},e.modmas.recKey.toString())})),null==f?void 0:f.filter((function(e){return"Y"===e.modmas.globalFlg})).map((function(e){return Object(J.jsx)(V.default,{style:[Bn.modButton,"Y"===e.modmas.mustFlg&&{backgroundColor:re.paid}],onPress:function(){return r.doPressModBundle(e)},children:Object(J.jsx)(Z.default,{style:Bn.modText,children:e.modmas.name})},e.modmas.recKey.toString())}))]})}),Object(J.jsx)(p.default,{style:{height:20,justifyContent:"center",alignItems:"center",backgroundColor:re.grey2},children:Object(J.jsx)(Z.default,{style:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:re.grey7},children:"MODIFIER OPTIONS"})}),Object(J.jsx)(p.default,{style:{flex:1,backgroundColor:re.grey4},children:Object(J.jsx)(je.default,{contentContainerStyle:{flexGrow:1,alignItems:"flex-end",justifyContent:"center"},showsVerticalScrollIndicator:!1,children:null==h?void 0:h.moditems.map((function(e){var t,n;return Object(J.jsxs)(V.default,{style:[Bn.modButton,{margin:10},(null==(t=j.find((function(e){return e.recKey===x.recKey})))?void 0:t.modRecKeys.some((function(t){return t===e.recKey.toString()})))&&{backgroundColor:re.occupied}],onPress:function(){return r.doPressMod(e)},children:[Object(J.jsx)(Z.default,{style:Bn.modText,children:e.name}),0!==e.listPrice&&Object(J.jsxs)(Z.default,{style:{position:"absolute",top:-15,right:10,fontFamily:"varela-round",color:re.reserved,fontSize:20},children:[e.listPrice<0?"":"+",null==(n=e.listPrice)?void 0:n.toFixed(2)]})]},e.recKey.toString())}))})})]})})}),Object(J.jsx)(p.default,{style:{flex:2},children:Object(J.jsxs)(p.default,{style:{flex:1,flexDirection:"row",padding:5},children:[Object(J.jsx)(p.default,{style:{flex:1,margin:5,backgroundColor:re.grey2,borderRadius:5},children:Object(J.jsxs)(p.default,{style:{flex:1,margin:5,marginBottom:0,backgroundColor:re.grey4},children:[Object(J.jsxs)(p.default,{style:{alignItems:"center",marginTop:10},children:[Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:re.paid,fontSize:16},children:c.menuId}),Object(J.jsx)(N.default,{style:{height:50,width:"90%",fontFamily:"varela-round",color:"white",fontSize:20,textAlign:"center",paddingHorizontal:20},editable:"Y"===s.adminFlg||d.privileges.some((function(e){return"EDITITEM"===e.priId})),multiline:!0,blurOnSubmit:!0,value:y,onChangeText:function(e){return r.setState({menuName:e})}})]}),Object(J.jsxs)(p.default,{style:Bn.menuQtyRow,children:[Object(J.jsx)(V.default,{style:Bn.menuQtyRowFirst,onPress:function(){return r.doChangeQty("MINUS")},children:Object(J.jsx)(M.default,{name:"minus",size:32,color:"rgba(0,0,0,0.85)"})}),Object(J.jsx)(p.default,{style:Bn.menuQtyRowSecond,children:Object(J.jsx)(N.default,{style:Bn.qtyTextInput,value:b,keyboardType:"numeric",onChangeText:function(e){return r.doValidateQty(e)}})}),Object(J.jsx)(V.default,{style:Bn.menuQtyRowThird,onPress:function(){return r.doChangeQty("PLUS")},children:Object(J.jsx)(M.default,{name:"plus",size:32,color:"rgba(0,0,0,0.85)"})})]}),Object(J.jsx)(je.default,{style:{flex:1,backgroundColor:re.grey2,paddingBottom:5},showsVerticalScrollIndicator:!1,children:m.map((function(e){return Object(J.jsxs)(p.default,{children:[Object(J.jsx)(p.default,{style:{height:20,justifyContent:"center",alignItems:"center"},children:Object(J.jsxs)(Z.default,{style:{textTransform:"uppercase",fontFamily:"varela-round",fontSize:12,color:"white"},children:[e.groupName," ",Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",fontSize:12,color:re.paid},children:"MIN"})," ",e.minSelectItem," ",Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",fontSize:12,color:re.paid},children:"MAX"})," ",e.maxSelectItem]})}),Object(J.jsx)(Fe.default,{style:{margin:-2.5},showsVerticalScrollIndicator:!1,data:j.filter((function(t){return t.groupNo===e.groupNo})),numColumns:i.pcolsize,keyExtractor:function(e,t){return e.recKey.toString()},renderItem:function(e){var t=e.item;return r.renderComboItem(t)}})]},e.recKey.toString())}))})]})}),Object(J.jsx)(p.default,{style:{margin:5,width:120},children:Object(J.jsxs)(je.default,{style:{flex:1},showsVerticalScrollIndicator:!1,alwaysBounceVertical:!1,children:[Object(J.jsx)(p.default,{style:{paddingHorizontal:5,height:80,marginVertical:5}}),Object(J.jsxs)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:"A"===g?re.grey3:re.paid,borderRadius:5,marginVertical:5},onPress:function(){return r.doToggleOrderType()},children:[Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",textAlign:"center",color:"white",textTransform:"uppercase"},children:"A"===g?S.a.get("dinein"):S.a.get("takeaway")}),Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",textAlign:"center",color:"white",fontSize:10},children:"ORDER TYPE"})]}),Object(J.jsx)(p.default,{style:{paddingHorizontal:5,height:50,marginVertical:5}}),Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:"white",borderRadius:5,marginVertical:5},disabled:o,onPress:function(){return r.setState({loading:!0},(function(){return r.doSubmit()}))},children:Object(J.jsx)(M.default,{name:"check",size:28,color:re.grey4})}),Object(J.jsx)(p.default,{style:{paddingHorizontal:5,height:50,marginVertical:5}}),Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:re.grey3,borderRadius:5,marginVertical:5},onPress:function(){return r.doChangeQty("PLUS")},children:Object(J.jsx)(M.default,{name:"plus",size:26,color:"white"})}),Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:re.grey3,borderRadius:5,marginVertical:5},onPress:function(){return r.doChangeQty("MINUS")},children:Object(J.jsx)(M.default,{name:"minus",size:32,color:"white"})}),Object(J.jsx)(p.default,{style:{paddingHorizontal:5,height:50,marginVertical:5}}),Object(J.jsx)(V.default,{style:{alignItems:"center",paddingHorizontal:5,justifyContent:"center",height:50,backgroundColor:"white",borderRadius:5,marginVertical:5},disabled:o,onPress:function(){return l.goBack()},children:Object(J.jsx)(M.default,{name:"close",size:26,color:re.grey4})})]})})]})})]})}},{key:"renderComboItem",value:function(e){var t,r=this,n=this.state,l=n.preference,a=n.selectedComboItems.some((function(t){return t.recKey===e.recKey}));return Object(J.jsx)(p.default,{style:{flex:1/l.pcolsize},children:Object(J.jsxs)(V.default,{style:{height:70,padding:10,margin:2.5,backgroundColor:a?re.occupied:re.grey4},onPress:function(){return r.doPressComboItem(e)},children:[Object(J.jsx)(p.default,{style:{flex:1},children:Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:"white"},numberOfLines:2,children:e.menuName})}),Object(J.jsxs)(p.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[Object(J.jsx)(Z.default,{style:{fontFamily:"varela-round",color:"white",fontSize:12}}),Object(J.jsxs)(Z.default,{style:[{fontFamily:"varela-round",fontSize:12,color:0===Number(e.addonPrice)?"transparent":a?"white":re.reserved}],children:["+",null==(t=e.addonPrice)?void 0:t.toFixed(2)]})]})]})})}}]),r}(b.Component),Bn=m.default.create({modifierTextInput:{fontFamily:"varela-round",fontSize:20,color:"white",paddingHorizontal:20,height:120,backgroundColor:re.grey3},menuQtyRow:{height:80,flexDirection:"row",justifyContent:"center",alignItems:"center"},menuQtyRowFirst:{flex:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginRight:10},menuQtyRowSecond:{flex:1,justifyContent:"center",alignItems:"center"},menuQtyRowThird:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginLeft:10},qtyTextInput:{fontFamily:"varela-round",fontSize:32,width:"100%",color:"white",textAlign:"center"},modContainer:{padding:5,flexDirection:"row",flexWrap:"wrap",justifyContent:"center",backgroundColor:re.grey4},modButton:{paddingHorizontal:20,minHeight:32,justifyContent:"center",borderRadius:16,backgroundColor:re.grey2,margin:5},modText:{fontFamily:"varela-round",color:"white",fontSize:20}});function Dn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var l=y()(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return f()(this,r)}}var Un=Object(v.default)(),Mn=function(e){d()(n,e);var t=Dn(n);function n(){var e;o()(this,n);for(var r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).state={loading:!0},e}return s()(n,[{key:"componentDidMount",value:function(){var e=l()((function*(){var e={zhs:r(467),zht:r(468),en:r(469),ja:r(470)},t=yield I.default.getItem("language");yield S.a.init({currentLocale:t||"en",locales:e}),yield T.loadAsync({"varela-round":r(471)}),"web"!==j.default.OS&&C.BarCodeScanner.getPermissionsAsync().then((function(e){return"granted"!==e.status?C.BarCodeScanner.requestPermissionsAsync():Promise.resolve(e)})),this.setState({loading:!1})}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?Object(J.jsx)(p.default,{}):Object(J.jsxs)(x.default,{children:[Object(J.jsx)(g.StatusBar,{hidden:!0}),Object(J.jsxs)(Un.Navigator,{screenOptions:{headerShown:!1,animation:"none",gestureEnabled:!1},children:[Object(J.jsx)(Un.Screen,{name:"Login",component:ge,options:ge.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Register",component:Ut,options:Ut.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Preference",component:zt,options:zt.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Main",component:wt,options:wt.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Pos",component:Or,options:Or.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Split",component:qt,options:qt.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Void",component:en,options:en.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Collect",component:nn,options:nn.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Transfer",component:Qr,options:Qr.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Resequence",component:Yr,options:Yr.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Reprint",component:Lr,options:Lr.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Report",component:zr,options:zr.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Printer",component:Er,options:Er.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Dayclose",component:wr,options:wr.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Adhoc",component:Fr,options:Fr.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Scan",component:yn,options:yn.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Trace",component:jn,options:jn.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Activate",component:Tn,options:Tn.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Limit",component:In,options:In.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Table",component:on,options:on.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Fire",component:Pn,options:Pn.navigationOptions}),Object(J.jsx)(Un.Screen,{name:"Menu",component:un,options:{presentation:"transparentModal"}}),Object(J.jsx)(Un.Screen,{name:"Combo",component:En,options:{presentation:"transparentModal"}})]})]})}}]),n}(b.Component);m.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},374:function(e,t,r){e.exports=r(474)},378:function(e,t){},402:function(e,t){},416:function(e,t,r){var n={"./af":161,"./af.js":161,"./ar":162,"./ar-dz":163,"./ar-dz.js":163,"./ar-kw":164,"./ar-kw.js":164,"./ar-ly":165,"./ar-ly.js":165,"./ar-ma":166,"./ar-ma.js":166,"./ar-sa":167,"./ar-sa.js":167,"./ar-tn":168,"./ar-tn.js":168,"./ar.js":162,"./az":169,"./az.js":169,"./be":170,"./be.js":170,"./bg":171,"./bg.js":171,"./bm":172,"./bm.js":172,"./bn":173,"./bn-bd":174,"./bn-bd.js":174,"./bn.js":173,"./bo":175,"./bo.js":175,"./br":176,"./br.js":176,"./bs":177,"./bs.js":177,"./ca":178,"./ca.js":178,"./cs":179,"./cs.js":179,"./cv":180,"./cv.js":180,"./cy":181,"./cy.js":181,"./da":182,"./da.js":182,"./de":183,"./de-at":184,"./de-at.js":184,"./de-ch":185,"./de-ch.js":185,"./de.js":183,"./dv":186,"./dv.js":186,"./el":187,"./el.js":187,"./en-au":188,"./en-au.js":188,"./en-ca":189,"./en-ca.js":189,"./en-gb":190,"./en-gb.js":190,"./en-ie":191,"./en-ie.js":191,"./en-il":192,"./en-il.js":192,"./en-in":193,"./en-in.js":193,"./en-nz":194,"./en-nz.js":194,"./en-sg":195,"./en-sg.js":195,"./eo":196,"./eo.js":196,"./es":197,"./es-do":198,"./es-do.js":198,"./es-mx":199,"./es-mx.js":199,"./es-us":200,"./es-us.js":200,"./es.js":197,"./et":201,"./et.js":201,"./eu":202,"./eu.js":202,"./fa":203,"./fa.js":203,"./fi":204,"./fi.js":204,"./fil":205,"./fil.js":205,"./fo":206,"./fo.js":206,"./fr":207,"./fr-ca":208,"./fr-ca.js":208,"./fr-ch":209,"./fr-ch.js":209,"./fr.js":207,"./fy":210,"./fy.js":210,"./ga":211,"./ga.js":211,"./gd":212,"./gd.js":212,"./gl":213,"./gl.js":213,"./gom-deva":214,"./gom-deva.js":214,"./gom-latn":215,"./gom-latn.js":215,"./gu":216,"./gu.js":216,"./he":217,"./he.js":217,"./hi":218,"./hi.js":218,"./hr":219,"./hr.js":219,"./hu":220,"./hu.js":220,"./hy-am":221,"./hy-am.js":221,"./id":222,"./id.js":222,"./is":223,"./is.js":223,"./it":224,"./it-ch":225,"./it-ch.js":225,"./it.js":224,"./ja":226,"./ja.js":226,"./jv":227,"./jv.js":227,"./ka":228,"./ka.js":228,"./kk":229,"./kk.js":229,"./km":230,"./km.js":230,"./kn":231,"./kn.js":231,"./ko":232,"./ko.js":232,"./ku":233,"./ku.js":233,"./ky":234,"./ky.js":234,"./lb":235,"./lb.js":235,"./lo":236,"./lo.js":236,"./lt":237,"./lt.js":237,"./lv":238,"./lv.js":238,"./me":239,"./me.js":239,"./mi":240,"./mi.js":240,"./mk":241,"./mk.js":241,"./ml":242,"./ml.js":242,"./mn":243,"./mn.js":243,"./mr":244,"./mr.js":244,"./ms":245,"./ms-my":246,"./ms-my.js":246,"./ms.js":245,"./mt":247,"./mt.js":247,"./my":248,"./my.js":248,"./nb":249,"./nb.js":249,"./ne":250,"./ne.js":250,"./nl":251,"./nl-be":252,"./nl-be.js":252,"./nl.js":251,"./nn":253,"./nn.js":253,"./oc-lnc":254,"./oc-lnc.js":254,"./pa-in":255,"./pa-in.js":255,"./pl":256,"./pl.js":256,"./pt":257,"./pt-br":258,"./pt-br.js":258,"./pt.js":257,"./ro":259,"./ro.js":259,"./ru":260,"./ru.js":260,"./sd":261,"./sd.js":261,"./se":262,"./se.js":262,"./si":263,"./si.js":263,"./sk":264,"./sk.js":264,"./sl":265,"./sl.js":265,"./sq":266,"./sq.js":266,"./sr":267,"./sr-cyrl":268,"./sr-cyrl.js":268,"./sr.js":267,"./ss":269,"./ss.js":269,"./sv":270,"./sv.js":270,"./sw":271,"./sw.js":271,"./ta":272,"./ta.js":272,"./te":273,"./te.js":273,"./tet":274,"./tet.js":274,"./tg":275,"./tg.js":275,"./th":276,"./th.js":276,"./tk":277,"./tk.js":277,"./tl-ph":278,"./tl-ph.js":278,"./tlh":279,"./tlh.js":279,"./tr":280,"./tr.js":280,"./tzl":281,"./tzl.js":281,"./tzm":282,"./tzm-latn":283,"./tzm-latn.js":283,"./tzm.js":282,"./ug-cn":284,"./ug-cn.js":284,"./uk":285,"./uk.js":285,"./ur":286,"./ur.js":286,"./uz":287,"./uz-latn":288,"./uz-latn.js":288,"./uz.js":287,"./vi":289,"./vi.js":289,"./x-pseudo":290,"./x-pseudo.js":290,"./yo":291,"./yo.js":291,"./zh-cn":292,"./zh-cn.js":292,"./zh-hk":293,"./zh-hk.js":293,"./zh-mo":294,"./zh-mo.js":294,"./zh-tw":295,"./zh-tw.js":295};function l(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}l.keys=function(){return Object.keys(n)},l.resolve=a,e.exports=l,l.id=416},467:function(e){e.exports=JSON.parse('{"accesscode":"\u767b\u5f55\u4ee3\u7801","A":"\u7a7a\u684c","B":"\u5df2\u4fdd\u7559","C":"\u7528\u9910\u4e2d","D":"\u5df2\u7ed3\u8d26","E":"\u505c\u7528","action":"\u52a8\u4f5c","cancel":"\u53d6\u6d88","qty":"\u6570\u91cf","desc":"\u63cf\u8ff0","price":"\u5355\u4ef7","total":"\u5c0f\u8ba1","back":"\u8fd4\u56de","retail":"\u96f6\u552e","takeaway":"\u5e26\u8d70","dinein":"\u5802\u98df","menu":"\u83dc\u5355","payment":"\u4ed8\u6b3e","floorplan":"\u5e73\u9762\u56fe","func":"\u529f\u80fd","send":"\u53d1\u9001","fire":"\u50ac\u5355","adhoc":"\u7279\u8bbe","type":"\u7c7b\u578b","scan":"\u626b\u63cf","barcode":"\u6761\u7801","submit":"\u63d0\u4ea4","bill":"\u8d26\u5355","firecourse":"\u901a\u544a\u53a8\u5e08","course":"\u81b3\u9053","beverage":"\u996e\u6599","soup":"\u6c64","appetizer":"\u5f00\u80c3\u83dc","main":"\u4e3b\u83dc","dessert":"\u751c\u54c1","sales":"\u9500\u552e","deposit":"\u5b9a\u91d1","choose":"\u9009\u62e9","select":"\u9009\u62e9","printer":"\u6253\u5370\u673a","left":"\u5269","press":"\u70b9\u51fb","default":"\u9ed8\u8ba4","all":"\u5168\u90e8","void":"\u5220\u5355","reopen":"\u91cd\u5f00","test":"\u6d4b\u8bd5","collect":"\u63d0\u53d6","update":"\u66f4\u65b0","preference":"\u503e\u5411","yes":"\u662f","transfer":"\u8f6c\u79fb","online":"\u5728\u7ebf","offline":"\u4e0b\u7ebf","user":"\u7528\u6237","combo":"\u5957\u9910","print":"\u6253\u5370","active":"\u6d3b\u8dc3","inactive":"\u975e\u6d3b\u8dc3","enter":"\u8f93\u5165","search":"\u641c\u7d22","text":"\u5b57\u6bb5","add":"Add","no":"No","table":"\u684c\u53f7","open":"\u5f00\u684c","edit":"\u7f16\u8f91","close":"\u5173\u95ed","reset":"\u91cd\u7f6e","reserve":"\u4fdd\u7559","disable":"\u505c\u7528","mergetable":"\u5e76\u684c","splittable":"\u62c6\u684c","changetable":"\u6362\u684c","printbill":"\u8d26\u5355","resequence":"\u6392\u5e8f","transferitems":"\u8f6c\u79fb\u9879\u76ee","headerdisc":"\u6574\u5355\u6298\u6263","item":"\u9879\u76ee","reviseitem":"\u7f16\u8f91\u9879\u76ee","remove":"\u79fb\u9664","duplicate":"\u590d\u5236","changeprice":"\u4fee\u6539\u5355\u4ef7","linedisc":"\u6298\u6263","revert":"\u5f52\u8fd8","linebreak":"\u5212\u7ebf\u5206\u5272","tips":"\u5c0f\u8d39","drawer":"\u6536\u94f6\u673a","splitbill":"\u5206\u5f00\u7ed3\u8d26","mergebill":"\u5408\u5e76\u7ed3\u8d26","unsplit":"\u64a4\u6d88\u62c6\u5206","unmerge":"\u64a4\u6d88\u5408\u5e76","beforedisc":"\u5c0f\u8ba1","totaldisc":"\u6298\u6263","servicecharge":"\u670d\u52a1\u8d39","grandtotal":"\u603b\u8ba1","tax":"\u6d88\u8d39\u7a0e","pay":"\u5e94\u4ed8\u91d1\u989d","balance":"\u4f59\u989d","tender":"\u5b9e\u6536\u91d1\u989d","change":"\u627e\u96f6","additionalfunctions":"\u989d\u5916\u529f\u80fd","reprint":"\u91cd\u5370","voidreceipts":"\u5220\u5355","collection":"\u63d0\u53d6","opendrawer":"\u6253\u5f00\u6536\u94f6\u673a","testprint":"\u6d4b\u8bd5\u6253\u5370","dayend":"\u65e5\u7ed3","reports":"\u62a5\u8868","activate":"\u542f\u52a8\u83dc\u5355","syncmasters":"\u540c\u6b65\u6570\u636e","logout":"\u767b\u51fa","trace":"\u8ffd\u8e2a","limited":"\u9650\u5b9a\u83dc\u5355"}')},468:function(e){e.exports=JSON.parse('{"accesscode":"\u767b\u9304\u865f\u78bc","A":"\u7a7a\u684c","B":"\u5df2\u4fdd\u7559","C":"\u7528\u9910\u4e2d","D":"\u5df2\u7d50\u8cec","E":"\u505c\u7528","action":"\u52d5\u4f5c","cancel":"\u53d6\u6d88","qty":"\u6578\u91cf","desc":"\u63cf\u8ff0","price":"\u55ae\u50f9","total":"\u5c0f\u8a08","back":"\u8fd4\u56de","retail":"\u96f6\u552e","takeaway":"\u5e26\u8d70","dinein":"\u5802\u98df","menu":"\u83dc\u55ae","payment":"\u4ed8\u6b3e","floorplan":"\u5e73\u9762\u5716","func":"\u529f\u80fd","send":"\u767c\u9001","fire":"\u50ac\u55ae","adhoc":"\u7279\u8a2d","type":"\u985e\u578b","scan":"\u6383\u63cf","barcode":"\u689d\u78bc","submit":"\u63d0\u4ea4","bill":"\u8cec\u55ae","firecourse":"\u901a\u544a\u5eda\u5e2b","course":"\u81b3\u9053","beverage":"\u98f2\u6599","soup":"\u6e6f","appetizer":"\u958b\u80c3\u83dc","main":"\u4e3b\u83dc","dessert":"\u751c\u54c1","sales":"\u92b7\u552e","deposit":"\u8a02\u91d1","choose":"\u9078\u64c7","select":"\u9078\u64c7","printer":"\u6253\u5370\u6a5f","left":"\u5269","press":"\u9ede\u64ca","default":"\u9ed8\u8a8d","all":"\u5168\u90e8","void":"\u5220\u55ae","reopen":"\u91cd\u958b","test":"\u6e2c\u8a66","collect":"\u63d0\u53d6","update":"\u66f4\u65b0","preference":"\u50be\u5411","yes":"\u662f","transfer":"\u8f49\u79fb","online":"\u5728\u7dab","offline":"\u4e0b\u7dab","user":"\u7528\u6237","combo":"\u5957\u9910","print":"\u6253\u5370","active":"\u6d3b\u8e8d","inactive":"\u975e\u6d3b\u8e8d","enter":"\u8f38\u5165","search":"\u641c\u7d22","text":"\u5b57\u6bb5","add":"Add","no":"No","table":"\u684c\u865f","open":"\u958b\u684c","edit":"\u7de8\u8f2f","close":"\u95dc\u9589","reset":"\u91cd\u7f6e","reserve":"\u4fdd\u7559","disable":"\u505c\u7528","mergetable":"\u62fc\u684c","splittable":"\u62c6\u684c","changetable":"\u8f49\u684c","printbill":"\u8cec\u55ae","resequence":"\u6392\u5e8f","transferitems":"\u8f49\u79fb\u9805\u76ee","headerdisc":"\u6574\u55ae\u6298\u6263","item":"\u9805\u76ee","reviseitem":"\u7de8\u5236\u9805\u76ee","remove":"\u79fb\u9664","duplicate":"\u8907\u88fd","changeprice":"\u4fee\u6539\u55ae\u50f9","linedisc":"\u6298\u6263","revert":"\u6b78\u9084","linebreak":"","tips":"\u5c0f\u8cbb","drawer":"\u6536\u9280\u6a5f","splitbill":"\u5206\u958b\u7d50\u8cec","mergebill":"\u5408\u62fc\u7d50\u8cec","unsplit":"\u64a4\u6d88\u62c6\u5206","unmerge":"\u64a4\u6d88\u5408\u62fc","beforedisc":"\u5c0f\u8a08","totaldisc":"\u6298\u6263","servicecharge":"\u670d\u52d9\u8cbb","grandtotal":"\u7e3d\u8a08","tax":"\u6d88\u8cbb\u7a05","pay":"\u61c9\u4ed8\u91d1\u984d","balance":"\u9918\u984d","tender":"\u5be6\u6536\u91d1\u984d","change":"\u627e\u96f6","additionalfunctions":"\u984d\u5916\u529f\u80fd","reprint":"\u91cd\u5370","voidreceipts":"\u5220\u55ae","collection":"\u63d0\u53d6","opendrawer":"\u6253\u958b\u6536\u9280\u6a5f","testprint":"\u6e2c\u8a66\u6253\u5370","dayend":"\u65e5\u7ed3","reports":"\u5831\u8868","activate":"\u5553\u52d5\u83dc\u55ae","syncmasters":"\u540c\u6b65\u6578\u64da","logout":"\u767b\u51fa","trace":"\u8ffd\u8e2a","limited":"\u9650\u5b9a\u83dc\u55ae"}')},469:function(e){e.exports=JSON.parse('{"accesscode":"Access Code","A":"Vacant","B":"Reserved","C":"Occupied","D":"Paid","E":"Unavailable","action":"Action","cancel":"Cancel","qty":"Qty","desc":"Desc","price":"Price","total":"Total","back":"Back","retail":"Retail","takeaway":"Take Away","dinein":"Dine In","menu":"Menu","payment":"Payment","floorplan":"Floor Plan","func":"Func","send":"Send","fire":"Fire","adhoc":"Adhoc","type":"Type","scan":"Scan","barcode":"Barcode","submit":"Submit","bill":"Bill","firecourse":"Fire Course","course":"Course","beverage":"Beverage","soup":"Soup","appetizer":"Appetizer","main":"Main","dessert":"Dessert","sales":"Sales","deposit":"Deposit","choose":"Choose","select":"Select","printer":"Printer","left":"Left","press":"Press","default":"Default","all":"All","void":"Void","reopen":"Reopen","test":"Test","collect":"Collect","update":"Update","preference":"Preference","yes":"Yes","transfer":"Transfer","online":"Online","offline":"Offline","user":"User","combo":"Combo","print":"Print","active":"Active","inactive":"Inactive","enter":"Enter","search":"Search","text":"Text","add":"Add","no":"No","table":"Table","open":"Open","edit":"Edit","close":"Close","reset":"Reset","reserve":"Reserve","disable":"Disable","mergetable":"Merge Table","splittable":"Split Table","changetable":"Change Table","printbill":"Print Bill","resequence":"Resequence","transferitems":"Transfer Items","headerdisc":"Header Disc","item":"Item","reviseitem":"Revise Item","remove":"Remove","duplicate":"Duplicate","changeprice":"Change Price","linedisc":"Line Disc","revert":"Revert","linebreak":"Line Break","tips":"Tips","drawer":"Drawer","splitbill":"Split Bill","mergebill":"Merge Bill","unsplit":"Undo Split","unmerge":"Undo Merge","beforedisc":"Before Disc","totaldisc":"Total Disc","servicecharge":"Service Charge","grandtotal":"Grand Total","tax":"Tax","pay":"Pay","balance":"Balance","tender":"Tender","change":"Change","additionalfunctions":"Additional Functions","reprint":"Reprint","voidreceipts":"Void Receipts","collection":"Collection","opendrawer":"Open Drawer","testprint":"Test Printer","dayend":"Day-end","reports":"Reports","activate":"Activate","syncmasters":"Sync Masters","logout":"Log Out","trace":"Trace","limited":"Limited"}')},470:function(e){e.exports=JSON.parse('{"accesscode":"\u30d1\u30b9","A":"\u7a7a\u5ba4","B":"\u4e88\u7d04\u3057\u305f","C":"\u6709\u4eba","D":"\u6709\u7d66\u306e","E":"\u7121\u52b9","action":"\u64cd\u4f5c","cancel":"\u53d6\u6d88","qty":"\u6570\u91cf","desc":"\u53d9\u8ff0","price":"\u4fa1\u683c","total":"\u5408\u8a08","back":"\u8fd4\u3059","retail":"\u5c0f\u58f2","takeaway":"\u6301\u3061\u53bb\u308b","dinein":"\u3067\u98df\u3079\u308b","menu":"\u30e1\u30cb\u30e5\u30fc","payment":"\u652f\u6255","floorplan":"\u9593\u53d6\u308a","func":"\u50cd\u304d","send":"\u51fa\u3059","fire":"\u4fc3\u3059","adhoc":"\u81e8\u6642","type":"\u7a2e\u985e","scan":"\u30b9\u30ad\u30e3\u30f3","barcode":"\u30d0\u30fc\u30b3\u30fc\u30c9","submit":"\u78ba\u8a8d","bill":"\u4ed8\u3051","firecourse":"\u30d5\u30a1\u30a4\u30e4\u30fc\u30b3\u30fc\u30b9","course":"\u30b3\u30fc\u30b9","beverage":"\u98f2\u6599","soup":"\u30b9\u30fc\u30d7","appetizer":"\u524d\u83dc","main":"\u4e3b\u83dc","dessert":"\u751c\u54c1","sales":"\u9500\u552e","deposit":"\u5b9a\u91d1","choose":"\u9078\u3076","select":"\u9078\u3076","printer":"\u30d7\u30ea\u30f3\u30bf\u30fc","left":"\u5269","press":"\u62bc\u3059","default":"\u65e2\u5b9a","all":"\u5168","void":"\u53d6\u6d88","reopen":"\u518d\u958b","test":"\u30c6\u30b9\u30c8","collect":"\u63d0\u53d6","update":"\u66f4\u65b0","preference":"\u597d\u307f","yes":"\u306f\u3044","transfer":"\u79fb\u884c","online":"\u30aa\u30f3\u30e9\u30a4\u30f3","offline":"\u30aa\u30d5\u30e9\u30a4\u30f3","user":"\u4f7f\u7528\u8005","combo":"\u5957\u9910","print":"\u5370\u5237","active":"\u6d3b\u6027\u306a","inactive":"\u975e\u6d3b\u6027","enter":"\u30a8\u30f3\u30bf\u30fc","search":"\u63a2\u3059","text":"\u672c\u6587","add":"Add","no":"No","table":"\u5353","open":"\u958b\u3044\u305f","edit":"\u7de8\u96c6","close":"\u9078\u3076","reset":"\u30ea\u30bb\u30c3\u30c8","reserve":"\u4e88\u7d04","disable":"\u3067\u304d\u306a\u304f\u3059\u308b","mergetable":"\u5e76\u684c","splittable":"\u62c6\u684c","changetable":"\u6362\u684c","printbill":"\u4ed8\u3051","resequence":"\u9806\u5e8f","transferitems":"\u79fb\u884c","headerdisc":"\u6574\u5355\u5272\u5f15","item":"\u9805\u76ee","reviseitem":"\u7de8\u96c6\u9805\u76ee","remove":"\u9664\u304f","duplicate":"\u8907\u88fd","changeprice":"\u4fa1\u683c\u5909\u66f4","linedisc":"\u9805\u76ee\u5272\u5f15","revert":"\u623b\u3059","linebreak":"\u6539\u884c","tips":"\u30c1\u30c3\u30d7","drawer":"\u92ad\u7bb1","splitbill":"\u5206\u5f00\u7ed3\u8d26","mergebill":"\u5408\u5e76\u7ed3\u8d26","unsplit":"\u64a4\u6d88\u62c6\u5206","unmerge":"\u64a4\u6d88\u5408\u5e76","beforedisc":"\u5c0f\u8ba1","totaldisc":"\u5272\u5f15","servicecharge":"\u30b5\u30fc\u30d3\u30b9\u6599","grandtotal":"\u7dcf\u8a08","tax":"\u7a0e","pay":"\u5165\u91d1","balance":"\u6b8b\u9ad8","tender":"\u5165\u672d","change":"\u5c0f\u92ad","additionalfunctions":"\u8ffd\u52a0\u6a5f\u80fd","reprint":"\u8ee2\u8f09","voidreceipts":"\u5220\u5355","collection":"\u63d0\u53d6","opendrawer":"\u92ad\u7bb1","testprint":"\u6d4b\u8bd5\u6253\u5370","dayend":"\u65e5\u5e30\u308a","reports":"\u30ec\u30dd\u30fc\u30c8","activate":"\u6d3b\u6027\u5316","syncmasters":"\u540c\u671f\u3059\u308b","logout":"\u767b\u51fa","trace":"\u75d5\u8de1","limited":"\u9650\u5b9a\u30e1\u30cb\u30e5\u30fc"}')},471:function(e,t){e.exports="data:font/woff;base64,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"}},[[374,1,2]]]);
//# sourceMappingURL=app.7a54de80.chunk.js.map