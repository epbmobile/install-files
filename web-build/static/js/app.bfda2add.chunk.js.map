{"version":3,"sources":["assets/logo-small-light.png","assets/paynow.png","assets/utility.js","assets/theme.js","src/OverlayProcedureMessage.js","src/OverlayLanguage.js","src/Login.js","src/MainTable.js","src/MainMenu.js","src/OverlayAutoLogout.js","src/OverlayDeposit.js","src/OverlayScanBarcode.js","src/OverlayRequestAccess.js","src/OverlayChangePrice.js","src/OverlayLineDiscount.js","src/OverlayHeaderDiscount.js","src/OverlayMergeTable.js","src/OverlaySplitTable.js","src/OverlayChangeTable.js","src/OverlayReviseItem.js","src/OverlayTableActions.js","src/OverlayAdditionalFunctions.js","src/OverlayChoosePrinter.js","src/OverlayAlert.js","src/Main.js","src/OverlayServiceEntry.js","src/Register.js","src/Preference.js","src/OverlaySplitItems.js","src/Split.js","src/OverlayInputReference.js","src/OverlayMergeBill.js","src/OverlaySplitBill.js","src/OverlaySplitAmount.js","src/OverlayUpdateTips.js","src/OverlayViewSplitted.js","src/OverlayPaynow.js","src/Pos.js","src/Adhoc.js","src/Dayclose.js","src/Printer.js","src/OverlayEnterDate.js","src/Report.js","src/Reprint.js","src/Resequence.js","src/Transfer.js","src/OverlayVoidReceipt.js","src/Void.js","src/Collect.js","src/Table.js","src/Menu.js","src/Scan.js","src/Trace.js","src/Activate.js","src/Limit.js","src/Fire.js","src/Combo.js","App.js","node_modules/moment/locale sync /^/.*$","assets/VarelaRound-Regular.woff"],"names":["module","exports","Text","style","children","rest","styleObject","Array","isArray","forEach","el","fontSize","fontFamily","debug","serviceEntry","msg1","msg2","msg3","msg4","msg5","msg6","fetch","method","headers","body","JSON","stringify","theme","vacant","reserved","occupied","paid","unavailable","adhoc","deposit","grey1","grey2","grey3","grey4","grey5","grey7","grey8","grey9","size","Platform","OS","black8","white8","OverlayAlert","props","console","log","this","View","styles","overlay","overlayContent","overlayHeader","overlayTitleText","overlaySubtitleText","color","overlayText","text","toUpperCase","TouchableOpacity","overlayOption","onPress","handleUpdateFromProcedureMessage","overlayOptionText","Component","StyleSheet","create","backgroundColor","position","zIndex","top","left","right","bottom","flex","alignItems","justifyContent","width","borderRadius","overflow","marginVertical","textTransform","opacity","textAlign","marginTop","height","margin","OverlayLanguage","intl","get","buttonsContainer","button","handleUpdateFromLanguage","buttonText","minWidth","paddingHorizontal","flexDirection","Login","state","preference","language","serviceEntryObj","accessCode","password","userId","home","dev","bind","navigation","sub","addListener","didFocus","AsyncStorage","getItem","parse","tcolsize","mcolsize","pcolsize","mquick","setItem","setState","doSubmitAccessCode","route","params","sync","moment","diff","item","overlayLanguageVisible","options","currentLocale","overlayProcedureMessageVisible","Alert","alert","doDownload","Linking","link","doLogIn","then","response","json","message","Promise","all","promiseArray","url","URLSearchParams","append","shopId","promiseObject","nameString","push","orgId","locId","map","masters","reduce","o","Object","keys","values","navigate","catch","error","accessCodeUpdate","Ionicons","name","marginHorizontal","MaterialIcons","doPressDownload","AntDesign","marginBottom","numberOfLines","Constants","manifest","version","split","Image","source","Logo","resizeMode","minHeight","textInputContainer","TextInput","textInput","placeholder","placeholderTextColor","placeholderStyle","onChangeText","value","secureTextEntry","autoComplete","autoCorrect","onSubmitEditing","doPressKey","keyHeight","Dimensions","MainTable","settings","sections","tablemas","tables","floorWidth","selectedSection","focused","a","async","doRefresh","prevProps","refresh","initial","length","doPressFloor","doPressSection","sectionId","selectedTable","tableId","doPressFocusedTable","handlePressTable","find","statusFlg","handleActionTable","adhocItem","transType","doTranslateTableColor","e","nativeEvent","layout","padding","renderFloor","FlatList","showsVerticalScrollIndicator","numColumns","horizontal","data","recKey","keyExtractor","index","toString","renderItem","renderTable","initialNumToRender","MaterialCommunityIcons","ScrollView","aspectRatio","disabled","doPressTable","seatTime","format","pax","Feather","letterSpacing","vipName","tableLowerBand","grandTotal","onLayout","doLayout","xaxis","Number","yaxis","shape","doPressFloorTable","Math","sqrt","doTranslateFloorTableColor","transform","rotateZ","flexWrap","filter","some","obj","onetwo","paddingVertical","MainMenu","foldergrps","folders","uniqueFolders","Map","v","folderId","menus","uniqueMenus","menuId","modBundles","displayMode","displays","limiteds","searchText","doGet","foldergrpId","found","selectedFoldergrp","quick","handlePressMenu","doPressFoldergrp","caseText","displaysUpdate","menuName","includes","searchBox","searchBoxInputValue","doSearchText","searchBoxButton","Keyboard","dismiss","setId","setString","renderMenu","renderMenuB","renderFolder","pagingEnabled","showsHorizontalScrollIndicator","handlePressScan","doPressFolder","doPressMenu","listPrice","toFixed","serveLimit","serveCount","uri","restServiceUrl","urlAddr","lastupdate","OverlayAutoLogout","timer","countdown","initialTimer","setInterval","clearInterval","handleUpdateFromAutoLogout","OverlayDeposit","homeDelivery","vipPhone","dlyDate","dpostalcode","daddress1","daddress2","type","ok","address","handleUpdateFromDeposit","tabContainer","doPressDelivery","vipInputsContainer","vipInputsRow","vipInput","textContentType","keyboardType","doChangePostal","onFocus","doSubmit","tabText","tabFocusText","OverlayScanBarcode","handleSubmit","scanTextInput","focus","handleUpdateFromScanBarcode","searchBoxWrapper","overlaySearchBox","overlaySearchBoxInput","ref","autoFocus","overlaySearchBoxButton","searchBoxInfo","searchBoxInfoText","OverlayRequestAccess","handleUpdateFromRequestAccess","requestedPrivilege","OverlayChangePrice","privileges","discounts","selectedTableItem","availableDiscounts","overlaySearchText","discountSelected","selectedDiscount","validatePass","overlayRequestAccessVisible","handleOverlaySearchText","handleValidate","priId","userName","loading","superUserId","adminFlg","handleUpdateFromChangePrice","availableDiscountsUpdate","discId","discName","paddingBottom","selectText","selectWrapper","overlayGrid","dummy","hidden","overlayGridFirst","overlayGridFirstLeft","overlayGridFirstLeftText","overlayGridFirstRight","overlayGridFirstRightText","overlayGridSecond","overlayGridSecondText","overlayGridThird","overlayGridThirdLeft","overlayGridThirdRight","overlayGridThirdRightText","overlayBackButton","OverlayLineDiscount","remarks","itemWithRemarks","handleUpdateFromLineDiscount","OverlayHeaderDiscount","handleUpdateFromHeaderDiscount","OverlayMergeTable","availableTables","mergeTables","handleSelectTable","availableTablesUpdate","mergeTablesUpdate","selectionContainer","modalAvailableMod","modalAvailableModText","handleUpdateFromMergeTable","marginRight","OverlaySplitTable","tableItems","availableTableItems","refRecKey","selectedTableItems","handleSelectTableItem","availableTableItemsUpdate","selectedTableItemsUpdate","lineNo","handleUpdateFromSplitTable","OverlayChangeTable","handleUpdateFromChangeTable","OverlayReviseItem","handleUpdateFromReviseItem","confirmFlg","menuType","discFlg","OverlayTableActions","handleUpdateFromTableActions","OverlayAdditionalFunctions","handleUpdateFromAdditionalFunctions","OverlayChoosePrinter","printers","cashierPrinters","availablePrinters","availablePrintersUpdate","iomodelId","printPurpose","handleUpdateFromChoosePrinter","input","title","subtitle","handleUpdateFromAlert","handleText","cancel","Tab","createBottomTabNavigator","Main","screen","handleUpdateFromVoid","handleUpdateFromTable","doChooseDefaultPrinter","overlayChoosePrinterVisible","homeUpdate","defaultPrinter","opentable","doClearTable","doToggleScreen","opentableItems","action","doCreateTable","mode","settingPOSMODE","modmas","mustFlg","globalFlg","mods","modId","selectedMenu","opentableRecKey","restmenuRecKey","restmenuMod","serviceFlg","orderQty","orderType","doCreateTableForPos","camera","overlayScanBarcodeVisible","d","fireFlg","overlayReviseItemVisible","dayclosePayments","posDayCloseAmt","daycloseSubPayments","posDayCloseAmtDtl","overlayAlertInputValue","overlayAlertVisible","printer","refTableId","pospays","opentablePospays","newStatus","tableStatus","vipId","phone","reservationTime","sourceId","opentableItemRecKey","newLineBreak","lineBreak","overlayDepositVisible","sendFlg","printOrder","printOrderFlg","purpose","selectedPrinter","doSendOrder","doPrintBill","doStartPayment","doOpenDrawer","doStartDayclose","doDeleteTableItem","doEditTableItem","overlayAdditionalFunctionsVisible","goBack","Date","overlayTableActionsVisible","overlayHeaderDiscountVisible","doChangeTableStatus","overlayMergeTableVisible","overlaySplitTableVisible","overlayChangeTableVisible","doRevertTableItem","overlayChangePriceVisible","overlayLineDiscountVisible","doUpdateLineBreak","doDuplicateTableItem","disc","discNum","price","itemPayloads","mergedTableId","join","items","table","tableIdTo","doTransTypeSales","doTransTypeDeposit","deliveryFlg","postalCode","addr1","addr2","addr3","addr4","barcode","tableInfo","overlayAutoLogoutVisible","footerText","locName","marginLeft","tableUpperBand","doTranslateTableStatus","doPressSend","FontAwesome","Fontisto","borderLeftWidth","borderLeftColor","borderRightColor","paddingRight","scrollViewRef","onContentSizeChange","scrollToEnd","doTranslateTableItemColor","doPressItem","menuMod","lineTotal","Navigator","screenOptions","headerShown","animation","gestureEnabled","tabBarStyle","display","Screen","OverlayServiceEntry","handleUpdateFromServiceEntry","Register","savedEntries","selectedItem","doDeleteEntry","doSetEntry","overlayServiceEntryVisible","epbId","bistroServiceUrl","doSaveEntry","savedEntriesUpdate","unshift","container","leftContainer","navigateContainer","navigateWrapper","displayContainer","displayWrapper","gap","gridContainer","grid","doPressEntry","gridFirst","gridFirstLeftText","gridFirstRightText","gridSecond","gridSecondText","gridThird","gridThirdRightText","rightContainer","paddingLeft","doPressAdd","searchBoxInfoLeft","searchBoxInfoRight","gridFirstLeft","gridFirstRight","gridThirdLeft","gridThirdRight","paddingTop","selection","selectionText","tableItemText","tableItemModText","tableItemContainer","tableItemFirstContainer","borderRightWidth","tableItemSecondContainer","tableItemThirdContainer","tableItemFourthContainer","titleFirstContainer","titleSecondContainer","titleThirdContainer","titleFourthContainer","titleText","Preference","doReset","preferenceUpdate","doTcolsize","doPcolsize","doMcolsize","doMquick","doPressReset","OverlaySplitItems","receipts","docId","percentage","handleFillPercentagesEvenly","handleSetPercentageForReceipt","handleSetFullPercentageForReceipt","numberString","number","receiptsUpdate","findIndex","aggregate","init","handleUpdateFromSplitItems","overlayScroll","inputRow","inputRowLeft","inputRowTitleText","inputRowSubtitleText","inputRowRight","selectTextOnFocus","percentageText","overlayNumber","Split","availableReceipts","receiptItems","overlaySplitItemsVisible","handleSplitSelectedTableItems","handleUndoAll","handleSelectAllUnsplitTableItems","handleDeselectAllUnsplitTableItems","comboItems","distribution","handleUpdateFromSplit","wrapper","itemsContainer","actionButton","splitScroll","snapToInterval","wrapperWidth","decelerationRate","OverlayInputReference","handleUpdateFromInputReference","OverlayMergeBill","selectedTargetTable","filteredResponse","handleUpdateFromMergeBill","OverlaySplitBill","handleQtyChange","prevState","isNaN","adjustContainer","adjustFirst","adjustSecond","handleNumberChange","adjustThird","handleUpdateFromSplitBill","OverlaySplitAmount","amount","warning","handleFillRemainder","handleSetAmountForReceipt","handleUpdateFromSplitAmount","equal","doFillEvenly","OverlayUpdateTips","paymentMethods","availablePaymentMethods","selectedPaymentMethod","availablePaymentMethodsUpdate","pmId","handleUpdateFromUpdateTips","OverlayViewSplitted","handleUpdateFromViewSplitted","PaynowQR","opts","defineProperty","generate","qrstring","s","n","str","String","i","crcTable","crc","c","charCodeAt","RangeError","key","trim","p","id","uen","editable","expiry","company","otherdata","refNumber","final","current","f","padLeft","crc16","qrcode","reference","orgName","qrcodeString","output","logo","Paynow","logoSize","handleUpdateFromPaynow","Pos","payments","selectedPaymentItem","pay","balance","overlayPaynowVisible","overlayInputReferenceVisible","overlayMergeBillVisible","overlaySplitBillVisible","overlaySplitAmountVisible","overlayUpdateTipsVisible","overlayViewSplittedVisible","splitting","splitReceipts","handleBuildNumberString","handleSelectPaymentMethod","handleRounding","handleEnterButton","handleFinishButton","handleAddPayment","handleDeletePayment","handleFinishPayment","handleUnsplitBill","handlePressPaymentItem","handlePressPaymentItemRef","handlePressMerge","handlePressUnmerge","handlePressTips","handlePressSplit","handlePressUnsplit","handleViewSplitted","handleOpenDrawer","handleValidateAmount","newNumberString","slice","maxLength","indexOf","refType","numberStringUpdate","vipPtsMoney","floor","numberStringVal","isInteger","payMoney","opentablePospayRecKey","payAmt","roundAmt","handleAfterAddPayment","overlayPaynowInput","docNo","roundingFlg","roundType","ceil","round","splitCount","receiptmases","splittedReceipts","receiptRecKey","itemPercentages","itemRecKey","splittedReceiptsByamt","amt","tableIdGuest","tips","leftFirstContainer","rowOf5","headerKeyContainer","headerKeyTextTableId","headerKeyText","splitFlg","hostFlg","leftSecondContainer","tableSummaryContainer","tableSummaryTitleContainer","tableSummaryTitle","tableSummaryTitleText","tipsPmId","tableSummaryValueContainer","tableSummaryValue","tableSummaryValueText","beforeDisc","totalDisc","serviceCharge","totalTax","tender","change","maxHeight","paymentsContainer","paymentsFirst","paymentsTitleText","paymentsSecond","paymentsThird","paymentsFourth","posScrollView","contentWidth","contentHeight","animated","datumContainer","datumFirst","datumText","datumSecond","datumThird","payRef","datumFourth","rightFirstContainer","extraData","activeFunctionKeyContainer","functionKeyContainer","activeFunctionKeyText","functionKeyText","rightFirstNumberContainer","rightFirstNumberText","rightSecondContainer","rightSecondLeftContainer","clearContainer","keyText","rightSecondMiddleContainer","keyContainer","keyNumberText","rightSecondRightContainer","backspaceContainer","enterContainer","finishContainer","borderColor","borderWidth","dataContainer","Adhoc","selectedAdhocItem","adhocItems","availableMenus","menu","handleSelectAdhoc","handlePressSettleAsMenu","handlePressSettleAsRetail","handleSearchText","adhocRecKey","availableMenusUpdate","createDate","rightWrapper","Dayclose","total","systemAmt","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","handleFinishDayclose","daycloseRecKey","masRecKey","verify","subVerify","pmValue","settingDAYCLOSEVERIFY","containerFirst","containerSecond","summary","summaryText","summaryTotalText","subPmId","doChangeText","containerThird","scrollEnabled","Printer","handlePingAll","printersUpdate0","printersUpdate","msgId","handlePingPrinter","handleTestAll","printPort","handlePressPingAll","handlePressTestAll","OverlayEnterDate","dateString","valid","isValid","dateStringUpdate","add","subtract","inputRowFirst","inputRowSecond","inputRowThird","handleUpdateFromEnterDate","dateType","Report","selectedButton","fromDateString","toDateString","reportDetails","overlayEnterDateVisible","handlePressDate","handleSelectReport","handlePrintReport","selectedDateType","selectedDateString","report","reportCode","fromDateStringUpdate","toDateStringUpdate","reportContainer","reportLineContainer","reportLineFirst","reportLineFirstText","description","reportLineSecond","reportLineSecondText","qty","reportLineThird","reportLineThirdText","val","borderTopLeftRadius","borderTopRightRadius","Reprint","availableMasters","searches","selectedMaster","details","receiptsxText","pays","handlePressSearch","handleSelectButton","handleSelectMaster","handleReprint","receiptmas","receiptpaydtl","receiptitems","receiptpays","availableMastersUpdate","c1","c2","createUserId","alwaysBounceVertical","netPrice","Resequence","arrangedItems","handleReset","handleAddLineBreak","handleRemoveLineBreak","handleResequence","handleShiftTop","handleShiftUp","handleShiftDown","handleShiftBottom","arrangedItemsUpdate","scrollToOffset","offset","spliceIndex","splice","skip","newLineNo","lineBreakContainer","Transfer","handleSelectTargetTable","handlePressSelectAll","converted","opentableRecKeyFrom","opentableRecKeyTo","opentableItemRecKeys","generateTextForSelectAll","OverlayVoidReceipt","returns","availableReturns","selectedReturn","availableReturnsUpdate","returnId","handleUpdateFromVoidReceipt","Void","overlayVoidReceiptVisible","reopenResponse","handleVoid","handlePressVoid","handlePressReopen","docDateString","Collect","handlePressCollect","Table","vipSources","availableVipSources","overlayPax","capacity","overlayVip","vipDisc","cumPts","classId","overlayValidateVipId","overlayValidateCardNumber","overlayValidateNric","overlayValidateVipName","overlayValidateVipPhone","overlayValidateVipPhoneCountryCode","overlayValidateEmailAddress","vipResults","selectedVipResult","overlaySource","overlaySourceSearch","overlayDeliveryFlg","overlayPostalCode","overlayAddr1","overlayAddr2","overlayAddr3","daddress3","overlayAddr4","daddress4","activePage","handlePressTab","handleSearchVip","handleEnterVip","handleClearVip","handlePressNext","handlePressPrev","handleAddressChange","handleCheckDeliveryFlg","cardNumber","nric","emailAddress","vipPhoneCountryCode","customerNumber","mobileNumber","emailaddress","customerSource","pts","money","cardNo","birthday","availableVipSourcesUpdate","overlayPageWidth","tabsContainer","overlayPage","handlePaxChange","hasActiveMembership","overlayGridThirdLeftText","detailWrapper","detailTitle","detailText","overlayOptionsContainer","overlayOptionContainer","overlaySearchBoxButtonText","overlaySearchVipButton","Menu","qtyInput","modInput","modRecKeys","qtyInputUpdate","modInputUpdate","replace","selectedModBundle","modRecKeysUpdate","modType","moditems","contentContainerStyle","flexGrow","modButton","doPressMod","modText","multiline","blurOnSubmit","menuQtyRow","menuQtyRowFirst","doChangeQty","menuQtyRowSecond","qtyTextInput","doValidateQty","menuQtyRowThird","modifierTextInput","modContainer","doPressModBundle","doToggleOrderType","doToggleLineBreak","Scan","hasCameraPermission","detected","handleBarCodeScanned","status","BarCodeScanner","requestPermissionsAsync","onBarCodeScanned","backButton","iconContainer","windowWidth","windowHeight","Trace","maps","thisTable","thisUser","doReload","traceRef","onEndReachedThreshold","onEndReached","doLoad","alwaysBounceHorizontal","traceText","doToggleUser","doToggleTable","Activate","updateds","overlayRequestPrivilegeVisible","handleSelectMenu","handleSelectUpdated","handlePressDisplayMode","handleUpdateMenu","updatedsUpdate","restmenuRecKeys","newStatusFlg","kotType","Limit","doLimitMenu","doSelectMenu","inputContainer","inputRowLeftText","doToggleStatus","inputRowRightText","Fire","kitchenmsgs","kottypes","remark","selectedKottypes","selectedKitchenmsg","kotTypes","selectedKottypesUpdate","navigateButton","navigateButtonText","doPressKitchenmsg","doPressTableItem","kotName","ListHeaderComponent","doPressAllKottype","doPressKottype","doPressFire","Combo","comboGroups","refMenuId","selectedComboItems","selectedComboItem","doPrepareComboItems","comboItemsUpdate","selectedComboItemsUpdate","combogroupRecKey","groupNo","comboitemRecKey","doComboItemModInput","groupName","renderComboItem","doPressComboItem","addonPrice","Stack","createNativeStackNavigator","App","locales","require","Font","getPermissionsAsync","resolve","NavigationContainer","StatusBar","component","navigationOptions","presentation","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code"],"mappings":"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","file":"static/js/app.bfda2add.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-small-light.2b420db1.png\";","module.exports = __webpack_public_path__ + \"static/media/paynow.c9b5960d.png\";","import React, { useContext } from 'react'\nimport * as RN from 'react-native';\n// import ThemeContext from '../ThemeContext';\n\n// text wrapper for custom style text component\nexport function Text({ style, children, ...rest }) {\n\n  // const themeContext = useContext(ThemeContext);\n\n  let styleObject = style;\n  // convert array to object\n  if (Array.isArray(style)) {\n    styleObject = {};\n    style.forEach(el => {\n      styleObject = Object.assign(styleObject, el);\n    })\n  }\n\n  return (\n    // override font size\n    <RN.Text style={{ ...styleObject, fontSize: (styleObject?.fontSize || 14), fontFamily: (styleObject?.fontFamily || 'varela-round') }} {...rest}>\n      {children}\n    </RN.Text>\n  );\n};\n\nexport function debug(serviceEntry, msg1, msg2, msg3, msg4, msg5, msg6) {\n  fetch(serviceEntry + 'api/debug/', {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n    body: JSON.stringify({\n      msg1, // action\n      msg2, // user name\n      msg3, // error\n      msg4, // target id (table)\n      msg5, // detail name (tableItem)\n      msg6, // additional info (other)\n    }),\n  })\n}","import { Platform } from 'react-native';\r\n\r\nconst theme = {\r\n  vacant: '#30BEAE', // hsl(173, 60%, 47%)\r\n  reserved: '#FFB86F', // hsl(30, 100%, 72%)\r\n  occupied: '#2A79A8', //\thsl(202, 60%, 41%)\r\n  paid: '#E84855', // hsl(355, 78%, 60%)\r\n  unavailable: '#424549',\r\n  adhoc: '#7a4988', // hsl(287, 30%, 41%)\r\n  deposit: '#d65c91', // hsl(334, 60%, 60%)\r\n  grey1: '#23272A',\r\n  grey2: '#2C2F33',\r\n  grey3: '#36393E',\r\n  grey4: '#424549',\r\n  grey5: '#99aab5',\r\n\r\n  grey7: '#E3E5E8',\r\n  grey8: '#EBEDEF',\r\n  grey9: '#F2F3F5',\r\n\r\n  size: Platform.OS === 'web' ? 5 : 4,\r\n\r\n  black8: '#000000aa', // cc is 0.8, aa is not\r\n  white8: '#ffffffcc',\r\n}\r\n\r\nexport default theme;","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayproceduremessage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>WARNING</Text>\r\n            <Text style={[styles.overlaySubtitleText, { color: theme.paid }]}>Procedure Message</Text>\r\n            <Text style={styles.overlayText}>{this.props.text.toUpperCase()}</Text>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromProcedureMessage('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 3,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Feather, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayLanguage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlaylanguage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Language 语言 ランゲージ</Text>\r\n            {/* <Text style={styles.overlayText}>Select a message for the chef</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('en')}>\r\n              <Text style={{ marginTop: 5, color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>Aa</Text>\r\n              <Text style={[styles.buttonText,]}>ENGLISH</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zhs')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>简体</Text>\r\n              <Text style={[styles.buttonText,]}>简体中文</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zht')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>繁體</Text>\r\n              <Text style={styles.buttonText}>繁體中文</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('ja')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>日本語</Text>\r\n              <Text style={styles.buttonText}>日本語</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromLanguage('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, Platform, Dimensions } from 'react-native';\r\nimport * as Linking from 'expo-linking';\r\nimport Constants from 'expo-constants';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text, debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport Logo from '../assets/logo-small-light.png';\r\nimport moment from 'moment';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayLanguage from './OverlayLanguage';\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      preference: null,\r\n      language: '-',\r\n      serviceEntry: '',\r\n      serviceEntryObj: null,\r\n      accessCode: '',\r\n      password: '',\r\n      userId: '',\r\n      home: null,\r\n\r\n      dev: false,\r\n      // dev: true,\r\n    };\r\n\r\n    this.handleUpdateFromLanguage = this.handleUpdateFromLanguage.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { navigation } = this.props;\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const language = await AsyncStorage.getItem('language');\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n    } else {\r\n      preference = {\r\n        tcolsize: Platform.OS === 'web' ? 5 : 4,\r\n        mcolsize: Platform.OS === 'web' ? 3 : 2,\r\n        pcolsize: Platform.OS === 'web' ? 5 : 3,\r\n        mquick: 'Y',\r\n      };\r\n      AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n    }\r\n\r\n    console.log('mounting service', serviceEntry)\r\n    let serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (serviceEntryObj) {\r\n      serviceEntryObj = JSON.parse(serviceEntryObj);\r\n    } else {\r\n      serviceEntryObj = null;\r\n    }\r\n    this.setState({\r\n      preference,\r\n      serviceEntry,\r\n      language: language || 'en',\r\n      serviceEntryObj,\r\n    })\r\n    // dev only\r\n    if (this.state.dev) {\r\n      this.setState({\r\n        accessCode: 'qwe'\r\n      }, () => this.doSubmitAccessCode())\r\n    }\r\n  }\r\n\r\n  async didFocus() {\r\n    const { route } = this.props;\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (preference) {\r\n      this.setState({ preference: JSON.parse(preference) })\r\n    }\r\n    if (serviceEntryObj) {\r\n      this.setState({ serviceEntryObj: JSON.parse(serviceEntryObj) })\r\n    }\r\n    this.setState({ serviceEntry })\r\n    if (route.params?.sync && (moment(route.params.sync).diff(moment(), 'seconds') > -1)) {\r\n      this.doSubmitAccessCode();\r\n    } else {\r\n      if (!this.state.dev) {\r\n        this.setState({\r\n          accessCode: ''\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  handleUpdateFromLanguage(item) {\r\n    this.setState({\r\n      overlayLanguageVisible: false,\r\n    })\r\n    if (!item) {\r\n      return;\r\n    }\r\n    intl.options.currentLocale = item;\r\n    AsyncStorage.setItem('language', item);\r\n    this.setState({\r\n      language: item,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressDownload() {\r\n    Alert.alert(\r\n      `Download latest bistro app?`,\r\n      '',\r\n      [\r\n        {\r\n          text: 'Cancel',\r\n        },\r\n        {\r\n          text: 'Ok',\r\n          onPress: () => this.doDownload()\r\n        },\r\n      ],\r\n    );\r\n  }\r\n\r\n  doDownload() {\r\n    if (Platform.OS === 'ios') {\r\n      Linking.openURL(`itms-apps://itunes.apple.com/app/id6443468946`);\r\n    }\r\n  }\r\n\r\n  doSubmitPassword() {\r\n    const { serviceEntry, userId, password } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      userId: userId,\r\n      password: password,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  doSubmitAccessCode() {\r\n    const { serviceEntry, accessCode } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      accessCode: accessCode,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  async doLogIn(link, body) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry } = this.state;\r\n\r\n    fetch(link, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post login', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          throw response;\r\n        }\r\n        this.setState({\r\n          home: response,\r\n        });\r\n        return Promise.all([\r\n          AsyncStorage.setItem('home', JSON.stringify(response)),\r\n          response,\r\n        ]);\r\n      })\r\n      .then(([response, home]) => {// do parallel chain\r\n\r\n        let promiseArray = [];\r\n\r\n        let url = serviceEntry + 'api/sections';\r\n        let params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        let promiseObject = { url: url, nameString: 'sections' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/tablemas';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'tablemas' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/foldergrps';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'foldergrps' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/folders';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'folders' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/menus';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'menus' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mods';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'mods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mod-bundles';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'modBundles' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-items';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboItems' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-groups';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboGroups' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/payment-methods';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'paymentMethods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/vip-sources';\r\n        promiseObject = { url: url, nameString: 'vipSources' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/discounts';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'discounts' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/returns';\r\n        promiseObject = { url: url, nameString: 'returns' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/settings';\r\n        params = new URLSearchParams();\r\n        params.append('appCode', 'RESTMENU');\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'settings' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/privileges';\r\n        params = new URLSearchParams();\r\n        params.append('userId', home.userId);\r\n        params.append('locId', home.locId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'privileges' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/cashier-printers';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'cashierPrinters' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kottype';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kottypes' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kitchenmsgs';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kitchenmsgs' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        return Promise.all([\r\n          ...promiseArray.map(el =>\r\n            fetch(el.url)\r\n              .then(response => response.json())\r\n              .then(response => {\r\n                console.log('fetching', el.nameString, response);\r\n                return ({ [el.nameString]: response });\r\n              })\r\n          )\r\n        ]);\r\n      })\r\n      .then(response => {\r\n        const masters = response.reduce((o, item) => ({ ...o, [Object.keys(item)[0]]: Object.values(item)[0] }), {});\r\n        console.log('masters', masters);\r\n        navigation.navigate('Main', {\r\n          masters,\r\n          home: this.state.home,\r\n          serviceEntryObj: this.state.serviceEntryObj,\r\n          serviceEntry: this.state.serviceEntry,\r\n          preference: this.state.preference\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log('error', error);\r\n        this.setState({\r\n          accessCode: '',\r\n        })\r\n      });\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { accessCode } = this.state;\r\n    let accessCodeUpdate = accessCode + item;\r\n    this.setState({ accessCode: accessCodeUpdate });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { serviceEntryObj, serviceEntry, language, userId, password, accessCode,\r\n      overlayProcedureMessageVisible, overlayLanguageVisible } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayLanguageVisible &&\r\n          <OverlayLanguage\r\n            handleUpdateFromLanguage={this.handleUpdateFromLanguage} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ flex: 1, backgroundColor: 'white', }}>\r\n          <View style={{ flex: 2, }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View>\r\n                <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.paid }}\r\n                  onPress={() => navigation.navigate('Register')}>\r\n                  <Ionicons name='ios-globe' size={24} color={theme.grey1} style={{ height: 24, width: 24, marginTop: -2 }} />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ marginHorizontal: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.reserved }}\r\n                  onPress={() => navigation.navigate('Preference')}>\r\n                  <MaterialIcons name=\"miscellaneous-services\" size={24} color={theme.grey1} />\r\n                </TouchableOpacity>\r\n                {\r\n                  Platform.OS === 'ios' &&\r\n                  <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.occupied }}\r\n                    onPress={() => this.doPressDownload()}>\r\n                    <AntDesign name=\"clouddownload\" size={24} color={theme.grey1} />\r\n                  </TouchableOpacity>\r\n                }\r\n              </View>\r\n\r\n            </View>\r\n            <View style={{ margin: 20, alignItems: 'flex-end', justifyContent: 'flex-end', }}>\r\n              <Text style={{ color: theme.paid }}>{serviceEntryObj?.name || 'Entry'}</Text>\r\n              <Text style={{ fontSize: 10, marginBottom: 5, color: theme.occupied }} numberOfLines={1}>{serviceEntry}</Text>\r\n              <Text style={{ fontSize: 18 }}>AN EXTENSION OF THE EPB SYSTEM</Text>\r\n              <Text style={{ fontSize: 18 }}>VERSION {Constants.manifest.version?.split('.')[0]}</Text>\r\n            </View>\r\n          </View>\r\n          <Image\r\n            style={{ flex: 1, width: '100%', }}\r\n            source={Logo}\r\n            resizeMode='contain'\r\n          />\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: theme.grey1, justifyContent: 'center', alignItems: 'center' }}>\r\n          <TouchableOpacity style={{ position: 'absolute', right: 20, top: 20, minHeight: 40, alignItems: 'flex-end' }}\r\n            onPress={() => this.setState({ overlayLanguageVisible: true })}>\r\n            <Text style={{ color: 'white', textTransform: 'uppercase' }}>{language === 'ja' ? '日本語' : language === 'zhs' ? '简体中文' : language === 'zht' ? '繁體中文' : 'EN'}</Text>\r\n            <Text style={{ color: 'white', fontSize: 10 }}>LANGUAGE 语言 ランゲージ</Text>\r\n          </TouchableOpacity>\r\n          <View style={styles.textInputContainer}>\r\n            <TextInput style={styles.textInput}\r\n              placeholder={intl.get('accesscode')}\r\n              placeholderTextColor='white'\r\n              placeholderStyle={{ textTransform: 'uppercase' }}\r\n              onChangeText={text => this.setState({ accessCode: text })}\r\n              value={accessCode}\r\n              secureTextEntry\r\n              autoComplete='off'\r\n              autoCorrect={false}\r\n              onSubmitEditing={() => this.doSubmitAccessCode()}\r\n            />\r\n          </View>\r\n\r\n          <View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('1')}>\r\n                <Text style={styles.buttonText}>1</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('2')}>\r\n                <Text style={styles.buttonText}>2</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('3')}>\r\n                <Text style={styles.buttonText}>3</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('4')}>\r\n                <Text style={styles.buttonText}>4</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('5')}>\r\n                <Text style={styles.buttonText}>5</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('6')}>\r\n                <Text style={styles.buttonText}>6</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('7')}>\r\n                <Text style={styles.buttonText}>7</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('8')}>\r\n                <Text style={styles.buttonText}>8</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('9')}>\r\n                <Text style={styles.buttonText}>9</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.setState({ accessCode: '' })}>\r\n                <AntDesign name='close' color='white' size={24} />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('0')}>\r\n                <Text style={styles.buttonText}>0</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.doSubmitAccessCode()}>\r\n                <AntDesign name='enter' color='white' size={24} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  textInputContainer: {\r\n    width: '80%',\r\n    marginTop: 20,\r\n    marginBottom: 40,\r\n    height: 60,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n  },\r\n  textInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 20,\r\n    borderRadius: 100,\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'black',\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, MaterialCommunityIcons, Feather, Ionicons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, Text, TextInput, Alert, FlatList, ScrollView, Platform } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport moment from 'moment';\r\n\r\nexport default class MainTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      preference: props.preference,\r\n      settings: props.masters.settings,\r\n      sections: props.masters.sections || [],\r\n      tablemas: props.masters.tablemas,\r\n      tables: [],\r\n      floorWidth: null,\r\n\r\n      selectedSection: null,\r\n      focused: null,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.doRefresh(true);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.refresh && prevProps.refresh !== this.props.refresh) {\r\n      console.log('componentDidUpdate', prevProps.refresh, this.props.refresh)\r\n      this.setState({\r\n        focused: null,\r\n      })\r\n      this.doRefresh();\r\n    }\r\n  }\r\n\r\n  async doRefresh(initial) {\r\n    const { sections, selectedSection } = this.state;\r\n    if (initial) {\r\n      if (sections.length > 0) {\r\n        await this.doPressFloor();\r\n      } else {\r\n        await this.doPressSection({ sectionId: 'SYS' });\r\n      }\r\n    } else {\r\n      if (selectedSection?.sectionId === 'FLOOR') {\r\n        await this.doPressFloor();\r\n      } else if (selectedSection) {\r\n        await this.doPressSection(selectedSection);\r\n      } else {\r\n        this.doRefresh(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  async doPressFloor() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('tableFlg', 'Y');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: 'FLOOR' },\r\n        });\r\n      })\r\n  }\r\n\r\n  async doPressSection(item) {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n\r\n    if (item?.sectionId === 'OCCUPIED') {\r\n      params.append('statusFlg', 'C');\r\n      params.append('tableFlg', 'Y');\r\n    } else if (item?.sectionId === 'RESERVED') {\r\n      params.append('statusFlg', 'B');\r\n    } else if (item?.sectionId === 'SYS') {\r\n      params.append('sectionId', item.sectionId)\r\n      params.append('statusFlg', 'C');\r\n    } else {\r\n      params.append('sectionId', item.sectionId)\r\n    }\r\n\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: item.sectionId },\r\n        });\r\n      })\r\n  }\r\n\r\n  doPressTable(item) {\r\n    const { focused, selectedSection } = this.state;\r\n    if (focused?.tableId === item.tableId) {\r\n      this.setState({\r\n        focused: null\r\n      })\r\n      this.doPressFocusedTable(item);\r\n      return;\r\n    }\r\n    if (item.sectionId !== 'SYS') {\r\n      this.doPressSection(selectedSection);\r\n      this.setState({\r\n        focused: item,\r\n      })\r\n    }\r\n    this.props.handlePressTable(item);\r\n  }\r\n\r\n  doPressFloorTable(item) {\r\n    const { tables, focused } = this.state;\r\n    if (focused?.tableId === item.tableId) {\r\n      this.setState({\r\n        focused: null\r\n      })\r\n      this.doPressFocusedTable(tables.find(el => el.tableId === item.tableId));\r\n      return;\r\n    }\r\n    this.doPressFloor()\r\n    this.setState({\r\n      focused: item\r\n    })\r\n    this.props.handlePressTable(tables.find(el => el.tableId === item.tableId));\r\n  }\r\n\r\n  doPressFocusedTable(item) {\r\n    if (item.statusFlg === 'A') {\r\n      this.props.handleActionTable(item, 'OPEN')\r\n    } else if (item.statusFlg === 'C') {\r\n      this.props.handleActionTable(item, 'EDIT')\r\n    }\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateFloorTableColor(item) {\r\n    const { tables } = this.state;\r\n    return this.doTranslateTableColor(tables.find(el => el.tableId === item.tableId))\r\n  }\r\n\r\n  doLayout(e) {\r\n    this.setState({\r\n      floorWidth: e.nativeEvent.layout.width / 16,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { preference, sections, settings, tables, selectedSection } = this.state;\r\n    // console.log(tables && tables[0])\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n          {\r\n            selectedSection?.sectionId === 'FLOOR' ?\r\n              this.renderFloor()\r\n              :\r\n              <FlatList\r\n                style={{ flex: 1, padding: 3 }}\r\n                showsVerticalScrollIndicator={false}\r\n                numColumns={preference.tcolsize}\r\n                horizontal={false}\r\n                data={selectedSection?.sectionId === 'SYS' ? [{ recKey: -999 }, ...tables] : tables}\r\n                keyExtractor={(item, index) => item.recKey.toString()}\r\n                renderItem={({ item, index }) => this.renderTable(item, index)}\r\n                initialNumToRender={25}\r\n              />\r\n          }\r\n        </View>\r\n        <View style={{ margin: 5, width: 120, }}>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 80, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressFloor()}>\r\n            <MaterialCommunityIcons name=\"mapbox\" size={30} color=\"white\" style={{ height: 28 }} />\r\n            <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('floorplan')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'SYS' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text>\r\n            {/* <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text> */}\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.reserved, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'RESERVED' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('B')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.occupied, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'OCCUPIED' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('C')}</Text>\r\n          </TouchableOpacity>\r\n          {\r\n            sections &&\r\n            <ScrollView style={{ flex: 1, }}\r\n              showsVerticalScrollIndicator={false}>\r\n              {\r\n                sections.map((item, index) => (\r\n                  <TouchableOpacity key={index}\r\n                    style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: selectedSection?.sectionId === item.sectionId ? 'white' : theme.grey1, borderRadius: 5, marginVertical: 5 }}\r\n                    onPress={() => this.doPressSection(item)}>\r\n                    <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: selectedSection?.sectionId === item.sectionId ? 'black' : 'white' }}>{item.name}</Text>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n          }\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n\r\n  renderTable(item, index) {\r\n    const { selectedSection, preference, focused } = this.state;\r\n    if (selectedSection?.sectionId === 'SYS' && index === 0) {\r\n      return (\r\n        <TouchableOpacity style={{ flex: 1 / preference.tcolsize, aspectRatio: 1, }}\r\n          onPress={() => this.props.handleActionTable(null, 'CREATE')}>\r\n          <View style={{ flex: 1, margin: 3, backgroundColor: theme.grey4, justifyContent: 'center', alignItems: 'center' }}>\r\n            <AntDesign name=\"pluscircleo\" size={36} color={theme.grey1} />\r\n          </View>\r\n        </TouchableOpacity>\r\n      )\r\n    }\r\n    return (\r\n      <TouchableOpacity style={{ flex: 1 / preference.tcolsize, aspectRatio: 1, }}\r\n        disabled={!item.tableId}\r\n        onPress={() => this.doPressTable(item)}>\r\n        <View style={{ flex: 1, margin: 3, backgroundColor: this.doTranslateTableColor(item), justifyContent: 'center', alignItems: 'center' }}>\r\n          {\r\n            item.seatTime &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', top: 5, left: 5, color: 'black', fontSize: theme.size * 4 }}>{moment(item.seatTime).format('HH:mm')}</Text>\r\n          }\r\n          {\r\n            (item.sectionId !== 'SYS' && item.pax > 0) &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', top: 5, right: 5, color: 'white', fontSize: theme.size * 4 }}>{item.pax} <Feather color='white' name='users' size={theme.size * 4} /></Text>\r\n          }\r\n          <Text style={{ fontFamily: 'varela-round', color: 'rgba(0,0,0,0.8)', fontSize: 22, letterSpacing: 1 }}>{item.tableId}</Text>\r\n          {\r\n            item.vipName &&\r\n            <Text style={[styles.tableLowerBand]}>{item.vipName}</Text>\r\n          }\r\n          {\r\n            item.grandTotal > 0 &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', bottom: 5, right: 5, color: 'black', fontSize: theme.size * 4 }}>${item.grandTotal}</Text>\r\n          }\r\n        </View>\r\n        {\r\n          focused?.tableId === item.tableId &&\r\n          <View style={{ position: 'absolute', top: 3, left: 3, right: 3, bottom: 3, backgroundColor: 'white', alignItems: 'center', justifyContent: 'center' }}>\r\n            {\r\n              (item.statusFlg === 'A' || item.statusFlg === 'C') &&\r\n              <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('press')}</Text>\r\n            }\r\n            <Text style={{ fontFamily: 'varela-round', color: 'rgba(0,0,0,0.8)', fontSize: 22, letterSpacing: 1 }}>{item.tableId}</Text>\r\n            {\r\n              item.statusFlg === 'A' ?\r\n                <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('open')}</Text>\r\n                : item.statusFlg === 'C' ?\r\n                  <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('edit')}</Text>\r\n                  : null\r\n            }\r\n          </View>\r\n        }\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  renderFloor() {\r\n    const { home, tablemas, tables, floorWidth, focused } = this.state;\r\n    return (\r\n      <ScrollView style={{ flex: 1 }}\r\n        showsVerticalScrollIndicator={false}>\r\n        <View style={{ flex: 1, aspectRatio: 1, backgroundColor: theme.grey1, overflow: 'hidden', borderRadius: 5 }}>\r\n          <View style={{ position: 'absolute', left: 0, right: 0, top: 0, bottom: 0 }}>\r\n            <View style={{ flex: 1, justifyContent: 'space-between' }}>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n            </View>\r\n          </View>\r\n          <View style={{ position: 'absolute', left: 0, right: 0, top: 0, bottom: 0 }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 3, }} onLayout={(e) => this.doLayout(e)}>\r\n            {\r\n              floorWidth && tablemas.map(item =>\r\n                <View key={item.recKey}\r\n                  style={{ position: 'absolute', left: item.xaxis * floorWidth, top: Number(item.yaxis * floorWidth), width: item.width * floorWidth, height: Number(item.height * floorWidth) }}>\r\n                  {\r\n                    item.shape === 'B' ?\r\n                      <TouchableOpacity style={{ flex: 1, alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? floorWidth * item.height : 0 }}\r\n                        onPress={() => this.doPressFloorTable(item)}>\r\n                        <View style={{ height: Math.sqrt(0.5) * (item.width * floorWidth - 6), width: Math.sqrt(0.5) * (item.width * floorWidth - 6), backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), transform: [{ rotateZ: '45deg' }], justifyContent: 'center', alignItems: 'center' }}>\r\n                          <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20, transform: [{ rotateZ: '-45deg' }] }}>{item.tableId}</Text>\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                      :\r\n                      <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? floorWidth * item.height : 0 }}\r\n                        onPress={() => this.doPressFloorTable(item)}>\r\n                        <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20 }}>{item.tableId}</Text>\r\n                      </TouchableOpacity>\r\n                  }\r\n                  {/* {\r\n                    // top and bottom chairs\r\n                    (item.width > item.height && item.shape === 'A') &&\r\n                    <>\r\n                      <View style={{ position: 'absolute', top: -3, left: 0, right: 0, height: 6, flexDirection: 'row', }}>\r\n                        {\r\n                          [...Array(item.width)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: theme.grey4, borderTopLeftRadius: 3, borderTopRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                      <View style={{ position: 'absolute', bottom: -3, left: 0, right: 0, height: 6, flexDirection: 'row', }}>\r\n                        {\r\n                          [...Array(item.width)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: theme.grey4, borderBottomLeftRadius: 3, borderBottomRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  } */}\r\n                  {/* {\r\n                    // left and right chairs\r\n                    (item.width < item.height && item.shape === 'A') &&\r\n                    <>\r\n                      <View style={{ position: 'absolute', left: -3, top: 0, bottom: 0, width: 6, }}>\r\n                        {\r\n                          [...Array(item.height)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: theme.grey4, borderTopLeftRadius: 3, borderBottomLeftRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                      <View style={{ position: 'absolute', right: -3, top: 0, bottom: 0, width: 6, }}>\r\n                        {\r\n                          [...Array(item.height)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: theme.grey4, borderTopRightRadius: 3, borderBottomRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  } */}\r\n                </View>\r\n              )\r\n            }\r\n          </View>\r\n\r\n\r\n        </View>\r\n        <View style={{ margin: 3, marginTop: -3, flexWrap: 'wrap', flexDirection: 'row' }}>\r\n          {\r\n            floorWidth && tables.filter(el => !tablemas.some(obj => obj.tableId === el.tableId)).map((item, index) =>\r\n              <View key={index} style={{ width: floorWidth * 4, aspectRatio: 4 }}>\r\n                <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.doPressFloorTable(item)}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20 }}>{item.tableId}</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  textInput: {\r\n    color: 'white',\r\n    height: 60,\r\n    borderRadius: 30,\r\n    width: '90%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 120,\r\n    textAlign: 'center',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n  },\r\n  onetwo: {\r\n    position: 'absolute', top: '0', left: '0', height: '12.5%', width: '12.5%',\r\n  },\r\n  tableLowerBand: {\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, ScrollView, FlatList, Platform, Keyboard } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class MainMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      serviceEntryObj: props.serviceEntryObj,\r\n      preference: props.preference,\r\n\r\n      settings: props.settings,\r\n      foldergrps: props.foldergrps,\r\n      folders: props.folders,\r\n      uniqueFolders: [...new Map(props.folders.map(v => [v.folderId, v])).values()],\r\n      menus: props.menus,\r\n      uniqueMenus: [...new Map(props.menus.map(v => [v.menuId, v])).values()],\r\n      modBundles: props.modBundles,\r\n\r\n      displayMode: '',\r\n      displays: [],\r\n      limiteds: [],\r\n\r\n      searchText: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount mainmenu')\r\n    const { foldergrps, folders, menus } = this.state;\r\n\r\n    this.doGet();\r\n\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    if (folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: foldergrps[0],\r\n      displays,\r\n      displayMode,\r\n    });\r\n  }\r\n\r\n  doGet() {\r\n    // real time fast changing data\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    // params.append('recKey', recKey);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          limiteds: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doPressFoldergrp(item) {\r\n    const { folders, menus, } = this.state;\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    this.doGet();\r\n\r\n    if (folders.filter(el => el.foldergrpId === item.foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === item.foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === item.foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: item,\r\n      displays,\r\n      displayMode,\r\n      searchText: '',\r\n    });\r\n  }\r\n\r\n  doPressFolder(item) {\r\n    const { menus } = this.state;\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId),\r\n    })\r\n  }\r\n\r\n  doPressMenu(item, quick) {\r\n    this.props.handlePressMenu(item, quick);\r\n  }\r\n\r\n  doSearchText(text) {\r\n    const { menus, foldergrps } = this.state;\r\n    this.setState({ searchText: text });\r\n    if (!text) {\r\n      this.setState({\r\n        displayMode: 'MENU',\r\n        displays: '',\r\n        selectedFoldergrp: '',\r\n      })\r\n      this.doPressFoldergrp(foldergrps[0]);\r\n      return;\r\n    }\r\n\r\n    let caseText = text.toUpperCase();\r\n    let displaysUpdate = menus.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: displaysUpdate,\r\n      selectedFoldergrp: '',\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { preference, settings, displayMode, displays, foldergrps, folders, uniqueFolders, uniqueMenus, menus, modBundles,\r\n      searchText,\r\n      selectedFoldergrp } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1 }}>\r\n          <View style={{ marginHorizontal: 10, marginTop: -5, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontSize: 10, color: theme.white8 }}><Text style={{ fontSize: 10, color: theme.paid }}>{uniqueMenus.length}</Text> MENU <Text style={{ fontSize: 10, color: theme.reserved }}>{uniqueFolders.length}</Text> FOLDER <Text style={{ fontSize: 10, color: theme.reserved }}>{foldergrps.length}</Text> FOLDERGRP <Text style={{ fontSize: 10, color: theme.vacant }}>{modBundles.length}</Text> MODIFIER</Text>\r\n          </View>\r\n          <View style={styles.searchBox}>\r\n            <TextInput style={styles.searchBoxInputValue}\r\n              placeholder={`${intl.get('enter')?.toUpperCase()} ${intl.get('search')?.toUpperCase()} ${intl.get('text')?.toUpperCase()}`}\r\n              placeholderTextColor='rgba(255,255,255,0.2)'\r\n              value={searchText}\r\n              onChangeText={(text) => this.doSearchText(text)} />\r\n            <TouchableOpacity style={styles.searchBoxButton}\r\n              onPress={() => {\r\n                this.doSearchText('');\r\n                Keyboard.dismiss();\r\n              }}>\r\n              <AntDesign name='close' size={24} color={theme.grey4} />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n            {\r\n              displayMode === 'MENU' ?\r\n                (\r\n                  settings.find(el => el.setId === 'POSMODE')?.setString === 'A' ?\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.mcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenu(item)}\r\n                    />\r\n                    :\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.pcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenuB(item)}\r\n                    />\r\n                )\r\n                :\r\n                <FlatList\r\n                  key={'FOLDER' + selectedFoldergrp?.foldergrpId}\r\n                  style={{ flex: 1, padding: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  numColumns={preference.mcolsize}\r\n                  horizontal={false}\r\n                  data={displays}\r\n                  keyExtractor={(item, index) => item.recKey.toString()}\r\n                  renderItem={({ item }) => this.renderFolder(item)}\r\n                />\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={{ margin: 5, width: 120, }}>\r\n          <View style={{ height: 90 }}>\r\n            <ScrollView\r\n              horizontal={true}\r\n              pagingEnabled={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                Platform.OS !== 'web' &&\r\n                <TouchableOpacity\r\n                  style={{ alignItems: 'center', justifyContent: 'center', height: 90, width: 120 }}\r\n                  onPress={() => this.props.handlePressScan(true)}>\r\n                  <MaterialCommunityIcons name=\"camera-iris\" size={30} color=\"white\" style={{ height: 28 }} />\r\n                  <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('scan')}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n              <TouchableOpacity\r\n                style={{ alignItems: 'center', justifyContent: 'center', height: 90, width: 120 }}\r\n                onPress={() => this.props.handlePressScan()}>\r\n                <MaterialCommunityIcons name=\"movie-filter\" size={28} color=\"white\" style={{ height: 28 }} />\r\n                <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('barcode')}</Text>\r\n              </TouchableOpacity>\r\n            </ScrollView>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              foldergrps.map((item, index) => (\r\n                <TouchableOpacity key={index}\r\n                  style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'white' : theme.grey1, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doPressFoldergrp(item)}>\r\n                  <Text style={{ textAlign: 'center', color: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'black' : 'white' }}>{item.name}</Text>\r\n                </TouchableOpacity>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderFolder(item) {\r\n    const { preference, menus } = this.state;\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <TouchableOpacity\r\n          style={{ margin: 2.5, height: 90, backgroundColor: 'black', alignItems: 'center', justifyContent: 'center' }}\r\n          onPress={() => this.doPressFolder(item)}>\r\n          <Text style={{ color: theme.paid, fontSize: 12 }}>{item.folderId}</Text>\r\n          <Text style={{ color: 'white', paddingHorizontal: 10, textAlign: 'center', fontSize: 16 }}>{item.name}</Text>\r\n          <Text style={{ color: theme.vacant }}>{menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId).length}</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenu(item) {\r\n    const { preference, limiteds, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds.find(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <View style={[{ margin: 2.5, flexDirection: 'row', height: 90, backgroundColor: theme.grey4, }, item.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n          {\r\n            preference.mquick === 'Y' &&\r\n            <TouchableOpacity\r\n              style={{ width: 50, backgroundColor: theme.grey3, justifyContent: 'center', alignItems: 'center' }}\r\n              disabled={item.statusFlg === 'B'}\r\n              onPress={() => this.doPressMenu(item, true)}>\r\n              <AntDesign name=\"check\" size={18} color={theme.grey1} />\r\n              {/* {\r\n                serviceEntry === 'https://www.epbrowser.com:8090/fnb-ws/' &&\r\n                <Image\r\n                  style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0 }}\r\n                  source={{\r\n                    uri: 'http://203.208.248.200:9090/image-proxy-epbsg/ASP/EPBSG/NORMAL/Shell/picture/' + item.stkId + '.jpg'\r\n                    // uri: imageEntry + item.menuId + '.jpg'\r\n                  }}\r\n                />\r\n              } */}\r\n            </TouchableOpacity>\r\n          }\r\n          <TouchableOpacity\r\n            style={{ flex: 1 }}\r\n            disabled={item.statusFlg === 'B'}\r\n            onPress={() => this.doPressMenu(item)}>\r\n            <View style={{ flex: 1, padding: 10 }}>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: 'white', fontSize: 12, }}></Text>\r\n                <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n              </View>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{found ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                <Text style={{ color: theme.paid, fontSize: 12, }}>{item.menuId}</Text>\r\n              </View>\r\n            </View>\r\n          </TouchableOpacity>\r\n          {\r\n            searchText.length > 0 &&\r\n            <Text style={{ position: 'absolute', top: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n          }\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenuB(item) {\r\n    const { preference, limiteds, serviceEntryObj, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds.find(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / (preference.pcolsize) }}>\r\n        <TouchableOpacity style={{ margin: 2.5, }}\r\n          disabled={item.statusFlg === 'B'}\r\n          onPress={() => this.doPressMenu(item)}>\r\n          <View style={{ backgroundColor: theme.grey3 }}>\r\n            <Image\r\n              style={{ aspectRatio: 1 }}\r\n              source={{\r\n                uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.urlAddr + '&t=' + item.lastupdate\r\n              }}\r\n            />\r\n            {\r\n              searchText.length > 0 &&\r\n              <Text style={{ position: 'absolute', bottom: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n            }\r\n          </View>\r\n          <View style={[{ flexDirection: 'row', height: 70, backgroundColor: theme.grey4, }, item.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n            <View\r\n              style={{ flex: 1 }}>\r\n              <View style={{ flex: 1, padding: 10 }}>\r\n                <View style={{ flex: 1 }}>\r\n                  <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n                </View>\r\n                <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                  <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{found ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                  <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  searchBox: {\r\n    margin: 10,\r\n    // marginTop: 25,\r\n    marginBottom: 5,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n    borderRadius: 100,\r\n  },\r\n  searchBoxButton: {\r\n    position: 'absolute',\r\n    right: 0,\r\n    top: 0,\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAutoLogout extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      timer: 5,\r\n    };\r\n    this.countdown = () => { };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let initialTimer = 5;\r\n    this.countdown = setInterval(() => {\r\n      initialTimer -= 1;\r\n      this.setState({\r\n        timer: initialTimer,\r\n      });\r\n      if (initialTimer === 0) {\r\n        clearInterval(this.countdown);\r\n        this.props.handleUpdateFromAutoLogout(initialTimer);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.countdown);\r\n  }\r\n\r\n  render() {\r\n    const { timer } = this.state;\r\n    console.log('in overlayautologout', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Auto Logout</Text>\r\n            <Text style={styles.overlayText}>{timer}</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromAutoLogout('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, TextInput,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayDeposit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      homeDelivery: props.selectedTable.homeDelivery === 'Y' ? 'Y' : 'N',\r\n      vipName: props.selectedTable.vipName || '',\r\n      vipPhone: props.selectedTable.vipPhone || '',\r\n      dlyDate: props.selectedTable.dlyDate ? moment(props.selectedTable.dlyDate).format('YYYY-MM-DD') : '',\r\n      dpostalcode: props.selectedTable.dpostalcode || '',\r\n      daddress1: props.selectedTable.daddress1 || '',\r\n      daddress2: props.selectedTable.daddress2 || '',\r\n    }\r\n  }\r\n\r\n  doPressDelivery(type) {\r\n    this.setState({ homeDelivery: type })\r\n  }\r\n\r\n  doChangePostal(text) {\r\n    this.setState({ dpostalcode: text })\r\n    if (text.length === 6) {\r\n      const { serviceEntry } = this.state;\r\n      let url = serviceEntry + 'api/epbsggeo';\r\n      const params = new URLSearchParams();\r\n      params.append('postal', text);\r\n      url += ('?' + params);\r\n      fetch(url, {\r\n        method: 'GET'\r\n      })\r\n        .then(response => {\r\n          if (response.ok) return response.json();\r\n        })\r\n        .then(response => {\r\n          if (response?.address) {\r\n            this.setState({\r\n              daddress1: response.address || '',\r\n            });\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    this.props.handleUpdateFromDeposit('G', vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2)\r\n  }\r\n\r\n  render() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    console.log('in overlayDeposit', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Deposit Info</Text>\r\n            <View style={{ flexDirection: 'row', marginTop: 20 }}>\r\n              <View style={{ flex: 1, alignItems: 'flex-end', }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'Y' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('N')}>\r\n                  <Text style={{ color: homeDelivery === 'Y' ? 'white' : 'black', fontFamily: 'varela-round' }}>Self Collect</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1, }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'N' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('Y')}>\r\n                  <Text style={{ color: homeDelivery === 'N' ? 'white' : 'black', fontFamily: 'varela-round' }}>Delivery</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n            <View style={styles.vipInputsContainer}>\r\n              <View style={styles.vipInputsRow}>\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='NAME'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipName: text })}\r\n                  value={vipName}\r\n                />\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='PHONE'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  keyboardType='numeric'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipPhone: text })}\r\n                  value={vipPhone}\r\n                />\r\n              </View>\r\n              {\r\n                homeDelivery === 'Y' ?\r\n                  <>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='POSTAL'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.doChangePostal(text)}\r\n                        value={dpostalcode}\r\n                      />\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='DLY DATE'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                        onChangeText={text => this.setState({ dlyDate: text })}\r\n                        value={dlyDate}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 1'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress1: text })}\r\n                        value={daddress1}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 2'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress2: text })}\r\n                        value={daddress2}\r\n                      />\r\n                    </View>\r\n                  </>\r\n                  :\r\n                  <View style={[styles.vipInputsRow, { justifyContent: 'flex-end' }]}>\r\n                    <TextInput style={styles.vipInput}\r\n                      placeholder='DLY DATE'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      textContentType='none'\r\n                      autoComplete='off'\r\n                      autoCorrect={false}\r\n                      onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                      onChangeText={text => this.setState({ dlyDate: text })}\r\n                      value={dlyDate}\r\n                    />\r\n                  </View>\r\n              }\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.grey4 }]}\r\n            onPress={() => this.doSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromDeposit('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    height: '90%',\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginBottom: 20,\r\n    marginHorizontal: 5,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayScanBarcode extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromScanBarcode(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayscanbarcode');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Scan Barcode</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='ENTER BARCODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromScanBarcode('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayRequestAccess extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromRequestAccess(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { home, requestedPrivilege } = this.props;\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayrequestaccess');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Request Access</Text>\r\n            <Text style={styles.overlayText}>Grant temporary {requestedPrivilege} privilege to {home.userId}?</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                secureTextEntry={true}\r\n                autoFocus={true}\r\n                placeholder='ENTER ACCESS CODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromRequestAccess('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 2,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChangePrice extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n      selectedTableItem: props.selectedTableItem,\r\n\r\n      availableDiscounts: props.discounts,\r\n      overlaySearchText: '',\r\n      overlayText: '',\r\n      discountSelected: false,\r\n      selectedDiscount: '',\r\n      validatePass: true,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleValidate(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleValidate(superUserId) {\r\n    const { home, privileges, overlayText, selectedDiscount, selectedTableItem } = this.state;\r\n    if (!overlayText) {\r\n      this.setState({\r\n        validatePass: false,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'CHANGEPRICE') || selectedTableItem.listPrice === 0) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'CHANGEPRICE',\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromChangePrice(overlayText, selectedDiscount || '-', superUserId);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, overlayText, discountSelected, availableDiscounts, discounts,\r\n      selectedDiscount, validatePass, overlayProcedureMessageVisible,\r\n      overlayRequestAccessVisible, requestedPrivilege } = this.state;\r\n    console.log('in overlaychangeprice, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Price</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={[styles.overlaySearchBoxInput, validatePass ? null : { color: theme.paid }]}\r\n                placeholder='ENTER PRICE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text, validatePass: true })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          {\r\n            discountSelected ?\r\n              <View style={{ flex: 1 }}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <TouchableOpacity style={styles.overlaySearchBox}\r\n                    onPress={() => this.setState({\r\n                      overlaySearchText: '',\r\n                      selectedDiscount: '',\r\n                      discountSelected: false,\r\n                    })}>\r\n                    <Text style={styles.selectText}>{selectedDiscount.discId}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={{ paddingBottom: 5 }}></View>\r\n              </View>\r\n              :\r\n              <View style={styles.selectWrapper}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                    <TextInput style={styles.overlaySearchBoxInput}\r\n                      placeholder='ENTER SEARCH TEXT'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                      value={overlaySearchText}\r\n                    />\r\n                    <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                      onPress={() => {\r\n                        this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                        Keyboard.dismiss()\r\n                      }}>\r\n                      <AntDesign name='close' size={24} color={theme.grey4} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={[{ flex: 1 }]}\r\n                  data={availableDiscounts}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                      onPress={() => this.setState({\r\n                        discountSelected: true,\r\n                        selectedDiscount: item,\r\n                        validatePass: true,\r\n                      })}>\r\n                      <View style={styles.overlayGridFirst}>\r\n                        <View style={styles.overlayGridFirstLeft}>\r\n                          <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                        </View>\r\n                        <View style={styles.overlayGridFirstRight}>\r\n                          <Text style={styles.overlayGridFirstRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.overlayGridSecond}>\r\n                        <Text style={styles.overlayGridSecondText}>\r\n                          {item.discName}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.overlayGridThird}>\r\n                        <View style={styles.overlayGridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.overlayGridThirdRight}>\r\n                          <Text style={styles.overlayGridThirdRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n          }\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleValidate()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromChangePrice('', '')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayLineDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      discounts: props.discounts,\r\n      privileges: props.privileges,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'LINEDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access LINEDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'LINEDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromLineDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlaylinediscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='LINEDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Line Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromLineDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayHeaderDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'HEADERDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access HEADERDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'HEADERDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromHeaderDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlayheaderdiscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='HEADERDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Header Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromHeaderDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayMergeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      mergeTables: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTable = this.handleSelectTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.sectionId !== 'SYS'),\r\n          availableTables: response.filter(el => el.sectionId !== 'SYS'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTable(item) {\r\n    const { mergeTables } = this.state;\r\n    let mergeTablesUpdate = mergeTables;\r\n    if (!mergeTables.some(el => el.tableId === item.tableId)) {\r\n      mergeTablesUpdate.push(item);\r\n    } else {\r\n      mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    }\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { mergeTables } = this.state;\r\n    const mergeTablesUpdate = mergeTables;\r\n    mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTables, tables, mergeTables } = this.state;\r\n    console.log('in overlaymergetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {mergeTables.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTable(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.tableId}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeTable([])}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.vacant }]}\r\n            onPress={() => this.props.handleUpdateFromMergeTable(mergeTables)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n      tableItems: props.tableItems,\r\n\r\n      overlaySearchText: '',\r\n      availableTableItems: props.tableItems.filter(el => !el.refRecKey),\r\n      selectedTableItems: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tableItems } = this.state;\r\n    let availableTableItemsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTableItems);\r\n\r\n    availableTableItemsUpdate = tableItems.filter(el => !el.refRecKey);\r\n    if (!text) {\r\n      this.setState({\r\n        availableTableItems: availableTableItemsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTableItemsUpdate = availableTableItemsUpdate.filter(item => {\r\n      return item.menuId.toUpperCase().includes(caseText) || item.menuName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTableItems: availableTableItemsUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    const { selectedTableItems } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItemsUpdate.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { selectedTableItems } = this.state;\r\n    const selectedTableItemsUpdate = selectedTableItems;\r\n    selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTableItems, selectedTableItems } = this.state;\r\n    console.log('in overlaysplittable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {selectedTableItems.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTableItem(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.lineNo}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromSplitTable('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTableItems.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTableItems}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTableItem(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.menuId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>{item.lineNo}</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.menuName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitTable(selectedTableItems)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nexport default class OverlayChangeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.sectionId !== 'SYS'),\r\n          availableTables: response.filter(el => el.sectionId !== 'SYS'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableTables, tables, selectedTable } = this.state;\r\n    console.log('in overlaychangetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Table</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChangeTable('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.props.handleUpdateFromChangeTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayReviseItem extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, selectedTableItem, tableItems } = this.props;\r\n    console.log('in overlayreviseitem', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reviseitem')}</Text>\r\n            <Text style={styles.overlayText}>{selectedTableItem.menuName.toUpperCase()}</Text>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('voidItem')}>\r\n              <AntDesign\r\n                name='close'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('remove')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('duplicateItem')}>\r\n              <AntDesign\r\n                name='copy1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('duplicate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.confirmFlg === 'Y' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.confirmFlg === 'Y'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineBreak')}>\r\n              <AntDesign\r\n                name='minus'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linebreak')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('editItem')}>\r\n              <AntDesign\r\n                name='edit'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, !(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X') && { opacity: 0.2 }]}\r\n              disabled={!(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X')}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('revertItem')}>\r\n              <AntDesign\r\n                name='man'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('revert')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0) && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('changePrice')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('changeprice')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.discFlg === 'N' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineDiscount')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linedisc')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromReviseItem('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayTableActions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, tableItems } = this.props;\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('table')} {intl.get('action')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('openTable')}>\r\n              <AntDesign name='appstore-o' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('editTable')}>\r\n              <AntDesign name='edit' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('reserveTable')}>\r\n              <AntDesign name='calendar' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('reserve')}</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              (selectedTable?.sectionId !== 'SYS' && selectedTable?.statusFlg === 'A') ?\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg !== 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('disableTable')}>\r\n                  <MaterialCommunityIcons name='cancel' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('disable')}</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg === 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg === 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('resetTable')}>\r\n                  <AntDesign name='reload1' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('mergeTable')}>\r\n              <AntDesign name='menufold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('mergetable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('splitTable')}>\r\n              <AntDesign name='menuunfold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('splittable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('changeTable')}>\r\n              <AntDesign name='swap' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('changetable')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewResequence')}>\r\n              <AntDesign name='bars' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('resequence')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewTransfer')}>\r\n              <AntDesign name='export' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('transferitems')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('headerDiscount')}>\r\n              <AntDesign name='exception1' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('headerdisc')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('printBill')}>\r\n              <AntDesign name='book' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('printbill')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromTableActions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAdditionalFunctions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('additionalfunctions')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReprint')}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewVoid')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('voidreceipts')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewCollect')}>\r\n              <AntDesign\r\n                name='gift'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('collection')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('openDrawer')}>\r\n              <AntDesign\r\n                name='laptop'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('opendrawer')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('logOut')}>\r\n              <AntDesign\r\n                name='doubleleft'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('logout')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewTrace')}>\r\n              <AntDesign\r\n                name='eyeo'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewPrinters')}>\r\n              <AntDesign\r\n                name='fork'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('testprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('syncMasters')}>\r\n              <AntDesign\r\n                name='retweet'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('syncmasters')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewActivate')}>\r\n              <AntDesign\r\n                name='bulb1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('activate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewLimit')}>\r\n              <AntDesign\r\n                name='staro'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('limited')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewDayclose')}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('dayend')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReports')}>\r\n              <AntDesign\r\n                name='solution1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reports')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromAdditionalFunctions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChoosePrinter extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      printers: props.cashierPrinters,\r\n      availablePrinters: props.cashierPrinters,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { printers, availablePrinters } = this.state;\r\n    let availablePrintersUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availablePrinters);\r\n\r\n    availablePrintersUpdate = printers;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePrinters: availablePrintersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePrintersUpdate = availablePrintersUpdate.filter(item => {\r\n      return item.iomodelId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePrinters: availablePrintersUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { printPurpose } = this.props;\r\n    const { overlaySearchText, availablePrinters, printers } = this.state;\r\n    console.log('in overlaychooseprinter, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{printPurpose}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('choose')} {intl.get('printer')}</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChoosePrinter('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availablePrinters.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            // numColumns={3}\r\n            data={availablePrinters}\r\n            keyExtractor={(item, index) => index}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.props.handleUpdateFromChoosePrinter(item, printPurpose)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.iomodelId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { input } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{input?.title}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{input?.subtitle}</Text>\r\n            <Text style={styles.overlayText}>{input?.text}</Text>\r\n          </View>\r\n          {\r\n            input?.ok &&\r\n            <TouchableOpacity style={styles.overlayOption}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>OK</Text>\r\n            </TouchableOpacity>\r\n          }\r\n          {\r\n            input?.options ?\r\n              input?.options.map(el =>\r\n                <TouchableOpacity style={styles.overlayOption}\r\n                  key={el.handleText}\r\n                  onPress={() => this.props.handleUpdateFromAlert(el.handleText)}>\r\n                  <Text style={styles.overlayOptionText}>{el.text}</Text>\r\n                </TouchableOpacity>\r\n              )\r\n              : null\r\n          }\r\n          {\r\n            input?.cancel &&\r\n            <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n            </TouchableOpacity>\r\n          }\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, StatusBar, ScrollView, TouchableOpacity, Text, Alert, Platform, Dimensions } from 'react-native';\r\nimport { AntDesign, Ionicons, Entypo, MaterialCommunityIcons, Fontisto, FontAwesome, MaterialIcons } from '@expo/vector-icons';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport { debug } from '../assets/utility';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport Constants from 'expo-constants';\r\nimport theme from '../assets/theme';\r\nimport MainTable from './MainTable';\r\nimport MainMenu from './MainMenu';\r\n\r\nimport OverlayAutoLogout from './OverlayAutoLogout';\r\nimport OverlayDeposit from './OverlayDeposit';\r\nimport OverlayScanBarcode from './OverlayScanBarcode';\r\nimport OverlayChangePrice from './OverlayChangePrice';\r\nimport OverlayLineDiscount from './OverlayLineDiscount';\r\nimport OverlayHeaderDiscount from './OverlayHeaderDiscount';\r\nimport OverlayMergeTable from './OverlayMergeTable';\r\nimport OverlaySplitTable from './OverlaySplitTable';\r\nimport OverlayChangeTable from './OverlayChangeTable';\r\nimport OverlayReviseItem from './OverlayReviseItem';\r\nimport OverlayTableActions from './OverlayTableActions';\r\nimport OverlayAdditionalFunctions from './OverlayAdditionalFunctions';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nconst Tab = createBottomTabNavigator();\r\n\r\nexport default class Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedTable: null,\r\n      selectedTableItem: null,\r\n      tableItems: [],\r\n      printPurpose: '',\r\n      requestedPrivilege: '',\r\n\r\n      // screen: 'TABLE',\r\n      screen: 'MENU',\r\n      refresh: null,\r\n    };\r\n\r\n    this.handlePressTable = this.handlePressTable.bind(this);\r\n    this.handleActionTable = this.handleActionTable.bind(this);\r\n    this.handlePressMenu = this.handlePressMenu.bind(this);\r\n    this.handlePressScan = this.handlePressScan.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromAutoLogout = this.handleUpdateFromAutoLogout.bind(this);\r\n    this.handleUpdateFromDeposit = this.handleUpdateFromDeposit.bind(this);\r\n    this.handleUpdateFromScanBarcode = this.handleUpdateFromScanBarcode.bind(this);\r\n    this.handleUpdateFromReviseItem = this.handleUpdateFromReviseItem.bind(this);\r\n    this.handleUpdateFromTableActions = this.handleUpdateFromTableActions.bind(this);\r\n    this.handleUpdateFromAdditionalFunctions = this.handleUpdateFromAdditionalFunctions.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromHeaderDiscount = this.handleUpdateFromHeaderDiscount.bind(this);\r\n    this.handleUpdateFromLineDiscount = this.handleUpdateFromLineDiscount.bind(this);\r\n    this.handleUpdateFromChangePrice = this.handleUpdateFromChangePrice.bind(this);\r\n    this.handleUpdateFromMergeTable = this.handleUpdateFromMergeTable.bind(this);\r\n    this.handleUpdateFromSplitTable = this.handleUpdateFromSplitTable.bind(this);\r\n    this.handleUpdateFromChangeTable = this.handleUpdateFromChangeTable.bind(this);\r\n\r\n    this.handleUpdateFromVoid = this.handleUpdateFromVoid.bind(this);\r\n    this.handleUpdateFromTable = this.handleUpdateFromTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { navigation } = this.props;\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    this.doChooseDefaultPrinter();\r\n    // navigation.navigate('Combo', { home: this.state.home, serviceEntry: this.state.serviceEntry, masters: this.state.masters, selectedTable: this.state.selectedTable, selectedMenu: this.state.masters.menus.find(el => el.menuId === 'Z01-001'), preference: this.state.preference });\r\n  }\r\n\r\n  didFocus() {\r\n    const { selectedTable } = this.state;\r\n    if (selectedTable) {\r\n      this.handlePressTable(selectedTable);\r\n    }\r\n    this.setState({\r\n      refresh: moment().format('HH:mm:ss'),\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  doChooseDefaultPrinter() {\r\n    const { home, masters } = this.state;\r\n    if (Platform.OS === 'web' && masters.cashierPrinters.length > 1) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'DEFAULT PRINTER',\r\n      });\r\n    } else if (masters.cashierPrinters.length === 1) {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = masters.cashierPrinters?.[0];\r\n      this.setState({\r\n        home: homeUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  async handlePressTable(item) {\r\n    if (!item?.recKey) return;\r\n    const { navigation } = this.props;\r\n    const { serviceEntry } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + item.recKey;\r\n    return fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // hide paid or reset split tables\r\n        // if (response.opentable.splitTableFlg === 'Y' && (response.opentable.statusFlg === 'A')) {\r\n        //   this.doClearTable()\r\n        //   return;\r\n        // }\r\n        // hide paid or reset takeaway tables\r\n        if (response.opentable.sectionId === 'SYS' && (response.opentable.statusFlg === 'A' || response.opentable.statusFlg === 'D')) {\r\n          this.doClearTable();\r\n          this.doToggleScreen('MENU');\r\n          return;\r\n        }\r\n        // faster navigation for takeaway tables\r\n        if (response.opentable.sectionId === 'SYS') {\r\n          this.doToggleScreen('TABLE');\r\n        }\r\n        // all\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  handleActionTable(item, action) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (action === 'CREATE') {\r\n      this.doCreateTable();\r\n    } else if (action === 'OPEN') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (action === 'EDIT') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    }\r\n  }\r\n\r\n  handlePressMenu(item, quick) {\r\n    const { navigation } = this.props;\r\n    const { home, preference, serviceEntry, settings, masters, selectedTable } = this.state;\r\n    const settingPOSMODE = settings.find(el => el.setId === 'POSMODE')?.setString;\r\n    console.log(item)\r\n    // combo\r\n    if (item.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // no opentable, bistro mode\r\n    if (!selectedTable && settingPOSMODE === 'A') {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // no opentable, pos mode\r\n    if (!selectedTable && settingPOSMODE === 'B') {\r\n      this.doCreateTableForPos(item);\r\n      return;\r\n    }\r\n    // compulsory modifier\r\n    if (masters.modBundles.some(el => el.modmas.mustFlg === 'Y' && el.modmas.globalFlg === 'Y') || masters.mods.some(el => el.menuId === item.menuId && (masters.modBundles.find(obj => obj.modmas.modId === el.modId)?.modmas.mustFlg === 'Y'))) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // normal\r\n    if (!quick) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n    } else {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: item.recKey,\r\n        restmenuMod: item.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((selectedTable.sectionId === 'SYS' && settingPOSMODE === 'A') ? `*${intl.get('takeaway')}  ` : ''),\r\n        orderQty: '1',\r\n        orderType: item.serviceFlg === 'N' ? 'B' : (selectedTable.sectionId === 'SYS' ? 'B' : 'A'),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              item.menuName,\r\n              '1',\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          this.handlePressTable(selectedTable);\r\n        })\r\n    }\r\n  }\r\n\r\n  handlePressScan(camera) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, selectedTable } = this.state;\r\n    if (!selectedTable) return;\r\n    if (camera) {\r\n      if (Platform.OS !== 'web') {\r\n        navigation.navigate('Scan', { home, serviceEntry, masters, selectedTable })\r\n      }\r\n    } else {\r\n      this.setState({\r\n        overlayScanBarcodeVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  doClearTable() {\r\n    this.setState({\r\n      selectedTable: null,\r\n      tableItems: [],\r\n    });\r\n    this.doToggleScreen('TABLE');\r\n  }\r\n\r\n  doCreateTable(item) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, } = this.state;\r\n    let url = serviceEntry + 'api/insert-opentable';\r\n    const body = {\r\n      userId: home.userId,\r\n      orderType: 'B',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Create Table',\r\n            home.userName,\r\n            response.message,\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('MainMenu')\r\n        this.setState({\r\n          screen: 'MENU',\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          refresh: moment().format('HH:mm:ss'),\r\n        }, () => {\r\n          if (item) this.handlePressMenu(item, true);\r\n        });\r\n      })\r\n  }\r\n\r\n  doCreateTableForPos(item) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, settings, } = this.state;\r\n    let url = serviceEntry + 'api/insert-opentable';\r\n    const body = {\r\n      userId: home.userId,\r\n      orderType: 'B',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Create Table',\r\n            home.userName,\r\n            response.message,\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('MainMenu')\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          refresh: moment().format('HH:mm:ss'),\r\n        }, () => {\r\n          navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable: response.opentable, selectedMenu: item });\r\n        });\r\n      })\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateTableStatus(item) {\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.transType === 'A') {\r\n        return intl.get('sales');\r\n      } else if (item.transType === 'G') {\r\n        if (item.homeDelivery === 'Y') {\r\n          return intl.get('deposit') + 'DLY';\r\n        } else {\r\n          return intl.get('deposit');\r\n        }\r\n      }\r\n    } else {\r\n      return intl.get(`${item.statusFlg}`).d('Unknown');\r\n    }\r\n  }\r\n\r\n  doTranslateTableItemColor(item) {\r\n    if (item.fireFlg === 'Y') {\r\n      return theme.reserved;\r\n    }\r\n    if (item.confirmFlg === 'Y') {\r\n      return theme.occupied;\r\n    }\r\n    return theme.vacant;\r\n  }\r\n\r\n  doToggleScreen(item) {\r\n    const { navigation } = this.props;\r\n    const { settings } = this.state;\r\n    if (item === 'MENU' && settings.find(el => el.setId === 'POSMODE')?.setString === 'A') {\r\n      this.setState({\r\n        screen: 'TABLE',\r\n        refresh: moment().format('HH:mm:ss'),\r\n      })\r\n      navigation.navigate('MainTable')\r\n    } else {\r\n      this.setState({ screen: 'MENU' })\r\n      navigation.navigate('MainMenu')\r\n    }\r\n  }\r\n\r\n  doPressItem(item) {\r\n    this.setState({\r\n      selectedTableItem: item,\r\n      overlayReviseItemVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartDayclose(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, settings, } = this.state;\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'DAYCLOSE')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'DAYCLOSE',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/start-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Dayclose',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Dayclose', { home, serviceEntry, masters, dayclosePayments: response.posDayCloseAmt, daycloseSubPayments: response.posDayCloseAmtDtl })\r\n      })\r\n  }\r\n\r\n  doPressTransType() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: intl.get('sales'), handleText: 'doTransTypeSales' });\r\n    options.push({ text: intl.get('deposit'), handleText: 'doTransTypeDeposit' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Transaction Type',\r\n        text: 'Select transaction type for ' + selectedTable.tableId,\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartPayment(printer, superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, masters, settings,\r\n      selectedTable, tableItems, } = this.state;\r\n\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'SELECT AN ORDER',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n      });\r\n      return;\r\n    }\r\n    if (!tableItems || tableItems.length === 0) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'NO TABLE ITEMS',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.refTableId) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'TABLE ALREADY MERGED ' + selectedTable.refTableId,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'PAYMENT')) && !superUserId) {\r\n      this.setState({\r\n        requestedPrivilege: 'PAYMENT',\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          pospays: response.opentablePospays,\r\n        }, () => navigation.navigate('Pos', { home, serviceEntry, serviceEntryObj, masters, selectedTable: response.opentable, pospays: response.opentablePospays }));\r\n      })\r\n  }\r\n\r\n  doChangeTableStatus(newStatus) {\r\n    const { home, serviceEntry, selectedTable, masters, settings } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table-status';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: newStatus,\r\n      pax: '',\r\n      vipId: '',\r\n      vipName: '',\r\n      phone: '',\r\n      reservationTime: '',\r\n      sourceId: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table-status successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table Status',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            newStatus,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doRevertTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/revert-adhoc';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post revert-adhoc successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Revert Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n          refresh: moment().format('HH:mm:ss'),\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doDuplicateTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/duplicate-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post duplicate-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Duplicate Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doUpdateLineBreak() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    })\r\n    let newLineBreak = 'Y';\r\n    if (selectedTableItem.lineBreak === 'Y') {\r\n      newLineBreak = 'N';\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-line-break';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      lineBreak: newLineBreak,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-line-break successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Break',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  doPrintBill(printer) {\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    if (!selectedTable || !(selectedTable?.statusFlg === 'C' || selectedTable?.sectionId === 'SYS')) return;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'PRINT BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/print-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Print Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, masters, settings } = this.state;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'OPEN DRAWER',\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n  }\r\n\r\n  doTransTypeSales() {\r\n    const { selectedTable } = this.state;\r\n    this.handleUpdateFromDeposit('A', selectedTable.vipName, selectedTable.vipPhone, selectedTable.homeDelivery, selectedTable.dlyDate ? moment(selectedTable.dlyDate).format('YYYY-MM-DD') : '', selectedTable.dpostalcode, selectedTable.daddress1, selectedTable.daddress2)\r\n  }\r\n\r\n  doTransTypeDeposit() {\r\n    this.setState({\r\n      overlayDepositVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressSend() {\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (!selectedTable || selectedTable.sendFlg !== 'Y') {\r\n      console.log('no selectedTable or sendFlg is N');\r\n      return;\r\n    }\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doSendOrder' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Send Order',\r\n        text: 'Send order for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doSendOrder(printer) {\r\n    const { serviceEntry, home, selectedTable, masters, settings } = this.state;\r\n\r\n    // section-based print order\r\n    let printOrder = false;\r\n    if (selectedTable.sectionId !== 'SYS') {\r\n      printOrder = masters.sections.find(el => el.sectionId === selectedTable.sectionId)?.printOrderFlg === 'Y';\r\n    }\r\n\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter && printOrder) {\r\n      this.setState({\r\n        printPurpose: 'SEND ORDER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/send-order';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: printOrder && ((home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId)),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post send-order successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Send Order',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  doEditTableItem(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, preference,\r\n      selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'EDITITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (selectedTableItem?.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, masters, preference, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem })\r\n    } else {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem })\r\n    }\r\n  }\r\n\r\n  doDeleteTableItem(superUserId) {\r\n    const { serviceEntry, home, selectedTableItem, selectedTable, masters, settings, privileges } = this.state;\r\n\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      // special scenario all personnel need double confirm\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'VOIDITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'VOIDITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable, home } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'SEND ORDER') {\r\n      this.doSendOrder(printer);\r\n    } else if (purpose === 'PRINT BILL') {\r\n      this.doPrintBill(printer);\r\n    } else if (purpose === 'START PAYMENT') {\r\n      this.doStartPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.doOpenDrawer(printer);\r\n    } else if (purpose === 'DEFAULT PRINTER') {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = printer;\r\n      this.setState({\r\n        home: homeUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, masters, settings, requestedPrivilege, selectedPrinter,\r\n      selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable?.tableId,\r\n            selectedTableItem?.menuName,\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.doOpenDrawer(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'PAYMENT') {\r\n          this.doStartPayment(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'DAYCLOSE') {\r\n          this.doStartDayclose(response.userId);\r\n        } else if (requestedPrivilege === 'VOIDITEM') {\r\n          this.doDeleteTableItem(response.userId);\r\n        } else if (requestedPrivilege === 'EDITITEM') {\r\n          this.doEditTableItem(response.userId);\r\n        }\r\n      })\r\n  }\r\n\r\n  handleUpdateFromAdditionalFunctions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayAdditionalFunctionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewReprint') {\r\n      navigation.navigate('Reprint', { home, serviceEntry, masters });\r\n    } else if (text === 'viewVoid') {\r\n      navigation.navigate('Void', { home, serviceEntry, masters, handleUpdateFromVoid: this.handleUpdateFromVoid });\r\n    } else if (text === 'viewCollect') {\r\n      navigation.navigate('Collect', { home, serviceEntry, masters, });\r\n    } else if (text === 'viewDayclose') {\r\n      this.doStartDayclose();\r\n    } else if (text === 'viewReports') {\r\n      navigation.navigate('Report', { home, serviceEntry, masters });\r\n    } else if (text === 'openDrawer') {\r\n      this.doOpenDrawer();\r\n    } else if (text === 'viewPrinters') {\r\n      navigation.navigate('Printer', { home, serviceEntry });\r\n    } else if (text === 'viewActivate') {\r\n      navigation.navigate('Activate', { home, serviceEntry, masters });\r\n    } else if (text === 'logOut') {\r\n      navigation.goBack();\r\n    } else if (text === 'syncMasters') {\r\n      navigation.navigate('Login', { sync: new Date() });\r\n    } else if (text === 'viewTrace') {\r\n      navigation.navigate('Trace', { home, serviceEntry, selectedTable });\r\n    } else if (text === 'viewLimit') {\r\n      navigation.navigate('Limit', { home, serviceEntry, masters });\r\n    }\r\n  }\r\n\r\n  async handleUpdateFromTableActions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayTableActionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewResequence') {\r\n      navigation.navigate('Resequence', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'viewTransfer') {\r\n      navigation.navigate('Transfer', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'headerDiscount') {\r\n      this.setState({\r\n        overlayHeaderDiscountVisible: true,\r\n      })\r\n    } else if (text === 'printBill') {\r\n      this.doPrintBill();\r\n    } else if (text === 'openTable') {\r\n      await this.handlePressTable(selectedTable)\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (text === 'editTable') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    } else if (text === 'resetTable') {\r\n      this.doChangeTableStatus('A');\r\n    } else if (text === 'reserveTable') {\r\n      this.doChangeTableStatus('B');\r\n    } else if (text === 'disableTable') {\r\n      this.doChangeTableStatus('E');\r\n    } else if (text === 'mergeTable') {\r\n      this.setState({\r\n        overlayMergeTableVisible: true,\r\n      });\r\n    } else if (text === 'splitTable') {\r\n      this.setState({\r\n        overlaySplitTableVisible: true,\r\n      });\r\n    } else if (text === 'changeTable') {\r\n      this.setState({\r\n        overlayChangeTableVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromReviseItem(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, masters, selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'voidItem') {\r\n      let options = [];\r\n      options.push({ text: 'Yes', handleText: 'doDeleteTableItem' });\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n        overlayAlertInputValue: {\r\n          title: intl.get('action'),\r\n          subtitle: 'Remove Item',\r\n          text: 'Remove ' + selectedTableItem.menuName + ' ?',\r\n          ok: false,\r\n          cancel: true,\r\n          options: options,\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n    } else if (text === 'editItem') {\r\n      this.doEditTableItem();\r\n    } else if (text === 'revertItem') {\r\n      this.doRevertTableItem();\r\n    } else if (text === 'changePrice') {\r\n      this.setState({\r\n        overlayChangePriceVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineDiscount') {\r\n      this.setState({\r\n        overlayLineDiscountVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineBreak') {\r\n      this.doUpdateLineBreak();\r\n    } else if (text === 'duplicateItem') {\r\n      this.doDuplicateTableItem();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromLineDiscount(text, superUserId) {\r\n    this.setState({ overlayLineDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/line-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post line-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromHeaderDiscount(text, superUserId) {\r\n    this.setState({ overlayHeaderDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/header-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post header-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Header Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangePrice(text, item, superUserId) {\r\n    this.setState({ overlayChangePriceVisible: false });\r\n    if (!text && !item) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-price';\r\n    const body = {\r\n      userId: home.userId,\r\n      price: text,\r\n      discId: item.discId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-price successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Price',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromMergeTable(tables) {\r\n    this.setState({ overlayMergeTableVisible: false });\r\n    if (tables.length === 0) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-table';\r\n    const itemPayloads = tables.map(el => ({\r\n      mergedTableId: el.tableId,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            tables.map(el => el.tableId).join(','),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromSplitTable(items) {\r\n    this.setState({\r\n      overlaySplitTableVisible: false,\r\n    });\r\n    if (!items) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/split-table';\r\n    const itemPayloads = items.map(el => ({\r\n      opentableItemRecKey: el.recKey,\r\n      opentableRecKey: selectedTable.recKey,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post split-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Split Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(response.opentable || selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangeTable(table) {\r\n    this.setState({ overlayChangeTableVisible: false });\r\n    if (!table) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table';\r\n    const body = {\r\n      userId: home.userId,\r\n      tableIdTo: table.tableId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            table.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(table);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSendOrder') {\r\n      this.doSendOrder();\r\n    } else if (text === 'doDeleteTableItem') {\r\n      this.doDeleteTableItem();\r\n    } else if (text === 'doTransTypeSales') {\r\n      this.doTransTypeSales();\r\n    } else if (text === 'doTransTypeDeposit') {\r\n      this.doTransTypeDeposit();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAutoLogout(timer) {\r\n    // if (!timer) {\r\n    //   this.setState({\r\n    //     overlayAutoLogoutVisible: false,\r\n    //   });\r\n    //   this.doAutoLogout();\r\n    // }\r\n    // if (timer === 0) {\r\n    //   this.setState({\r\n    //     toLogin: true,\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  handleUpdateFromDeposit(transType, vipName, phone, deliveryFlg, dlyDate, postalCode, addr1, addr2) {\r\n    this.setState({ overlayDepositVisible: false });\r\n    if (!transType) {\r\n      return;\r\n    }\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-table-info';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      transType: transType,\r\n      vipName: vipName,\r\n      phone: phone,\r\n      deliveryFlg: deliveryFlg,\r\n      dlyDate: dlyDate,\r\n      postalCode: postalCode,\r\n      addr1: addr1,\r\n      addr2: addr2,\r\n      addr3: '',\r\n      addr4: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post deposit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Transaction Type',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            transType + ',' + deliveryFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable)\r\n      })\r\n  }\r\n\r\n  handleUpdateFromScanBarcode(text) {\r\n    if (!text) {\r\n      this.setState({ overlayScanBarcodeVisible: false });\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      vipId: home.vipId,\r\n      barcode: text,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post scan-barcode successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Scan Barcode',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromVoid(tableInfo) {\r\n    this.setState({\r\n      selectedTable: tableInfo.opentable,\r\n      tableItems: tableInfo.opentableItems,\r\n    });\r\n  }\r\n\r\n  handleUpdateFromTable() {\r\n    this.doToggleScreen('TABLE');\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntryObj, serviceEntry, home, preference, masters, screen, refresh,\r\n      selectedTable, selectedTableItem, tableItems, printPurpose, requestedPrivilege,\r\n      overlayAutoLogoutVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayReviseItemVisible, overlayTableActionsVisible, overlayAdditionalFunctionsVisible, overlayRequestAccessVisible,\r\n      overlayHeaderDiscountVisible, overlayLineDiscountVisible, overlayChangePriceVisible,\r\n      overlayChangeTableVisible, overlayMergeTableVisible, overlaySplitTableVisible,\r\n      overlayDepositVisible, overlayScanBarcodeVisible,\r\n      overlayProcedureMessageVisible, overlayChoosePrinterVisible } = this.state;\r\n    const settingPOSMODE = masters.settings.find(el => el.setId === 'POSMODE')?.setString;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayAutoLogoutVisible &&\r\n          <OverlayAutoLogout\r\n            handleUpdateFromAutoLogout={this.handleUpdateFromAutoLogout} />\r\n        }\r\n        {\r\n          overlayDepositVisible &&\r\n          <OverlayDeposit\r\n            serviceEntry={serviceEntry}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromDeposit={this.handleUpdateFromDeposit} />\r\n        }\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayScanBarcodeVisible &&\r\n          <OverlayScanBarcode\r\n            handleUpdateFromScanBarcode={this.handleUpdateFromScanBarcode} />\r\n        }\r\n        {\r\n          overlayReviseItemVisible &&\r\n          <OverlayReviseItem\r\n            home={home}\r\n            privileges={masters.privileges}\r\n            selectedTable={selectedTable}\r\n            selectedTableItem={selectedTableItem}\r\n            tableItems={tableItems}\r\n            handleUpdateFromReviseItem={this.handleUpdateFromReviseItem} />\r\n        }\r\n        {\r\n          overlayTableActionsVisible &&\r\n          <OverlayTableActions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromTableActions={this.handleUpdateFromTableActions} />\r\n        }\r\n        {\r\n          overlayAdditionalFunctionsVisible &&\r\n          <OverlayAdditionalFunctions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromAdditionalFunctions={this.handleUpdateFromAdditionalFunctions} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayChangePriceVisible &&\r\n          <OverlayChangePrice\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            selectedTableItem={selectedTableItem}\r\n            handleUpdateFromChangePrice={this.handleUpdateFromChangePrice} />\r\n        }\r\n        {\r\n          overlayLineDiscountVisible &&\r\n          <OverlayLineDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromLineDiscount={this.handleUpdateFromLineDiscount} />\r\n        }\r\n        {\r\n          overlayHeaderDiscountVisible &&\r\n          <OverlayHeaderDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromHeaderDiscount={this.handleUpdateFromHeaderDiscount} />\r\n        }\r\n        {\r\n          overlayMergeTableVisible &&\r\n          <OverlayMergeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeTable={this.handleUpdateFromMergeTable} />\r\n        }\r\n        {\r\n          overlaySplitTableVisible &&\r\n          <OverlaySplitTable\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromSplitTable={this.handleUpdateFromSplitTable} />\r\n        }\r\n        {\r\n          overlayChangeTableVisible &&\r\n          <OverlayChangeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromChangeTable={this.handleUpdateFromChangeTable} />\r\n        }\r\n        <View style={{ width: 10, backgroundColor: theme.grey8 }}>\r\n          <View style={{ marginTop: 30, height: 100, backgroundColor: this.doTranslateTableColor(selectedTable) }}></View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{home.userName}</Text>\r\n            <Text style={styles.footerText}>{home.locName}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, marginLeft: 0, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            {/* {\r\n              selectedTable &&\r\n              <TouchableOpacity style={{ margin: 3, marginLeft: 0, marginRight: 0, width: 23, backgroundColor: this.doTranslateTableColor(selectedTable) }}\r\n                onPress={() => this.doClearTable()}>\r\n\r\n              </TouchableOpacity>\r\n            } */}\r\n            <View style={{ margin: 3, flex: 1, flexDirection: 'row', }}>\r\n              {\r\n                selectedTable &&\r\n                <TouchableOpacity style={{ marginLeft: 0, aspectRatio: 1, backgroundColor: this.doTranslateTableColor(selectedTable), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.setState({ overlayTableActionsVisible: true })}>\r\n                  <Text style={styles.tableUpperBand} numberOfLines={1}>{selectedTable.vipName || ''}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 24, letterSpacing: 1 }} numberOfLines={1}>{selectedTable.tableId}</Text>\r\n                  <Text style={styles.tableLowerBand} numberOfLines={1}>{this.doTranslateTableStatus(selectedTable)}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n            </View>\r\n            {\r\n              selectedTable && selectedTable.sectionId === 'SYS' ?\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  {\r\n                    selectedTable.adhocItem > 0 &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                      <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                      <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'A' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      disabled={selectedTable.sendFlg !== 'Y'}\r\n                      onPress={() => this.doPressSend()}>\r\n                      <FontAwesome name=\"send\" size={24} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'A' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                      <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {/* <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => this.doPressTransType()}>\r\n                    <MaterialCommunityIcons name=\"water\" size={32} color={theme.deposit} style={{ height: 28, width: 32 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('type')}</Text>\r\n                  </TouchableOpacity> */}\r\n                </View>\r\n                : selectedTable && selectedTable.statusFlg === 'A' ?\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable })}>\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n                  </TouchableOpacity>\r\n                  : selectedTable && selectedTable.statusFlg === 'D' ?\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => this.handleUpdateFromTableActions('resetTable')}>\r\n                      <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.vacant} style={{ height: 28, width: 26 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                    </TouchableOpacity>\r\n                    : selectedTable ?\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        {\r\n                          selectedTable.adhocItem > 0 &&\r\n                          <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                            onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                            <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                            <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                            <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                          </TouchableOpacity>\r\n                        }\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          disabled={selectedTable.sendFlg !== 'Y'}\r\n                          onPress={() => this.doPressSend()}>\r\n                          <FontAwesome name=\"send\" size={24} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 28 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                          <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                        </TouchableOpacity>\r\n                      </View>\r\n                      : null\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.setState({ overlayAdditionalFunctionsVisible: true })}>\r\n              <MaterialCommunityIcons name=\"clover\" size={28} color={theme.paid} style={{ height: 28, width: 28 }} />\r\n              <Text style={styles.buttonText}>{intl.get('func')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: 'white' }}>\r\n            <View style={{ width: 50, height: 20, alignItems: 'center', justifyContent: 'center', borderRightColor: theme.paid }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('qty')}</Text>\r\n            </View>\r\n            <View style={{ flex: 1, justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('desc')}</Text>\r\n            </View>\r\n            <View style={{ paddingRight: 10, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('total')}</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            onContentSizeChange={() => this.scrollViewRef.scrollToEnd()}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              tableItems.filter(el => !el.refRecKey).map(item => (\r\n                <View key={item.recKey.toString()}>\r\n                  {\r\n                    item.lineBreak === 'Y' &&\r\n                    <View style={{ alignItems: 'center', flexDirection: 'row', height: 20, }}>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                      <Text style={{ fontFamily: 'varela-round', color: theme.grey5, fontSize: 12 }}>LINE BREAK</Text>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                    </View>\r\n                  }\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: this.doTranslateTableItemColor(item), }}\r\n                    onPress={() => this.doPressItem(item)}>\r\n                    <View style={{ paddingVertical: 10, width: 50, alignItems: 'center', borderRightColor: theme.paid }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.orderQty}</Text>\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, flex: 1, }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.menuName}</Text>\r\n                      {\r\n                        item.menuMod &&\r\n                        <Text style={{ fontFamily: 'varela-round', fontSize: 16, color: theme.paid }}>{item.menuMod}</Text>\r\n                      }\r\n                      {\r\n                        tableItems.filter(el => el.refRecKey === item.recKey).map(obj =>\r\n                          <View style={{ marginTop: 5, }} key={obj.recKey.toString()}>\r\n                            <Text style={{ fontFamily: 'varela-round', fontSize: 14, marginLeft: 10 }}>- {obj.menuName}</Text>\r\n                            {\r\n                              obj.menuMod &&\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14, color: theme.paid }}>{obj.menuMod}</Text>\r\n                            }\r\n                          </View>\r\n                        )\r\n                      }\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.lineTotal?.toFixed(2)}</Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <View style={{ margin: 10, marginBottom: 0, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'baseline' }}>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 10 }}></Text>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 28 }}>${selectedTable?.grandTotal?.toFixed(2) || '0.00'}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, flexDirection: 'row', }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                onPress={() => this.doToggleScreen(screen)}>\r\n                {\r\n                  screen === 'TABLE' ?\r\n                    <Ionicons name=\"md-book\" size={26} color={theme.reserved} style={{ height: 28, width: 26 }} />\r\n                    :\r\n                    <MaterialCommunityIcons name=\"apps-box\" size={28} color={theme.vacant} style={{ height: 28, width: 28 }} />\r\n                }\r\n                <Text style={styles.buttonText}>{screen === 'TABLE' ? intl.get('menu') : intl.get('table')}</Text>\r\n              </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => navigation.navigate('Trace', { home, serviceEntry, selectedTable })}>\r\n              <MaterialCommunityIcons name=\"navigation\" size={28} color={theme.adhoc} style={{ height: 28, width: 28, transform: [{ rotateZ: '180deg' }] }} />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doPrintBill()}>\r\n              <MaterialCommunityIcons name=\"book\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n              <Text style={styles.buttonText}>{intl.get('bill')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doStartPayment()}>\r\n              <Ionicons name=\"print-sharp\" size={27} color={theme.paid} style={{ height: 28, marginLeft: 1 }} />\r\n              <Text style={styles.buttonText}>{intl.get('payment')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{moment().format('HH:mm')}</Text>\r\n            <Text style={styles.footerText}>EPB BISTRO {Constants.manifest.version?.split('.')[0]}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ flex: 2, backgroundColor: theme.grey9 }}>\r\n          <Tab.Navigator\r\n            screenOptions={{\r\n              headerShown: false,\r\n              animation: 'none',\r\n              gestureEnabled: false,\r\n              tabBarStyle: { display: 'none' },\r\n            }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <Tab.Screen name=\"MainTable\"\r\n                children={() =>\r\n                  <MainTable\r\n                    refresh={refresh}\r\n                    home={home}\r\n                    serviceEntry={serviceEntry}\r\n                    preference={preference}\r\n                    masters={masters}\r\n                    handlePressTable={this.handlePressTable}\r\n                    handleActionTable={this.handleActionTable} />\r\n                } />\r\n            }\r\n            <Tab.Screen name=\"MainMenu\"\r\n              children={() =>\r\n                <MainMenu\r\n                  home={home}\r\n                  serviceEntry={serviceEntry}\r\n                  serviceEntryObj={serviceEntryObj}\r\n                  preference={preference}\r\n                  settings={masters.settings}\r\n                  foldergrps={masters.foldergrps}\r\n                  folders={masters.folders}\r\n                  menus={masters.menus}\r\n                  modBundles={masters.modBundles}\r\n                  handlePressMenu={this.handlePressMenu}\r\n                  handlePressScan={this.handlePressScan} />\r\n              } />\r\n          </Tab.Navigator>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  footerText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableUpperBand: {\r\n    position: 'absolute',\r\n    top: 10, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    // backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'black',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableLowerBand: {\r\n    position: 'absolute',\r\n    bottom: 0, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonText: {\r\n    marginTop: 10,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: theme.grey5,\r\n    textTransform: 'uppercase'\r\n  }\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayServiceEntry extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.props.handleUpdateFromServiceEntry(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayserviceentry');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Register</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='EPB ID OR IP:PORT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromServiceEntry('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayServiceEntry from './OverlayServiceEntry';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      savedEntries: [],\r\n      serviceEntry: '',\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromServiceEntry = this.handleUpdateFromServiceEntry.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    let savedEntries = await AsyncStorage.getItem('savedEntries');\r\n    if (savedEntries) {\r\n      savedEntries = JSON.parse(savedEntries);\r\n    } else {\r\n      savedEntries = [];\r\n    }\r\n    this.setState({\r\n      serviceEntry,\r\n      savedEntries,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doDeleteEntry') {\r\n      this.doDeleteEntry(selectedItem);\r\n    } else if (text === 'doSetEntry') {\r\n      this.doSetEntry(selectedItem);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromServiceEntry(text) {\r\n    this.setState({ overlayServiceEntryVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text.includes(':8085')) {\r\n      // assume local\r\n      let found = {\r\n        epbId: 'IP:PORT',\r\n        name: 'IP:PORT',\r\n        bistroServiceUrl: 'http://' + text + '/',\r\n      }\r\n      this.doSaveEntry(found);\r\n    } else {\r\n      // EPB ID\r\n      fetch('http://203.208.248.199:9090/beacon/api/locate?epbId=' + text, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('response', response);\r\n          this.doSaveEntry(response);\r\n        })\r\n        .catch(error => {\r\n          console.log('error', error);\r\n          this.setState({\r\n            overlayProcedureMessageVisible: 'INVALID EPB ID',\r\n          })\r\n        });\r\n    }\r\n  }\r\n\r\n  doSaveEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    if (!item.bistroServiceUrl) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING BISTRO SERVICE URL',\r\n      })\r\n      return;\r\n    }\r\n    if (savedEntriesUpdate.some(el => (el.epbId === item.epbId))) {\r\n      savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    }\r\n    savedEntriesUpdate.unshift(item);\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  doPressAdd() {\r\n    this.setState({\r\n      overlayServiceEntryVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressEntry(item) {\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: '',\r\n        ok: false,\r\n        cancel: true,\r\n        options: [\r\n          { text: 'SET ENTRY', handleText: 'doSetEntry' },\r\n          { text: 'DELETE ENTRY', handleText: 'doDeleteEntry' }\r\n        ],\r\n      },\r\n      overlayAlertVisible: true,\r\n      selectedItem: item,\r\n    });\r\n  }\r\n\r\n  doDeleteEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    console.log(savedEntriesUpdate)\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n  }\r\n\r\n  doSetEntry(item) {\r\n    this.setState({\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference, savedEntries, serviceEntry,\r\n      overlayServiceEntryVisible,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render register', savedEntries);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayServiceEntryVisible &&\r\n          <OverlayServiceEntry\r\n            handleUpdateFromServiceEntry={this.handleUpdateFromServiceEntry} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  {\r\n                    savedEntries.map((item, index) =>\r\n                      <TouchableOpacity\r\n                        key={index.toString()}\r\n                        style={styles.grid}\r\n                        onPress={() => this.doPressEntry(item)}>\r\n                        <View style={styles.gridFirst}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.epbId || '-'}</Text>\r\n                          <Text style={styles.gridFirstRightText}>{item.bistroServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridSecond}>\r\n                          <Text style={styles.gridSecondText}>{item.name || 'IP:PORT'}</Text>\r\n                          <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                        </View>\r\n                        <View style={[styles.gridFirst, { marginBottom: 5 }]}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.restServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridThird}>\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                          {\r\n                            item.bistroServiceUrl === serviceEntry ?\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>{intl.get('active')}</Text>\r\n                              :\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('inactive')}</Text>\r\n                          }\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    )\r\n                  }\r\n\r\n\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressAdd()}>\r\n                <AntDesign\r\n                  name='pluscircleo'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('add')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Preference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // tcolsize: '',\r\n      // mcolsize: '',\r\n      // mquick: '',\r\n      preference: null,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    console.log('here', preference)\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n      this.setState({\r\n        preference\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doReset') {\r\n      this.doReset();\r\n    }\r\n  }\r\n\r\n  doPressReset() {\r\n    let options = [];\r\n    options.push({ text: intl.get('yes'), handleText: 'doReset' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: `${intl.get('reset')} ${intl.get('preference')}`,\r\n        text: 'Reset all to factory preset?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doReset() {\r\n    let preference = {\r\n      tcolsize: Platform.OS === 'web' ? 5 : 4,\r\n      mcolsize: Platform.OS === 'web' ? 3 : 2,\r\n      pcolsize: Platform.OS === 'web' ? 5 : 3,\r\n      mquick: 'Y',\r\n    };\r\n    this.setState({ preference })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n  }\r\n\r\n  doTcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.tcolsize < 8) {\r\n      preferenceUpdate.tcolsize = preferenceUpdate.tcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.tcolsize = 3;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mcolsize < 6) {\r\n      preferenceUpdate.mcolsize = preferenceUpdate.mcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.mcolsize = 1;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doPcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.pcolsize < 7) {\r\n      preferenceUpdate.pcolsize = preferenceUpdate.pcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.pcolsize = 2;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMquick() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mquick === 'Y') {\r\n      preferenceUpdate.mquick = 'N';\r\n    } else {\r\n      preferenceUpdate.mquick = 'Y';\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render preference');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doTcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>TCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>3-8</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Table</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.tcolsize === 5) || (Platform.OS !== 'web' && preference?.tcolsize === 4)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doPcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>PCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>2-7</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for POS</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.pcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.pcolsize === 5) || (Platform.OS !== 'web' && preference?.pcolsize === 3)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>1-6</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.mcolsize === 3) || (Platform.OS !== 'web' && preference?.mcolsize === 2)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMquick()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MQUICK</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>Y/N</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Quick Select for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mquick}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        preference?.mquick === 'Y' ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressReset()}>\r\n                <AntDesign\r\n                  name='warning'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reset')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitItems extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        percentage: (100 / props.receipts.length).toFixed(0).toString(),\r\n      })),\r\n    };\r\n    this.handleFillPercentagesEvenly = this.handleFillPercentagesEvenly.bind(this);\r\n    this.handleSetPercentageForReceipt = this.handleSetPercentageForReceipt.bind(this);\r\n    this.handleSetFullPercentageForReceipt = this.handleSetFullPercentageForReceipt.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillPercentagesEvenly() {\r\n    const { receipts } = this.state;\r\n    let numberString = (100 / receipts.length).toFixed(0).toString();\r\n    receipts.forEach(item => this.handleSetPercentageForReceipt(numberString, item.docId));\r\n  }\r\n\r\n  handleSetFullPercentageForReceipt(item) {\r\n    const { receipts } = this.state;\r\n    receipts.forEach(el => {\r\n      if (el.docId === item.docId) {\r\n        this.handleSetPercentageForReceipt('100', el.docId);\r\n      } else {\r\n        this.handleSetPercentageForReceipt('0', el.docId);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSetPercentageForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.docId === docId);\r\n    if (!Number(number)) {\r\n      receiptsUpdate[index].percentage = '0';\r\n    } else {\r\n      receiptsUpdate[index].percentage = Number(number).toFixed(0).toString();\r\n    }\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdate2', receipts));\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.percentage); }, 0);\r\n    console.log('agg', aggregate);\r\n    if (receipts.some(item => receipts[0].percentage !== item.percentage) && aggregate !== 100) {\r\n      console.log('validation failed');\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromSplitItems(receipts);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTableItems } = this.props;\r\n    const { receipts } = this.state;\r\n    console.log('in overlaysplititems');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Item(s)</Text>\r\n            <Text style={styles.overlayText}>You are splitting {selectedTableItems.length} item(s) for {receipts.length} receipts</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleSetFullPercentageForReceipt(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).percentage}\r\n                      onChangeText={(number) => this.handleSetPercentageForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}>%</Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.handleFillPercentagesEvenly()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>Fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitItems('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlaySplitItems from './OverlaySplitItems';\r\n\r\nexport default class Split extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n      selectedTableItems: [],\r\n      overlaySplitItemsVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSplitSelectedTableItems = this.handleSplitSelectedTableItems.bind(this);\r\n    this.handleUndoAll = this.handleUndoAll.bind(this);\r\n    this.handleSelectAllUnsplitTableItems = this.handleSelectAllUnsplitTableItems.bind(this);\r\n    this.handleDeselectAllUnsplitTableItems = this.handleDeselectAllUnsplitTableItems.bind(this);\r\n    this.handleUpdateFromSplitItems = this.handleUpdateFromSplitItems.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('menu selected', item);\r\n    const { selectedTableItems, receipts } = this.state;\r\n    const { tableItems } = this.props;\r\n    if (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey)) {\r\n      return;\r\n    }\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSelectAllUnsplitTableItems() {\r\n    const { tableItems } = this.props;\r\n    const { selectedTableItems, receipts } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    tableItems.forEach(el => {\r\n      if (receipts[0].receiptItems.some(obj => obj.recKey === el.recKey) || selectedTableItems.some(obj => obj.recKey === el.recKey)) {\r\n        return;\r\n      }\r\n      selectedTableItemsUpdate.push(el);\r\n    });\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleDeselectAllUnsplitTableItems() {\r\n    this.setState({\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleSplitSelectedTableItems() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlaySplitItemsVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUndoAll() {\r\n    this.setState({\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleUpdateFromSplitItems(distribution) {\r\n    console.log('distribution', distribution);\r\n    if (!distribution) {\r\n      this.setState({\r\n        overlaySplitItemsVisible: false,\r\n        selectedTableItems: [],\r\n      });\r\n      return;\r\n    }\r\n    const { receipts, selectedTableItems } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    receiptsUpdate.forEach(el => {\r\n      selectedTableItems.forEach(obj => {\r\n        el.receiptItems.push({\r\n          ...obj,\r\n          percentage: distribution.find(item => item.docId === el.docId).percentage\r\n        });\r\n      })\r\n    })\r\n    this.setState({\r\n      overlaySplitItemsVisible: false,\r\n      selectedTableItems: [],\r\n      receipts: receiptsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplit(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { serviceEntry, home, selectedTable, availableReceipts, tableItems, cashierPrinters } = this.props;\r\n    const { receipts, selectedTableItems, overlaySplitItemsVisible, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in split');\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlaySplitItemsVisible &&\r\n          <OverlaySplitItems\r\n            receipts={receipts}\r\n            selectedTableItems={selectedTableItems}\r\n            handleUpdateFromSplitItems={this.handleUpdateFromSplitItems} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY ITEM'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE</Text>\r\n              <Text style={styles.overlaySubtitleText}>{selectedTable.tableId}</Text>\r\n              <Text style={styles.overlayTitleText}>{tableItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleUndoAll()}\r\n              >\r\n                <Text style={styles.buttonText}>Undo</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleDeselectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Deselect</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleSelectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Select</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                tableItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    disabled={(receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) ? true : false}\r\n                    style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}\r\n                  >\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}\r\n                    >\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.refRecKey ? '- ' : null}{item.menuName}\r\n                      </Text>\r\n                      {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={[styles.actionButton, selectedTableItems.length !== 0 ? { backgroundColor: theme.occupied } : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleSplitSelectedTableItems()}\r\n            >\r\n              <Text style={styles.buttonText}>Split Selected</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              receipts[0].receiptItems.length === tableItems.length ?\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.handleSubmit()}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm Split</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.props.handleUpdateFromSplit('')}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.paid }]}>Quit</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <ScrollView style={styles.splitScroll}\r\n            horizontal={true}\r\n            snapToInterval={wrapperWidth}\r\n            decelerationRate='fast'\r\n          >\r\n            {\r\n              receipts.map((obj, index) => (\r\n                <View style={styles.wrapper}\r\n                  key={obj.docId}\r\n                >\r\n                  <View style={styles.overlayHeader}>\r\n                    <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>SPLIT {index + 1} OF {receipts.length}</Text>\r\n                    <Text style={styles.overlaySubtitleText}>{obj.docId}</Text>\r\n                    <Text style={styles.overlayTitleText}>{obj.receiptItems.length} ITEMS</Text>\r\n                  </View>\r\n                  <ScrollView style={styles.itemsContainer}>\r\n                    <View style={{ paddingTop: 5 }}></View>\r\n                    {\r\n                      obj.receiptItems.map(item => (\r\n                        <TouchableOpacity key={item.recKey}\r\n                          style={styles.tableItemContainer}\r\n                        // onPress={() => this.handleSelectTableItem(item)}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <View style={styles.tableItemSecondContainer}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </View>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              <Text style={{ color: theme.reserved }}>{item.percentage}</Text><Text style={{ color: theme.grey1 }}> %</Text>\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst wrapperWidth = Dimensions.get('window').width / 3;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n    width: wrapperWidth,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayInputReference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayinputreference');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Input Reference</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                placeholder='ENTER REFERENCE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.props.handleUpdateFromInputReference(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromInputReference(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromInputReference('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\n\r\nexport default class OverlayMergeBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      selectedTargetTable: '',\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.props;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        const filteredResponse = response.filter(el => {\r\n          return el.tableId !== selectedTable.tableId;\r\n        });\r\n        this.setState({\r\n          tables: filteredResponse,\r\n          availableTables: filteredResponse,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTargetTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleSubmit(selectedTargetTable, printer);\r\n  }\r\n\r\n  handleSubmit(item, printer) {\r\n    const { home } = this.props;\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    });\r\n    const { cashierPrinters } = this.props;\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromMergeBill(item, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { overlaySearchText, availableTables, tables, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaymergebill', selectedTable);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='MERGE BILL'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Bill</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeBill('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>OCCUPIED</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, TextInput,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayNumber: 2,\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayNumber === 2) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleNumberChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayNumber: 2 })\r\n    } else {\r\n      this.setState({ overlayNumber: Number(text) })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { overlayNumber } = this.state;\r\n    console.log('in overlaysplitbill');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Bill</Text>\r\n            <Text style={styles.overlayText}>Enter the number of bills to split into</Text>\r\n          </View>\r\n          <View style={styles.adjustContainer}>\r\n            <TouchableOpacity style={styles.adjustFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.adjustSecond}>\r\n              <TextInput style={styles.overlayNumber}\r\n                selectTextOnFocus\r\n                keyboardType='numeric'\r\n                value={overlayNumber?.toString()}\r\n                onChangeText={(searchText) => this.handleNumberChange(searchText)} />\r\n            </View>\r\n            <TouchableOpacity style={styles.adjustThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 2 && { backgroundColor: theme.occupied }]}\r\n              onPress={() => this.setState({ overlayNumber: 2 })}>\r\n              <Text style={styles.buttonText}>2</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 3 && { backgroundColor: theme.reserved }]}\r\n              onPress={() => this.setState({ overlayNumber: 3 })}>\r\n              <Text style={styles.buttonText}>3</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 4 && { backgroundColor: theme.paid }]}\r\n              onPress={() => this.setState({ overlayNumber: 4 })}>\r\n              <Text style={styles.buttonText}>4</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'ITEM')}>\r\n            <Text style={styles.overlayOptionText}>Split By Item</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'AMOUNT')}>\r\n            <Text style={styles.overlayOptionText}>Split By Amount</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitBill('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n    marginBottom: 30,\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 20,\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitAmount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        recKey: item.recKey,\r\n        amount: '0',\r\n      })),\r\n      warning: 'Total amount to split is ' + props.selectedTable.grandTotal.toFixed(2),\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleFillRemainder = this.handleFillRemainder.bind(this);\r\n    this.handleSetAmountForReceipt = this.handleSetAmountForReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillRemainder(item) {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.recKey === item.recKey);\r\n    const aggregate = receipts.filter(el => el.recKey !== item.recKey).reduce((init, obj) => { return init + Number(obj.amount); }, 0);\r\n    if (aggregate <= Number(selectedTable.grandTotal)) {\r\n      receiptsUpdate[index].amount = (Number(selectedTable.grandTotal) - aggregate).toFixed(2).toString();\r\n      this.setState({\r\n        receipts: receiptsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSetAmountForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    let index = receipts.findIndex(el => el.docId === docId);\r\n    receiptsUpdate[index].amount = number;\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { selectedTable, cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.amount); }, 0).toFixed(2);\r\n    console.log('aggregate', aggregate);\r\n    if (receipts.some(item => Number(item.amount) === 0) || (Number(aggregate) !== Number(selectedTable.grandTotal))) {\r\n      console.log('validation failed');\r\n      this.setState({\r\n        warning: 'Ensure numbers are valid and add up to ' + selectedTable.grandTotal.toFixed(2),\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplitAmount(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  doFillEvenly() {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n\r\n    const equal = Number(selectedTable.grandTotal / receipts.length).toFixed(2);\r\n\r\n    receiptsUpdate.forEach((el, index) => {\r\n      if (index !== receiptsUpdate.length - 1) {\r\n        el.amount = Number(equal).toFixed(2);\r\n      } else {\r\n        el.amount = (selectedTable.grandTotal - equal * (receiptsUpdate.length - 1)).toFixed(2);\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { receipts, warning, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaysplitamount');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY AMOUNT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Amount</Text>\r\n            <Text style={styles.overlayText}>{warning}</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleFillRemainder(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).amount}\r\n                      onChangeText={(number) => this.handleSetAmountForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.doFillEvenly()}>\r\n            <Text style={styles.overlayOptionText}>fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption,]}\r\n            onPress={() => this.handleSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitAmount('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayUpdateTips extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n      overlaySearchText: '',\r\n      paymentMethods: props.paymentMethods,\r\n      availablePaymentMethods: props.paymentMethods,\r\n      selectedPaymentMethod: null,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { paymentMethods } = this.state;\r\n    let availablePaymentMethodsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availablePaymentMethodsUpdate = paymentMethods;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePaymentMethods: availablePaymentMethodsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePaymentMethodsUpdate = availablePaymentMethodsUpdate.filter(item => {\r\n      return item.pmId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePaymentMethods: availablePaymentMethodsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlayText, selectedPaymentMethod, availablePaymentMethods, overlaySearchText } = this.state;\r\n    console.log('in overlayupdatetips', availablePaymentMethods);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Update Tips</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                keyboardType='numeric'\r\n                placeholder='ENTER TIPS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          <View style={styles.selectWrapper}>\r\n            <View style={styles.searchBoxWrapper}>\r\n              <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                <TextInput style={styles.overlaySearchBoxInput}\r\n                  placeholder='ENTER SEARCH TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                  value={overlaySearchText}\r\n                />\r\n                <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                  onPress={() => {\r\n                    this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                    Keyboard.dismiss()\r\n                  }}>\r\n                  <AntDesign name='close' size={24} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availablePaymentMethods.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={[{ flex: 1 }]}\r\n              data={availablePaymentMethods}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  style={[styles.overlayGrid, selectedPaymentMethod?.pmId === item.pmId && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.setState({ selectedPaymentMethod: item, })}>\r\n                  <View style={styles.overlayGridFirst}>\r\n                    <View style={styles.overlayGridFirstLeft}>\r\n                      <Text style={styles.overlayGridFirstLeftText}>{item.pmId}</Text>\r\n                    </View>\r\n                    <View style={styles.overlayGridFirstRight}>\r\n                      <Text style={styles.overlayGridFirstRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.overlayGridSecond}>\r\n                    <Text style={styles.overlayGridSecondText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridThird}>\r\n                    <View style={styles.overlayGridThirdLeft}>\r\n                    </View>\r\n                    <View style={styles.overlayGridThirdRight}>\r\n                      <Text style={styles.overlayGridThirdRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips(overlayText, selectedPaymentMethod)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayViewSplitted extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { receipts } = this.props;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>VIEW</Text>\r\n            <Text style={styles.overlaySubtitleText}>Splitted Receipts</Text>\r\n            <Text style={styles.overlayText}></Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.recKey}\r\n                >\r\n                  <View style={styles.inputRowLeft}>\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </View>\r\n                  <View style={styles.inputRowRight}>\r\n                    <Text style={styles.textInput}>{item.grandTotal ? item.grandTotal.toFixed(2) : null}</Text>\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromViewSplitted('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport QRCode from 'react-native-qrcode-svg';\r\nimport Paynow from '../assets/paynow.png';\r\nimport moment from 'moment';\r\n\r\nclass PaynowQR {\r\n  constructor(opts) {\r\n    Object.defineProperty(this, 'qrstring', {\r\n      value: this.generate(opts)\r\n    });\r\n  }\r\n  output() {\r\n    return this.qrstring;\r\n  }\r\n\r\n  padLeft(s, n, str) {\r\n    if (n < String(s).length) {\r\n      return s.toString();\r\n    }\r\n    else {\r\n      return Array(n - String(s).length + 1).join(str || '0') + s;\r\n    }\r\n  }\r\n\r\n  crc16(s) {\r\n    var crcTable = [0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5,\r\n      0x60c6, 0x70e7, 0x8108, 0x9129, 0xa14a, 0xb16b,\r\n      0xc18c, 0xd1ad, 0xe1ce, 0xf1ef, 0x1231, 0x0210,\r\n      0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6,\r\n      0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c,\r\n      0xf3ff, 0xe3de, 0x2462, 0x3443, 0x0420, 0x1401,\r\n      0x64e6, 0x74c7, 0x44a4, 0x5485, 0xa56a, 0xb54b,\r\n      0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d,\r\n      0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6,\r\n      0x5695, 0x46b4, 0xb75b, 0xa77a, 0x9719, 0x8738,\r\n      0xf7df, 0xe7fe, 0xd79d, 0xc7bc, 0x48c4, 0x58e5,\r\n      0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823,\r\n      0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969,\r\n      0xa90a, 0xb92b, 0x5af5, 0x4ad4, 0x7ab7, 0x6a96,\r\n      0x1a71, 0x0a50, 0x3a33, 0x2a12, 0xdbfd, 0xcbdc,\r\n      0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a,\r\n      0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03,\r\n      0x0c60, 0x1c41, 0xedae, 0xfd8f, 0xcdec, 0xddcd,\r\n      0xad2a, 0xbd0b, 0x8d68, 0x9d49, 0x7e97, 0x6eb6,\r\n      0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70,\r\n      0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a,\r\n      0x9f59, 0x8f78, 0x9188, 0x81a9, 0xb1ca, 0xa1eb,\r\n      0xd10c, 0xc12d, 0xf14e, 0xe16f, 0x1080, 0x00a1,\r\n      0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067,\r\n      0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c,\r\n      0xe37f, 0xf35e, 0x02b1, 0x1290, 0x22f3, 0x32d2,\r\n      0x4235, 0x5214, 0x6277, 0x7256, 0xb5ea, 0xa5cb,\r\n      0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d,\r\n      0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447,\r\n      0x5424, 0x4405, 0xa7db, 0xb7fa, 0x8799, 0x97b8,\r\n      0xe75f, 0xf77e, 0xc71d, 0xd73c, 0x26d3, 0x36f2,\r\n      0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634,\r\n      0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9,\r\n      0xb98a, 0xa9ab, 0x5844, 0x4865, 0x7806, 0x6827,\r\n      0x18c0, 0x08e1, 0x3882, 0x28a3, 0xcb7d, 0xdb5c,\r\n      0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a,\r\n      0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0,\r\n      0x2ab3, 0x3a92, 0xfd2e, 0xed0f, 0xdd6c, 0xcd4d,\r\n      0xbdaa, 0xad8b, 0x9de8, 0x8dc9, 0x7c26, 0x6c07,\r\n      0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1,\r\n      0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba,\r\n      0x8fd9, 0x9ff8, 0x6e17, 0x7e36, 0x4e55, 0x5e74,\r\n      0x2e93, 0x3eb2, 0x0ed1, 0x1ef0];\r\n\r\n    var crc = 0xFFFF;\r\n    var j, i;\r\n\r\n    for (i = 0; i < s.length; i++) {\r\n\r\n      let c = s.charCodeAt(i);\r\n      if (c > 255) {\r\n        throw new RangeError();\r\n      }\r\n      j = (c ^ (crc >> 8)) & 0xFF;\r\n      crc = crcTable[j] ^ (crc << 8);\r\n    }\r\n\r\n    return ((crc ^ 0) & 0xFFFF).toString(16).toUpperCase();\r\n  }\r\n\r\n\r\n  generate(opts) {\r\n\r\n    for (let key in opts) {\r\n      if (typeof opts[key] == 'string') {\r\n        opts[key] = opts[key].trim();\r\n      }\r\n    }\r\n\r\n\r\n    const p = [\r\n      { id: '00', value: '01' },                    // ID 00: Payload Format Indicator (Fixed to '01')\r\n      { id: '01', value: '12' },                    // ID 01: Point of Initiation Method 11: static, 12: dynamic\r\n      {\r\n        id: '26', value:                            // ID 26: Merchant Account Info Template\r\n          [{ id: '00', value: 'SG.PAYNOW' },\r\n          { id: '01', value: '2' },                 // 0 for mobile, 2 for UEN. 1 is not used.\r\n          { id: '02', value: String(opts.uen) },            // PayNow UEN (Company Unique Entity Number)\r\n          { id: '03', value: String(!opts.amount || opts.editable ? 1 : 0) },       // 1 = Payment amount is editable, 0 = Not Editable\r\n          { id: '04', value: String(opts.expiry) }]         // Expiry date (YYYYMMDD)\r\n      },\r\n      { id: '52', value: '0000' },                  // ID 52: Merchant Category Code (not used)\r\n      { id: '53', value: '702' },                   // ID 53: Currency. SGD is 702\r\n      { id: '54', value: String(opts.amount || 0) },  // ID 54: Transaction Amount\r\n      { id: '58', value: 'SG' },                    // ID 58: 2-letter Country Code (SG)\r\n      { id: '59', value: String(opts.company || 'COMPANY') },          // ID 59: Company Name\r\n      { id: '60', value: 'Singapore' }             // ID 60: Merchant City\r\n\r\n    ]\r\n\r\n    let otherdata = {\r\n      id: '62', value: [{                         // ID 62: Additional data fields\r\n        id: '01', value: String(opts.refNumber || '')           // ID 01: Bill Number\r\n      }]\r\n    };\r\n\r\n    if (opts.refNumber) {\r\n      p.push(otherdata);\r\n    }\r\n\r\n    let str = p.reduce((final, current) => {\r\n      if (Array.isArray(current.value)) { //nest loop\r\n        current.value = current.value.reduce((f, c) => {\r\n          f += c.id + this.padLeft(c.value.length.toString(), 2) + c.value;\r\n          return f\r\n        }, \"\")\r\n      }\r\n      final += current.id + this.padLeft(current.value.length.toString(), 2) + current.value;\r\n      return final\r\n    }, \"\")\r\n\r\n    // Here we add \"6304\" to the previous string\r\n    // ID 63 (Checksum) 04 (4 characters)\r\n    // Do a CRC16 of the whole string including the \"6304\"\r\n    // then append it to the end.\r\n    str += '6304' + this.padLeft(this.crc16(str + '6304'), 4);\r\n\r\n    return str;\r\n\r\n  }\r\n}\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home } = this.props;\r\n    let qrcode = new PaynowQR({\r\n      uen: home.uen,           //Required: UEN of company\r\n      amount: Number(this.props.input.amount),               //Specify amount of money to pay.\r\n      editable: false,             //Whether or not to allow editing of payment amount. Defaults to false if amount is specified\r\n      expiry: moment().format('YYYYMMDD'),         //Set an expiry date for the Paynow QR code (YYYYMMDD). If omitted, defaults to 5 years from current time.\r\n      refNumber: this.props.input.reference,   //Reference number for Paynow Transaction. Useful if you need to track payments for recouncilation.\r\n      company: home.orgName   //Company name to embed in the QR code. Optional.               \r\n    });\r\n\r\n    this.setState({\r\n      qrcodeString: qrcode.output(),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { input, qrcodeString } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlaySubtitleText}>${this.props.input.amount}</Text>\r\n            <Text style={[styles.overlayText, { marginTop: 0 }]}>{this.props.home.orgName}</Text>\r\n          </View>\r\n          <QRCode\r\n            size={300}\r\n            value={qrcodeString}\r\n            color='#761972'\r\n            logo={Paynow}\r\n            logoSize={100}\r\n          />\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={[styles.overlayText, { marginTop: 5 }]}>Thank you!</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { width: 400 }]}\r\n            onPress={() => this.props.handleUpdateFromPaynow('')}>\r\n            <Text style={styles.overlayOptionText}>CONTINUE</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    // width: '40%',\r\n    // backgroundColor: theme.grey2,\r\n    // borderRadius: 5,\r\n    // overflow: 'hidden',\r\n    alignItems: 'center',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Dimensions, FlatList, ScrollView, Platform, Text, Image } from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport Split from './Split';\r\nimport OverlayInputReference from './OverlayInputReference';\r\nimport OverlayMergeBill from './OverlayMergeBill';\r\nimport OverlaySplitBill from './OverlaySplitBill';\r\nimport OverlaySplitAmount from './OverlaySplitAmount';\r\nimport OverlayUpdateTips from './OverlayUpdateTips';\r\nimport OverlayViewSplitted from './OverlayViewSplitted';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayPaynow from './OverlayPaynow';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Pos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      paymentMethods: props.route.params.masters.paymentMethods,\r\n      settings: props.route.params.masters.settings,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedTable: props.route.params.selectedTable,\r\n      payments: props.route.params.pospays,\r\n\r\n      selectedPaymentMethod: null,\r\n      selectedPaymentItem: '',\r\n      numberString: '0',\r\n      pay: props.route.params.selectedTable.balance,\r\n\r\n      overlayPaynowVisible: false,\r\n      overlayInputReferenceVisible: false,\r\n      overlayMergeBillVisible: false,\r\n      overlaySplitBillVisible: false,\r\n      overlaySplitAmountVisible: false,\r\n      overlayUpdateTipsVisible: false,\r\n      overlayViewSplittedVisible: false,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printPurpose: '',\r\n      selectedPrinter: '',\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      splitting: false,\r\n      availableReceipts: [],\r\n      splitReceipts: [],\r\n      tableItems: [],\r\n    };\r\n    this.handleBuildNumberString = this.handleBuildNumberString.bind(this);\r\n    this.handleSelectPaymentMethod = this.handleSelectPaymentMethod.bind(this);\r\n    this.handleRounding = this.handleRounding.bind(this);\r\n    this.handleEnterButton = this.handleEnterButton.bind(this);\r\n    this.handleFinishButton = this.handleFinishButton.bind(this);\r\n    this.handleAddPayment = this.handleAddPayment.bind(this);\r\n    this.handleDeletePayment = this.handleDeletePayment.bind(this);\r\n    this.handleFinishPayment = this.handleFinishPayment.bind(this);\r\n    this.handleUnsplitBill = this.handleUnsplitBill.bind(this);\r\n    this.handlePressPaymentItem = this.handlePressPaymentItem.bind(this);\r\n    this.handlePressPaymentItemRef = this.handlePressPaymentItemRef.bind(this);\r\n    this.handlePressMerge = this.handlePressMerge.bind(this);\r\n    this.handlePressUnmerge = this.handlePressUnmerge.bind(this);\r\n    this.handlePressTips = this.handlePressTips.bind(this);\r\n    this.handlePressSplit = this.handlePressSplit.bind(this);\r\n    this.handlePressUnsplit = this.handlePressUnsplit.bind(this);\r\n    this.handleViewSplitted = this.handleViewSplitted.bind(this);\r\n    this.handleUpdateFromInputReference = this.handleUpdateFromInputReference.bind(this);\r\n    this.handleUpdateFromMergeBill = this.handleUpdateFromMergeBill.bind(this);\r\n    this.handleUpdateFromSplitBill = this.handleUpdateFromSplitBill.bind(this);\r\n    this.handleUpdateFromSplitAmount = this.handleUpdateFromSplitAmount.bind(this);\r\n    this.handleUpdateFromSplit = this.handleUpdateFromSplit.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromUpdateTips = this.handleUpdateFromUpdateTips.bind(this);\r\n    this.handleUpdateFromViewSplitted = this.handleUpdateFromViewSplitted.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromPaynow = this.handleUpdateFromPaynow.bind(this);\r\n    this.handleOpenDrawer = this.handleOpenDrawer.bind(this);\r\n    this.handleValidateAmount = this.handleValidateAmount.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleViewSplitted()\r\n  }\r\n\r\n  handleBuildNumberString(type) {\r\n    const { numberString } = this.state;\r\n    const maxLength = 7;\r\n\r\n    if (type === 'DEL') {\r\n      if (numberString.length !== 1) {\r\n        let newNumberString = numberString.slice(0, -1);\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === 'CLEAR') {\r\n      if (numberString !== '0') {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === '.') {\r\n      if (numberString.length > maxLength - 2) return;\r\n      if (numberString.indexOf('.') < '0') {\r\n        let newNumberString = numberString + '.';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '0') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '0';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '00') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 0) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '00';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else { // 9, 8, 7, 6, 5, 4, 3, 2, 1\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + type;\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: type\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSelectPaymentMethod(type) {\r\n    // early exit memberson\r\n    if (type.refType === 'P') {\r\n      const { numberString, selectedTable } = this.state;\r\n      let numberStringUpdate = '';\r\n      if (selectedTable.vipPtsMoney < selectedTable.balance) {\r\n        numberStringUpdate = Math.floor(selectedTable.vipPtsMoney);\r\n      } else {\r\n        numberStringUpdate = Math.floor(selectedTable.balance);\r\n      }\r\n      this.setState({\r\n        numberString: numberStringUpdate,\r\n        selectedPaymentMethod: type,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedPaymentMethod: type,\r\n    });\r\n    console.log(type);\r\n    this.handleRounding(type);\r\n  }\r\n\r\n  handleEnterButton() {\r\n    const { numberString, selectedPaymentMethod } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const decimal = 2;\r\n    if (!selectedPaymentMethod) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Missing Payment Method',\r\n          text: 'Please select a payment method',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    if (numberStringVal === 0) {\r\n      return;\r\n    }\r\n    // early exit memberson\r\n    if (selectedPaymentMethod.refType === 'P') {\r\n      if (!this.handleValidateAmount()) return;\r\n    }\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleAddPayment());\r\n  }\r\n\r\n  handleValidateAmount() {\r\n    const { numberString, selectedTable } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const isInteger = Number.isInteger(numberStringVal);\r\n    console.log('isInteger', isInteger, selectedTable.balance, selectedTable.vipPtsMoney);\r\n\r\n    if (!Number.isInteger(numberStringVal) || numberStringVal > selectedTable.balance || numberStringVal > selectedTable.vipPtsMoney) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Inappropriate Amount',\r\n          text: 'Enter an integer less than balance and redeemable',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      });\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  handleFinishButton() {\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleFinishPayment());\r\n  }\r\n\r\n  handleFinishPayment(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'FINISH PAYMENT',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUnsplitBill() {\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unsplit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unsplit Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n        this.handleViewSplitted();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPaymentItemRef(item) {\r\n    if (item.pmId === 'PAYNOW') {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        selectedPaymentItem: item,\r\n        overlayInputReferenceVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressPaymentItem(item) {\r\n    this.setState({\r\n      selectedPaymentItem: item,\r\n    });\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleDeletePayment' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: 'Delete payment of ' + Number(item.payMoney).toFixed(2) + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleDeletePayment() {\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAddPayment() {\r\n    const { serviceEntry, home, settings, paymentMethods, selectedPaymentMethod, selectedTable, pay, numberString } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/add-payment';\r\n    console.log('here debug', Number(numberString));\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      pmId: selectedPaymentMethod.pmId,\r\n      payAmt: Number(numberString),\r\n      roundAmt: Number(selectedTable.balance - pay).toFixed(2),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post add-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Add Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          loading: false,\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        }, () => {\r\n          this.handleRounding(paymentMethods.find(el => el.pmId === selectedPaymentMethod.pmId))\r\n          this.handleAfterAddPayment();\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAfterAddPayment() {\r\n    const { home, selectedTable, payments } = this.state;\r\n    const found = payments.find(el => el.pmId === 'PAYNOW');\r\n    if (found) {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n        overlayPaynowInput: {\r\n          amount: found.payMoney.toFixed(2),\r\n          reference: home.shopId + '-' + selectedTable.docNo,\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  handleRounding(type) {\r\n    console.log(type);\r\n    const { selectedTable } = this.state;\r\n    const { numberString } = this.state;\r\n    const decimal = 2;\r\n    let number = Number(selectedTable.balance);\r\n\r\n    if (type.roundingFlg === 'N') {\r\n      this.setState({\r\n        pay: number,\r\n        numberString: number.toFixed(decimal).toString(),\r\n      });\r\n      return;\r\n    }\r\n\r\n    switch (type.roundType) {\r\n      case '0': // 4 down 5 up\r\n        console.log('case 0');\r\n        // number = Math.round(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '1': // ceiling\r\n        console.log('case 1');\r\n        number = Math.ceil(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '2': // floor 5\r\n        console.log('case 2');\r\n        number = Math.floor(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '3': // floor\r\n        console.log('case 3');\r\n        number = Math.floor(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '4': // closest 5\r\n        console.log('case 4');\r\n        number = Math.round(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '5':\r\n        console.log('legacy case 5 not in use');\r\n        break;\r\n      case '6':\r\n        console.log('legacy case 6 not in use');\r\n        break;\r\n    }\r\n  }\r\n\r\n  handlePressTips() {\r\n    this.setState({\r\n      overlayUpdateTipsVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSplit() {\r\n    this.setState({\r\n      overlaySplitBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnsplit() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUnsplitBill' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Unsplit Bill',\r\n        text: 'Unsplit Bill for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressMerge() {\r\n    this.setState({\r\n      overlayMergeBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnmerge(printer) {\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'UNMERGE BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unmerge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unmerge-bill successful', response.opentable);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unmerge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleViewSplitted() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/splitted-receipts';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get splitted-receipts successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          splitReceipts: response?.filter(el => el.recKey > 0),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, cashierPrinters, privileges, settings, selectedTable } = this.state;\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'OPEN DRAWER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'handleDeletePayment') {\r\n      this.handleDeletePayment();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    } else if (text === 'handleUnsplitBill') {\r\n      this.handleUnsplitBill();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromPaynow(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayPaynowVisible: false,\r\n      });\r\n      return;\r\n    }\r\n  }\r\n\r\n  handleUpdateFromInputReference(text) {\r\n    this.setState({ overlayInputReferenceVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/payment-reference';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n      ref: text,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post payment-reference successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Payment Reference',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplitBill(number, type) {\r\n    if (!number) {\r\n      this.setState({ overlaySplitBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-split-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      splitCount: number,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-split-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Split Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'ITEM') {\r\n          this.setState({\r\n            splitting: true,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else if (type === 'AMOUNT') {\r\n          this.setState({\r\n            overlaySplitAmountVisible: true,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else {\r\n\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplit(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            selectedTable: response.opentable,\r\n            overlaySplitBillVisible: false,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceipts: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          itemPercentages: el.receiptItems.map(obj => ({\r\n            itemRecKey: obj.recKey,\r\n            percentage: obj.percentage,\r\n          }))\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromSplitAmount(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    this.setState({\r\n      overlaySplitAmountVisible: false,\r\n    });\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt-byamt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceiptsByamt: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          amt: el.amount,\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromMergeBill(table, printer) {\r\n    if (!table) {\r\n      this.setState({ overlayMergeBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      tableIdGuest: table.tableId,\r\n      iomodelId: printer && printer.iomodelId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n          overlayMergeBillVisible: false,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromUpdateTips(number, method) {\r\n    this.setState({ overlayUpdateTipsVisible: false });\r\n    if (!number) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-tips';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      tips: Number(number).toFixed(2),\r\n      pmId: method?.pmId || '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-tips successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Tips',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            `${number},${method?.pmId}`,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromViewSplitted(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayViewSplittedVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'UNMERGE BILL') {\r\n      this.handlePressUnmerge(printer);\r\n    } else if (purpose === 'FINISH PAYMENT') {\r\n      this.handleFinishPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.handleOpenDrawer(printer);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege, settings, selectedPrinter, selectedTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.handleOpenDrawer(selectedPrinter, response.userId);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, cashierPrinters, settings, selectedTable,\r\n      overlayInputReferenceVisible, overlayMergeBillVisible, overlaySplitBillVisible, overlayUpdateTipsVisible,\r\n      overlaySplitAmountVisible, overlayViewSplittedVisible, overlayRequestAccessVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayPaynowVisible, overlayPaynowInput,\r\n      numberString, paymentMethods, payments, selectedPaymentMethod, pay,\r\n      splitting, availableReceipts, splitReceipts, tableItems, requestedPrivilege,\r\n      selectedPrinter, printPurpose, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible, loading,\r\n    } = this.state;\r\n\r\n    console.log('in pos');\r\n\r\n    if (splitting) {\r\n      return (\r\n        <Split\r\n          serviceEntry={serviceEntry}\r\n          home={home}\r\n          selectedTable={selectedTable}\r\n          availableReceipts={availableReceipts}\r\n          tableItems={tableItems}\r\n          cashierPrinters={cashierPrinters}\r\n          handleUpdateFromSplit={this.handleUpdateFromSplit} />\r\n      );\r\n    }\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayInputReferenceVisible &&\r\n          <OverlayInputReference\r\n            handleUpdateFromInputReference={this.handleUpdateFromInputReference} />\r\n        }\r\n        {\r\n          overlayMergeBillVisible &&\r\n          <OverlayMergeBill\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            cashierPrinters={cashierPrinters}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeBill={this.handleUpdateFromMergeBill} />\r\n        }\r\n        {\r\n          overlaySplitBillVisible &&\r\n          <OverlaySplitBill\r\n            handleUpdateFromSplitBill={this.handleUpdateFromSplitBill} />\r\n        }\r\n        {\r\n          overlaySplitAmountVisible &&\r\n          <OverlaySplitAmount\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromSplitAmount={this.handleUpdateFromSplitAmount} />\r\n        }\r\n        {\r\n          overlayViewSplittedVisible &&\r\n          <OverlayViewSplitted\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            handleUpdateFromViewSplitted={this.handleUpdateFromViewSplitted} />\r\n        }\r\n        {\r\n          overlayUpdateTipsVisible &&\r\n          <OverlayUpdateTips\r\n            paymentMethods={paymentMethods}\r\n            handleUpdateFromUpdateTips={this.handleUpdateFromUpdateTips} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayPaynowVisible &&\r\n          <OverlayPaynow\r\n            home={home}\r\n            input={overlayPaynowInput}\r\n            handleUpdateFromPaynow={this.handleUpdateFromPaynow} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.leftFirstContainer}>\r\n            <View style={styles.rowOf5}>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => navigation.goBack()}>\r\n                <Text style={[styles.headerKeyTextTableId,]}>{selectedTable.tableId}</Text>\r\n                <Text style={[styles.headerKeyText, { marginTop: 0 }]}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.headerKeyContainer, (selectedTable.splitFlg === 'Y') && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressTips()}\r\n                disabled={selectedTable.splitFlg === 'Y'}>\r\n                <AntDesign name='like2' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('tips')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => this.handleOpenDrawer()}>\r\n                <AntDesign name='laptop' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('drawer')}</Text>\r\n              </TouchableOpacity>\r\n              {\r\n                selectedTable.splitFlg === 'Y' ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnsplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unsplit')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressSplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('splitbill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n              {\r\n                selectedTable.hostFlg === 'Y' || selectedTable.refTableId\r\n                  ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnmerge()}>\r\n                    <AntDesign name='menuunfold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unmerge')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={[styles.headerKeyContainer, selectedTable.splitFlg === 'Y' && { opacity: 0.2 }]}\r\n                    disabled={selectedTable.splitFlg === 'Y'}\r\n                    onPress={() => this.handlePressMerge()}>\r\n                    <AntDesign name='menufold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('mergebill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n          <View style={styles.leftSecondContainer}>\r\n            <View style={styles.tableSummaryContainer}>\r\n              <View style={styles.tableSummaryTitleContainer}>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('beforedisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('totaldisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('servicecharge')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tax')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tips')} {selectedTable.tipsPmId}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.reserved }]}>{intl.get('grandtotal')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.paid }]}>{intl.get('pay')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('balance')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tender')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('change')}</Text>\r\n                </View>\r\n              </View>\r\n              <View style={styles.tableSummaryValueContainer}>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.beforeDisc ? selectedTable.beforeDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalDisc ? selectedTable.totalDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.serviceCharge ? selectedTable.serviceCharge.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalTax ? selectedTable.totalTax.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tips ? selectedTable.tips.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.reserved }]}>{selectedTable.grandTotal.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.paid }]}>{pay.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.balance.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tender.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.change.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n            <ScrollView\r\n              style={{ maxHeight: 30, }}\r\n              horizontal={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                selectedTable.vipId &&\r\n                <View\r\n                  style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{selectedTable.vipId || '-'}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.reserved, }}>{selectedTable.vipName || '-'}</Text>\r\n                </View>\r\n              }\r\n              {\r\n                splitReceipts && splitReceipts.map(item =>\r\n                  <View key={item.recKey.toString()}\r\n                    style={{ flexDirection: 'row', flex: 1, alignItems: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{item.docId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', }}>{item.grandTotal ? item.grandTotal.toFixed(2) : '-'}</Text>\r\n                  </View>)\r\n              }\r\n            </ScrollView>\r\n            <View style={{ flex: 1, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n              <View style={styles.paymentsContainer}>\r\n                <View style={styles.paymentsFirst}><Text style={styles.paymentsTitleText}>No.</Text></View>\r\n                <View style={styles.paymentsSecond}><Text style={styles.paymentsTitleText}>Payment ID</Text></View>\r\n                <View style={styles.paymentsThird}><Text style={styles.paymentsTitleText}>Ref</Text></View>\r\n                <View style={styles.paymentsFourth}><Text style={styles.paymentsTitleText}>Amount</Text></View>\r\n              </View>\r\n              <ScrollView\r\n                style={{ flex: 1 }}\r\n                ref={ref => this.posScrollView = ref}\r\n                onContentSizeChange={(contentWidth, contentHeight) => {\r\n                  this.posScrollView.scrollToEnd({ animated: true });\r\n                }}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  payments.map((item, index) => (\r\n                    <View style={styles.datumContainer} key={index}>\r\n                      <View style={styles.datumFirst}><Text style={styles.datumText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={styles.datumSecond} onPress={() => this.handlePressPaymentItem(item)}>\r\n                        <Text style={styles.datumText}>{item.name}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.datumThird} onPress={() => this.handlePressPaymentItemRef(item)}>\r\n                        <Text style={styles.datumText}>{item.payRef}</Text>\r\n                      </TouchableOpacity>\r\n                      <View style={styles.datumFourth}><Text style={styles.datumText}>{item.payMoney.toFixed(2)}</Text></View>\r\n                    </View>\r\n                  ))\r\n                }\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n          <View style={styles.rowOf5}>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightFirstContainer}>\r\n            <FlatList\r\n              style={{ flex: 3 }}\r\n              showsVerticalScrollIndicator={false}\r\n              numColumns={5}\r\n              data={paymentMethods}\r\n              extraData={selectedPaymentMethod}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => {\r\n                return (\r\n                  <View style={{ flex: 1 / 5, height: keyHeight }}>\r\n                    <TouchableOpacity\r\n                      style={[item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyContainer : styles.functionKeyContainer, item.pmId ? null : { opacity: 0.2 },]}\r\n                      onPress={() => this.handleSelectPaymentMethod(item)}>\r\n                      <Image\r\n                        style={{ flex: 1, aspectRatio: 1 }}\r\n                        source={{\r\n                          uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.pmId + '&t=' + item.lastupdate\r\n                        }}\r\n                      />\r\n                      <View style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, alignItems: 'center', justifyContent: 'center', }}>\r\n                        <Text style={item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyText : styles.functionKeyText}>{item.pmId}</Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )\r\n              }}\r\n            />\r\n          </View>\r\n          <View style={styles.rightFirstNumberContainer}>\r\n            <Text style={styles.rightFirstNumberText}>{numberString}</Text>\r\n          </View>\r\n          <View style={styles.rightSecondContainer}>\r\n            <View style={styles.rightSecondLeftContainer}>\r\n              <TouchableOpacity style={styles.clearContainer} onPress={() => this.handleBuildNumberString('CLEAR')}>\r\n                <Text style={styles.keyText}>\r\n                  CLEAR\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.rightSecondMiddleContainer}>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('7')}>\r\n                  <Text style={styles.keyNumberText}>7</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('4')}>\r\n                  <Text style={styles.keyNumberText}>4</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('1')}>\r\n                  <Text style={styles.keyNumberText}>1</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('0')}>\r\n                  <Text style={styles.keyNumberText}>0</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('8')}>\r\n                  <Text style={styles.keyNumberText}>8</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('5')}>\r\n                  <Text style={styles.keyNumberText}>5</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('2')}>\r\n                  <Text style={styles.keyNumberText}>2</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('.')}>\r\n                  <Text style={styles.keyNumberText}>.</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('9')}>\r\n                  <Text style={styles.keyNumberText}>9</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('6')}>\r\n                  <Text style={styles.keyNumberText}>6</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('3')}>\r\n                  <Text style={styles.keyNumberText}>3</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('00')}>\r\n                  <Text style={styles.keyNumberText}>00</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.rightSecondRightContainer}>\r\n              <TouchableOpacity style={styles.backspaceContainer} onPress={() => this.handleBuildNumberString('DEL')}>\r\n                {/* <Ionicons name='ios-arrow-round-back' size={48} color='white' /> */}\r\n                <Text style={styles.keyText}>\r\n                  DEL\r\n                </Text>\r\n              </TouchableOpacity>\r\n              {\r\n                selectedTable.balance !== 0 ?\r\n                  <TouchableOpacity style={[styles.enterContainer, loading && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleEnterButton()}\r\n                    disabled={loading}\r\n                  >\r\n                    {/* <Ionicons name='ios-return-left' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      ENTER\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={[styles.finishContainer, loading && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleFinishButton()}\r\n                    disabled={loading}\r\n                  >\r\n                    {/* <Ionicons name='ios-arrow-up' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      FINISH\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n  },\r\n  leftFirstContainer: {\r\n    // backgroundColor: 'blue',\r\n    flex: 1,\r\n  },\r\n  leftSecondContainer: {\r\n    flex: 6,\r\n    margin: 5,\r\n  },\r\n  rightFirstContainer: {\r\n    flex: 3,\r\n  },\r\n  rightSecondContainer: {\r\n    flex: 4,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondLeftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightSecondMiddleContainer: {\r\n    flex: 3,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondRightContainer: {\r\n    flex: 1,\r\n  },\r\n  rowOf5: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightFirstNumberContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tableSummaryContainer: {\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'row',\r\n    // backgroundColor: 'brown',\r\n    marginHorizontal: 60,\r\n    marginTop: 10,\r\n    marginBottom: 20,\r\n  },\r\n  tableSummaryTitleContainer: {\r\n    alignItems: 'flex-start',\r\n    // backgroundColor: 'green'\r\n  },\r\n  tableSummaryValueContainer: {\r\n    alignItems: 'flex-end',\r\n    // backgroundColor: 'blue'\r\n  },\r\n  tableSummaryTitle: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n    // backgroundColor:'red'\r\n  },\r\n  tableSummaryValue: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  tableSummaryTitleText: {\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n    color: 'white',\r\n  },\r\n  tableSummaryValueText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  keyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backspaceContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  enterContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.reserved,\r\n  },\r\n  finishContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.occupied,\r\n    borderRadius: 5,\r\n    borderWidth: 2,\r\n    borderColor: 'white',\r\n  },\r\n  clearContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.paid,\r\n  },\r\n  functionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  activeFunctionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'white',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyTextTableId: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 24,\r\n  },\r\n  headerKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 12,\r\n  },\r\n  keyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  keyNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  functionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  activeFunctionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'black',\r\n    textAlign: 'center',\r\n  },\r\n  rightFirstNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 64,\r\n  },\r\n  paymentsContainer: {\r\n    height: 30,\r\n    // backgroundColor: 'white',\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n  },\r\n  dataContainer: {\r\n    flex: 1,\r\n  },\r\n  paymentsFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey2,\r\n  },\r\n  paymentsSecond: {\r\n    flex: 3,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsThird: {\r\n    flex: 5,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  paymentsTitleText: {\r\n    color: theme.grey5,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  datumFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  datumSecond: {\r\n    flex: 3,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  datumThird: {\r\n    flex: 5,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  datumFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  datumText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  datumContainer: {\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Adhoc extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      menus: props.route.params.masters.menus,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedAdhocItem: '',\r\n      selectedMenu: '',\r\n      adhocItems: [],\r\n\r\n      searchText: '',\r\n      availableMenus: props.route.params.masters.menus.filter(menu => {\r\n        return menu.menuType === 'X';\r\n      }),\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSelectAdhoc = this.handleSelectAdhoc.bind(this);\r\n    this.handlePressSettleAsMenu = this.handlePressSettleAsMenu.bind(this);\r\n    this.handlePressSettleAsRetail = this.handlePressSettleAsRetail.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doGet();\r\n  }\r\n\r\n  doGet() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/opentable-adhocs';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get opentable-adhocs successful', response);\r\n        // to state\r\n        this.setState({\r\n          adhocItems: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    this.setState({\r\n      selectedAdhocItem: item,\r\n      selectedMenu: '',\r\n    });\r\n  }\r\n\r\n  handleSelectAdhoc(item) {\r\n    const { selectedAdhocItem } = this.state;\r\n    if (!selectedAdhocItem) return;\r\n    this.setState({\r\n      selectedMenu: item,\r\n    });\r\n  }\r\n\r\n  handlePressSettleAsMenu() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, settings, selectedTable, selectedAdhocItem, selectedMenu } = this.state;\r\n\r\n    if (!selectedAdhocItem) return;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      orderQty: '1',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Adhoc Settle Menu',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedAdhocItem.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.doGet();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressSettleAsRetail() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, settings, selectedTable, selectedAdhocItem } = this.state;\r\n\r\n    if (!selectedAdhocItem) return;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      // restmenuRecKey: menu.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      orderQty: selectedAdhocItem.orderQty,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Adhoc Settle Retail',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedAdhocItem.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.doGet();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus.filter(menu => {\r\n      return menu.menuType === 'X';\r\n    });\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, adhocItems, selectedAdhocItem, selectedMenu, searchText, availableMenus,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in adhoc',);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n              <Text style={styles.overlaySubtitleText}>Ad Hoc</Text>\r\n              <Text style={styles.overlayTitleText}>{adhocItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={[styles.button, { opacity: 0.2 }]}\r\n                disabled={true}\r\n                onPress={() => this.handlePressSettleAsRetail()}>\r\n                <Text style={styles.buttonText}>Settle</Text>\r\n                <Text style={styles.buttonText}>As</Text>\r\n                <Text style={styles.buttonText}>Retail</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={!selectedMenu}\r\n                onPress={() => this.handlePressSettleAsMenu()}>\r\n                <Text style={styles.buttonText}>Settle</Text>\r\n                <Text style={styles.buttonText}>As</Text>\r\n                <Text style={styles.buttonText}>Menu</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                adhocItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    style={[styles.tableItemContainer, (selectedAdhocItem.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}>\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.name}\r\n                      </Text>\r\n                      <Text style={styles.tableItemText}>\r\n                        {moment(item.createDate).format(\"HH:mm\")}\r\n                      </Text>\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={styles.actionButton}\r\n              onPress={() => navigation.goBack()}>\r\n              <Text style={[styles.buttonText, { color: theme.paid }]}>QUIT</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightWrapper}>\r\n            <View style={styles.searchBox}>\r\n              <TextInput style={styles.searchBoxInputValue}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                value={searchText}\r\n                onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n              />\r\n              <TouchableOpacity style={styles.searchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={{ flex: 1 }}\r\n              data={availableMenus}\r\n              keyExtractor={item => item.recKey.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  key={item.recKey}\r\n                  style={[styles.grid, (selectedMenu.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.handleSelectAdhoc(item)}>\r\n                  <View style={styles.gridFirst}>\r\n                    <View style={styles.gridFirstLeft}>\r\n                      <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                    </View>\r\n                    <View style={styles.gridFirstRight}>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.gridSecond}>\r\n                    <Text style={styles.gridSecondText}>\r\n                      {item.menuName}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.gridThird}>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  rightWrapper: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    width: 400,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    height: 80,\r\n    width: 400,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity, Dimensions,\r\n  FlatList, TextInput,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Dayclose extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      dayclosePayments: props.route.params.dayclosePayments,\r\n      daycloseSubPayments: props.route.params.daycloseSubPayments,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      total: props.route.params.dayclosePayments.reduce((init, obj) => { return init + obj.systemAmt }, 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }),\r\n      focused: null,\r\n    };\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n\r\n    this.handleFinishDayclose = this.handleFinishDayclose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleFinishDayclose(printer);\r\n  }\r\n\r\n  handleFinishDayclose(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, dayclosePayments, daycloseSubPayments, cashierPrinters } = this.state;\r\n    if (dayclosePayments.length === 0) {\r\n      return;\r\n    }\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/finish-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      daycloseRecKey: dayclosePayments[0].masRecKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      verify: dayclosePayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n      subVerify: daycloseSubPayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Dayclose',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  doChangeText(item, text) {\r\n    const { dayclosePayments, daycloseSubPayments } = this.state;\r\n    const found = dayclosePayments.find(el => el.pmId === item.pmId);\r\n    this.setState({\r\n      [item.recKey]: text,\r\n      [found.recKey]: daycloseSubPayments.filter(el => el.pmId === item.pmId && el.recKey !== item.recKey).reduce((init, el) => {\r\n        return init + (this.state[el.recKey] || 0) * el.pmValue\r\n      }, Number(text) * item.pmValue)\r\n    })\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { focused } = this.state;\r\n    if (item === 'CLEAR') {\r\n      this.setState({ [focused]: '0' })\r\n    } else if (Number(this.state[focused]) === 0) {\r\n      this.setState({ [focused]: item })\r\n    } else {\r\n      this.setState({ [focused]: (this.state[focused] || '') + item })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { settings, dayclosePayments, daycloseSubPayments, cashierPrinters, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible,\r\n      total, focused } = this.state;\r\n    const settingDAYCLOSEVERIFY = settings.find(el => el.setId === 'DAYCLOSEVERIFY')?.setString;\r\n    console.log('in dayclose', focused);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='DAY-END CLOSE'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>BACK</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Day-end Closing</Text>\r\n            <Text style={styles.overlayTitleText}>{dayclosePayments.length} PAYMENT METHODS</Text>\r\n          </View>\r\n          <View style={styles.summary}>\r\n            <Text style={styles.summaryText}>TOTAL</Text>\r\n            {/* <Text style={styles.summaryTotalText}>{total} <Text style={[styles.summaryTotalText, { color: 'white' }]}>{settingDAYCLOSEVERIFY === 'Y' ? dayclosePayments.reduce((init, obj) => { return Number(this.state[obj.recKey] || 0) + init }, 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) : total}</Text></Text> */}\r\n            <Text style={styles.summaryTotalText}>{total}</Text>\r\n            <Text style={styles.overlayTitleText}>\r\n              {/* OVER {dayclosePayments.filter(el => el.systemAmt !== 0).length} PAYMENT METHODS */}\r\n            </Text>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <View style={styles.titleFirstContainer}>\r\n              <Text style={styles.titleText}>Line No.</Text>\r\n            </View>\r\n            <View style={styles.titleSecondContainer}>\r\n              <Text style={styles.titleText}>Payment ID</Text>\r\n            </View>\r\n            <View style={styles.titleThirdContainer}>\r\n              <Text style={styles.titleText}>Payment Name</Text>\r\n            </View>\r\n            <View style={styles.titleFourthContainer}>\r\n              <Text style={styles.titleText}>Amount</Text>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            data={dayclosePayments}\r\n            showsVerticalScrollIndicator={false}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <>\r\n                <View style={[styles.tableItemContainer, (Number(this.state[item.recKey] || 0) !== item.systemAmt && settingDAYCLOSEVERIFY === 'Y') && { backgroundColor: theme.paid }]}>\r\n                  <View style={styles.tableItemFirstContainer}>\r\n                    <Text style={styles.tableItemText}>{item.lineNo}</Text>\r\n                  </View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.pmId}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemFourthContainer}>\r\n                    {\r\n                      settingDAYCLOSEVERIFY === 'N' ?\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                        :\r\n                        daycloseSubPayments.some(obj => obj.pmId === item.pmId) ?\r\n                          <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                            {(this.state[item.recKey] || 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                          </Text>\r\n                          :\r\n                          <View style={[styles.inputRowRight, focused === item.recKey && { backgroundColor: theme.reserved }]}>\r\n                            <TextInput style={[styles.textInput, focused === item.recKey && { color: 'black' }]}\r\n                              keyboardType='numeric'\r\n                              selectTextOnFocus={true}\r\n                              value={this.state[item.recKey] || '0'}\r\n                              onChangeText={text => this.setState({ [item.recKey]: text })}\r\n                              onFocus={() => this.setState({ focused: item.recKey })}\r\n                            />\r\n                          </View>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                {\r\n                  daycloseSubPayments.filter(el => el.pmId === item.pmId).map(el =>\r\n                    <View key={el.recKey.toString()}\r\n                      style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}>\r\n                        <Text style={styles.tableItemText}></Text>\r\n                      </View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, justifyContent: 'center' }}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {el.subPmId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, }}>\r\n                        <View style={[styles.inputRowRight, { marginRight: 10 }, focused === el.recKey && { backgroundColor: theme.reserved }]}>\r\n                          <TextInput style={[styles.textInput, focused === el.recKey && { color: 'black' }]}\r\n                            keyboardType='numeric'\r\n                            selectTextOnFocus={true}\r\n                            value={this.state[el.recKey] || '0'}\r\n                            onChangeText={text => this.doChangeText(el, text)}\r\n                            onFocus={() => this.setState({ focused: el.recKey })}\r\n                          />\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {(el.pmValue * Number(this.state[el.recKey] || 0)).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={[styles.containerThird]}>\r\n          <View style={{ flex: 1, }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleFinishDayclose()}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>DAY CLOSE</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View>\r\n            {\r\n              focused &&\r\n              <FlatList\r\n                data={['1', '2', '3', '4', '5', '6', '7', '8', '9', 'CLEAR', '0', '.']}\r\n                scrollEnabled={false}\r\n                showsVerticalScrollIndicator={false}\r\n                numColumns={3}\r\n                keyExtractor={(item, index) => index.toString()}\r\n                renderItem={({ item }) => (\r\n                  <TouchableOpacity style={{ flex: 1, aspectRatio: 1 }}\r\n                    onPress={() => this.doPressKey(item)}>\r\n                    <View style={{ margin: 2.5, flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: 'black', borderRadius: 5, }}>\r\n                      {\r\n                        item === 'CLEAR' ?\r\n                          <AntDesign name='close' color='white' size={18} />\r\n                          :\r\n                          <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 18, }}>{item}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                )}\r\n              />\r\n            }\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').width / 24;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  titleFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 20,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  summary: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  summaryTotalText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    color: theme.reserved,\r\n    textAlign: 'center',\r\n  },\r\n  summaryText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Printer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printers: [],\r\n      loading: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home, serviceEntry } = this.state;\r\n    let url = serviceEntry + 'api/iomodels';\r\n    const params = new URLSearchParams();\r\n    params.append('posNo', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('iomodels', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          printers: response,\r\n        }, () => this.handlePingAll())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingPrinter(item) {\r\n    const { serviceEntry, printers } = this.state;\r\n\r\n    let printersUpdate0 = printers;\r\n    printersUpdate0.find(el => el.recKey === item.recKey).statusFlg = 'PING...';\r\n    this.setState({\r\n      printers: printersUpdate0,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/iomodels/' + item.recKey;\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('ping iomodel', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        let printersUpdate = printers;\r\n        if (response.msgId === 'OK') {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'ONLINE';\r\n        } else {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'OFFLINE';\r\n        }\r\n        this.setState({\r\n          printers: printersUpdate,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPingAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handlePingAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Ping All Printers',\r\n        text: 'Send ping to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressTestAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleTestAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Test All Printers',\r\n        text: 'Send test command to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handleTestAll() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/test-printer';\r\n    const params = new URLSearchParams();\r\n    params.append('userId', home.userId);\r\n    params.append('orgId', home.orgId);\r\n    params.append('locId', home.locId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET',\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post test-printer successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingAll() {\r\n    const { printers } = this.state;\r\n    printers.forEach(el => this.handlePingPrinter(el));\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleTestAll') {\r\n      this.handleTestAll();\r\n    } else if (text === 'handlePingAll') {\r\n      this.handlePingAll();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { printers, loading,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('in printers');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2 === 0) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}\r\n                        >\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          key={item.recKey}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}\r\n                        >\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressPingAll()}\r\n              >\r\n                <AntDesign\r\n                  name='fork'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>PING {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressTestAll()}\r\n              >\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('test')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayEnterDate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dateString: props.dateString ? moment(props.dateString).format('YYYY-MM-DD') : moment(new Date()).format('YYYY-MM-DD'),\r\n      valid: true,\r\n    }\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleValidate(dateString) {\r\n    this.setState({\r\n      dateString,\r\n      valid: moment(dateString, 'YYYY-MM-DD', true).isValid(),\r\n    });\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    const { dateString } = this.state;\r\n    if (type === 'PLUS') {\r\n      let dateStringUpdate = moment(dateString).add(1, 'days').format('YYYY-MM-DD');\r\n\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      let dateStringUpdate = moment(dateString).subtract(1, 'days').format('YYYY-MM-DD');\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { dateString, valid } = this.state;\r\n    console.log('in overlayenterdate', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Enter Date</Text>\r\n          </View>\r\n          <View style={styles.inputRow}>\r\n            <TouchableOpacity style={styles.inputRowFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.inputRowSecond}>\r\n              <TextInput style={[styles.textInput, !valid && { color: theme.paid }]}\r\n                keyboardType='numeric'\r\n                value={dateString}\r\n                onChangeText={(dateString) => this.handleValidate(dateString)}\r\n              />\r\n            </View>\r\n            <TouchableOpacity style={styles.inputRowThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity onPress={() => this.setState({ dateString: moment().format('YYYY-MM-DD'), valid: true })}>\r\n            <Text style={styles.overlayText}>YYYY-MM-DD</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }, !valid && { opacity: 0.2 }]}\r\n            disabled={!valid}\r\n            onPress={() => this.props.handleUpdateFromEnterDate(dateString, this.props.dateType)}>\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromEnterDate('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    width: '100%',\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowFirst: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowSecond: {\r\n    flex: 1,\r\n    minWidth: 80,\r\n    width: 150,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowThird: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Report extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedButton: '',\r\n      fromDateString: moment().format('YYYY-MM-DD'),\r\n      toDateString: moment().format('YYYY-MM-DD'),\r\n      reportDetails: '',\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleSelectReport = this.handleSelectReport.bind(this);\r\n    this.handlePrintReport = this.handlePrintReport.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handlePressDate(type) {\r\n    const { fromDateString, toDateString } = this.state;\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n      selectedDateType: type,\r\n      selectedDateString: type === 'FROMDATE' ? fromDateString : toDateString,\r\n    })\r\n  }\r\n\r\n  handleSelectReport(report, superUserId) {\r\n    const { serviceEntry, home, privileges, fromDateString, toDateString } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === report)) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: report,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedButton: report,\r\n    });\r\n    console.log('report');\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: report,\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePrintReport(printer) {\r\n    const { home, serviceEntry, cashierPrinters, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    if (!selectedButton) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/print-bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, type) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    let fromDateStringUpdate = fromDateString;\r\n    let toDateStringUpdate = toDateString;\r\n\r\n    if (type === 'TODATE') {\r\n      toDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    } else {\r\n      fromDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    }\r\n\r\n    this.setState({\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handlePrintReport(printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSelectReport(requestedPrivilege, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, cashierPrinters,\r\n      selectedButton, reportDetails, requestedPrivilege,\r\n      fromDateString, toDateString, selectedDateString, selectedDateType,\r\n      overlayProcedureMessageVisible, overlayEnterDateVisible,\r\n      overlayChoosePrinterVisible, overlayRequestAccessVisible } = this.state;\r\n    console.log('in reports');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            dateType={selectedDateType}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='PRINT REPORT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUESUM' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUESUM')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>SUMMARY</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUEDTL' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUEDTL')}\r\n            >\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>DETAIL</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'COLLECTION' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('COLLECTION')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>PAYMENT</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>COLLECTION</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reports')}</Text>\r\n            <View style={styles.gap}></View>\r\n            <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('FROMDATE')}>\r\n                <Text style={styles.overlayTitleText}>{fromDateString}</Text>\r\n              </TouchableOpacity>\r\n              <Text style={styles.overlayTitleText}>    /    </Text>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('TODATE')}>\r\n                <Text style={styles.overlayTitleText}>{toDateString}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>\r\n              {selectedButton === 'REVENUESUM' ?\r\n                'REVENUE SUMMARY'\r\n                :\r\n                selectedButton === 'REVENUEDTL' ?\r\n                  'REVENUE DETAIL'\r\n                  :\r\n                  selectedButton === 'COLLECTION' ?\r\n                    'PAYMENT COLLECTION'\r\n                    : null}\r\n            </Text>\r\n          </View>\r\n          {\r\n            reportDetails ?\r\n              <ScrollView style={styles.reportContainer}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  reportDetails.map((item, index) =>\r\n                    <View style={styles.reportLineContainer}\r\n                      key={item.recKey}\r\n                    >\r\n                      <View style={styles.reportLineFirst}>\r\n                        <Text style={styles.reportLineFirstText}>{item.description}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineSecond}>\r\n                        <Text style={styles.reportLineSecondText}>{item.qty}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineThird}>\r\n                        <Text style={styles.reportLineThirdText}>{item.val ? item.val.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) : null}</Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </ScrollView>\r\n              : null\r\n          }\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button, !selectedButton && { opacity: 0.2 }]}\r\n              disabled={!selectedButton}\r\n              onPress={() => this.handlePrintReport()}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('print')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n    alignItems: 'center',\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  selection: {\r\n    width: '100%',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  reportContainer: {\r\n    flex: 1,\r\n    width: 440,\r\n    borderTopLeftRadius: 5,\r\n    borderTopRightRadius: 5,\r\n    backgroundColor: theme.grey2,\r\n    padding: 20,\r\n  },\r\n  reportLineContainer: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n  },\r\n  reportLineFirst: {\r\n    width: 240,\r\n  },\r\n  reportLineSecond: {\r\n    width: 60,\r\n  },\r\n  reportLineThird: {\r\n    width: 100,\r\n    alignItems: 'flex-end',\r\n  },\r\n  reportLineFirstText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineSecondText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineThirdText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, ScrollView,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class Reprint extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n\r\n      selectedButton: 'ORDERS',\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      searchText: '',\r\n      receiptsxText: '',\r\n\r\n      headers: '',\r\n      pays: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handlePressSearch = this.handlePressSearch.bind(this);\r\n    this.handleSelectButton = this.handleSelectButton.bind(this);\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleReprint = this.handleReprint.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/orders';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('orders', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response,\r\n          availableMasters: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSearch() {\r\n    const { serviceEntry, home, receiptsxText } = this.state;\r\n    this.setState({\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!receiptsxText) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/receipts-search';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('searchInput', receiptsxText);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas,\r\n          availableMasters: response.receiptmas,\r\n          searches: response.receiptpaydtl,\r\n          details: [],\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton } = this.state;\r\n    let url = serviceEntry;\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (selectedButton === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectButton(type) {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n\r\n    this.setState({\r\n      details: [],\r\n      selectedMaster: '',\r\n      selectedButton: type,\r\n      pays: '',\r\n      headers: '',\r\n    })\r\n\r\n    // early exit for RECEIPTSX \r\n    if (type === 'RECEIPTSX') {\r\n      this.setState({\r\n        masters: [],\r\n        availableMasters: [],\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    if (type === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (type === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (type === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry, selectedButton } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry;\r\n    console.log('item', selectedButton, item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + item.recKey + '/bundle';\r\n    } else {\r\n      url += 'api/daycloses/' + item.recKey + '/amts';\r\n    }\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n          this.setState({\r\n            details: response.receiptitems,\r\n            pays: response.receiptpays,\r\n            headers: response.receiptmas\r\n          });\r\n        } else {\r\n          this.setState({\r\n            details: response,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleReprint(printer) {\r\n    const { serviceEntry, home, cashierPrinters, selectedMaster, selectedButton } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    // console.log('item', item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + selectedMaster.recKey + '/reprint';\r\n    } else {\r\n      url += 'api/daycloses/' + selectedMaster.recKey + '/reprint';\r\n    }\r\n    console.log('debug', home.defaultPrinter);\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post reprint successful', response);\r\n\r\n        // to state\r\n\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || item.createUserId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleReprint(printer);\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { cashierPrinters, selectedButton, masters, availableMasters, details, searchText, receiptsxText,\r\n      selectedMaster, selectedDateString,\r\n      pays, headers,\r\n      overlayChoosePrinterVisible, overlayEnterDateVisible, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='REPRINT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <ScrollView\r\n                style={styles.selectionContainer}\r\n                alwaysBounceVertical={false}\r\n                showsVerticalScrollIndicator={false}>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'ORDERS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('ORDERS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'ORDERS' && { color: theme.grey1 }]}>ORDERS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'KOTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('KOTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'KOTS' && { color: theme.grey1 }]}>KOTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTS' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTSX' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTSX')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTSX' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                  <Text style={[styles.selectionText, { color: theme.paid }]}>UNKNOWN DATE</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'DAYCLOSES' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('DAYCLOSES')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'DAYCLOSES' && { color: theme.grey1 }]}>DAY CLOSES</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                {\r\n                  selectedButton !== 'RECEIPTSX' ?\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={searchText}\r\n                        onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                          Keyboard.dismiss()\r\n                        }}\r\n                      >\r\n                        <AntDesign name='close' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    :\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={receiptsxText}\r\n                        onChangeText={(text) => this.setState({ receiptsxText: text })}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.handlePressSearch();\r\n                          Keyboard.dismiss();\r\n                        }}\r\n                      >\r\n                        <AntDesign name='search1' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                }\r\n                <View style={styles.searchBoxInfo}>\r\n                  {\r\n                    selectedButton !== 'RECEIPTSX' &&\r\n                    <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                      onPress={() => this.handlePressDate()}\r\n                    >\r\n                      <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{selectedButton === 'RECEIPTSX' && moment(item.createDate).format(\"YYYY-MM-DD \")}{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX' ?\r\n                  <View style={styles.gridContainer}>\r\n                    <View style={styles.overlayHeader}>\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </View>\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>Qty</Text>\r\n                      </View>\r\n                      <View style={styles.titleSecondContainer}>\r\n                        <Text style={styles.titleText}>Desc</Text>\r\n                      </View>\r\n                      <View style={styles.titleThirdContainer}>\r\n                        <Text style={styles.titleText}>Price</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Total</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={details}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item }) => (\r\n                        <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <TouchableOpacity style={styles.tableItemSecondContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.netPrice && item.netPrice.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>No.</Text>\r\n                      </View>\r\n                      <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                        <Text style={styles.titleText}>PM ID</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Amount</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={pays}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item, index }) => (\r\n                        <TouchableOpacity\r\n                          style={[styles.tableItemContainer]}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                          <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.pmId}\r\n                            </Text>\r\n                            {\r\n                              item.payRef &&\r\n                              <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                                {item.payRef}\r\n                              </Text>\r\n                            }\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={{ flex: 1 }}>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>DISCOUNT</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={styles.gridContainer}>\r\n                    <TouchableOpacity style={styles.overlayHeader}\r\n                      onPress={() => this.setState({ selectedMaster: '', details: [] })}\r\n                    >\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </TouchableOpacity>\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                            <Text style={styles.titleText}>Payment Method</Text>\r\n                          </View>\r\n                          <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                            <Text style={styles.titleText}>Amount</Text>\r\n                          </View>\r\n                        </View>\r\n                        :\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={styles.titleFirstContainer}>\r\n                            <Text style={styles.titleText}>Qty</Text>\r\n                          </View>\r\n                          <View style={styles.titleSecondContainer}>\r\n                            <Text style={styles.titleText}>Desc</Text>\r\n                          </View>\r\n                          <View style={styles.titleThirdContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Price'}</Text>\r\n                          </View>\r\n                          <View style={styles.titleFourthContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Total'}</Text>\r\n                          </View>\r\n                        </View>\r\n                    }\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.tableItemContainer]}\r\n                            >\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                              >\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.pmId}\r\n                                </Text>\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  ${item.systemAmt && item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                        :\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.tableItemContainer]}\r\n                            >\r\n                              <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                              >\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.refRecKey ? '- ' : null}{item.menuName}\r\n                                </Text>\r\n                                {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemThirdContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.netPrice && item.netPrice.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.lineTotal && item.lineTotal.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                    }\r\n                  </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMaster && { opacity: 0.2 }]}\r\n                onPress={() => this.handleReprint()}\r\n                disabled={!selectedMaster}\r\n              >\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView, FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Resequence extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      selectedTableItems: [],\r\n      arrangedItems: props.route.params.tableItems.filter(el => el.confirmFlg === 'N'),\r\n\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n    this.handleAddLineBreak = this.handleAddLineBreak.bind(this);\r\n    this.handleRemoveLineBreak = this.handleRemoveLineBreak.bind(this);\r\n    this.handleResequence = this.handleResequence.bind(this);\r\n    this.handleShiftTop = this.handleShiftTop.bind(this);\r\n    this.handleShiftUp = this.handleShiftUp.bind(this);\r\n    this.handleShiftDown = this.handleShiftDown.bind(this);\r\n    this.handleShiftBottom = this.handleShiftBottom.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('menu selected', item);\r\n    const { selectedTableItems, arrangedItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = [];\r\n    selectedTableItemsUpdate.push(item);\r\n    let comboItems = [];\r\n    comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n    console.log('comboItems', comboItems);\r\n    comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleReset() {\r\n    this.setState({\r\n      arrangedItems: this.state.tableItems.filter(el => el.confirmFlg === 'N'),\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleAddLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'Y';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleRemoveLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'N';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftTop() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.unshift(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToOffset({ animated: true, offset: 0 }));\r\n  }\r\n\r\n  handleShiftUp() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === 0) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index - 1;\r\n    if (arrangedItems[spliceIndex].refRecKey) {\r\n      spliceIndex = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === arrangedItems[index - 1].refRecKey));\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftDown() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === arrangedItems.length - selectedTableItems.length) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index + 1;\r\n    if (arrangedItemsUpdate.some(el => el.refRecKey === arrangedItemsUpdate[index].recKey)) {\r\n      let skip = arrangedItems.filter(el => el.refRecKey === arrangedItemsUpdate[index].recKey).length;\r\n      console.log('skip', skip);\r\n      spliceIndex += skip;\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftBottom() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.push(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToEnd());\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleResequence() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, tableItems, arrangedItems } = this.state;\r\n\r\n    // count sent table items\r\n    let skip = tableItems.filter(el => el.confirmFlg === 'Y').length;\r\n    console.log('skip', skip);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/resequence';\r\n    const itemPayloads = arrangedItems.map((el, index) =>\r\n    ({\r\n      opentableItemRecKey: el.recKey,\r\n      lineNo: el.lineNo,\r\n      newLineNo: index + 1 + skip,\r\n      lineBreak: el.lineBreak,\r\n    })\r\n    );\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post resequence successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Resequence Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, tableItems, arrangedItems, selectedTableItems,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in resequence', selectedTableItems, arrangedItems);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleReset()}>\r\n              <AntDesign name='reload1' size={36} color='white' />\r\n              <Text style={styles.buttonText}>Reset</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              !selectedTableItems[0] ?\r\n                <View style={[styles.button, { opacity: 0.2 }]}>\r\n                  <AntDesign name='minus' size={36} color='white' />\r\n                  <Text style={styles.buttonText}>Add Break</Text>\r\n                </View>\r\n                :\r\n                selectedTableItems[0].lineBreak === 'Y' ?\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleRemoveLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Remove Break</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleAddLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Add Break</Text>\r\n                  </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleResequence()}>\r\n              <AntDesign name='bars' size={36} color={theme.reserved} />\r\n              <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('resequence')}</Text>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={arrangedItems}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <View>\r\n                {\r\n                  item.lineBreak === 'Y' &&\r\n                  <View style={styles.lineBreakContainer}>\r\n                    <Text style={[styles.tableItemText, { color: theme.paid }]}>- Line Break -</Text>\r\n                  </View>\r\n                }\r\n                <TouchableOpacity\r\n                  disabled={item.refRecKey ? true : false}\r\n                  style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                  onPress={() => this.handleSelectTableItem(item)}>\r\n                  <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.refRecKey && '- '}{item.menuName}\r\n                    </Text>\r\n                    {\r\n                      item.menuMod &&\r\n                      <Text style={styles.tableItemModText}>{item.menuMod}</Text>\r\n                    }\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                    </Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftTop()}>\r\n              <AntDesign name='arrowup' size={36} color='white' />\r\n              <Text style={styles.buttonText}>TOP</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftUp()}>\r\n              <AntDesign name='up' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftDown()}>\r\n              <AntDesign name='down' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftBottom()}>\r\n              <AntDesign name='arrowdown' size={36} color='white' />\r\n              <Text style={styles.buttonText}>BOTTOM</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  lineBreakContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Transfer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      tableItems: props.route.params.tableItems,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      tables: [],\r\n      availableTables: [],\r\n      selectedTargetTable: '',\r\n      selectedTableItems: [],\r\n      searchText: '',\r\n\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTargetTable = this.handleSelectTargetTable.bind(this);\r\n    this.handlePressSelectAll = this.handlePressSelectAll.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('tables', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.tableId !== selectedTable.tableId),\r\n          availableTables: response.filter(el => el.tableId !== selectedTable.tableId),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  generateTextForSelectAll() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return 'SELECT ALL';\r\n    } else {\r\n      return 'DESELECT ALL';\r\n    }\r\n  }\r\n\r\n  handlePressSelectAll() {\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    if (selectedTableItems.length === 0) {\r\n      this.setState({\r\n        selectedTableItems: tableItems,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedTableItems: [],\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTargetTable(item) {\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    })\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('tableitem selected', item);\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, selectedTableItems, selectedTargetTable, home, serviceEntry, privileges, settings } = this.state;\r\n\r\n    if (selectedTableItems.length === 0 || !selectedTargetTable) {\r\n      return;\r\n    }\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'TRANSFERITEMS')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // convert array to string without items with refRecKey\r\n    let converted = selectedTableItems.filter(el => !el.refRecKey).map(el => el.recKey).reduce((init, el) => { return init + el + ','; }, '');\r\n    console.log('converted', converted);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/transfer-items';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKeyFrom: selectedTable.recKey,\r\n      opentableRecKeyTo: selectedTargetTable.recKey,\r\n      opentableItemRecKeys: converted,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post transfer-items successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Transfer Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedTargetTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { tables, availableTables, searchText } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedTable, selectedTargetTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'TRANSFERITEMS',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access TRANSFERITEMS',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { tableItems, home, selectedTargetTable, availableTables, searchText, selectedTableItems,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in transfer');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='TRANSFERITEM'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3, alignItems: 'center', justifyContent: 'center' }]}>\r\n                  <TouchableOpacity\r\n                    onPress={() => this.handlePressSelectAll()}\r\n                  >\r\n                    <Text style={styles.titleText}>{this.generateTextForSelectAll()}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      onPress={() => this.handleSelectTableItem(item)}\r\n                      disabled={item.refRecKey ? true : false}\r\n                    >\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={[styles.searchBoxInfo, { justifyContent: 'center' }]}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableTables}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedTargetTable.tableId === item.tableId && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectTargetTable(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.sectionId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={[styles.gridFirstRightText, selectedTargetTable.tableId === item.tableId ? { color: 'white' } : { color: theme.occupied }]}>OCCUPIED</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.tableId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedTargetTable || selectedTableItems.length === 0) && { opacity: 0.2 }]}\r\n                onPress={() => this.handleSubmit()}\r\n                disabled={!selectedTargetTable || selectedTableItems.length === 0}\r\n              >\r\n                <AntDesign\r\n                  name='export'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('transfer')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayVoidReceipt extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      returns: props.returns,\r\n      availableReturns: props.returns,\r\n      selectedReturn: '',\r\n\r\n      remarks: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { returns, availableReturns } = this.state;\r\n    let availableReturnsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableReturns);\r\n\r\n    availableReturnsUpdate = returns;\r\n    if (!text) {\r\n      this.setState({\r\n        availableReturns: availableReturnsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableReturnsUpdate = availableReturnsUpdate.filter(item => {\r\n      return item.returnId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableReturns: availableReturnsUpdate\r\n    });\r\n  }\r\n\r\n  handleSubmit(item) {\r\n    const { remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    this.props.handleUpdateFromVoidReceipt(itemWithRemarks);\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableReturns, remarks } = this.state;\r\n    console.log('in overlayvoidreceipt, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Void Receipt</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromVoidReceipt('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableReturns.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableReturns}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.returnId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayVoidReceipt from './OverlayVoidReceipt';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Void extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayVoidReceiptVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      mode: 'VOID',\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleVoid = this.handleVoid.bind(this);\r\n    this.handlePressVoid = this.handlePressVoid.bind(this);\r\n    this.handlePressReopen = this.handlePressReopen.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromVoidReceipt = this.handleUpdateFromVoidReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n    console.log('item', item);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: moment(text).format('YYYY-MM-DD'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege, selectedPrinter, selectedReturn } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleVoid(selectedReturn, selectedPrinter, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleReopen') {\r\n      navigation.goBack();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromVoidReceipt(text) {\r\n    this.setState({ overlayVoidReceiptVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedReturn: text,\r\n    })\r\n    this.handleVoid(text);\r\n  }\r\n\r\n  handlePressReopen() {\r\n    this.setState({\r\n      mode: 'REOPEN',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handlePressVoid() {\r\n    this.setState({\r\n      mode: 'VOID',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handleVoid(item, printer, superUserId) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString, mode, } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (!item) {\r\n      this.setState({\r\n        overlayVoidReceiptVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'VOIDRECEIPT',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    if (mode === 'REOPEN') {\r\n      url = serviceEntry + 'api/void-receipt-reopen';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    } else {\r\n      url = serviceEntry + 'api/void-receipt';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    }\r\n    // return;\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post void-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'REOPEN' ? 'Reopen Receipt' : 'Void Receipt',\r\n            home.userName,\r\n            response.message,\r\n            (mode === 'REOPEN' && !response.message) ? response.opentable.tableId : '',\r\n            '',\r\n            selectedMaster.recKey + ',' + selectedMaster.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (mode === 'REOPEN') {\r\n          this.props.route.params.handleUpdateFromVoid(response);\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully, reopened Table ' + response.opentable.tableId,\r\n              ok: false,\r\n              cancel: false,\r\n              options: [{ text: 'Ok', handleText: 'handleReopen' }],\r\n            },\r\n            overlayAlertVisible: true,\r\n            reopenResponse: response,\r\n            loading: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully',\r\n              ok: true,\r\n              cancel: false,\r\n              options: [],\r\n            },\r\n            overlayAlertVisible: true,\r\n            masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            searches: response.receiptpaydtl,\r\n            selectedMaster: '',\r\n            headers: '',\r\n            details: '',\r\n            pays: '',\r\n            loading: false,\r\n          })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayRequestAccessVisible, overlayProcedureMessageVisible,\r\n      overlayVoidReceiptVisible, overlayAlertVisible, overlayAlertInputValue, requestedPrivilege,\r\n      loading, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayVoidReceiptVisible &&\r\n          <OverlayVoidReceipt\r\n            returns={this.props.route.params.masters.returns}\r\n            handleUpdateFromVoidReceipt={this.handleUpdateFromVoidReceipt} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TouchableOpacity style={styles.searchBoxInfo}\r\n                  onPress={() => this.handlePressDate()}\r\n                >\r\n                  <View style={styles.searchBoxInfoLeft}>\r\n                    <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressVoid()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.paid}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.paid }]}>{intl.get('void')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressReopen()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('reopen')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Collect extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: moment(text).format('YYYY-MM-DD'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressCollect(printer) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    url = serviceEntry + 'api/collection-receipt';\r\n    body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      receiptRecKey: selectedMaster.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      docDateString: selectedDateString,\r\n    };\r\n    console.log('body', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post collect-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Collect Receipt',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            selectedMaster.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayAlertInputValue: {\r\n            title: 'ALERT',\r\n            subtitle: 'Procedure Reply',\r\n            text: 'Receipt collected successfully',\r\n            ok: true,\r\n            cancel: false,\r\n            options: [],\r\n          },\r\n          overlayAlertVisible: true,\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedMaster: '',\r\n          headers: '',\r\n          details: '',\r\n          pays: '',\r\n          loading: false,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayProcedureMessageVisible,\r\n      overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TouchableOpacity style={styles.searchBoxInfo}\r\n                  onPress={() => this.handlePressDate()}\r\n                >\r\n                  <View style={styles.searchBoxInfoLeft}>\r\n                    <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                disabled={!selectedMaster || loading}\r\n                onPress={() => this.handlePressCollect()}>\r\n                <AntDesign\r\n                  name='gift'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('collect')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Table extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      mode: props.route.params.mode,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      vipSources: props.route.params.masters.vipSources,\r\n      availableVipSources: props.route.params.masters.vipSources,\r\n\r\n      overlayPax: props.route.params.mode === 'NEW' ? (props.route.params.masters.tablemas?.find(el => el.tableId === props.route.params.selectedTable.tableId)?.capacity || 2) : (props.route.params.selectedTable.pax || 0),\r\n      overlayVip: props.route.params.mode === 'NEW' ? null\r\n        : {\r\n          vipId: props.route.params.selectedTable.vipId || '',\r\n          vipName: props.route.params.selectedTable.vipName || '',\r\n          vipDisc: props.route.params.selectedTable.vipDisc || '',\r\n          vipPhone: props.route.params.selectedTable.vipPhone || '',\r\n          cumPts: props.route.params.selectedTable.cumPts || '',\r\n          vipPtsMoney: props.route.params.selectedTable.vipPtsMoney || '',\r\n          classId: props.route.params.selectedTable.classId || '',\r\n        },\r\n      overlayValidateVipId: '',\r\n      overlayValidateCardNumber: '',\r\n      overlayValidateNric: '',\r\n      overlayValidateVipName: '',\r\n      overlayValidateVipPhone: '',\r\n      overlayValidateVipPhoneCountryCode: '', // 65\r\n      overlayValidateEmailAddress: '',\r\n\r\n      vipResults: '',\r\n      selectedVipResult: '',\r\n\r\n      overlaySource: props.route.params.mode === 'NEW' ? ''\r\n        : {\r\n          sourceId: props.route.params.selectedTable.sourceId || '',\r\n        },\r\n      overlaySourceSearch: '',\r\n\r\n      overlayDeliveryFlg: props.route.params.mode === 'NEW' ? 'N' : (props.route.params.selectedTable.homeDelivery || ''),\r\n      overlayPostalCode: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.dpostalcode || ''),\r\n      overlayAddr1: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress1 || ''),\r\n      overlayAddr2: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress2 || ''),\r\n      overlayAddr3: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress3 || ''),\r\n      overlayAddr4: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress4 || ''),\r\n\r\n      activePage: 'PAX',\r\n      warning: '',\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n    this.handlePressTab = this.handlePressTab.bind(this);\r\n    this.handleSearchVip = this.handleSearchVip.bind(this);\r\n    this.handleEnterVip = this.handleEnterVip.bind(this);\r\n    this.handleClearVip = this.handleClearVip.bind(this);\r\n    this.handlePressNext = this.handlePressNext.bind(this);\r\n    this.handlePressPrev = this.handlePressPrev.bind(this);\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleAddressChange = this.handleAddressChange.bind(this);\r\n    this.handleCheckDeliveryFlg = this.handleCheckDeliveryFlg.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { navigation, } = this.props;\r\n    const { mode, home, serviceEntry, selectedTable, settings, overlayPax, overlayVip, overlaySource, overlayValidateVipName, overlayDeliveryFlg,\r\n      overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (!overlayPax && overlayPax !== 0) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + (mode === 'NEW' ? '/change-table-status' : '/update-table-info');\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: 'C',\r\n      pax: overlayPax,\r\n      // vipId: overlayVip?.vipId,\r\n      vipName: overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n      phone: overlayVip?.vipPhone,\r\n      reservationTime: '',\r\n      sourceId: overlaySource.sourceId,\r\n      deliveryFlg: overlayDeliveryFlg,\r\n      postalCode: overlayPostalCode,\r\n      addr1: overlayAddr1,\r\n      addr2: overlayAddr2,\r\n      addr3: overlayAddr3,\r\n      addr4: overlayAddr4,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post table-edit-open successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'NEW' ? 'Open Table' : 'Edit Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        if (mode === 'NEW') {\r\n          this.props.route.params.handleUpdateFromTable();\r\n        } else {\r\n          navigation.goBack();\r\n        }\r\n      })\r\n  }\r\n\r\n  handleAddressChange(type, text) {\r\n    if (type === 'POSTALCODE') {\r\n      this.setState({\r\n        overlayPostalCode: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR1') {\r\n      this.setState({\r\n        overlayAddr1: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR2') {\r\n      this.setState({\r\n        overlayAddr2: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR3') {\r\n      this.setState({\r\n        overlayAddr3: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR4') {\r\n      this.setState({\r\n        overlayAddr4: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    }\r\n  }\r\n\r\n  handleCheckDeliveryFlg() {\r\n    const { overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (overlayPostalCode || overlayAddr1 || overlayAddr2 || overlayAddr3 || overlayAddr4) {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'Y'\r\n      })\r\n    } else {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'N'\r\n      })\r\n    }\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayPax === 0) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handlePaxChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayPax: 0 })\r\n    } else {\r\n      this.setState({ overlayPax: Number(text) })\r\n    }\r\n  }\r\n\r\n  handlePressTab(type) {\r\n    const overlayPageWidth = Dimensions.get('window').width / 5 * 3;\r\n\r\n    if (type === 'VIP') {\r\n      this.setState({\r\n        activePage: 'VIP',\r\n      });\r\n    } else if (type === 'PAX') {\r\n      this.setState({\r\n        activePage: 'PAX',\r\n      });\r\n    } else if (type === 'SOURCE') {\r\n      this.setState({\r\n        activePage: 'SOURCE',\r\n      });\r\n    } else if (type === 'DELIVERY') {\r\n      this.setState({\r\n        activePage: 'DELIVERY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressNext() {\r\n    const { activePage } = this.state;\r\n    const overlayPageWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activePage === 'PAX') {\r\n      this.setState({\r\n        activePage: 'VIP',\r\n      });\r\n    } else if (activePage === 'VIP') {\r\n      this.setState({\r\n        activePage: 'SOURCE',\r\n      });\r\n    } else if (activePage === 'SOURCE') {\r\n      this.setState({\r\n        activePage: 'DELIVERY',\r\n      });\r\n    } else if (activePage === 'DELIVERY') {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressPrev() {\r\n    const { activePage } = this.state;\r\n    const overlayPageWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activePage === 'PAX') {\r\n      return;\r\n    } else if (activePage === 'VIP') {\r\n      this.setState({\r\n        activePage: 'PAX',\r\n      });\r\n    } else if (activePage === 'SOURCE') {\r\n      this.setState({\r\n        activePage: 'VIP',\r\n      });\r\n    } else if (activePage === 'DELIVERY') {\r\n      this.setState({\r\n        activePage: 'SOURCE',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateVipName,\r\n      overlayValidateNric, overlayValidateEmailAddress, overlayValidateVipPhone, overlayValidateVipPhoneCountryCode } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/search-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    if (overlayValidateVipId) {\r\n      body.vipId = overlayValidateVipId;\r\n    }\r\n    if (overlayValidateCardNumber) {\r\n      body.cardNumber = overlayValidateCardNumber;\r\n    }\r\n    if (overlayValidateVipName) {\r\n      body.vipName = overlayValidateVipName;\r\n    }\r\n    if (overlayValidateNric) {\r\n      body.nric = overlayValidateNric;\r\n    }\r\n    if (overlayValidateEmailAddress) {\r\n      body.emailAddress = overlayValidateEmailAddress;\r\n    }\r\n    if (overlayValidateVipPhone) {\r\n      body.vipPhone = overlayValidateVipPhone;\r\n      body.vipPhoneCountryCode = overlayValidateVipPhoneCountryCode\r\n    }\r\n    console.log('before searching vip', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Search Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'Invalid VIP search',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          warning: response.length + ' VIP result(s) found',\r\n          vipResults: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleEnterVip(item) {\r\n    this.setState({\r\n      selectedVipResult: item,\r\n    });\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/enter-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n      customerNumber: item.customerNumber,\r\n      name: item.name,\r\n      mobileNumber: item.mobileNumber,\r\n      emailAddress: item.emailaddress,\r\n      customerSource: item.customerSource,\r\n    };\r\n    console.log('before entering vip', item);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Input Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            item.customerNumber + ',' + item.name,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'VIP input unsuccessful',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP input successful',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClearVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-table-vip-info';\r\n    let body = {\r\n      vipId: '',\r\n      vipName: '',\r\n      classId: '',\r\n      vipDisc: '',\r\n      cumPts: '',\r\n      pts: '',\r\n      money: '',\r\n      cardNo: '',\r\n      birthday: '',\r\n      qrcode: '',\r\n      phone: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Clear Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: response.message,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP cleared',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { vipSources, availableVipSources } = this.state;\r\n    let availableVipSourcesUpdate = [];\r\n    this.setState({ overlaySourceSearch: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', availableVipSources);\r\n\r\n    availableVipSourcesUpdate = vipSources;\r\n    if (!text) {\r\n      this.setState({\r\n        availableVipSources: availableVipSourcesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableVipSourcesUpdate = availableVipSourcesUpdate.filter(item => {\r\n      return item.sourceId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableVipSources: availableVipSourcesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { mode, selectedTable, overlayProcedureMessageVisible,\r\n      overlayPax, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateEmailAddress,\r\n      overlayValidateVipPhone, overlayValidateVipPhoneCountryCode, overlayValidateVipName, overlayValidateNric,\r\n      overlaySource, overlaySourceSearch, vipResults, selectedVipResult,\r\n      overlayDeliveryFlg, overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4,\r\n      warning, activePage, availableVipSources } = this.state;\r\n    console.log('in overlayopentable');\r\n\r\n    const overlayPageWidth = Dimensions.get('window').width / 5 * 3;\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{mode === 'NEW' ? intl.get('open') : intl.get('edit')}</Text>\r\n            <Text style={styles.overlayText}>{warning ? warning : 'Enter Pax, VIP & Source'}</Text>\r\n          </View>\r\n          <View style={styles.tabsContainer}>\r\n            <TouchableOpacity style={[styles.tabContainer, activePage === 'PAX' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('PAX')}>\r\n              {\r\n                overlayPax !== null ?\r\n                  <Text style={[styles.tabFocusText, activePage === 'PAX' && { color: theme.grey1 }]}>\r\n                    {overlayPax}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activePage === 'PAX' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activePage === 'PAX' && { color: theme.grey1 }]}>\r\n                PAX\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activePage === 'VIP' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('VIP')}>\r\n              {\r\n                overlayVip?.vipId ?\r\n                  <Text style={[styles.tabFocusText, activePage === 'VIP' && { color: theme.grey1 }]}>\r\n                    {overlayVip?.vipId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activePage === 'VIP' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activePage === 'VIP' && { color: theme.grey1 }]}>\r\n                VIP\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activePage === 'SOURCE' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('SOURCE')}>\r\n              {\r\n                overlaySource.sourceId ?\r\n                  <Text style={[styles.tabFocusText, activePage === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    {overlaySource.sourceId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activePage === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activePage === 'SOURCE' && { color: theme.grey1 }]}>\r\n                SOURCE\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activePage === 'DELIVERY' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('DELIVERY')}>\r\n              {\r\n                overlayDeliveryFlg === 'Y' ?\r\n                  <Text style={[styles.tabFocusText, activePage === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    YES\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activePage === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    NO\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activePage === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                DELIVERY\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          {\r\n            activePage === 'PAX' ?\r\n              <View style={[styles.overlayPage, { width: overlayPageWidth }]}>\r\n                <View style={styles.adjustContainer}>\r\n                  <TouchableOpacity style={styles.adjustFirst}\r\n                    onPress={() => this.handleQtyChange('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.adjustSecond}>\r\n                    <TextInput style={styles.overlayPax}\r\n                      selectTextOnFocus\r\n                      keyboardType='numeric'\r\n                      value={overlayPax?.toString()}\r\n                      onChangeText={(searchText) => this.handlePaxChange(searchText)} />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.adjustThird}\r\n                    onPress={() => this.handleQtyChange('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 1 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 1 })}>\r\n                    <Text style={styles.buttonText}>1</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 2 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 2 })}>\r\n                    <Text style={styles.buttonText}>2</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 3 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 3 })}>\r\n                    <Text style={styles.buttonText}>3</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 4 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 4 })}>\r\n                    <Text style={styles.buttonText}>4</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 5 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 5 })}>\r\n                    <Text style={styles.buttonText}>5</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 6 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 6 })}>\r\n                    <Text style={styles.buttonText}>6</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 7 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 7 })}>\r\n                    <Text style={styles.buttonText}>7</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 8 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 8 })}>\r\n                    <Text style={styles.buttonText}>8</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 9 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 9 })}>\r\n                    <Text style={styles.buttonText}>9</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 10 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 10 })}>\r\n                    <Text style={styles.buttonText}>10</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 11 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 11 })}>\r\n                    <Text style={styles.buttonText}>11</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 12 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 12 })}>\r\n                    <Text style={styles.buttonText}>12</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              </View>\r\n              :\r\n              activePage === 'VIP' ?\r\n                <View style={[styles.overlayPage, { width: overlayPageWidth }]}>\r\n                  {\r\n                    (vipResults && vipResults.length !== 0) ?\r\n                      <View style={styles.selectWrapper}>\r\n                        <View style={styles.searchBoxWrapper}>\r\n                          <View style={[styles.overlaySearchBox, { marginHorizontal: 0, justifyContent: 'space-between', }]}>\r\n                            <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                              onPress={() => this.setState({ vipResults: '' })}\r\n                            >\r\n                              <AntDesign name='close' size={24} color='white' />\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <Text style={styles.searchBoxInfoText}>{vipResults.length} ITEMS</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={[{ flex: 1 }]}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={vipResults}\r\n                          keyExtractor={(item, index) => index.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.overlayGrid, item.customerNumber === selectedVipResult.customerNumber && { backgroundColor: theme.occupied }]}\r\n                              onPress={() => this.handleEnterVip(item)}>\r\n                              <View style={styles.overlayGridFirst}>\r\n                                <View style={styles.overlayGridFirstLeft}>\r\n                                  <Text style={styles.overlayGridFirstLeftText}>{item.customerNumber}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridFirstRight}>\r\n                                  <Text style={[styles.overlayGridFirstRightText, item.customerNumber === selectedVipResult.customerNumber && { color: 'white' }]}>{item.hasActiveMembership} {item.customerSource}</Text>\r\n                                </View>\r\n                              </View>\r\n                              <View style={styles.overlayGridSecond}>\r\n                                <Text style={styles.overlayGridSecondText}>\r\n                                  {item.name}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridThird}>\r\n                                <View style={styles.overlayGridThirdLeft}>\r\n                                  <Text style={styles.overlayGridThirdLeftText}>{item.emailaddress}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridThirdRight}>\r\n                                  <Text style={styles.overlayGridThirdRightText}>{item.mobileNumber ? item.mobileNumber : ' '}</Text>\r\n                                </View>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                      </View>\r\n                      :\r\n                      <View style={styles.vipInputsContainer}>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP ID'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipId) => this.setState({ overlayValidateVipId })}\r\n                            value={overlayValidateVipId}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='CARD NO.'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateCardNumber) => this.setState({ overlayValidateCardNumber })}\r\n                            value={overlayValidateCardNumber}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP NAME'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipName) => this.setState({ overlayValidateVipName })}\r\n                            value={overlayValidateVipName}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 50 }]}\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhoneCountryCode) => this.setState({ overlayValidateVipPhoneCountryCode })}\r\n                            value={overlayValidateVipPhoneCountryCode}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 130 }]}\r\n                            placeholder='VIP PHONE'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhone) => this.setState({ overlayValidateVipPhone })}\r\n                            value={overlayValidateVipPhone}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP EMAIL'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateEmailAddress) => this.setState({ overlayValidateEmailAddress })}\r\n                            value={overlayValidateEmailAddress}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <View style={{ flex: 1, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n                            <TouchableOpacity style={{ paddingHorizontal: 10, height: 20, margin: 5, borderRadius: 40, backgroundColor: theme.paid, alignItems: 'center', justifyContent: 'center' }}\r\n                              onPress={() => this.handleClearVip()}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 10, textTransform: 'uppercase', color: 'white' }}>{intl.get('remove')}</Text>\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP ID</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP CLASS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.classId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP DISC</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipDisc || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP NAME</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipName || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>CUMULATIVE PTS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.cumPts || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>REDEEMABLE</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipPtsMoney || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                      </View>\r\n                  }\r\n                </View>\r\n                :\r\n                activePage === 'SOURCE' ?\r\n                  <View style={[styles.overlayPage, { width: overlayPageWidth }]}>\r\n                    <View style={styles.selectWrapper}>\r\n                      <View style={styles.searchBoxWrapper}>\r\n                        <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                          <TextInput style={styles.overlaySearchBoxInput}\r\n                            placeholder='ENTER SEARCH TEXT'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            onChangeText={(overlaySourceSearch) => this.handleOverlaySearchText(overlaySourceSearch)}\r\n                            value={overlaySourceSearch}\r\n                          />\r\n                          <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                            onPress={() => {\r\n                              this.setState({ overlaySourceSearch: '', overlaySource: '' }, () => this.handleOverlaySearchText(''))\r\n                              Keyboard.dismiss()\r\n                            }}>\r\n                            <AntDesign name='close' size={24} color={theme.grey4} />\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.searchBoxInfo}>\r\n                        <Text style={styles.searchBoxInfoText}>{availableVipSources.length} ITEMS</Text>\r\n                      </View>\r\n                      <FlatList\r\n                        style={[{ flex: 1 }]}\r\n                        showsVerticalScrollIndicator={false}\r\n                        data={availableVipSources}\r\n                        keyExtractor={item => item.recKey.toString()}\r\n                        renderItem={({ item }) => (\r\n                          <TouchableOpacity\r\n                            style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                            onPress={() => this.setState({\r\n                              overlaySource: item,\r\n                              overlaySourceSearch: item.sourceId,\r\n                            })}\r\n                          >\r\n                            <View style={styles.overlayGridFirst}>\r\n                              <View style={styles.overlayGridFirstLeft}>\r\n                                <Text style={styles.overlayGridFirstLeftText}>{item.sourceId}</Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridFirstRight}>\r\n                                <Text style={styles.overlayGridFirstRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                            <View style={styles.overlayGridSecond}>\r\n                              <Text style={styles.overlayGridSecondText}>\r\n                                {item.name}\r\n                              </Text>\r\n                            </View>\r\n                            <View style={styles.overlayGridThird}>\r\n                              <View style={styles.overlayGridThirdLeft}>\r\n                              </View>\r\n                              <View style={styles.overlayGridThirdRight}>\r\n                                <Text style={styles.overlayGridThirdRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                          </TouchableOpacity>\r\n                        )}\r\n                      />\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={[styles.overlayPage, { width: overlayPageWidth }]}>\r\n                    <View style={styles.vipInputsContainer}>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={styles.vipInput}\r\n                          placeholder='POSTAL CODE'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('POSTALCODE', text)}\r\n                          value={overlayPostalCode}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR1'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR1', text)}\r\n                          value={overlayAddr1}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR2'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR2', text)}\r\n                          value={overlayAddr2}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR3'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR3', text)}\r\n                          value={overlayAddr3}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR4'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR4', text)}\r\n                          value={overlayAddr4}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n          }\r\n          <View style={styles.overlayOptionsContainer}>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='close' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {intl.get('close')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressPrev()} >\r\n              <AntDesign name='left' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                PREV\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressNext()} >\r\n              <AntDesign name='right' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                NEXT\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handleSubmit()}>\r\n              <AntDesign name={mode === 'NEW' ? 'appstore-o' : 'edit'} size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {mode === 'NEW' ? intl.get('open') : intl.get('edit')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: theme.grey2,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    flex: 1,\r\n    width: '60%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayPax: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 50,\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 50,\r\n  },\r\n  overlayOptionContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayOptionsContainer: {\r\n    height: 100,\r\n    marginTop: 20,\r\n    backgroundColor: theme.grey3,\r\n    flexDirection: 'row',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: 'white',\r\n    marginTop: 5,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayPage: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tabsContainer: {\r\n    height: 40,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginTop: 20,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 50,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlaySearchBoxButtonText: {\r\n    fontSize: 14,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase'\r\n  },\r\n  overlaySearchVipButton: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 110,\r\n  },\r\n  detailWrapper: {\r\n    alignItems: 'flex-end',\r\n    margin: 5,\r\n    width: 370 / 3,\r\n  },\r\n  detailText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  detailTitle: {\r\n    opacity: 0.6,\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    marginTop: 50,\r\n    width: 400,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, ScrollView, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedMenu.serviceFlg === 'N' ? 'B' : (props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : props.route.params.selectedTable?.sectionId === 'SYS' ? 'B' : 'A'),\r\n      lineBreak: props.route.params.selectedTableItem ? props.route.params.selectedTableItem.lineBreak : 'N',\r\n\r\n      modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedMenu.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((props.route.params.selectedTable?.sectionId === 'SYS' && props.route.params.masters.settings.find(el => el.setId === 'POSMODE')?.setString === 'A') ? `*${intl.get('takeaway')}  ` : '')),\r\n      modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount menu', this.state.selectedMenu, this.state.selectedTableItem)\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, modInput } = this.state;\r\n    let modInputUpdate = modInput;\r\n    if (orderType === 'A') {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      modInputUpdate = `*${intl.get('takeaway')}  ` + modInputUpdate;\r\n      this.setState({\r\n        orderType: 'B',\r\n        modInput: modInputUpdate,\r\n      });\r\n    } else {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      this.setState({\r\n        orderType: 'A',\r\n        modInput: modInputUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleLineBreak() {\r\n    const { lineBreak } = this.state;\r\n    this.setState({\r\n      lineBreak: lineBreak === 'Y' ? 'N' : 'Y',\r\n    });\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { modInput, selectedModBundle, modRecKeys } = this.state;\r\n    let modInputUpdate = modInput;\r\n    let modRecKeysUpdate = modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n    this.setState({\r\n      modInput: modInputUpdate,\r\n      modRecKeys: modRecKeysUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys } = this.state;\r\n\r\n    // need preference to auto go through\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (modBundles.filter(el => el.modmas.mustFlg === 'Y' && (el.modmas.globalFlg === 'Y' || mods.some(obj => obj.menuId === selectedMenu.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => modRecKeys.some(el => el === obj.recKey.toString())))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n              qtyInput,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading,\r\n      home, settings, selectedMenu, selectedTable, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          <ScrollView contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              selectedModBundle?.moditems.map(item =>\r\n                <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.doPressMod(item)}>\r\n                  <Text style={styles.modText}>{item.name}</Text>\r\n                  {\r\n                    item.listPrice !== 0 &&\r\n                    <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              )\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId} </Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.reserved, fontSize: 16, }}> ${selectedTableItem?.listPrice?.toFixed(2) || selectedMenu.listPrice?.toFixed(2)}</Text>\r\n                  </View>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM') || selectedMenu.listPrice === 0)}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={modInput}\r\n                  onChangeText={text => this.setState({ modInput: text })}\r\n                />\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    mods?.filter(el => el.menuId === selectedMenu.menuId).length > 0 &&\r\n                    <>\r\n                      <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                        <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MENU SPECIFIC MODIFIER</Text>\r\n                      </View>\r\n                      <View style={styles.modContainer}>\r\n                        {\r\n                          mods?.filter(el => el.menuId === selectedMenu.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                            <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                              onPress={() => this.doPressModBundle(item)}>\r\n                              <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                            </TouchableOpacity>\r\n                          )\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  }\r\n                  <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                    <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>GLOBAL MODIFIER</Text>\r\n                  </View>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      modBundles?.filter(el => el.modmas.globalFlg === 'Y').map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n              </View>\r\n\r\n              <View style={{ height: 100, margin: 5, marginTop: 0, flexDirection: 'row', backgroundColor: 'white' }}>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name='close' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4, textTransform: 'uppercase' }}>\r\n                    {intl.get('close')}\r\n                  </Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name='check' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4 }}>\r\n                    OK\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={{ margin: 5, width: 120, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={selectedMenu.serviceFlg === 'N'}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                {\r\n                  settings.find(el => el.setId === 'MARKFIRE')?.setString === 'Y' ?\r\n                    <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: lineBreak === 'N' ? theme.grey3 : theme.occupied, borderRadius: 5, marginVertical: 5 }}\r\n                      disabled={selectedTableItem?.confirmFlg === 'Y'}\r\n                      onPress={() => this.doToggleLineBreak()}>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase', fontSize: 10 }}>{lineBreak === 'N' ? intl.get('no') : intl.get('add')}</Text>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white' }}>LINE BREAK</Text>\r\n                    </TouchableOpacity>\r\n                    :\r\n                    <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                    </View>\r\n                }\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, View, Dimensions, TouchableOpacity } from 'react-native';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Scan extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      selectedTable: props.route.params.selectedTable,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      hasCameraPermission: null,\r\n      detected: false,\r\n    };\r\n    this.handleBarCodeScanned = this.handleBarCodeScanned.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { status } = await BarCodeScanner.requestPermissionsAsync();\r\n    this.setState({ hasCameraPermission: status === 'granted' });\r\n  }\r\n\r\n  handleBarCodeScanned({ type, data }) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, detected } = this.state;\r\n    this.setState({ detected: true }, () => {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        shopId: home.shopId,\r\n        vipId: home.vipId,\r\n        barcode: data,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            this.setState({ detected: false });\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('post scan-barcode successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Scan Barcode',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable?.tableId,\r\n              '',\r\n              data,\r\n            );\r\n          navigation.goBack();\r\n        })\r\n        .catch(error => {\r\n          console.log('error: ', JSON.stringify(error));\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { hasCameraPermission, detected } = this.state;\r\n\r\n    // if (hasCameraPermission === null) {\r\n    //     return <Text>Requesting for camera permission</Text>;\r\n    // }\r\n    // if (hasCameraPermission === false) {\r\n    //     return <Text>No access to camera</Text>;\r\n    // }\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <BarCodeScanner\r\n          onBarCodeScanned={detected ? null : this.handleBarCodeScanned}\r\n          style={{ flex: 1 }}\r\n        />\r\n        <TouchableOpacity style={styles.backButton}\r\n          onPress={() => navigation.goBack()}>\r\n          <AntDesign name='left' size={48} color='white' />\r\n          <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.iconContainer}>\r\n          <Ionicons name='ios-barcode' color={detected ? 'red' : 'white'} size={400} />\r\n        </View>\r\n      </ View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst windowWidth = Dimensions.get('window').width;\r\nconst windowHeight = Dimensions.get('window').height;\r\n\r\nconst styles = StyleSheet.create({\r\n  iconContainer: {\r\n    position: 'absolute',\r\n    right: windowWidth / 2 - 200,\r\n    top: windowHeight / 2 - 200,\r\n    opacity: 0.5,\r\n    width: 400,\r\n    height: 400,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backButton: {\r\n    position: 'absolute',\r\n    left: 50,\r\n    top: 50,\r\n    width: 100,\r\n    height: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 10,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, Fontisto, FontAwesome, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport moment from 'moment';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Trace extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      maps: [],\r\n      thisTable: props.route.params.selectedTable ? true : false,\r\n      thisUser: false,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doReload()\r\n  }\r\n\r\n  doReload() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser } = this.state;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doLoad() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser, maps } = this.state;\r\n    // end reached\r\n    if (maps.length < 40) return;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    params.append('recKey', maps[maps.length - 1].recKey);\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: [...maps, ...response],\r\n        });\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleTable() {\r\n    const { thisTable } = this.state;\r\n    this.setState({\r\n      thisTable: !thisTable,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  doToggleUser() {\r\n    const { thisUser } = this.state;\r\n    this.setState({\r\n      thisUser: !thisUser,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, selectedTable,\r\n      maps, thisUser, thisTable,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    // console.log('render trace', maps && maps[0]);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <TouchableOpacity style={styles.overlayHeader} onPress={() => this.traceRef.scrollToOffset({ animated: true, offset: 0 })}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('trace')}</Text>\r\n            <Text style={styles.overlayTitleText}></Text>\r\n          </TouchableOpacity>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.traceRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={maps}\r\n            onEndReachedThreshold={0.4}\r\n            onEndReached={() => this.doLoad()}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <ScrollView\r\n                style={{ minHeight: 40, paddingVertical: 5, }}\r\n                contentContainerStyle={{ alignItems: 'center' }}\r\n                horizontal\r\n                alwaysBounceHorizontal={false}\r\n                showsHorizontalScrollIndicator={false}>\r\n                <Text style={[styles.traceText, { textAlign: 'right', width: 40, color: theme.grey5 }]}>{moment(item.createDate).format('ddd')}</Text>\r\n                <Text style={[styles.traceText, { marginLeft: 10, }]}>{moment(item.createDate).format('HH:mm')}</Text>\r\n                <View style={{ width: 30, marginHorizontal: 5, alignItems: 'center', }}>\r\n                  {\r\n                    item.msg1 === 'Fire Course' &&\r\n                    <Fontisto name=\"fire\" size={20} color={theme.reserved} style={{ marginLeft: 1 }} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Send Order' &&\r\n                    <FontAwesome name=\"send\" size={18} color={theme.occupied} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Payment' &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.paid} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Dayclose' &&\r\n                    <MaterialCommunityIcons name=\"moon-full\" size={22} color={theme.reserved} style={{}} />\r\n                  }\r\n                  {\r\n                    (item.msg1 === 'Open Table' || item.msg1 === 'Create Table' || (item.msg1 === 'Reopen Receipt' && !item.msg3)) &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.occupied} style={{}} />\r\n                  }\r\n                </View>\r\n                <Text style={[styles.traceText, { color: theme.grey5 }]}>{item.msg2} </Text>\r\n                <Text style={[styles.traceText, { marginLeft: 5, color: theme.paid }]}>{item.msg1}</Text>\r\n                {\r\n                  item.msg5 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.reserved }]}>\"{item.msg5}\"</Text>\r\n                }\r\n                {\r\n                  item.msg6 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.vacant }]}>&#60;{item.msg6}&#62;</Text>\r\n                }\r\n                {\r\n                  item.msg4 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.occupied }]}>#{item.msg4}</Text>\r\n                }\r\n                {\r\n                  item.msg3 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.adhoc }]}>[{item.msg3}]</Text>\r\n                }\r\n              </ScrollView>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              onPress={() => this.doToggleUser()}>\r\n              <AntDesign\r\n                name='woman'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText} numberOfLines={1}>{thisUser ? home.userName : `${intl.get('all')} ${intl.get('user')}`}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              disabled={!selectedTable}\r\n              onPress={() => this.doToggleTable()}>\r\n              <AntDesign\r\n                name='appstore-o'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{thisTable ? `${intl.get('table')} ${selectedTable.tableId}` : `${intl.get('all')} ${intl.get('table')}`}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  traceText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n  }\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Activate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n      availableMenus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n\r\n      updateds: [],\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n\r\n      loading: false,\r\n    };\r\n    this.handleSelectMenu = this.handleSelectMenu.bind(this);\r\n    this.handleSelectUpdated = this.handleSelectUpdated.bind(this);\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleUpdateMenu = this.handleUpdateMenu.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleSelectMenu(item) {\r\n    const { menus, updateds } = this.state;\r\n    if (updateds.some(el => el.recKey === item.recKey)) {\r\n      return;\r\n    } else {\r\n      let updatedsUpdate = updateds;\r\n      updatedsUpdate.push(item);\r\n      this.setState({\r\n        updateds: updatedsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectUpdated(item) {\r\n    const { menus, updateds } = this.state;\r\n    let updatedsUpdate = updateds;\r\n    updatedsUpdate = updatedsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      updateds: updatedsUpdate,\r\n    })\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { updateds } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUpdateMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Update Menu',\r\n        text: 'Update ' + updateds.length + ' menus?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUpdateMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry, updateds } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let updatedsUpdate = updateds.map(el => ({\r\n      recKey: el.recKey,\r\n      newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n    }));\r\n\r\n    const restmenuRecKeys = updatedsUpdate.reduce((init, el) => { return init + el.recKey + ',' + el.newStatusFlg + ','; }, '');\r\n\r\n    let url = serviceEntry + 'api/update-restmenu';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKeys: restmenuRecKeys,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu successful');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            updateds.map(el => ({\r\n              menuId: el.menuId,\r\n              newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n            })).reduce((init, el) => { return init + el.menuId + ',' + el.newStatusFlg + ','; }, ''),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Login', { sync: new Date() });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus } = this.state;\r\n    if (displayMode === 'INACTIVE ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => el.statusFlg === 'B'),\r\n        searchText: '',\r\n        displayMode: 'INACTIVE ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleUpdateMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleUpdateMenu') {\r\n      this.handleUpdateMenu();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, updateds, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={styles.grid}\r\n                      onPress={() => this.handleSelectMenu(item)}>\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          {\r\n                            item.statusFlg === 'A' ?\r\n                              <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                              :\r\n                              <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                          }\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.menuName}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3 }]}>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                    <Text style={styles.titleText}>{updateds.length} Changes</Text>\r\n                  </View>\r\n                  <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                    <Text style={styles.titleText}>New Status</Text>\r\n                  </View>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}>\r\n                  {\r\n                    updateds ?\r\n                      updateds.map((item, index) => (\r\n                        <TouchableOpacity\r\n                          key={index}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handleSelectUpdated(item)}>\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              {\r\n                                item.statusFlg === 'B' ?\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                                  :\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                              }\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.menuName}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                      : null\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (loading || updateds.length === 0) && { opacity: 0.2 }]}\r\n                disabled={loading || updateds.length === 0}\r\n                onPress={() => this.handleSubmit()}>\r\n                <AntDesign\r\n                  name='bulb1'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Limit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n      availableMenus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      limiteds: [],\r\n      selectedMenu: null,\r\n      statusFlg: '',\r\n      serveLimit: '',\r\n\r\n      loading: false,\r\n    };\r\n\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // real time fast changing data\r\n    this.doGet();\r\n  }\r\n\r\n  doGet() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    // params.append('recKey', recKey);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          limiteds: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doSelectMenu(item) {\r\n    const { limiteds } = this.state;\r\n    this.setState({\r\n      selectedMenu: item,\r\n      statusFlg: item.statusFlg,\r\n      serveLimit: limiteds.find(el => el.recKey === item.recKey)?.serveLimit.toString() || '0',\r\n    })\r\n  }\r\n\r\n  doToggleStatus() {\r\n    const { statusFlg } = this.state;\r\n    if (statusFlg === 'A') {\r\n      this.setState({ statusFlg: 'B' })\r\n    } else {\r\n      this.setState({ statusFlg: 'A' })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { selectedMenu } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doLimitMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Limit Menu',\r\n        text: 'Limit ' + selectedMenu.menuName + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  doLimitMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry,\r\n      selectedMenu, statusFlg, serveLimit } = this.state;\r\n    // if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n    //   this.setState({\r\n    //     overlayRequestAccessVisible: true,\r\n    //   });\r\n    //   return;\r\n    // }\r\n\r\n    let url = serviceEntry + 'api/update-restmenu-serve';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      statusFlg: statusFlg,\r\n      serveLimit: serveLimit,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu-serve');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Limit Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            selectedMenu.menuName,\r\n            serveLimit + ',' + statusFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          loading: false,\r\n          displayMode: 'ALL',\r\n          menus: response,\r\n          availableMenus: response,\r\n        }, () => this.doGet())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus, availableMenus, limiteds } = this.state;\r\n    if (displayMode === 'LIMITED ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => limiteds.some(obj => obj.recKey === el.recKey)),\r\n        searchText: '',\r\n        displayMode: 'LIMITED ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.doLimitMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doLimitMenu') {\r\n      this.doLimitMenu();\r\n    }\r\n  }\r\n\r\n  renderItem(item) {\r\n    const { limiteds } = this.state;\r\n    const found = limiteds.find(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.grid}\r\n        onPress={() => this.doSelectMenu(item)}>\r\n        <View style={styles.gridFirst}>\r\n          <View style={styles.gridFirstLeft}>\r\n            <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n          </View>\r\n          <View style={styles.gridFirstRight}>\r\n            {\r\n              item.statusFlg === 'A' ?\r\n                <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                :\r\n                <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridSecond}>\r\n          <Text style={styles.gridSecondText}>\r\n            {item.menuName}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            {\r\n              found &&\r\n              <Text style={{ fontFamily: 'varela-round', color: theme.vacant, fontSize: 12 }}>LIMIT {found.serveLimit} SERVED {found.serveCount}</Text>\r\n            }\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, selectedMenu, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, statusFlg, serveLimit } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => this.renderItem(item)}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedMenu &&\r\n                <View style={{ flex: 1, backgroundColor: theme.grey3, borderRadius: 5 }}>\r\n                  <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}>{selectedMenu.menuName}</Text>\r\n                  </View>\r\n                  <View style={styles.inputContainer}>\r\n\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Status</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.inputRowRight}\r\n                        onPress={() => this.doToggleStatus()}>\r\n                        <Text style={[styles.inputRowRightText, { color: statusFlg === 'A' ? theme.reserved : theme.paid }]}>{statusFlg === 'A' ? 'Active' : 'Inactive'}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Limit</Text>\r\n                      </View>\r\n                      <View style={styles.inputRowRight}>\r\n                        <TextInput style={styles.textInput}\r\n                          keyboardType='numeric'\r\n                          selectTextOnFocus={true}\r\n                          value={serveLimit}\r\n                          onChangeText={text => this.setState({ serveLimit: text })}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={loading || !selectedMenu}\r\n                onPress={() => this.doSubmit()}>\r\n                <AntDesign\r\n                  name='staro'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  inputContainer: {\r\n    marginTop: 30,\r\n    marginHorizontal: 5,\r\n  },\r\n  inputRow: {\r\n    flexDirection: 'row',\r\n    height: 40,\r\n    margin: 5,\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    paddingLeft: 10,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  inputRowLeftText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  inputRowRightText: {\r\n    paddingHorizontal: 10,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, MaterialCommunityIcons, Feather } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Fire extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      kitchenmsgs: props.route.params.masters.kitchenmsgs,\r\n      kottypes: props.route.params.masters.kottypes,\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      remark: '',\r\n      selectedTableItems: [],\r\n      selectedKottypes: [],\r\n      selectedKitchenmsg: null,\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  doReset() {\r\n    Keyboard.dismiss();\r\n    this.setState({\r\n      selectedKitchenmsg: null,\r\n      selectedKottypes: [],\r\n      selectedTableItems: [],\r\n      remark: '',\r\n    })\r\n  }\r\n\r\n  doPressFire() {\r\n    const { selectedKottypes, selectedTableItems, remark } = this.state;\r\n    // let options = [];\r\n    // options.push({ text: 'Yes', handleText: 'doSubmit' });\r\n    // this.setState({\r\n    //   overlayAlertInputValue: {\r\n    //     title: intl.get('action'),\r\n    //     subtitle: 'Fire',\r\n    //     text: `${intl.get('fire')} \"${remark}\" (${selectedTableItems.map(el => el.menuId).join(',')}) (${selectedKottypes.map(el => el.kotType).join(',')})`,\r\n    //     ok: false,\r\n    //     cancel: true,\r\n    //     options: options,\r\n    //   },\r\n    //   overlayAlertVisible: true,\r\n    // });\r\n    this.doSubmit();\r\n  }\r\n\r\n  doPressKitchenmsg(item) {\r\n    const { selectedKitchenmsg, kottypes } = this.state;\r\n    if (selectedKitchenmsg?.recKey === item?.recKey) {\r\n      this.setState({\r\n        selectedKitchenmsg: null,\r\n        remark: '',\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKitchenmsg: item,\r\n        remark: item.name,\r\n        selectedKottypes: item.kotTypes?.split(',').map(el => kottypes.find(obj => obj.kotType === el)) || [],\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressTableItem(item) {\r\n    const { selectedTableItems, } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate = selectedTableItems.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedTableItemsUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressKottype(item) {\r\n    const { selectedKottypes } = this.state;\r\n    let selectedKottypesUpdate = selectedKottypes;\r\n    if (selectedKottypes.some(el => el.recKey === item.recKey)) {\r\n      selectedKottypesUpdate = selectedKottypes.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedKottypesUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedKottypes: selectedKottypesUpdate,\r\n    })\r\n  }\r\n\r\n  doPressAllKottype() {\r\n    const { selectedKottypes, kottypes } = this.state;\r\n    if (!kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey))) {\r\n      this.setState({\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKottypes: kottypes,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSubmit') {\r\n      this.doSubmit();\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, masters, settings,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes, remark } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/fire-kot';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      remark: remark,\r\n      kotTypes: selectedKottypes.map(el => el.kotType).join(','),\r\n      opentableItemRecKeys: selectedTableItems.map(el => el.recKey).join(','),\r\n      msgId: selectedKitchenmsg?.msgId,\r\n    };\r\n    console.log(body)\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post fire-kot successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Fire Course',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            remark + ' (' + selectedTableItems.map(el => el.menuId).join(',') + ')' + ' (' + selectedKottypes.map(el => el.kotType).join(',') + ')',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, remark, kottypes, kitchenmsgs, tableItems,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n    } = this.state;\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.navigateButton}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER MESSAGE'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={remark}\r\n                    onChangeText={(text) => this.setState({ remark: text })}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => this.doReset()}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1, marginHorizontal: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kitchenmsgs}\r\n                  numColumns={2}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, { marginHorizontal: 2.5 }, selectedKitchenmsg?.recKey === item?.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKitchenmsg(item)}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.name}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      disabled={item.refRecKey ? true : false}\r\n                      onPress={() => this.doPressTableItem(item)}>\r\n                      <View style={[styles.tableItemFirstContainer, item.fireFlg === 'Y' && { borderRightColor: theme.reserved }]}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ paddingLeft: 10, alignItems: 'center', justifyContent: 'center', }}>\r\n                    <Text style={styles.titleText}>Destination</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    {\r\n                      selectedKottypes.length > 1 ?\r\n                        <Text style={[styles.titleText, { color: 'white' }]}>Various</Text>\r\n                        :\r\n                        selectedKottypes.length === 1 ?\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{kottypes?.find(el => el.kotType === selectedKottypes[0].kotType)?.kotName}</Text>\r\n                          :\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>-</Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kottypes}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  ListHeaderComponent={\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, !kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey)) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressAllKottype()}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ALL KOT PRINTERS\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedKottypes.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKottype(item)}>\r\n                      <View style={[styles.tableItemSecondContainer, { flexDirection: 'row', justifyContent: 'space-between', paddingRight: 10, alignItems: 'center' }]}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotName}\r\n                        </Text>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotType}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.navigateButton, ((selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark) && { opacity: 0.2 }]}\r\n                disabled={(selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark}\r\n                onPress={() => this.doPressFire()}>\r\n                <AntDesign\r\n                  name='customerservice'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('fire')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  navigateButton: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  navigateButtonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, SectionList, ScrollView, FlatList, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Combo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n\r\n      comboGroups: props.route.params.masters.comboGroups.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      comboItems: props.route.params.masters.comboItems.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      selectedComboItems: [],\r\n      selectedComboItem: null,\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : props.route.params.selectedTable?.sectionId === 'SYS' ? 'B' : 'A',\r\n\r\n      // modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedTable?.sectionId === 'SYS' ? `*${intl.get('takeaway')}  ` : ''),\r\n      // modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount menu', this.state.comboItems)\r\n    this.doPrepareComboItems();\r\n  }\r\n\r\n  doPrepareComboItems() {\r\n    const { comboItems } = this.state;\r\n    let comboItemsUpdate = comboItems.map(el => ({\r\n      ...el,\r\n      modInput: '',\r\n      modRecKeys: [],\r\n    }));\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doComboItemModInput(text) {\r\n    const { comboItems, selectedComboItem } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = text;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressComboItem(item) {\r\n    const { selectedComboItems } = this.state;\r\n    let selectedComboItemsUpdate = selectedComboItems;\r\n    if (selectedComboItems.some(el => el.recKey === item.recKey)) {\r\n      selectedComboItemsUpdate = selectedComboItems.filter(el => el.recKey !== item.recKey);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: null,\r\n      })\r\n    } else {\r\n      selectedComboItemsUpdate.push(item);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: item,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, comboItems } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n\r\n    if (orderType === 'A') {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n        el.modInput = `*${intl.get('takeaway')}  ` + el.modInput;\r\n      })\r\n      this.setState({\r\n        orderType: 'B',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    } else {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n      })\r\n      this.setState({\r\n        orderType: 'A',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { selectedModBundle, selectedComboItem, comboItems } = this.state;\r\n    let modInputUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput;\r\n    let modRecKeysUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = modInputUpdate;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modRecKeys = modRecKeysUpdate;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      comboGroups, comboItems, selectedComboItems,\r\n      menuName, qtyInput, orderType, } = this.state;\r\n\r\n    // need preference to auto go through\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // if (modBundles.filter(el => el.modmas.mustFlg === 'Y' && (el.modmas.globalFlg === 'Y' || mods.some(obj => obj.menuId === selectedMenu.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => modRecKeys.some(el => el === obj.recKey.toString())))) {\r\n    //   this.setState({\r\n    //     overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n    //     loading: false,\r\n    //   })\r\n    //   return;\r\n    // }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading, preference,\r\n      home, selectedMenu, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      menuName, qtyInput, orderType,\r\n      comboGroups, comboItems, selectedComboItems, selectedComboItem,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          {\r\n            selectedComboItem &&\r\n            <View style={{ flex: 1, marginVertical: 10, marginLeft: 0, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginVertical: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedComboItem.menuId}</Text>\r\n                  <Text style={{\r\n                    fontFamily: 'varela-round',\r\n                    color: 'white',\r\n                    fontSize: 20,\r\n                    textAlign: 'center',\r\n                    paddingHorizontal: 20,\r\n                  }} numberOfLines={2}>{selectedComboItem.menuName}</Text>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput}\r\n                  onChangeText={text => this.doComboItemModInput(text)}\r\n                />\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    mods?.filter(el => el.menuId === selectedMenu.menuId).length > 0 &&\r\n                    <>\r\n                      <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                        <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MENU SPECIFIC MODIFIER</Text>\r\n                      </View>\r\n                      <View style={styles.modContainer}>\r\n                        {\r\n                          mods?.filter(el => el.menuId === selectedMenu.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                            <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                              onPress={() => this.doPressModBundle(item)}>\r\n                              <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                            </TouchableOpacity>\r\n                          )\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  }\r\n                  <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                    <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>GLOBAL MODIFIER</Text>\r\n                  </View>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      modBundles?.filter(el => el.modmas.globalFlg === 'Y').map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n                <View style={{ flex: 1, backgroundColor: theme.grey4 }}>\r\n                  <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                    <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>OPTIONS</Text>\r\n                  </View>\r\n                  <ScrollView contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n                    showsVerticalScrollIndicator={false}>\r\n                    {\r\n                      selectedModBundle?.moditems.map(item =>\r\n                        <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, comboItems.find(el => el.recKey === selectedComboItem.recKey)?.modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                          onPress={() => this.doPressMod(item)}>\r\n                          <Text style={styles.modText}>{item.name}</Text>\r\n                          {\r\n                            item.listPrice !== 0 &&\r\n                            <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                          }\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          }\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM'))}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <ScrollView\r\n                  style={{ flex: 1, backgroundColor: theme.grey2, paddingBottom: 5 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    comboGroups.map(el =>\r\n                      <View key={el.recKey.toString()}>\r\n                        <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', }}>\r\n                          <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: 'white', }}>{el.groupName}</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={{ margin: -2.5 }}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={comboItems.filter(obj => obj.groupNo === el.groupNo)}\r\n                          numColumns={preference.mcolsize}\r\n                          keyExtractor={(item, index) => item.recKey.toString()}\r\n                          renderItem={({ item }) => this.renderComboItem(item)}\r\n                        />\r\n                      </View>\r\n                    )\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n            </View>\r\n            <View style={{ margin: 5, width: 120, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderComboItem(item) {\r\n    const { preference, selectedComboItems } = this.state;\r\n    const found = selectedComboItems.some(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <View style={[{ margin: 2.5, flexDirection: 'row', height: 90, backgroundColor: found ? theme.occupied : theme.grey4, }]}>\r\n          <TouchableOpacity\r\n            style={{ width: 50, backgroundColor: found ? 'rgba(0,0,0,0.4)' : theme.grey3, justifyContent: 'center', alignItems: 'center' }}\r\n            onPress={() => this.setState({ selectedComboItem: item })}>\r\n            <AntDesign name=\"ellipsis1\" size={18} color={'black'} />\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={{ flex: 1, padding: 10 }}\r\n            onPress={() => this.doPressComboItem(item)}>\r\n            <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 12, }}></Text>\r\n              <Text style={[{ fontFamily: 'varela-round', fontSize: 12, color: Number(item.addonPrice) === 0 ? 'transparent' : found ? 'white' : theme.reserved }]}>+{item.addonPrice?.toFixed(2)}</Text>\r\n            </View>\r\n            <View style={{ flex: 1 }}>\r\n              <Text style={{ fontFamily: 'varela-round', color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n            </View>\r\n            <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <Text style={{ fontFamily: 'varela-round', color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}></Text>\r\n              <Text style={{ fontFamily: 'varela-round', color: found ? 'white' : theme.paid, fontSize: 12, }}>{item.menuId}</Text>\r\n            </View>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport { StyleSheet, Text, View, Platform } from 'react-native';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport * as Font from 'expo-font';\r\nimport intl from 'react-intl-universal';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\n\r\nimport Login from './src/Login';\r\nimport Main from './src/Main';\r\nimport Register from './src/Register';\r\nimport Preference from './src/Preference';\r\nimport Pos from './src/Pos';\r\nimport Split from './src/Split';\r\nimport Adhoc from './src/Adhoc';\r\nimport Dayclose from './src/Dayclose';\r\nimport Printer from './src/Printer';\r\nimport Report from './src/Report';\r\nimport Reprint from './src/Reprint';\r\nimport Resequence from './src/Resequence';\r\nimport Transfer from './src/Transfer';\r\nimport Void from './src/Void';\r\nimport Collect from './src/Collect';\r\nimport Table from './src/Table';\r\nimport Menu from './src/Menu';\r\nimport Scan from './src/Scan';\r\nimport Trace from './src/Trace';\r\nimport Activate from './src/Activate';\r\nimport Limit from './src/Limit';\r\nimport Fire from './src/Fire';\r\nimport Combo from './src/Combo';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n  }\r\n\r\n  async componentDidMount() {\r\n\r\n    // locale data\r\n    const locales = {\r\n      \"zhs\": require('./assets/zhs.json'),\r\n      \"zht\": require('./assets/zht.json'),\r\n      \"en\": require('./assets/en.json'),\r\n      \"ja\": require('./assets/ja.json'),\r\n    };\r\n\r\n    const currentLocale = await AsyncStorage.getItem('language');\r\n\r\n    await intl.init({\r\n      currentLocale: currentLocale || 'en',\r\n      locales,\r\n    });\r\n\r\n    // ttf for native, woff for web\r\n    await Font.loadAsync({\r\n      // 'varela-round': require('./assets/VarelaRound-Regular.ttf'),\r\n      'varela-round': require('./assets/VarelaRound-Regular.woff'),\r\n    })\r\n\r\n    if (Platform.OS !== 'web') {\r\n      BarCodeScanner.getPermissionsAsync()\r\n        .then(response => {\r\n          if (response.status !== 'granted') return BarCodeScanner.requestPermissionsAsync();\r\n          return Promise.resolve(response);\r\n        })\r\n    }\r\n\r\n    this.setState({ loading: false })\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n\r\n    if (loading) return <View></View>;\r\n\r\n    return (\r\n      <NavigationContainer>\r\n        <StatusBar hidden />\r\n        <Stack.Navigator\r\n          screenOptions={{\r\n            headerShown: false,\r\n            animation: 'none',\r\n            gestureEnabled: false,\r\n          }}>\r\n          <Stack.Screen name=\"Login\" component={Login} options={Login.navigationOptions} />\r\n          <Stack.Screen name=\"Register\" component={Register} options={Register.navigationOptions} />\r\n          <Stack.Screen name=\"Preference\" component={Preference} options={Preference.navigationOptions} />\r\n          <Stack.Screen name=\"Main\" component={Main} options={Main.navigationOptions} />\r\n          <Stack.Screen name=\"Pos\" component={Pos} options={Pos.navigationOptions} />\r\n          <Stack.Screen name=\"Split\" component={Split} options={Split.navigationOptions} />\r\n          <Stack.Screen name=\"Void\" component={Void} options={Void.navigationOptions} />\r\n          <Stack.Screen name=\"Collect\" component={Collect} options={Collect.navigationOptions} />\r\n          <Stack.Screen name=\"Transfer\" component={Transfer} options={Transfer.navigationOptions} />\r\n          <Stack.Screen name=\"Resequence\" component={Resequence} options={Resequence.navigationOptions} />\r\n          <Stack.Screen name=\"Reprint\" component={Reprint} options={Reprint.navigationOptions} />\r\n          <Stack.Screen name=\"Report\" component={Report} options={Report.navigationOptions} />\r\n          <Stack.Screen name=\"Printer\" component={Printer} options={Printer.navigationOptions} />\r\n          <Stack.Screen name=\"Dayclose\" component={Dayclose} options={Dayclose.navigationOptions} />\r\n          <Stack.Screen name=\"Adhoc\" component={Adhoc} options={Adhoc.navigationOptions} />\r\n          <Stack.Screen name=\"Scan\" component={Scan} options={Scan.navigationOptions} />\r\n          <Stack.Screen name=\"Trace\" component={Trace} options={Trace.navigationOptions} />\r\n          <Stack.Screen name=\"Activate\" component={Activate} options={Activate.navigationOptions} />\r\n          <Stack.Screen name=\"Limit\" component={Limit} options={Limit.navigationOptions} />\r\n          <Stack.Screen name=\"Table\" component={Table} options={Table.navigationOptions} />\r\n          <Stack.Screen name=\"Fire\" component={Fire} options={Fire.navigationOptions} />\r\n          <Stack.Screen name=\"Menu\" component={Menu} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n          <Stack.Screen name=\"Combo\" component={Combo} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n        </Stack.Navigator>\r\n      </NavigationContainer>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n","var map = {\n\t\"./af\": 161,\n\t\"./af.js\": 161,\n\t\"./ar\": 162,\n\t\"./ar-dz\": 163,\n\t\"./ar-dz.js\": 163,\n\t\"./ar-kw\": 164,\n\t\"./ar-kw.js\": 164,\n\t\"./ar-ly\": 165,\n\t\"./ar-ly.js\": 165,\n\t\"./ar-ma\": 166,\n\t\"./ar-ma.js\": 166,\n\t\"./ar-sa\": 167,\n\t\"./ar-sa.js\": 167,\n\t\"./ar-tn\": 168,\n\t\"./ar-tn.js\": 168,\n\t\"./ar.js\": 162,\n\t\"./az\": 169,\n\t\"./az.js\": 169,\n\t\"./be\": 170,\n\t\"./be.js\": 170,\n\t\"./bg\": 171,\n\t\"./bg.js\": 171,\n\t\"./bm\": 172,\n\t\"./bm.js\": 172,\n\t\"./bn\": 173,\n\t\"./bn-bd\": 174,\n\t\"./bn-bd.js\": 174,\n\t\"./bn.js\": 173,\n\t\"./bo\": 175,\n\t\"./bo.js\": 175,\n\t\"./br\": 176,\n\t\"./br.js\": 176,\n\t\"./bs\": 177,\n\t\"./bs.js\": 177,\n\t\"./ca\": 178,\n\t\"./ca.js\": 178,\n\t\"./cs\": 179,\n\t\"./cs.js\": 179,\n\t\"./cv\": 180,\n\t\"./cv.js\": 180,\n\t\"./cy\": 181,\n\t\"./cy.js\": 181,\n\t\"./da\": 182,\n\t\"./da.js\": 182,\n\t\"./de\": 183,\n\t\"./de-at\": 184,\n\t\"./de-at.js\": 184,\n\t\"./de-ch\": 185,\n\t\"./de-ch.js\": 185,\n\t\"./de.js\": 183,\n\t\"./dv\": 186,\n\t\"./dv.js\": 186,\n\t\"./el\": 187,\n\t\"./el.js\": 187,\n\t\"./en-au\": 188,\n\t\"./en-au.js\": 188,\n\t\"./en-ca\": 189,\n\t\"./en-ca.js\": 189,\n\t\"./en-gb\": 190,\n\t\"./en-gb.js\": 190,\n\t\"./en-ie\": 191,\n\t\"./en-ie.js\": 191,\n\t\"./en-il\": 192,\n\t\"./en-il.js\": 192,\n\t\"./en-in\": 193,\n\t\"./en-in.js\": 193,\n\t\"./en-nz\": 194,\n\t\"./en-nz.js\": 194,\n\t\"./en-sg\": 195,\n\t\"./en-sg.js\": 195,\n\t\"./eo\": 196,\n\t\"./eo.js\": 196,\n\t\"./es\": 197,\n\t\"./es-do\": 198,\n\t\"./es-do.js\": 198,\n\t\"./es-mx\": 199,\n\t\"./es-mx.js\": 199,\n\t\"./es-us\": 200,\n\t\"./es-us.js\": 200,\n\t\"./es.js\": 197,\n\t\"./et\": 201,\n\t\"./et.js\": 201,\n\t\"./eu\": 202,\n\t\"./eu.js\": 202,\n\t\"./fa\": 203,\n\t\"./fa.js\": 203,\n\t\"./fi\": 204,\n\t\"./fi.js\": 204,\n\t\"./fil\": 205,\n\t\"./fil.js\": 205,\n\t\"./fo\": 206,\n\t\"./fo.js\": 206,\n\t\"./fr\": 207,\n\t\"./fr-ca\": 208,\n\t\"./fr-ca.js\": 208,\n\t\"./fr-ch\": 209,\n\t\"./fr-ch.js\": 209,\n\t\"./fr.js\": 207,\n\t\"./fy\": 210,\n\t\"./fy.js\": 210,\n\t\"./ga\": 211,\n\t\"./ga.js\": 211,\n\t\"./gd\": 212,\n\t\"./gd.js\": 212,\n\t\"./gl\": 213,\n\t\"./gl.js\": 213,\n\t\"./gom-deva\": 214,\n\t\"./gom-deva.js\": 214,\n\t\"./gom-latn\": 215,\n\t\"./gom-latn.js\": 215,\n\t\"./gu\": 216,\n\t\"./gu.js\": 216,\n\t\"./he\": 217,\n\t\"./he.js\": 217,\n\t\"./hi\": 218,\n\t\"./hi.js\": 218,\n\t\"./hr\": 219,\n\t\"./hr.js\": 219,\n\t\"./hu\": 220,\n\t\"./hu.js\": 220,\n\t\"./hy-am\": 221,\n\t\"./hy-am.js\": 221,\n\t\"./id\": 222,\n\t\"./id.js\": 222,\n\t\"./is\": 223,\n\t\"./is.js\": 223,\n\t\"./it\": 224,\n\t\"./it-ch\": 225,\n\t\"./it-ch.js\": 225,\n\t\"./it.js\": 224,\n\t\"./ja\": 226,\n\t\"./ja.js\": 226,\n\t\"./jv\": 227,\n\t\"./jv.js\": 227,\n\t\"./ka\": 228,\n\t\"./ka.js\": 228,\n\t\"./kk\": 229,\n\t\"./kk.js\": 229,\n\t\"./km\": 230,\n\t\"./km.js\": 230,\n\t\"./kn\": 231,\n\t\"./kn.js\": 231,\n\t\"./ko\": 232,\n\t\"./ko.js\": 232,\n\t\"./ku\": 233,\n\t\"./ku.js\": 233,\n\t\"./ky\": 234,\n\t\"./ky.js\": 234,\n\t\"./lb\": 235,\n\t\"./lb.js\": 235,\n\t\"./lo\": 236,\n\t\"./lo.js\": 236,\n\t\"./lt\": 237,\n\t\"./lt.js\": 237,\n\t\"./lv\": 238,\n\t\"./lv.js\": 238,\n\t\"./me\": 239,\n\t\"./me.js\": 239,\n\t\"./mi\": 240,\n\t\"./mi.js\": 240,\n\t\"./mk\": 241,\n\t\"./mk.js\": 241,\n\t\"./ml\": 242,\n\t\"./ml.js\": 242,\n\t\"./mn\": 243,\n\t\"./mn.js\": 243,\n\t\"./mr\": 244,\n\t\"./mr.js\": 244,\n\t\"./ms\": 245,\n\t\"./ms-my\": 246,\n\t\"./ms-my.js\": 246,\n\t\"./ms.js\": 245,\n\t\"./mt\": 247,\n\t\"./mt.js\": 247,\n\t\"./my\": 248,\n\t\"./my.js\": 248,\n\t\"./nb\": 249,\n\t\"./nb.js\": 249,\n\t\"./ne\": 250,\n\t\"./ne.js\": 250,\n\t\"./nl\": 251,\n\t\"./nl-be\": 252,\n\t\"./nl-be.js\": 252,\n\t\"./nl.js\": 251,\n\t\"./nn\": 253,\n\t\"./nn.js\": 253,\n\t\"./oc-lnc\": 254,\n\t\"./oc-lnc.js\": 254,\n\t\"./pa-in\": 255,\n\t\"./pa-in.js\": 255,\n\t\"./pl\": 256,\n\t\"./pl.js\": 256,\n\t\"./pt\": 257,\n\t\"./pt-br\": 258,\n\t\"./pt-br.js\": 258,\n\t\"./pt.js\": 257,\n\t\"./ro\": 259,\n\t\"./ro.js\": 259,\n\t\"./ru\": 260,\n\t\"./ru.js\": 260,\n\t\"./sd\": 261,\n\t\"./sd.js\": 261,\n\t\"./se\": 262,\n\t\"./se.js\": 262,\n\t\"./si\": 263,\n\t\"./si.js\": 263,\n\t\"./sk\": 264,\n\t\"./sk.js\": 264,\n\t\"./sl\": 265,\n\t\"./sl.js\": 265,\n\t\"./sq\": 266,\n\t\"./sq.js\": 266,\n\t\"./sr\": 267,\n\t\"./sr-cyrl\": 268,\n\t\"./sr-cyrl.js\": 268,\n\t\"./sr.js\": 267,\n\t\"./ss\": 269,\n\t\"./ss.js\": 269,\n\t\"./sv\": 270,\n\t\"./sv.js\": 270,\n\t\"./sw\": 271,\n\t\"./sw.js\": 271,\n\t\"./ta\": 272,\n\t\"./ta.js\": 272,\n\t\"./te\": 273,\n\t\"./te.js\": 273,\n\t\"./tet\": 274,\n\t\"./tet.js\": 274,\n\t\"./tg\": 275,\n\t\"./tg.js\": 275,\n\t\"./th\": 276,\n\t\"./th.js\": 276,\n\t\"./tk\": 277,\n\t\"./tk.js\": 277,\n\t\"./tl-ph\": 278,\n\t\"./tl-ph.js\": 278,\n\t\"./tlh\": 279,\n\t\"./tlh.js\": 279,\n\t\"./tr\": 280,\n\t\"./tr.js\": 280,\n\t\"./tzl\": 281,\n\t\"./tzl.js\": 281,\n\t\"./tzm\": 282,\n\t\"./tzm-latn\": 283,\n\t\"./tzm-latn.js\": 283,\n\t\"./tzm.js\": 282,\n\t\"./ug-cn\": 284,\n\t\"./ug-cn.js\": 284,\n\t\"./uk\": 285,\n\t\"./uk.js\": 285,\n\t\"./ur\": 286,\n\t\"./ur.js\": 286,\n\t\"./uz\": 287,\n\t\"./uz-latn\": 288,\n\t\"./uz-latn.js\": 288,\n\t\"./uz.js\": 287,\n\t\"./vi\": 289,\n\t\"./vi.js\": 289,\n\t\"./x-pseudo\": 290,\n\t\"./x-pseudo.js\": 290,\n\t\"./yo\": 291,\n\t\"./yo.js\": 291,\n\t\"./zh-cn\": 292,\n\t\"./zh-cn.js\": 292,\n\t\"./zh-hk\": 293,\n\t\"./zh-hk.js\": 293,\n\t\"./zh-mo\": 294,\n\t\"./zh-mo.js\": 294,\n\t\"./zh-tw\": 295,\n\t\"./zh-tw.js\": 295\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 416;","module.exports = \"data:font/woff;base64,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\""],"sourceRoot":""}