{"version":3,"file":"static/js/main.24928457.js","mappings":"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","sources":["assets/utility.js","assets/theme.js","src/OverlayProcedureMessage.js","src/OverlayLanguage.js","src/OverlayAlert.js","src/Preference.js","src/Login.js","src/MainTable.js","src/MainMenu.js","src/OverlayAutoLogout.js","src/OverlayDeposit.js","src/OverlayScanBarcode.js","src/OverlayRequestAccess.js","src/OverlayChangePrice.js","src/OverlayLineDiscount.js","src/OverlayHeaderDiscount.js","src/OverlayMergeTable.js","src/OverlaySplitTable.js","src/OverlayChangeTable.js","src/OverlayReviseItem.js","src/OverlayTableActions.js","src/OverlayAdditionalFunctions.js","src/OverlayChoosePrinter.js","src/Main.js","src/OverlayServiceEntry.js","src/Register.js","src/OverlaySplitItems.js","src/Split.js","src/OverlayInputReference.js","src/OverlayMergeBill.js","src/OverlaySplitBill.js","src/OverlaySplitAmount.js","src/OverlayUpdateTips.js","src/OverlayViewSplitted.js","src/OverlayPaynow.js","src/Pos.js","src/Adhoc.js","src/Dayclose.js","src/Printer.js","src/OverlayEnterDate.js","src/Report.js","src/Reprint.js","src/Resequence.js","src/Transfer.js","src/OverlayVoidReceipt.js","src/Void.js","src/Collect.js","src/Table.js","src/Menu.js","src/Scan.js","src/Trace.js","src/Activate.js","src/Limit.js","src/Fire.js","src/Combo.js","src/Secondary.js","App.js","node_modules/moment/locale|sync|/^/.*$","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import React, { useContext } from 'react'\nimport * as RN from 'react-native';\n// import ThemeContext from '../ThemeContext';\n\n// text wrapper for custom style text component\nexport function Text({ style, children, ...rest }) {\n\n  // const themeContext = useContext(ThemeContext);\n\n  let styleObject = style;\n  // convert array to object\n  if (Array.isArray(style)) {\n    styleObject = {};\n    style.forEach(el => {\n      styleObject = Object.assign(styleObject, el);\n    })\n  }\n\n  return (\n    // override font size\n    <RN.Text style={{ ...styleObject, fontSize: (styleObject?.fontSize || 14), fontFamily: (styleObject?.fontFamily || 'varela-round') }} {...rest}>\n      {children}\n    </RN.Text>\n  );\n};\n\nexport function debug(serviceEntry, msg1, msg2, msg3, msg4, msg5, msg6) {\n  fetch(serviceEntry + 'api/debug/', {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n    body: JSON.stringify({\n      msg1, // action\n      msg2, // user name\n      msg3, // error\n      msg4, // target id (table)\n      msg5, // detail name (tableItem)\n      msg6, // additional info (other)\n    }),\n  })\n}","import { Platform } from 'react-native';\r\n\r\nconst theme = {\r\n  vacant: '#30BEAE', // hsl(173, 60%, 47%)\r\n  reserved: '#FFB86F', // hsl(30, 100%, 72%)\r\n  occupied: '#2A79A8', //\thsl(202, 60%, 41%)\r\n  paid: '#E84855', // hsl(355, 78%, 60%)\r\n  unavailable: '#424549',\r\n  adhoc: '#7a4988', // hsl(287, 30%, 41%)\r\n  deposit: '#d65c91', // hsl(334, 60%, 60%)\r\n  grey1: '#23272A',\r\n  grey2: '#2C2F33',\r\n  grey3: '#36393E',\r\n  grey4: '#424549',\r\n  grey5: '#99aab5',\r\n\r\n  grey7: '#E3E5E8',\r\n  grey8: '#EBEDEF',\r\n  grey9: '#F2F3F5',\r\n\r\n  size: Platform.OS === 'web' ? 5 : 4,\r\n\r\n  black8: '#000000aa', // cc is 0.8, aa is not\r\n  white8: '#ffffffcc',\r\n}\r\n\r\nexport default theme;","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayproceduremessage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>WARNING</Text>\r\n            <Text style={[styles.overlaySubtitleText, { color: theme.paid }]}>Procedure Message</Text>\r\n            <Text style={styles.overlayText}>{this.props.text.toUpperCase()}</Text>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromProcedureMessage('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 3,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Feather, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayLanguage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlaylanguage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Language  </Text>\r\n            {/* <Text style={styles.overlayText}>Select a message for the chef</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('en')}>\r\n              <Text style={{ marginTop: 5, color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>Aa</Text>\r\n              <Text style={[styles.buttonText,]}>ENGLISH</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zhs')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={[styles.buttonText,]}></Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zht')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={styles.buttonText}></Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('ja')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={styles.buttonText}></Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromLanguage('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { input } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{input?.title}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{input?.subtitle}</Text>\r\n            <Text style={styles.overlayText}>{input?.text}</Text>\r\n          </View>\r\n          {\r\n            input?.ok &&\r\n            <TouchableOpacity style={styles.overlayOption}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>OK</Text>\r\n            </TouchableOpacity>\r\n          }\r\n          {\r\n            input?.options ?\r\n              input?.options.map(el =>\r\n                <TouchableOpacity style={styles.overlayOption}\r\n                  key={el.handleText}\r\n                  onPress={() => this.props.handleUpdateFromAlert(el.handleText)}>\r\n                  <Text style={styles.overlayOptionText}>{el.text}</Text>\r\n                </TouchableOpacity>\r\n              )\r\n              : null\r\n          }\r\n          {\r\n            input?.cancel &&\r\n            <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n            </TouchableOpacity>\r\n          }\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Preference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // tcolsize: '',\r\n      // mcolsize: '',\r\n      // pcolsize: '',\r\n      // mquick: '',\r\n      // dsecondary: '',\r\n      // usecondary: '',\r\n      preference: null,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n      this.setState({\r\n        preference\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doReset') {\r\n      this.doReset();\r\n    }\r\n  }\r\n\r\n  doPressReset() {\r\n    let options = [];\r\n    options.push({ text: intl.get('yes'), handleText: 'doReset' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: `${intl.get('reset')} ${intl.get('preference')}`,\r\n        text: 'Reset all to factory preset?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doReset() {\r\n    let preference = {\r\n      tcolsize: Platform.OS === 'web' ? 5 : 4,\r\n      mcolsize: Platform.OS === 'web' ? 3 : 2,\r\n      pcolsize: Platform.OS === 'web' ? 5 : 3,\r\n      mquick: 'Y',\r\n      dsecondary: 'N',\r\n      usecondary: '',\r\n    };\r\n    this.setState({ preference })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n  }\r\n\r\n  doTcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.tcolsize < 8) {\r\n      preferenceUpdate.tcolsize = preferenceUpdate.tcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.tcolsize = 3;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mcolsize < 6) {\r\n      preferenceUpdate.mcolsize = preferenceUpdate.mcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.mcolsize = 1;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doPcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.pcolsize < 7) {\r\n      preferenceUpdate.pcolsize = preferenceUpdate.pcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.pcolsize = 2;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMquick() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mquick === 'Y') {\r\n      preferenceUpdate.mquick = 'N';\r\n    } else {\r\n      preferenceUpdate.mquick = 'Y';\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doDsecondary() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.dsecondary === 'N') {\r\n      preferenceUpdate.dsecondary = 'Y';\r\n    } else {\r\n      preferenceUpdate.dsecondary = 'N';\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doUsecondary(text) {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    preferenceUpdate.usecondary = text;\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render preference');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doTcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>TCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>3-8</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Table</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.tcolsize === 5) || (Platform.OS !== 'web' && preference?.tcolsize === 4)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doPcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>PCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>2-7</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for POS</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.pcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.pcolsize === 5) || (Platform.OS !== 'web' && preference?.pcolsize === 3)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n                  <View\r\n                    style={styles.grid}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>USECONDARY</Text>\r\n                      <Text style={[styles.gridFirstRightText]}></Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Secondary Display User</Text>\r\n                      <TextInput style={[styles.gridSecondText, { width: 100, color: theme.reserved, textAlign: 'right' }]}\r\n                        defaultValue={preference?.usecondary || ''}\r\n                        onChangeText={(text) => this.doUsecondary(text)}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        !preference?.usecondary ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </View>\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>1-6</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.mcolsize === 3) || (Platform.OS !== 'web' && preference?.mcolsize === 2)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMquick()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MQUICK</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>Y/N</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Quick Select for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mquick}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        preference?.mquick === 'Y' ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doDsecondary()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>DSECONDARY</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>Y/N</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Acting Secondary Display</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.dsecondary}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        preference?.dsecondary === 'N' ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressReset()}>\r\n                <AntDesign\r\n                  name='warning'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reset')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialIcons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, Platform, Dimensions } from 'react-native';\r\nimport * as Linking from 'expo-linking';\r\nimport Constants from 'expo-constants';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text, debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport Logo from '../assets/logo-small-light.png';\r\nimport moment from 'moment';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayLanguage from './OverlayLanguage';\r\nimport Preference from './Preference';\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      preference: null,\r\n      language: '-',\r\n      serviceEntry: '',\r\n      serviceEntryObj: null,\r\n      accessCode: '',\r\n      password: '',\r\n      userId: '',\r\n      home: null,\r\n\r\n      dev: false,\r\n      // dev: true,\r\n    };\r\n\r\n    this.handleUpdateFromLanguage = this.handleUpdateFromLanguage.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { navigation } = this.props;\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const language = await AsyncStorage.getItem('language');\r\n    let preference = await AsyncStorage.getItem('preference');\r\n\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n    }\r\n    preference = {\r\n      tcolsize: preference?.tcolsize || (Platform.OS === 'web' ? 5 : 4),\r\n      mcolsize: preference?.mcolsize || (Platform.OS === 'web' ? 3 : 2),\r\n      pcolsize: preference?.pcolsize || (Platform.OS === 'web' ? 5 : 3),\r\n      mquick: preference?.mquick || 'Y',\r\n      dsecondary: preference?.dsecondary || 'N',\r\n      usecondary: preference?.usecondary || '',\r\n    };\r\n    AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n\r\n    console.log('mounting service', serviceEntry)\r\n    let serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (serviceEntryObj) {\r\n      serviceEntryObj = JSON.parse(serviceEntryObj);\r\n    } else {\r\n      serviceEntryObj = null;\r\n    }\r\n    this.setState({\r\n      preference,\r\n      serviceEntry,\r\n      language: language || 'en',\r\n      serviceEntryObj,\r\n    })\r\n    // secondary display only\r\n    if (preference.dsecondary === 'Y') {\r\n      navigation.navigate('Secondary', {\r\n        preference,\r\n        serviceEntry,\r\n        serviceEntryObj,\r\n      });\r\n    }\r\n    // dev only\r\n    if (this.state.dev) {\r\n      this.setState({\r\n        accessCode: 'qwe'\r\n      }, () => this.doSubmitAccessCode())\r\n    }\r\n  }\r\n\r\n  async didFocus() {\r\n    const { route } = this.props;\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (preference) {\r\n      this.setState({ preference: JSON.parse(preference) })\r\n    }\r\n    if (serviceEntryObj) {\r\n      this.setState({ serviceEntryObj: JSON.parse(serviceEntryObj) })\r\n    }\r\n    this.setState({ serviceEntry })\r\n    if (route.params?.sync && (moment(route.params.sync).diff(moment(), 'seconds') > -1)) {\r\n      this.doSubmitAccessCode();\r\n    } else {\r\n      if (!this.state.dev) {\r\n        this.setState({\r\n          accessCode: ''\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  handleUpdateFromLanguage(item) {\r\n    this.setState({\r\n      overlayLanguageVisible: false,\r\n    })\r\n    if (!item) {\r\n      return;\r\n    }\r\n    intl.options.currentLocale = item;\r\n    AsyncStorage.setItem('language', item);\r\n    this.setState({\r\n      language: item,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressDownload() {\r\n    Alert.alert(\r\n      `Download latest bistro app?`,\r\n      '',\r\n      [\r\n        {\r\n          text: 'Cancel',\r\n        },\r\n        {\r\n          text: 'Ok',\r\n          onPress: () => this.doDownload()\r\n        },\r\n      ],\r\n    );\r\n  }\r\n\r\n  doDownload() {\r\n    if (Platform.OS === 'ios') {\r\n      Linking.openURL(`itms-apps://itunes.apple.com/app/id6443468946`);\r\n    }\r\n  }\r\n\r\n  doSubmitPassword() {\r\n    const { serviceEntry, userId, password } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      userId: userId,\r\n      password: password,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  doSubmitAccessCode() {\r\n    const { serviceEntry, accessCode } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      accessCode: accessCode,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  async doLogIn(link, body) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry } = this.state;\r\n\r\n    fetch(link, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post login', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          throw response;\r\n        }\r\n        this.setState({\r\n          home: response,\r\n        });\r\n        return Promise.all([\r\n          AsyncStorage.setItem('home', JSON.stringify(response)),\r\n          response,\r\n        ]);\r\n      })\r\n      .then(([response, home]) => {// do parallel chain\r\n\r\n        let promiseArray = [];\r\n\r\n        let url = serviceEntry + 'api/sections';\r\n        let params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        let promiseObject = { url: url, nameString: 'sections' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/tablemas';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'tablemas' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/foldergrps';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'foldergrps' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/folders';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'folders' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/menus';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'menus' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mods';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'mods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mod-bundles';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'modBundles' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-items';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboItems' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-groups';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboGroups' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/payment-methods';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'paymentMethods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/vip-sources';\r\n        promiseObject = { url: url, nameString: 'vipSources' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/discounts';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'discounts' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/returns';\r\n        promiseObject = { url: url, nameString: 'returns' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/settings';\r\n        params = new URLSearchParams();\r\n        params.append('appCode', 'RESTMENU');\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'settings' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/privileges';\r\n        params = new URLSearchParams();\r\n        params.append('userId', home.userId);\r\n        params.append('locId', home.locId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'privileges' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/cashier-printers';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'cashierPrinters' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kottype';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kottypes' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kitchenmsgs';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kitchenmsgs' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        return Promise.all([\r\n          ...promiseArray.map(el =>\r\n            fetch(el.url)\r\n              .then(response => response.json())\r\n              .then(response => {\r\n                console.log('fetching', el.nameString, response);\r\n                return ({ [el.nameString]: response });\r\n              })\r\n          )\r\n        ]);\r\n      })\r\n      .then(response => {\r\n        const masters = response.reduce((o, item) => ({ ...o, [Object.keys(item)[0]]: Object.values(item)[0] }), {});\r\n        console.log('masters', masters);\r\n        navigation.navigate('Main', {\r\n          masters,\r\n          home: this.state.home,\r\n          serviceEntryObj: this.state.serviceEntryObj,\r\n          serviceEntry: this.state.serviceEntry,\r\n          preference: this.state.preference\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log('error', error);\r\n        this.setState({\r\n          accessCode: '',\r\n        })\r\n      });\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { accessCode } = this.state;\r\n    let accessCodeUpdate = accessCode + item;\r\n    this.setState({ accessCode: accessCodeUpdate });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { preference, serviceEntryObj, serviceEntry, language, userId, password, accessCode,\r\n      overlayProcedureMessageVisible, overlayLanguageVisible } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayLanguageVisible &&\r\n          <OverlayLanguage\r\n            handleUpdateFromLanguage={this.handleUpdateFromLanguage} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ flex: 1, backgroundColor: 'white', }}>\r\n          <View style={{ flex: 2, }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View>\r\n                <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.paid }}\r\n                  onPress={() => navigation.navigate('Register')}>\r\n                  <Ionicons name='ios-globe' size={24} color={theme.grey1} style={{ height: 24, width: 24, marginTop: -2 }} />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ marginHorizontal: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.reserved }}\r\n                  onPress={() => navigation.navigate('Preference')}>\r\n                  <MaterialIcons name=\"miscellaneous-services\" size={24} color={theme.grey1} />\r\n                </TouchableOpacity>\r\n                {\r\n                  Platform.OS === 'ios' &&\r\n                  <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.occupied }}\r\n                    onPress={() => this.doPressDownload()}>\r\n                    <AntDesign name=\"clouddownload\" size={24} color={theme.grey1} />\r\n                  </TouchableOpacity>\r\n                }\r\n              </View>\r\n\r\n            </View>\r\n            <View style={{ margin: 20, alignItems: 'flex-end', justifyContent: 'flex-end', }}>\r\n              <Text style={{ color: theme.paid }}>{serviceEntryObj?.name || 'Entry'}</Text>\r\n              <Text style={{ fontSize: 10, marginBottom: 5, color: theme.occupied }} numberOfLines={1}>{serviceEntry}</Text>\r\n              <Text style={{ fontSize: 18 }}>AN EXTENSION OF THE EPB SYSTEM</Text>\r\n              <Text style={{ fontSize: 18 }}>VERSION {Constants.manifest.version?.split('.')[0]}</Text>\r\n            </View>\r\n          </View>\r\n          <Image\r\n            style={{ flex: 1, width: '100%', }}\r\n            source={Logo}\r\n            resizeMode='contain'\r\n          />\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: theme.grey1, justifyContent: 'center', alignItems: 'center' }}>\r\n          <TouchableOpacity style={{ position: 'absolute', right: 20, top: 20, minHeight: 40, alignItems: 'flex-end' }}\r\n            onPress={() => this.setState({ overlayLanguageVisible: true })}>\r\n            <Text style={{ color: 'white', textTransform: 'uppercase' }}>{language === 'ja' ? '' : language === 'zhs' ? '' : language === 'zht' ? '' : 'EN'}</Text>\r\n            <Text style={{ color: 'white', fontSize: 10 }}>LANGUAGE  </Text>\r\n          </TouchableOpacity>\r\n          <View style={styles.textInputContainer}>\r\n            <TextInput style={styles.textInput}\r\n              placeholder={intl.get('accesscode')}\r\n              placeholderTextColor='white'\r\n              placeholderStyle={{ textTransform: 'uppercase' }}\r\n              onChangeText={text => this.setState({ accessCode: text })}\r\n              value={accessCode}\r\n              secureTextEntry\r\n              autoComplete='off'\r\n              autoCorrect={false}\r\n              onSubmitEditing={() => this.doSubmitAccessCode()}\r\n            />\r\n          </View>\r\n\r\n          <View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('1')}>\r\n                <Text style={styles.buttonText}>1</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('2')}>\r\n                <Text style={styles.buttonText}>2</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('3')}>\r\n                <Text style={styles.buttonText}>3</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('4')}>\r\n                <Text style={styles.buttonText}>4</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('5')}>\r\n                <Text style={styles.buttonText}>5</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('6')}>\r\n                <Text style={styles.buttonText}>6</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('7')}>\r\n                <Text style={styles.buttonText}>7</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('8')}>\r\n                <Text style={styles.buttonText}>8</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('9')}>\r\n                <Text style={styles.buttonText}>9</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.setState({ accessCode: '' })}>\r\n                <AntDesign name='close' color='white' size={24} />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('0')}>\r\n                <Text style={styles.buttonText}>0</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.doSubmitAccessCode()}>\r\n                <AntDesign name='enter' color='white' size={24} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').width / 16;\r\n\r\nconst styles = StyleSheet.create({\r\n  textInputContainer: {\r\n    width: '80%',\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n    height: 60,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n  },\r\n  textInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 20,\r\n    borderRadius: 100,\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    // height: keyHeight - 10,\r\n    // width: keyHeight - 10,\r\n    height: 48,\r\n    width: 48,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'black',\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, MaterialCommunityIcons, Feather, Ionicons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, Text, TextInput, Alert, FlatList, ScrollView, Platform } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport moment from 'moment';\r\n\r\nexport default class MainTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      preference: props.preference,\r\n      settings: props.masters.settings,\r\n      sections: props.masters.sections || [],\r\n      tablemas: props.masters.tablemas,\r\n      tables: [],\r\n      floorWidth: null,\r\n\r\n      selectedSection: null,\r\n      focused: null,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.doRefresh(true);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.refresh && prevProps.refresh !== this.props.refresh) {\r\n      console.log('componentDidUpdate', prevProps.refresh, this.props.refresh)\r\n      this.setState({\r\n        focused: null,\r\n      })\r\n      this.doRefresh();\r\n    }\r\n  }\r\n\r\n  async doRefresh(initial) {\r\n    const { sections, selectedSection } = this.state;\r\n    if (initial) {\r\n      if (sections.length > 0) {\r\n        await this.doPressFloor();\r\n      } else {\r\n        await this.doPressSection({ sectionId: 'SYS' });\r\n      }\r\n    } else {\r\n      if (selectedSection?.sectionId === 'FLOOR') {\r\n        await this.doPressFloor();\r\n      } else if (selectedSection) {\r\n        await this.doPressSection(selectedSection);\r\n      } else {\r\n        this.doRefresh(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  async doPressFloor() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('tableFlg', 'Y');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: 'FLOOR' },\r\n        });\r\n      })\r\n  }\r\n\r\n  async doPressSection(item) {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n\r\n    if (item?.sectionId === 'OCCUPIED') {\r\n      params.append('statusFlg', 'C');\r\n      params.append('tableFlg', 'Y');\r\n    } else if (item?.sectionId === 'RESERVED') {\r\n      params.append('statusFlg', 'B');\r\n    } else if (item?.sectionId === 'SYS') {\r\n      params.append('sectionId', item.sectionId)\r\n      params.append('statusFlg', 'C');\r\n    } else {\r\n      params.append('sectionId', item.sectionId)\r\n    }\r\n\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: item.sectionId },\r\n        });\r\n      })\r\n  }\r\n\r\n  doPressTable(item) {\r\n    const { focused, selectedSection } = this.state;\r\n    if (focused?.tableId === item.tableId) {\r\n      this.setState({\r\n        focused: null\r\n      })\r\n      this.doPressFocusedTable(item);\r\n      return;\r\n    }\r\n    if (item.sectionId !== 'SYS') {\r\n      this.doPressSection(selectedSection);\r\n      this.setState({\r\n        focused: item,\r\n      })\r\n    }\r\n    this.props.handlePressTable(item);\r\n  }\r\n\r\n  doPressFloorTable(item) {\r\n    const { tables, focused } = this.state;\r\n    if (focused?.tableId === item.tableId) {\r\n      this.setState({\r\n        focused: null\r\n      })\r\n      this.doPressFocusedTable(tables.find(el => el.tableId === item.tableId));\r\n      return;\r\n    }\r\n    this.doPressFloor()\r\n    this.setState({\r\n      focused: item\r\n    })\r\n    this.props.handlePressTable(tables.find(el => el.tableId === item.tableId));\r\n  }\r\n\r\n  doPressFocusedTable(item) {\r\n    if (item.statusFlg === 'A') {\r\n      this.props.handleActionTable(item, 'OPEN')\r\n    } else if (item.statusFlg === 'C') {\r\n      this.props.handleActionTable(item, 'EDIT')\r\n    }\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateFloorTableColor(item) {\r\n    const { tables } = this.state;\r\n    return this.doTranslateTableColor(tables.find(el => el.tableId === item.tableId))\r\n  }\r\n\r\n  doLayout(e) {\r\n    this.setState({\r\n      floorWidth: e.nativeEvent.layout.width / 16,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { preference, sections, settings, tables, selectedSection } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n          {\r\n            selectedSection?.sectionId === 'FLOOR' ?\r\n              this.renderFloor()\r\n              :\r\n              <FlatList\r\n                style={{ flex: 1, padding: 3 }}\r\n                showsVerticalScrollIndicator={false}\r\n                numColumns={preference.tcolsize}\r\n                horizontal={false}\r\n                data={selectedSection?.sectionId === 'SYS' ? [{ recKey: -999 }, ...tables] : tables}\r\n                keyExtractor={(item, index) => item.recKey.toString()}\r\n                renderItem={({ item, index }) => this.renderTable(item, index)}\r\n                initialNumToRender={25}\r\n              />\r\n          }\r\n        </View>\r\n        <View style={{ margin: 5, width: 120, }}>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 80, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressFloor()}>\r\n            <MaterialCommunityIcons name=\"mapbox\" size={30} color=\"white\" style={{ height: 28 }} />\r\n            <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('floorplan')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'SYS' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text>\r\n            {/* <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text> */}\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.reserved, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'RESERVED' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('B')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.occupied, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'OCCUPIED' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('C')}</Text>\r\n          </TouchableOpacity>\r\n          {\r\n            sections &&\r\n            <ScrollView style={{ flex: 1, }}\r\n              showsVerticalScrollIndicator={false}>\r\n              {\r\n                sections.map((item, index) => (\r\n                  <TouchableOpacity key={index}\r\n                    style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: selectedSection?.sectionId === item.sectionId ? 'white' : theme.grey1, borderRadius: 5, marginVertical: 5 }}\r\n                    onPress={() => this.doPressSection(item)}>\r\n                    <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: selectedSection?.sectionId === item.sectionId ? 'black' : 'white' }}>{item.name}</Text>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n          }\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n\r\n  renderTable(item, index) {\r\n    const { selectedSection, preference, focused } = this.state;\r\n    if (selectedSection?.sectionId === 'SYS' && index === 0) {\r\n      return (\r\n        <TouchableOpacity style={{ flex: 1 / preference.tcolsize, aspectRatio: 1, }}\r\n          onPress={() => this.props.handleActionTable(null, 'CREATE')}>\r\n          <View style={{ flex: 1, margin: 3, backgroundColor: theme.grey4, justifyContent: 'center', alignItems: 'center' }}>\r\n            <AntDesign name=\"pluscircleo\" size={36} color={theme.grey1} />\r\n          </View>\r\n        </TouchableOpacity>\r\n      )\r\n    }\r\n    return (\r\n      <TouchableOpacity style={{ flex: 1 / preference.tcolsize, aspectRatio: 1, }}\r\n        disabled={!item.tableId}\r\n        onPress={() => this.doPressTable(item)}>\r\n        <View style={{ flex: 1, margin: 3, backgroundColor: this.doTranslateTableColor(item), justifyContent: 'center', alignItems: 'center' }}>\r\n          {\r\n            item.seatTime &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', top: 5, left: 5, color: 'black', fontSize: theme.size * 4 }}>{moment(item.seatTime).format('HH:mm')}</Text>\r\n          }\r\n          {\r\n            (item.sectionId !== 'SYS' && item.pax > 0) &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', top: 5, right: 5, color: 'white', fontSize: theme.size * 4 }}>{item.pax} <Feather color='white' name='users' size={theme.size * 4} /></Text>\r\n          }\r\n          <Text style={{ fontFamily: 'varela-round', color: 'rgba(0,0,0,0.8)', fontSize: 22, letterSpacing: 1 }}>{item.tableId}</Text>\r\n          {\r\n            item.vipName &&\r\n            <Text style={[styles.tableLowerBand]}>{item.vipName}</Text>\r\n          }\r\n          {\r\n            item.grandTotal > 0 &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', bottom: 5, right: 5, color: 'black', fontSize: theme.size * 4 }}>${item.grandTotal}</Text>\r\n          }\r\n        </View>\r\n        {\r\n          focused?.tableId === item.tableId &&\r\n          <View style={{ position: 'absolute', top: 3, left: 3, right: 3, bottom: 3, backgroundColor: 'white', alignItems: 'center', justifyContent: 'center' }}>\r\n            {\r\n              (item.statusFlg === 'A' || item.statusFlg === 'C') &&\r\n              <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('press')}</Text>\r\n            }\r\n            <Text style={{ fontFamily: 'varela-round', color: 'rgba(0,0,0,0.8)', fontSize: 22, letterSpacing: 1 }}>{item.tableId}</Text>\r\n            {\r\n              item.statusFlg === 'A' ?\r\n                <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('open')}</Text>\r\n                : item.statusFlg === 'C' ?\r\n                  <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('edit')}</Text>\r\n                  : null\r\n            }\r\n          </View>\r\n        }\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  renderFloor() {\r\n    const { home, tablemas, tables, floorWidth, focused } = this.state;\r\n    return (\r\n      <ScrollView style={{ flex: 1 }}\r\n        showsVerticalScrollIndicator={false}>\r\n        <View style={{ flex: 1, aspectRatio: 1, backgroundColor: theme.grey1, overflow: 'hidden', borderRadius: 5 }}>\r\n          <View style={{ position: 'absolute', left: 0, right: 0, top: 0, bottom: 0 }}>\r\n            <View style={{ flex: 1, justifyContent: 'space-between' }}>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n            </View>\r\n          </View>\r\n          <View style={{ position: 'absolute', left: 0, right: 0, top: 0, bottom: 0 }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 3, }} onLayout={(e) => this.doLayout(e)}>\r\n            {\r\n              floorWidth && tablemas.map(item =>\r\n                <View key={item.recKey}\r\n                  style={{ position: 'absolute', left: item.xaxis * floorWidth, top: Number(item.yaxis * floorWidth), width: item.width * floorWidth, height: Number(item.height * floorWidth) }}>\r\n                  {\r\n                    item.shape === 'B' ?\r\n                      <TouchableOpacity style={{ flex: 1, alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? floorWidth * item.height : 0 }}\r\n                        onPress={() => this.doPressFloorTable(item)}>\r\n                        <View style={{ height: Math.sqrt(0.5) * (item.width * floorWidth - 6), width: Math.sqrt(0.5) * (item.width * floorWidth - 6), backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), transform: [{ rotateZ: '45deg' }], justifyContent: 'center', alignItems: 'center' }}>\r\n                          <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20, transform: [{ rotateZ: '-45deg' }] }}>{item.tableId}</Text>\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                      :\r\n                      <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? floorWidth * item.height : 0 }}\r\n                        onPress={() => this.doPressFloorTable(item)}>\r\n                        <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20 }}>{item.tableId}</Text>\r\n                      </TouchableOpacity>\r\n                  }\r\n                  {/* {\r\n                    // top and bottom chairs\r\n                    (item.width > item.height && item.shape === 'A') &&\r\n                    <>\r\n                      <View style={{ position: 'absolute', top: -3, left: 0, right: 0, height: 6, flexDirection: 'row', }}>\r\n                        {\r\n                          [...Array(item.width)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: theme.grey4, borderTopLeftRadius: 3, borderTopRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                      <View style={{ position: 'absolute', bottom: -3, left: 0, right: 0, height: 6, flexDirection: 'row', }}>\r\n                        {\r\n                          [...Array(item.width)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: theme.grey4, borderBottomLeftRadius: 3, borderBottomRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  } */}\r\n                  {/* {\r\n                    // left and right chairs\r\n                    (item.width < item.height && item.shape === 'A') &&\r\n                    <>\r\n                      <View style={{ position: 'absolute', left: -3, top: 0, bottom: 0, width: 6, }}>\r\n                        {\r\n                          [...Array(item.height)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: theme.grey4, borderTopLeftRadius: 3, borderBottomLeftRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                      <View style={{ position: 'absolute', right: -3, top: 0, bottom: 0, width: 6, }}>\r\n                        {\r\n                          [...Array(item.height)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: theme.grey4, borderTopRightRadius: 3, borderBottomRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  } */}\r\n                </View>\r\n              )\r\n            }\r\n          </View>\r\n\r\n\r\n        </View>\r\n        <View style={{ margin: 3, marginTop: -3, flexWrap: 'wrap', flexDirection: 'row' }}>\r\n          {\r\n            floorWidth && tables.filter(el => !tablemas.some(obj => obj.tableId === el.tableId)).map((item, index) =>\r\n              <View key={index} style={{ width: floorWidth * 4, aspectRatio: 4 }}>\r\n                <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.doPressFloorTable(item)}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20 }}>{item.tableId}</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  textInput: {\r\n    color: 'white',\r\n    height: 60,\r\n    borderRadius: 30,\r\n    width: '90%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 120,\r\n    textAlign: 'center',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n  },\r\n  onetwo: {\r\n    position: 'absolute', top: '0', left: '0', height: '12.5%', width: '12.5%',\r\n  },\r\n  tableLowerBand: {\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, ScrollView, FlatList, Platform, Keyboard } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text } from '../assets/utility';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class MainMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      serviceEntryObj: props.serviceEntryObj,\r\n      preference: props.preference,\r\n\r\n      settings: props.settings,\r\n      foldergrps: props.foldergrps,\r\n      folders: props.folders,\r\n      uniqueFolders: [...new Map(props.folders.map(v => [v.folderId, v])).values()],\r\n      menus: props.menus,\r\n      uniqueMenus: [...new Map(props.menus.map(v => [v.menuId, v])).values()],\r\n      modBundles: props.modBundles,\r\n\r\n      displayMode: '',\r\n      displays: [],\r\n      limiteds: [],\r\n\r\n      searchText: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount mainmenu')\r\n    const { foldergrps, folders, menus } = this.state;\r\n\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    if (folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: foldergrps[0],\r\n      displays,\r\n      displayMode,\r\n    }, () => this.doGet());\r\n  }\r\n\r\n  doGet() {\r\n    // real time fast changing data\r\n    const { serviceEntry, home, selectedFoldergrp } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    selectedFoldergrp && params.append('foldergrpId', selectedFoldergrp.foldergrpId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doPressFoldergrp(item) {\r\n    const { folders, menus, } = this.state;\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    if (folders.filter(el => el.foldergrpId === item.foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === item.foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === item.foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: item,\r\n      displays,\r\n      displayMode,\r\n      searchText: '',\r\n    }, () => this.doGet());\r\n  }\r\n\r\n  doPressFolder(item) {\r\n    const { menus } = this.state;\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId),\r\n    })\r\n  }\r\n\r\n  doPressMenu(item, quick) {\r\n    this.props.handlePressMenu(item, quick);\r\n  }\r\n\r\n  doSearchText(text) {\r\n    const { menus, foldergrps } = this.state;\r\n    this.setState({ searchText: text });\r\n    if (!text) {\r\n      this.setState({\r\n        displayMode: 'MENU',\r\n        displays: '',\r\n      })\r\n      return;\r\n    }\r\n\r\n    let caseText = text.toUpperCase();\r\n    let displaysUpdate = menus.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: displaysUpdate,\r\n      selectedFoldergrp: null,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { preference, settings, displayMode, displays, foldergrps, folders, uniqueFolders, uniqueMenus, menus, modBundles,\r\n      searchText,\r\n      selectedFoldergrp } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1 }}>\r\n          <View style={{ marginHorizontal: 10, marginTop: -5, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontSize: 10, color: theme.white8 }}><Text style={{ fontSize: 10, color: theme.paid }}>{uniqueMenus.length}</Text> MENU <Text style={{ fontSize: 10, color: theme.reserved }}>{uniqueFolders.length}</Text> FOLDER <Text style={{ fontSize: 10, color: theme.reserved }}>{foldergrps.length}</Text> FOLDERGRP <Text style={{ fontSize: 10, color: theme.vacant }}>{modBundles.length}</Text> MODIFIER</Text>\r\n          </View>\r\n          <View style={styles.searchBox}>\r\n            <TextInput style={styles.searchBoxInputValue}\r\n              placeholder={`${intl.get('enter')?.toUpperCase()} ${intl.get('search')?.toUpperCase()} ${intl.get('text')?.toUpperCase()}`}\r\n              placeholderTextColor='rgba(255,255,255,0.2)'\r\n              value={searchText}\r\n              onFocus={() => this.setState({ selectedFoldergrp: null }, () => this.doGet())}\r\n              onChangeText={(text) => this.doSearchText(text)} />\r\n            <TouchableOpacity style={styles.searchBoxButton}\r\n              onPress={() => {\r\n                this.doPressFoldergrp(foldergrps[0]);\r\n                Keyboard.dismiss();\r\n              }}>\r\n              <AntDesign name='close' size={24} color={theme.grey4} />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n            {\r\n              displayMode === 'MENU' ?\r\n                (\r\n                  settings.find(el => el.setId === 'POSMODE')?.setString === 'A' ?\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.mcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenu(item)}\r\n                    />\r\n                    :\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.pcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenuB(item)}\r\n                    />\r\n                )\r\n                :\r\n                <FlatList\r\n                  key={'FOLDER' + selectedFoldergrp?.foldergrpId}\r\n                  style={{ flex: 1, padding: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  numColumns={preference.mcolsize}\r\n                  horizontal={false}\r\n                  data={displays}\r\n                  keyExtractor={(item, index) => item.recKey.toString()}\r\n                  renderItem={({ item }) => this.renderFolder(item)}\r\n                />\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={{ margin: 5, width: 120, }}>\r\n          <View style={{ height: 90 }}>\r\n            <ScrollView\r\n              horizontal={true}\r\n              pagingEnabled={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                Platform.OS !== 'web' &&\r\n                <TouchableOpacity\r\n                  style={{ alignItems: 'center', justifyContent: 'center', height: 90, width: 120 }}\r\n                  onPress={() => this.props.handlePressScan(true)}>\r\n                  <MaterialCommunityIcons name=\"camera-iris\" size={30} color=\"white\" style={{ height: 28 }} />\r\n                  <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('scan')}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n              <TouchableOpacity\r\n                style={{ alignItems: 'center', justifyContent: 'center', height: 90, width: 120 }}\r\n                onPress={() => this.props.handlePressScan()}>\r\n                <MaterialCommunityIcons name=\"movie-filter\" size={28} color=\"white\" style={{ height: 28 }} />\r\n                <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('barcode')}</Text>\r\n              </TouchableOpacity>\r\n            </ScrollView>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              foldergrps.map((item, index) => (\r\n                <TouchableOpacity key={index}\r\n                  style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'white' : theme.grey1, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doPressFoldergrp(item)}>\r\n                  {\r\n                    (moment(item.startTime, 'HH:mm:ss').format('HH:mm') !== '00:00' || moment(item.endTime, 'HH:mm:ss').format('HH:mm') !== '23:59') &&\r\n                    <Text style={{ fontSize: 12, textAlign: 'center', color: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'black' : theme.reserved }}>{moment(item.startTime, 'HH:mm:ss').format('HH:mm')}~{moment(item.endTime, 'HH:mm:ss').format('HH:mm')}</Text>\r\n                  }\r\n                  <Text style={{ textAlign: 'center', color: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'black' : 'white' }}>{item.name}</Text>\r\n                </TouchableOpacity>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderFolder(item) {\r\n    const { preference, menus } = this.state;\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <TouchableOpacity\r\n          style={{ margin: 2.5, height: 90, backgroundColor: 'black', alignItems: 'center', justifyContent: 'center' }}\r\n          onPress={() => this.doPressFolder(item)}>\r\n          <Text style={{ color: theme.paid, fontSize: 12 }}>{item.folderId}</Text>\r\n          <Text style={{ color: 'white', paddingHorizontal: 10, textAlign: 'center', fontSize: 16 }}>{item.name}</Text>\r\n          <Text style={{ color: theme.vacant }}>{menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId).length}</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenu(item) {\r\n    const { preference, limiteds, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <View style={[{ margin: 2.5, flexDirection: 'row', height: 90, backgroundColor: theme.grey4, }, found?.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n          {\r\n            preference.mquick === 'Y' &&\r\n            <TouchableOpacity\r\n              style={{ width: 50, backgroundColor: theme.grey3, justifyContent: 'center', alignItems: 'center' }}\r\n              disabled={found?.statusFlg === 'B'}\r\n              onPress={() => this.doPressMenu(item, true)}>\r\n              <AntDesign name=\"check\" size={18} color={theme.grey1} />\r\n              {/* {\r\n                serviceEntry === 'https://www.epbrowser.com:8090/fnb-ws/' &&\r\n                <Image\r\n                  style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0 }}\r\n                  source={{\r\n                    uri: 'http://203.208.248.200:9090/image-proxy-epbsg/ASP/EPBSG/NORMAL/Shell/picture/' + item.stkId + '.jpg'\r\n                    // uri: imageEntry + item.menuId + '.jpg'\r\n                  }}\r\n                />\r\n              } */}\r\n            </TouchableOpacity>\r\n          }\r\n          <TouchableOpacity\r\n            style={{ flex: 1 }}\r\n            disabled={found?.statusFlg === 'B'}\r\n            onPress={() => this.doPressMenu(item)}>\r\n            <View style={{ flex: 1, padding: 10 }}>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: 'white', fontSize: 12, }}></Text>\r\n                <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n              </View>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{(found && found?.serveLimit !== 0) ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                <Text style={{ color: theme.paid, fontSize: 12, }}>{item.menuId}</Text>\r\n              </View>\r\n            </View>\r\n          </TouchableOpacity>\r\n          {\r\n            searchText.length > 0 &&\r\n            <Text style={{ position: 'absolute', top: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n          }\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenuB(item) {\r\n    const { preference, limiteds, serviceEntryObj, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / (preference.pcolsize) }}>\r\n        <TouchableOpacity style={{ margin: 2.5, }}\r\n          disabled={found?.statusFlg === 'B'}\r\n          onPress={() => this.doPressMenu(item)}>\r\n          <View style={{ backgroundColor: theme.grey3 }}>\r\n            <Image\r\n              style={{ aspectRatio: 1 }}\r\n              source={{\r\n                uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.urlAddr + '&t=' + item.lastupdate\r\n              }}\r\n            />\r\n            {\r\n              searchText.length > 0 &&\r\n              <Text style={{ position: 'absolute', bottom: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n            }\r\n          </View>\r\n          <View style={[{ flexDirection: 'row', height: 70, backgroundColor: theme.grey4, }, found?.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n            <View\r\n              style={{ flex: 1 }}>\r\n              <View style={{ flex: 1, padding: 10 }}>\r\n                <View style={{ flex: 1 }}>\r\n                  <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n                </View>\r\n                <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                  <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{(found && found?.serveLimit !== 0) ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                  <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  searchBox: {\r\n    margin: 10,\r\n    // marginTop: 25,\r\n    marginBottom: 5,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n    borderRadius: 100,\r\n  },\r\n  searchBoxButton: {\r\n    position: 'absolute',\r\n    right: 0,\r\n    top: 0,\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAutoLogout extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      timer: 5,\r\n    };\r\n    this.countdown = () => { };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let initialTimer = 5;\r\n    this.countdown = setInterval(() => {\r\n      initialTimer -= 1;\r\n      this.setState({\r\n        timer: initialTimer,\r\n      });\r\n      if (initialTimer === 0) {\r\n        clearInterval(this.countdown);\r\n        this.props.handleUpdateFromAutoLogout(initialTimer);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.countdown);\r\n  }\r\n\r\n  render() {\r\n    const { timer } = this.state;\r\n    console.log('in overlayautologout', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Auto Logout</Text>\r\n            <Text style={styles.overlayText}>{timer}</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromAutoLogout('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, TextInput,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayDeposit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      homeDelivery: props.selectedTable.homeDelivery === 'Y' ? 'Y' : 'N',\r\n      vipName: props.selectedTable.vipName || '',\r\n      vipPhone: props.selectedTable.vipPhone || '',\r\n      dlyDate: props.selectedTable.dlyDate ? moment(props.selectedTable.dlyDate).format('YYYY-MM-DD') : '',\r\n      dpostalcode: props.selectedTable.dpostalcode || '',\r\n      daddress1: props.selectedTable.daddress1 || '',\r\n      daddress2: props.selectedTable.daddress2 || '',\r\n    }\r\n  }\r\n\r\n  doPressDelivery(type) {\r\n    this.setState({ homeDelivery: type })\r\n  }\r\n\r\n  doChangePostal(text) {\r\n    this.setState({ dpostalcode: text })\r\n    if (text.length === 6) {\r\n      const { serviceEntry } = this.state;\r\n      let url = serviceEntry + 'api/epbsggeo';\r\n      const params = new URLSearchParams();\r\n      params.append('postal', text);\r\n      url += ('?' + params);\r\n      fetch(url, {\r\n        method: 'GET'\r\n      })\r\n        .then(response => {\r\n          if (response.ok) return response.json();\r\n        })\r\n        .then(response => {\r\n          if (response?.address) {\r\n            this.setState({\r\n              daddress1: response.address || '',\r\n            });\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    this.props.handleUpdateFromDeposit('G', vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2)\r\n  }\r\n\r\n  render() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    console.log('in overlayDeposit', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Deposit Info</Text>\r\n            <View style={{ flexDirection: 'row', marginTop: 20 }}>\r\n              <View style={{ flex: 1, alignItems: 'flex-end', }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'Y' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('N')}>\r\n                  <Text style={{ color: homeDelivery === 'Y' ? 'white' : 'black', fontFamily: 'varela-round' }}>Self Collect</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1, }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'N' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('Y')}>\r\n                  <Text style={{ color: homeDelivery === 'N' ? 'white' : 'black', fontFamily: 'varela-round' }}>Delivery</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n            <View style={styles.vipInputsContainer}>\r\n              <View style={styles.vipInputsRow}>\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='NAME'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipName: text })}\r\n                  value={vipName}\r\n                />\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='PHONE'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  keyboardType='numeric'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipPhone: text })}\r\n                  value={vipPhone}\r\n                />\r\n              </View>\r\n              {\r\n                homeDelivery === 'Y' ?\r\n                  <>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='POSTAL'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.doChangePostal(text)}\r\n                        value={dpostalcode}\r\n                      />\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='DLY DATE'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                        onChangeText={text => this.setState({ dlyDate: text })}\r\n                        value={dlyDate}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 1'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress1: text })}\r\n                        value={daddress1}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 2'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress2: text })}\r\n                        value={daddress2}\r\n                      />\r\n                    </View>\r\n                  </>\r\n                  :\r\n                  <View style={[styles.vipInputsRow, { justifyContent: 'flex-end' }]}>\r\n                    <TextInput style={styles.vipInput}\r\n                      placeholder='DLY DATE'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      textContentType='none'\r\n                      autoComplete='off'\r\n                      autoCorrect={false}\r\n                      onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                      onChangeText={text => this.setState({ dlyDate: text })}\r\n                      value={dlyDate}\r\n                    />\r\n                  </View>\r\n              }\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.grey4 }]}\r\n            onPress={() => this.doSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromDeposit('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    height: '90%',\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginBottom: 20,\r\n    marginHorizontal: 5,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayScanBarcode extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromScanBarcode(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayscanbarcode');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Scan Barcode</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='ENTER BARCODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromScanBarcode('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayRequestAccess extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromRequestAccess(overlayText);\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { overlayText } = this.state;\r\n    let overlayTextUpdate = overlayText;\r\n    if (item === 'CLEAR') {\r\n      this.setState({ overlayText: '' });\r\n    } else if (item === 'ENTER') {\r\n      this.handleSubmit(overlayText);\r\n    } else {\r\n      this.setState({ overlayText: overlayTextUpdate + item })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { home, requestedPrivilege } = this.props;\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayrequestaccess');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Request Access</Text>\r\n            <Text style={styles.overlayText}>Grant temporary {requestedPrivilege} privilege to {home.userId}?</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                secureTextEntry={true}\r\n                autoFocus={true}\r\n                placeholder='ENTER ACCESS CODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ width: 135, marginBottom: 20, alignSelf: 'center' }}\r\n            data={['1', '2', '3', '4', '5', '6', '7', '8', '9', 'CLEAR', '0', 'ENTER']}\r\n            scrollEnabled={false}\r\n            showsVerticalScrollIndicator={false}\r\n            numColumns={3}\r\n            keyExtractor={(item, index) => index.toString()}\r\n            renderItem={({ item }) => (\r\n              <View style={{ flex: 1 / 3, aspectRatio: 1 }}>\r\n                <TouchableOpacity style={{ margin: 2.5, flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: 'black', borderRadius: 5, }}\r\n                  onPress={() => this.doPressKey(item)}>\r\n                  {\r\n                    item === 'CLEAR' ?\r\n                      <AntDesign name='close' color='white' size={18} />\r\n                      : item === 'ENTER' ?\r\n                        <AntDesign name='enter' color='white' size={18} />\r\n                        :\r\n                        <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 18, }}>{item}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n          {/* <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity> */}\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromRequestAccess('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 2,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChangePrice extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n      selectedTableItem: props.selectedTableItem,\r\n\r\n      availableDiscounts: props.discounts,\r\n      overlaySearchText: '',\r\n      overlayText: '',\r\n      discountSelected: false,\r\n      selectedDiscount: '',\r\n      validatePass: true,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleValidate(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleValidate(superUserId) {\r\n    const { home, privileges, overlayText, selectedDiscount, selectedTableItem } = this.state;\r\n    if (!overlayText) {\r\n      this.setState({\r\n        validatePass: false,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'CHANGEPRICE') || selectedTableItem.listPrice === 0) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'CHANGEPRICE',\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromChangePrice(overlayText, selectedDiscount || '-', superUserId);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, overlayText, discountSelected, availableDiscounts, discounts,\r\n      selectedDiscount, validatePass, overlayProcedureMessageVisible,\r\n      overlayRequestAccessVisible, requestedPrivilege } = this.state;\r\n    console.log('in overlaychangeprice, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Price</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={[styles.overlaySearchBoxInput, validatePass ? null : { color: theme.paid }]}\r\n                placeholder='ENTER PRICE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text, validatePass: true })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          {\r\n            discountSelected ?\r\n              <View style={{ flex: 1 }}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <TouchableOpacity style={styles.overlaySearchBox}\r\n                    onPress={() => this.setState({\r\n                      overlaySearchText: '',\r\n                      selectedDiscount: '',\r\n                      discountSelected: false,\r\n                    })}>\r\n                    <Text style={styles.selectText}>{selectedDiscount.discId}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={{ paddingBottom: 5 }}></View>\r\n              </View>\r\n              :\r\n              <View style={styles.selectWrapper}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                    <TextInput style={styles.overlaySearchBoxInput}\r\n                      placeholder='ENTER SEARCH TEXT'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                      value={overlaySearchText}\r\n                    />\r\n                    <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                      onPress={() => {\r\n                        this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                        Keyboard.dismiss()\r\n                      }}>\r\n                      <AntDesign name='close' size={24} color={theme.grey4} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={[{ flex: 1 }]}\r\n                  data={availableDiscounts}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                      onPress={() => this.setState({\r\n                        discountSelected: true,\r\n                        selectedDiscount: item,\r\n                        validatePass: true,\r\n                      })}>\r\n                      <View style={styles.overlayGridFirst}>\r\n                        <View style={styles.overlayGridFirstLeft}>\r\n                          <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                        </View>\r\n                        <View style={styles.overlayGridFirstRight}>\r\n                          <Text style={styles.overlayGridFirstRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.overlayGridSecond}>\r\n                        <Text style={styles.overlayGridSecondText}>\r\n                          {item.discName}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.overlayGridThird}>\r\n                        <View style={styles.overlayGridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.overlayGridThirdRight}>\r\n                          <Text style={styles.overlayGridThirdRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n          }\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleValidate()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromChangePrice('', '')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayLineDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      discounts: props.discounts,\r\n      privileges: props.privileges,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'LINEDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access LINEDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'LINEDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromLineDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlaylinediscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='LINEDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Line Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromLineDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayHeaderDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'HEADERDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access HEADERDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'HEADERDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromHeaderDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlayheaderdiscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='HEADERDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Header Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromHeaderDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayMergeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      mergeTables: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTable = this.handleSelectTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.sectionId !== 'SYS'),\r\n          availableTables: response.filter(el => el.sectionId !== 'SYS'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTable(item) {\r\n    const { mergeTables } = this.state;\r\n    let mergeTablesUpdate = mergeTables;\r\n    if (!mergeTables.some(el => el.tableId === item.tableId)) {\r\n      mergeTablesUpdate.push(item);\r\n    } else {\r\n      mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    }\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { mergeTables } = this.state;\r\n    const mergeTablesUpdate = mergeTables;\r\n    mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTables, tables, mergeTables } = this.state;\r\n    console.log('in overlaymergetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {mergeTables.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTable(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.tableId}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeTable([])}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.vacant }]}\r\n            onPress={() => this.props.handleUpdateFromMergeTable(mergeTables)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n      tableItems: props.tableItems,\r\n\r\n      overlaySearchText: '',\r\n      availableTableItems: props.tableItems.filter(el => !el.refRecKey),\r\n      selectedTableItems: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tableItems } = this.state;\r\n    let availableTableItemsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTableItems);\r\n\r\n    availableTableItemsUpdate = tableItems.filter(el => !el.refRecKey);\r\n    if (!text) {\r\n      this.setState({\r\n        availableTableItems: availableTableItemsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTableItemsUpdate = availableTableItemsUpdate.filter(item => {\r\n      return item.menuId.toUpperCase().includes(caseText) || item.menuName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTableItems: availableTableItemsUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    const { selectedTableItems } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItemsUpdate.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { selectedTableItems } = this.state;\r\n    const selectedTableItemsUpdate = selectedTableItems;\r\n    selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTableItems, selectedTableItems } = this.state;\r\n    console.log('in overlaysplittable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {selectedTableItems.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTableItem(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.lineNo}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromSplitTable('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTableItems.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTableItems}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTableItem(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.menuId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>{item.lineNo}</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.menuName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitTable(selectedTableItems)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nexport default class OverlayChangeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.sectionId !== 'SYS'),\r\n          availableTables: response.filter(el => el.sectionId !== 'SYS'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableTables, tables, selectedTable } = this.state;\r\n    console.log('in overlaychangetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Table</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChangeTable('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.props.handleUpdateFromChangeTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayReviseItem extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, selectedTableItem, tableItems } = this.props;\r\n    console.log('in overlayreviseitem', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reviseitem')}</Text>\r\n            <Text style={styles.overlayText}>{selectedTableItem.menuName.toUpperCase()}</Text>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('voidItem')}>\r\n              <AntDesign\r\n                name='close'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('remove')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('duplicateItem')}>\r\n              <AntDesign\r\n                name='copy1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('duplicate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.confirmFlg === 'Y' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.confirmFlg === 'Y'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineBreak')}>\r\n              <AntDesign\r\n                name='minus'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linebreak')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('editItem')}>\r\n              <AntDesign\r\n                name='edit'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, !(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X') && { opacity: 0.2 }]}\r\n              disabled={!(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X')}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('revertItem')}>\r\n              <AntDesign\r\n                name='man'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('revert')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0) && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('changePrice')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('changeprice')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.discFlg === 'N' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineDiscount')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linedisc')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromReviseItem('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayTableActions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, tableItems } = this.props;\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('table')} {intl.get('action')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('openTable')}>\r\n              <AntDesign name='appstore-o' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('editTable')}>\r\n              <AntDesign name='edit' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('reserveTable')}>\r\n              <AntDesign name='calendar' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('reserve')}</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              (selectedTable?.sectionId !== 'SYS' && selectedTable?.statusFlg === 'A') ?\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg !== 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('disableTable')}>\r\n                  <MaterialCommunityIcons name='cancel' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('disable')}</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg === 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg === 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('resetTable')}>\r\n                  <AntDesign name='reload1' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('mergeTable')}>\r\n              <AntDesign name='menufold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('mergetable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('splitTable')}>\r\n              <AntDesign name='menuunfold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('splittable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('changeTable')}>\r\n              <AntDesign name='swap' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('changetable')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewResequence')}>\r\n              <AntDesign name='bars' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('resequence')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewTransfer')}>\r\n              <AntDesign name='export' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('transferitems')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('headerDiscount')}>\r\n              <AntDesign name='exception1' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('headerdisc')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('printBill')}>\r\n              <AntDesign name='book' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('printbill')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromTableActions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAdditionalFunctions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('additionalfunctions')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReprint')}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewVoid')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('voidreceipts')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewCollect')}>\r\n              <AntDesign\r\n                name='gift'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('collection')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('openDrawer')}>\r\n              <AntDesign\r\n                name='laptop'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('opendrawer')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('logOut')}>\r\n              <AntDesign\r\n                name='doubleleft'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('logout')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewTrace')}>\r\n              <AntDesign\r\n                name='eyeo'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewPrinters')}>\r\n              <AntDesign\r\n                name='fork'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('testprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('syncMasters')}>\r\n              <AntDesign\r\n                name='retweet'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('syncmasters')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewActivate')}>\r\n              <AntDesign\r\n                name='bulb1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('activate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewLimit')}>\r\n              <AntDesign\r\n                name='staro'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('limited')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewDayclose')}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('dayend')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReports')}>\r\n              <AntDesign\r\n                name='solution1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reports')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromAdditionalFunctions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChoosePrinter extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      printers: props.cashierPrinters,\r\n      availablePrinters: props.cashierPrinters,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { printers, availablePrinters } = this.state;\r\n    let availablePrintersUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availablePrinters);\r\n\r\n    availablePrintersUpdate = printers;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePrinters: availablePrintersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePrintersUpdate = availablePrintersUpdate.filter(item => {\r\n      return item.iomodelId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePrinters: availablePrintersUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { printPurpose } = this.props;\r\n    const { overlaySearchText, availablePrinters, printers } = this.state;\r\n    console.log('in overlaychooseprinter, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{printPurpose}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('choose')} {intl.get('printer')}</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChoosePrinter('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availablePrinters.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            // numColumns={3}\r\n            data={availablePrinters}\r\n            keyExtractor={(item, index) => index}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.props.handleUpdateFromChoosePrinter(item, printPurpose)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.iomodelId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, StatusBar, ScrollView, TouchableOpacity, Text, Alert, Platform, Dimensions } from 'react-native';\r\nimport { AntDesign, Ionicons, Entypo, MaterialCommunityIcons, Fontisto, FontAwesome, MaterialIcons } from '@expo/vector-icons';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport { debug } from '../assets/utility';\r\nimport io from 'socket.io-client';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport Constants from 'expo-constants';\r\nimport theme from '../assets/theme';\r\nimport MainTable from './MainTable';\r\nimport MainMenu from './MainMenu';\r\n\r\nimport OverlayAutoLogout from './OverlayAutoLogout';\r\nimport OverlayDeposit from './OverlayDeposit';\r\nimport OverlayScanBarcode from './OverlayScanBarcode';\r\nimport OverlayChangePrice from './OverlayChangePrice';\r\nimport OverlayLineDiscount from './OverlayLineDiscount';\r\nimport OverlayHeaderDiscount from './OverlayHeaderDiscount';\r\nimport OverlayMergeTable from './OverlayMergeTable';\r\nimport OverlaySplitTable from './OverlaySplitTable';\r\nimport OverlayChangeTable from './OverlayChangeTable';\r\nimport OverlayReviseItem from './OverlayReviseItem';\r\nimport OverlayTableActions from './OverlayTableActions';\r\nimport OverlayAdditionalFunctions from './OverlayAdditionalFunctions';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nconst Tab = createBottomTabNavigator();\r\n\r\nexport default class Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedTable: null,\r\n      selectedTableItem: null,\r\n      tableItems: [],\r\n      printPurpose: '',\r\n      requestedPrivilege: '',\r\n\r\n      screen: 'TABLE',\r\n      refresh: null,\r\n    };\r\n\r\n    this.handlePressTable = this.handlePressTable.bind(this);\r\n    this.handleActionTable = this.handleActionTable.bind(this);\r\n    this.handlePressMenu = this.handlePressMenu.bind(this);\r\n    this.handlePressScan = this.handlePressScan.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromAutoLogout = this.handleUpdateFromAutoLogout.bind(this);\r\n    this.handleUpdateFromDeposit = this.handleUpdateFromDeposit.bind(this);\r\n    this.handleUpdateFromScanBarcode = this.handleUpdateFromScanBarcode.bind(this);\r\n    this.handleUpdateFromReviseItem = this.handleUpdateFromReviseItem.bind(this);\r\n    this.handleUpdateFromTableActions = this.handleUpdateFromTableActions.bind(this);\r\n    this.handleUpdateFromAdditionalFunctions = this.handleUpdateFromAdditionalFunctions.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromHeaderDiscount = this.handleUpdateFromHeaderDiscount.bind(this);\r\n    this.handleUpdateFromLineDiscount = this.handleUpdateFromLineDiscount.bind(this);\r\n    this.handleUpdateFromChangePrice = this.handleUpdateFromChangePrice.bind(this);\r\n    this.handleUpdateFromMergeTable = this.handleUpdateFromMergeTable.bind(this);\r\n    this.handleUpdateFromSplitTable = this.handleUpdateFromSplitTable.bind(this);\r\n    this.handleUpdateFromChangeTable = this.handleUpdateFromChangeTable.bind(this);\r\n\r\n    this.handleUpdateFromVoid = this.handleUpdateFromVoid.bind(this);\r\n    this.handleUpdateFromTable = this.handleUpdateFromTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntryObj, preference, home, selectedTable, tableItems } = this.state;\r\n\r\n    if (preference?.usecondary) {\r\n      global.socket = io(\r\n        serviceEntryObj.restServiceUrl.substring(0, serviceEntryObj.restServiceUrl.lastIndexOf(\"/gateway\")) + '/socket.io',\r\n        {\r\n          query: {\r\n            userId: home.userId,\r\n            serviceId: serviceEntryObj.epbId,\r\n          }\r\n        },\r\n      );\r\n    }\r\n\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    this.doChooseDefaultPrinter();\r\n    // temp\r\n    // this.handlePressTable({ recKey: 381386 })\r\n  }\r\n\r\n  didFocus() {\r\n    const { selectedTable } = this.state;\r\n    if (selectedTable) {\r\n      this.handlePressTable(selectedTable);\r\n    }\r\n    this.setState({\r\n      refresh: moment().format('HH:mm:ss'),\r\n    })\r\n    console.log('focused')\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n\r\n    if (global.socket) {\r\n      global.socket.close();\r\n    }\r\n  }\r\n\r\n  doChooseDefaultPrinter() {\r\n    const { home, masters } = this.state;\r\n    if (Platform.OS === 'web' && masters.cashierPrinters.length > 1) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'DEFAULT PRINTER',\r\n      });\r\n    } else if (masters.cashierPrinters.length === 1) {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = masters.cashierPrinters?.[0];\r\n      this.setState({\r\n        home: homeUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  async handlePressTable(item) {\r\n    if (!item?.recKey) return;\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, preference } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + item.recKey;\r\n    return fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // hide paid or reset split tables\r\n        // if (response.opentable.splitTableFlg === 'Y' && (response.opentable.statusFlg === 'A')) {\r\n        //   this.doClearTable()\r\n        //   return;\r\n        // }\r\n        // hide paid or reset takeaway tables\r\n        if (response.opentable.sectionId === 'SYS' && (response.opentable.statusFlg === 'A' || response.opentable.statusFlg === 'D')) {\r\n          this.doClearTable();\r\n          this.doToggleScreen('MENU');\r\n          return;\r\n        }\r\n        // faster navigation for takeaway tables\r\n        if (response.opentable.sectionId === 'SYS') {\r\n          this.doToggleScreen('TABLE');\r\n        }\r\n        // emit to secondary display\r\n        if (global.socket) {\r\n          global.socket.emit('participate-room', {\r\n            home: this.state.home,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            users: preference.usecondary.split(','),\r\n          })\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  handleActionTable(item, action) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (action === 'CREATE') {\r\n      this.doCreateTable();\r\n    } else if (action === 'OPEN') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (action === 'EDIT') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    }\r\n  }\r\n\r\n  handlePressMenu(item, quick) {\r\n    const { navigation } = this.props;\r\n    const { home, preference, serviceEntry, settings, masters, selectedTable } = this.state;\r\n    const settingPOSMODE = settings.find(el => el.setId === 'POSMODE')?.setString;\r\n    console.log(item)\r\n    // no opentable, bistro mode\r\n    if (!selectedTable && settingPOSMODE === 'A') {\r\n      if (item.menuType === 'O') {\r\n        navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      } else {\r\n        navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      }\r\n      return;\r\n    }\r\n    // no opentable, pos mode\r\n    if (!selectedTable && settingPOSMODE === 'B') {\r\n      this.doCreateTableForPos(item);\r\n      return;\r\n    }\r\n    // combo\r\n    if (item.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // compulsory modifier\r\n    if (masters.modBundles.some(el => el.modmas.mustFlg === 'Y' && el.modmas.globalFlg === 'Y') || masters.mods.some(el => el.menuId === item.menuId && (masters.modBundles.find(obj => obj.modmas.modId === el.modId)?.modmas.mustFlg === 'Y'))) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // normal\r\n    if (!quick) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n    } else {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: item.recKey,\r\n        restmenuMod: item.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((selectedTable.sectionId === 'SYS' && settingPOSMODE === 'A') ? `*${intl.get('takeaway')}  ` : ''),\r\n        orderQty: '1',\r\n        orderType: item.serviceFlg === 'N' ? 'B' : (selectedTable.sectionId === 'SYS' ? 'B' : 'A'),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              item.menuName,\r\n              '1',\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          this.handlePressTable(selectedTable);\r\n        })\r\n    }\r\n  }\r\n\r\n  handlePressScan(camera) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, selectedTable } = this.state;\r\n    if (!selectedTable) return;\r\n    if (camera) {\r\n      if (Platform.OS !== 'web') {\r\n        navigation.navigate('Scan', { home, serviceEntry, masters, selectedTable })\r\n      }\r\n    } else {\r\n      this.setState({\r\n        overlayScanBarcodeVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  doClearTable() {\r\n    // emit to secondary display\r\n    if (global.socket) {\r\n      global.socket.emit('participate-room', {\r\n        home: this.state.home,\r\n        selectedTable: null,\r\n        tableItems: [],\r\n        users: this.state.preference.usecondary.split(','),\r\n      })\r\n    }\r\n    this.setState({\r\n      selectedTable: null,\r\n      tableItems: [],\r\n    });\r\n  }\r\n\r\n  doCreateTable(item) {\r\n    const { navigation } = this.props;\r\n    const { preference, serviceEntry, home, settings, } = this.state;\r\n    let url = serviceEntry + 'api/insert-opentable';\r\n    const body = {\r\n      userId: home.userId,\r\n      orderType: 'B',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Create Table',\r\n            home.userName,\r\n            response.message,\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('MainMenu')\r\n        // emit to secondary display\r\n        if (global.socket) {\r\n          global.socket.emit('participate-room', {\r\n            home: this.state.home,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            users: preference.usecondary.split(','),\r\n          })\r\n        }\r\n        this.setState({\r\n          screen: 'MENU',\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          refresh: moment().format('HH:mm:ss'),\r\n        }, () => {\r\n          if (item) this.handlePressMenu(item, true);\r\n        });\r\n      })\r\n  }\r\n\r\n  doCreateTableForPos(item) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, preference, masters, selectedTable, settings, } = this.state;\r\n    let url = serviceEntry + 'api/insert-opentable';\r\n    const body = {\r\n      userId: home.userId,\r\n      orderType: 'B',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Create Table',\r\n            home.userName,\r\n            response.message,\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('MainMenu')\r\n        // emit to secondary display\r\n        if (global.socket) {\r\n          global.socket.emit('participate-room', {\r\n            home: this.state.home,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            users: preference.usecondary.split(','),\r\n          })\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          refresh: moment().format('HH:mm:ss'),\r\n        }, () => {\r\n          if (item.menuType === 'O') {\r\n            navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable: response.opentable, selectedMenu: item });\r\n          } else {\r\n            navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable: response.opentable, selectedMenu: item });\r\n          }\r\n        });\r\n      })\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateTableStatus(item) {\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.transType === 'A') {\r\n        return intl.get('sales');\r\n      } else if (item.transType === 'G') {\r\n        if (item.homeDelivery === 'Y') {\r\n          return intl.get('deposit') + 'DLY';\r\n        } else {\r\n          return intl.get('deposit');\r\n        }\r\n      }\r\n    } else {\r\n      return intl.get(`${item.statusFlg}`).d('Unknown');\r\n    }\r\n  }\r\n\r\n  doTranslateTableItemColor(item) {\r\n    if (item.fireFlg === 'Y') {\r\n      return theme.reserved;\r\n    }\r\n    if (item.confirmFlg === 'Y') {\r\n      return theme.occupied;\r\n    }\r\n    return theme.vacant;\r\n  }\r\n\r\n  doToggleScreen(item) {\r\n    const { navigation } = this.props;\r\n    const { settings } = this.state;\r\n    if (item === 'MENU' && settings.find(el => el.setId === 'POSMODE')?.setString === 'A') {\r\n      this.setState({\r\n        screen: 'TABLE',\r\n        refresh: moment().format('HH:mm:ss'),\r\n      })\r\n      navigation.navigate('MainTable')\r\n    } else {\r\n      this.setState({ screen: 'MENU' })\r\n      navigation.navigate('MainMenu')\r\n    }\r\n  }\r\n\r\n  doPressItem(item) {\r\n    this.setState({\r\n      selectedTableItem: item,\r\n      overlayReviseItemVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartDayclose(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, settings, } = this.state;\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'DAYCLOSE')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'DAYCLOSE',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/start-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Dayclose',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Dayclose', { home, serviceEntry, masters, dayclosePayments: response.posDayCloseAmt, daycloseSubPayments: response.posDayCloseAmtDtl })\r\n      })\r\n  }\r\n\r\n  doPressTransType() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: intl.get('sales'), handleText: 'doTransTypeSales' });\r\n    options.push({ text: intl.get('deposit'), handleText: 'doTransTypeDeposit' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Transaction Type',\r\n        text: 'Select transaction type for ' + selectedTable.tableId,\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartPayment(printer, superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, masters, settings,\r\n      selectedTable, tableItems, } = this.state;\r\n\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'SELECT AN ORDER',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n      });\r\n      return;\r\n    }\r\n    if (!tableItems || tableItems.length === 0) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'NO TABLE ITEMS',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.refTableId) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'TABLE ALREADY MERGED ' + selectedTable.refTableId,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'PAYMENT')) && !superUserId) {\r\n      this.setState({\r\n        requestedPrivilege: 'PAYMENT',\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          pospays: response.opentablePospays,\r\n        }, () => navigation.navigate('Pos', { home, serviceEntry, serviceEntryObj, masters, selectedTable: response.opentable, pospays: response.opentablePospays }));\r\n      })\r\n  }\r\n\r\n  doChangeTableStatus(newStatus) {\r\n    const { home, serviceEntry, selectedTable, masters, settings } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table-status';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: newStatus,\r\n      pax: '',\r\n      vipId: '',\r\n      vipName: '',\r\n      phone: '',\r\n      reservationTime: '',\r\n      sourceId: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table-status successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table Status',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            newStatus,\r\n          );\r\n        if (response.message) {\r\n          if (response.message === 'Table Not Found') {\r\n            this.doClearTable();\r\n            this.doToggleScreen('MENU')\r\n          } else {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n          }\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doRevertTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/revert-adhoc';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post revert-adhoc successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Revert Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n          refresh: moment().format('HH:mm:ss'),\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doDuplicateTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/duplicate-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post duplicate-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Duplicate Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doUpdateLineBreak() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    })\r\n    let newLineBreak = 'Y';\r\n    if (selectedTableItem.lineBreak === 'Y') {\r\n      newLineBreak = 'N';\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-line-break';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      lineBreak: newLineBreak,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-line-break successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Break',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  doPrintBill(printer) {\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    if (!selectedTable || !(selectedTable?.statusFlg === 'C' || selectedTable?.sectionId === 'SYS')) return;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'PRINT BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/print-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Print Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, masters, settings } = this.state;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'OPEN DRAWER',\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n  }\r\n\r\n  doTransTypeSales() {\r\n    const { selectedTable } = this.state;\r\n    this.handleUpdateFromDeposit('A', selectedTable.vipName, selectedTable.vipPhone, selectedTable.homeDelivery, selectedTable.dlyDate ? moment(selectedTable.dlyDate).format('YYYY-MM-DD') : '', selectedTable.dpostalcode, selectedTable.daddress1, selectedTable.daddress2)\r\n  }\r\n\r\n  doTransTypeDeposit() {\r\n    this.setState({\r\n      overlayDepositVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressSend() {\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (!selectedTable || selectedTable.sendFlg !== 'Y') {\r\n      console.log('no selectedTable or sendFlg is N');\r\n      return;\r\n    }\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doSendOrder' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Send Order',\r\n        text: 'Send order for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doSendOrder(printer) {\r\n    const { serviceEntry, home, selectedTable, masters, settings } = this.state;\r\n\r\n    // section-based print order\r\n    let printOrder = false;\r\n    if (selectedTable.sectionId !== 'SYS') {\r\n      printOrder = masters.sections.find(el => el.sectionId === selectedTable.sectionId)?.printOrderFlg === 'Y';\r\n    }\r\n\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter && printOrder) {\r\n      this.setState({\r\n        printPurpose: 'SEND ORDER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/send-order';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: printOrder && ((home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId)),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post send-order successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Send Order',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  doEditTableItem(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, preference,\r\n      tableItems, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'EDITITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (selectedTableItem?.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, masters, preference, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem, tableItems })\r\n    } else {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem })\r\n    }\r\n  }\r\n\r\n  doDeleteTableItem(superUserId) {\r\n    const { serviceEntry, home, selectedTableItem, selectedTable, masters, settings, privileges } = this.state;\r\n\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      // special scenario all personnel need double confirm\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'VOIDITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'VOIDITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable, home } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'SEND ORDER') {\r\n      this.doSendOrder(printer);\r\n    } else if (purpose === 'PRINT BILL') {\r\n      this.doPrintBill(printer);\r\n    } else if (purpose === 'START PAYMENT') {\r\n      this.doStartPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.doOpenDrawer(printer);\r\n    } else if (purpose === 'DEFAULT PRINTER') {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = printer;\r\n      this.setState({\r\n        home: homeUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, masters, settings, requestedPrivilege, selectedPrinter,\r\n      selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable?.tableId,\r\n            selectedTableItem?.menuName,\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.doOpenDrawer(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'PAYMENT') {\r\n          this.doStartPayment(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'DAYCLOSE') {\r\n          this.doStartDayclose(response.userId);\r\n        } else if (requestedPrivilege === 'VOIDITEM') {\r\n          this.doDeleteTableItem(response.userId);\r\n        } else if (requestedPrivilege === 'EDITITEM') {\r\n          this.doEditTableItem(response.userId);\r\n        }\r\n      })\r\n  }\r\n\r\n  handleUpdateFromAdditionalFunctions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayAdditionalFunctionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewReprint') {\r\n      navigation.navigate('Reprint', { home, serviceEntry, masters });\r\n    } else if (text === 'viewVoid') {\r\n      navigation.navigate('Void', { home, serviceEntry, masters, handleUpdateFromVoid: this.handleUpdateFromVoid });\r\n    } else if (text === 'viewCollect') {\r\n      navigation.navigate('Collect', { home, serviceEntry, masters, });\r\n    } else if (text === 'viewDayclose') {\r\n      this.doStartDayclose();\r\n    } else if (text === 'viewReports') {\r\n      navigation.navigate('Report', { home, serviceEntry, masters });\r\n    } else if (text === 'openDrawer') {\r\n      this.doOpenDrawer();\r\n    } else if (text === 'viewPrinters') {\r\n      navigation.navigate('Printer', { home, serviceEntry });\r\n    } else if (text === 'viewActivate') {\r\n      navigation.navigate('Activate', { home, serviceEntry, masters });\r\n    } else if (text === 'logOut') {\r\n      navigation.goBack();\r\n    } else if (text === 'syncMasters') {\r\n      navigation.navigate('Login', { sync: new Date() });\r\n    } else if (text === 'viewTrace') {\r\n      navigation.navigate('Trace', { home, serviceEntry, selectedTable });\r\n    } else if (text === 'viewLimit') {\r\n      navigation.navigate('Limit', { home, serviceEntry, masters });\r\n    }\r\n  }\r\n\r\n  async handleUpdateFromTableActions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayTableActionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewResequence') {\r\n      navigation.navigate('Resequence', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'viewTransfer') {\r\n      navigation.navigate('Transfer', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'headerDiscount') {\r\n      this.setState({\r\n        overlayHeaderDiscountVisible: true,\r\n      })\r\n    } else if (text === 'printBill') {\r\n      this.doPrintBill();\r\n    } else if (text === 'openTable') {\r\n      await this.handlePressTable(selectedTable)\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (text === 'editTable') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    } else if (text === 'resetTable') {\r\n      this.doChangeTableStatus('A');\r\n    } else if (text === 'reserveTable') {\r\n      this.doChangeTableStatus('B');\r\n    } else if (text === 'disableTable') {\r\n      this.doChangeTableStatus('E');\r\n    } else if (text === 'mergeTable') {\r\n      this.setState({\r\n        overlayMergeTableVisible: true,\r\n      });\r\n    } else if (text === 'splitTable') {\r\n      this.setState({\r\n        overlaySplitTableVisible: true,\r\n      });\r\n    } else if (text === 'changeTable') {\r\n      this.setState({\r\n        overlayChangeTableVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromReviseItem(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, masters, selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'voidItem') {\r\n      let options = [];\r\n      options.push({ text: 'Yes', handleText: 'doDeleteTableItem' });\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n        overlayAlertInputValue: {\r\n          title: intl.get('action'),\r\n          subtitle: 'Remove Item',\r\n          text: 'Remove ' + selectedTableItem.menuName + ' ?',\r\n          ok: false,\r\n          cancel: true,\r\n          options: options,\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n    } else if (text === 'editItem') {\r\n      this.doEditTableItem();\r\n    } else if (text === 'revertItem') {\r\n      this.doRevertTableItem();\r\n    } else if (text === 'changePrice') {\r\n      this.setState({\r\n        overlayChangePriceVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineDiscount') {\r\n      this.setState({\r\n        overlayLineDiscountVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineBreak') {\r\n      this.doUpdateLineBreak();\r\n    } else if (text === 'duplicateItem') {\r\n      this.doDuplicateTableItem();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromLineDiscount(text, superUserId) {\r\n    this.setState({ overlayLineDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/line-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post line-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromHeaderDiscount(text, superUserId) {\r\n    this.setState({ overlayHeaderDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/header-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post header-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Header Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangePrice(text, item, superUserId) {\r\n    this.setState({ overlayChangePriceVisible: false });\r\n    if (!text && !item) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-price';\r\n    const body = {\r\n      userId: home.userId,\r\n      price: text,\r\n      discId: item.discId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-price successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Price',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromMergeTable(tables) {\r\n    this.setState({ overlayMergeTableVisible: false });\r\n    if (tables.length === 0) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-table';\r\n    const itemPayloads = tables.map(el => ({\r\n      mergedTableId: el.tableId,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            tables.map(el => el.tableId).join(','),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromSplitTable(items) {\r\n    this.setState({\r\n      overlaySplitTableVisible: false,\r\n    });\r\n    if (!items) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/split-table';\r\n    const itemPayloads = items.map(el => ({\r\n      opentableItemRecKey: el.recKey,\r\n      opentableRecKey: selectedTable.recKey,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post split-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Split Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(response.opentable || selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangeTable(table) {\r\n    this.setState({ overlayChangeTableVisible: false });\r\n    if (!table) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table';\r\n    const body = {\r\n      userId: home.userId,\r\n      tableIdTo: table.tableId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            table.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(table);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSendOrder') {\r\n      this.doSendOrder();\r\n    } else if (text === 'doDeleteTableItem') {\r\n      this.doDeleteTableItem();\r\n    } else if (text === 'doTransTypeSales') {\r\n      this.doTransTypeSales();\r\n    } else if (text === 'doTransTypeDeposit') {\r\n      this.doTransTypeDeposit();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAutoLogout(timer) {\r\n    // if (!timer) {\r\n    //   this.setState({\r\n    //     overlayAutoLogoutVisible: false,\r\n    //   });\r\n    //   this.doAutoLogout();\r\n    // }\r\n    // if (timer === 0) {\r\n    //   this.setState({\r\n    //     toLogin: true,\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  handleUpdateFromDeposit(transType, vipName, phone, deliveryFlg, dlyDate, postalCode, addr1, addr2) {\r\n    this.setState({ overlayDepositVisible: false });\r\n    if (!transType) {\r\n      return;\r\n    }\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-table-info';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      transType: transType,\r\n      vipName: vipName,\r\n      phone: phone,\r\n      deliveryFlg: deliveryFlg,\r\n      dlyDate: dlyDate,\r\n      postalCode: postalCode,\r\n      addr1: addr1,\r\n      addr2: addr2,\r\n      addr3: '',\r\n      addr4: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post deposit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Transaction Type',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            transType + ',' + deliveryFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable)\r\n      })\r\n  }\r\n\r\n  handleUpdateFromScanBarcode(text) {\r\n    if (!text) {\r\n      this.setState({ overlayScanBarcodeVisible: false });\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      vipId: home.vipId,\r\n      barcode: text,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post scan-barcode successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Scan Barcode',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromVoid(tableInfo) {\r\n    this.setState({\r\n      selectedTable: tableInfo.opentable,\r\n      tableItems: tableInfo.opentableItems,\r\n    });\r\n  }\r\n\r\n  handleUpdateFromTable() {\r\n    this.doToggleScreen('TABLE');\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntryObj, serviceEntry, home, preference, masters, screen, refresh,\r\n      selectedTable, selectedTableItem, tableItems, printPurpose, requestedPrivilege,\r\n      overlayAutoLogoutVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayReviseItemVisible, overlayTableActionsVisible, overlayAdditionalFunctionsVisible, overlayRequestAccessVisible,\r\n      overlayHeaderDiscountVisible, overlayLineDiscountVisible, overlayChangePriceVisible,\r\n      overlayChangeTableVisible, overlayMergeTableVisible, overlaySplitTableVisible,\r\n      overlayDepositVisible, overlayScanBarcodeVisible,\r\n      overlayProcedureMessageVisible, overlayChoosePrinterVisible } = this.state;\r\n    const settingPOSMODE = masters.settings.find(el => el.setId === 'POSMODE')?.setString;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayAutoLogoutVisible &&\r\n          <OverlayAutoLogout\r\n            handleUpdateFromAutoLogout={this.handleUpdateFromAutoLogout} />\r\n        }\r\n        {\r\n          overlayDepositVisible &&\r\n          <OverlayDeposit\r\n            serviceEntry={serviceEntry}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromDeposit={this.handleUpdateFromDeposit} />\r\n        }\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayScanBarcodeVisible &&\r\n          <OverlayScanBarcode\r\n            handleUpdateFromScanBarcode={this.handleUpdateFromScanBarcode} />\r\n        }\r\n        {\r\n          overlayReviseItemVisible &&\r\n          <OverlayReviseItem\r\n            home={home}\r\n            privileges={masters.privileges}\r\n            selectedTable={selectedTable}\r\n            selectedTableItem={selectedTableItem}\r\n            tableItems={tableItems}\r\n            handleUpdateFromReviseItem={this.handleUpdateFromReviseItem} />\r\n        }\r\n        {\r\n          overlayTableActionsVisible &&\r\n          <OverlayTableActions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromTableActions={this.handleUpdateFromTableActions} />\r\n        }\r\n        {\r\n          overlayAdditionalFunctionsVisible &&\r\n          <OverlayAdditionalFunctions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromAdditionalFunctions={this.handleUpdateFromAdditionalFunctions} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayChangePriceVisible &&\r\n          <OverlayChangePrice\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            selectedTableItem={selectedTableItem}\r\n            handleUpdateFromChangePrice={this.handleUpdateFromChangePrice} />\r\n        }\r\n        {\r\n          overlayLineDiscountVisible &&\r\n          <OverlayLineDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromLineDiscount={this.handleUpdateFromLineDiscount} />\r\n        }\r\n        {\r\n          overlayHeaderDiscountVisible &&\r\n          <OverlayHeaderDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromHeaderDiscount={this.handleUpdateFromHeaderDiscount} />\r\n        }\r\n        {\r\n          overlayMergeTableVisible &&\r\n          <OverlayMergeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeTable={this.handleUpdateFromMergeTable} />\r\n        }\r\n        {\r\n          overlaySplitTableVisible &&\r\n          <OverlaySplitTable\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromSplitTable={this.handleUpdateFromSplitTable} />\r\n        }\r\n        {\r\n          overlayChangeTableVisible &&\r\n          <OverlayChangeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromChangeTable={this.handleUpdateFromChangeTable} />\r\n        }\r\n        <View style={{ width: 10, backgroundColor: theme.grey8 }}>\r\n          <View style={{ marginTop: 30, height: 100, backgroundColor: this.doTranslateTableColor(selectedTable) }}></View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{home.userName}</Text>\r\n            <Text style={styles.footerText}>{home.locName}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, marginLeft: 0, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            {/* {\r\n              selectedTable &&\r\n              <TouchableOpacity style={{ margin: 3, marginLeft: 0, marginRight: 0, width: 23, backgroundColor: this.doTranslateTableColor(selectedTable) }}\r\n                onPress={() => this.doClearTable()}>\r\n\r\n              </TouchableOpacity>\r\n            } */}\r\n            <View style={{ margin: 3, flex: 1, flexDirection: 'row', }}>\r\n              {\r\n                selectedTable &&\r\n                <TouchableOpacity style={{ marginLeft: 0, aspectRatio: 1, backgroundColor: this.doTranslateTableColor(selectedTable), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.setState({ overlayTableActionsVisible: true })}>\r\n                  <Text style={styles.tableUpperBand} numberOfLines={1}>{selectedTable.vipName || ''}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 24, letterSpacing: 1 }} numberOfLines={1}>{selectedTable.tableId}</Text>\r\n                  <Text style={styles.tableLowerBand} numberOfLines={1}>{this.doTranslateTableStatus(selectedTable)}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n            </View>\r\n            {\r\n              selectedTable && selectedTable.sectionId === 'SYS' ?\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  {\r\n                    selectedTable.adhocItem > 0 &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                      <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                      <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'A' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      disabled={selectedTable.sendFlg !== 'Y'}\r\n                      onPress={() => this.doPressSend()}>\r\n                      <FontAwesome name=\"send\" size={24} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'A' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                      <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'B' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT', tab: 'VIP' })}>\r\n                      <MaterialCommunityIcons name=\"account-circle\" size={29} color={theme.unavailable} style={{ height: 28, }} />\r\n                      <Text style={styles.buttonText}>VIP</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {/* <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => this.doPressTransType()}>\r\n                    <MaterialCommunityIcons name=\"water\" size={32} color={theme.deposit} style={{ height: 28, width: 32 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('type')}</Text>\r\n                  </TouchableOpacity> */}\r\n                </View>\r\n                : selectedTable && selectedTable.statusFlg === 'A' ?\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable })}>\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n                  </TouchableOpacity>\r\n                  : selectedTable && selectedTable.statusFlg === 'D' ?\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => this.handleUpdateFromTableActions('resetTable')}>\r\n                      <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.vacant} style={{ height: 28, width: 26 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                    </TouchableOpacity>\r\n                    : selectedTable ?\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        {\r\n                          selectedTable.adhocItem > 0 &&\r\n                          <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                            onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                            <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                            <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                            <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                          </TouchableOpacity>\r\n                        }\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          disabled={selectedTable.sendFlg !== 'Y'}\r\n                          onPress={() => this.doPressSend()}>\r\n                          <FontAwesome name=\"send\" size={24} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 28 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                          <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                        </TouchableOpacity>\r\n                      </View>\r\n                      : null\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.setState({ overlayAdditionalFunctionsVisible: true })}>\r\n              <MaterialCommunityIcons name=\"clover\" size={28} color={theme.paid} style={{ height: 28, width: 28 }} />\r\n              <Text style={styles.buttonText}>{intl.get('func')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: 'white' }}>\r\n            <View style={{ width: 50, height: 20, alignItems: 'center', justifyContent: 'center', borderRightColor: theme.paid }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('qty')}</Text>\r\n            </View>\r\n            <View style={{ flex: 1, justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('desc')}</Text>\r\n            </View>\r\n            <View style={{ paddingRight: 10, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('total')}</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            onContentSizeChange={() => this.scrollViewRef.scrollToEnd()}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              tableItems.filter(el => !el.refRecKey).map(item => (\r\n                <View key={item.recKey.toString()}>\r\n                  {\r\n                    item.lineBreak === 'Y' &&\r\n                    <View style={{ alignItems: 'center', flexDirection: 'row', height: 20, }}>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                      <Text style={{ fontFamily: 'varela-round', color: theme.grey5, fontSize: 12 }}>LINE BREAK</Text>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                    </View>\r\n                  }\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: this.doTranslateTableItemColor(item), }}\r\n                    onPress={() => this.doPressItem(item)}>\r\n                    <View style={{ paddingVertical: 10, width: 50, alignItems: 'center', borderRightColor: theme.paid }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.orderQty}</Text>\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, flex: 1 }}>\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.menuName}</Text>\r\n                          {\r\n                            item.menuMod &&\r\n                            <Text style={{ fontFamily: 'varela-round', fontSize: 16, color: theme.paid }}>{item.menuMod}</Text>\r\n                          }\r\n                        </View>\r\n                        <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.lineTotal?.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      {\r\n                        tableItems.filter(el => el.refRecKey === item.recKey).map(obj =>\r\n                          <View style={{ marginTop: 5, flexDirection: 'row' }} key={obj.recKey.toString()}>\r\n                            <View style={{ flex: 1, }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14, marginLeft: 10 }}>- {obj.menuName}</Text>\r\n                              {\r\n                                obj.menuMod &&\r\n                                <Text style={{ fontFamily: 'varela-round', fontSize: 14, color: theme.paid }}>{obj.menuMod}</Text>\r\n                              }\r\n                            </View>\r\n                            <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14 }}>{obj.lineTotal ? obj.lineTotal?.toFixed(2) : ''}</Text>\r\n                            </View>\r\n                          </View>\r\n                        )\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <View style={{ margin: 10, marginBottom: 0, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'baseline' }}>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 10 }}></Text>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 28 }}>${selectedTable?.grandTotal?.toFixed(2) || '0.00'}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, flexDirection: 'row', }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                onPress={() => this.doToggleScreen(screen)}>\r\n                {\r\n                  screen === 'TABLE' ?\r\n                    <Ionicons name=\"md-book\" size={26} color={theme.reserved} style={{ height: 28, width: 26 }} />\r\n                    :\r\n                    <MaterialCommunityIcons name=\"apps-box\" size={28} color={theme.vacant} style={{ height: 28, width: 28 }} />\r\n                }\r\n                <Text style={styles.buttonText}>{screen === 'TABLE' ? intl.get('menu') : intl.get('table')}</Text>\r\n              </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => navigation.navigate('Trace', { home, serviceEntry, selectedTable })}>\r\n              <MaterialCommunityIcons name=\"navigation\" size={28} color={theme.adhoc} style={{ height: 28, width: 28, transform: [{ rotateZ: '180deg' }] }} />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doPrintBill()}>\r\n              <MaterialCommunityIcons name=\"book\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n              <Text style={styles.buttonText}>{intl.get('bill')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doStartPayment()}>\r\n              <Ionicons name=\"print-sharp\" size={27} color={theme.paid} style={{ height: 28, marginLeft: 1 }} />\r\n              <Text style={styles.buttonText}>{intl.get('payment')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{moment().format('HH:mm')}</Text>\r\n            <Text style={styles.footerText}>EPB BISTRO {Constants.manifest.version?.split('.')[0]}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ flex: 2, backgroundColor: theme.grey9 }}>\r\n          <Tab.Navigator\r\n            screenOptions={{\r\n              headerShown: false,\r\n              animation: 'none',\r\n              gestureEnabled: false,\r\n              tabBarStyle: { display: 'none' },\r\n            }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <Tab.Screen name=\"MainTable\"\r\n                children={() =>\r\n                  <MainTable\r\n                    refresh={refresh}\r\n                    home={home}\r\n                    serviceEntry={serviceEntry}\r\n                    preference={preference}\r\n                    masters={masters}\r\n                    handlePressTable={this.handlePressTable}\r\n                    handleActionTable={this.handleActionTable} />\r\n                } />\r\n            }\r\n            <Tab.Screen name=\"MainMenu\"\r\n              children={() =>\r\n                <MainMenu\r\n                  home={home}\r\n                  serviceEntry={serviceEntry}\r\n                  serviceEntryObj={serviceEntryObj}\r\n                  preference={preference}\r\n                  settings={masters.settings}\r\n                  foldergrps={masters.foldergrps}\r\n                  folders={masters.folders}\r\n                  menus={masters.menus}\r\n                  modBundles={masters.modBundles}\r\n                  handlePressMenu={this.handlePressMenu}\r\n                  handlePressScan={this.handlePressScan} />\r\n              } />\r\n          </Tab.Navigator>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  footerText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableUpperBand: {\r\n    position: 'absolute',\r\n    top: 10, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    // backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'black',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableLowerBand: {\r\n    position: 'absolute',\r\n    bottom: 0, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonText: {\r\n    marginTop: 10,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: theme.grey5,\r\n    textTransform: 'uppercase'\r\n  }\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayServiceEntry extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.props.handleUpdateFromServiceEntry(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayserviceentry');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Register</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='EPB ID OR IP:PORT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromServiceEntry('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayServiceEntry from './OverlayServiceEntry';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      savedEntries: [],\r\n      serviceEntry: '',\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromServiceEntry = this.handleUpdateFromServiceEntry.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    let savedEntries = await AsyncStorage.getItem('savedEntries');\r\n    if (savedEntries) {\r\n      savedEntries = JSON.parse(savedEntries);\r\n    } else {\r\n      savedEntries = [];\r\n    }\r\n    this.setState({\r\n      serviceEntry,\r\n      savedEntries,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doDeleteEntry') {\r\n      this.doDeleteEntry(selectedItem);\r\n    } else if (text === 'doSetEntry') {\r\n      this.doSetEntry(selectedItem);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromServiceEntry(text) {\r\n    this.setState({ overlayServiceEntryVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text.includes(':8085')) {\r\n      // assume local\r\n      let found = {\r\n        epbId: 'IP:PORT',\r\n        name: 'IP:PORT',\r\n        bistroServiceUrl: 'http://' + text + '/',\r\n      }\r\n      this.doSaveEntry(found);\r\n    } else {\r\n      // EPB ID\r\n      fetch('http://203.208.248.199:9090/beacon/api/locate?epbId=' + text, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('response', response);\r\n          this.doSaveEntry(response);\r\n        })\r\n        .catch(error => {\r\n          console.log('error', error);\r\n          this.setState({\r\n            overlayProcedureMessageVisible: 'INVALID EPB ID',\r\n          })\r\n        });\r\n    }\r\n  }\r\n\r\n  doSaveEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    if (!item.bistroServiceUrl) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING BISTRO SERVICE URL',\r\n      })\r\n      return;\r\n    }\r\n    if (savedEntriesUpdate.some(el => (el.epbId === item.epbId))) {\r\n      savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    }\r\n    savedEntriesUpdate.unshift(item);\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  doPressAdd() {\r\n    this.setState({\r\n      overlayServiceEntryVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressEntry(item) {\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: '',\r\n        ok: false,\r\n        cancel: true,\r\n        options: [\r\n          { text: 'SET ENTRY', handleText: 'doSetEntry' },\r\n          { text: 'DELETE ENTRY', handleText: 'doDeleteEntry' }\r\n        ],\r\n      },\r\n      overlayAlertVisible: true,\r\n      selectedItem: item,\r\n    });\r\n  }\r\n\r\n  doDeleteEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    console.log(savedEntriesUpdate)\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n  }\r\n\r\n  doSetEntry(item) {\r\n    this.setState({\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference, savedEntries, serviceEntry,\r\n      overlayServiceEntryVisible,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render register', savedEntries);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayServiceEntryVisible &&\r\n          <OverlayServiceEntry\r\n            handleUpdateFromServiceEntry={this.handleUpdateFromServiceEntry} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  {\r\n                    savedEntries.map((item, index) =>\r\n                      <TouchableOpacity\r\n                        key={index.toString()}\r\n                        style={styles.grid}\r\n                        onPress={() => this.doPressEntry(item)}>\r\n                        <View style={styles.gridFirst}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.epbId || '-'}</Text>\r\n                          <Text style={styles.gridFirstRightText}>{item.bistroServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridSecond}>\r\n                          <Text style={styles.gridSecondText}>{item.name || 'IP:PORT'}</Text>\r\n                          <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                        </View>\r\n                        <View style={[styles.gridFirst, { marginBottom: 5 }]}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.restServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridThird}>\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                          {\r\n                            item.bistroServiceUrl === serviceEntry ?\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>{intl.get('active')}</Text>\r\n                              :\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('inactive')}</Text>\r\n                          }\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    )\r\n                  }\r\n\r\n\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressAdd()}>\r\n                <AntDesign\r\n                  name='pluscircleo'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('add')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitItems extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        percentage: (100 / props.receipts.length).toFixed(0).toString(),\r\n      })),\r\n    };\r\n    this.handleFillPercentagesEvenly = this.handleFillPercentagesEvenly.bind(this);\r\n    this.handleSetPercentageForReceipt = this.handleSetPercentageForReceipt.bind(this);\r\n    this.handleSetFullPercentageForReceipt = this.handleSetFullPercentageForReceipt.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillPercentagesEvenly() {\r\n    const { receipts } = this.state;\r\n    let numberString = (100 / receipts.length).toFixed(0).toString();\r\n    receipts.forEach(item => this.handleSetPercentageForReceipt(numberString, item.docId));\r\n  }\r\n\r\n  handleSetFullPercentageForReceipt(item) {\r\n    const { receipts } = this.state;\r\n    receipts.forEach(el => {\r\n      if (el.docId === item.docId) {\r\n        this.handleSetPercentageForReceipt('100', el.docId);\r\n      } else {\r\n        this.handleSetPercentageForReceipt('0', el.docId);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSetPercentageForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.docId === docId);\r\n    if (!Number(number)) {\r\n      receiptsUpdate[index].percentage = '0';\r\n    } else {\r\n      receiptsUpdate[index].percentage = Number(number).toFixed(0).toString();\r\n    }\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdate2', receipts));\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.percentage); }, 0);\r\n    console.log('agg', aggregate);\r\n    if (receipts.some(item => receipts[0].percentage !== item.percentage) && aggregate !== 100) {\r\n      console.log('validation failed');\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromSplitItems(receipts);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTableItems } = this.props;\r\n    const { receipts } = this.state;\r\n    console.log('in overlaysplititems');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Item(s)</Text>\r\n            <Text style={styles.overlayText}>You are splitting {selectedTableItems.length} item(s) for {receipts.length} receipts</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleSetFullPercentageForReceipt(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).percentage}\r\n                      onChangeText={(number) => this.handleSetPercentageForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}>%</Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.handleFillPercentagesEvenly()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>Fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitItems('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlaySplitItems from './OverlaySplitItems';\r\n\r\nexport default class Split extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n      selectedTableItems: [],\r\n      overlaySplitItemsVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSplitSelectedTableItems = this.handleSplitSelectedTableItems.bind(this);\r\n    this.handleUndoAll = this.handleUndoAll.bind(this);\r\n    this.handleSelectAllUnsplitTableItems = this.handleSelectAllUnsplitTableItems.bind(this);\r\n    this.handleDeselectAllUnsplitTableItems = this.handleDeselectAllUnsplitTableItems.bind(this);\r\n    this.handleUpdateFromSplitItems = this.handleUpdateFromSplitItems.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    const { selectedTableItems, receipts } = this.state;\r\n    const { tableItems } = this.props;\r\n    if (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey)) {\r\n      return;\r\n    }\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSelectAllUnsplitTableItems() {\r\n    const { tableItems } = this.props;\r\n    const { selectedTableItems, receipts } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    tableItems.forEach(el => {\r\n      if (receipts[0].receiptItems.some(obj => obj.recKey === el.recKey) || selectedTableItems.some(obj => obj.recKey === el.recKey)) {\r\n        return;\r\n      }\r\n      selectedTableItemsUpdate.push(el);\r\n    });\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleDeselectAllUnsplitTableItems() {\r\n    this.setState({\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleSplitSelectedTableItems() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlaySplitItemsVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUndoAll() {\r\n    this.setState({\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleUpdateFromSplitItems(distribution) {\r\n    console.log('distribution', distribution);\r\n    if (!distribution) {\r\n      this.setState({\r\n        overlaySplitItemsVisible: false,\r\n        selectedTableItems: [],\r\n      });\r\n      return;\r\n    }\r\n    const { receipts, selectedTableItems } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    receiptsUpdate.forEach(el => {\r\n      selectedTableItems.forEach(obj => {\r\n        el.receiptItems.push({\r\n          ...obj,\r\n          percentage: distribution.find(item => item.docId === el.docId).percentage\r\n        });\r\n      })\r\n    })\r\n    this.setState({\r\n      overlaySplitItemsVisible: false,\r\n      selectedTableItems: [],\r\n      receipts: receiptsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplit(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { serviceEntry, home, selectedTable, availableReceipts, tableItems, cashierPrinters } = this.props;\r\n    const { receipts, selectedTableItems, overlaySplitItemsVisible, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in split');\r\n    \r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlaySplitItemsVisible &&\r\n          <OverlaySplitItems\r\n            receipts={receipts}\r\n            selectedTableItems={selectedTableItems}\r\n            handleUpdateFromSplitItems={this.handleUpdateFromSplitItems} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY ITEM'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE</Text>\r\n              <Text style={styles.overlaySubtitleText}>{selectedTable.tableId}</Text>\r\n              <Text style={styles.overlayTitleText}>{tableItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleUndoAll()}\r\n              >\r\n                <Text style={styles.buttonText}>Undo</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleDeselectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Deselect</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleSelectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Select</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                tableItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    disabled={(receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) ? true : false}\r\n                    style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}\r\n                  >\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}\r\n                    >\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.refRecKey ? '- ' : null}{item.menuName}\r\n                      </Text>\r\n                      {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={[styles.actionButton, selectedTableItems.length !== 0 ? { backgroundColor: theme.occupied } : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleSplitSelectedTableItems()}\r\n            >\r\n              <Text style={styles.buttonText}>Split Selected</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              receipts[0].receiptItems.length === tableItems.length ?\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.handleSubmit()}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm Split</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.props.handleUpdateFromSplit('')}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.paid }]}>Quit</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <ScrollView style={styles.splitScroll}\r\n            horizontal={true}\r\n            snapToInterval={wrapperWidth}\r\n            decelerationRate='fast'\r\n          >\r\n            {\r\n              receipts.map((obj, index) => (\r\n                <View style={styles.wrapper}\r\n                  key={obj.docId}\r\n                >\r\n                  <View style={styles.overlayHeader}>\r\n                    <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>SPLIT {index + 1} OF {receipts.length}</Text>\r\n                    <Text style={styles.overlaySubtitleText}>{obj.docId}</Text>\r\n                    <Text style={styles.overlayTitleText}>{obj.receiptItems.length} ITEMS</Text>\r\n                  </View>\r\n                  <ScrollView style={styles.itemsContainer}>\r\n                    <View style={{ paddingTop: 5 }}></View>\r\n                    {\r\n                      obj.receiptItems.map(item => (\r\n                        <TouchableOpacity key={item.recKey}\r\n                          style={styles.tableItemContainer}\r\n                        // onPress={() => this.handleSelectTableItem(item)}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <View style={styles.tableItemSecondContainer}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </View>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              <Text style={{ color: theme.reserved }}>{item.percentage}</Text><Text style={{ color: theme.grey1 }}> %</Text>\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst wrapperWidth = Dimensions.get('window').width / 3;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n    width: wrapperWidth,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayInputReference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayinputreference');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Input Reference</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                placeholder='ENTER REFERENCE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.props.handleUpdateFromInputReference(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromInputReference(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromInputReference('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\n\r\nexport default class OverlayMergeBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      selectedTargetTable: '',\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.props;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        const filteredResponse = response.filter(el => {\r\n          return el.tableId !== selectedTable.tableId;\r\n        });\r\n        this.setState({\r\n          tables: filteredResponse,\r\n          availableTables: filteredResponse,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTargetTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleSubmit(selectedTargetTable, printer);\r\n  }\r\n\r\n  handleSubmit(item, printer) {\r\n    const { home } = this.props;\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    });\r\n    const { cashierPrinters } = this.props;\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromMergeBill(item, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { overlaySearchText, availableTables, tables, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaymergebill', selectedTable);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='MERGE BILL'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Bill</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeBill('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>OCCUPIED</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, TextInput,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayNumber: 2,\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayNumber === 2) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleNumberChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayNumber: 2 })\r\n    } else {\r\n      this.setState({ overlayNumber: Number(text) })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { overlayNumber } = this.state;\r\n    console.log('in overlaysplitbill');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Bill</Text>\r\n            <Text style={styles.overlayText}>Enter the number of bills to split into</Text>\r\n          </View>\r\n          <View style={styles.adjustContainer}>\r\n            <TouchableOpacity style={styles.adjustFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.adjustSecond}>\r\n              <TextInput style={styles.overlayNumber}\r\n                selectTextOnFocus\r\n                keyboardType='numeric'\r\n                value={overlayNumber?.toString()}\r\n                onChangeText={(searchText) => this.handleNumberChange(searchText)} />\r\n            </View>\r\n            <TouchableOpacity style={styles.adjustThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 2 && { backgroundColor: theme.occupied }]}\r\n              onPress={() => this.setState({ overlayNumber: 2 })}>\r\n              <Text style={styles.buttonText}>2</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 3 && { backgroundColor: theme.reserved }]}\r\n              onPress={() => this.setState({ overlayNumber: 3 })}>\r\n              <Text style={styles.buttonText}>3</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 4 && { backgroundColor: theme.paid }]}\r\n              onPress={() => this.setState({ overlayNumber: 4 })}>\r\n              <Text style={styles.buttonText}>4</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'ITEM')}>\r\n            <Text style={styles.overlayOptionText}>Split By Item</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'AMOUNT')}>\r\n            <Text style={styles.overlayOptionText}>Split By Amount</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitBill('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n    marginBottom: 30,\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 20,\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitAmount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        recKey: item.recKey,\r\n        amount: '0',\r\n      })),\r\n      warning: 'Total amount to split is ' + props.selectedTable.grandTotal.toFixed(2),\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleFillRemainder = this.handleFillRemainder.bind(this);\r\n    this.handleSetAmountForReceipt = this.handleSetAmountForReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillRemainder(item) {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.recKey === item.recKey);\r\n    const aggregate = receipts.filter(el => el.recKey !== item.recKey).reduce((init, obj) => { return init + Number(obj.amount); }, 0);\r\n    if (aggregate <= Number(selectedTable.grandTotal)) {\r\n      receiptsUpdate[index].amount = (Number(selectedTable.grandTotal) - aggregate).toFixed(2).toString();\r\n      this.setState({\r\n        receipts: receiptsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSetAmountForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    let index = receipts.findIndex(el => el.docId === docId);\r\n    receiptsUpdate[index].amount = number;\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { selectedTable, cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.amount); }, 0).toFixed(2);\r\n    console.log('aggregate', aggregate);\r\n    if (receipts.some(item => Number(item.amount) === 0) || (Number(aggregate) !== Number(selectedTable.grandTotal))) {\r\n      console.log('validation failed');\r\n      this.setState({\r\n        warning: 'Ensure numbers are valid and add up to ' + selectedTable.grandTotal.toFixed(2),\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplitAmount(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  doFillEvenly() {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n\r\n    const equal = Number(selectedTable.grandTotal / receipts.length).toFixed(2);\r\n\r\n    receiptsUpdate.forEach((el, index) => {\r\n      if (index !== receiptsUpdate.length - 1) {\r\n        el.amount = Number(equal).toFixed(2);\r\n      } else {\r\n        el.amount = (selectedTable.grandTotal - equal * (receiptsUpdate.length - 1)).toFixed(2);\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { receipts, warning, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaysplitamount');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY AMOUNT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Amount</Text>\r\n            <Text style={styles.overlayText}>{warning}</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleFillRemainder(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).amount}\r\n                      onChangeText={(number) => this.handleSetAmountForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.doFillEvenly()}>\r\n            <Text style={styles.overlayOptionText}>fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption,]}\r\n            onPress={() => this.handleSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitAmount('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayUpdateTips extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n      overlaySearchText: '',\r\n      paymentMethods: props.paymentMethods,\r\n      availablePaymentMethods: props.paymentMethods,\r\n      selectedPaymentMethod: null,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { paymentMethods } = this.state;\r\n    let availablePaymentMethodsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availablePaymentMethodsUpdate = paymentMethods;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePaymentMethods: availablePaymentMethodsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePaymentMethodsUpdate = availablePaymentMethodsUpdate.filter(item => {\r\n      return item.pmId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePaymentMethods: availablePaymentMethodsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlayText, selectedPaymentMethod, availablePaymentMethods, overlaySearchText } = this.state;\r\n    console.log('in overlayupdatetips', availablePaymentMethods);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Update Tips</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                keyboardType='numeric'\r\n                placeholder='ENTER TIPS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          <View style={styles.selectWrapper}>\r\n            <View style={styles.searchBoxWrapper}>\r\n              <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                <TextInput style={styles.overlaySearchBoxInput}\r\n                  placeholder='ENTER SEARCH TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                  value={overlaySearchText}\r\n                />\r\n                <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                  onPress={() => {\r\n                    this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                    Keyboard.dismiss()\r\n                  }}>\r\n                  <AntDesign name='close' size={24} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availablePaymentMethods.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={[{ flex: 1 }]}\r\n              data={availablePaymentMethods}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  style={[styles.overlayGrid, selectedPaymentMethod?.pmId === item.pmId && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.setState({ selectedPaymentMethod: item, })}>\r\n                  <View style={styles.overlayGridFirst}>\r\n                    <View style={styles.overlayGridFirstLeft}>\r\n                      <Text style={styles.overlayGridFirstLeftText}>{item.pmId}</Text>\r\n                    </View>\r\n                    <View style={styles.overlayGridFirstRight}>\r\n                      <Text style={styles.overlayGridFirstRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.overlayGridSecond}>\r\n                    <Text style={styles.overlayGridSecondText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridThird}>\r\n                    <View style={styles.overlayGridThirdLeft}>\r\n                    </View>\r\n                    <View style={styles.overlayGridThirdRight}>\r\n                      <Text style={styles.overlayGridThirdRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips(overlayText, selectedPaymentMethod)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayViewSplitted extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { receipts } = this.props;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>VIEW</Text>\r\n            <Text style={styles.overlaySubtitleText}>Splitted Receipts</Text>\r\n            <Text style={styles.overlayText}></Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.recKey}\r\n                >\r\n                  <View style={styles.inputRowLeft}>\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </View>\r\n                  <View style={styles.inputRowRight}>\r\n                    <Text style={styles.textInput}>{item.grandTotal ? item.grandTotal.toFixed(2) : null}</Text>\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromViewSplitted('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport QRCode from 'react-native-qrcode-svg';\r\nimport Paynow from '../assets/paynow.png';\r\nimport moment from 'moment';\r\n\r\nclass PaynowQR {\r\n  constructor(opts) {\r\n    Object.defineProperty(this, 'qrstring', {\r\n      value: this.generate(opts)\r\n    });\r\n  }\r\n  output() {\r\n    return this.qrstring;\r\n  }\r\n\r\n  padLeft(s, n, str) {\r\n    if (n < String(s).length) {\r\n      return s.toString();\r\n    }\r\n    else {\r\n      return Array(n - String(s).length + 1).join(str || '0') + s;\r\n    }\r\n  }\r\n\r\n  crc16(s) {\r\n    var crcTable = [0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5,\r\n      0x60c6, 0x70e7, 0x8108, 0x9129, 0xa14a, 0xb16b,\r\n      0xc18c, 0xd1ad, 0xe1ce, 0xf1ef, 0x1231, 0x0210,\r\n      0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6,\r\n      0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c,\r\n      0xf3ff, 0xe3de, 0x2462, 0x3443, 0x0420, 0x1401,\r\n      0x64e6, 0x74c7, 0x44a4, 0x5485, 0xa56a, 0xb54b,\r\n      0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d,\r\n      0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6,\r\n      0x5695, 0x46b4, 0xb75b, 0xa77a, 0x9719, 0x8738,\r\n      0xf7df, 0xe7fe, 0xd79d, 0xc7bc, 0x48c4, 0x58e5,\r\n      0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823,\r\n      0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969,\r\n      0xa90a, 0xb92b, 0x5af5, 0x4ad4, 0x7ab7, 0x6a96,\r\n      0x1a71, 0x0a50, 0x3a33, 0x2a12, 0xdbfd, 0xcbdc,\r\n      0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a,\r\n      0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03,\r\n      0x0c60, 0x1c41, 0xedae, 0xfd8f, 0xcdec, 0xddcd,\r\n      0xad2a, 0xbd0b, 0x8d68, 0x9d49, 0x7e97, 0x6eb6,\r\n      0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70,\r\n      0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a,\r\n      0x9f59, 0x8f78, 0x9188, 0x81a9, 0xb1ca, 0xa1eb,\r\n      0xd10c, 0xc12d, 0xf14e, 0xe16f, 0x1080, 0x00a1,\r\n      0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067,\r\n      0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c,\r\n      0xe37f, 0xf35e, 0x02b1, 0x1290, 0x22f3, 0x32d2,\r\n      0x4235, 0x5214, 0x6277, 0x7256, 0xb5ea, 0xa5cb,\r\n      0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d,\r\n      0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447,\r\n      0x5424, 0x4405, 0xa7db, 0xb7fa, 0x8799, 0x97b8,\r\n      0xe75f, 0xf77e, 0xc71d, 0xd73c, 0x26d3, 0x36f2,\r\n      0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634,\r\n      0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9,\r\n      0xb98a, 0xa9ab, 0x5844, 0x4865, 0x7806, 0x6827,\r\n      0x18c0, 0x08e1, 0x3882, 0x28a3, 0xcb7d, 0xdb5c,\r\n      0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a,\r\n      0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0,\r\n      0x2ab3, 0x3a92, 0xfd2e, 0xed0f, 0xdd6c, 0xcd4d,\r\n      0xbdaa, 0xad8b, 0x9de8, 0x8dc9, 0x7c26, 0x6c07,\r\n      0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1,\r\n      0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba,\r\n      0x8fd9, 0x9ff8, 0x6e17, 0x7e36, 0x4e55, 0x5e74,\r\n      0x2e93, 0x3eb2, 0x0ed1, 0x1ef0];\r\n\r\n    var crc = 0xFFFF;\r\n    var j, i;\r\n\r\n    for (i = 0; i < s.length; i++) {\r\n\r\n      let c = s.charCodeAt(i);\r\n      if (c > 255) {\r\n        throw new RangeError();\r\n      }\r\n      j = (c ^ (crc >> 8)) & 0xFF;\r\n      crc = crcTable[j] ^ (crc << 8);\r\n    }\r\n\r\n    return ((crc ^ 0) & 0xFFFF).toString(16).toUpperCase();\r\n  }\r\n\r\n\r\n  generate(opts) {\r\n\r\n    for (let key in opts) {\r\n      if (typeof opts[key] == 'string') {\r\n        opts[key] = opts[key].trim();\r\n      }\r\n    }\r\n\r\n\r\n    const p = [\r\n      { id: '00', value: '01' },                    // ID 00: Payload Format Indicator (Fixed to '01')\r\n      { id: '01', value: '12' },                    // ID 01: Point of Initiation Method 11: static, 12: dynamic\r\n      {\r\n        id: '26', value:                            // ID 26: Merchant Account Info Template\r\n          [{ id: '00', value: 'SG.PAYNOW' },\r\n          { id: '01', value: '2' },                 // 0 for mobile, 2 for UEN. 1 is not used.\r\n          { id: '02', value: String(opts.uen) },            // PayNow UEN (Company Unique Entity Number)\r\n          { id: '03', value: String(!opts.amount || opts.editable ? 1 : 0) },       // 1 = Payment amount is editable, 0 = Not Editable\r\n          { id: '04', value: String(opts.expiry) }]         // Expiry date (YYYYMMDD)\r\n      },\r\n      { id: '52', value: '0000' },                  // ID 52: Merchant Category Code (not used)\r\n      { id: '53', value: '702' },                   // ID 53: Currency. SGD is 702\r\n      { id: '54', value: String(opts.amount || 0) },  // ID 54: Transaction Amount\r\n      { id: '58', value: 'SG' },                    // ID 58: 2-letter Country Code (SG)\r\n      { id: '59', value: String(opts.company || 'COMPANY') },          // ID 59: Company Name\r\n      { id: '60', value: 'Singapore' }             // ID 60: Merchant City\r\n\r\n    ]\r\n\r\n    let otherdata = {\r\n      id: '62', value: [{                         // ID 62: Additional data fields\r\n        id: '01', value: String(opts.refNumber || '')           // ID 01: Bill Number\r\n      }]\r\n    };\r\n\r\n    if (opts.refNumber) {\r\n      p.push(otherdata);\r\n    }\r\n\r\n    let str = p.reduce((final, current) => {\r\n      if (Array.isArray(current.value)) { //nest loop\r\n        current.value = current.value.reduce((f, c) => {\r\n          f += c.id + this.padLeft(c.value.length.toString(), 2) + c.value;\r\n          return f\r\n        }, \"\")\r\n      }\r\n      final += current.id + this.padLeft(current.value.length.toString(), 2) + current.value;\r\n      return final\r\n    }, \"\")\r\n\r\n    // Here we add \"6304\" to the previous string\r\n    // ID 63 (Checksum) 04 (4 characters)\r\n    // Do a CRC16 of the whole string including the \"6304\"\r\n    // then append it to the end.\r\n    str += '6304' + this.padLeft(this.crc16(str + '6304'), 4);\r\n\r\n    return str;\r\n\r\n  }\r\n}\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home } = this.props;\r\n    let qrcode = new PaynowQR({\r\n      uen: home.uen,           //Required: UEN of company\r\n      amount: Number(this.props.input.amount),               //Specify amount of money to pay.\r\n      editable: false,             //Whether or not to allow editing of payment amount. Defaults to false if amount is specified\r\n      expiry: moment().format('YYYYMMDD'),         //Set an expiry date for the Paynow QR code (YYYYMMDD). If omitted, defaults to 5 years from current time.\r\n      refNumber: this.props.input.reference,   //Reference number for Paynow Transaction. Useful if you need to track payments for recouncilation.\r\n      company: home.orgName   //Company name to embed in the QR code. Optional.               \r\n    });\r\n\r\n    this.setState({\r\n      qrcodeString: qrcode.output(),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { input, qrcodeString } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlaySubtitleText}>${this.props.input.amount}</Text>\r\n            <Text style={[styles.overlayText, { marginTop: 0 }]}>{this.props.home.orgName}</Text>\r\n          </View>\r\n          <QRCode\r\n            size={300}\r\n            value={qrcodeString}\r\n            color='#761972'\r\n            logo={Paynow}\r\n            logoSize={80}\r\n          />\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={[styles.overlayText, { marginTop: 5 }]}>Thank you!</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { width: 400 }]}\r\n            onPress={() => this.props.handleUpdateFromPaynow('')}>\r\n            <Text style={styles.overlayOptionText}>CONTINUE</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    // width: '40%',\r\n    // backgroundColor: theme.grey2,\r\n    // borderRadius: 5,\r\n    // overflow: 'hidden',\r\n    alignItems: 'center',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Dimensions, FlatList, ScrollView, Platform, Text, Image } from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport Split from './Split';\r\nimport OverlayInputReference from './OverlayInputReference';\r\nimport OverlayMergeBill from './OverlayMergeBill';\r\nimport OverlaySplitBill from './OverlaySplitBill';\r\nimport OverlaySplitAmount from './OverlaySplitAmount';\r\nimport OverlayUpdateTips from './OverlayUpdateTips';\r\nimport OverlayViewSplitted from './OverlayViewSplitted';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayPaynow from './OverlayPaynow';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Pos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      paymentMethods: props.route.params.masters.paymentMethods,\r\n      settings: props.route.params.masters.settings,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedTable: props.route.params.selectedTable,\r\n      payments: props.route.params.pospays,\r\n\r\n      selectedPaymentMethod: null,\r\n      selectedPaymentItem: '',\r\n      numberString: '0',\r\n      pay: props.route.params.selectedTable.balance,\r\n\r\n      overlayPaynowVisible: false,\r\n      overlayInputReferenceVisible: false,\r\n      overlayMergeBillVisible: false,\r\n      overlaySplitBillVisible: false,\r\n      overlaySplitAmountVisible: false,\r\n      overlayUpdateTipsVisible: false,\r\n      overlayViewSplittedVisible: false,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printPurpose: '',\r\n      selectedPrinter: '',\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      splitting: false,\r\n      availableReceipts: [],\r\n      splitReceipts: [],\r\n      tableItems: [],\r\n    };\r\n    this.handleBuildNumberString = this.handleBuildNumberString.bind(this);\r\n    this.handleSelectPaymentMethod = this.handleSelectPaymentMethod.bind(this);\r\n    this.handleRounding = this.handleRounding.bind(this);\r\n    this.handleEnterButton = this.handleEnterButton.bind(this);\r\n    this.handleFinishButton = this.handleFinishButton.bind(this);\r\n    this.handleAddPayment = this.handleAddPayment.bind(this);\r\n    this.handleDeletePayment = this.handleDeletePayment.bind(this);\r\n    this.handleFinishPayment = this.handleFinishPayment.bind(this);\r\n    this.handleUnsplitBill = this.handleUnsplitBill.bind(this);\r\n    this.handlePressPaymentItem = this.handlePressPaymentItem.bind(this);\r\n    this.handlePressPaymentItemRef = this.handlePressPaymentItemRef.bind(this);\r\n    this.handlePressMerge = this.handlePressMerge.bind(this);\r\n    this.handlePressUnmerge = this.handlePressUnmerge.bind(this);\r\n    this.handlePressTips = this.handlePressTips.bind(this);\r\n    this.handlePressSplit = this.handlePressSplit.bind(this);\r\n    this.handlePressUnsplit = this.handlePressUnsplit.bind(this);\r\n    this.handleViewSplitted = this.handleViewSplitted.bind(this);\r\n    this.handleUpdateFromInputReference = this.handleUpdateFromInputReference.bind(this);\r\n    this.handleUpdateFromMergeBill = this.handleUpdateFromMergeBill.bind(this);\r\n    this.handleUpdateFromSplitBill = this.handleUpdateFromSplitBill.bind(this);\r\n    this.handleUpdateFromSplitAmount = this.handleUpdateFromSplitAmount.bind(this);\r\n    this.handleUpdateFromSplit = this.handleUpdateFromSplit.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromUpdateTips = this.handleUpdateFromUpdateTips.bind(this);\r\n    this.handleUpdateFromViewSplitted = this.handleUpdateFromViewSplitted.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromPaynow = this.handleUpdateFromPaynow.bind(this);\r\n    this.handleOpenDrawer = this.handleOpenDrawer.bind(this);\r\n    this.handleValidateAmount = this.handleValidateAmount.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleViewSplitted()\r\n  }\r\n\r\n  handleBuildNumberString(type) {\r\n    const { numberString } = this.state;\r\n    const maxLength = 7;\r\n\r\n    if (type === 'DEL') {\r\n      if (numberString.length !== 1) {\r\n        let newNumberString = numberString.slice(0, -1);\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === 'CLEAR') {\r\n      if (numberString !== '0') {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === '.') {\r\n      if (numberString.length > maxLength - 2) return;\r\n      if (numberString.indexOf('.') < '0') {\r\n        let newNumberString = numberString + '.';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '0') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '0';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '00') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 0) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '00';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else { // 9, 8, 7, 6, 5, 4, 3, 2, 1\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + type;\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: type\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSelectPaymentMethod(type) {\r\n    // early exit memberson\r\n    if (type.refType === 'P') {\r\n      const { numberString, selectedTable } = this.state;\r\n      let numberStringUpdate = '';\r\n      if (selectedTable.vipPtsMoney < selectedTable.balance) {\r\n        numberStringUpdate = Math.floor(selectedTable.vipPtsMoney);\r\n      } else {\r\n        numberStringUpdate = Math.floor(selectedTable.balance);\r\n      }\r\n      this.setState({\r\n        numberString: numberStringUpdate,\r\n        selectedPaymentMethod: type,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedPaymentMethod: type,\r\n    });\r\n    console.log(type);\r\n    this.handleRounding(type);\r\n  }\r\n\r\n  handleEnterButton() {\r\n    const { numberString, selectedPaymentMethod } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const decimal = 2;\r\n    if (!selectedPaymentMethod) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Missing Payment Method',\r\n          text: 'Please select a payment method',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    // if (numberStringVal === 0) {\r\n    //   return;\r\n    // }\r\n    // early exit memberson\r\n    if (selectedPaymentMethod.refType === 'P') {\r\n      if (!this.handleValidateAmount()) return;\r\n    }\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleAddPayment());\r\n  }\r\n\r\n  handleValidateAmount() {\r\n    const { numberString, selectedTable } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const isInteger = Number.isInteger(numberStringVal);\r\n    console.log('isInteger', isInteger, selectedTable.balance, selectedTable.vipPtsMoney);\r\n\r\n    if (!Number.isInteger(numberStringVal) || numberStringVal > selectedTable.balance || numberStringVal > selectedTable.vipPtsMoney) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Inappropriate Amount',\r\n          text: 'Enter an integer less than balance and redeemable',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      });\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  handleFinishButton() {\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleFinishPayment());\r\n  }\r\n\r\n  handleFinishPayment(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'FINISH PAYMENT',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUnsplitBill() {\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unsplit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unsplit Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n        this.handleViewSplitted();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPaymentItemRef(item) {\r\n    if (item.pmId === 'PAYNOW') {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        selectedPaymentItem: item,\r\n        overlayInputReferenceVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressPaymentItem(item) {\r\n    this.setState({\r\n      selectedPaymentItem: item,\r\n    });\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleDeletePayment' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: 'Delete payment of ' + Number(item.payMoney).toFixed(2) + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleDeletePayment() {\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAddPayment() {\r\n    const { serviceEntry, home, settings, paymentMethods, selectedPaymentMethod, selectedTable, pay, numberString } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/add-payment';\r\n    console.log('here debug', Number(numberString));\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      pmId: selectedPaymentMethod.pmId,\r\n      payAmt: Number(numberString),\r\n      roundAmt: Number(selectedTable.balance - pay).toFixed(2),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post add-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Add Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          loading: false,\r\n          selectedTable: response.opentable,\r\n          selectedPaymentMethod: null,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        }, () => {\r\n          this.handleRounding(paymentMethods.find(el => el.pmId === selectedPaymentMethod.pmId))\r\n          this.handleAfterAddPayment();\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAfterAddPayment() {\r\n    const { home, selectedTable, payments } = this.state;\r\n    const found = payments.find(el => el.pmId === 'PAYNOW');\r\n    if (found) {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n        overlayPaynowInput: {\r\n          amount: found.payMoney.toFixed(2),\r\n          reference: home.shopId + '-' + selectedTable.docNo,\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  handleRounding(type) {\r\n    console.log(type);\r\n    const { selectedTable } = this.state;\r\n    const { numberString } = this.state;\r\n    const decimal = 2;\r\n    let number = Number(selectedTable.balance);\r\n\r\n    if (type.roundingFlg === 'N') {\r\n      this.setState({\r\n        pay: number,\r\n        numberString: number.toFixed(decimal).toString(),\r\n      });\r\n      return;\r\n    }\r\n\r\n    switch (type.roundType) {\r\n      case '0': // 4 down 5 up\r\n        console.log('case 0');\r\n        // number = Math.round(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '1': // ceiling\r\n        console.log('case 1');\r\n        number = Math.ceil(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '2': // floor 5\r\n        console.log('case 2');\r\n        number = Math.floor(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '3': // floor\r\n        console.log('case 3');\r\n        number = Math.floor(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '4': // closest 5\r\n        console.log('case 4');\r\n        number = Math.round(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '5':\r\n        console.log('legacy case 5 not in use');\r\n        break;\r\n      case '6':\r\n        console.log('legacy case 6 not in use');\r\n        break;\r\n    }\r\n  }\r\n\r\n  handlePressTips() {\r\n    this.setState({\r\n      overlayUpdateTipsVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSplit() {\r\n    this.setState({\r\n      overlaySplitBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnsplit() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUnsplitBill' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Unsplit Bill',\r\n        text: 'Unsplit Bill for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressMerge() {\r\n    this.setState({\r\n      overlayMergeBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnmerge(printer) {\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'UNMERGE BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unmerge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unmerge-bill successful', response.opentable);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unmerge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleViewSplitted() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/splitted-receipts';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get splitted-receipts successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          splitReceipts: response?.filter(el => el.recKey > 0),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, cashierPrinters, privileges, settings, selectedTable } = this.state;\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'OPEN DRAWER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'handleDeletePayment') {\r\n      this.handleDeletePayment();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    } else if (text === 'handleUnsplitBill') {\r\n      this.handleUnsplitBill();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromPaynow(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayPaynowVisible: false,\r\n      });\r\n      return;\r\n    }\r\n  }\r\n\r\n  handleUpdateFromInputReference(text) {\r\n    this.setState({ overlayInputReferenceVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/payment-reference';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n      ref: text,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post payment-reference successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Payment Reference',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplitBill(number, type) {\r\n    if (!number) {\r\n      this.setState({ overlaySplitBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-split-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      splitCount: number,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-split-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Split Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'ITEM') {\r\n          this.setState({\r\n            splitting: true,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else if (type === 'AMOUNT') {\r\n          this.setState({\r\n            overlaySplitAmountVisible: true,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else {\r\n\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplit(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            selectedTable: response.opentable,\r\n            overlaySplitBillVisible: false,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceipts: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          itemPercentages: el.receiptItems.map(obj => ({\r\n            itemRecKey: obj.recKey,\r\n            percentage: obj.percentage,\r\n          }))\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromSplitAmount(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    this.setState({\r\n      overlaySplitAmountVisible: false,\r\n    });\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt-byamt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceiptsByamt: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          amt: el.amount,\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromMergeBill(table, printer) {\r\n    if (!table) {\r\n      this.setState({ overlayMergeBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      tableIdGuest: table.tableId,\r\n      iomodelId: printer && printer.iomodelId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n          overlayMergeBillVisible: false,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromUpdateTips(number, method) {\r\n    this.setState({ overlayUpdateTipsVisible: false });\r\n    if (!number) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-tips';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      tips: Number(number).toFixed(2),\r\n      pmId: method?.pmId || '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-tips successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Tips',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            `${number},${method?.pmId}`,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromViewSplitted(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayViewSplittedVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'UNMERGE BILL') {\r\n      this.handlePressUnmerge(printer);\r\n    } else if (purpose === 'FINISH PAYMENT') {\r\n      this.handleFinishPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.handleOpenDrawer(printer);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege, settings, selectedPrinter, selectedTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.handleOpenDrawer(selectedPrinter, response.userId);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, cashierPrinters, settings, selectedTable,\r\n      overlayInputReferenceVisible, overlayMergeBillVisible, overlaySplitBillVisible, overlayUpdateTipsVisible,\r\n      overlaySplitAmountVisible, overlayViewSplittedVisible, overlayRequestAccessVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayPaynowVisible, overlayPaynowInput,\r\n      numberString, paymentMethods, payments, selectedPaymentMethod, pay,\r\n      splitting, availableReceipts, splitReceipts, tableItems, requestedPrivilege,\r\n      selectedPrinter, printPurpose, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible, loading,\r\n    } = this.state;\r\n\r\n    console.log('in pos');\r\n\r\n    if (splitting) {\r\n      return (\r\n        <Split\r\n          serviceEntry={serviceEntry}\r\n          home={home}\r\n          selectedTable={selectedTable}\r\n          availableReceipts={availableReceipts}\r\n          tableItems={tableItems}\r\n          cashierPrinters={cashierPrinters}\r\n          handleUpdateFromSplit={this.handleUpdateFromSplit} />\r\n      );\r\n    }\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayInputReferenceVisible &&\r\n          <OverlayInputReference\r\n            handleUpdateFromInputReference={this.handleUpdateFromInputReference} />\r\n        }\r\n        {\r\n          overlayMergeBillVisible &&\r\n          <OverlayMergeBill\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            cashierPrinters={cashierPrinters}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeBill={this.handleUpdateFromMergeBill} />\r\n        }\r\n        {\r\n          overlaySplitBillVisible &&\r\n          <OverlaySplitBill\r\n            handleUpdateFromSplitBill={this.handleUpdateFromSplitBill} />\r\n        }\r\n        {\r\n          overlaySplitAmountVisible &&\r\n          <OverlaySplitAmount\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromSplitAmount={this.handleUpdateFromSplitAmount} />\r\n        }\r\n        {\r\n          overlayViewSplittedVisible &&\r\n          <OverlayViewSplitted\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            handleUpdateFromViewSplitted={this.handleUpdateFromViewSplitted} />\r\n        }\r\n        {\r\n          overlayUpdateTipsVisible &&\r\n          <OverlayUpdateTips\r\n            paymentMethods={paymentMethods}\r\n            handleUpdateFromUpdateTips={this.handleUpdateFromUpdateTips} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayPaynowVisible &&\r\n          <OverlayPaynow\r\n            home={home}\r\n            input={overlayPaynowInput}\r\n            handleUpdateFromPaynow={this.handleUpdateFromPaynow} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.leftFirstContainer}>\r\n            <View style={styles.rowOf5}>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => navigation.goBack()}>\r\n                <Text style={[styles.headerKeyTextTableId,]}>{selectedTable.tableId}</Text>\r\n                <Text style={[styles.headerKeyText, { marginTop: 0 }]}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.headerKeyContainer, (selectedTable.splitFlg === 'Y') && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressTips()}\r\n                disabled={selectedTable.splitFlg === 'Y'}>\r\n                <AntDesign name='like2' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('tips')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => this.handleOpenDrawer()}>\r\n                <AntDesign name='laptop' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('drawer')}</Text>\r\n              </TouchableOpacity>\r\n              {\r\n                selectedTable.splitFlg === 'Y' ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnsplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unsplit')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressSplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('splitbill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n              {\r\n                selectedTable.hostFlg === 'Y' || selectedTable.refTableId\r\n                  ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnmerge()}>\r\n                    <AntDesign name='menuunfold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unmerge')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={[styles.headerKeyContainer, selectedTable.splitFlg === 'Y' && { opacity: 0.2 }]}\r\n                    disabled={selectedTable.splitFlg === 'Y'}\r\n                    onPress={() => this.handlePressMerge()}>\r\n                    <AntDesign name='menufold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('mergebill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n          <View style={styles.leftSecondContainer}>\r\n            <View style={styles.tableSummaryContainer}>\r\n              <View style={styles.tableSummaryTitleContainer}>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('beforedisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('totaldisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('servicecharge')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tax')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tips')} {selectedTable.tipsPmId}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.reserved }]}>{intl.get('grandtotal')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.paid }]}>{intl.get('pay')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('balance')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tender')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('change')}</Text>\r\n                </View>\r\n              </View>\r\n              <View style={styles.tableSummaryValueContainer}>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.beforeDisc ? selectedTable.beforeDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalDisc ? selectedTable.totalDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.serviceCharge ? selectedTable.serviceCharge.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalTax ? selectedTable.totalTax.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tips ? selectedTable.tips.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.reserved }]}>{selectedTable.grandTotal.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.paid }]}>{pay.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.balance.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tender.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.change.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n            <ScrollView\r\n              style={{ maxHeight: 30, }}\r\n              horizontal={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                selectedTable.vipId &&\r\n                <View\r\n                  style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{selectedTable.vipId || '-'}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.reserved, }}>{selectedTable.vipName || '-'}</Text>\r\n                </View>\r\n              }\r\n              {\r\n                splitReceipts && splitReceipts.map(item =>\r\n                  <View key={item.recKey.toString()}\r\n                    style={{ flexDirection: 'row', flex: 1, alignItems: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{item.docId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', }}>{item.grandTotal ? item.grandTotal.toFixed(2) : '-'}</Text>\r\n                  </View>)\r\n              }\r\n            </ScrollView>\r\n            <View style={{ flex: 1, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n              <View style={styles.paymentsContainer}>\r\n                <View style={styles.paymentsFirst}><Text style={styles.paymentsTitleText}>No.</Text></View>\r\n                <View style={styles.paymentsSecond}><Text style={styles.paymentsTitleText}>Payment ID</Text></View>\r\n                <View style={styles.paymentsThird}><Text style={styles.paymentsTitleText}>Ref</Text></View>\r\n                <View style={styles.paymentsFourth}><Text style={styles.paymentsTitleText}>Amount</Text></View>\r\n              </View>\r\n              <ScrollView\r\n                style={{ flex: 1 }}\r\n                ref={ref => this.posScrollView = ref}\r\n                onContentSizeChange={(contentWidth, contentHeight) => {\r\n                  this.posScrollView.scrollToEnd({ animated: true });\r\n                }}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  payments.map((item, index) => (\r\n                    <View style={styles.datumContainer} key={index}>\r\n                      <View style={styles.datumFirst}><Text style={styles.datumText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={styles.datumSecond} onPress={() => this.handlePressPaymentItem(item)}>\r\n                        <Text style={styles.datumText}>{item.name}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.datumThird} onPress={() => this.handlePressPaymentItemRef(item)}>\r\n                        <Text style={styles.datumText}>{item.payRef}</Text>\r\n                      </TouchableOpacity>\r\n                      <View style={styles.datumFourth}><Text style={styles.datumText}>{item.payMoney.toFixed(2)}</Text></View>\r\n                    </View>\r\n                  ))\r\n                }\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n          <View style={styles.rowOf5}>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightFirstContainer}>\r\n            <FlatList\r\n              style={{ flex: 3 }}\r\n              showsVerticalScrollIndicator={false}\r\n              numColumns={5}\r\n              data={paymentMethods}\r\n              extraData={selectedPaymentMethod}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => {\r\n                return (\r\n                  <View style={{ flex: 1 / 5, height: keyHeight }}>\r\n                    <TouchableOpacity\r\n                      style={[item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyContainer : styles.functionKeyContainer, item.pmId ? null : { opacity: 0.2 },]}\r\n                      onPress={() => this.handleSelectPaymentMethod(item)}>\r\n                      <Image\r\n                        style={{ flex: 1, aspectRatio: 1 }}\r\n                        source={{\r\n                          uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.pmId + '&t=' + item.lastupdate\r\n                        }}\r\n                      />\r\n                      <View style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, alignItems: 'center', justifyContent: 'center', }}>\r\n                        <Text style={item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyText : styles.functionKeyText}>{item.pmId}</Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )\r\n              }}\r\n            />\r\n          </View>\r\n          <View style={styles.rightFirstNumberContainer}>\r\n            <Text style={styles.rightFirstNumberText}>{numberString}</Text>\r\n          </View>\r\n          <View style={styles.rightSecondContainer}>\r\n            <View style={styles.rightSecondLeftContainer}>\r\n              <TouchableOpacity style={styles.clearContainer} onPress={() => this.handleBuildNumberString('CLEAR')}>\r\n                <Text style={styles.keyText}>\r\n                  CLEAR\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.rightSecondMiddleContainer}>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('7')}>\r\n                  <Text style={styles.keyNumberText}>7</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('4')}>\r\n                  <Text style={styles.keyNumberText}>4</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('1')}>\r\n                  <Text style={styles.keyNumberText}>1</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('0')}>\r\n                  <Text style={styles.keyNumberText}>0</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('8')}>\r\n                  <Text style={styles.keyNumberText}>8</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('5')}>\r\n                  <Text style={styles.keyNumberText}>5</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('2')}>\r\n                  <Text style={styles.keyNumberText}>2</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('.')}>\r\n                  <Text style={styles.keyNumberText}>.</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('9')}>\r\n                  <Text style={styles.keyNumberText}>9</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('6')}>\r\n                  <Text style={styles.keyNumberText}>6</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('3')}>\r\n                  <Text style={styles.keyNumberText}>3</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('00')}>\r\n                  <Text style={styles.keyNumberText}>00</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.rightSecondRightContainer}>\r\n              <TouchableOpacity style={styles.backspaceContainer} onPress={() => this.handleBuildNumberString('DEL')}>\r\n                {/* <Ionicons name='ios-arrow-round-back' size={48} color='white' /> */}\r\n                <Text style={styles.keyText}>\r\n                  DEL\r\n                </Text>\r\n              </TouchableOpacity>\r\n              {\r\n                (selectedTable.balance === 0 && !selectedPaymentMethod) ?\r\n                  <TouchableOpacity style={[styles.finishContainer, loading && { opacity: 0.2 }]}\r\n                    disabled={loading}\r\n                    onPress={() => this.handleFinishButton()}>\r\n                    {/* <Ionicons name='ios-arrow-up' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      FINISH\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={[styles.enterContainer, loading && { opacity: 0.2 }]}\r\n                    disabled={loading}\r\n                    onPress={() => this.handleEnterButton()}>\r\n                    {/* <Ionicons name='ios-return-left' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      ENTER\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n  },\r\n  leftFirstContainer: {\r\n    // backgroundColor: 'blue',\r\n    flex: 1,\r\n  },\r\n  leftSecondContainer: {\r\n    flex: 6,\r\n    margin: 5,\r\n  },\r\n  rightFirstContainer: {\r\n    flex: 3,\r\n  },\r\n  rightSecondContainer: {\r\n    flex: 4,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondLeftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightSecondMiddleContainer: {\r\n    flex: 3,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondRightContainer: {\r\n    flex: 1,\r\n  },\r\n  rowOf5: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightFirstNumberContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tableSummaryContainer: {\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'row',\r\n    // backgroundColor: 'brown',\r\n    marginHorizontal: 60,\r\n    marginTop: 10,\r\n    marginBottom: 20,\r\n  },\r\n  tableSummaryTitleContainer: {\r\n    alignItems: 'flex-start',\r\n    // backgroundColor: 'green'\r\n  },\r\n  tableSummaryValueContainer: {\r\n    alignItems: 'flex-end',\r\n    // backgroundColor: 'blue'\r\n  },\r\n  tableSummaryTitle: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n    // backgroundColor:'red'\r\n  },\r\n  tableSummaryValue: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  tableSummaryTitleText: {\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n    color: 'white',\r\n  },\r\n  tableSummaryValueText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  keyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backspaceContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  enterContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.reserved,\r\n  },\r\n  finishContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.occupied,\r\n    borderRadius: 5,\r\n    borderWidth: 2,\r\n    borderColor: 'white',\r\n  },\r\n  clearContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.paid,\r\n  },\r\n  functionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  activeFunctionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'white',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyTextTableId: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 24,\r\n  },\r\n  headerKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 12,\r\n  },\r\n  keyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  keyNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  functionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  activeFunctionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'black',\r\n    textAlign: 'center',\r\n  },\r\n  rightFirstNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 64,\r\n  },\r\n  paymentsContainer: {\r\n    height: 30,\r\n    // backgroundColor: 'white',\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n  },\r\n  dataContainer: {\r\n    flex: 1,\r\n  },\r\n  paymentsFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey2,\r\n  },\r\n  paymentsSecond: {\r\n    flex: 3,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsThird: {\r\n    flex: 5,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  paymentsTitleText: {\r\n    color: theme.grey5,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  datumFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  datumSecond: {\r\n    flex: 3,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  datumThird: {\r\n    flex: 5,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  datumFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  datumText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  datumContainer: {\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Adhoc extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      menus: props.route.params.masters.menus,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedAdhocItem: '',\r\n      selectedMenu: '',\r\n      adhocItems: [],\r\n\r\n      searchText: '',\r\n      availableMenus: props.route.params.masters.menus.filter(menu => {\r\n        return menu.menuType === 'X';\r\n      }),\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSelectAdhoc = this.handleSelectAdhoc.bind(this);\r\n    this.handlePressSettleAsMenu = this.handlePressSettleAsMenu.bind(this);\r\n    this.handlePressSettleAsRetail = this.handlePressSettleAsRetail.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doGet();\r\n  }\r\n\r\n  doGet() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/opentable-adhocs';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get opentable-adhocs successful', response);\r\n        // to state\r\n        this.setState({\r\n          adhocItems: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    this.setState({\r\n      selectedAdhocItem: item,\r\n      selectedMenu: '',\r\n    });\r\n  }\r\n\r\n  handleSelectAdhoc(item) {\r\n    const { selectedAdhocItem } = this.state;\r\n    if (!selectedAdhocItem) return;\r\n    this.setState({\r\n      selectedMenu: item,\r\n    });\r\n  }\r\n\r\n  handlePressSettleAsMenu() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, settings, selectedTable, selectedAdhocItem, selectedMenu } = this.state;\r\n\r\n    if (!selectedAdhocItem) return;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      orderQty: '1',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Adhoc Settle Menu',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedAdhocItem.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.doGet();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressSettleAsRetail() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, settings, selectedTable, selectedAdhocItem } = this.state;\r\n\r\n    if (!selectedAdhocItem) return;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      // restmenuRecKey: menu.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      orderQty: selectedAdhocItem.orderQty,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Adhoc Settle Retail',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedAdhocItem.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.doGet();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus.filter(menu => {\r\n      return menu.menuType === 'X';\r\n    });\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, adhocItems, selectedAdhocItem, selectedMenu, searchText, availableMenus,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in adhoc',);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n              <Text style={styles.overlaySubtitleText}>Ad Hoc</Text>\r\n              <Text style={styles.overlayTitleText}>{adhocItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={[styles.button, { opacity: 0.2 }]}\r\n                disabled={true}\r\n                onPress={() => this.handlePressSettleAsRetail()}>\r\n                <Text style={styles.buttonText}>Settle</Text>\r\n                <Text style={styles.buttonText}>As</Text>\r\n                <Text style={styles.buttonText}>Retail</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={!selectedMenu}\r\n                onPress={() => this.handlePressSettleAsMenu()}>\r\n                <Text style={styles.buttonText}>Settle</Text>\r\n                <Text style={styles.buttonText}>As</Text>\r\n                <Text style={styles.buttonText}>Menu</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                adhocItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    style={[styles.tableItemContainer, (selectedAdhocItem.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}>\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.name}\r\n                      </Text>\r\n                      <Text style={styles.tableItemText}>\r\n                        {moment(item.createDate).format(\"HH:mm\")}\r\n                      </Text>\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={styles.actionButton}\r\n              onPress={() => navigation.goBack()}>\r\n              <Text style={[styles.buttonText, { color: theme.paid }]}>QUIT</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightWrapper}>\r\n            <View style={styles.searchBox}>\r\n              <TextInput style={styles.searchBoxInputValue}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                value={searchText}\r\n                onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n              />\r\n              <TouchableOpacity style={styles.searchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={{ flex: 1 }}\r\n              data={availableMenus}\r\n              keyExtractor={item => item.recKey.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  key={item.recKey}\r\n                  style={[styles.grid, (selectedMenu.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.handleSelectAdhoc(item)}>\r\n                  <View style={styles.gridFirst}>\r\n                    <View style={styles.gridFirstLeft}>\r\n                      <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                    </View>\r\n                    <View style={styles.gridFirstRight}>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.gridSecond}>\r\n                    <Text style={styles.gridSecondText}>\r\n                      {item.menuName}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.gridThird}>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  rightWrapper: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    width: 400,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    height: 80,\r\n    width: 400,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  FlatList, TextInput,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Dayclose extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      dayclosePayments: props.route.params.dayclosePayments,\r\n      daycloseSubPayments: props.route.params.daycloseSubPayments,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      total: props.route.params.dayclosePayments.reduce((init, obj) => { return init + obj.systemAmt }, 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }),\r\n      focused: null,\r\n    };\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n\r\n    this.handleFinishDayclose = this.handleFinishDayclose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleFinishDayclose(printer);\r\n  }\r\n\r\n  handleFinishDayclose(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, dayclosePayments, daycloseSubPayments, cashierPrinters } = this.state;\r\n    if (dayclosePayments.length === 0) {\r\n      return;\r\n    }\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/finish-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      daycloseRecKey: dayclosePayments[0].masRecKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      verify: dayclosePayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n      subVerify: daycloseSubPayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Dayclose',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  doChangeText(item, text) {\r\n    const { dayclosePayments, daycloseSubPayments } = this.state;\r\n    const found = dayclosePayments.find(el => el.pmId === item.pmId);\r\n    this.setState({\r\n      [item.recKey]: text,\r\n      [found.recKey]: daycloseSubPayments.filter(el => el.pmId === item.pmId && el.recKey !== item.recKey).reduce((init, el) => {\r\n        return init + (this.state[el.recKey] || 0) * el.pmValue\r\n      }, Number(text) * item.pmValue)\r\n    })\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { focused, dayclosePayments, daycloseSubPayments } = this.state;\r\n    const found = daycloseSubPayments.find(el => el.recKey === focused);\r\n    if (item === 'CLEAR') {\r\n      this.doChangeText(found, '0')\r\n    } else if (Number(this.state[focused]) === 0) {\r\n      this.setState({ [focused]: item })\r\n      this.doChangeText(found, item)\r\n    } else {\r\n      this.doChangeText(found, (this.state[focused] || '') + item)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { settings, dayclosePayments, daycloseSubPayments, cashierPrinters, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible,\r\n      total, focused } = this.state;\r\n    const settingDAYCLOSEVERIFY = settings.find(el => el.setId === 'DAYCLOSEVERIFY')?.setString;\r\n    console.log('in dayclose', focused);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='DAY-END CLOSE'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>BACK</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Day-end Closing</Text>\r\n            <Text style={styles.overlayTitleText}>{dayclosePayments.length} PAYMENT METHODS</Text>\r\n          </View>\r\n          {\r\n            settingDAYCLOSEVERIFY === 'N' &&\r\n            <View style={styles.summary}>\r\n              <Text style={styles.summaryText}>TOTAL</Text>\r\n              <Text style={styles.summaryTotalText}>{total}</Text>\r\n            </View>\r\n          }\r\n          <View style={styles.searchBoxInfo}>\r\n            <View style={styles.titleFirstContainer}>\r\n              <Text style={styles.titleText}>Line No.</Text>\r\n            </View>\r\n            <View style={styles.titleSecondContainer}>\r\n              <Text style={styles.titleText}>Payment ID</Text>\r\n            </View>\r\n            <View style={styles.titleThirdContainer}>\r\n              <Text style={styles.titleText}>Payment Name</Text>\r\n            </View>\r\n            <View style={styles.titleFourthContainer}>\r\n              <Text style={styles.titleText}>Amount</Text>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            data={dayclosePayments}\r\n            showsVerticalScrollIndicator={false}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <>\r\n                <View style={[styles.tableItemContainer, (Number(this.state[item.recKey] || 0).toFixed(2) !== (item.systemAmt + item.floatAmt).toFixed(2) && daycloseSubPayments.some(el => el.pmId === item.pmId) && settingDAYCLOSEVERIFY === 'Y') && { backgroundColor: theme.paid }]}>\r\n                  <View style={styles.tableItemFirstContainer}>\r\n                    <Text style={styles.tableItemText}>{item.lineNo}</Text>\r\n                  </View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.pmId}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemFourthContainer}>\r\n                    {\r\n                      (settingDAYCLOSEVERIFY === 'Y' && daycloseSubPayments.some(obj => obj.pmId === item.pmId)) ?\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {(this.state[item.recKey] || 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                        :\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                {\r\n                  daycloseSubPayments.filter(el => el.pmId === item.pmId).map(el =>\r\n                    <View key={el.recKey.toString()}\r\n                      style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}>\r\n                        <Text style={styles.tableItemText}></Text>\r\n                      </View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, justifyContent: 'center' }}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {el.subPmId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, }}>\r\n                        <View style={[styles.inputRowRight, { marginRight: 10 }, focused === el.recKey && { backgroundColor: theme.reserved }]}>\r\n                          <TextInput style={[styles.textInput, focused === el.recKey && { color: 'black' }]}\r\n                            keyboardType='numeric'\r\n                            selectTextOnFocus={true}\r\n                            value={this.state[el.recKey] || '0'}\r\n                            onChangeText={text => this.doChangeText(el, text)}\r\n                            onFocus={() => this.setState({ focused: el.recKey })}\r\n                          />\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {(el.pmValue * Number(this.state[el.recKey] || 0)).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={[styles.containerThird]}>\r\n          <View style={{ flex: 1, }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleFinishDayclose()}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>DAY CLOSE</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View>\r\n            {\r\n              focused &&\r\n              <FlatList\r\n                data={['1', '2', '3', '4', '5', '6', '7', '8', '9', 'CLEAR', '0']}\r\n                scrollEnabled={false}\r\n                showsVerticalScrollIndicator={false}\r\n                numColumns={3}\r\n                keyExtractor={(item, index) => index.toString()}\r\n                renderItem={({ item }) => (\r\n                  <View style={{ flex: 1 / 3, aspectRatio: 1 }}>\r\n                    <TouchableOpacity style={{ margin: 2.5, flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: 'black', borderRadius: 5, }}\r\n                      onPress={() => this.doPressKey(item)}>\r\n                      {\r\n                        item === 'CLEAR' ?\r\n                          <AntDesign name='close' color='white' size={18} />\r\n                          :\r\n                          <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 18, }}>{item}</Text>\r\n                      }\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )}\r\n              />\r\n            }\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  titleFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 20,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  summary: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  summaryTotalText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    color: theme.reserved,\r\n    textAlign: 'center',\r\n  },\r\n  summaryText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Printer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printers: [],\r\n      loading: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home, serviceEntry } = this.state;\r\n    let url = serviceEntry + 'api/iomodels';\r\n    const params = new URLSearchParams();\r\n    params.append('posNo', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('iomodels', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          printers: response,\r\n        }, () => this.handlePingAll())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingPrinter(item) {\r\n    const { serviceEntry, printers } = this.state;\r\n\r\n    let printersUpdate0 = printers;\r\n    printersUpdate0.find(el => el.recKey === item.recKey).statusFlg = 'PING...';\r\n    this.setState({\r\n      printers: printersUpdate0,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/iomodels/' + item.recKey;\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('ping iomodel', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        let printersUpdate = printers;\r\n        if (response.msgId === 'OK') {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'ONLINE';\r\n        } else {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'OFFLINE';\r\n        }\r\n        this.setState({\r\n          printers: printersUpdate,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPingAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handlePingAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Ping All Printers',\r\n        text: 'Send ping to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressTestAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleTestAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Test All Printers',\r\n        text: 'Send test command to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handleTestAll() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/test-printer';\r\n    const params = new URLSearchParams();\r\n    params.append('userId', home.userId);\r\n    params.append('orgId', home.orgId);\r\n    params.append('locId', home.locId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET',\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post test-printer successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingAll() {\r\n    const { printers } = this.state;\r\n    printers.forEach(el => this.handlePingPrinter(el));\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleTestAll') {\r\n      this.handleTestAll();\r\n    } else if (text === 'handlePingAll') {\r\n      this.handlePingAll();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { printers, loading,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('in printers');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2 === 0) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}\r\n                        >\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          key={item.recKey}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}\r\n                        >\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressPingAll()}\r\n              >\r\n                <AntDesign\r\n                  name='fork'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>PING {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressTestAll()}\r\n              >\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('test')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayEnterDate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dateString: props.dateString ? moment(props.dateString).format('YYYY-MM-DD') : moment(new Date()).format('YYYY-MM-DD'),\r\n      valid: true,\r\n    }\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleValidate(dateString) {\r\n    this.setState({\r\n      dateString,\r\n      valid: moment(dateString, 'YYYY-MM-DD', true).isValid(),\r\n    });\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    const { dateString } = this.state;\r\n    if (type === 'PLUS') {\r\n      let dateStringUpdate = moment(dateString).add(1, 'days').format('YYYY-MM-DD');\r\n\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      let dateStringUpdate = moment(dateString).subtract(1, 'days').format('YYYY-MM-DD');\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { dateString, valid } = this.state;\r\n    console.log('in overlayenterdate', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Enter Date</Text>\r\n          </View>\r\n          <View style={styles.inputRow}>\r\n            <TouchableOpacity style={styles.inputRowFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.inputRowSecond}>\r\n              <TextInput style={[styles.textInput, !valid && { color: theme.paid }]}\r\n                keyboardType='numeric'\r\n                value={dateString}\r\n                onChangeText={(dateString) => this.handleValidate(dateString)}\r\n              />\r\n            </View>\r\n            <TouchableOpacity style={styles.inputRowThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity onPress={() => this.setState({ dateString: moment().format('YYYY-MM-DD'), valid: true })}>\r\n            <Text style={styles.overlayText}>YYYY-MM-DD</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }, !valid && { opacity: 0.2 }]}\r\n            disabled={!valid}\r\n            onPress={() => this.props.handleUpdateFromEnterDate(dateString, this.props.dateType)}>\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromEnterDate('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    width: '100%',\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowFirst: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowSecond: {\r\n    flex: 1,\r\n    minWidth: 80,\r\n    width: 150,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowThird: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Report extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedButton: '',\r\n      fromDateString: moment().format('YYYY-MM-DD'),\r\n      toDateString: moment().format('YYYY-MM-DD'),\r\n      reportDetails: '',\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleSelectReport = this.handleSelectReport.bind(this);\r\n    this.handlePrintReport = this.handlePrintReport.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handlePressDate(type) {\r\n    const { fromDateString, toDateString } = this.state;\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n      selectedDateType: type,\r\n      selectedDateString: type === 'FROMDATE' ? fromDateString : toDateString,\r\n    })\r\n  }\r\n\r\n  handleSelectReport(report, superUserId) {\r\n    const { serviceEntry, home, privileges, fromDateString, toDateString } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === report)) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: report,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedButton: report,\r\n    });\r\n    console.log('report');\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: report,\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePrintReport(printer) {\r\n    const { home, serviceEntry, cashierPrinters, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    if (!selectedButton) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/print-bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, type) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    let fromDateStringUpdate = fromDateString;\r\n    let toDateStringUpdate = toDateString;\r\n\r\n    if (type === 'TODATE') {\r\n      toDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    } else {\r\n      fromDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    }\r\n\r\n    this.setState({\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handlePrintReport(printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSelectReport(requestedPrivilege, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, cashierPrinters,\r\n      selectedButton, reportDetails, requestedPrivilege,\r\n      fromDateString, toDateString, selectedDateString, selectedDateType,\r\n      overlayProcedureMessageVisible, overlayEnterDateVisible,\r\n      overlayChoosePrinterVisible, overlayRequestAccessVisible } = this.state;\r\n    console.log('in reports');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            dateType={selectedDateType}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='PRINT REPORT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUESUM' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUESUM')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>SUMMARY</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUEDTL' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUEDTL')}\r\n            >\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>DETAIL</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'COLLECTION' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('COLLECTION')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>PAYMENT</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>COLLECTION</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reports')}</Text>\r\n            <View style={styles.gap}></View>\r\n            <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('FROMDATE')}>\r\n                <Text style={styles.overlayTitleText}>{fromDateString}</Text>\r\n              </TouchableOpacity>\r\n              <Text style={styles.overlayTitleText}>    /    </Text>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('TODATE')}>\r\n                <Text style={styles.overlayTitleText}>{toDateString}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>\r\n              {selectedButton === 'REVENUESUM' ?\r\n                'REVENUE SUMMARY'\r\n                :\r\n                selectedButton === 'REVENUEDTL' ?\r\n                  'REVENUE DETAIL'\r\n                  :\r\n                  selectedButton === 'COLLECTION' ?\r\n                    'PAYMENT COLLECTION'\r\n                    : null}\r\n            </Text>\r\n          </View>\r\n          {\r\n            reportDetails ?\r\n              <ScrollView style={styles.reportContainer}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  reportDetails.map((item, index) =>\r\n                    <View style={styles.reportLineContainer}\r\n                      key={item.recKey}\r\n                    >\r\n                      <View style={styles.reportLineFirst}>\r\n                        <Text style={styles.reportLineFirstText}>{item.description}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineSecond}>\r\n                        <Text style={styles.reportLineSecondText}>{item.qty}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineThird}>\r\n                        <Text style={styles.reportLineThirdText}>{item.val ? item.val.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) : null}</Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </ScrollView>\r\n              : null\r\n          }\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button, !selectedButton && { opacity: 0.2 }]}\r\n              disabled={!selectedButton}\r\n              onPress={() => this.handlePrintReport()}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('print')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n    alignItems: 'center',\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  selection: {\r\n    width: '100%',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  reportContainer: {\r\n    flex: 1,\r\n    width: 440,\r\n    borderTopLeftRadius: 5,\r\n    borderTopRightRadius: 5,\r\n    backgroundColor: theme.grey2,\r\n    padding: 20,\r\n  },\r\n  reportLineContainer: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n  },\r\n  reportLineFirst: {\r\n    width: 240,\r\n  },\r\n  reportLineSecond: {\r\n    width: 60,\r\n  },\r\n  reportLineThird: {\r\n    width: 100,\r\n    alignItems: 'flex-end',\r\n  },\r\n  reportLineFirstText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineSecondText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineThirdText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, ScrollView,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class Reprint extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n\r\n      selectedButton: 'ORDERS',\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      searchText: '',\r\n      receiptsxText: '',\r\n\r\n      headers: '',\r\n      pays: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handlePressSearch = this.handlePressSearch.bind(this);\r\n    this.handleSelectButton = this.handleSelectButton.bind(this);\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleReprint = this.handleReprint.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/orders';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('orders', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response,\r\n          availableMasters: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSearch() {\r\n    const { serviceEntry, home, receiptsxText } = this.state;\r\n    this.setState({\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!receiptsxText) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/receipts-search';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('searchInput', receiptsxText);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas,\r\n          availableMasters: response.receiptmas,\r\n          searches: response.receiptpaydtl,\r\n          details: [],\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton } = this.state;\r\n    let url = serviceEntry;\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (selectedButton === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectButton(type) {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n\r\n    this.setState({\r\n      details: [],\r\n      selectedMaster: '',\r\n      selectedButton: type,\r\n      pays: '',\r\n      headers: '',\r\n    })\r\n\r\n    // early exit for RECEIPTSX \r\n    if (type === 'RECEIPTSX') {\r\n      this.setState({\r\n        masters: [],\r\n        availableMasters: [],\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    if (type === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (type === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (type === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry, selectedButton } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry;\r\n    console.log('item', selectedButton, item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + item.recKey + '/bundle';\r\n    } else {\r\n      url += 'api/daycloses/' + item.recKey + '/amts';\r\n    }\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n          this.setState({\r\n            details: response.receiptitems,\r\n            pays: response.receiptpays,\r\n            headers: response.receiptmas\r\n          });\r\n        } else {\r\n          this.setState({\r\n            details: response,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleReprint(printer) {\r\n    const { serviceEntry, home, cashierPrinters, selectedMaster, selectedButton } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    // console.log('item', item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + selectedMaster.recKey + '/reprint';\r\n    } else {\r\n      url += 'api/daycloses/' + selectedMaster.recKey + '/reprint';\r\n    }\r\n    console.log('debug', home.defaultPrinter);\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post reprint successful', response);\r\n\r\n        // to state\r\n\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || item.createUserId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleReprint(printer);\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { cashierPrinters, selectedButton, masters, availableMasters, details, searchText, receiptsxText,\r\n      selectedMaster, selectedDateString,\r\n      pays, headers,\r\n      overlayChoosePrinterVisible, overlayEnterDateVisible, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='REPRINT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <ScrollView\r\n                style={styles.selectionContainer}\r\n                alwaysBounceVertical={false}\r\n                showsVerticalScrollIndicator={false}>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'ORDERS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('ORDERS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'ORDERS' && { color: theme.grey1 }]}>ORDERS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'KOTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('KOTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'KOTS' && { color: theme.grey1 }]}>KOTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTS' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTSX' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTSX')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTSX' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                  <Text style={[styles.selectionText, { color: theme.paid }]}>UNKNOWN DATE</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'DAYCLOSES' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('DAYCLOSES')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'DAYCLOSES' && { color: theme.grey1 }]}>DAY CLOSES</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                {\r\n                  selectedButton !== 'RECEIPTSX' ?\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={searchText}\r\n                        onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                          Keyboard.dismiss()\r\n                        }}\r\n                      >\r\n                        <AntDesign name='close' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    :\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={receiptsxText}\r\n                        onChangeText={(text) => this.setState({ receiptsxText: text })}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.handlePressSearch();\r\n                          Keyboard.dismiss();\r\n                        }}\r\n                      >\r\n                        <AntDesign name='search1' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                }\r\n                <View style={styles.searchBoxInfo}>\r\n                  {\r\n                    selectedButton !== 'RECEIPTSX' &&\r\n                    <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                      onPress={() => this.handlePressDate()}\r\n                    >\r\n                      <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{selectedButton === 'RECEIPTSX' && moment(item.createDate).format(\"YYYY-MM-DD \")}{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX' ?\r\n                  <View style={styles.gridContainer}>\r\n                    <View style={styles.overlayHeader}>\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </View>\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>Qty</Text>\r\n                      </View>\r\n                      <View style={styles.titleSecondContainer}>\r\n                        <Text style={styles.titleText}>Desc</Text>\r\n                      </View>\r\n                      <View style={styles.titleThirdContainer}>\r\n                        <Text style={styles.titleText}>Price</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Total</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={details}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item }) => (\r\n                        <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <TouchableOpacity style={styles.tableItemSecondContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.netPrice && item.netPrice.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>No.</Text>\r\n                      </View>\r\n                      <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                        <Text style={styles.titleText}>PM ID</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Amount</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={pays}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item, index }) => (\r\n                        <TouchableOpacity\r\n                          style={[styles.tableItemContainer]}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                          <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.pmId}\r\n                            </Text>\r\n                            {\r\n                              item.payRef &&\r\n                              <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                                {item.payRef}\r\n                              </Text>\r\n                            }\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={{ flex: 1 }}>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>DISCOUNT</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={styles.gridContainer}>\r\n                    <TouchableOpacity style={styles.overlayHeader}\r\n                      onPress={() => this.setState({ selectedMaster: '', details: [] })}\r\n                    >\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </TouchableOpacity>\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                            <Text style={styles.titleText}>Payment Method</Text>\r\n                          </View>\r\n                          <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                            <Text style={styles.titleText}>Amount</Text>\r\n                          </View>\r\n                        </View>\r\n                        :\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={styles.titleFirstContainer}>\r\n                            <Text style={styles.titleText}>Qty</Text>\r\n                          </View>\r\n                          <View style={styles.titleSecondContainer}>\r\n                            <Text style={styles.titleText}>Desc</Text>\r\n                          </View>\r\n                          <View style={styles.titleThirdContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Price'}</Text>\r\n                          </View>\r\n                          <View style={styles.titleFourthContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Total'}</Text>\r\n                          </View>\r\n                        </View>\r\n                    }\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.tableItemContainer]}\r\n                            >\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                              >\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.pmId}\r\n                                </Text>\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  ${item.systemAmt && item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                        :\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.tableItemContainer]}\r\n                            >\r\n                              <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                              >\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.refRecKey ? '- ' : null}{item.menuName}\r\n                                </Text>\r\n                                {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemThirdContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.netPrice && item.netPrice.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.lineTotal && item.lineTotal.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                    }\r\n                  </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMaster && { opacity: 0.2 }]}\r\n                onPress={() => this.handleReprint()}\r\n                disabled={!selectedMaster}\r\n              >\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView, FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Resequence extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      selectedTableItems: [],\r\n      arrangedItems: props.route.params.tableItems.filter(el => el.confirmFlg === 'N'),\r\n\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n    this.handleAddLineBreak = this.handleAddLineBreak.bind(this);\r\n    this.handleRemoveLineBreak = this.handleRemoveLineBreak.bind(this);\r\n    this.handleResequence = this.handleResequence.bind(this);\r\n    this.handleShiftTop = this.handleShiftTop.bind(this);\r\n    this.handleShiftUp = this.handleShiftUp.bind(this);\r\n    this.handleShiftDown = this.handleShiftDown.bind(this);\r\n    this.handleShiftBottom = this.handleShiftBottom.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('menu selected', item);\r\n    const { selectedTableItems, arrangedItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = [];\r\n    selectedTableItemsUpdate.push(item);\r\n    let comboItems = [];\r\n    comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n    console.log('comboItems', comboItems);\r\n    comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleReset() {\r\n    this.setState({\r\n      arrangedItems: this.state.tableItems.filter(el => el.confirmFlg === 'N'),\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleAddLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'Y';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleRemoveLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'N';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftTop() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.unshift(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToOffset({ animated: true, offset: 0 }));\r\n  }\r\n\r\n  handleShiftUp() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === 0) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index - 1;\r\n    if (arrangedItems[spliceIndex].refRecKey) {\r\n      spliceIndex = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === arrangedItems[index - 1].refRecKey));\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftDown() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === arrangedItems.length - selectedTableItems.length) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index + 1;\r\n    if (arrangedItemsUpdate.some(el => el.refRecKey === arrangedItemsUpdate[index].recKey)) {\r\n      let skip = arrangedItems.filter(el => el.refRecKey === arrangedItemsUpdate[index].recKey).length;\r\n      console.log('skip', skip);\r\n      spliceIndex += skip;\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftBottom() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.push(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToEnd());\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleResequence() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, tableItems, arrangedItems } = this.state;\r\n\r\n    // count sent table items\r\n    let skip = tableItems.filter(el => el.confirmFlg === 'Y').length;\r\n    console.log('skip', skip);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/resequence';\r\n    const itemPayloads = arrangedItems.map((el, index) =>\r\n    ({\r\n      opentableItemRecKey: el.recKey,\r\n      lineNo: el.lineNo,\r\n      newLineNo: index + 1 + skip,\r\n      lineBreak: el.lineBreak,\r\n    })\r\n    );\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post resequence successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Resequence Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, tableItems, arrangedItems, selectedTableItems,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in resequence', selectedTableItems, arrangedItems);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleReset()}>\r\n              <AntDesign name='reload1' size={36} color='white' />\r\n              <Text style={styles.buttonText}>Reset</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              !selectedTableItems[0] ?\r\n                <View style={[styles.button, { opacity: 0.2 }]}>\r\n                  <AntDesign name='minus' size={36} color='white' />\r\n                  <Text style={styles.buttonText}>Add Break</Text>\r\n                </View>\r\n                :\r\n                selectedTableItems[0].lineBreak === 'Y' ?\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleRemoveLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Remove Break</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleAddLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Add Break</Text>\r\n                  </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleResequence()}>\r\n              <AntDesign name='bars' size={36} color={theme.reserved} />\r\n              <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('resequence')}</Text>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={arrangedItems}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <View>\r\n                {\r\n                  item.lineBreak === 'Y' &&\r\n                  <View style={styles.lineBreakContainer}>\r\n                    <Text style={[styles.tableItemText, { color: theme.paid }]}>- Line Break -</Text>\r\n                  </View>\r\n                }\r\n                <TouchableOpacity\r\n                  disabled={item.refRecKey ? true : false}\r\n                  style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                  onPress={() => this.handleSelectTableItem(item)}>\r\n                  <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.refRecKey && '- '}{item.menuName}\r\n                    </Text>\r\n                    {\r\n                      item.menuMod &&\r\n                      <Text style={styles.tableItemModText}>{item.menuMod}</Text>\r\n                    }\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                    </Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftTop()}>\r\n              <AntDesign name='arrowup' size={36} color='white' />\r\n              <Text style={styles.buttonText}>TOP</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftUp()}>\r\n              <AntDesign name='up' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftDown()}>\r\n              <AntDesign name='down' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftBottom()}>\r\n              <AntDesign name='arrowdown' size={36} color='white' />\r\n              <Text style={styles.buttonText}>BOTTOM</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  lineBreakContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Transfer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      tableItems: props.route.params.tableItems,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      tables: [],\r\n      availableTables: [],\r\n      selectedTargetTable: '',\r\n      selectedTableItems: [],\r\n      searchText: '',\r\n\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTargetTable = this.handleSelectTargetTable.bind(this);\r\n    this.handlePressSelectAll = this.handlePressSelectAll.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.tableId !== selectedTable.tableId),\r\n          availableTables: response.filter(el => el.tableId !== selectedTable.tableId),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  generateTextForSelectAll() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return 'SELECT ALL';\r\n    } else {\r\n      return 'DESELECT ALL';\r\n    }\r\n  }\r\n\r\n  handlePressSelectAll() {\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    if (selectedTableItems.length === 0) {\r\n      this.setState({\r\n        selectedTableItems: tableItems,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedTableItems: [],\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTargetTable(item) {\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    })\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('tableitem selected', item);\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, selectedTableItems, selectedTargetTable, home, serviceEntry, privileges, settings } = this.state;\r\n\r\n    if (selectedTableItems.length === 0 || !selectedTargetTable) {\r\n      return;\r\n    }\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'TRANSFERITEMS')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // convert array to string without items with refRecKey\r\n    let converted = selectedTableItems.filter(el => !el.refRecKey).map(el => el.recKey).reduce((init, el) => { return init + el + ','; }, '');\r\n    console.log('converted', converted);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/transfer-items';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKeyFrom: selectedTable.recKey,\r\n      opentableRecKeyTo: selectedTargetTable.recKey,\r\n      opentableItemRecKeys: converted,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post transfer-items successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Transfer Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedTargetTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { tables, availableTables, searchText } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedTable, selectedTargetTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'TRANSFERITEMS',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access TRANSFERITEMS',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { tableItems, home, selectedTargetTable, availableTables, searchText, selectedTableItems,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in transfer');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='TRANSFERITEM'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3, alignItems: 'center', justifyContent: 'center' }]}>\r\n                  <TouchableOpacity\r\n                    onPress={() => this.handlePressSelectAll()}\r\n                  >\r\n                    <Text style={styles.titleText}>{this.generateTextForSelectAll()}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      onPress={() => this.handleSelectTableItem(item)}\r\n                      disabled={item.refRecKey ? true : false}\r\n                    >\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={[styles.searchBoxInfo, { justifyContent: 'center' }]}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableTables}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedTargetTable.tableId === item.tableId && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectTargetTable(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.sectionId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={[styles.gridFirstRightText, selectedTargetTable.tableId === item.tableId ? { color: 'white' } : { color: theme.occupied }]}>OCCUPIED</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.tableId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedTargetTable || selectedTableItems.length === 0) && { opacity: 0.2 }]}\r\n                onPress={() => this.handleSubmit()}\r\n                disabled={!selectedTargetTable || selectedTableItems.length === 0}\r\n              >\r\n                <AntDesign\r\n                  name='export'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('transfer')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayVoidReceipt extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      returns: props.returns,\r\n      availableReturns: props.returns,\r\n      selectedReturn: '',\r\n\r\n      remarks: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { returns, availableReturns } = this.state;\r\n    let availableReturnsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableReturns);\r\n\r\n    availableReturnsUpdate = returns;\r\n    if (!text) {\r\n      this.setState({\r\n        availableReturns: availableReturnsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableReturnsUpdate = availableReturnsUpdate.filter(item => {\r\n      return item.returnId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableReturns: availableReturnsUpdate\r\n    });\r\n  }\r\n\r\n  handleSubmit(item) {\r\n    const { remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    this.props.handleUpdateFromVoidReceipt(itemWithRemarks);\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableReturns, remarks } = this.state;\r\n    console.log('in overlayvoidreceipt, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Void Receipt</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromVoidReceipt('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableReturns.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableReturns}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.returnId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayVoidReceipt from './OverlayVoidReceipt';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Void extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayVoidReceiptVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      mode: 'VOID',\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleVoid = this.handleVoid.bind(this);\r\n    this.handlePressVoid = this.handlePressVoid.bind(this);\r\n    this.handlePressReopen = this.handlePressReopen.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromVoidReceipt = this.handleUpdateFromVoidReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n    console.log('item', item);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: moment(text).format('YYYY-MM-DD'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege, selectedPrinter, selectedReturn } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleVoid(selectedReturn, selectedPrinter, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleReopen') {\r\n      navigation.goBack();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromVoidReceipt(text) {\r\n    this.setState({ overlayVoidReceiptVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedReturn: text,\r\n    })\r\n    this.handleVoid(text);\r\n  }\r\n\r\n  handlePressReopen() {\r\n    this.setState({\r\n      mode: 'REOPEN',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handlePressVoid() {\r\n    this.setState({\r\n      mode: 'VOID',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handleVoid(item, printer, superUserId) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString, mode, } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (!item) {\r\n      this.setState({\r\n        overlayVoidReceiptVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'VOIDRECEIPT',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    if (mode === 'REOPEN') {\r\n      url = serviceEntry + 'api/void-receipt-reopen';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    } else {\r\n      url = serviceEntry + 'api/void-receipt';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    }\r\n    // return;\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post void-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'REOPEN' ? 'Reopen Receipt' : 'Void Receipt',\r\n            home.userName,\r\n            response.message,\r\n            (mode === 'REOPEN' && !response.message) ? response.opentable.tableId : '',\r\n            '',\r\n            selectedMaster.recKey + ',' + selectedMaster.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (mode === 'REOPEN') {\r\n          this.props.route.params.handleUpdateFromVoid(response);\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully, reopened Table ' + response.opentable.tableId,\r\n              ok: false,\r\n              cancel: false,\r\n              options: [{ text: 'Ok', handleText: 'handleReopen' }],\r\n            },\r\n            overlayAlertVisible: true,\r\n            reopenResponse: response,\r\n            loading: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully',\r\n              ok: true,\r\n              cancel: false,\r\n              options: [],\r\n            },\r\n            overlayAlertVisible: true,\r\n            masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            searches: response.receiptpaydtl,\r\n            selectedMaster: '',\r\n            headers: '',\r\n            details: '',\r\n            pays: '',\r\n            loading: false,\r\n          })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayRequestAccessVisible, overlayProcedureMessageVisible,\r\n      overlayVoidReceiptVisible, overlayAlertVisible, overlayAlertInputValue, requestedPrivilege,\r\n      loading, } = this.state;\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayVoidReceiptVisible &&\r\n          <OverlayVoidReceipt\r\n            returns={this.props.route.params.masters.returns}\r\n            handleUpdateFromVoidReceipt={this.handleUpdateFromVoidReceipt} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TouchableOpacity style={styles.searchBoxInfo}\r\n                  onPress={() => this.handlePressDate()}\r\n                >\r\n                  <View style={styles.searchBoxInfoLeft}>\r\n                    <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressVoid()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.paid}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.paid }]}>{intl.get('void')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressReopen()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('reopen')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Collect extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: moment(text).format('YYYY-MM-DD'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressCollect(printer) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    url = serviceEntry + 'api/collection-receipt';\r\n    body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      receiptRecKey: selectedMaster.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      docDateString: selectedDateString,\r\n    };\r\n    console.log('body', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post collect-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Collect Receipt',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            selectedMaster.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayAlertInputValue: {\r\n            title: 'ALERT',\r\n            subtitle: 'Procedure Reply',\r\n            text: 'Receipt collected successfully',\r\n            ok: true,\r\n            cancel: false,\r\n            options: [],\r\n          },\r\n          overlayAlertVisible: true,\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedMaster: '',\r\n          headers: '',\r\n          details: '',\r\n          pays: '',\r\n          loading: false,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayProcedureMessageVisible,\r\n      overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TouchableOpacity style={styles.searchBoxInfo}\r\n                  onPress={() => this.handlePressDate()}\r\n                >\r\n                  <View style={styles.searchBoxInfoLeft}>\r\n                    <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                disabled={!selectedMaster || loading}\r\n                onPress={() => this.handlePressCollect()}>\r\n                <AntDesign\r\n                  name='gift'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('collect')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Table extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      mode: props.route.params.mode,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      vipSources: props.route.params.masters.vipSources,\r\n      availableVipSources: props.route.params.masters.vipSources,\r\n\r\n      overlayPax: props.route.params.mode === 'NEW' ? (props.route.params.masters.tablemas?.find(el => el.tableId === props.route.params.selectedTable.tableId)?.capacity || 2) : (props.route.params.selectedTable.pax || 0),\r\n      overlayVip: props.route.params.mode === 'NEW' ? null\r\n        : {\r\n          vipId: props.route.params.selectedTable.vipId || '',\r\n          vipName: props.route.params.selectedTable.vipName || '',\r\n          vipDisc: props.route.params.selectedTable.vipDisc || '',\r\n          vipPhone: props.route.params.selectedTable.vipPhone || '',\r\n          cumPts: props.route.params.selectedTable.cumPts || '',\r\n          vipPtsMoney: props.route.params.selectedTable.vipPtsMoney || '',\r\n          classId: props.route.params.selectedTable.classId || '',\r\n        },\r\n      overlayValidateVipId: '',\r\n      overlayValidateCardNumber: '',\r\n      overlayValidateNric: '',\r\n      overlayValidateVipName: '',\r\n      overlayValidateVipPhone: '',\r\n      overlayValidateVipPhoneCountryCode: '', // 65\r\n      overlayValidateEmailAddress: '',\r\n\r\n      vipResults: '',\r\n      selectedVipResult: '',\r\n\r\n      overlaySource: props.route.params.mode === 'NEW' ? ''\r\n        : {\r\n          sourceId: props.route.params.selectedTable.sourceId || '',\r\n        },\r\n      overlaySourceSearch: '',\r\n\r\n      overlayDeliveryFlg: props.route.params.mode === 'NEW' ? 'N' : (props.route.params.selectedTable.homeDelivery || ''),\r\n      overlayPostalCode: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.dpostalcode || ''),\r\n      overlayAddr1: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress1 || ''),\r\n      overlayAddr2: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress2 || ''),\r\n      overlayAddr3: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress3 || ''),\r\n      overlayAddr4: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress4 || ''),\r\n\r\n      activeTab: props.route.params.tab || 'PAX',\r\n      warning: '',\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n    this.handlePressTab = this.handlePressTab.bind(this);\r\n    this.handleSearchVip = this.handleSearchVip.bind(this);\r\n    this.handleEnterVip = this.handleEnterVip.bind(this);\r\n    this.handleClearVip = this.handleClearVip.bind(this);\r\n    this.handlePressNext = this.handlePressNext.bind(this);\r\n    this.handlePressPrev = this.handlePressPrev.bind(this);\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleAddressChange = this.handleAddressChange.bind(this);\r\n    this.handleCheckDeliveryFlg = this.handleCheckDeliveryFlg.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { navigation, } = this.props;\r\n    const { mode, home, serviceEntry, selectedTable, settings, overlayPax, overlayVip, overlaySource, overlayValidateVipName, overlayDeliveryFlg,\r\n      overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (!overlayPax && overlayPax !== 0) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + (mode === 'NEW' ? '/change-table-status' : '/update-table-info');\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: 'C',\r\n      pax: overlayPax,\r\n      // vipId: overlayVip?.vipId,\r\n      vipName: overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n      phone: overlayVip?.vipPhone,\r\n      reservationTime: '',\r\n      sourceId: overlaySource.sourceId,\r\n      deliveryFlg: overlayDeliveryFlg,\r\n      postalCode: overlayPostalCode,\r\n      addr1: overlayAddr1,\r\n      addr2: overlayAddr2,\r\n      addr3: overlayAddr3,\r\n      addr4: overlayAddr4,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post table-edit-open successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'NEW' ? 'Open Table' : 'Edit Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        if (mode === 'NEW') {\r\n          this.props.route.params.handleUpdateFromTable();\r\n        } else {\r\n          navigation.goBack();\r\n        }\r\n      })\r\n  }\r\n\r\n  handleAddressChange(type, text) {\r\n    if (type === 'POSTALCODE') {\r\n      this.setState({\r\n        overlayPostalCode: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR1') {\r\n      this.setState({\r\n        overlayAddr1: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR2') {\r\n      this.setState({\r\n        overlayAddr2: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR3') {\r\n      this.setState({\r\n        overlayAddr3: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR4') {\r\n      this.setState({\r\n        overlayAddr4: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    }\r\n  }\r\n\r\n  handleCheckDeliveryFlg() {\r\n    const { overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (overlayPostalCode || overlayAddr1 || overlayAddr2 || overlayAddr3 || overlayAddr4) {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'Y'\r\n      })\r\n    } else {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'N'\r\n      })\r\n    }\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayPax === 0) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handlePaxChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayPax: 0 })\r\n    } else {\r\n      this.setState({ overlayPax: Number(text) })\r\n    }\r\n  }\r\n\r\n  handlePressTab(type) {\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n\r\n    if (type === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (type === 'PAX') {\r\n      this.setState({\r\n        activeTab: 'PAX',\r\n      });\r\n    } else if (type === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    } else if (type === 'DELIVERY') {\r\n      this.setState({\r\n        activeTab: 'DELIVERY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressNext() {\r\n    const { activeTab } = this.state;\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activeTab === 'PAX') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (activeTab === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    } else if (activeTab === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'DELIVERY',\r\n      });\r\n    } else if (activeTab === 'DELIVERY') {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressPrev() {\r\n    const { activeTab } = this.state;\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activeTab === 'PAX') {\r\n      return;\r\n    } else if (activeTab === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'PAX',\r\n      });\r\n    } else if (activeTab === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (activeTab === 'DELIVERY') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateVipName,\r\n      overlayValidateNric, overlayValidateEmailAddress, overlayValidateVipPhone, overlayValidateVipPhoneCountryCode } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/search-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    if (overlayValidateVipId) {\r\n      body.vipId = overlayValidateVipId;\r\n    }\r\n    if (overlayValidateCardNumber) {\r\n      body.cardNumber = overlayValidateCardNumber;\r\n    }\r\n    if (overlayValidateVipName) {\r\n      body.vipName = overlayValidateVipName;\r\n    }\r\n    if (overlayValidateNric) {\r\n      body.nric = overlayValidateNric;\r\n    }\r\n    if (overlayValidateEmailAddress) {\r\n      body.emailAddress = overlayValidateEmailAddress;\r\n    }\r\n    if (overlayValidateVipPhone) {\r\n      body.vipPhone = overlayValidateVipPhone;\r\n      body.vipPhoneCountryCode = overlayValidateVipPhoneCountryCode\r\n    }\r\n    console.log('before searching vip', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Search Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'Invalid VIP search',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          warning: response.length + ' VIP result(s) found',\r\n          vipResults: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleEnterVip(item) {\r\n    this.setState({\r\n      selectedVipResult: item,\r\n    });\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/enter-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n      customerNumber: item.customerNumber,\r\n      name: item.name,\r\n      mobileNumber: item.mobileNumber,\r\n      emailAddress: item.emailaddress,\r\n      customerSource: item.customerSource,\r\n    };\r\n    console.log('before entering vip', item);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Input Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            item.customerNumber + ',' + item.name,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'VIP input unsuccessful',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP input successful',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClearVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-table-vip-info';\r\n    let body = {\r\n      vipId: '',\r\n      vipName: '',\r\n      classId: '',\r\n      vipDisc: '',\r\n      cumPts: '',\r\n      pts: '',\r\n      money: '',\r\n      cardNo: '',\r\n      birthday: '',\r\n      qrcode: '',\r\n      phone: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Clear Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: response.message,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP cleared',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { vipSources, availableVipSources } = this.state;\r\n    let availableVipSourcesUpdate = [];\r\n    this.setState({ overlaySourceSearch: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', availableVipSources);\r\n\r\n    availableVipSourcesUpdate = vipSources;\r\n    if (!text) {\r\n      this.setState({\r\n        availableVipSources: availableVipSourcesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableVipSourcesUpdate = availableVipSourcesUpdate.filter(item => {\r\n      return item.sourceId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableVipSources: availableVipSourcesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { mode, selectedTable, overlayProcedureMessageVisible,\r\n      overlayPax, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateEmailAddress,\r\n      overlayValidateVipPhone, overlayValidateVipPhoneCountryCode, overlayValidateVipName, overlayValidateNric,\r\n      overlaySource, overlaySourceSearch, vipResults, selectedVipResult,\r\n      overlayDeliveryFlg, overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4,\r\n      warning, activeTab, availableVipSources } = this.state;\r\n    console.log('in overlayopentable');\r\n\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{mode === 'NEW' ? intl.get('open') : intl.get('edit')}</Text>\r\n            <Text style={styles.overlayText}>{warning ? warning : 'Enter Pax, VIP & Source'}</Text>\r\n          </View>\r\n          <View style={styles.tabsContainer}>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'PAX' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('PAX')}>\r\n              {\r\n                overlayPax !== null ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                    {overlayPax}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                PAX\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'VIP' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('VIP')}>\r\n              {\r\n                overlayVip?.vipId ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                    {overlayVip?.vipId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                VIP\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'SOURCE' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('SOURCE')}>\r\n              {\r\n                overlaySource.sourceId ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    {overlaySource.sourceId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                SOURCE\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'DELIVERY' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('DELIVERY')}>\r\n              {\r\n                overlayDeliveryFlg === 'Y' ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    YES\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    NO\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                DELIVERY\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          {\r\n            activeTab === 'PAX' ?\r\n              <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                <View style={styles.adjustContainer}>\r\n                  <TouchableOpacity style={styles.adjustFirst}\r\n                    onPress={() => this.handleQtyChange('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.adjustSecond}>\r\n                    <TextInput style={styles.overlayPax}\r\n                      selectTextOnFocus\r\n                      keyboardType='numeric'\r\n                      value={overlayPax?.toString()}\r\n                      onChangeText={(searchText) => this.handlePaxChange(searchText)} />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.adjustThird}\r\n                    onPress={() => this.handleQtyChange('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 1 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 1 })}>\r\n                    <Text style={styles.buttonText}>1</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 2 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 2 })}>\r\n                    <Text style={styles.buttonText}>2</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 3 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 3 })}>\r\n                    <Text style={styles.buttonText}>3</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 4 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 4 })}>\r\n                    <Text style={styles.buttonText}>4</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 5 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 5 })}>\r\n                    <Text style={styles.buttonText}>5</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 6 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 6 })}>\r\n                    <Text style={styles.buttonText}>6</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 7 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 7 })}>\r\n                    <Text style={styles.buttonText}>7</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 8 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 8 })}>\r\n                    <Text style={styles.buttonText}>8</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 9 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 9 })}>\r\n                    <Text style={styles.buttonText}>9</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 10 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 10 })}>\r\n                    <Text style={styles.buttonText}>10</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 11 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 11 })}>\r\n                    <Text style={styles.buttonText}>11</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 12 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 12 })}>\r\n                    <Text style={styles.buttonText}>12</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              </View>\r\n              :\r\n              activeTab === 'VIP' ?\r\n                <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                  {\r\n                    (vipResults && vipResults.length !== 0) ?\r\n                      <View style={styles.selectWrapper}>\r\n                        <View style={styles.searchBoxWrapper}>\r\n                          <View style={[styles.overlaySearchBox, { marginHorizontal: 0, justifyContent: 'space-between', }]}>\r\n                            <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                              onPress={() => this.setState({ vipResults: '' })}\r\n                            >\r\n                              <AntDesign name='close' size={24} color='white' />\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <Text style={styles.searchBoxInfoText}>{vipResults.length} ITEMS</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={[{ flex: 1 }]}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={vipResults}\r\n                          keyExtractor={(item, index) => index.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.overlayGrid, item.customerNumber === selectedVipResult.customerNumber && { backgroundColor: theme.occupied }]}\r\n                              onPress={() => this.handleEnterVip(item)}>\r\n                              <View style={styles.overlayGridFirst}>\r\n                                <View style={styles.overlayGridFirstLeft}>\r\n                                  <Text style={styles.overlayGridFirstLeftText}>{item.customerNumber}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridFirstRight}>\r\n                                  <Text style={[styles.overlayGridFirstRightText, item.customerNumber === selectedVipResult.customerNumber && { color: 'white' }]}>{item.hasActiveMembership} {item.customerSource}</Text>\r\n                                </View>\r\n                              </View>\r\n                              <View style={styles.overlayGridSecond}>\r\n                                <Text style={styles.overlayGridSecondText}>\r\n                                  {item.name}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridThird}>\r\n                                <View style={styles.overlayGridThirdLeft}>\r\n                                  <Text style={styles.overlayGridThirdLeftText}>{item.emailaddress}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridThirdRight}>\r\n                                  <Text style={styles.overlayGridThirdRightText}>{item.mobileNumber ? item.mobileNumber : ' '}</Text>\r\n                                </View>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                      </View>\r\n                      :\r\n                      <View style={styles.vipInputsContainer}>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP ID'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipId) => this.setState({ overlayValidateVipId })}\r\n                            value={overlayValidateVipId}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='CARD NO.'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateCardNumber) => this.setState({ overlayValidateCardNumber })}\r\n                            value={overlayValidateCardNumber}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP NAME'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipName) => this.setState({ overlayValidateVipName })}\r\n                            value={overlayValidateVipName}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 50 }]}\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhoneCountryCode) => this.setState({ overlayValidateVipPhoneCountryCode })}\r\n                            value={overlayValidateVipPhoneCountryCode}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 130 }]}\r\n                            placeholder='VIP PHONE'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhone) => this.setState({ overlayValidateVipPhone })}\r\n                            value={overlayValidateVipPhone}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP EMAIL'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateEmailAddress) => this.setState({ overlayValidateEmailAddress })}\r\n                            value={overlayValidateEmailAddress}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <View style={{ flex: 1, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n                            <TouchableOpacity style={{ paddingHorizontal: 10, height: 20, margin: 5, borderRadius: 40, backgroundColor: theme.paid, alignItems: 'center', justifyContent: 'center' }}\r\n                              onPress={() => this.handleClearVip()}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 10, textTransform: 'uppercase', color: 'white' }}>{intl.get('remove')}</Text>\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP ID</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP CLASS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.classId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP DISC</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipDisc || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP NAME</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipName || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>CUMULATIVE PTS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.cumPts || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>REDEEMABLE</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipPtsMoney || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                      </View>\r\n                  }\r\n                </View>\r\n                :\r\n                activeTab === 'SOURCE' ?\r\n                  <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                    <View style={styles.selectWrapper}>\r\n                      <View style={styles.searchBoxWrapper}>\r\n                        <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                          <TextInput style={styles.overlaySearchBoxInput}\r\n                            placeholder='ENTER SEARCH TEXT'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            onChangeText={(overlaySourceSearch) => this.handleOverlaySearchText(overlaySourceSearch)}\r\n                            value={overlaySourceSearch}\r\n                          />\r\n                          <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                            onPress={() => {\r\n                              this.setState({ overlaySourceSearch: '', overlaySource: '' }, () => this.handleOverlaySearchText(''))\r\n                              Keyboard.dismiss()\r\n                            }}>\r\n                            <AntDesign name='close' size={24} color={theme.grey4} />\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.searchBoxInfo}>\r\n                        <Text style={styles.searchBoxInfoText}>{availableVipSources.length} ITEMS</Text>\r\n                      </View>\r\n                      <FlatList\r\n                        style={[{ flex: 1 }]}\r\n                        showsVerticalScrollIndicator={false}\r\n                        data={availableVipSources}\r\n                        keyExtractor={item => item.recKey.toString()}\r\n                        renderItem={({ item }) => (\r\n                          <TouchableOpacity\r\n                            style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                            onPress={() => this.setState({\r\n                              overlaySource: item,\r\n                              overlaySourceSearch: item.sourceId,\r\n                            })}\r\n                          >\r\n                            <View style={styles.overlayGridFirst}>\r\n                              <View style={styles.overlayGridFirstLeft}>\r\n                                <Text style={styles.overlayGridFirstLeftText}>{item.sourceId}</Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridFirstRight}>\r\n                                <Text style={styles.overlayGridFirstRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                            <View style={styles.overlayGridSecond}>\r\n                              <Text style={styles.overlayGridSecondText}>\r\n                                {item.name}\r\n                              </Text>\r\n                            </View>\r\n                            <View style={styles.overlayGridThird}>\r\n                              <View style={styles.overlayGridThirdLeft}>\r\n                              </View>\r\n                              <View style={styles.overlayGridThirdRight}>\r\n                                <Text style={styles.overlayGridThirdRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                          </TouchableOpacity>\r\n                        )}\r\n                      />\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                    <View style={styles.vipInputsContainer}>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={styles.vipInput}\r\n                          placeholder='POSTAL CODE'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('POSTALCODE', text)}\r\n                          value={overlayPostalCode}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR1'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR1', text)}\r\n                          value={overlayAddr1}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR2'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR2', text)}\r\n                          value={overlayAddr2}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR3'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR3', text)}\r\n                          value={overlayAddr3}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR4'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR4', text)}\r\n                          value={overlayAddr4}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n          }\r\n          <View style={styles.overlayOptionsContainer}>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='close' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {intl.get('close')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressPrev()} >\r\n              <AntDesign name='left' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                PREV\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressNext()} >\r\n              <AntDesign name='right' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                NEXT\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handleSubmit()}>\r\n              <AntDesign name={mode === 'NEW' ? 'appstore-o' : 'edit'} size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {mode === 'NEW' ? intl.get('open') : intl.get('edit')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: theme.grey2,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    flex: 1,\r\n    width: '60%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayPax: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 50,\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 50,\r\n  },\r\n  overlayOptionContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayOptionsContainer: {\r\n    height: 100,\r\n    marginTop: 20,\r\n    backgroundColor: theme.grey3,\r\n    flexDirection: 'row',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: 'white',\r\n    marginTop: 5,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayTab: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tabsContainer: {\r\n    height: 40,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginTop: 20,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 50,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlaySearchBoxButtonText: {\r\n    fontSize: 14,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase'\r\n  },\r\n  overlaySearchVipButton: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 110,\r\n  },\r\n  detailWrapper: {\r\n    alignItems: 'flex-end',\r\n    margin: 5,\r\n    width: 370 / 3,\r\n  },\r\n  detailText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  detailTitle: {\r\n    opacity: 0.6,\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    marginTop: 50,\r\n    width: 400,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, ScrollView, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedMenu.serviceFlg === 'N' ? 'B' : (props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : props.route.params.selectedTable?.sectionId === 'SYS' ? 'B' : 'A'),\r\n      lineBreak: props.route.params.selectedTableItem ? props.route.params.selectedTableItem.lineBreak : 'N',\r\n\r\n      modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedMenu.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((props.route.params.selectedTable?.sectionId === 'SYS' && props.route.params.masters.settings.find(el => el.setId === 'POSMODE')?.setString === 'A') ? `*${intl.get('takeaway')}  ` : '')),\r\n      modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount menu', this.state.selectedMenu, this.state.selectedTableItem)\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, modInput } = this.state;\r\n    let modInputUpdate = modInput;\r\n    if (orderType === 'A') {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      modInputUpdate = `*${intl.get('takeaway')}  ` + modInputUpdate;\r\n      this.setState({\r\n        orderType: 'B',\r\n        modInput: modInputUpdate,\r\n      });\r\n    } else {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      this.setState({\r\n        orderType: 'A',\r\n        modInput: modInputUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleLineBreak() {\r\n    const { lineBreak } = this.state;\r\n    this.setState({\r\n      lineBreak: lineBreak === 'Y' ? 'N' : 'Y',\r\n    });\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { modInput, selectedModBundle, modRecKeys } = this.state;\r\n    let modInputUpdate = modInput;\r\n    let modRecKeysUpdate = modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n    this.setState({\r\n      modInput: modInputUpdate,\r\n      modRecKeys: modRecKeysUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys } = this.state;\r\n\r\n    // need preference to auto go through\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (modBundles.filter(el => el.modmas.mustFlg === 'Y' && (el.modmas.globalFlg === 'Y' || mods.some(obj => obj.menuId === selectedMenu.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => modRecKeys.some(el => el === obj.recKey.toString())))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n              qtyInput,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading,\r\n      home, settings, selectedMenu, selectedTable, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          <ScrollView contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              selectedModBundle?.moditems.map(item =>\r\n                <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.doPressMod(item)}>\r\n                  <Text style={styles.modText}>{item.name}</Text>\r\n                  {\r\n                    item.listPrice !== 0 &&\r\n                    <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              )\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId} </Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.reserved, fontSize: 16, }}> ${selectedTableItem?.listPrice?.toFixed(2) || selectedMenu.listPrice?.toFixed(2)}</Text>\r\n                  </View>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM') || selectedMenu.listPrice === 0)}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={modInput}\r\n                  onChangeText={text => this.setState({ modInput: text })}\r\n                />\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    mods?.filter(el => el.menuId === selectedMenu.menuId).length > 0 &&\r\n                    <>\r\n                      <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                        <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MENU SPECIFIC MODIFIER</Text>\r\n                      </View>\r\n                      <View style={styles.modContainer}>\r\n                        {\r\n                          mods?.filter(el => el.menuId === selectedMenu.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                            <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                              onPress={() => this.doPressModBundle(item)}>\r\n                              <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                            </TouchableOpacity>\r\n                          )\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  }\r\n                  <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                    <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>GLOBAL MODIFIER</Text>\r\n                  </View>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      modBundles?.filter(el => el.modmas.globalFlg === 'Y').map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n              </View>\r\n\r\n              <View style={{ height: 100, margin: 5, marginTop: 0, flexDirection: 'row', backgroundColor: 'white' }}>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name='close' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4, textTransform: 'uppercase' }}>\r\n                    {intl.get('close')}\r\n                  </Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name='check' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4 }}>\r\n                    OK\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={{ margin: 5, width: 120, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={selectedMenu.serviceFlg === 'N'}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                {\r\n                  settings.find(el => el.setId === 'MARKFIRE')?.setString === 'Y' ?\r\n                    <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: lineBreak === 'N' ? theme.grey3 : theme.occupied, borderRadius: 5, marginVertical: 5 }}\r\n                      disabled={selectedTableItem?.confirmFlg === 'Y'}\r\n                      onPress={() => this.doToggleLineBreak()}>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase', fontSize: 10 }}>{lineBreak === 'N' ? intl.get('no') : intl.get('add')}</Text>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white' }}>LINE BREAK</Text>\r\n                    </TouchableOpacity>\r\n                    :\r\n                    <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                    </View>\r\n                }\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, View, Dimensions, TouchableOpacity, Platform } from 'react-native';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Scan extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      selectedTable: props.route.params.selectedTable,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      hasCameraPermission: null,\r\n      detected: false,\r\n    };\r\n    this.handleBarCodeScanned = this.handleBarCodeScanned.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { status } = await BarCodeScanner.requestPermissionsAsync();\r\n    this.setState({ hasCameraPermission: status === 'granted' });\r\n  }\r\n\r\n  handleBarCodeScanned({ type, data }) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, detected } = this.state;\r\n    let dataUpdate = data;\r\n    if (Platform.OS === 'ios') {\r\n      if (type === 'org.gs1.EAN-13') {\r\n        if (data.charAt(0) === '0') {\r\n          dataUpdate = data.slice(1);\r\n        }\r\n      }\r\n    }\r\n    this.setState({ detected: true }, () => {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        shopId: home.shopId,\r\n        vipId: home.vipId,\r\n        barcode: dataUpdate,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            this.setState({ detected: false });\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('post scan-barcode successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Scan Barcode',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable?.tableId,\r\n              '',\r\n              dataUpdate,\r\n            );\r\n          navigation.goBack();\r\n        })\r\n        .catch(error => {\r\n          console.log('error: ', JSON.stringify(error));\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { hasCameraPermission, detected } = this.state;\r\n\r\n    // if (hasCameraPermission === null) {\r\n    //     return <Text>Requesting for camera permission</Text>;\r\n    // }\r\n    // if (hasCameraPermission === false) {\r\n    //     return <Text>No access to camera</Text>;\r\n    // }\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <BarCodeScanner\r\n          onBarCodeScanned={detected ? null : this.handleBarCodeScanned}\r\n          style={{ flex: 1 }}\r\n        />\r\n        <TouchableOpacity style={styles.backButton}\r\n          onPress={() => navigation.goBack()}>\r\n          <AntDesign name='left' size={48} color='white' />\r\n          <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.iconContainer}>\r\n          <Ionicons name='ios-barcode' color={detected ? 'red' : 'white'} size={400} />\r\n        </View>\r\n      </ View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst windowWidth = Dimensions.get('window').width;\r\nconst windowHeight = Dimensions.get('window').height;\r\n\r\nconst styles = StyleSheet.create({\r\n  iconContainer: {\r\n    position: 'absolute',\r\n    right: windowWidth / 2 - 200,\r\n    top: windowHeight / 2 - 200,\r\n    opacity: 0.5,\r\n    width: 400,\r\n    height: 400,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backButton: {\r\n    position: 'absolute',\r\n    left: 50,\r\n    top: 50,\r\n    width: 100,\r\n    height: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 10,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, Fontisto, FontAwesome, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport moment from 'moment';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Trace extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      maps: [],\r\n      thisTable: props.route.params.selectedTable ? true : false,\r\n      thisUser: false,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doReload()\r\n  }\r\n\r\n  doReload() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser } = this.state;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doLoad() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser, maps } = this.state;\r\n    // end reached\r\n    if (maps.length < 40) return;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    params.append('recKey', maps[maps.length - 1].recKey);\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: [...maps, ...response],\r\n        });\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleTable() {\r\n    const { thisTable } = this.state;\r\n    this.setState({\r\n      thisTable: !thisTable,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  doToggleUser() {\r\n    const { thisUser } = this.state;\r\n    this.setState({\r\n      thisUser: !thisUser,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, selectedTable,\r\n      maps, thisUser, thisTable,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in trace');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <TouchableOpacity style={styles.overlayHeader} onPress={() => this.traceRef.scrollToOffset({ animated: true, offset: 0 })}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('trace')}</Text>\r\n            <Text style={styles.overlayTitleText}></Text>\r\n          </TouchableOpacity>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.traceRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={maps}\r\n            onEndReachedThreshold={0.4}\r\n            onEndReached={() => this.doLoad()}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <ScrollView\r\n                style={{ minHeight: 40, paddingVertical: 5, }}\r\n                contentContainerStyle={{ alignItems: 'center' }}\r\n                horizontal\r\n                alwaysBounceHorizontal={false}\r\n                showsHorizontalScrollIndicator={false}>\r\n                <Text style={[styles.traceText, { textAlign: 'right', width: 40, color: theme.grey5 }]}>{moment(item.createDate).format('ddd')}</Text>\r\n                <Text style={[styles.traceText, { marginLeft: 10, }]}>{moment(item.createDate).format('HH:mm')}</Text>\r\n                <View style={{ width: 30, marginHorizontal: 5, alignItems: 'center', }}>\r\n                  {\r\n                    item.msg1 === 'Fire Course' &&\r\n                    <Fontisto name=\"fire\" size={20} color={theme.reserved} style={{ marginLeft: 1 }} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Send Order' &&\r\n                    <FontAwesome name=\"send\" size={18} color={theme.occupied} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Payment' &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.paid} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Dayclose' &&\r\n                    <MaterialCommunityIcons name=\"moon-full\" size={22} color={theme.reserved} style={{}} />\r\n                  }\r\n                  {\r\n                    (item.msg1 === 'Open Table' || item.msg1 === 'Create Table' || (item.msg1 === 'Reopen Receipt' && !item.msg3)) &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.occupied} style={{}} />\r\n                  }\r\n                </View>\r\n                <Text style={[styles.traceText, { color: theme.grey5 }]}>{item.msg2} </Text>\r\n                <Text style={[styles.traceText, { marginLeft: 5, color: theme.paid }]}>{item.msg1}</Text>\r\n                {\r\n                  item.msg5 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.reserved }]}>\"{item.msg5}\"</Text>\r\n                }\r\n                {\r\n                  item.msg6 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.vacant }]}>&#60;{item.msg6}&#62;</Text>\r\n                }\r\n                {\r\n                  item.msg4 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.occupied }]}>#{item.msg4}</Text>\r\n                }\r\n                {\r\n                  item.msg3 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.adhoc }]}>[{item.msg3}]</Text>\r\n                }\r\n              </ScrollView>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              onPress={() => this.doToggleUser()}>\r\n              <AntDesign\r\n                name='woman'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText} numberOfLines={1}>{thisUser ? home.userName : `${intl.get('all')} ${intl.get('user')}`}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              disabled={!selectedTable}\r\n              onPress={() => this.doToggleTable()}>\r\n              <AntDesign\r\n                name='appstore-o'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{thisTable ? `${intl.get('table')} ${selectedTable.tableId}` : `${intl.get('all')} ${intl.get('table')}`}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  traceText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n  }\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Activate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [],\r\n      availableMenus: [],\r\n      limiteds: [],\r\n\r\n      updateds: [],\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n\r\n      loading: false,\r\n    };\r\n    this.handleSelectMenu = this.handleSelectMenu.bind(this);\r\n    this.handleSelectUpdated = this.handleSelectUpdated.bind(this);\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleUpdateMenu = this.handleUpdateMenu.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doGet();\r\n    this.doGetMenu();\r\n  }\r\n\r\n  doGet() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doGetMenu() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/menus';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n            availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  handleSelectMenu(item) {\r\n    const { menus, updateds, limiteds } = this.state;\r\n    if (updateds.some(el => el.recKey === item.recKey)) {\r\n      return;\r\n    } else {\r\n      let updatedsUpdate = updateds;\r\n      let itemUpdate = item;\r\n      const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n      itemUpdate.statusFlg = found?.statusFlg || 'A';\r\n      updatedsUpdate.push(itemUpdate);\r\n      this.setState({\r\n        updateds: updatedsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectUpdated(item) {\r\n    const { menus, updateds } = this.state;\r\n    let updatedsUpdate = updateds;\r\n    updatedsUpdate = updatedsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      updateds: updatedsUpdate,\r\n    })\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { updateds } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUpdateMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Update Menu',\r\n        text: 'Update ' + updateds.length + ' menus?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUpdateMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry, updateds } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let updatedsUpdate = updateds.map(el => ({\r\n      recKey: el.recKey,\r\n      newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n    }));\r\n\r\n    const restmenuRecKeys = updatedsUpdate.reduce((init, el) => { return init + el.recKey + ',' + el.newStatusFlg + ','; }, '');\r\n\r\n    let url = serviceEntry + 'api/update-restmenu';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKeys: restmenuRecKeys,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu successful');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            updateds.map(el => ({\r\n              menuId: el.menuId,\r\n              newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n            })).reduce((init, el) => { return init + el.menuId + ',' + el.newStatusFlg + ','; }, ''),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Login', { sync: new Date() });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus, limiteds } = this.state;\r\n    if (displayMode === 'INACTIVE ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => limiteds.some(obj => obj.restmenuRecKey === el.recKey && obj.statusFlg === 'B')),\r\n        searchText: '',\r\n        displayMode: 'INACTIVE ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleUpdateMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleUpdateMenu') {\r\n      this.handleUpdateMenu();\r\n    }\r\n  }\r\n\r\n  renderItem(item) {\r\n    const { limiteds } = this.state;\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.grid}\r\n        onPress={() => this.handleSelectMenu(item)}>\r\n        <View style={styles.gridFirst}>\r\n          <View style={styles.gridFirstLeft}>\r\n            <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n          </View>\r\n          <View style={styles.gridFirstRight}>\r\n            {\r\n              found?.statusFlg === 'B' ?\r\n                <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                :\r\n                <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridSecond}>\r\n          <Text style={styles.gridSecondText}>\r\n            {item.menuName}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, updateds, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => this.renderItem(item)}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3 }]}>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                    <Text style={styles.titleText}>{updateds.length} Changes</Text>\r\n                  </View>\r\n                  <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                    <Text style={styles.titleText}>New Status</Text>\r\n                  </View>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    updateds ?\r\n                      updateds.map((item, index) => (\r\n                        <TouchableOpacity\r\n                          key={index}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handleSelectUpdated(item)}>\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              {\r\n                                item.statusFlg === 'B' ?\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                                  :\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                              }\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.menuName}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                      : null\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (loading || updateds.length === 0) && { opacity: 0.2 }]}\r\n                disabled={loading || updateds.length === 0}\r\n                onPress={() => this.handleSubmit()}>\r\n                <AntDesign\r\n                  name='bulb1'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Limit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [],\r\n      availableMenus: [],\r\n      limiteds: [],\r\n\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      selectedMenu: null,\r\n      statusFlg: '',\r\n      onlineStatusFlg: '',\r\n      serveLimit: '',\r\n\r\n      loading: false,\r\n    };\r\n\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // real time fast changing data\r\n    this.doGet();\r\n    this.doGetMenu();\r\n  }\r\n\r\n  doGet() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doGetMenu() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/menus';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n            availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doSelectMenu(item) {\r\n    const { limiteds } = this.state;\r\n    this.setState({\r\n      selectedMenu: item,\r\n      statusFlg: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.statusFlg || 'A',\r\n      onlineStatusFlg: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.onlineStatusFlg || 'A',\r\n      serveLimit: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.serveLimit.toString() || '0',\r\n    })\r\n  }\r\n\r\n  doToggleStatus() {\r\n    const { statusFlg } = this.state;\r\n    if (statusFlg === 'A') {\r\n      this.setState({ statusFlg: 'B' })\r\n    } else {\r\n      this.setState({ statusFlg: 'A' })\r\n    }\r\n  }\r\n\r\n  doToggleOnlineStatus() {\r\n    const { onlineStatusFlg } = this.state;\r\n    if (onlineStatusFlg === 'A') {\r\n      this.setState({ onlineStatusFlg: 'B' })\r\n    } else {\r\n      this.setState({ onlineStatusFlg: 'A' })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { selectedMenu } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doLimitMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Limit Menu',\r\n        text: 'Limit ' + selectedMenu.menuName + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  doLimitMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry,\r\n      selectedMenu, statusFlg, serveLimit, onlineStatusFlg } = this.state;\r\n    // if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n    //   this.setState({\r\n    //     overlayRequestAccessVisible: true,\r\n    //   });\r\n    //   return;\r\n    // }\r\n\r\n    let url = serviceEntry + 'api/update-restmenu-serve';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      statusFlg: statusFlg,\r\n      onlineStatusFlg: onlineStatusFlg,\r\n      serveLimit: serveLimit,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu-serve');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Limit Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            selectedMenu.menuName,\r\n            serveLimit + ',' + statusFlg + ',' + onlineStatusFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          loading: false,\r\n          displayMode: 'ALL',\r\n          menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n        }, () => this.doGet())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus, availableMenus, limiteds } = this.state;\r\n    if (displayMode === 'LIMITED ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => limiteds?.some(obj => obj.restmenuRecKey === el.recKey)),\r\n        searchText: '',\r\n        displayMode: 'LIMITED ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.doLimitMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doLimitMenu') {\r\n      this.doLimitMenu();\r\n    }\r\n  }\r\n\r\n  renderItem(item) {\r\n    const { limiteds } = this.state;\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.grid}\r\n        onPress={() => this.doSelectMenu(item)}>\r\n        <View style={styles.gridFirst}>\r\n          <View style={styles.gridFirstLeft}>\r\n            <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n          </View>\r\n          <View style={styles.gridFirstRight}>\r\n            {\r\n              found?.statusFlg === 'B' ?\r\n                <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                :\r\n                <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridSecond}>\r\n          <Text style={styles.gridSecondText}>\r\n            {item.menuName}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            {\r\n              (found && found?.serveLimit !== 0) &&\r\n              <Text style={{ fontFamily: 'varela-round', color: theme.vacant, fontSize: 12 }}>LIMIT {found.serveLimit} SERVED {found.serveCount}</Text>\r\n            }\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            {\r\n              (found && found?.onlineStatusFlg === 'B') ?\r\n                <Text style={{ fontFamily: 'varela-round', color: theme.grey7, fontSize: 12 }}>ONLINE ORDER <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 12 }}>OFF</Text></Text>\r\n                :\r\n                <Text style={{ fontFamily: 'varela-round', color: theme.grey7, fontSize: 12 }}>  </Text>\r\n            }\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, selectedMenu, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, statusFlg, onlineStatusFlg, serveLimit } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => this.renderItem(item)}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedMenu &&\r\n                <View style={{ flex: 1, backgroundColor: theme.grey3, borderRadius: 5 }}>\r\n                  <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}>{selectedMenu.menuName}</Text>\r\n                  </View>\r\n                  <View style={styles.inputContainer}>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Status</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.inputRowRight}\r\n                        onPress={() => this.doToggleStatus()}>\r\n                        <Text style={[styles.inputRowRightText, { color: statusFlg === 'A' ? theme.reserved : theme.paid }]}>{statusFlg === 'A' ? 'Active' : 'Inactive'}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Online Order</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.inputRowRight}\r\n                        onPress={() => this.doToggleOnlineStatus()}>\r\n                        <Text style={[styles.inputRowRightText, { color: onlineStatusFlg === 'A' ? theme.reserved : theme.paid }]}>{onlineStatusFlg === 'A' ? 'On' : 'Off'}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Limit</Text>\r\n                      </View>\r\n                      <View style={styles.inputRowRight}>\r\n                        <TextInput style={styles.textInput}\r\n                          keyboardType='numeric'\r\n                          selectTextOnFocus={true}\r\n                          value={serveLimit}\r\n                          onChangeText={text => this.setState({ serveLimit: text })}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={loading || !selectedMenu}\r\n                onPress={() => this.doSubmit()}>\r\n                <AntDesign\r\n                  name='staro'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  inputContainer: {\r\n    marginTop: 30,\r\n    marginHorizontal: 5,\r\n  },\r\n  inputRow: {\r\n    flexDirection: 'row',\r\n    height: 40,\r\n    margin: 5,\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    paddingLeft: 10,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  inputRowLeftText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  inputRowRightText: {\r\n    paddingHorizontal: 10,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, MaterialCommunityIcons, Feather } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Fire extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      kitchenmsgs: props.route.params.masters.kitchenmsgs,\r\n      kottypes: props.route.params.masters.kottypes,\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      remark: '',\r\n      selectedTableItems: [],\r\n      selectedKottypes: [],\r\n      selectedKitchenmsg: null,\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  doReset() {\r\n    Keyboard.dismiss();\r\n    this.setState({\r\n      selectedKitchenmsg: null,\r\n      selectedKottypes: [],\r\n      selectedTableItems: [],\r\n      remark: '',\r\n    })\r\n  }\r\n\r\n  doPressFire() {\r\n    const { selectedKottypes, selectedTableItems, remark } = this.state;\r\n    // let options = [];\r\n    // options.push({ text: 'Yes', handleText: 'doSubmit' });\r\n    // this.setState({\r\n    //   overlayAlertInputValue: {\r\n    //     title: intl.get('action'),\r\n    //     subtitle: 'Fire',\r\n    //     text: `${intl.get('fire')} \"${remark}\" (${selectedTableItems.map(el => el.menuId).join(',')}) (${selectedKottypes.map(el => el.kotType).join(',')})`,\r\n    //     ok: false,\r\n    //     cancel: true,\r\n    //     options: options,\r\n    //   },\r\n    //   overlayAlertVisible: true,\r\n    // });\r\n    this.doSubmit();\r\n  }\r\n\r\n  doPressKitchenmsg(item) {\r\n    const { selectedKitchenmsg, kottypes } = this.state;\r\n    if (selectedKitchenmsg?.recKey === item?.recKey) {\r\n      this.setState({\r\n        selectedKitchenmsg: null,\r\n        remark: '',\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKitchenmsg: item,\r\n        remark: item.name,\r\n        selectedKottypes: item.kotTypes?.split(',').map(el => kottypes.find(obj => obj.kotType === el)) || [],\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressTableItem(item) {\r\n    const { selectedTableItems, } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate = selectedTableItems.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedTableItemsUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressKottype(item) {\r\n    const { selectedKottypes } = this.state;\r\n    let selectedKottypesUpdate = selectedKottypes;\r\n    if (selectedKottypes.some(el => el.recKey === item.recKey)) {\r\n      selectedKottypesUpdate = selectedKottypes.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedKottypesUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedKottypes: selectedKottypesUpdate,\r\n    })\r\n  }\r\n\r\n  doPressAllKottype() {\r\n    const { selectedKottypes, kottypes } = this.state;\r\n    if (!kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey))) {\r\n      this.setState({\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKottypes: kottypes,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSubmit') {\r\n      this.doSubmit();\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, masters, settings,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes, remark } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/fire-kot';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      remark: remark,\r\n      kotTypes: selectedKottypes.map(el => el.kotType).join(','),\r\n      opentableItemRecKeys: selectedTableItems.map(el => el.recKey).join(','),\r\n      msgId: selectedKitchenmsg?.msgId,\r\n    };\r\n    console.log(body)\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post fire-kot successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Fire Course',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            remark + ' (' + selectedTableItems.map(el => el.menuId).join(',') + ')' + ' (' + selectedKottypes.map(el => el.kotType).join(',') + ')',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, remark, kottypes, kitchenmsgs, tableItems,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n    } = this.state;\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.navigateButton}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER MESSAGE'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={remark}\r\n                    onChangeText={(text) => this.setState({ remark: text })}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => this.doReset()}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1, marginHorizontal: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kitchenmsgs}\r\n                  numColumns={2}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, { marginHorizontal: 2.5 }, selectedKitchenmsg?.recKey === item?.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKitchenmsg(item)}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.name}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      disabled={item.refRecKey ? true : false}\r\n                      onPress={() => this.doPressTableItem(item)}>\r\n                      <View style={[styles.tableItemFirstContainer, item.fireFlg === 'Y' && { borderRightColor: theme.reserved }]}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ paddingLeft: 10, alignItems: 'center', justifyContent: 'center', }}>\r\n                    <Text style={styles.titleText}>Destination</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    {\r\n                      selectedKottypes.length > 1 ?\r\n                        <Text style={[styles.titleText, { color: 'white' }]}>Various</Text>\r\n                        :\r\n                        selectedKottypes.length === 1 ?\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{kottypes?.find(el => el.kotType === selectedKottypes[0].kotType)?.kotName}</Text>\r\n                          :\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>-</Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kottypes}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  ListHeaderComponent={\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, !kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey)) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressAllKottype()}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ALL KOT PRINTERS\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedKottypes.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKottype(item)}>\r\n                      <View style={[styles.tableItemSecondContainer, { flexDirection: 'row', justifyContent: 'space-between', paddingRight: 10, alignItems: 'center' }]}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotName}\r\n                        </Text>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotType}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.navigateButton, ((selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark) && { opacity: 0.2 }]}\r\n                disabled={(selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark}\r\n                onPress={() => this.doPressFire()}>\r\n                <AntDesign\r\n                  name='customerservice'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('fire')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  navigateButton: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  navigateButtonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, SectionList, ScrollView, FlatList, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Combo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      comboGroups: props.route.params.masters.comboGroups.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      comboItems: props.route.params.masters.comboItems.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      selectedComboItems: [],\r\n      selectedComboItem: null,\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : props.route.params.selectedTable?.sectionId === 'SYS' ? 'B' : 'A',\r\n\r\n      // modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedTable?.sectionId === 'SYS' ? `*${intl.get('takeaway')}  ` : ''),\r\n      // modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount combo', this.state.comboItems, this.state.selectedComboItems)\r\n    this.doPrepareComboItems();\r\n  }\r\n\r\n  doPrepareComboItems() {\r\n    const { comboItems, tableItems, selectedTableItem } = this.state;\r\n    let tableItemsUpdate = selectedTableItem ? tableItems?.filter(el => el.refRecKey === selectedTableItem.recKey) : [];\r\n    let comboItemsUpdate = comboItems.map(el => ({\r\n      ...el,\r\n      modInput: tableItems?.find(obj => obj.comboitemRecKey === el.recKey)?.menuMod || '',\r\n      modRecKeys: tableItems?.find(obj => obj.comboitemRecKey === el.recKey)?.modRecKeys?.split(',') || [],\r\n    }));\r\n    let selectedComboItemsUpdate = comboItemsUpdate.filter(el => tableItemsUpdate.some(obj => obj.comboitemRecKey === el.recKey));\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n      selectedComboItems: selectedComboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doComboItemModInput(text) {\r\n    const { comboItems, selectedComboItem } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = text;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressComboItem(item) {\r\n    const { selectedComboItems } = this.state;\r\n    let selectedComboItemsUpdate = selectedComboItems;\r\n    if (selectedComboItems.some(el => el.recKey === item.recKey)) {\r\n      selectedComboItemsUpdate = selectedComboItems.filter(el => el.recKey !== item.recKey);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: null,\r\n        selectedModBundle: null,\r\n      })\r\n    } else {\r\n      selectedComboItemsUpdate.push(item);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: item,\r\n        selectedModBundle: null,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, comboItems } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n\r\n    if (orderType === 'A') {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n        el.modInput = `*${intl.get('takeaway')}  ` + el.modInput;\r\n      })\r\n      this.setState({\r\n        orderType: 'B',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    } else {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n      })\r\n      this.setState({\r\n        orderType: 'A',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { selectedModBundle, selectedComboItem, comboItems } = this.state;\r\n    let modInputUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput;\r\n    let modRecKeysUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = modInputUpdate;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modRecKeys = modRecKeysUpdate;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      comboGroups, comboItems, selectedComboItems,\r\n      menuName, qtyInput, orderType, } = this.state;\r\n\r\n    // no table\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // table status\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // combo group min max\r\n    if (comboGroups.some(el => (selectedComboItems.filter(obj => obj.groupNo === el.groupNo).length > el.maxSelectItem || selectedComboItems.filter(obj => obj.groupNo === el.groupNo).length < el.minSelectItem))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK MIN MAX',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // combo item compulsory modifier\r\n    if (selectedComboItems.some(arr => modBundles.filter(el => el.modmas.mustFlg === 'Y' && (el.modmas.globalFlg === 'Y' || mods.some(obj => obj.menuId === arr.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => arr.modRecKeys.some(el => el === obj.recKey.toString()))))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading, preference,\r\n      home, selectedMenu, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      menuName, qtyInput, orderType,\r\n      comboGroups, comboItems, selectedComboItems, selectedComboItem,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          {\r\n            selectedComboItem &&\r\n            <View style={{ flex: 1, marginVertical: 10, marginLeft: 0, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginVertical: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedComboItem.menuId}</Text>\r\n                  <Text style={{\r\n                    fontFamily: 'varela-round',\r\n                    color: 'white',\r\n                    fontSize: 20,\r\n                    textAlign: 'center',\r\n                    paddingHorizontal: 20,\r\n                  }} numberOfLines={2}>{selectedComboItem.menuName}</Text>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput}\r\n                  onChangeText={text => this.doComboItemModInput(text)}\r\n                />\r\n                <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                  <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MODIFIER</Text>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      mods?.filter(el => el.menuId === selectedMenu.menuId || el.menuId === selectedComboItem?.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                    {\r\n                      modBundles?.filter(el => el.modmas.globalFlg === 'Y').map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n                <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                  <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MODIFIER OPTIONS</Text>\r\n                </View>\r\n                <View style={{ flex: 1, backgroundColor: theme.grey4 }}>\r\n                  <ScrollView\r\n                    contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n                    showsVerticalScrollIndicator={false}>\r\n                    {\r\n                      selectedModBundle?.moditems.map(item =>\r\n                        <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, comboItems.find(el => el.recKey === selectedComboItem.recKey)?.modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                          onPress={() => this.doPressMod(item)}>\r\n                          <Text style={styles.modText}>{item.name}</Text>\r\n                          {\r\n                            item.listPrice !== 0 &&\r\n                            <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                          }\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          }\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM'))}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <ScrollView\r\n                  style={{ flex: 1, backgroundColor: theme.grey2, paddingBottom: 5 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    comboGroups.map(el =>\r\n                      <View key={el.recKey.toString()}>\r\n                        <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', }}>\r\n                          <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: 'white', }}>{el.groupName} <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.paid, }}>MIN</Text> {el.minSelectItem} <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.paid, }}>MAX</Text> {el.maxSelectItem}</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={{ margin: -2.5 }}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={comboItems.filter(obj => obj.groupNo === el.groupNo)}\r\n                          numColumns={preference.pcolsize}\r\n                          keyExtractor={(item, index) => item.recKey.toString()}\r\n                          renderItem={({ item }) => this.renderComboItem(item)}\r\n                        />\r\n                      </View>\r\n                    )\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n            </View>\r\n            <View style={{ margin: 5, width: 120, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderComboItem(item) {\r\n    const { preference, selectedComboItems } = this.state;\r\n    const found = selectedComboItems.some(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.pcolsize }}>\r\n        <TouchableOpacity style={{ height: 70, padding: 10, margin: 2.5, backgroundColor: found ? theme.occupied : theme.grey4, }}\r\n          onPress={() => this.doPressComboItem(item)}>\r\n          <View style={{ flex: 1 }}>\r\n            <Text style={{ fontFamily: 'varela-round', color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 12, }}></Text>\r\n            <Text style={[{ fontFamily: 'varela-round', fontSize: 12, color: Number(item.addonPrice) === 0 ? 'transparent' : found ? 'white' : theme.reserved }]}>+{item.addonPrice?.toFixed(2)}</Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { StyleSheet, View, Image, ScrollView, TouchableOpacity, Text, Alert, Platform, Dimensions } from 'react-native';\r\nimport { AntDesign, Ionicons, Entypo, MaterialCommunityIcons, Fontisto, FontAwesome, MaterialIcons } from '@expo/vector-icons';\r\nimport moment from 'moment';\r\nimport io from 'socket.io-client';\r\nimport intl from 'react-intl-universal';\r\nimport Constants from 'expo-constants';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class Secondary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      preference: props.route.params.preference,\r\n\r\n      refresh: moment().format('HH:mm:ss'),\r\n      home: null,\r\n      selectedTable: null,\r\n      tableItems: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntryObj, preference } = this.state;\r\n\r\n    if (preference?.usecondary) {\r\n      global.socket = io(\r\n        serviceEntryObj.restServiceUrl.substring(0, serviceEntryObj.restServiceUrl.lastIndexOf(\"/gateway\")) + '/socket.io',\r\n        {\r\n          query: {\r\n            userId: preference.usecondary,\r\n            serviceId: serviceEntryObj.epbId,\r\n          }\r\n        },\r\n      );\r\n      global.socket.on('room-participate', this.doRoomParticipate);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (global.socket) {\r\n      global.socket.off('room-participate', this.doRoomParticipate)\r\n      global.socket.close();\r\n    }\r\n  }\r\n\r\n  doRoomParticipate = data => {\r\n    console.log('chatbox room-participate', data);\r\n    this.setState({\r\n      home: data.home,\r\n      selectedTable: data.selectedTable,\r\n      tableItems: data.tableItems,\r\n    })\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateTableStatus(item) {\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.transType === 'A') {\r\n        return intl.get('sales');\r\n      } else if (item.transType === 'G') {\r\n        if (item.homeDelivery === 'Y') {\r\n          return intl.get('deposit') + 'DLY';\r\n        } else {\r\n          return intl.get('deposit');\r\n        }\r\n      }\r\n    } else {\r\n      return intl.get(`${item.statusFlg}`).d('Unknown');\r\n    }\r\n  }\r\n\r\n  doTranslateTableItemColor(item) {\r\n    if (item.fireFlg === 'Y') {\r\n      return theme.reserved;\r\n    }\r\n    if (item.confirmFlg === 'Y') {\r\n      return theme.occupied;\r\n    }\r\n    return theme.vacant;\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntryObj, refresh,\r\n      home, selectedTable, tableItems, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        <View style={{ width: 10, backgroundColor: theme.grey8 }}>\r\n          <View style={{ marginTop: 30, height: 100, backgroundColor: this.doTranslateTableColor(selectedTable) }}></View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n          <TouchableOpacity style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}\r\n            onPress={() => navigation.goBack()}>\r\n            <Text style={styles.footerText}>{home?.userName}</Text>\r\n            <Text style={styles.footerText}>{home?.locName}</Text>\r\n          </TouchableOpacity>\r\n          <View style={{ margin: 7, marginLeft: 0, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <View style={{ margin: 3, flex: 1, flexDirection: 'row', }}>\r\n              {\r\n                selectedTable &&\r\n                <View style={{ marginLeft: 0, aspectRatio: 1, backgroundColor: this.doTranslateTableColor(selectedTable), justifyContent: 'center', alignItems: 'center' }}\r\n                >\r\n                  <Text style={styles.tableUpperBand} numberOfLines={1}>{selectedTable.vipName || ''}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 24, letterSpacing: 1 }} numberOfLines={1}>{selectedTable.tableId}</Text>\r\n                  <Text style={styles.tableLowerBand} numberOfLines={1}>{this.doTranslateTableStatus(selectedTable)}</Text>\r\n                </View>\r\n              }\r\n            </View>\r\n            <View style={{ margin: 3, height: 100 }}>\r\n            </View>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: 'white' }}>\r\n            <View style={{ width: 50, height: 20, alignItems: 'center', justifyContent: 'center', borderRightColor: theme.paid }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('qty')}</Text>\r\n            </View>\r\n            <View style={{ flex: 1, justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('desc')}</Text>\r\n            </View>\r\n            <View style={{ paddingRight: 10, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('total')}</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            onContentSizeChange={() => this.scrollViewRef.scrollToEnd()}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              tableItems.filter(el => !el.refRecKey).map(item => (\r\n                <View key={item.recKey.toString()}>\r\n                  {\r\n                    item.lineBreak === 'Y' &&\r\n                    <View style={{ alignItems: 'center', flexDirection: 'row', height: 20, }}>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                      <Text style={{ fontFamily: 'varela-round', color: theme.grey5, fontSize: 12 }}>LINE BREAK</Text>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                    </View>\r\n                  }\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: this.doTranslateTableItemColor(item), }}\r\n                  >\r\n                    <View style={{ paddingVertical: 10, width: 50, alignItems: 'center', borderRightColor: theme.paid }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.orderQty}</Text>\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, flex: 1 }}>\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.menuName}</Text>\r\n                          {\r\n                            item.menuMod &&\r\n                            <Text style={{ fontFamily: 'varela-round', fontSize: 16, color: theme.paid }}>{item.menuMod}</Text>\r\n                          }\r\n                        </View>\r\n                        <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.lineTotal?.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      {\r\n                        tableItems.filter(el => el.refRecKey === item.recKey).map(obj =>\r\n                          <View style={{ marginTop: 5, flexDirection: 'row' }} key={obj.recKey.toString()}>\r\n                            <View style={{ flex: 1, }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14, marginLeft: 10 }}>- {obj.menuName}</Text>\r\n                              {\r\n                                obj.menuMod &&\r\n                                <Text style={{ fontFamily: 'varela-round', fontSize: 14, color: theme.paid }}>{obj.menuMod}</Text>\r\n                              }\r\n                            </View>\r\n                            <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14 }}>{obj.lineTotal ? obj.lineTotal?.toFixed(2) : ''}</Text>\r\n                            </View>\r\n                          </View>\r\n                        )\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <View style={{ margin: 10, marginBottom: 0, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'baseline' }}>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 10 }}></Text>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 28 }}>${selectedTable?.grandTotal?.toFixed(2) || '0.00'}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, flexDirection: 'row', }}>\r\n\r\n          </View>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{moment().format('HH:mm')}</Text>\r\n            <Text style={styles.footerText}>EPB BISTRO {Constants.manifest.version?.split('.')[0]}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: theme.grey1 }}>\r\n          <Image\r\n            style={{ flex: 1 }}\r\n            source={{\r\n              uri: serviceEntryObj.restServiceUrl + 'epbm/api/image/stock?stkId=' + 'BISTRO-SECONDARY-' + serviceEntryObj.epbId + '&isResourceId=true&skuId=&t=' + refresh\r\n            }}\r\n            resizeMode='cover'\r\n          />\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  footerText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableUpperBand: {\r\n    position: 'absolute',\r\n    top: 10, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    // backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'black',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableLowerBand: {\r\n    position: 'absolute',\r\n    bottom: 0, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonText: {\r\n    marginTop: 10,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: theme.grey5,\r\n    textTransform: 'uppercase'\r\n  }\r\n});\r\n","import { Component } from 'react';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport { StyleSheet, Text, View, Platform } from 'react-native';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport * as Font from 'expo-font';\r\nimport intl from 'react-intl-universal';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\n\r\nimport Login from './src/Login';\r\nimport Main from './src/Main';\r\nimport Register from './src/Register';\r\nimport Preference from './src/Preference';\r\nimport Pos from './src/Pos';\r\nimport Split from './src/Split';\r\nimport Adhoc from './src/Adhoc';\r\nimport Dayclose from './src/Dayclose';\r\nimport Printer from './src/Printer';\r\nimport Report from './src/Report';\r\nimport Reprint from './src/Reprint';\r\nimport Resequence from './src/Resequence';\r\nimport Transfer from './src/Transfer';\r\nimport Void from './src/Void';\r\nimport Collect from './src/Collect';\r\nimport Table from './src/Table';\r\nimport Menu from './src/Menu';\r\nimport Scan from './src/Scan';\r\nimport Trace from './src/Trace';\r\nimport Activate from './src/Activate';\r\nimport Limit from './src/Limit';\r\nimport Fire from './src/Fire';\r\nimport Combo from './src/Combo';\r\nimport Secondary from './src/Secondary';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n  }\r\n\r\n  async componentDidMount() {\r\n\r\n    // locale data\r\n    const locales = {\r\n      \"zhs\": require('./assets/zhs.json'),\r\n      \"zht\": require('./assets/zht.json'),\r\n      \"en\": require('./assets/en.json'),\r\n      \"ja\": require('./assets/ja.json'),\r\n    };\r\n\r\n    const currentLocale = await AsyncStorage.getItem('language');\r\n\r\n    await intl.init({\r\n      currentLocale: currentLocale || 'en',\r\n      locales,\r\n    });\r\n\r\n    // ttf for native, woff for web\r\n    await Font.loadAsync({\r\n      // 'varela-round': require('./assets/VarelaRound-Regular.ttf'),\r\n      'varela-round': require('./assets/VarelaRound-Regular.woff'),\r\n    })\r\n\r\n    if (Platform.OS !== 'web') {\r\n      BarCodeScanner.getPermissionsAsync()\r\n        .then(response => {\r\n          if (response.status !== 'granted') return BarCodeScanner.requestPermissionsAsync();\r\n          return Promise.resolve(response);\r\n        })\r\n    }\r\n\r\n    this.setState({ loading: false })\r\n\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n\r\n    if (loading) return <View></View>;\r\n\r\n    return (\r\n      <NavigationContainer>\r\n        <StatusBar hidden />\r\n        <Stack.Navigator\r\n          screenOptions={{\r\n            headerShown: false,\r\n            animation: 'none',\r\n            gestureEnabled: false,\r\n          }}>\r\n          <Stack.Screen name=\"Login\" component={Login} options={Login.navigationOptions} />\r\n          <Stack.Screen name=\"Register\" component={Register} options={Register.navigationOptions} />\r\n          <Stack.Screen name=\"Preference\" component={Preference} options={Preference.navigationOptions} />\r\n          <Stack.Screen name=\"Secondary\" component={Secondary} options={Secondary.navigationOptions} />\r\n          <Stack.Screen name=\"Main\" component={Main} options={Main.navigationOptions} />\r\n          <Stack.Screen name=\"Pos\" component={Pos} options={Pos.navigationOptions} />\r\n          <Stack.Screen name=\"Split\" component={Split} options={Split.navigationOptions} />\r\n          <Stack.Screen name=\"Void\" component={Void} options={Void.navigationOptions} />\r\n          <Stack.Screen name=\"Collect\" component={Collect} options={Collect.navigationOptions} />\r\n          <Stack.Screen name=\"Transfer\" component={Transfer} options={Transfer.navigationOptions} />\r\n          <Stack.Screen name=\"Resequence\" component={Resequence} options={Resequence.navigationOptions} />\r\n          <Stack.Screen name=\"Reprint\" component={Reprint} options={Reprint.navigationOptions} />\r\n          <Stack.Screen name=\"Report\" component={Report} options={Report.navigationOptions} />\r\n          <Stack.Screen name=\"Printer\" component={Printer} options={Printer.navigationOptions} />\r\n          <Stack.Screen name=\"Dayclose\" component={Dayclose} options={Dayclose.navigationOptions} />\r\n          <Stack.Screen name=\"Adhoc\" component={Adhoc} options={Adhoc.navigationOptions} />\r\n          <Stack.Screen name=\"Scan\" component={Scan} options={Scan.navigationOptions} />\r\n          <Stack.Screen name=\"Trace\" component={Trace} options={Trace.navigationOptions} />\r\n          <Stack.Screen name=\"Activate\" component={Activate} options={Activate.navigationOptions} />\r\n          <Stack.Screen name=\"Limit\" component={Limit} options={Limit.navigationOptions} />\r\n          <Stack.Screen name=\"Table\" component={Table} options={Table.navigationOptions} />\r\n          <Stack.Screen name=\"Fire\" component={Fire} options={Fire.navigationOptions} />\r\n          <Stack.Screen name=\"Menu\" component={Menu} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n          <Stack.Screen name=\"Combo\" component={Combo} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n        </Stack.Navigator>\r\n      </NavigationContainer>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n","var map = {\n\t\"./af\": 4506,\n\t\"./af.js\": 4506,\n\t\"./ar\": 9687,\n\t\"./ar-dz\": 2887,\n\t\"./ar-dz.js\": 2887,\n\t\"./ar-kw\": 6307,\n\t\"./ar-kw.js\": 6307,\n\t\"./ar-ly\": 1664,\n\t\"./ar-ly.js\": 1664,\n\t\"./ar-ma\": 9926,\n\t\"./ar-ma.js\": 9926,\n\t\"./ar-sa\": 5207,\n\t\"./ar-sa.js\": 5207,\n\t\"./ar-tn\": 2912,\n\t\"./ar-tn.js\": 2912,\n\t\"./ar.js\": 9687,\n\t\"./az\": 5011,\n\t\"./az.js\": 5011,\n\t\"./be\": 5997,\n\t\"./be.js\": 5997,\n\t\"./bg\": 4427,\n\t\"./bg.js\": 4427,\n\t\"./bm\": 5385,\n\t\"./bm.js\": 5385,\n\t\"./bn\": 7703,\n\t\"./bn-bd\": 7002,\n\t\"./bn-bd.js\": 7002,\n\t\"./bn.js\": 7703,\n\t\"./bo\": 9841,\n\t\"./bo.js\": 9841,\n\t\"./br\": 5642,\n\t\"./br.js\": 5642,\n\t\"./bs\": 4707,\n\t\"./bs.js\": 4707,\n\t\"./ca\": 3512,\n\t\"./ca.js\": 3512,\n\t\"./cs\": 9497,\n\t\"./cs.js\": 9497,\n\t\"./cv\": 6479,\n\t\"./cv.js\": 6479,\n\t\"./cy\": 9318,\n\t\"./cy.js\": 9318,\n\t\"./da\": 7229,\n\t\"./da.js\": 7229,\n\t\"./de\": 3460,\n\t\"./de-at\": 1044,\n\t\"./de-at.js\": 1044,\n\t\"./de-ch\": 6445,\n\t\"./de-ch.js\": 6445,\n\t\"./de.js\": 3460,\n\t\"./dv\": 2096,\n\t\"./dv.js\": 2096,\n\t\"./el\": 6048,\n\t\"./el.js\": 6048,\n\t\"./en-au\": 4301,\n\t\"./en-au.js\": 4301,\n\t\"./en-ca\": 6855,\n\t\"./en-ca.js\": 6855,\n\t\"./en-gb\": 761,\n\t\"./en-gb.js\": 761,\n\t\"./en-ie\": 6127,\n\t\"./en-ie.js\": 6127,\n\t\"./en-il\": 9157,\n\t\"./en-il.js\": 9157,\n\t\"./en-in\": 7199,\n\t\"./en-in.js\": 7199,\n\t\"./en-nz\": 1511,\n\t\"./en-nz.js\": 1511,\n\t\"./en-sg\": 7309,\n\t\"./en-sg.js\": 7309,\n\t\"./eo\": 2160,\n\t\"./eo.js\": 2160,\n\t\"./es\": 8582,\n\t\"./es-do\": 1885,\n\t\"./es-do.js\": 1885,\n\t\"./es-mx\": 8131,\n\t\"./es-mx.js\": 8131,\n\t\"./es-us\": 6962,\n\t\"./es-us.js\": 6962,\n\t\"./es.js\": 8582,\n\t\"./et\": 8890,\n\t\"./et.js\": 8890,\n\t\"./eu\": 7704,\n\t\"./eu.js\": 7704,\n\t\"./fa\": 2562,\n\t\"./fa.js\": 2562,\n\t\"./fi\": 877,\n\t\"./fi.js\": 877,\n\t\"./fil\": 4246,\n\t\"./fil.js\": 4246,\n\t\"./fo\": 8341,\n\t\"./fo.js\": 8341,\n\t\"./fr\": 9867,\n\t\"./fr-ca\": 2347,\n\t\"./fr-ca.js\": 2347,\n\t\"./fr-ch\": 7683,\n\t\"./fr-ch.js\": 7683,\n\t\"./fr.js\": 9867,\n\t\"./fy\": 1982,\n\t\"./fy.js\": 1982,\n\t\"./ga\": 3905,\n\t\"./ga.js\": 3905,\n\t\"./gd\": 3443,\n\t\"./gd.js\": 3443,\n\t\"./gl\": 6905,\n\t\"./gl.js\": 6905,\n\t\"./gom-deva\": 1324,\n\t\"./gom-deva.js\": 1324,\n\t\"./gom-latn\": 1890,\n\t\"./gom-latn.js\": 1890,\n\t\"./gu\": 7134,\n\t\"./gu.js\": 7134,\n\t\"./he\": 6835,\n\t\"./he.js\": 6835,\n\t\"./hi\": 1394,\n\t\"./hi.js\": 1394,\n\t\"./hr\": 3564,\n\t\"./hr.js\": 3564,\n\t\"./hu\": 6269,\n\t\"./hu.js\": 6269,\n\t\"./hy-am\": 7269,\n\t\"./hy-am.js\": 7269,\n\t\"./id\": 4254,\n\t\"./id.js\": 4254,\n\t\"./is\": 8699,\n\t\"./is.js\": 8699,\n\t\"./it\": 8301,\n\t\"./it-ch\": 5060,\n\t\"./it-ch.js\": 5060,\n\t\"./it.js\": 8301,\n\t\"./ja\": 4642,\n\t\"./ja.js\": 4642,\n\t\"./jv\": 2168,\n\t\"./jv.js\": 2168,\n\t\"./ka\": 4501,\n\t\"./ka.js\": 4501,\n\t\"./kk\": 9537,\n\t\"./kk.js\": 9537,\n\t\"./km\": 5808,\n\t\"./km.js\": 5808,\n\t\"./kn\": 4881,\n\t\"./kn.js\": 4881,\n\t\"./ko\": 2951,\n\t\"./ko.js\": 2951,\n\t\"./ku\": 2452,\n\t\"./ku.js\": 2452,\n\t\"./ky\": 1853,\n\t\"./ky.js\": 1853,\n\t\"./lb\": 7639,\n\t\"./lb.js\": 7639,\n\t\"./lo\": 4502,\n\t\"./lo.js\": 4502,\n\t\"./lt\": 874,\n\t\"./lt.js\": 874,\n\t\"./lv\": 8237,\n\t\"./lv.js\": 8237,\n\t\"./me\": 7878,\n\t\"./me.js\": 7878,\n\t\"./mi\": 4234,\n\t\"./mi.js\": 4234,\n\t\"./mk\": 7535,\n\t\"./mk.js\": 7535,\n\t\"./ml\": 3896,\n\t\"./ml.js\": 3896,\n\t\"./mn\": 3046,\n\t\"./mn.js\": 3046,\n\t\"./mr\": 927,\n\t\"./mr.js\": 927,\n\t\"./ms\": 7224,\n\t\"./ms-my\": 6332,\n\t\"./ms-my.js\": 6332,\n\t\"./ms.js\": 7224,\n\t\"./mt\": 4866,\n\t\"./mt.js\": 4866,\n\t\"./my\": 4206,\n\t\"./my.js\": 4206,\n\t\"./nb\": 6723,\n\t\"./nb.js\": 6723,\n\t\"./ne\": 5097,\n\t\"./ne.js\": 5097,\n\t\"./nl\": 7529,\n\t\"./nl-be\": 1355,\n\t\"./nl-be.js\": 1355,\n\t\"./nl.js\": 7529,\n\t\"./nn\": 296,\n\t\"./nn.js\": 296,\n\t\"./oc-lnc\": 4802,\n\t\"./oc-lnc.js\": 4802,\n\t\"./pa-in\": 7057,\n\t\"./pa-in.js\": 7057,\n\t\"./pl\": 9850,\n\t\"./pl.js\": 9850,\n\t\"./pt\": 5552,\n\t\"./pt-br\": 3726,\n\t\"./pt-br.js\": 3726,\n\t\"./pt.js\": 5552,\n\t\"./ro\": 1717,\n\t\"./ro.js\": 1717,\n\t\"./ru\": 9117,\n\t\"./ru.js\": 9117,\n\t\"./sd\": 1742,\n\t\"./sd.js\": 1742,\n\t\"./se\": 2049,\n\t\"./se.js\": 2049,\n\t\"./si\": 3329,\n\t\"./si.js\": 3329,\n\t\"./sk\": 7619,\n\t\"./sk.js\": 7619,\n\t\"./sl\": 6707,\n\t\"./sl.js\": 6707,\n\t\"./sq\": 9051,\n\t\"./sq.js\": 9051,\n\t\"./sr\": 436,\n\t\"./sr-cyrl\": 3408,\n\t\"./sr-cyrl.js\": 3408,\n\t\"./sr.js\": 436,\n\t\"./ss\": 7500,\n\t\"./ss.js\": 7500,\n\t\"./sv\": 6950,\n\t\"./sv.js\": 6950,\n\t\"./sw\": 4222,\n\t\"./sw.js\": 4222,\n\t\"./ta\": 3746,\n\t\"./ta.js\": 3746,\n\t\"./te\": 1130,\n\t\"./te.js\": 1130,\n\t\"./tet\": 4740,\n\t\"./tet.js\": 4740,\n\t\"./tg\": 3378,\n\t\"./tg.js\": 3378,\n\t\"./th\": 628,\n\t\"./th.js\": 628,\n\t\"./tk\": 2622,\n\t\"./tk.js\": 2622,\n\t\"./tl-ph\": 100,\n\t\"./tl-ph.js\": 100,\n\t\"./tlh\": 2871,\n\t\"./tlh.js\": 2871,\n\t\"./tr\": 3600,\n\t\"./tr.js\": 3600,\n\t\"./tzl\": 8985,\n\t\"./tzl.js\": 8985,\n\t\"./tzm\": 3627,\n\t\"./tzm-latn\": 1145,\n\t\"./tzm-latn.js\": 1145,\n\t\"./tzm.js\": 3627,\n\t\"./ug-cn\": 4790,\n\t\"./ug-cn.js\": 4790,\n\t\"./uk\": 7712,\n\t\"./uk.js\": 7712,\n\t\"./ur\": 9529,\n\t\"./ur.js\": 9529,\n\t\"./uz\": 9141,\n\t\"./uz-latn\": 1737,\n\t\"./uz-latn.js\": 1737,\n\t\"./uz.js\": 9141,\n\t\"./vi\": 8205,\n\t\"./vi.js\": 8205,\n\t\"./x-pseudo\": 697,\n\t\"./x-pseudo.js\": 697,\n\t\"./yo\": 7826,\n\t\"./yo.js\": 7826,\n\t\"./zh-cn\": 3994,\n\t\"./zh-cn.js\": 3994,\n\t\"./zh-hk\": 6892,\n\t\"./zh-hk.js\": 6892,\n\t\"./zh-mo\": 3884,\n\t\"./zh-mo.js\": 3884,\n\t\"./zh-tw\": 5136,\n\t\"./zh-tw.js\": 5136\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6700;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [556], () => (__webpack_require__(9386)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Text","_ref","_styleObject","_styleObject2","style","children","rest","_objectWithoutProperties","_excluded","styleObject","Array","isArray","forEach","el","Object","assign","_jsx","RN","_objectSpread","fontSize","fontFamily","debug","serviceEntry","msg1","msg2","msg3","msg4","msg5","msg6","fetch","method","headers","body","JSON","stringify","vacant","reserved","occupied","paid","unavailable","adhoc","deposit","grey1","grey2","grey3","grey4","grey5","grey7","grey8","grey9","size","Platform","OS","black8","white8","OverlayAlert","_Component","_inherits","_super","_createSuper","props","_classCallCheck","call","_createClass","key","value","_this","console","log","this","View","styles","overlay","_jsxs","overlayContent","overlayHeader","overlayTitleText","overlaySubtitleText","color","theme","overlayText","text","toUpperCase","TouchableOpacity","overlayOption","onPress","handleUpdateFromProcedureMessage","overlayOptionText","Component","StyleSheet","create","backgroundColor","position","zIndex","top","left","right","bottom","flex","alignItems","justifyContent","width","borderRadius","overflow","marginVertical","textTransform","opacity","textAlign","marginTop","height","margin","OverlayLanguage","intl","buttonsContainer","button","handleUpdateFromLanguage","buttonText","minWidth","paddingHorizontal","flexDirection","state","input","_this2","title","subtitle","ok","handleUpdateFromAlert","options","map","handleText","cancel","Preference","preference","overlayProcedureMessageVisible","overlayAlertVisible","overlayAlertInputValue","bind","_assertThisInitialized","_componentDidMount","_asyncToGenerator","AsyncStorage","getItem","parse","setState","apply","arguments","doReset","push","tcolsize","mcolsize","pcolsize","mquick","dsecondary","usecondary","setItem","preferenceUpdate","navigation","_this$state","container","OverlayProcedureMessage","leftContainer","navigateContainer","navigateWrapper","goBack","AntDesign","name","selectionContainer","displayContainer","displayWrapper","paddingRight","gap","gridContainer","ScrollView","showsVerticalScrollIndicator","grid","doTcolsize","gridFirst","gridFirstLeftText","gridFirstRightText","gridSecond","gridSecondText","gridThird","gridThirdRightText","doPcolsize","TextInput","defaultValue","onChangeText","doUsecondary","rightContainer","paddingLeft","doMcolsize","doMquick","doDsecondary","doPressReset","searchBox","marginBottom","searchBoxInputValue","searchBoxButton","searchBoxInfo","searchBoxInfoLeft","searchBoxInfoRight","searchBoxInfoText","padding","gridFirstLeft","gridFirstRight","gridThirdLeft","gridThirdRight","paddingTop","aspectRatio","selection","paddingVertical","selectionText","tableItemText","tableItemModText","tableItemContainer","minHeight","marginHorizontal","tableItemFirstContainer","borderRightWidth","borderRightColor","tableItemSecondContainer","tableItemThirdContainer","tableItemFourthContainer","titleFirstContainer","titleSecondContainer","titleThirdContainer","titleFourthContainer","titleText","Login","language","serviceEntryObj","accessCode","password","userId","home","dev","_preference","_preference2","_preference3","_preference4","_preference5","_preference6","sub","addListener","didFocus","navigate","doSubmitAccessCode","_didFocus","_route$params","route","params","sync","moment","diff","item","overlayLanguageVisible","currentLocale","_this3","Alert","alert","doDownload","Linking","openURL","link","doLogIn","_this$state2","_doLogIn","_this4","then","response","json","message","Promise","all","_ref2","_slicedToArray","promiseArray","url","URLSearchParams","append","shopId","promiseObject","nameString","orgId","locId","_toConsumableArray","_defineProperty","masters","reduce","o","keys","values","catch","error","_x","_x2","accessCodeUpdate","_Constants$manifest$v","_this5","_this$props","_this$state3","Ionicons","MaterialIcons","doPressDownload","numberOfLines","Constants","manifest","version","split","Image","source","Logo","resizeMode","textInputContainer","textInput","placeholder","placeholderTextColor","placeholderStyle","secureTextEntry","autoComplete","autoCorrect","onSubmitEditing","doPressKey","Dimensions","get","MainTable","settings","sections","tablemas","tables","floorWidth","selectedSection","focused","doRefresh","prevProps","refresh","_doRefresh","initial","length","doPressFloor","doPressSection","sectionId","_doPressFloor","selectedTable","_doPressSection","_this$state4","tableId","doPressFocusedTable","handlePressTable","_this$state5","find","statusFlg","handleActionTable","adhocItem","transType","doTranslateTableColor","e","nativeEvent","layout","_this$state6","renderFloor","FlatList","numColumns","horizontal","data","recKey","concat","keyExtractor","index","toString","renderItem","renderTable","initialNumToRender","MaterialCommunityIcons","_this$state7","disabled","doPressTable","seatTime","format","pax","Feather","letterSpacing","vipName","tableLowerBand","grandTotal","_this6","_this$state8","onLayout","doLayout","xaxis","Number","yaxis","shape","doPressFloorTable","Math","sqrt","doTranslateFloorTableColor","transform","rotateZ","flexWrap","filter","some","obj","onetwo","MainMenu","foldergrps","folders","uniqueFolders","Map","v","folderId","menus","uniqueMenus","menuId","modBundles","displayMode","displays","limiteds","searchText","foldergrpId","found","selectedFoldergrp","doGet","quick","handlePressMenu","caseText","displaysUpdate","menuName","includes","_intl$get","_intl$get2","_intl$get3","_settings$find","onFocus","doSearchText","doPressFoldergrp","Keyboard","dismiss","setId","setString","renderMenu","renderMenuB","_ref3","renderFolder","pagingEnabled","showsHorizontalScrollIndicator","handlePressScan","startTime","endTime","doPressFolder","_item$listPrice","_foldergrps$find","_folders$find","_this7","restmenuRecKey","doPressMenu","listPrice","toFixed","serveLimit","serveCount","_foldergrps$find2","_folders$find2","_item$listPrice2","_this8","uri","restServiceUrl","urlAddr","lastupdate","OverlayAutoLogout","timer","countdown","initialTimer","setInterval","clearInterval","handleUpdateFromAutoLogout","OverlayDeposit","homeDelivery","vipPhone","dlyDate","dpostalcode","daddress1","daddress2","type","address","handleUpdateFromDeposit","tabContainer","doPressDelivery","vipInputsContainer","vipInputsRow","vipInput","textContentType","keyboardType","_Fragment","doChangePostal","doSubmit","tabText","tabFocusText","OverlayScanBarcode","handleSubmit","scanTextInput","focus","handleUpdateFromScanBarcode","searchBoxWrapper","overlaySearchBox","overlaySearchBoxInput","ref","autoFocus","overlaySearchBoxButton","OverlayRequestAccess","handleUpdateFromRequestAccess","overlayTextUpdate","requestedPrivilege","alignSelf","scrollEnabled","OverlayChangePrice","privileges","discounts","selectedTableItem","availableDiscounts","overlaySearchText","discountSelected","selectedDiscount","validatePass","overlayRequestAccessVisible","handleOverlaySearchText","handleValidate","priId","userName","loading","superUserId","adminFlg","handleUpdateFromChangePrice","availableDiscountsUpdate","discId","discName","paddingBottom","selectText","selectWrapper","overlayGrid","dummy","hidden","overlayGridFirst","overlayGridFirstLeft","overlayGridFirstLeftText","overlayGridFirstRight","overlayGridFirstRightText","overlayGridSecond","overlayGridSecondText","overlayGridThird","overlayGridThirdLeft","overlayGridThirdRight","overlayGridThirdRightText","overlayBackButton","OverlayLineDiscount","remarks","itemWithRemarks","handleUpdateFromLineDiscount","OverlayHeaderDiscount","handleUpdateFromHeaderDiscount","OverlayMergeTable","availableTables","mergeTables","handleSelectTable","availableTablesUpdate","mergeTablesUpdate","_readOnlyError","modalAvailableMod","modalAvailableModText","handleUpdateFromMergeTable","marginRight","OverlaySplitTable","tableItems","availableTableItems","refRecKey","selectedTableItems","handleSelectTableItem","availableTableItemsUpdate","selectedTableItemsUpdate","lineNo","handleUpdateFromSplitTable","OverlayChangeTable","handleUpdateFromChangeTable","OverlayReviseItem","handleUpdateFromReviseItem","confirmFlg","menuType","discFlg","OverlayTableActions","handleUpdateFromTableActions","OverlayAdditionalFunctions","handleUpdateFromAdditionalFunctions","OverlayChoosePrinter","printers","cashierPrinters","availablePrinters","availablePrintersUpdate","iomodelId","printPurpose","handleUpdateFromChoosePrinter","Tab","createBottomTabNavigator","Main","screen","handleUpdateFromVoid","handleUpdateFromTable","global","socket","io","substring","lastIndexOf","query","serviceId","epbId","doChooseDefaultPrinter","close","overlayChoosePrinterVisible","_masters$cashierPrint","homeUpdate","defaultPrinter","_handlePressTable","opentable","doClearTable","doToggleScreen","emit","opentableItems","users","action","doCreateTable","mode","settingPOSMODE","modmas","mustFlg","globalFlg","mods","_masters$modBundles$f","modId","selectedMenu","opentableRecKey","restmenuMod","serviceFlg","orderQty","orderType","_settings$find2","doCreateTableForPos","camera","overlayScanBarcodeVisible","_settings$find3","_response$opentable","_settings$find4","_response$opentable2","d","fireFlg","_settings$find5","overlayReviseItemVisible","_this$state9","_settings$find6","dayclosePayments","posDayCloseAmt","daycloseSubPayments","posDayCloseAmtDtl","printer","_this$state10","refTableId","_settings$find7","pospays","opentablePospays","newStatus","_this$state11","tableStatus","vipId","phone","reservationTime","sourceId","_settings$find8","_this9","_this$state12","opentableItemRecKey","_settings$find9","_this10","_this$state13","_settings$find10","_this11","_this$state14","newLineBreak","lineBreak","_settings$find11","_this12","_this$state15","_settings$find12","_this13","_this$state16","_settings$find13","overlayDepositVisible","_this$state17","sendFlg","_masters$sections$fin","_this14","_this$state18","printOrder","printOrderFlg","_settings$find14","_this$state19","_this15","_this$state20","_settings$find15","purpose","_this$state21","selectedPrinter","doSendOrder","doPrintBill","doStartPayment","doOpenDrawer","_this16","_this$state22","_settings$find16","doStartDayclose","doDeleteTableItem","doEditTableItem","_this$state23","overlayAdditionalFunctionsVisible","Date","_handleUpdateFromTableActions","_this$state24","overlayTableActionsVisible","overlayHeaderDiscountVisible","doChangeTableStatus","overlayMergeTableVisible","overlaySplitTableVisible","overlayChangeTableVisible","_this$state25","doRevertTableItem","overlayChangePriceVisible","overlayLineDiscountVisible","doUpdateLineBreak","doDuplicateTableItem","_this17","_this$state26","disc","discNum","_settings$find17","_this18","_this$state27","_settings$find18","_this19","_this$state28","price","_settings$find19","_this20","_this$state29","itemPayloads","mergedTableId","_settings$find20","join","items","_this21","_this$state30","_settings$find21","_response$opentable3","table","_this22","_this$state31","tableIdTo","_settings$find22","_this$state32","doTransTypeSales","doTransTypeDeposit","deliveryFlg","postalCode","addr1","addr2","_this23","_this$state33","addr3","addr4","_settings$find23","_this24","_this$state34","barcode","_settings$find24","tableInfo","_masters$settings$fin","_selectedTable$grandT","_this25","_this$state35","overlayAutoLogoutVisible","footerText","locName","marginLeft","tableUpperBand","doTranslateTableStatus","doPressSend","FontAwesome","Fontisto","tab","borderLeftWidth","borderLeftColor","scrollViewRef","onContentSizeChange","scrollToEnd","_item$lineTotal","doTranslateTableItemColor","doPressItem","menuMod","lineTotal","_obj$lineTotal","Navigator","screenOptions","headerShown","animation","gestureEnabled","tabBarStyle","display","Screen","OverlayServiceEntry","handleUpdateFromServiceEntry","Register","savedEntries","selectedItem","doDeleteEntry","doSetEntry","overlayServiceEntryVisible","bistroServiceUrl","doSaveEntry","savedEntriesUpdate","unshift","doPressEntry","doPressAdd","OverlaySplitItems","receipts","docId","percentage","handleFillPercentagesEvenly","handleSetPercentageForReceipt","handleSetFullPercentageForReceipt","numberString","number","receiptsUpdate","findIndex","aggregate","init","handleUpdateFromSplitItems","overlayScroll","inputRow","inputRowLeft","inputRowTitleText","inputRowSubtitleText","inputRowRight","selectTextOnFocus","percentageText","overlayNumber","Split","availableReceipts","receiptItems","overlaySplitItemsVisible","handleSplitSelectedTableItems","handleUndoAll","handleSelectAllUnsplitTableItems","handleDeselectAllUnsplitTableItems","comboItems","distribution","handleUpdateFromSplit","_this$props2","wrapper","itemsContainer","actionButton","splitScroll","snapToInterval","wrapperWidth","decelerationRate","OverlayInputReference","handleUpdateFromInputReference","OverlayMergeBill","selectedTargetTable","filteredResponse","handleUpdateFromMergeBill","OverlaySplitBill","handleQtyChange","prevState","isNaN","adjustContainer","adjustFirst","adjustSecond","handleNumberChange","adjustThird","handleUpdateFromSplitBill","keyHeight","OverlaySplitAmount","amount","warning","handleFillRemainder","handleSetAmountForReceipt","handleUpdateFromSplitAmount","equal","doFillEvenly","OverlayUpdateTips","paymentMethods","availablePaymentMethods","selectedPaymentMethod","availablePaymentMethodsUpdate","pmId","handleUpdateFromUpdateTips","OverlayViewSplitted","handleUpdateFromViewSplitted","PaynowQR","opts","defineProperty","generate","qrstring","s","n","str","String","i","crcTable","crc","c","charCodeAt","RangeError","trim","p","id","uen","editable","expiry","company","otherdata","refNumber","final","current","f","padLeft","crc16","qrcode","reference","orgName","qrcodeString","output","QRCode","logo","Paynow","logoSize","handleUpdateFromPaynow","Pos","payments","selectedPaymentItem","pay","balance","overlayPaynowVisible","overlayInputReferenceVisible","overlayMergeBillVisible","overlaySplitBillVisible","overlaySplitAmountVisible","overlayUpdateTipsVisible","overlayViewSplittedVisible","splitting","splitReceipts","handleBuildNumberString","handleSelectPaymentMethod","handleRounding","handleEnterButton","handleFinishButton","handleAddPayment","handleDeletePayment","handleFinishPayment","handleUnsplitBill","handlePressPaymentItem","handlePressPaymentItemRef","handlePressMerge","handlePressUnmerge","handlePressTips","handlePressSplit","handlePressUnsplit","handleViewSplitted","handleOpenDrawer","handleValidateAmount","newNumberString","slice","maxLength","indexOf","refType","numberStringUpdate","vipPtsMoney","floor","numberStringVal","isInteger","payMoney","opentablePospayRecKey","payAmt","roundAmt","handleAfterAddPayment","overlayPaynowInput","docNo","roundingFlg","roundType","ceil","round","splitCount","receiptmases","splittedReceipts","receiptRecKey","itemPercentages","itemRecKey","splittedReceiptsByamt","amt","_settings2$find","tableIdGuest","tips","OverlayPaynow","leftFirstContainer","rowOf5","headerKeyContainer","headerKeyTextTableId","headerKeyText","splitFlg","hostFlg","leftSecondContainer","tableSummaryContainer","tableSummaryTitleContainer","tableSummaryTitle","tableSummaryTitleText","tipsPmId","tableSummaryValueContainer","tableSummaryValue","tableSummaryValueText","beforeDisc","totalDisc","serviceCharge","totalTax","tender","change","maxHeight","paymentsContainer","paymentsFirst","paymentsTitleText","paymentsSecond","paymentsThird","paymentsFourth","posScrollView","contentWidth","contentHeight","animated","datumContainer","datumFirst","datumText","datumSecond","datumThird","payRef","datumFourth","rightFirstContainer","extraData","activeFunctionKeyContainer","functionKeyContainer","activeFunctionKeyText","functionKeyText","rightFirstNumberContainer","rightFirstNumberText","rightSecondContainer","rightSecondLeftContainer","clearContainer","keyText","rightSecondMiddleContainer","keyContainer","keyNumberText","rightSecondRightContainer","backspaceContainer","enterContainer","finishContainer","borderColor","borderWidth","dataContainer","Adhoc","selectedAdhocItem","adhocItems","availableMenus","menu","handleSelectAdhoc","handlePressSettleAsMenu","handlePressSettleAsRetail","handleSearchText","adhocRecKey","availableMenusUpdate","createDate","rightWrapper","Dayclose","total","systemAmt","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","handleFinishDayclose","daycloseRecKey","masRecKey","verify","subVerify","_this$setState","pmValue","doChangeText","settingDAYCLOSEVERIFY","containerFirst","containerSecond","summary","summaryText","summaryTotalText","floatAmt","subPmId","containerThird","Printer","handlePingAll","printersUpdate0","printersUpdate","msgId","handlePingPrinter","handleTestAll","printPort","handlePressPingAll","handlePressTestAll","OverlayEnterDate","dateString","valid","isValid","dateStringUpdate","add","subtract","inputRowFirst","inputRowSecond","inputRowThird","handleUpdateFromEnterDate","dateType","Report","selectedButton","fromDateString","toDateString","reportDetails","overlayEnterDateVisible","handlePressDate","handleSelectReport","handlePrintReport","selectedDateType","selectedDateString","report","reportCode","fromDateStringUpdate","toDateStringUpdate","reportContainer","reportLineContainer","reportLineFirst","reportLineFirstText","description","reportLineSecond","reportLineSecondText","qty","reportLineThird","reportLineThirdText","val","borderTopLeftRadius","borderTopRightRadius","Reprint","availableMasters","searches","selectedMaster","details","receiptsxText","pays","handlePressSearch","handleSelectButton","handleSelectMaster","handleReprint","receiptmas","receiptpaydtl","receiptitems","receiptpays","availableMastersUpdate","c1","c2","createUserId","alwaysBounceVertical","netPrice","_ref4","_ref5","Resequence","arrangedItems","handleReset","handleAddLineBreak","handleRemoveLineBreak","handleResequence","handleShiftTop","handleShiftUp","handleShiftDown","handleShiftBottom","arrangedItemsUpdate","_arrangedItemsUpdate","scrollToOffset","offset","_arrangedItemsUpdate2","spliceIndex","splice","_arrangedItemsUpdate3","skip","_arrangedItemsUpdate4","newLineNo","lineBreakContainer","Transfer","handleSelectTargetTable","handlePressSelectAll","converted","opentableRecKeyFrom","opentableRecKeyTo","opentableItemRecKeys","generateTextForSelectAll","OverlayVoidReceipt","returns","availableReturns","selectedReturn","availableReturnsUpdate","returnId","handleUpdateFromVoidReceipt","Void","overlayVoidReceiptVisible","reopenResponse","handleVoid","handlePressVoid","handlePressReopen","docDateString","Collect","handlePressCollect","Table","_props$route$params$m","_props$route$params$m2","vipSources","availableVipSources","overlayPax","capacity","overlayVip","vipDisc","cumPts","classId","overlayValidateVipId","overlayValidateCardNumber","overlayValidateNric","overlayValidateVipName","overlayValidateVipPhone","overlayValidateVipPhoneCountryCode","overlayValidateEmailAddress","vipResults","selectedVipResult","overlaySource","overlaySourceSearch","overlayDeliveryFlg","overlayPostalCode","overlayAddr1","overlayAddr2","overlayAddr3","daddress3","overlayAddr4","daddress4","activeTab","handlePressTab","handleSearchVip","handleEnterVip","handleClearVip","handlePressNext","handlePressPrev","handleAddressChange","handleCheckDeliveryFlg","cardNumber","nric","emailAddress","vipPhoneCountryCode","customerNumber","mobileNumber","emailaddress","customerSource","pts","money","cardNo","birthday","availableVipSourcesUpdate","overlayTabWidth","tabsContainer","overlayTab","handlePaxChange","hasActiveMembership","overlayGridThirdLeftText","detailWrapper","detailTitle","detailText","overlayOptionsContainer","overlayOptionContainer","overlaySearchBoxButtonText","overlaySearchVipButton","Menu","_props$route$params$s","_props$route$params$s2","_props$route$params$s3","_props$route$params$s4","_props$route$params$s5","_props$route$params$s6","_props$route$params$s7","_props$route$params$s8","_props$route$params$s9","qtyInput","modInput","modRecKeys","qtyInputUpdate","modInputUpdate","replace","selectedModBundle","modRecKeysUpdate","modType","moditems","_selectedTableItem$li","_selectedMenu$listPri","_mods$filter","_mods$filter$map","contentContainerStyle","flexGrow","modButton","doPressMod","modText","multiline","blurOnSubmit","menuQtyRow","menuQtyRowFirst","doChangeQty","menuQtyRowSecond","qtyTextInput","doValidateQty","menuQtyRowThird","modifierTextInput","modContainer","doPressModBundle","doToggleOrderType","doToggleLineBreak","Scan","hasCameraPermission","detected","handleBarCodeScanned","status","BarCodeScanner","requestPermissionsAsync","dataUpdate","charAt","onBarCodeScanned","backButton","iconContainer","windowWidth","windowHeight","Trace","maps","thisTable","thisUser","doReload","traceRef","onEndReachedThreshold","onEndReached","doLoad","alwaysBounceHorizontal","traceText","doToggleUser","doToggleTable","Activate","updateds","overlayRequestPrivilegeVisible","handleSelectMenu","handleSelectUpdated","handlePressDisplayMode","handleUpdateMenu","doGetMenu","updatedsUpdate","itemUpdate","restmenuRecKeys","newStatusFlg","kotType","Limit","onlineStatusFlg","_limiteds$find","_limiteds$find2","_limiteds$find3","doLimitMenu","doSelectMenu","inputContainer","inputRowLeftText","doToggleStatus","inputRowRightText","doToggleOnlineStatus","Fire","kitchenmsgs","kottypes","remark","selectedKottypes","selectedKitchenmsg","_item$kotTypes","kotTypes","selectedKottypesUpdate","_kottypes$find","navigateButton","navigateButtonText","doPressKitchenmsg","doPressTableItem","kotName","ListHeaderComponent","doPressAllKottype","doPressKottype","doPressFire","Combo","comboGroups","refMenuId","selectedComboItems","selectedComboItem","doPrepareComboItems","tableItemsUpdate","comboItemsUpdate","_tableItems$find","_tableItems$find2","_tableItems$find2$mod","comboitemRecKey","selectedComboItemsUpdate","groupNo","maxSelectItem","minSelectItem","arr","combogroupRecKey","doComboItemModInput","_comboItems$find","groupName","renderComboItem","_item$addonPrice","doPressComboItem","addonPrice","Secondary","doRoomParticipate","on","off","Stack","createNativeStackNavigator","App","_len","args","_key","locales","require","Font","loadAsync","getPermissionsAsync","resolve","NavigationContainer","StatusBar","component","navigationOptions","presentation","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code","module","exports","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","a","leafPrototypes","getProto","getPrototypeOf","t","ns","def","getOwnPropertyNames","definition","enumerable","g","globalThis","Function","window","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}