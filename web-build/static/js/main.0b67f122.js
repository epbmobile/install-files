(()=>{var e={3965:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>he});var r=n(5861),o=n(5671),i=n(3144),a=n(136),s=n(2963),l=n(1120),u=n(9526),d=n(3292),c=n(4333),f=n(1133),m=n(5690),h=n(2691),p=n(8138),y=n(7326),g=n(8643),j=n(1451),x=n(9233),v=n(9899);const b={vacant:"#30BEAE",reserved:"#FFB86F",occupied:"#2A79A8",paid:"#E84855",unavailable:"#424549",adhoc:"#7a4988",deposit:"#d65c91",grey1:"#23272A",grey2:"#2C2F33",grey3:"#36393E",grey4:"#424549",grey5:"#99aab5",grey7:"#E3E5E8",grey8:"#EBEDEF",grey9:"#F2F3F5",size:"web"===n(7132).default.OS?5:4,black8:"#000000aa",white8:"#ffffffcc"},w=n.p+"static/media/logo-culina.3bb74266a2d330c43d68.png",S=n.p+"static/media/wall-culina.d476b2024fc8aa2ff775.png";var I=n(6105),C=n.n(I),k=n(5519),R=n(9566),z=n(7557);function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var O=function(e){(0,a.default)(n,e);var t=F(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={selectedFolderId:""},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){}},{key:"handleViewableChanged",value:function(e){var t=this,n=e.viewableItems,r=e.changed;if(console.log("child",n,r),0!==n.length){var o=null==n?void 0:n[0].section.folderId;o!==this.state.selectedFolderId&&this.setState({selectedFolderId:o},(function(){return t.flatListRef.scrollToIndex({animated:!0,index:t.props.folders.findIndex((function(e){return o===e.folderId}))})}))}}},{key:"doPressFolder",value:function(e){var t=this.props.folders.findIndex((function(t){return t.folderId===e.folderId}));this.props.handlePressFolder(t),this.flatListRef.scrollToIndex({animated:!0,index:t}),this.setState({selectedFolderId:e.folderId})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.navigation,t.route,this.state);n.masters,n.id,n.carts,n.maps,n.animatedValue,n.titleModalVisible;return(0,z.jsx)(f.default,{style:{height:50},children:(0,z.jsx)(R.default,{ref:function(t){return e.flatListRef=t},style:{},showsHorizontalScrollIndicator:!1,horizontal:!0,data:this.props.folders,keyExtractor:function(e){return e.recKey.toString()},renderItem:function(t){var n=t.item;return(0,z.jsx)(j.default,{style:{padding:20,flexDirection:"row",alignItems:"center",backgroundColor:n.folderId===e.state.selectedFolderId?b.grey8:b.grey9},onPress:function(){return e.doPressFolder(n)},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:16},children:n.name})})}})})}}]),n}(u.Component);c.default.create({});function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var T=function(e){(0,a.default)(n,e);var t=P(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={masters:null,maps:[]},r.handlePressFolder=r.handlePressFolder.bind((0,y.default)(r)),r.handleViewableChanged=r.handleViewableChanged.bind((0,y.default)(r)),r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=(0,r.default)((function*(){var e=yield k.default.getItem("masters");this.doPrepareMasters(JSON.parse(e)),this.setState({masters:JSON.parse(e)});var t=this.props.navigation;this.sub=t.addListener("focus",this.didFocus.bind(this))}));return function(){return e.apply(this,arguments)}}()},{key:"didFocus",value:function(){var e=(0,r.default)((function*(){console.log("hahahaha focus")}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.sub()}},{key:"doPrepareMasters",value:function(e){console.log(e.folders.filter((function(e){return"EXT"===e.foldergrpId})).map((function(e){return{title:e.name,folderId:e.folderId}}))),console.log(e.menus);var t=e.folders.filter((function(e){return"EXT"===e.foldergrpId})).map((function(e){return{title:e.name,folderId:e.folderId}}));t.forEach((function(t){t.data=e.menus.filter((function(e){return e.folderId===t.folderId&&"EXT"===e.foldergrpId}))})),this.setState({maps:t})}},{key:"handlePressFolder",value:function(e){console.log("here",e),this.sectionListRef.scrollToLocation({animated:!1,sectionIndex:e,itemIndex:1})}},{key:"handleViewableChanged",value:function(e){var t=e.viewableItems,n=e.changed;console.log("parent",t,n),this.menuFolderRef.handleViewableChanged({viewableItems:t,changed:n})}},{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.navigation,i=r.route,a=this.state,s=(a.masters,a.maps);return(0,z.jsxs)(f.default,{style:{flex:1,backgroundColor:"white"},children:[(0,z.jsxs)(f.default,{style:{height:40,margin:20,flexDirection:"row",justifyContent:"space-between"},children:[(0,z.jsx)(v.default,{style:{height:40,width:80},source:{uri:w},resizeMode:"contain"}),(0,z.jsxs)(f.default,{style:{flex:1,flexDirection:"row-reverse"},children:[(0,z.jsx)(j.default,{style:{backgroundColor:b.paid,height:40,width:40,borderRadius:20,marginRight:10},onPress:function(){return o.navigate("Cart",{d:i.params.d,l:i.params.l,o:i.params.o,s:i.params.s,t:i.params.t})}}),(0,z.jsx)(f.default,{style:{backgroundColor:b.reserved,height:40,width:40,borderRadius:20,marginRight:10}}),(0,z.jsx)(f.default,{style:{backgroundColor:b.occupied,height:40,width:40,borderRadius:20,marginRight:10}})]})]}),(0,z.jsx)(O,{ref:function(e){return n.menuFolderRef=e},folders:null==(e=this.state.masters)||null==(t=e.folders)?void 0:t.filter((function(e){return"EXT"===e.foldergrpId})),handlePressFolder:this.handlePressFolder}),(0,z.jsx)(f.default,{children:(0,z.jsxs)(x.default,{style:{margin:5,fontSize:10,textAlign:"right",fontFamily:"regular"},children:["Visit ",C()().format("YYYY-MM-DD HH:MM")," as Guest"]})}),(0,z.jsx)(g.default,{style:{flex:1},ref:function(e){return n.sectionListRef=e},onViewableItemsChanged:this.handleViewableChanged,scrollEventThrottle:10,showsVerticalScrollIndicator:!1,stickySectionHeadersEnabled:!0,sections:s,keyExtractor:function(e,t){return t},renderItem:function(e){var t=e.item;e.index;return(0,z.jsxs)(f.default,{style:{flexDirection:"row",padding:10,borderBottomColor:b.grey9,borderBottomWidth:1,backgroundColor:"white"},children:[(0,z.jsx)(v.default,{style:{height:80,width:80,borderRadius:5,marginRight:10},source:{uri:S},resizeMode:"cover"}),(0,z.jsxs)(j.default,{style:{flex:1},onPress:function(){return o.navigate("Item",{d:i.params.d,l:i.params.l,o:i.params.o,s:i.params.s,t:i.params.t,m:t.menuId})},children:[(0,z.jsx)(f.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:18,color:b.grey1},children:t.menuName})}),(0,z.jsx)(x.default,{style:{fontFamily:"regular",fontSize:16,color:b.grey1},children:t.menuNameLang}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:16,marginTop:10,color:b.grey1},children:t.listPrice.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]})]})},renderSectionHeader:function(e){var t=e.section;return(0,z.jsx)(f.default,{style:{marginTop:-1,borderBottomWidth:1,borderBottomColor:b.grey8,backgroundColor:"white"},children:(0,z.jsxs)(x.default,{style:{fontFamily:"demi",padding:10,fontSize:20,color:b.grey1,paddingTop:20},children:[t.title,"  ",(0,z.jsxs)(x.default,{style:{fontFamily:"regular",fontSize:16,color:b.grey1},children:["(",t.data.length,")"]})]})})}})]})}}]),n}(u.Component),D=(c.default.create({}),n(4942)),B=n(2640),M=n(3497),A=n(3026),L=n(7447);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,D.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var H=function(e){(0,a.default)(n,e);var t=N(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={masters:null,remark:"",quantity:1,carts:[],animatedValue:new L.default.Value(0),modRecKeys:[],modInput:""},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=(0,r.default)((function*(){var e=this.props.route,t=yield k.default.getItem("masters");t=JSON.parse(t),this.setState({masters:t,selectedMenu:t.menus.find((function(t){return t.menuId===e.params.m})),mods:t.mods.filter((function(t){return t.menuId===e.params.m}))})}));return function(){return e.apply(this,arguments)}}()},{key:"doPressAdd",value:function(){var e=this.state.quantity;this.setState({quantity:e+1})}},{key:"doPressMinus",value:function(){var e=this.state.quantity;e<=1||this.setState({quantity:e-1})}},{key:"doPressMod",value:function(e){var t=this.state,n=t.masters,r=t.modInput,o=t.modRecKeys,i=n.modBundles.find((function(t){return t.modmas.modId===e.modId})),a=r,s=o;"A"===i.modmas.modType?o.some((function(t){return t===e.recKey.toString()}))?(a=a.replace("*"+e.name+"  ",""),s=s.filter((function(t){return t!==e.recKey.toString()}))):(a+="*"+e.name+"  ",s.push(e.recKey.toString())):(i.moditems.forEach((function(e){a=a.replace("*"+e.name+"  ",""),s=s.filter((function(t){return t!==e.recKey.toString()}))})),o.some((function(t){return t===e.recKey.toString()}))||(a+="*"+e.name+"  ",s.push(e.recKey.toString()))),this.setState({modInput:a,modRecKeys:s})}},{key:"doSubmit",value:function(){var e=(0,r.default)((function*(){var e=this.props,t=e.navigation,n=e.route,r=this.state,o=(r.carts,r.header,r.quantity),i=r.remark,a=r.modRecKeys,s=r.modInput,l=r.selectedMenu,u=yield k.default.getItem("cart");(u=u?JSON.parse(u):[]).push(U(U({},l),{},{orderQty:o,remark:i,modRecKeys:a,modInput:s})),k.default.setItem("cart",JSON.stringify(u)),t.navigate("Menu",{d:n.params.d,l:n.params.l,o:n.params.o,s:n.params.s,t:n.params.t})}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=(t.navigation,t.route,this.state),r=(n.title,n.remark),o=n.quantity,i=(n.carts,n.animatedValue,n.selectedMenu),a=n.mods,s=n.modRecKeys,l=n.masters;return(0,z.jsx)(f.default,{style:{flex:1,backgroundColor:"white"},children:(0,z.jsxs)(A.default,{style:{flex:1},contentContainerStyle:{minHeight:window.innerHeight,justifyContent:"space-between"},children:[(0,z.jsxs)(f.default,{children:[(0,z.jsx)(f.default,{style:{height:200},children:(0,z.jsx)(v.default,{style:{flex:1},source:{uri:S},resizeMode:"cover"})}),(0,z.jsxs)(f.default,{style:{borderBottomWidth:1,borderBottomColor:b.grey8,paddingVertical:20},children:[(0,z.jsxs)(x.default,{style:{fontFamily:"demi",paddingHorizontal:10,fontSize:20,color:b.grey1},children:[null==i?void 0:i.menuName,(0,z.jsxs)(x.default,{style:{fontFamily:"regular",fontSize:16,color:b.grey1},children:["  ",null==i?void 0:i.menuNameLang]})]}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:16,marginTop:10,paddingHorizontal:10,color:b.grey1},children:null==i?void 0:i.listPrice.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]}),null==a?void 0:a.map((function(t){var n,r,o;return(0,z.jsxs)(f.default,{style:{paddingVertical:30,paddingHorizontal:10},children:[(0,z.jsxs)(x.default,{style:{fontFamily:"demi",fontSize:18,marginBottom:5},children:[t.name,(0,z.jsxs)(x.default,{style:{fontFamily:"regular",fontSize:16,color:b.grey1},children:["Y"===(null==(n=l.modBundles.find((function(e){return e.modmas.modId===t.modId})))?void 0:n.modmas.mustFlg)?"  compulsory, ":"  optional, ","A"===(null==(r=l.modBundles.find((function(e){return e.modmas.modId===t.modId})))?void 0:r.modmas.modType)?"select any":"choose one"]})]}),null==(o=l.modBundles.find((function(e){return e.modmas.modId===t.modId})))?void 0:o.moditems.map((function(t,n){return(0,z.jsxs)(j.default,{style:{flexDirection:"row",alignItems:"center",minHeight:40},onPress:function(){return e.doPressMod(t)},children:[(0,z.jsx)(f.default,{style:{height:20,width:20,borderRadius:10,backgroundColor:s.some((function(e){return e===t.recKey.toString()}))?b.grey3:b.grey9,margin:10,marginTop:8}}),(0,z.jsxs)(x.default,{style:{fontFamily:"demi",fontSize:15,opacity:s.some((function(e){return e===t.recKey.toString()}))?1:.5},children:[t.name," ",0!==t.listPrice&&"+"+t.listPrice.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]},t.recKey.toString())}))]},t.recKey.toString())})),(0,z.jsxs)(f.default,{style:{paddingVertical:30,paddingHorizontal:10},children:[(0,z.jsxs)(x.default,{style:{fontFamily:"demi",fontSize:18,marginBottom:5},children:["Remarks",(0,z.jsx)(x.default,{style:{fontFamily:"regular",fontSize:16,color:b.grey1},children:"  additional comments"})]}),(0,z.jsx)(M.default,{style:{marginTop:5,borderRadius:5,backgroundColor:b.grey9,minHeight:50,fontFamily:"regular",fontSize:16,padding:5},multiline:!0,onChangeText:function(t){return e.setState({remark:t})},value:r})]})]}),(0,z.jsxs)(f.default,{children:[(0,z.jsxs)(f.default,{style:{flexDirection:"row",height:60,backgroundColor:"white"},children:[(0,z.jsx)(j.default,{style:{flex:1,alignItems:"flex-end",justifyContent:"center"},onPress:function(){return e.doPressMinus()},children:(0,z.jsx)(B.default,{name:"minus",size:24,color:b.grey1})}),(0,z.jsx)(f.default,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:24,color:b.grey1},children:o})}),(0,z.jsx)(j.default,{style:{flex:1,alignItems:"flex-start",justifyContent:"center"},onPress:function(){return e.doPressAdd()},children:(0,z.jsx)(B.default,{name:"plus",size:24,color:b.grey1})})]}),(0,z.jsx)(j.default,{style:{margin:10,height:60,backgroundColor:b.grey1,alignItems:"center",justifyContent:"center"},onPress:function(){return e.doSubmit()},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:20,letterSpacing:2,color:"white"},children:"ADD"})})]})]})})}}]),n}(u.Component),K=(c.default.create({modifierTextInput:{fontFamily:"varela-round",fontSize:20,color:"white",paddingHorizontal:20,height:120,backgroundColor:b.grey3},menuQtyRow:{height:80,flexDirection:"row",justifyContent:"center",alignItems:"center"},menuQtyRowFirst:{flex:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginRight:10},menuQtyRowSecond:{flex:1,justifyContent:"center",alignItems:"center"},menuQtyRowThird:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginLeft:10},qtyTextInput:{fontFamily:"varela-round",fontSize:32,width:"100%",color:"white",textAlign:"center"},modContainer:{padding:5,flexDirection:"row",flexWrap:"wrap",justifyContent:"center",backgroundColor:b.grey4},modButton:{paddingHorizontal:20,minHeight:32,justifyContent:"center",borderRadius:16,backgroundColor:b.grey2,margin:5},modText:{fontFamily:"varela-round",color:"white",fontSize:20}}),n(5202));function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var V=function(e){(0,a.default)(n,e);var t=Q(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={orders:[],carts:[],id:e.route.params.id},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=(0,r.default)((function*(){this.setState({carts:[]});var e=this.props.navigation;this.sub=e.addListener("focus",this.didFocus.bind(this)),this.doGet()}));return function(){return e.apply(this,arguments)}}()},{key:"didFocus",value:function(){var e=(0,r.default)((function*(){this.setState({carts:[]}),this.doGet()}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.sub()}},{key:"doGet",value:function(){var e=this,t=this.state.id;fetch("https://www.epbrowser.com/fnb-ws/api/openorders?orgId=X02&shopId=X0201&tableId="+t).then((function(e){return e.json()})).then((function(t){e.setState({orders:t})}))}},{key:"render",value:function(){var e=this.props,t=e.navigation,n=(e.route,this.state),r=(n.carts,n.id),o=n.orders;return console.log("orders",o),(0,z.jsxs)(f.default,{style:{flex:1},children:[(0,z.jsxs)(f.default,{style:{height:50,backgroundColor:b.tx1,flexDirection:"row"},children:[(0,z.jsx)(j.default,{style:{flex:1},onPress:function(){return t.navigate("Menu",{id:r})}}),(0,z.jsx)(j.default,{style:{width:50,alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Cart",{id:r})},children:(0,z.jsx)(K.default,{name:"cart",size:30,color:"white"})}),(0,z.jsx)(j.default,{style:{width:50,alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Order",{id:r})},children:(0,z.jsx)(K.default,{name:"clipboard-text",size:30,color:"white"})}),(0,z.jsx)(f.default,{style:{width:10}})]}),(0,z.jsxs)(A.default,{style:{flex:1,backgroundColor:"white"},children:[(0,z.jsx)(f.default,{style:{borderBottomWidth:1,borderBottomColor:b.bg2,backgroundColor:"white",paddingTop:20},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",padding:10,fontSize:30,color:b.tx2},children:"Orders"})}),o&&o.map((function(e,n){var o;return(0,z.jsxs)(f.default,{children:[(0,z.jsxs)(f.default,{style:{height:50,backgroundColor:b.tx1,flexDirection:"row"},children:[(0,z.jsx)(f.default,{style:{flex:1,flexDirection:"row",alignItems:"flex-end"},children:(0,z.jsxs)(x.default,{style:{fontFamily:"bold",padding:10,fontSize:20,color:"white"},children:["Order #",e.openorder.recKey]})}),(0,z.jsx)(j.default,{style:{width:50,alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Pay",{header:{tableId:r,recKey:e.openorder.recKey}})},children:(0,z.jsx)(K.default,{name:"qrcode-scan",size:24,color:"white"})}),(0,z.jsx)(f.default,{style:{width:10}})]}),null==(o=e.openorderItems)?void 0:o.map((function(e,t){return(0,z.jsxs)(f.default,{style:{flexDirection:"row",padding:10,borderBottomColor:b.bg2,borderBottomWidth:1,backgroundColor:"white"},children:[(0,z.jsx)(v.default,{style:{height:80,width:80,borderRadius:5,marginRight:10},source:{},resizeMode:"cover"}),(0,z.jsxs)(f.default,{style:{flex:1},children:[(0,z.jsxs)(f.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,z.jsxs)(x.default,{style:{fontFamily:"demi",fontSize:18,color:b.tx1},children:[e.menuName,"    ",(0,z.jsxs)(x.default,{style:{color:b.tx3},children:["$",e.listPrice]})]}),(0,z.jsx)(f.default,{children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:18,color:b.tx1},children:e.orderQty})})]}),(0,z.jsx)(x.default,{style:{fontFamily:"regular",fontSize:16,color:b.tx2},children:e.menuNameLang}),""!==e.remark&&e.remark&&(0,z.jsx)(f.default,{children:(0,z.jsxs)(x.default,{style:{fontFamily:"demi",fontSize:16,color:b.tx1},children:["**",e.remark,"**"]})})]})]},"I"+t.toString())}))]},"O"+n.toString())})),(0,z.jsx)(f.default,{style:{marginTop:100}})]}),(0,z.jsxs)(f.default,{style:{height:60,width:"100%",flexDirection:"row"},children:[(0,z.jsx)(j.default,{style:{backgroundColor:b.bg3,width:100,alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Menu",{id:r})},children:(0,z.jsx)(B.default,{name:"doubleleft",size:24,color:b.tx1})}),(0,z.jsx)(j.default,{style:{backgroundColor:b.tx1,flex:1,alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Menu",{id:r})},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:18,color:"white"},children:"BACK"})})]})]})}}]),n}(u.Component);c.default.create({modifierTextInput:{fontFamily:"varela-round",fontSize:20,color:"white",paddingHorizontal:20,height:120,backgroundColor:b.grey3},menuQtyRow:{height:80,flexDirection:"row",justifyContent:"center",alignItems:"center"},menuQtyRowFirst:{flex:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginRight:10},menuQtyRowSecond:{flex:1,justifyContent:"center",alignItems:"center"},menuQtyRowThird:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginLeft:10},qtyTextInput:{fontFamily:"varela-round",fontSize:32,width:"100%",color:"white",textAlign:"center"},modContainer:{padding:5,flexDirection:"row",flexWrap:"wrap",justifyContent:"center",backgroundColor:b.grey4},modButton:{paddingHorizontal:20,minHeight:32,justifyContent:"center",borderRadius:16,backgroundColor:b.grey2,margin:5},modText:{fontFamily:"varela-round",color:"white",fontSize:20}});function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var q=function(e){(0,a.default)(n,e);var t=W(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={carts:[]},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=(0,r.default)((function*(){var e=yield k.default.getItem("cart");e=e?JSON.parse(e):[],this.setState({carts:e});var t=this.props.navigation;this.sub=t.addListener("focus",this.didFocus.bind(this)),console.log("cart,",this.props.route.params)}));return function(){return e.apply(this,arguments)}}()},{key:"didFocus",value:function(){var e=(0,r.default)((function*(){}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.sub()}},{key:"doRemove",value:function(e){var t=this.state.carts,n=t.findIndex((function(t){return t.menuId===e.menuId&&t.orderQty===e.orderQty&&t.remark===e.remark}));n>-1&&t.splice(n,1),this.setState({carts:t})}},{key:"doSubmit",value:function(){var e,t=this,n=this.props,r=n.navigation,o=n.route,i=this.state.carts;"culina"===o.params.d&&(e="https://www.epbrowser.com/fnb-ws/"),console.log(JSON.stringify({orgId:o.params.o,locId:o.params.l,shopId:o.params.s,tableId:o.params.t||"",vipId:"",vipName:"",paymentPayloads:[],itemPayloads:i.map((function(e){return{orderQty:e.orderQty,restmenuMod:"",modRecKeys:e.modRecKeys.join(","),restmenuRecKey:e.recKey}}))})),fetch(e+"api/create-openorder",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({orgId:o.params.o,locId:o.params.l,shopId:o.params.s,tableId:o.params.t||"",vipId:"",vipName:"",paymentPayloads:[],itemPayloads:i.map((function(e){return{orderQty:e.orderQty,restmenuMod:"",modRecKeys:e.modRecKeys.join(","),restmenuRecKey:e.recKey}}))})}).then((function(e){return e.json()})).then((function(e){e.errMsg?console.log(e.errMsg):(t.setState({carts:[]}),e.openorder&&r.navigate("Pay2",{d:o.params.d,l:o.params.l,o:o.params.o,s:o.params.s,t:o.params.t,r:e.openorder.recKey}))}))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.navigation,t.route,this.state),r=n.carts;n.id;return(0,z.jsxs)(f.default,{style:{flex:1},children:[(0,z.jsxs)(A.default,{style:{flex:1,backgroundColor:"white"},children:[(0,z.jsx)(f.default,{style:{borderBottomWidth:1,borderBottomColor:b.bg2,backgroundColor:"white",paddingTop:20},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",padding:10,fontSize:30,color:b.tx2},children:"Cart"})}),r&&r.map((function(t,n){return(0,z.jsxs)(f.default,{style:{flexDirection:"row",padding:10,borderBottomColor:b.bg2,borderBottomWidth:1,backgroundColor:"white"},children:[(0,z.jsx)(v.default,{style:{height:80,width:80,borderRadius:5,marginRight:10},source:{},resizeMode:"cover"}),(0,z.jsxs)(f.default,{style:{flex:1},children:[(0,z.jsxs)(f.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,z.jsxs)(x.default,{style:{fontFamily:"demi",fontSize:18,color:b.tx1},children:[t.menuName,"    ",(0,z.jsxs)(x.default,{style:{color:b.tx3},children:["$",t.listPrice]})]}),r.some((function(e){return e.menuId===t.menuId}))&&(0,z.jsx)(f.default,{children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:18,color:b.tx1},children:t.orderQty})})]}),(0,z.jsx)(x.default,{style:{fontFamily:"regular",fontSize:16,color:b.tx2},children:t.menuNameLang}),""!==t.remark&&(0,z.jsx)(f.default,{children:(0,z.jsxs)(x.default,{style:{fontFamily:"demi",fontSize:16,color:b.tx1},children:["**",t.remark,"**"]})}),(0,z.jsxs)(j.default,{style:{flexDirection:"row"},onPress:function(){return e.doRemove(t)},children:[(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:16,marginTop:10,color:b.tx1,paddingRight:10},children:"Edit"}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:16,marginTop:10,color:b.red,paddingLeft:10},children:"Remove"})]})]})]},n.toString())})),(0,z.jsx)(f.default,{style:{marginTop:100}})]}),(0,z.jsx)(f.default,{style:{height:60,width:"100%",flexDirection:"row"},children:(0,z.jsx)(j.default,{style:{backgroundColor:b.grey1,flex:1,alignItems:"center",justifyContent:"center"},disabled:0===r.length,onPress:function(){return e.doSubmit()},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:18,color:"white"},children:"SUBMIT"})})})]})}}]),n}(u.Component),J=(c.default.create({modifierTextInput:{fontFamily:"varela-round",fontSize:20,color:"white",paddingHorizontal:20,height:120,backgroundColor:b.grey3},menuQtyRow:{height:80,flexDirection:"row",justifyContent:"center",alignItems:"center"},menuQtyRowFirst:{flex:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginRight:10},menuQtyRowSecond:{flex:1,justifyContent:"center",alignItems:"center"},menuQtyRowThird:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginLeft:10},qtyTextInput:{fontFamily:"varela-round",fontSize:32,width:"100%",color:"white",textAlign:"center"},modContainer:{padding:5,flexDirection:"row",flexWrap:"wrap",justifyContent:"center",backgroundColor:b.grey4},modButton:{paddingHorizontal:20,minHeight:32,justifyContent:"center",borderRadius:16,backgroundColor:b.grey2,margin:5},modText:{fontFamily:"varela-round",color:"white",fontSize:20}}),n(3034));function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var Y=function(e){(0,a.default)(n,e);var t=X(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={orders:[],carts:[],id:e.route.params.id,header:e.route.params.header},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=(0,r.default)((function*(){this.setState({carts:[]});var e=this.props.navigation;this.sub=e.addListener("focus",this.didFocus.bind(this))}));return function(){return e.apply(this,arguments)}}()},{key:"didFocus",value:function(){var e=(0,r.default)((function*(){this.setState({carts:[]})}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.sub()}},{key:"doGet",value:function(){var e=this,t=this.state.id;fetch("https://www.epbrowser.com/fnb-ws/api/openorders?orgId=X02&shopId=X0201&tableId="+t).then((function(e){return e.json()})).then((function(t){console.log("here",t),e.setState({orders:t})}))}},{key:"render",value:function(){var e=this.props,t=e.navigation,n=(e.route,this.state),r=n.header,o=(n.carts,n.id);return console.log("test",r),(0,z.jsxs)(f.default,{style:{flex:1,backgroundColor:"white",alignItems:"center",justifyContent:"center"},children:[(0,z.jsx)(J.default,{name:"assistant-navigation",size:30,color:"black"}),(0,z.jsxs)(x.default,{style:{fontFamily:"demi",fontSize:20,paddingTop:10,textAlign:"center",color:b.tx3},children:["Order ",(0,z.jsxs)(x.default,{style:{color:b.tx1},children:["#",r.recKey]})," for Table ",(0,z.jsxs)(x.default,{style:{color:b.tx1},children:["#",r.tableId]})]}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:20,padding:20,textAlign:"center"},children:"Thank you for your order. Our staff will attend to you shortly."}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:20,padding:20,textAlign:"center"},children:"You may also present this QR code as your order content."}),(0,z.jsx)(j.default,{onPress:function(){return t.navigate("Menu",{id:o})},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:20,padding:0,textAlign:"center",color:b.indigo,textDecorationLine:"underline"},children:"Back to Menu"})})]})}}]),n}(u.Component),G=(c.default.create({modifierTextInput:{fontFamily:"varela-round",fontSize:20,color:"white",paddingHorizontal:20,height:120,backgroundColor:b.grey3},menuQtyRow:{height:80,flexDirection:"row",justifyContent:"center",alignItems:"center"},menuQtyRowFirst:{flex:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginRight:10},menuQtyRowSecond:{flex:1,justifyContent:"center",alignItems:"center"},menuQtyRowThird:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginLeft:10},qtyTextInput:{fontFamily:"varela-round",fontSize:32,width:"100%",color:"white",textAlign:"center"},modContainer:{padding:5,flexDirection:"row",flexWrap:"wrap",justifyContent:"center",backgroundColor:b.grey4},modButton:{paddingHorizontal:20,minHeight:32,justifyContent:"center",borderRadius:16,backgroundColor:b.grey2,margin:5},modText:{fontFamily:"varela-round",color:"white",fontSize:20}}),n(6459));function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var $=function(e){(0,a.default)(n,e);var t=_(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={orders:[]},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=(0,r.default)((function*(){var e=this.props.navigation;this.sub=e.addListener("focus",this.didFocus.bind(this)),k.default.removeItem("cart"),this.doDirect()}));return function(){return e.apply(this,arguments)}}()},{key:"didFocus",value:function(){var e=(0,r.default)((function*(){this.doDirect()}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.sub()}},{key:"doDirect",value:function(){var e=this.props,t=(e.navigation,e.route);(0,G.default)(this.state),console.log("print","https://www.epbrowser.com/fnb-ws/api/order/"+t.params.r+"/redirect-to-payment-url?backUrl="+encodeURIComponent("https://www.audiohouse.com.sg")+"&redirectUrl="+encodeURIComponent("https://www.audiohouse.com.sg")+"&notifyUrl="+encodeURIComponent("https://www.epbrowser.com/fnb-ws/api/order/on-notify")),window.location.href="https://www.epbrowser.com/fnb-ws/api/order/"+t.params.r+"/redirect-to-payment-url?backUrl="+encodeURIComponent("https://www.epbrowser.com/bistro-ext/start?d="+t.params.d+"&o="+t.params.o+"&l="+t.params.l+"&s="+t.params.s+"&t="+t.params.t)+"&redirectUrl="+encodeURIComponent("https://www.epbrowser.com/bistro-ext/start?d="+t.params.d+"&o="+t.params.o+"&l="+t.params.l+"&s="+t.params.s+"&t="+t.params.t)+"&notifyUrl="+encodeURIComponent("https://www.epbrowser.com/fnb-ws/api/order/on-notify")}},{key:"render",value:function(){var e=this.props,t=e.navigation,n=e.route;return(0,G.default)(this.state),console.log("test"),(0,z.jsxs)(f.default,{style:{flex:1,backgroundColor:"white",alignItems:"center",justifyContent:"center"},children:[(0,z.jsx)(J.default,{name:"assistant-navigation",size:30,color:"black"}),(0,z.jsxs)(x.default,{style:{fontFamily:"demi",fontSize:20,paddingTop:10,textAlign:"center",color:b.tx3},children:["Order ",(0,z.jsxs)(x.default,{style:{color:b.tx1},children:["#",n.params.r]})," for Table ",(0,z.jsxs)(x.default,{style:{color:b.tx1},children:["#",n.params.t]})]}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:20,padding:20,textAlign:"center"},children:"Thank you for your order. Our staff will attend to you shortly."}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:20,padding:20,textAlign:"center"},children:"You may also present this QR code as your order content."}),(0,z.jsx)(j.default,{onPress:function(){return t.navigate("Menu")},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:20,padding:0,textAlign:"center",color:b.indigo,textDecorationLine:"underline"},children:"Back to Menu"})})]})}}]),n}(u.Component),Z=(c.default.create({modifierTextInput:{fontFamily:"varela-round",fontSize:20,color:"white",paddingHorizontal:20,height:120,backgroundColor:b.grey3},menuQtyRow:{height:80,flexDirection:"row",justifyContent:"center",alignItems:"center"},menuQtyRowFirst:{flex:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginRight:10},menuQtyRowSecond:{flex:1,justifyContent:"center",alignItems:"center"},menuQtyRowThird:{flex:1,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginLeft:10},qtyTextInput:{fontFamily:"varela-round",fontSize:32,width:"100%",color:"white",textAlign:"center"},modContainer:{padding:5,flexDirection:"row",flexWrap:"wrap",justifyContent:"center",backgroundColor:b.grey4},modButton:{paddingHorizontal:20,minHeight:32,justifyContent:"center",borderRadius:16,backgroundColor:b.grey2,margin:5},modText:{fontFamily:"varela-round",color:"white",fontSize:20}}),n(2982)),ee=n(7301);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,D.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var oe=function(e){(0,a.default)(n,e);var t=re(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={orders:[],carts:[]},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=(0,r.default)((function*(){var e=this.props,t=e.navigation,n=e.route;this.sub=t.addListener("focus",this.didFocus.bind(this)),console.log("start",yield ee.default.getInitialURL()),n.params.d&&n.params.o&&n.params.l&&n.params.s?this.doGet():t.navigate("Error",{d:n.params.d})}));return function(){return e.apply(this,arguments)}}()},{key:"didFocus",value:function(){var e=(0,r.default)((function*(){}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.sub()}},{key:"doGet",value:function(){var e,t,n,r,o=this.props.route,i=[];"culina"===o.params.d&&(e="https://www.epbrowser.com/fnb-ws/"),t=e+"api/foldergrps",(n=new URLSearchParams).append("orgId",o.params.o),n.append("shopId",o.params.s),r={url:t+="?"+n,nameString:"foldergrps"},i.push(r),t=e+"api/folders",(n=new URLSearchParams).append("orgId",o.params.o),n.append("shopId",o.params.s),r={url:t+="?"+n,nameString:"folders"},i.push(r),t=e+"api/menus",(n=new URLSearchParams).append("orgId",o.params.o),n.append("shopId",o.params.s),r={url:t+="?"+n,nameString:"menus"},i.push(r),t=e+"api/mods",(n=new URLSearchParams).append("orgId",o.params.o),n.append("shopId",o.params.s),r={url:t+="?"+n,nameString:"mods"},i.push(r),t=e+"api/mod-bundles",(n=new URLSearchParams).append("orgId",o.params.o),n.append("shopId",o.params.s),r={url:t+="?"+n,nameString:"modBundles"},i.push(r),t=e+"api/settings",(n=new URLSearchParams).append("appCode","RESTMENU"),n.append("orgId",o.params.o),n.append("shopId",o.params.s),r={url:t+="?"+n,nameString:"settings"},i.push(r),Promise.all((0,Z.default)(i.map((function(e){return fetch(e.url).then((function(e){return e.json()})).then((function(t){return console.log("fetching",e.nameString,t),(0,D.default)({},e.nameString,t)}))})))).then((function(e){var t=e.reduce((function(e,t){return ne(ne({},e),{},(0,D.default)({},Object.keys(t)[0],Object.values(t)[0]))}),{});console.log("masters",t),k.default.setItem("masters",JSON.stringify(t))}))}},{key:"render",value:function(){var e=this.props,t=e.navigation,n=e.route;return(0,z.jsxs)(f.default,{style:{flex:1,backgroundColor:"white",justifyContent:"flex-end"},children:[(0,z.jsx)(f.default,{style:{position:"absolute",top:0,left:0,right:0,bottom:0},children:(0,z.jsx)(v.default,{style:{flex:1},source:{uri:"culina"===n.params.d?S:null},resizeMode:"cover"})}),n.params.t?(0,z.jsxs)(f.default,{style:{position:"absolute",bottom:180,width:60,height:60,backgroundColor:b.grey1,alignItems:"center",justifyContent:"center"},children:[(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:10,letterSpacing:1,color:"white"},children:"TABLE"}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:20,letterSpacing:1,color:"white"},children:n.params.t})]}):(0,z.jsxs)(f.default,{style:{position:"absolute",bottom:180,width:60,height:60,backgroundColor:b.grey1,alignItems:"center",justifyContent:"center"},children:[(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:10,letterSpacing:1,color:"white"},children:"TAKE"}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:10,letterSpacing:1,color:"white"},children:"AWAY"})]}),(0,z.jsx)(j.default,{style:{margin:10,height:60,backgroundColor:"white",alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Menu",{d:n.params.d,l:n.params.l,o:n.params.o,s:n.params.s,t:n.params.t})},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:20,letterSpacing:2,color:b.grey1},children:"START AS GUEST"})}),(0,z.jsx)(j.default,{style:{margin:10,height:60,backgroundColor:"white",alignItems:"center",justifyContent:"center"},onPress:function(){return t.navigate("Login",{d:n.params.d,l:n.params.l,o:n.params.o,s:n.params.s,t:n.params.t})},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:20,letterSpacing:2,color:b.grey1},children:"START AS COMOCLUB"})})]})}}]),n}(u.Component);c.default.create({});const ie=n.p+"static/media/login-culina.1dd2ed14987941ab51db.png";function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var se=function(e){(0,a.default)(n,e);var t=ae(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={userId:"",mode:"USER",password:"",warning:null},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=(0,r.default)((function*(){var e=this.props.navigation;this.sub=e.addListener("focus",this.didFocus.bind(this)),console.log("start",yield ee.default.getInitialURL())}));return function(){return e.apply(this,arguments)}}()},{key:"didFocus",value:function(){var e=(0,r.default)((function*(){}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.sub()}},{key:"doSearchSimple",value:function(){var e,t=this,n=this.props,r=(n.navigation,n.route),o=this.state.userId;""!==o?("culina"===r.params.d&&(e="https://www.epbrowser.com/fnb-ws/"),fetch(e+"api/vendor/memberson/search-simple",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({searchString:o})}).then((function(e){return e.json()})).then((function(e){console.log(e),(null==e?void 0:e.length)>1?t.setState({warning:"Multiple records found. Please try again."}):0===(null==e?void 0:e.length)?t.setState({warning:"Invalid email or phone. Please try again."}):1===(null==e?void 0:e.length)&&t.setState({warning:null,userId:"",selectedVip:e[0],mode:"PASSWORD"},(function(){t.secondTextInput&&t.secondTextInput.focus()}))}))):this.firstTextInput.focus()}},{key:"doForget",value:function(){var e,t=this.props,n=(t.navigation,t.route),r=this.state,o=(r.userId,r.password,r.selectedVip);"culina"===n.params.d&&(e="https://www.epbrowser.com/fnb-ws/"),fetch(e+"api/vendor/memberson/forget",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({customerNumber:o.customerNumber})}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},{key:"doVerify",value:function(){var e,t=this.props,n=(t.navigation,t.route),r=this.state,o=(r.userId,r.password),i=r.selectedVip;"culina"===n.params.d&&(e="https://www.epbrowser.com/fnb-ws/"),fetch(e+"api/vendor/memberson/signin",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({customerNumber:i.customerNumber,password:o})}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.navigation,t.route,this.state),r=n.userId,o=n.password,i=n.mode,a=n.warning;return console.log("password is",o),(0,z.jsxs)(f.default,{style:{flex:1,backgroundColor:"white",alignItems:"center",justifyContent:"center"},children:[(0,z.jsx)(v.default,{style:{width:200,height:200},source:{uri:ie},resizeMode:"contain"}),(0,z.jsxs)(f.default,{style:{width:"80%"},children:[(0,z.jsx)(x.default,{style:{fontFamily:"demi",color:"#003A63",paddingHorizontal:20,paddingBottom:5},children:"Email or Mobile No."}),(0,z.jsxs)(f.default,{style:le.searchContainer,children:[(0,z.jsx)(f.default,{style:le.searchIconContainer,children:(0,z.jsx)(B.default,{name:"user",size:18,color:b.grey5})}),(0,z.jsx)(M.default,{style:le.searchTextInput,autoCorrect:!1,disabled:"PASSWORD"===i,placeholder:"email or mobile",placeholderTextColor:b.grey5,ref:function(t){e.firstTextInput=t},onSubmitEditing:function(){return e.doSearchSimple()},defaultValue:r,onChangeText:function(t){return e.setState({userId:t})}})]}),"PASSWORD"===i&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(x.default,{style:{fontFamily:"demi",color:"#003A63",paddingHorizontal:20,paddingBottom:5},children:"Password"}),(0,z.jsxs)(f.default,{style:le.searchContainer,children:[(0,z.jsx)(f.default,{style:le.searchIconContainer,children:(0,z.jsx)(B.default,{name:"user",size:18,color:b.grey5})}),(0,z.jsx)(M.default,{style:le.searchTextInput,autoCorrect:!1,secureTextEntry:!0,placeholder:"password",placeholderTextColor:b.grey5,ref:function(t){e.secondTextInput=t},onChangeText:function(t){return e.setState({password:t})}})]}),(0,z.jsx)(j.default,{onPress:function(){return e.doForget()},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",color:"#003A63",paddingBottom:5,textAlign:"right"},children:"Send One-time Password"})})]}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",color:"red",paddingHorizontal:20,paddingBottom:5},children:a||" "}),(0,z.jsx)(j.default,{style:{width:"100%",height:60,marginBottom:100,alignItems:"center",justifyContent:"center"},onPress:function(){"USER"===i?e.doSearchSimple():e.doVerify()},children:(0,z.jsx)(x.default,{style:{fontFamily:"demi",fontSize:20,letterSpacing:2,color:"#003A63"},children:"USER"===i?"NEXT":"VERIFY"})})]})]})}}]),n}(u.Component),le=c.default.create({searchContainer:{height:50,borderRadius:5,backgroundColor:b.grey9,flexDirection:"row",marginBottom:10},searchIconContainer:{marginVertical:10,marginHorizontal:5,width:40,alignItems:"center",justifyContent:"center",borderRightWidth:1,borderRightColor:b.grey7},searchTextInput:{flex:1,paddingHorizontal:10,borderRadius:5,fontFamily:"regular",fontSize:20}});function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var de=function(e){(0,a.default)(n,e);var t=ue(n);function n(e){var r;return(0,o.default)(this,n),(r=t.call(this,e)).state={},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=(0,r.default)((function*(){var e=this.props.navigation;this.sub=e.addListener("focus",this.didFocus.bind(this)),console.log("start",yield ee.default.getInitialURL())}));return function(){return e.apply(this,arguments)}}()},{key:"didFocus",value:function(){var e=(0,r.default)((function*(){}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.sub()}},{key:"render",value:function(){var e=this.props;e.navigation,e.route;return(0,z.jsxs)(f.default,{style:{flex:1,backgroundColor:"white",alignItems:"center",justifyContent:"center"},children:[(0,z.jsx)(v.default,{style:{height:40,width:80,margin:20},source:{uri:w},resizeMode:"contain"}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",marginHorizontal:20,textAlign:"center"},children:"Session expired or invalid link."}),(0,z.jsx)(x.default,{style:{fontFamily:"demi",marginHorizontal:20,textAlign:"center"},children:"Please rescan a valid QR code or contact our friendly staff."})]})}}]),n}(u.Component);c.default.create({});function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var fe=(0,h.default)(),me={config:{screens:{Start:{path:"bistro-ext/start"},Login:{path:"bistro-ext/login"},Menu:{path:"bistro-ext/menu"},Item:{path:"bistro-ext/item"},Order:{path:"bistro-ext/order"},Cart:{path:"bistro-ext/cart"},Pay:{path:"bistro-ext/pay"},Error:{path:"bistro-ext/error"}}}},he=function(e){(0,a.default)(s,e);var t=ce(s);function s(){var e;(0,o.default)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e}return(0,i.default)(s,[{key:"componentDidMount",value:function(){var e=(0,r.default)((function*(){yield p.loadAsync({regular:n(5448),demi:n(2510),bold:n(763),light:n(3820)}),this.setState({loading:!1})}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return(0,z.jsx)(f.default,{style:{flex:1,backgroundColor:"black"},children:(0,z.jsxs)(m.default,{linking:me,children:[(0,z.jsx)(d.default,{hidden:!0}),(0,z.jsxs)(fe.Navigator,{screenOptions:{headerShown:!1,animation:"none",gestureEnabled:!1},children:[(0,z.jsx)(fe.Screen,{name:"Start",component:oe,options:oe.navigationOptions}),(0,z.jsx)(fe.Screen,{name:"Login",component:se,options:se.navigationOptions}),(0,z.jsx)(fe.Screen,{name:"Menu",component:T,options:T.navigationOptions}),(0,z.jsx)(fe.Screen,{name:"Item",component:H,options:H.navigationOptions}),(0,z.jsx)(fe.Screen,{name:"Cart",component:q,options:q.navigationOptions}),(0,z.jsx)(fe.Screen,{name:"Pay",component:Y,options:Y.navigationOptions}),(0,z.jsx)(fe.Screen,{name:"Pay2",component:$,options:$.navigationOptions}),(0,z.jsx)(fe.Screen,{name:"Order",component:V,options:V.navigationOptions}),(0,z.jsx)(fe.Screen,{name:"Error",component:de,options:de.navigationOptions})]})]})})}}]),s}(u.Component);c.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},6700:(e,t,n)=>{var r={"./af":4506,"./af.js":4506,"./ar":9687,"./ar-dz":2887,"./ar-dz.js":2887,"./ar-kw":6307,"./ar-kw.js":6307,"./ar-ly":1664,"./ar-ly.js":1664,"./ar-ma":9926,"./ar-ma.js":9926,"./ar-sa":5207,"./ar-sa.js":5207,"./ar-tn":2912,"./ar-tn.js":2912,"./ar.js":9687,"./az":5011,"./az.js":5011,"./be":5997,"./be.js":5997,"./bg":4427,"./bg.js":4427,"./bm":5385,"./bm.js":5385,"./bn":7703,"./bn-bd":7002,"./bn-bd.js":7002,"./bn.js":7703,"./bo":9841,"./bo.js":9841,"./br":5642,"./br.js":5642,"./bs":9038,"./bs.js":9038,"./ca":3512,"./ca.js":3512,"./cs":9497,"./cs.js":9497,"./cv":6479,"./cv.js":6479,"./cy":9318,"./cy.js":9318,"./da":7229,"./da.js":7229,"./de":3460,"./de-at":1044,"./de-at.js":1044,"./de-ch":6445,"./de-ch.js":6445,"./de.js":3460,"./dv":2096,"./dv.js":2096,"./el":6048,"./el.js":6048,"./en-au":4301,"./en-au.js":4301,"./en-ca":6855,"./en-ca.js":6855,"./en-gb":761,"./en-gb.js":761,"./en-ie":6127,"./en-ie.js":6127,"./en-il":9157,"./en-il.js":9157,"./en-in":7199,"./en-in.js":7199,"./en-nz":1511,"./en-nz.js":1511,"./en-sg":7309,"./en-sg.js":7309,"./eo":2160,"./eo.js":2160,"./es":8582,"./es-do":1885,"./es-do.js":1885,"./es-mx":8131,"./es-mx.js":8131,"./es-us":6962,"./es-us.js":6962,"./es.js":8582,"./et":8890,"./et.js":8890,"./eu":7704,"./eu.js":7704,"./fa":2562,"./fa.js":2562,"./fi":877,"./fi.js":877,"./fil":4246,"./fil.js":4246,"./fo":8341,"./fo.js":8341,"./fr":9867,"./fr-ca":2347,"./fr-ca.js":2347,"./fr-ch":7683,"./fr-ch.js":7683,"./fr.js":9867,"./fy":1982,"./fy.js":1982,"./ga":3905,"./ga.js":3905,"./gd":3443,"./gd.js":3443,"./gl":6905,"./gl.js":6905,"./gom-deva":1324,"./gom-deva.js":1324,"./gom-latn":1890,"./gom-latn.js":1890,"./gu":7134,"./gu.js":7134,"./he":6835,"./he.js":6835,"./hi":1394,"./hi.js":1394,"./hr":3564,"./hr.js":3564,"./hu":6269,"./hu.js":6269,"./hy-am":7269,"./hy-am.js":7269,"./id":4254,"./id.js":4254,"./is":8699,"./is.js":8699,"./it":8301,"./it-ch":5060,"./it-ch.js":5060,"./it.js":8301,"./ja":4642,"./ja.js":4642,"./jv":2168,"./jv.js":2168,"./ka":4501,"./ka.js":4501,"./kk":9537,"./kk.js":9537,"./km":5808,"./km.js":5808,"./kn":4881,"./kn.js":4881,"./ko":2951,"./ko.js":2951,"./ku":2452,"./ku.js":2452,"./ky":1853,"./ky.js":1853,"./lb":7639,"./lb.js":7639,"./lo":4502,"./lo.js":4502,"./lt":874,"./lt.js":874,"./lv":8237,"./lv.js":8237,"./me":7878,"./me.js":7878,"./mi":4234,"./mi.js":4234,"./mk":7535,"./mk.js":7535,"./ml":3896,"./ml.js":3896,"./mn":3046,"./mn.js":3046,"./mr":927,"./mr.js":927,"./ms":7224,"./ms-my":6332,"./ms-my.js":6332,"./ms.js":7224,"./mt":4866,"./mt.js":4866,"./my":4206,"./my.js":4206,"./nb":6723,"./nb.js":6723,"./ne":5097,"./ne.js":5097,"./nl":7529,"./nl-be":1355,"./nl-be.js":1355,"./nl.js":7529,"./nn":296,"./nn.js":296,"./oc-lnc":4802,"./oc-lnc.js":4802,"./pa-in":7057,"./pa-in.js":7057,"./pl":9850,"./pl.js":9850,"./pt":5552,"./pt-br":3726,"./pt-br.js":3726,"./pt.js":5552,"./ro":1717,"./ro.js":1717,"./ru":9117,"./ru.js":9117,"./sd":1742,"./sd.js":1742,"./se":2049,"./se.js":2049,"./si":3329,"./si.js":3329,"./sk":7619,"./sk.js":7619,"./sl":6707,"./sl.js":6707,"./sq":4281,"./sq.js":4281,"./sr":436,"./sr-cyrl":3408,"./sr-cyrl.js":3408,"./sr.js":436,"./ss":7500,"./ss.js":7500,"./sv":6950,"./sv.js":6950,"./sw":4222,"./sw.js":4222,"./ta":3746,"./ta.js":3746,"./te":1130,"./te.js":1130,"./tet":4740,"./tet.js":4740,"./tg":3378,"./tg.js":3378,"./th":628,"./th.js":628,"./tk":2622,"./tk.js":2622,"./tl-ph":100,"./tl-ph.js":100,"./tlh":2871,"./tlh.js":2871,"./tr":3600,"./tr.js":3600,"./tzl":8985,"./tzl.js":8985,"./tzm":3627,"./tzm-latn":1145,"./tzm-latn.js":1145,"./tzm.js":3627,"./ug-cn":4790,"./ug-cn.js":4790,"./uk":7712,"./uk.js":7712,"./ur":9529,"./ur.js":9529,"./uz":9141,"./uz-latn":1737,"./uz-latn.js":1737,"./uz.js":9141,"./vi":8205,"./vi.js":8205,"./x-pseudo":697,"./x-pseudo.js":697,"./yo":7826,"./yo.js":7826,"./zh-cn":3994,"./zh-cn.js":3994,"./zh-hk":6892,"./zh-hk.js":6892,"./zh-mo":3884,"./zh-mo.js":3884,"./zh-tw":5136,"./zh-tw.js":5136};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=6700},763:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/AvenirNextLTPro-Bold.711a4eb654bf1139f123.otf"},2510:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/AvenirNextLTPro-Demi.2a0cec709a4166a967dc.otf"},3820:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/AvenirNextLTPro-It.3e062c6caf04ecafa42c.otf"},5448:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/AvenirNextLTPro-Regular.94f2f163d4b698242fef.otf"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,i)=>{if(!r){var a=1/0;for(d=0;d<e.length;d++){for(var[r,o,i]=e[d],s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,o,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[a,s,l]=r,u=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var d=l(n)}for(t&&t(r);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[874],(()=>n(9484)));r=n.O(r)})();
//# sourceMappingURL=main.0b67f122.js.map