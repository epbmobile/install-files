{"version":3,"file":"static/js/main.bd6973d2.js","mappings":"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","sources":["assets/utility.js","assets/theme.js","src/OverlayProcedureMessage.js","src/OverlayLanguage.js","src/Login.js","src/MainTableFloor.js","src/MainTable.js","src/MainMenu.js","src/OverlayAutoLogout.js","src/OverlayDeposit.js","src/OverlayScanBarcode.js","src/OverlayRequestAccess.js","src/OverlayChangePrice.js","src/OverlayLineDiscount.js","src/OverlayHeaderDiscount.js","src/OverlayMergeTable.js","src/OverlayChangeTable.js","src/OverlayReviseItem.js","src/OverlayTableActions.js","src/OverlayAdditionalFunctions.js","src/OverlayChoosePrinter.js","src/OverlayAlert.js","src/Main.js","src/OverlayServiceEntry.js","src/Register.js","src/Preference.js","src/OverlaySplitItems.js","src/Split.js","src/OverlayInputReference.js","src/OverlayMergeBill.js","src/OverlaySplitBill.js","src/OverlaySplitAmount.js","src/OverlayUpdateTips.js","src/OverlayViewSplitted.js","src/OverlayPaynow.js","src/Pos.js","src/OverlaySettleAdhoc.js","src/Adhoc.js","src/Dayclose.js","src/Printer.js","src/OverlayEnterDate.js","src/Report.js","src/Reprint.js","src/Resequence.js","src/Transfer.js","src/SplitTable.js","src/OverlayVoidReceipt.js","src/Void.js","src/Collect.js","src/Table.js","src/Menu.js","src/Scan.js","src/Trace.js","src/Activate.js","src/Limit.js","src/Fire.js","src/Combo.js","src/Secondary.js","App.js","node_modules/moment/locale|sync|/^/.*$","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import React, { useRef, useMemo, useEffect, useState, useCallback } from 'react';\nimport * as RN from 'react-native';\n// import ThemeContext from '../ThemeContext';\n\n// text wrapper for custom style text component\nexport function Text({ style, children, ...rest }) {\n\n  // const themeContext = useContext(ThemeContext);\n\n  let styleObject = style;\n  // convert array to object\n  if (Array.isArray(style)) {\n    styleObject = {};\n    style.forEach(el => {\n      styleObject = Object.assign(styleObject, el);\n    })\n  }\n\n  return (\n    // override font size\n    <RN.Text style={{ ...styleObject, fontSize: (styleObject?.fontSize || 14), fontFamily: (styleObject?.fontFamily || 'varela-round') }} {...rest}>\n      {children}\n    </RN.Text>\n  );\n};\n\nexport function debug(serviceEntry, msg1, msg2, msg3, msg4, msg5, msg6) {\n  fetch(serviceEntry + 'api/debug/', {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n    body: JSON.stringify({\n      msg1, // action\n      msg2, // user name\n      msg3, // error\n      msg4, // target id (table)\n      msg5, // detail name (tableItem)\n      msg6, // additional info (other)\n    }),\n  })\n}","import { Platform } from 'react-native';\r\n\r\nconst theme = {\r\n  vacant: '#30BEAE', // hsl(173, 60%, 47%)\r\n  reserved: '#FFB86F', // hsl(30, 100%, 72%)\r\n  occupied: '#2A79A8', //\thsl(202, 60%, 41%)\r\n  paid: '#E84855', // hsl(355, 78%, 60%)\r\n  unavailable: '#424549',\r\n  adhoc: '#7a4988', // hsl(287, 30%, 41%)\r\n  deposit: '#d65c91', // hsl(334, 60%, 60%)\r\n  grey1: '#23272A',\r\n  grey2: '#2C2F33',\r\n  grey3: '#36393E',\r\n  grey4: '#424549',\r\n  grey5: '#99aab5',\r\n\r\n  grey7: '#E3E5E8',\r\n  grey8: '#EBEDEF',\r\n  grey9: '#F2F3F5',\r\n\r\n  size: Platform.OS === 'web' ? 5 : 4,\r\n\r\n  black8: '#000000', // cc is 0.8, aa is not\r\n  white8: '#ffffffcc',\r\n}\r\n\r\nexport default theme;","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayproceduremessage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>WARNING</Text>\r\n            <Text style={[styles.overlaySubtitleText, { color: theme.paid }]}>Procedure Message</Text>\r\n            <Text style={styles.overlayText}>{this.props.text.toUpperCase()}</Text>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromProcedureMessage('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 3,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Feather, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayLanguage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlaylanguage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Language 语言 ランゲージ</Text>\r\n            {/* <Text style={styles.overlayText}>Select a message for the chef</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('en')}>\r\n              <Text style={{ marginTop: 5, color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>Aa</Text>\r\n              <Text style={[styles.buttonText,]}>ENGLISH</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zhs')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>简体</Text>\r\n              <Text style={[styles.buttonText,]}>简体中文</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zht')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>繁體</Text>\r\n              <Text style={styles.buttonText}>繁體中文</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('ja')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>日本語</Text>\r\n              <Text style={styles.buttonText}>日本語</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromLanguage('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialIcons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, Platform, Dimensions } from 'react-native';\r\nimport * as Linking from 'expo-linking';\r\nimport Constants from 'expo-constants';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text, debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport Logo from '../assets/logo-small-light.png';\r\nimport moment from 'moment';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayLanguage from './OverlayLanguage';\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      preference: null,\r\n      language: '-',\r\n      serviceEntry: '',\r\n      serviceEntryObj: null,\r\n      accessCode: '',\r\n      password: '',\r\n      userId: '',\r\n      home: null,\r\n\r\n      dev: false,\r\n      // dev: true,\r\n    };\r\n\r\n    this.handleUpdateFromLanguage = this.handleUpdateFromLanguage.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { navigation } = this.props;\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const language = await AsyncStorage.getItem('language');\r\n    let preference = await AsyncStorage.getItem('preference');\r\n\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n    }\r\n    preference = {\r\n      tcolsize: preference?.tcolsize || (Platform.OS === 'web' ? 5 : 4),\r\n      mcolsize: preference?.mcolsize || (Platform.OS === 'web' ? 3 : 2),\r\n      pcolsize: preference?.pcolsize || (Platform.OS === 'web' ? 5 : 3),\r\n      mquick: preference?.mquick || 'Y',\r\n      dsecondary: preference?.dsecondary || 'N',\r\n      usecondary: preference?.usecondary || '',\r\n      // rpartition: preference?.rpartition || 0.33,\r\n    };\r\n    AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n\r\n    console.log('mounting service', serviceEntry)\r\n    let serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (serviceEntryObj) {\r\n      serviceEntryObj = JSON.parse(serviceEntryObj);\r\n    } else {\r\n      serviceEntryObj = null;\r\n    }\r\n    this.setState({\r\n      preference,\r\n      serviceEntry,\r\n      language: language || 'en',\r\n      serviceEntryObj,\r\n    })\r\n    // secondary display only\r\n    if (preference.dsecondary === 'Y') {\r\n      navigation.navigate('Secondary', {\r\n        preference,\r\n        serviceEntry,\r\n        serviceEntryObj,\r\n      });\r\n    }\r\n    // dev only\r\n    if (this.state.dev) {\r\n      this.setState({\r\n        accessCode: 'qwe'\r\n      }, () => this.doSubmitAccessCode())\r\n    }\r\n  }\r\n\r\n  async didFocus() {\r\n    const { route } = this.props;\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (preference) {\r\n      this.setState({ preference: JSON.parse(preference) })\r\n    }\r\n    if (serviceEntryObj) {\r\n      this.setState({ serviceEntryObj: JSON.parse(serviceEntryObj) })\r\n    }\r\n    this.setState({ serviceEntry })\r\n    if (route.params?.sync && (moment(route.params.sync).diff(moment(), 'seconds') > -1)) {\r\n      this.doSubmitAccessCode();\r\n    } else {\r\n      if (!this.state.dev) {\r\n        this.setState({\r\n          accessCode: ''\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  handleUpdateFromLanguage(item) {\r\n    this.setState({\r\n      overlayLanguageVisible: false,\r\n    })\r\n    if (!item) {\r\n      return;\r\n    }\r\n    intl.options.currentLocale = item;\r\n    AsyncStorage.setItem('language', item);\r\n    this.setState({\r\n      language: item,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressDownload() {\r\n    Alert.alert(\r\n      `Download latest bistro app?`,\r\n      '',\r\n      [\r\n        {\r\n          text: 'Cancel',\r\n        },\r\n        {\r\n          text: 'Ok',\r\n          onPress: () => this.doDownload()\r\n        },\r\n      ],\r\n    );\r\n  }\r\n\r\n  doDownload() {\r\n    if (Platform.OS === 'ios') {\r\n      Linking.openURL(`itms-apps://itunes.apple.com/app/id6443468946`);\r\n    }\r\n  }\r\n\r\n  doSubmitPassword() {\r\n    const { serviceEntry, userId, password } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      userId: userId,\r\n      password: password,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  doSubmitAccessCode() {\r\n    const { serviceEntry, accessCode } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      accessCode: accessCode,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  async doLogIn(link, body) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry } = this.state;\r\n\r\n    fetch(link, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post login', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          throw response;\r\n        }\r\n        this.setState({\r\n          home: response,\r\n        });\r\n        return Promise.all([\r\n          AsyncStorage.setItem('home', JSON.stringify(response)),\r\n          response,\r\n        ]);\r\n      })\r\n      .then(([response, home]) => {// do parallel chain\r\n\r\n        let promiseArray = [];\r\n\r\n        let url = serviceEntry + 'api/sections';\r\n        let params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        let promiseObject = { url: url, nameString: 'sections' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/tablemas';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'tablemas' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/foldergrps';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'foldergrps' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/folders';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'folders' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/menus';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'menus' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mods';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('locId', home.locId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'mods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mod-bundles';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('locId', home.locId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'modBundles' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-items';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboItems' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-groups';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboGroups' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/payment-methods';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'paymentMethods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/vip-sources';\r\n        promiseObject = { url: url, nameString: 'vipSources' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/discounts';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'discounts' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/returns';\r\n        promiseObject = { url: url, nameString: 'returns' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/settings';\r\n        params = new URLSearchParams();\r\n        params.append('appCode', 'RESTMENU');\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'settings' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/privileges';\r\n        params = new URLSearchParams();\r\n        params.append('userId', home.userId);\r\n        params.append('locId', home.locId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'privileges' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/cashier-printers';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'cashierPrinters' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kottype';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kottypes' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kitchenmsgs';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kitchenmsgs' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        return Promise.all([\r\n          ...promiseArray.map(el =>\r\n            fetch(el.url)\r\n              .then(response => response.json())\r\n              .then(response => {\r\n                console.log('fetching', el.nameString, response);\r\n                return ({ [el.nameString]: response });\r\n              })\r\n          )\r\n        ]);\r\n      })\r\n      .then(response => {\r\n        const masters = response.reduce((o, item) => ({ ...o, [Object.keys(item)[0]]: Object.values(item)[0] }), {});\r\n        console.log('masters', masters);\r\n        navigation.navigate('Main', {\r\n          masters,\r\n          home: this.state.home,\r\n          serviceEntryObj: this.state.serviceEntryObj,\r\n          serviceEntry: this.state.serviceEntry,\r\n          preference: this.state.preference\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log('error', error);\r\n        this.setState({\r\n          accessCode: '',\r\n        })\r\n      });\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { accessCode } = this.state;\r\n    let accessCodeUpdate = accessCode + item;\r\n    this.setState({ accessCode: accessCodeUpdate });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { preference, serviceEntryObj, serviceEntry, language, userId, password, accessCode,\r\n      overlayProcedureMessageVisible, overlayLanguageVisible } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayLanguageVisible &&\r\n          <OverlayLanguage\r\n            handleUpdateFromLanguage={this.handleUpdateFromLanguage} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ flex: 1, backgroundColor: 'white', }}>\r\n          <View style={{ flex: 2, }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View>\r\n                <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.paid }}\r\n                  onPress={() => navigation.navigate('Register')}>\r\n                  <Ionicons name='ios-globe' size={24} color={theme.grey1} style={{ height: 24, width: 24, marginTop: -2 }} />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ marginHorizontal: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.reserved }}\r\n                  onPress={() => navigation.navigate('Preference')}>\r\n                  <MaterialIcons name=\"miscellaneous-services\" size={24} color={theme.grey1} />\r\n                </TouchableOpacity>\r\n                {\r\n                  Platform.OS === 'ios' &&\r\n                  <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.occupied }}\r\n                    onPress={() => this.doPressDownload()}>\r\n                    <AntDesign name=\"clouddownload\" size={24} color={theme.grey1} />\r\n                  </TouchableOpacity>\r\n                }\r\n              </View>\r\n\r\n            </View>\r\n            <View style={{ margin: 20, alignItems: 'flex-end', justifyContent: 'flex-end', }}>\r\n              <Text style={{ color: theme.paid }}>{serviceEntryObj?.name || 'Entry'}</Text>\r\n              <Text style={{ fontSize: 10, marginBottom: 5, color: theme.occupied }} numberOfLines={1}>{serviceEntry}</Text>\r\n              <Text style={{ fontSize: 18 }}>AN EXTENSION OF THE EPB SYSTEM</Text>\r\n              <Text style={{ fontSize: 18 }}>VERSION {Constants.manifest.version?.split('.')[0]}</Text>\r\n            </View>\r\n          </View>\r\n          <Image\r\n            style={{ flex: 1, width: '100%', }}\r\n            source={Logo}\r\n            resizeMode='contain'\r\n          />\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: theme.grey1, justifyContent: 'center', alignItems: 'center' }}>\r\n          <TouchableOpacity style={{ position: 'absolute', right: 20, top: 20, minHeight: 40, alignItems: 'flex-end' }}\r\n            onPress={() => this.setState({ overlayLanguageVisible: true })}>\r\n            <Text style={{ color: 'white', textTransform: 'uppercase' }}>{language === 'ja' ? '日本語' : language === 'zhs' ? '简体中文' : language === 'zht' ? '繁體中文' : 'EN'}</Text>\r\n            <Text style={{ color: 'white', fontSize: 10 }}>LANGUAGE 语言 ランゲージ</Text>\r\n          </TouchableOpacity>\r\n          <View style={styles.textInputContainer}>\r\n            <TextInput style={styles.textInput}\r\n              placeholder={intl.get('accesscode')}\r\n              placeholderTextColor='white'\r\n              placeholderStyle={{ textTransform: 'uppercase' }}\r\n              onChangeText={text => this.setState({ accessCode: text })}\r\n              value={accessCode}\r\n              secureTextEntry\r\n              autoComplete='off'\r\n              autoCorrect={false}\r\n              onSubmitEditing={() => this.doSubmitAccessCode()}\r\n            />\r\n          </View>\r\n\r\n          <View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('1')}>\r\n                <Text style={styles.buttonText}>1</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('2')}>\r\n                <Text style={styles.buttonText}>2</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('3')}>\r\n                <Text style={styles.buttonText}>3</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('4')}>\r\n                <Text style={styles.buttonText}>4</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('5')}>\r\n                <Text style={styles.buttonText}>5</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('6')}>\r\n                <Text style={styles.buttonText}>6</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('7')}>\r\n                <Text style={styles.buttonText}>7</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('8')}>\r\n                <Text style={styles.buttonText}>8</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('9')}>\r\n                <Text style={styles.buttonText}>9</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.setState({ accessCode: '' })}>\r\n                <AntDesign name='close' color='white' size={24} />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('0')}>\r\n                <Text style={styles.buttonText}>0</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.doSubmitAccessCode()}>\r\n                <AntDesign name='enter' color='white' size={24} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').width / 16;\r\n\r\nconst styles = StyleSheet.create({\r\n  textInputContainer: {\r\n    width: '80%',\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n    height: 60,\r\n    borderRadius: 100,\r\n    // backgroundColor: 'black',\r\n  },\r\n  textInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 20,\r\n    borderRadius: 100,\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    // height: keyHeight - 10,\r\n    // width: keyHeight - 10,\r\n    height: 48,\r\n    width: 48,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'black',\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","\r\nimport React, { useRef, useMemo, useEffect, useState, useCallback } from 'react';\r\nimport { AntDesign, MaterialCommunityIcons, Feather, Ionicons } from '@expo/vector-icons';\r\nimport { Dimensions, StyleSheet, View, TouchableOpacity, Platform, Text, FlatList } from 'react-native';\r\nimport { Gesture, GestureDetector, GestureHandlerRootView } from 'react-native-gesture-handler';\r\nimport Animated, { useAnimatedStyle, useSharedValue, withSpring, } from 'react-native-reanimated';\r\nimport theme from '../assets/theme';\r\nimport moment from 'moment';\r\n\r\nconst platformTiles = Platform.OS === 'web' ? 8 : 6;\r\n\r\nconst doTranslateTableColor = (item) => {\r\n  if (!item) return theme.grey9;\r\n  if (item.adhocItem) return theme.adhoc;\r\n  if (item.transType !== 'A') return theme.deposit;\r\n  if (item.statusFlg === 'A') {\r\n    return theme.vacant;\r\n  } else if (item.statusFlg === 'B') {\r\n    return theme.reserved;\r\n  } else if (item.statusFlg === 'C') {\r\n    return theme.occupied;\r\n  } else if (item.statusFlg === 'D') {\r\n    return theme.paid;\r\n  } else if (item.statusFlg === 'E') {\r\n    return theme.unavailable;\r\n  }\r\n}\r\n\r\nexport default function MainTableFloor({ refresh, tables, handleUpdateFromMainTableFloor }) {\r\n  const translateX = useSharedValue(0);\r\n  const translateY = useSharedValue(0);\r\n  const scale = useSharedValue(1);\r\n  const context = useSharedValue({ x: 0, y: 0, scale: 1 });\r\n\r\n  const tileSize = 40;\r\n  const floorTables = tables.filter(el => !(el.xaxis === 0 && el.yaxis === 0));\r\n  const infoTables = floorTables.filter(el => el.statusFlg === 'C' || el.statusFlg === 'D');\r\n  const tempTables = tables.filter(el => el.xaxis === 0 && el.yaxis === 0);\r\n\r\n  const minX = floorTables.reduce((min, el) => Math.min(el.xaxis, min), floorTables[0]?.xaxis || 0);\r\n  const maxX = floorTables.reduce((max, el) => Math.max(el.xaxis + el.width, max), (floorTables[0]?.xaxis + floorTables[0]?.width) || 0);\r\n\r\n  const minY = floorTables.reduce((min, el) => Math.min(el.yaxis, min), floorTables[0]?.yaxis || 0);\r\n  const maxY = floorTables.reduce((max, el) => Math.max(el.yaxis + el.height, max), (floorTables[0]?.yaxis + floorTables[0]?.width) || 0);\r\n\r\n  // const floorWidth = Math.max((maxX - minX) * tileSize, 16 * tileSize);\r\n  const floorWidth = (maxX - minX) * tileSize;\r\n  const floorHeight = (maxY - minY) * tileSize;\r\n\r\n  const [focused, setFocused] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setFocused(null);\r\n  }, [refresh]);\r\n\r\n  const doPressTable = (item, focused) => {\r\n    if (item.recKey === focused?.recKey) {\r\n      handleUpdateFromMainTableFloor(item, true);\r\n      setFocused(null);\r\n    } else {\r\n      handleUpdateFromMainTableFloor(item, false);\r\n      setFocused(item);\r\n    }\r\n  }\r\n\r\n  // console.log(minX, maxX, minY, maxY, floorTables, tables, floorWidth);\r\n\r\n  const gesturePinch = Gesture.Pinch()\r\n    .onStart(() => {\r\n      context.value = { ...context.value, scale: scale.value };\r\n    })\r\n    .onUpdate((event) => {\r\n      scale.value = context.value.scale * event.scale;\r\n    })\r\n\r\n  const gesturePan = Gesture.Pan()\r\n    .onStart(() => {\r\n      context.value = { ...context.value, x: translateX.value, y: translateY.value };\r\n    })\r\n    .onUpdate((event) => {\r\n      translateX.value = event.translationX + context.value.x;\r\n      translateY.value = event.translationY + context.value.y;\r\n    })\r\n\r\n  const gesture = Gesture.Simultaneous(gesturePinch, gesturePan);\r\n\r\n  const rStyle = useAnimatedStyle(() => {\r\n    return {\r\n      transform: [{ translateX: translateX.value }, { translateY: translateY.value }, { scale: scale.value }]\r\n    }\r\n  })\r\n\r\n  // return;\r\n  return (\r\n    <GestureHandlerRootView style={{ flex: 1 }}>\r\n      <GestureDetector gesture={gesture}>\r\n        <View style={{ flex: 1, backgroundColor: 'rgba(0,0,0,0.9)', justifyContent: 'center', alignItems: 'center' }}>\r\n          <Animated.View style={[rStyle, { height: floorHeight + Math.ceil(tempTables.length / platformTiles) * 2 * tileSize, alignItems: 'center', }]}>\r\n            <View style={{ height: floorHeight, width: floorWidth, }}>\r\n              {\r\n                floorTables.map(item =>\r\n                  <View key={item.recKey}\r\n                    style={{ position: 'absolute', left: (item.xaxis - minX) * tileSize, top: Number((item.yaxis - minY) * tileSize), width: item.width * tileSize, height: Number(item.height * tileSize) }}>\r\n                    {\r\n                      // top and bottom chairs\r\n                      (item.width > item.height && item.shape === 'A') &&\r\n                      <>\r\n                        <View style={{ position: 'absolute', top: -1, left: 0, right: 0, height: 2, flexDirection: 'row', }}>\r\n                          {\r\n                            [...Array(item.width)].map((el, index) =>\r\n                              <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: 'white', borderRadius: 2, }}>\r\n\r\n                              </View>)\r\n                          }\r\n                        </View>\r\n                        <View style={{ position: 'absolute', bottom: -1, left: 0, right: 0, height: 2, flexDirection: 'row', }}>\r\n                          {\r\n                            [...Array(item.width)].map((el, index) =>\r\n                              <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: 'white', borderRadius: 2, }}>\r\n\r\n                              </View>)\r\n                          }\r\n                        </View>\r\n                      </>\r\n                    }\r\n                    {\r\n                      // left and right chairs\r\n                      (item.width < item.height && item.shape === 'A') &&\r\n                      <>\r\n                        <View style={{ position: 'absolute', left: -1, top: 0, bottom: 0, width: 2, }}>\r\n                          {\r\n                            [...Array(item.height)].map((el, index) =>\r\n                              <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: 'white', borderRadius: 2, }}>\r\n\r\n                              </View>)\r\n                          }\r\n                        </View>\r\n                        <View style={{ position: 'absolute', right: -1, top: 0, bottom: 0, width: 2, }}>\r\n                          {\r\n                            [...Array(item.height)].map((el, index) =>\r\n                              <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: 'white', borderRadius: 2, }}>\r\n\r\n                              </View>)\r\n                          }\r\n                        </View>\r\n                      </>\r\n                    }\r\n                    {\r\n                      item.shape === 'B' ?\r\n                        <TouchableOpacity style={{ flex: 1, alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? tileSize * item.height : 0 }}\r\n                          onPress={() => doPressTable(item, focused)}>\r\n                          <View style={{ height: Math.sqrt(0.5) * (item.width * tileSize - 6), width: Math.sqrt(0.5) * (item.width * tileSize - 6), backgroundColor: focused?.recKey === item.recKey ? 'white' : doTranslateTableColor(item), transform: [{ rotateZ: '45deg' }], justifyContent: 'center', alignItems: 'center', borderRadius: 3 }}>\r\n                          </View>\r\n                          <View style={{ position: 'absolute', top: 3, bottom: 3, left: 3, right: 3, justifyContent: 'center', alignItems: 'center' }}>\r\n                            <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 14 }}>{item.tableId}</Text>\r\n                            {\r\n                              item.vipName?.length > 0 &&\r\n                              <Text style={{ paddingHorizontal: 3, textAlign: 'center', fontFamily: 'varela-round', color: focused?.recKey === item.recKey ? theme.black8 : 'white', fontSize: 10, textTransform: 'uppercase' }} numberOfLines={1}>{item.vipName.split(' ')[0]}</Text>\r\n                            }\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                        :\r\n                        <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.recKey === item.recKey ? 'white' : doTranslateTableColor(item), alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? tileSize * item.height : 3, }}\r\n                          onPress={() => doPressTable(item, focused)}>\r\n                          <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 14 }}>{item.tableId}</Text>\r\n                          {\r\n                            item.vipName?.length > 0 &&\r\n                            <Text style={{ paddingHorizontal: 3, textAlign: 'center', fontFamily: 'varela-round', color: focused?.recKey === item.recKey ? theme.black8 : 'white', fontSize: 10, textTransform: 'uppercase' }} numberOfLines={1}>{item.vipName.split(' ')[0]}</Text>\r\n                          }\r\n                        </TouchableOpacity>\r\n                    }\r\n                  </View>\r\n                )\r\n              }\r\n              {\r\n                infoTables.map(item =>\r\n                  <View key={item.recKey}\r\n                    pointerEvents='none'\r\n                    style={{ position: 'absolute', left: (item.xaxis - minX) * tileSize, top: Number((item.yaxis - minY) * tileSize) }}>\r\n                    <View style={{ borderLeftWidth: 3, borderLeftColor: focused?.recKey === item.recKey ? 'white' : doTranslateTableColor(item), position: 'absolute', top: item.shape === 'B' ? 0 : item.shape === 'C' ? -7 : -12, left: item.shape === 'B' ? 0 : item.shape === 'C' ? -7 : -12, backgroundColor: 'rgba(0,0,0,0.4)', padding: 3, borderRadius: 3, minWidth: 38 }}>\r\n                      <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 10, }}>{item.seatTime && moment(item.seatTime).format('HH:mm')}</Text>\r\n                      <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 10, }}><Feather color='white' name='users' size={10} /> {item.pax}</Text>\r\n                    </View>\r\n                  </View>\r\n                )\r\n              }\r\n            </View>\r\n            <FlatList\r\n              style={{ flexGrow: 0, overflow: 'visible', width: tempTables.length > (platformTiles - 1) ? 2 * platformTiles * tileSize : 2 * tempTables.length * tileSize, }}\r\n              numColumns={platformTiles}\r\n              data={tempTables}\r\n              showsVerticalScrollIndicator={false}\r\n              scrollEnabled={false}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) =>\r\n                <View style={{ width: 2 * tileSize, height: 2 * tileSize }}>\r\n                  <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.recKey === item.recKey ? 'white' : doTranslateTableColor(item), alignItems: 'center', justifyContent: 'center', borderRadius: 3, }}\r\n                    onPress={() => doPressTable(item, focused)}>\r\n                    {\r\n                      item.openorderRecKey &&\r\n                      <Text style={{ paddingHorizontal: 3, textAlign: 'center', fontFamily: 'varela-round', color: focused?.recKey === item.recKey ? theme.black8 : 'white', fontSize: 10, textTransform: 'uppercase' }} numberOfLines={1}>{item.openorderRecKey}</Text>\r\n                    }\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 14, }}>{item.tableId}</Text>\r\n                    {\r\n                      item.vipName?.length > 0 &&\r\n                      <Text style={{ paddingHorizontal: 3, textAlign: 'center', fontFamily: 'varela-round', color: focused?.recKey === item.recKey ? theme.black8 : 'white', fontSize: 10, textTransform: 'uppercase' }} numberOfLines={1}>{item.vipName.split(' ')[0]}</Text>\r\n                    }\r\n                  </TouchableOpacity>\r\n                  {\r\n                    (item.statusFlg === 'C' || item.statusFlg === 'D') &&\r\n                    <View pointerEvents='none'\r\n                      style={{ borderLeftWidth: 3, borderLeftColor: focused?.recKey === item.recKey ? 'white' : doTranslateTableColor(item), position: 'absolute', top: item.shape === 'B' ? 0 : item.shape === 'C' ? -7 : -12, left: item.shape === 'B' ? 0 : item.shape === 'C' ? -7 : -12, backgroundColor: 'rgba(0,0,0,0.4)', padding: 3, borderRadius: 3, minWidth: 38 }}>\r\n                      <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 10, }}>{item.seatTime && moment(item.seatTime).format('HH:mm')}</Text>\r\n                      <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 10, }}><Feather color='white' name='users' size={10} /> {item.pax}</Text>\r\n                    </View>\r\n                  }\r\n                </View>\r\n              }\r\n            />\r\n          </Animated.View>\r\n        </View>\r\n      </GestureDetector>\r\n    </GestureHandlerRootView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: 400, height: 400,\r\n    backgroundColor: '#fff',\r\n    overflow: 'hidden',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, MaterialCommunityIcons, Feather, Ionicons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, Text, TextInput, Alert, FlatList, ScrollView, Platform } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport moment from 'moment';\r\nimport MainTableFloor from './MainTableFloor';\r\n\r\nexport default class MainTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      preference: props.preference,\r\n      settings: props.masters.settings,\r\n      sections: props.masters.sections || [],\r\n      tablemas: props.masters.tablemas,\r\n      tables: [],\r\n\r\n      selectedSection: null,\r\n\r\n      floor: true,\r\n    };\r\n\r\n    this.handleUpdateFromMainTableFloor = this.handleUpdateFromMainTableFloor.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.doRefresh(true);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.refresh && prevProps.refresh !== this.props.refresh) {\r\n      console.log('componentDidUpdate', prevProps.refresh, this.props.refresh)\r\n      this.doRefresh();\r\n    }\r\n  }\r\n\r\n  async doRefresh(initial) {\r\n    const { sections, selectedSection } = this.state;\r\n    if (initial) {\r\n      await this.doPressFloor();\r\n    } else {\r\n      await this.doPressSection(selectedSection);\r\n    }\r\n  }\r\n\r\n  async doPressFloor() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: null,\r\n        });\r\n      })\r\n  }\r\n\r\n  async doPressSection(item) {\r\n    const { serviceEntry, home } = this.state;\r\n\r\n    if (!item) {\r\n      this.doPressFloor();\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n\r\n    if (item?.sectionId === 'OCCUPIED') {\r\n      params.append('statusFlg', 'C');\r\n    } else if (item?.sectionId === 'VACANT') {\r\n      params.append('statusFlg', 'A');\r\n    } else if (item?.sectionId === 'RESERVED') {\r\n      params.append('statusFlg', 'B');\r\n    } else if (item?.sectionId === 'PAID') {\r\n      params.append('statusFlg', 'D');\r\n    } else {\r\n      params.append('sectionId', item.sectionId)\r\n    }\r\n\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: item.sectionId },\r\n        });\r\n      })\r\n  }\r\n\r\n  handleUpdateFromMainTableFloor(item, focused) {\r\n    const { tables, selectedSection } = this.state;\r\n    if (focused) {\r\n      this.doPressFocusedTable(item);\r\n      return;\r\n    }\r\n    this.doPressSection(selectedSection)\r\n    this.props.handlePressTable(item);\r\n  }\r\n\r\n  doPressFocusedTable(item) {\r\n    if (item.statusFlg === 'A') {\r\n      this.props.handleActionTable(item, 'OPEN')\r\n    } else if (item.statusFlg === 'C') {\r\n      this.props.handleActionTable(item, 'EDIT')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { preference, sections, settings, tables, selectedSection, floor } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, overflow: 'hidden' }}>\r\n          <MainTableFloor\r\n            key={selectedSection?.sectionId || 'FLOOR'}\r\n            refresh={this.props.refresh}\r\n            tables={tables}\r\n            handleUpdateFromMainTableFloor={this.handleUpdateFromMainTableFloor}\r\n          />\r\n          {\r\n            (selectedSection && (selectedSection?.sectionId !== 'PAID' && selectedSection?.sectionId !== 'RESERVED' && selectedSection?.sectionId !== 'OCCUPIED')) &&\r\n            <TouchableOpacity style={{ position: 'absolute', right: 0, top: 0, margin: 10, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey1, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.props.handleActionTable(selectedSection, 'CREATE')}>\r\n              <MaterialCommunityIcons name=\"apps-box\" size={28} color='white' style={{ height: 28, width: 28 }} />\r\n              <Text style={{ marginTop: 10, fontFamily: 'varela-round', fontSize: 10, color: 'white', textTransform: 'uppercase' }}>{intl.get('new')}</Text>\r\n            </TouchableOpacity>\r\n          }\r\n        </View>\r\n        <View style={{ marginVertical: 5, width: 130, }}>\r\n          <TouchableOpacity\r\n            style={{ width: 120, alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 80, borderRadius: 5, margin: 5 }}\r\n            onPress={() => this.doPressFloor()}>\r\n            <MaterialCommunityIcons name=\"mapbox\" size={30} color=\"white\" style={{ height: 28 }} />\r\n            <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('all')}</Text>\r\n          </TouchableOpacity>\r\n          <View style={{ flexDirection: 'row', justifyContent: 'space-between', paddingHorizontal: 0, height: 50, width: 120, backgroundColor: 'none', margin: 5 }}>\r\n            <TouchableOpacity style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n              onPress={() => this.doPressSection({ sectionId: 'PAID' })}>\r\n              <View style={{ height: 27, width: 27, borderRadius: 14, backgroundColor: selectedSection?.sectionId === 'PAID' ? 'white' : theme.paid, }}>\r\n\r\n              </View>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n              onPress={() => this.doPressSection({ sectionId: 'RESERVED' })}>\r\n              <View style={{ height: 27, width: 27, borderRadius: 14, backgroundColor: selectedSection?.sectionId === 'RESERVED' ? 'white' : theme.reserved, }}>\r\n\r\n              </View>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n              onPress={() => this.doPressSection({ sectionId: 'OCCUPIED' })}>\r\n              <View style={{ height: 27, width: 27, borderRadius: 14, backgroundColor: selectedSection?.sectionId === 'OCCUPIED' ? 'white' : theme.occupied, }}>\r\n\r\n              </View>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <ScrollView\r\n            style={{ flex: 1, }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              sections.map((item, index) => (\r\n                <TouchableOpacity key={index}\r\n                  activeOpacity={1}\r\n                  style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, width: 120, backgroundColor: selectedSection?.sectionId === item.sectionId ? 'white' : theme.grey1, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doPressSection(item)}>\r\n                  {\r\n                    item.orderType === 'B' &&\r\n                    <Text style={{ fontFamily: 'varela-round', fontSize: 12, textAlign: 'center', color: theme.paid, textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text>\r\n                  }\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: selectedSection?.sectionId === item.sectionId ? 'black' : theme.grey9 }}>{item.name}</Text>\r\n                </TouchableOpacity>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n\r\n      </View >\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  textInput: {\r\n    color: 'white',\r\n    height: 60,\r\n    borderRadius: 30,\r\n    width: '90%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 120,\r\n    textAlign: 'center',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n  },\r\n  onetwo: {\r\n    position: 'absolute', top: '0', left: '0', height: '12.5%', width: '12.5%',\r\n  },\r\n  tableLowerBand: {\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, ScrollView, FlatList, Platform, Keyboard } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text } from '../assets/utility';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class MainMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      serviceEntryObj: props.serviceEntryObj,\r\n      preference: props.preference,\r\n\r\n      settings: props.settings,\r\n      foldergrps: props.foldergrps,\r\n      folders: props.folders,\r\n      uniqueFolders: [...new Map(props.folders.map(v => [v.folderId, v])).values()],\r\n      menus: props.menus,\r\n      uniqueMenus: [...new Map(props.menus.map(v => [v.menuId, v])).values()],\r\n      modBundles: props.modBundles,\r\n\r\n      displayMode: '',\r\n      displays: [],\r\n      limiteds: [],\r\n\r\n      searchText: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount mainmenu')\r\n    const { foldergrps, folders, menus } = this.state;\r\n\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    if (folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: foldergrps[0],\r\n      displays,\r\n      displayMode,\r\n    }, () => this.doGet());\r\n  }\r\n\r\n  doGet() {\r\n    // real time fast changing data\r\n    const { serviceEntry, home, selectedFoldergrp } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    selectedFoldergrp && params.append('foldergrpId', selectedFoldergrp.foldergrpId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doPressFoldergrp(item) {\r\n    const { folders, menus, } = this.state;\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    if (folders.filter(el => el.foldergrpId === item.foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === item.foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === item.foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: item,\r\n      displays,\r\n      displayMode,\r\n      searchText: '',\r\n    }, () => this.doGet());\r\n  }\r\n\r\n  doPressFolder(item) {\r\n    const { menus } = this.state;\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId),\r\n    })\r\n  }\r\n\r\n  doPressMenu(item, quick) {\r\n    this.props.handlePressMenu(item, quick);\r\n  }\r\n\r\n  doSearchText(text) {\r\n    const { menus, foldergrps } = this.state;\r\n    this.setState({ searchText: text });\r\n    if (!text) {\r\n      this.setState({\r\n        displayMode: 'MENU',\r\n        displays: '',\r\n      })\r\n      return;\r\n    }\r\n\r\n    let caseText = text.toUpperCase();\r\n    let displaysUpdate = menus.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: displaysUpdate,\r\n      selectedFoldergrp: null,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { preference, settings, displayMode, displays, foldergrps, folders, uniqueFolders, uniqueMenus, menus, modBundles,\r\n      searchText,\r\n      selectedFoldergrp } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1 }}>\r\n          <View style={{ marginHorizontal: 10, marginTop: -5, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontSize: 10, color: theme.white8 }}><Text style={{ fontSize: 10, color: theme.paid }}>{uniqueMenus.length}</Text> MENU <Text style={{ fontSize: 10, color: theme.reserved }}>{uniqueFolders.length}</Text> FOLDER <Text style={{ fontSize: 10, color: theme.reserved }}>{foldergrps.length}</Text> FOLDERGRP <Text style={{ fontSize: 10, color: theme.vacant }}>{modBundles.length}</Text> MODIFIER</Text>\r\n          </View>\r\n          <View style={styles.searchBox}>\r\n            <TextInput style={styles.searchBoxInputValue}\r\n              placeholder={`${intl.get('enter')?.toUpperCase()} ${intl.get('search')?.toUpperCase()} ${intl.get('text')?.toUpperCase()}`}\r\n              placeholderTextColor='rgba(255,255,255,0.2)'\r\n              value={searchText}\r\n              onFocus={() => this.setState({ selectedFoldergrp: null }, () => this.doGet())}\r\n              onChangeText={(text) => this.doSearchText(text)} />\r\n            <TouchableOpacity style={styles.searchBoxButton}\r\n              onPress={() => {\r\n                this.doPressFoldergrp(foldergrps[0]);\r\n                Keyboard.dismiss();\r\n              }}>\r\n              <AntDesign name='close' size={24} color={theme.grey4} />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n            {\r\n              displayMode === 'MENU' ?\r\n                (\r\n                  settings.find(el => el.setId === 'POSMODE')?.setString === 'A' ?\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.mcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenu(item)}\r\n                    />\r\n                    :\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.pcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenuB(item)}\r\n                    />\r\n                )\r\n                :\r\n                <FlatList\r\n                  key={'FOLDER' + selectedFoldergrp?.foldergrpId}\r\n                  style={{ flex: 1, padding: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  numColumns={preference.mcolsize}\r\n                  horizontal={false}\r\n                  data={displays}\r\n                  keyExtractor={(item, index) => item.recKey.toString()}\r\n                  renderItem={({ item }) => this.renderFolder(item)}\r\n                />\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={{ marginVertical: 5, width: 130, }}>\r\n          <TouchableOpacity\r\n            style={{ width: 120, alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 80, borderRadius: 5, margin: 5 }}\r\n            onPress={() => this.props.handlePressAdhoc()}>\r\n            <MaterialIcons name=\"extension\" size={28} color={'white'} style={{ height: 28, width: 28 }} />\r\n            <Text style={{ marginTop: 10, fontFamily: 'varela-round', fontSize: 10, color: 'white', textTransform: 'uppercase' }}>{intl.get('adhoc')}</Text>\r\n          </TouchableOpacity>\r\n          <ScrollView style={{ flex: 1, }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              foldergrps.map((item, index) => (\r\n                <TouchableOpacity key={index}\r\n                  activeOpacity={1}\r\n                  style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'white' : theme.grey1, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doPressFoldergrp(item)}>\r\n                  {\r\n                    (moment(item.startTime, 'HH:mm:ss').format('HH:mm') !== '00:00' || moment(item.endTime, 'HH:mm:ss').format('HH:mm') !== '23:59') &&\r\n                    <Text style={{ fontSize: 12, textAlign: 'center', color: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'black' : theme.reserved }}>{moment(item.startTime, 'HH:mm:ss').format('HH:mm')}~{moment(item.endTime, 'HH:mm:ss').format('HH:mm')}</Text>\r\n                  }\r\n                  <Text style={{ textAlign: 'center', color: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'black' : 'white' }}>{item.name}</Text>\r\n                </TouchableOpacity>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderFolder(item) {\r\n    const { preference, menus } = this.state;\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <TouchableOpacity\r\n          style={{ margin: 2.5, height: 90, backgroundColor: 'black', alignItems: 'center', justifyContent: 'center' }}\r\n          onPress={() => this.doPressFolder(item)}>\r\n          <Text style={{ color: theme.paid, fontSize: 12 }}>{item.folderId}</Text>\r\n          <Text style={{ color: 'white', paddingHorizontal: 10, textAlign: 'center', fontSize: 16 }}>{item.name}</Text>\r\n          <Text style={{ color: theme.vacant }}>{menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId).length}</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenu(item) {\r\n    const { preference, limiteds, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <View style={[{ margin: 2.5, flexDirection: 'row', height: 90, backgroundColor: theme.grey4, }, found?.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n          {\r\n            preference.mquick === 'Y' &&\r\n            <TouchableOpacity\r\n              style={{ width: 50, backgroundColor: theme.grey3, justifyContent: 'center', alignItems: 'center' }}\r\n              disabled={found?.statusFlg === 'B'}\r\n              onPress={() => this.doPressMenu(item, true)}>\r\n              <AntDesign name=\"check\" size={18} color={theme.grey1} />\r\n              {/* {\r\n                serviceEntry === 'https://www.epbrowser.com:8090/fnb-ws/' &&\r\n                <Image\r\n                  style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0 }}\r\n                  source={{\r\n                    uri: 'http://203.208.248.200:9090/image-proxy-epbsg/ASP/EPBSG/NORMAL/Shell/picture/' + item.stkId + '.jpg'\r\n                    // uri: imageEntry + item.menuId + '.jpg'\r\n                  }}\r\n                />\r\n              } */}\r\n            </TouchableOpacity>\r\n          }\r\n          <TouchableOpacity\r\n            style={{ flex: 1 }}\r\n            disabled={found?.statusFlg === 'B'}\r\n            onPress={() => this.doPressMenu(item)}>\r\n            <View style={{ flex: 1, padding: 10 }}>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: 'white', fontSize: 12, }}></Text>\r\n                <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n              </View>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{(found && found?.serveLimit !== 0) ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                <Text style={{ color: theme.paid, fontSize: 12, }}>{item.menuId}</Text>\r\n              </View>\r\n            </View>\r\n          </TouchableOpacity>\r\n          {\r\n            searchText.length > 0 &&\r\n            <Text style={{ position: 'absolute', top: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n          }\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenuB(item) {\r\n    const { preference, limiteds, serviceEntryObj, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / (preference.pcolsize) }}>\r\n        <TouchableOpacity style={{ margin: 2.5, }}\r\n          disabled={found?.statusFlg === 'B'}\r\n          onPress={() => this.doPressMenu(item)}>\r\n          <View style={{ backgroundColor: theme.grey3 }}>\r\n            <Image\r\n              style={{ aspectRatio: 1 }}\r\n              source={{\r\n                uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.urlAddr + '&t=' + item.lastupdate\r\n              }}\r\n            />\r\n            {\r\n              searchText.length > 0 &&\r\n              <Text style={{ position: 'absolute', bottom: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n            }\r\n          </View>\r\n          <View style={[{ flexDirection: 'row', height: 70, backgroundColor: theme.grey4, }, found?.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n            <View\r\n              style={{ flex: 1 }}>\r\n              <View style={{ flex: 1, padding: 10 }}>\r\n                <View style={{ flex: 1 }}>\r\n                  <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n                </View>\r\n                <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                  <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{(found && found?.serveLimit !== 0) ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                  <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  searchBox: {\r\n    margin: 10,\r\n    // marginTop: 25,\r\n    marginBottom: 5,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n    borderRadius: 100,\r\n  },\r\n  searchBoxButton: {\r\n    position: 'absolute',\r\n    right: 0,\r\n    top: 0,\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAutoLogout extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      timer: 5,\r\n    };\r\n    this.countdown = () => { };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let initialTimer = 5;\r\n    this.countdown = setInterval(() => {\r\n      initialTimer -= 1;\r\n      this.setState({\r\n        timer: initialTimer,\r\n      });\r\n      if (initialTimer === 0) {\r\n        clearInterval(this.countdown);\r\n        this.props.handleUpdateFromAutoLogout(initialTimer);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.countdown);\r\n  }\r\n\r\n  render() {\r\n    const { timer } = this.state;\r\n    console.log('in overlayautologout', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Auto Logout</Text>\r\n            <Text style={styles.overlayText}>{timer}</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromAutoLogout('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, TextInput,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayDeposit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      homeDelivery: props.selectedTable.homeDelivery === 'Y' ? 'Y' : 'N',\r\n      vipName: props.selectedTable.vipName || '',\r\n      vipPhone: props.selectedTable.vipPhone || '',\r\n      dlyDate: props.selectedTable.dlyDate ? moment(props.selectedTable.dlyDate).format('YYYY-MM-DD') : '',\r\n      dpostalcode: props.selectedTable.dpostalcode || '',\r\n      daddress1: props.selectedTable.daddress1 || '',\r\n      daddress2: props.selectedTable.daddress2 || '',\r\n    }\r\n  }\r\n\r\n  doPressDelivery(type) {\r\n    this.setState({ homeDelivery: type })\r\n  }\r\n\r\n  doChangePostal(text) {\r\n    this.setState({ dpostalcode: text })\r\n    if (text.length === 6) {\r\n      const { serviceEntry } = this.state;\r\n      let url = serviceEntry + 'api/epbsggeo';\r\n      const params = new URLSearchParams();\r\n      params.append('postal', text);\r\n      url += ('?' + params);\r\n      fetch(url, {\r\n        method: 'GET'\r\n      })\r\n        .then(response => {\r\n          if (response.ok) return response.json();\r\n        })\r\n        .then(response => {\r\n          if (response?.address) {\r\n            this.setState({\r\n              daddress1: response.address || '',\r\n            });\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    this.props.handleUpdateFromDeposit('G', vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2)\r\n  }\r\n\r\n  render() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    console.log('in overlayDeposit', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Deposit Info</Text>\r\n            <View style={{ flexDirection: 'row', marginTop: 20 }}>\r\n              <View style={{ flex: 1, alignItems: 'flex-end', }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'Y' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('N')}>\r\n                  <Text style={{ color: homeDelivery === 'Y' ? 'white' : 'black', fontFamily: 'varela-round' }}>Self Collect</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1, }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'N' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('Y')}>\r\n                  <Text style={{ color: homeDelivery === 'N' ? 'white' : 'black', fontFamily: 'varela-round' }}>Delivery</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n            <View style={styles.vipInputsContainer}>\r\n              <View style={styles.vipInputsRow}>\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='NAME'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipName: text })}\r\n                  value={vipName}\r\n                />\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='PHONE'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  keyboardType='numeric'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipPhone: text })}\r\n                  value={vipPhone}\r\n                />\r\n              </View>\r\n              {\r\n                homeDelivery === 'Y' ?\r\n                  <>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='POSTAL'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.doChangePostal(text)}\r\n                        value={dpostalcode}\r\n                      />\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='DLY DATE'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                        onChangeText={text => this.setState({ dlyDate: text })}\r\n                        value={dlyDate}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 1'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress1: text })}\r\n                        value={daddress1}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 2'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress2: text })}\r\n                        value={daddress2}\r\n                      />\r\n                    </View>\r\n                  </>\r\n                  :\r\n                  <View style={[styles.vipInputsRow, { justifyContent: 'flex-end' }]}>\r\n                    <TextInput style={styles.vipInput}\r\n                      placeholder='DLY DATE'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      textContentType='none'\r\n                      autoComplete='off'\r\n                      autoCorrect={false}\r\n                      onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                      onChangeText={text => this.setState({ dlyDate: text })}\r\n                      value={dlyDate}\r\n                    />\r\n                  </View>\r\n              }\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.grey4 }]}\r\n            onPress={() => this.doSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromDeposit('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    height: '90%',\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginBottom: 20,\r\n    marginHorizontal: 5,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayScanBarcode extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.scanTextInput.focus();\r\n    this.setState({\r\n      overlayText: ''\r\n    });\r\n    this.props.handleUpdateFromScanBarcode(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayscanbarcode');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Scan Barcode</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='ENTER BARCODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                blurOnSubmit={false}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromScanBarcode('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayRequestAccess extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromRequestAccess(overlayText);\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { overlayText } = this.state;\r\n    let overlayTextUpdate = overlayText;\r\n    if (item === 'CLEAR') {\r\n      this.setState({ overlayText: '' });\r\n    } else if (item === 'ENTER') {\r\n      this.handleSubmit(overlayText);\r\n    } else {\r\n      this.setState({ overlayText: overlayTextUpdate + item })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { home, requestedPrivilege } = this.props;\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayrequestaccess');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Request Access</Text>\r\n            <Text style={styles.overlayText}>Grant temporary {requestedPrivilege} privilege to {home.userId}?</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                secureTextEntry={true}\r\n                autoFocus={true}\r\n                placeholder='ENTER ACCESS CODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ width: 135, marginBottom: 20, alignSelf: 'center' }}\r\n            data={['1', '2', '3', '4', '5', '6', '7', '8', '9', 'CLEAR', '0', 'ENTER']}\r\n            scrollEnabled={false}\r\n            showsVerticalScrollIndicator={false}\r\n            numColumns={3}\r\n            keyExtractor={(item, index) => index.toString()}\r\n            renderItem={({ item }) => (\r\n              <View style={{ flex: 1 / 3, aspectRatio: 1 }}>\r\n                <TouchableOpacity style={{ margin: 2.5, flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: 'black', borderRadius: 5, }}\r\n                  onPress={() => this.doPressKey(item)}>\r\n                  {\r\n                    item === 'CLEAR' ?\r\n                      <AntDesign name='close' color='white' size={18} />\r\n                      : item === 'ENTER' ?\r\n                        <AntDesign name='enter' color='white' size={18} />\r\n                        :\r\n                        <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 18, }}>{item}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n          {/* <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity> */}\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromRequestAccess('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 2,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChangePrice extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n      selectedTableItem: props.selectedTableItem,\r\n\r\n      availableDiscounts: props.discounts,\r\n      overlaySearchText: '',\r\n      overlayText: '',\r\n      discountSelected: false,\r\n      selectedDiscount: '',\r\n      validatePass: true,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleValidate(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleValidate(superUserId) {\r\n    const { home, privileges, overlayText, selectedDiscount, selectedTableItem } = this.state;\r\n    if (!overlayText) {\r\n      this.setState({\r\n        validatePass: false,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'CHANGEPRICE') || selectedTableItem.listPrice === 0) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'CHANGEPRICE',\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromChangePrice(overlayText, selectedDiscount || '-', superUserId);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, overlayText, discountSelected, availableDiscounts, discounts,\r\n      selectedDiscount, validatePass, overlayProcedureMessageVisible,\r\n      overlayRequestAccessVisible, requestedPrivilege } = this.state;\r\n    console.log('in overlaychangeprice, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Price</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={[styles.overlaySearchBoxInput, validatePass ? null : { color: theme.paid }]}\r\n                placeholder='ENTER PRICE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text, validatePass: true })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          {\r\n            discountSelected ?\r\n              <View style={{ flex: 1 }}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <TouchableOpacity style={styles.overlaySearchBox}\r\n                    onPress={() => this.setState({\r\n                      overlaySearchText: '',\r\n                      selectedDiscount: '',\r\n                      discountSelected: false,\r\n                    })}>\r\n                    <Text style={styles.selectText}>{selectedDiscount.discId}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={{ paddingBottom: 5 }}></View>\r\n              </View>\r\n              :\r\n              <View style={styles.selectWrapper}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                    <TextInput style={styles.overlaySearchBoxInput}\r\n                      placeholder='ENTER SEARCH TEXT'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                      value={overlaySearchText}\r\n                    />\r\n                    <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                      onPress={() => {\r\n                        this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                        Keyboard.dismiss()\r\n                      }}>\r\n                      <AntDesign name='close' size={24} color={theme.grey4} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={[{ flex: 1 }]}\r\n                  data={availableDiscounts}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.overlayGrid]}\r\n                      onPress={() => this.setState({\r\n                        discountSelected: true,\r\n                        selectedDiscount: item,\r\n                        validatePass: true,\r\n                      })}>\r\n                      <View style={styles.overlayGridFirst}>\r\n                        <View style={styles.overlayGridFirstLeft}>\r\n                          <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                        </View>\r\n                        <View style={styles.overlayGridFirstRight}>\r\n                          <Text style={styles.overlayGridFirstRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.overlayGridSecond}>\r\n                        <Text style={styles.overlayGridSecondText}>\r\n                          {item.discName}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.overlayGridThird}>\r\n                        <View style={styles.overlayGridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.overlayGridThirdRight}>\r\n                          <Text style={styles.overlayGridThirdRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n          }\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleValidate()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromChangePrice('', '')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayLineDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      discounts: props.discounts,\r\n      privileges: props.privileges,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'LINEDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access LINEDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'LINEDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromLineDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlaylinediscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='LINEDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Line Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromLineDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayHeaderDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'HEADERDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access HEADERDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'HEADERDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromHeaderDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlayheaderdiscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='HEADERDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Header Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromHeaderDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayMergeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      mergeTables: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTable = this.handleSelectTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.tableFlg === 'Y'),\r\n          availableTables: response.filter(el => el.tableFlg === 'Y'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTable(item) {\r\n    const { mergeTables } = this.state;\r\n    let mergeTablesUpdate = mergeTables;\r\n    if (!mergeTables.some(el => el.tableId === item.tableId)) {\r\n      mergeTablesUpdate.push(item);\r\n    } else {\r\n      mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    }\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { mergeTables } = this.state;\r\n    const mergeTablesUpdate = mergeTables;\r\n    mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTables, tables, mergeTables } = this.state;\r\n    console.log('in overlaymergetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {mergeTables.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTable(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.tableId}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeTable([])}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.vacant }]}\r\n            onPress={() => this.props.handleUpdateFromMergeTable(mergeTables)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nexport default class OverlayChangeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.tableFlg === 'Y'),\r\n          availableTables: response.filter(el => el.tableFlg === 'Y'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableTables, tables, selectedTable } = this.state;\r\n    console.log('in overlaychangetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Table</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChangeTable('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.props.handleUpdateFromChangeTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayReviseItem extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, selectedTableItem, tableItems } = this.props;\r\n    console.log('in overlayreviseitem', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reviseitem')}</Text>\r\n            <Text style={styles.overlayText}>{selectedTableItem.menuName.toUpperCase()}</Text>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('voidItem')}>\r\n              <AntDesign\r\n                name='close'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('remove')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('duplicateItem')}>\r\n              <AntDesign\r\n                name='copy1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('duplicate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.confirmFlg === 'Y' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.confirmFlg === 'Y'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineBreak')}>\r\n              <AntDesign\r\n                name='minus'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linebreak')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('editItem')}>\r\n              <AntDesign\r\n                name='edit'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, !(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X') && { opacity: 0.2 }]}\r\n              disabled={!(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X')}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('revertItem')}>\r\n              <AntDesign\r\n                name='man'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('revert')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0) && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('changePrice')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('changeprice')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.discFlg === 'N' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineDiscount')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linedisc')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromReviseItem('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayTableActions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, tableItems } = this.props;\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('table')} {intl.get('action')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.orderType === 'B' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.orderType === 'B' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('openTable')}>\r\n              <AntDesign name='appstore-o' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('editTable')}>\r\n              <AntDesign name='edit' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.orderType === 'B' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.orderType === 'B' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('reserveTable')}>\r\n              <AntDesign name='calendar' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('reserve')}</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              (selectedTable?.orderType !== 'B' && selectedTable?.statusFlg === 'A') ?\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg !== 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('disableTable')}>\r\n                  <MaterialCommunityIcons name='cancel' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('disable')}</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg === 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg === 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('resetTable')}>\r\n                  <AntDesign name='reload1' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('mergeTable')}>\r\n              <AntDesign name='menufold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('mergetable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('splitTable')}>\r\n              <AntDesign name='menuunfold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('splittable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('changeTable')}>\r\n              <AntDesign name='swap' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('changetable')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewResequence')}>\r\n              <AntDesign name='bars' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('resequence')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewTransfer')}>\r\n              <AntDesign name='export' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('transferitems')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('headerDiscount')}>\r\n              <AntDesign name='exception1' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('headerdisc')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('printBill')}>\r\n              <AntDesign name='book' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('printbill')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromTableActions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAdditionalFunctions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('additionalfunctions')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReprint')}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewVoid')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('voidreceipts')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewCollect')}>\r\n              <AntDesign\r\n                name='gift'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('collection')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('openDrawer')}>\r\n              <AntDesign\r\n                name='laptop'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('opendrawer')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('logOut')}>\r\n              <AntDesign\r\n                name='doubleleft'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('logout')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewTrace')}>\r\n              <AntDesign\r\n                name='eyeo'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewPrinters')}>\r\n              <AntDesign\r\n                name='fork'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('testprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('syncMasters')}>\r\n              <AntDesign\r\n                name='retweet'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('syncmasters')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewActivate')}>\r\n              <AntDesign\r\n                name='bulb1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('activate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewLimit')}>\r\n              <AntDesign\r\n                name='staro'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('limited')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewDayclose')}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('dayend')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReports')}>\r\n              <AntDesign\r\n                name='solution1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reports')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromAdditionalFunctions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChoosePrinter extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      printers: props.cashierPrinters,\r\n      availablePrinters: props.cashierPrinters,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { printers, availablePrinters } = this.state;\r\n    let availablePrintersUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availablePrinters);\r\n\r\n    availablePrintersUpdate = printers;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePrinters: availablePrintersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePrintersUpdate = availablePrintersUpdate.filter(item => {\r\n      return item.iomodelId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePrinters: availablePrintersUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { printPurpose } = this.props;\r\n    const { overlaySearchText, availablePrinters, printers } = this.state;\r\n    console.log('in overlaychooseprinter, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{printPurpose}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{printPurpose === 'DEFAULT PRINTER' ? intl.get('default') : intl.get('choose')} {intl.get('printer')}</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChoosePrinter('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availablePrinters.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            // numColumns={3}\r\n            data={availablePrinters}\r\n            keyExtractor={(item, index) => index}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.props.handleUpdateFromChoosePrinter(item, printPurpose)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.iomodelId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, }]}\r\n            onPress={() => this.props.handleUpdateFromChoosePrinter('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { input } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{input?.title}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{input?.subtitle}</Text>\r\n            <Text style={styles.overlayText}>{input?.text}</Text>\r\n          </View>\r\n          {\r\n            input?.ok &&\r\n            <TouchableOpacity style={styles.overlayOption}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>OK</Text>\r\n            </TouchableOpacity>\r\n          }\r\n          {\r\n            input?.options ?\r\n              input?.options.map(el =>\r\n                <TouchableOpacity style={styles.overlayOption}\r\n                  key={el.handleText}\r\n                  onPress={() => this.props.handleUpdateFromAlert(el.handleText)}>\r\n                  <Text style={styles.overlayOptionText}>{el.text}</Text>\r\n                </TouchableOpacity>\r\n              )\r\n              : null\r\n          }\r\n          {\r\n            input?.cancel &&\r\n            <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n            </TouchableOpacity>\r\n          }\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, StatusBar, ScrollView, TouchableOpacity, Text, Alert, Platform, Dimensions } from 'react-native';\r\nimport { AntDesign, Ionicons, Entypo, MaterialCommunityIcons, Fontisto, FontAwesome, MaterialIcons } from '@expo/vector-icons';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport { debug } from '../assets/utility';\r\nimport io from 'socket.io-client';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport Constants from 'expo-constants';\r\nimport theme from '../assets/theme';\r\nimport MainTable from './MainTable';\r\nimport MainMenu from './MainMenu';\r\n\r\nimport OverlayAutoLogout from './OverlayAutoLogout';\r\nimport OverlayDeposit from './OverlayDeposit';\r\nimport OverlayScanBarcode from './OverlayScanBarcode';\r\nimport OverlayChangePrice from './OverlayChangePrice';\r\nimport OverlayLineDiscount from './OverlayLineDiscount';\r\nimport OverlayHeaderDiscount from './OverlayHeaderDiscount';\r\nimport OverlayMergeTable from './OverlayMergeTable';\r\nimport OverlayChangeTable from './OverlayChangeTable';\r\nimport OverlayReviseItem from './OverlayReviseItem';\r\nimport OverlayTableActions from './OverlayTableActions';\r\nimport OverlayAdditionalFunctions from './OverlayAdditionalFunctions';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nconst Tab = createBottomTabNavigator();\r\n\r\nexport default class Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedTable: null,\r\n      selectedTableItem: null,\r\n      tableItems: [],\r\n      printPurpose: '',\r\n      requestedPrivilege: '',\r\n\r\n      screen: 'TABLE',\r\n      refresh: null,\r\n    };\r\n\r\n    this.handlePressTable = this.handlePressTable.bind(this);\r\n    this.handleActionTable = this.handleActionTable.bind(this);\r\n    this.handlePressMenu = this.handlePressMenu.bind(this);\r\n    this.handlePressScan = this.handlePressScan.bind(this);\r\n    this.handlePressAdhoc = this.handlePressAdhoc.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromAutoLogout = this.handleUpdateFromAutoLogout.bind(this);\r\n    this.handleUpdateFromDeposit = this.handleUpdateFromDeposit.bind(this);\r\n    this.handleUpdateFromScanBarcode = this.handleUpdateFromScanBarcode.bind(this);\r\n    this.handleUpdateFromReviseItem = this.handleUpdateFromReviseItem.bind(this);\r\n    this.handleUpdateFromTableActions = this.handleUpdateFromTableActions.bind(this);\r\n    this.handleUpdateFromAdditionalFunctions = this.handleUpdateFromAdditionalFunctions.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromHeaderDiscount = this.handleUpdateFromHeaderDiscount.bind(this);\r\n    this.handleUpdateFromLineDiscount = this.handleUpdateFromLineDiscount.bind(this);\r\n    this.handleUpdateFromChangePrice = this.handleUpdateFromChangePrice.bind(this);\r\n    this.handleUpdateFromMergeTable = this.handleUpdateFromMergeTable.bind(this);\r\n    this.handleUpdateFromChangeTable = this.handleUpdateFromChangeTable.bind(this);\r\n\r\n    this.handleUpdateFromVoid = this.handleUpdateFromVoid.bind(this);\r\n    this.handleUpdateFromSplitTable = this.handleUpdateFromSplitTable.bind(this);\r\n    this.handleUpdateFromTable = this.handleUpdateFromTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntryObj, preference, home, selectedTable, tableItems } = this.state;\r\n\r\n    if (preference?.usecondary) {\r\n      global.socket = io(\r\n        serviceEntryObj.restServiceUrl.substring(0, serviceEntryObj.restServiceUrl.lastIndexOf(\"/gateway\")) + '/socket.io',\r\n        {\r\n          query: {\r\n            userId: home.userId,\r\n            serviceId: serviceEntryObj.epbId,\r\n          }\r\n        },\r\n      );\r\n    }\r\n\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    this.doChooseDefaultPrinter();\r\n    // temp\r\n    // this.handlePressTable({ recKey: 381386 })\r\n  }\r\n\r\n  didFocus() {\r\n    const { selectedTable } = this.state;\r\n    if (selectedTable) {\r\n      this.handlePressTable(selectedTable);\r\n    }\r\n    this.setState({\r\n      refresh: moment().format('HH:mm:ss'),\r\n    })\r\n    console.log('focused')\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n\r\n    if (global.socket) {\r\n      global.socket.close();\r\n    }\r\n  }\r\n\r\n  doChooseDefaultPrinter() {\r\n    const { home, masters } = this.state;\r\n    if (masters.cashierPrinters.length > 1) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'DEFAULT PRINTER',\r\n      });\r\n    } else if (masters.cashierPrinters.length === 1) {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = masters.cashierPrinters?.[0];\r\n      this.setState({\r\n        home: homeUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  async handlePressTable(item) {\r\n    if (!item?.recKey) return;\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, preference, settings } = this.state;\r\n\r\n    const settingPOSMODE = settings.find(el => el.setId === 'POSMODE')?.setString;\r\n    let url = serviceEntry + 'api/tables/' + item.recKey;\r\n    return fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // hide paid or reset takeaway tables\r\n        if (!response.opentable) {\r\n          this.doClearTable();\r\n          return;\r\n        }\r\n        if (settingPOSMODE === 'B' && (response.opentable.statusFlg === 'A' || response.opentable.statusFlg === 'D')) {\r\n          this.doClearTable();\r\n          return;\r\n        }\r\n        // faster navigation for takeaway tables, disabled currently, in conjunction with MainTable press\r\n        // if (response.opentable.orderType === 'B') {\r\n        //   this.doToggleScreen('TABLE');\r\n        // }\r\n\r\n        // emit to secondary display\r\n        if (global.socket) {\r\n          global.socket.emit('participate-room', {\r\n            home: this.state.home,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            users: preference.usecondary.split(','),\r\n          })\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  handleActionTable(item, action) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (action === 'CREATE') {\r\n      this.doCreateTable(item);\r\n    } else if (action === 'OPEN') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (action === 'EDIT') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    }\r\n  }\r\n\r\n  handlePressMenu(item, quick) {\r\n    const { navigation } = this.props;\r\n    const { home, preference, serviceEntry, settings, masters, selectedTable } = this.state;\r\n    const settingPOSMODE = settings.find(el => el.setId === 'POSMODE')?.setString;\r\n    const globalModBundles = masters.modBundles.filter(el => (!el.modmas.locId || el.modmas.locId === home.locId) && el.modmas.globalFlg === 'Y');\r\n    console.log(item)\r\n    // no opentable, bistro mode\r\n    if (!selectedTable && settingPOSMODE === 'A') {\r\n      if (item.menuType === 'O') {\r\n        navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      } else {\r\n        navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      }\r\n      return;\r\n    }\r\n    // no opentable, pos mode\r\n    if (!selectedTable && settingPOSMODE === 'B') {\r\n      this.doCreateTable(masters.sections[0], item);\r\n      return;\r\n    }\r\n    // combo\r\n    if (item.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // compulsory modifier\r\n    if (globalModBundles.some(el => el.modmas.mustFlg === 'Y') || masters.mods.some(el => el.menuId === item.menuId && (masters.modBundles.find(obj => obj.modmas.modId === el.modId)?.modmas.mustFlg === 'Y'))) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // normal\r\n    if (!quick) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n    } else {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: item.recKey,\r\n        restmenuMod: item.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((selectedTable.orderType === 'B' && settingPOSMODE === 'A') ? `*${intl.get('takeaway')}  ` : ''),\r\n        orderQty: '1',\r\n        orderType: item.serviceFlg === 'N' ? 'B' : selectedTable.orderType,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              item.menuName,\r\n              '1',\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          this.handlePressTable(selectedTable);\r\n        })\r\n    }\r\n  }\r\n\r\n  handlePressScan(camera) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, selectedTable } = this.state;\r\n    if (!selectedTable) return;\r\n    if (camera) {\r\n      if (Platform.OS !== 'web') {\r\n        navigation.navigate('Scan', { home, serviceEntry, masters, selectedTable })\r\n      }\r\n    } else {\r\n      this.setState({\r\n        overlayScanBarcodeVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressAdhoc() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, selectedTable } = this.state;\r\n\r\n    navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })\r\n    // create seperate action tree for settingPOSMODE === 'B'\r\n  }\r\n\r\n  doClearTable() {\r\n    // emit to secondary display\r\n    if (global.socket) {\r\n      global.socket.emit('participate-room', {\r\n        home: this.state.home,\r\n        selectedTable: null,\r\n        tableItems: [],\r\n        users: this.state.preference.usecondary.split(','),\r\n      })\r\n    }\r\n    this.setState({\r\n      selectedTable: null,\r\n      tableItems: [],\r\n    });\r\n  }\r\n\r\n  doCreateTable(section, item) {\r\n    const { navigation } = this.props;\r\n    const { preference, serviceEntry, home, settings, masters } = this.state;\r\n    let url = serviceEntry + 'api/insert-opentable';\r\n    const body = {\r\n      userId: home.userId,\r\n      sectionId: section.sectionId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Create Table',\r\n            home.userName,\r\n            response.message,\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('MainMenu')\r\n        // emit to secondary display\r\n        if (global.socket) {\r\n          global.socket.emit('participate-room', {\r\n            home: this.state.home,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            users: preference.usecondary.split(','),\r\n          })\r\n        }\r\n        this.setState({\r\n          screen: 'MENU',\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          refresh: moment().format('HH:mm:ss'),\r\n        }, () => {\r\n          if (item) {\r\n            if (item.menuType === 'O') {\r\n              navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable: response.opentable, selectedMenu: item });\r\n            } else {\r\n              navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable: response.opentable, selectedMenu: item });\r\n            }\r\n          }\r\n        });\r\n      })\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.transType !== 'A') return theme.deposit;\r\n    if (item.statusFlg === 'A') {\r\n      return theme.vacant;\r\n    } else if (item.statusFlg === 'B') {\r\n      return theme.reserved;\r\n    } else if (item.statusFlg === 'C') {\r\n      return theme.occupied;\r\n    } else if (item.statusFlg === 'D') {\r\n      return theme.paid;\r\n    } else if (item.statusFlg === 'E') {\r\n      return theme.unavailable;\r\n    }\r\n  }\r\n\r\n  // not in use\r\n  doTranslateTableStatus(item) {\r\n    if (item.orderType === 'B') {\r\n      if (item.transType === 'A') {\r\n        return intl.get('sales');\r\n      } else if (item.transType === 'G') {\r\n        if (item.homeDelivery === 'Y') {\r\n          return intl.get('deposit') + 'DLY';\r\n        } else {\r\n          return intl.get('deposit');\r\n        }\r\n      }\r\n    } else {\r\n      return intl.get(`${item.statusFlg}`).d('Unknown');\r\n    }\r\n  }\r\n\r\n  doTranslateTableItemColor(item) {\r\n    if (item.fireFlg === 'Y') {\r\n      return theme.reserved;\r\n    }\r\n    if (item.confirmFlg === 'Y') {\r\n      return theme.occupied;\r\n    }\r\n    return theme.vacant;\r\n  }\r\n\r\n  doToggleScreen(item) {\r\n    const { navigation } = this.props;\r\n    const { settings } = this.state;\r\n    if (item === 'MENU' && settings.find(el => el.setId === 'POSMODE')?.setString === 'A') {\r\n      this.setState({\r\n        screen: 'TABLE',\r\n        refresh: moment().format('HH:mm:ss'),\r\n      })\r\n      navigation.navigate('MainTable')\r\n    } else {\r\n      this.setState({ screen: 'MENU' })\r\n      navigation.navigate('MainMenu')\r\n    }\r\n  }\r\n\r\n  doPressItem(item) {\r\n    this.setState({\r\n      selectedTableItem: item,\r\n      overlayReviseItemVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartDayclose(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, settings, } = this.state;\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'DAYCLOSE')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'DAYCLOSE',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/start-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Dayclose',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Dayclose', { home, serviceEntry, masters, dayclosePayments: response.posDayCloseAmt, daycloseSubPayments: response.posDayCloseAmtDtl })\r\n      })\r\n  }\r\n\r\n  doPressTransType() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: intl.get('sales'), handleText: 'doTransTypeSales' });\r\n    options.push({ text: intl.get('deposit'), handleText: 'doTransTypeDeposit' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Transaction Type',\r\n        text: 'Select transaction type for ' + selectedTable.tableId,\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartPayment(printer, superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, masters, settings,\r\n      selectedTable, tableItems, } = this.state;\r\n\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'SELECT AN ORDER',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n      });\r\n      return;\r\n    }\r\n    if (!tableItems || tableItems.length === 0) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'NO TABLE ITEMS',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.refTableId) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'TABLE ALREADY MERGED ' + selectedTable.refTableId,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'PAYMENT')) && !superUserId) {\r\n      this.setState({\r\n        requestedPrivilege: 'PAYMENT',\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          pospays: response.opentablePospays,\r\n        }, () => navigation.navigate('Pos', { home, serviceEntry, serviceEntryObj, masters, selectedTable: response.opentable, pospays: response.opentablePospays }));\r\n      })\r\n  }\r\n\r\n  doChangeTableStatus(newStatus) {\r\n    const { home, serviceEntry, selectedTable, masters, settings } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table-status';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: newStatus,\r\n      pax: '',\r\n      vipId: '',\r\n      vipName: '',\r\n      phone: '',\r\n      reservationTime: '',\r\n      sourceId: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table-status successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table Status',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            newStatus,\r\n          );\r\n        if (response.message) {\r\n          if (response.message === 'Table Not Found') {\r\n            this.doClearTable();\r\n            this.doToggleScreen('MENU')\r\n          } else {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n          }\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doRevertTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/revert-adhoc';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post revert-adhoc successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Revert Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n          refresh: moment().format('HH:mm:ss'),\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doDuplicateTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/duplicate-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post duplicate-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Duplicate Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doUpdateLineBreak() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    })\r\n    let newLineBreak = 'Y';\r\n    if (selectedTableItem.lineBreak === 'Y') {\r\n      newLineBreak = 'N';\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-line-break';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      lineBreak: newLineBreak,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-line-break successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Break',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  doPrintBill(printer) {\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    if (!selectedTable || selectedTable?.statusFlg !== 'C') return;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'PRINT BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/print-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Print Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, masters, settings } = this.state;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'OPEN DRAWER',\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n  }\r\n\r\n  doTransTypeSales() {\r\n    const { selectedTable } = this.state;\r\n    this.handleUpdateFromDeposit('A', selectedTable.vipName, selectedTable.vipPhone, selectedTable.homeDelivery, selectedTable.dlyDate ? moment(selectedTable.dlyDate).format('YYYY-MM-DD') : '', selectedTable.dpostalcode, selectedTable.daddress1, selectedTable.daddress2)\r\n  }\r\n\r\n  doTransTypeDeposit() {\r\n    this.setState({\r\n      overlayDepositVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressSend() {\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (!selectedTable || selectedTable.sendFlg !== 'Y') {\r\n      console.log('no selectedTable or sendFlg is N');\r\n      return;\r\n    }\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doSendOrder' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Send Order',\r\n        text: 'Send order for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doSendOrder(printer) {\r\n    const { serviceEntry, home, selectedTable, masters, settings } = this.state;\r\n\r\n    // section-based print order\r\n    let printOrder = masters.sections.find(el => el.sectionId === selectedTable.sectionId)?.printOrderFlg === 'Y';\r\n\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter && printOrder) {\r\n      this.setState({\r\n        printPurpose: 'SEND ORDER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/send-order';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: printOrder && ((home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId)),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post send-order successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Send Order',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  doEditTableItem(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, preference,\r\n      tableItems, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'EDITITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (selectedTableItem?.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, masters, preference, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem, tableItems })\r\n    } else {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem })\r\n    }\r\n  }\r\n\r\n  doDeleteTableItem(superUserId) {\r\n    const { serviceEntry, home, selectedTableItem, selectedTable, masters, settings, privileges } = this.state;\r\n\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      // special scenario all personnel need double confirm\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'VOIDITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'VOIDITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable, home } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'SEND ORDER') {\r\n      this.doSendOrder(printer);\r\n    } else if (purpose === 'PRINT BILL') {\r\n      this.doPrintBill(printer);\r\n    } else if (purpose === 'START PAYMENT') {\r\n      this.doStartPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.doOpenDrawer(printer);\r\n    } else if (purpose === 'DEFAULT PRINTER') {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = printer;\r\n      this.setState({\r\n        home: homeUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, masters, settings, requestedPrivilege, selectedPrinter,\r\n      selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable?.tableId,\r\n            selectedTableItem?.menuName,\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.doOpenDrawer(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'PAYMENT') {\r\n          this.doStartPayment(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'DAYCLOSE') {\r\n          this.doStartDayclose(response.userId);\r\n        } else if (requestedPrivilege === 'VOIDITEM') {\r\n          this.doDeleteTableItem(response.userId);\r\n        } else if (requestedPrivilege === 'EDITITEM') {\r\n          this.doEditTableItem(response.userId);\r\n        }\r\n      })\r\n  }\r\n\r\n  handleUpdateFromAdditionalFunctions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayAdditionalFunctionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewReprint') {\r\n      navigation.navigate('Reprint', { home, serviceEntry, masters });\r\n    } else if (text === 'viewVoid') {\r\n      navigation.navigate('Void', { home, serviceEntry, masters, handleUpdateFromVoid: this.handleUpdateFromVoid });\r\n    } else if (text === 'viewCollect') {\r\n      navigation.navigate('Collect', { home, serviceEntry, masters, });\r\n    } else if (text === 'viewDayclose') {\r\n      this.doStartDayclose();\r\n    } else if (text === 'viewReports') {\r\n      navigation.navigate('Report', { home, serviceEntry, masters });\r\n    } else if (text === 'openDrawer') {\r\n      this.doOpenDrawer();\r\n    } else if (text === 'viewPrinters') {\r\n      navigation.navigate('Printer', { home, serviceEntry });\r\n    } else if (text === 'viewActivate') {\r\n      navigation.navigate('Activate', { home, serviceEntry, masters });\r\n    } else if (text === 'logOut') {\r\n      navigation.goBack();\r\n    } else if (text === 'syncMasters') {\r\n      navigation.navigate('Login', { sync: new Date() });\r\n    } else if (text === 'viewTrace') {\r\n      navigation.navigate('Trace', { home, serviceEntry, selectedTable });\r\n    } else if (text === 'viewLimit') {\r\n      navigation.navigate('Limit', { home, serviceEntry, masters });\r\n    }\r\n  }\r\n\r\n  async handleUpdateFromTableActions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayTableActionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewResequence') {\r\n      navigation.navigate('Resequence', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'viewTransfer') {\r\n      navigation.navigate('Transfer', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'headerDiscount') {\r\n      this.setState({\r\n        overlayHeaderDiscountVisible: true,\r\n      })\r\n    } else if (text === 'printBill') {\r\n      this.doPrintBill();\r\n    } else if (text === 'openTable') {\r\n      await this.handlePressTable(selectedTable)\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (text === 'editTable') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    } else if (text === 'resetTable') {\r\n      this.doChangeTableStatus('A');\r\n    } else if (text === 'reserveTable') {\r\n      this.doChangeTableStatus('B');\r\n    } else if (text === 'disableTable') {\r\n      this.doChangeTableStatus('E');\r\n    } else if (text === 'mergeTable') {\r\n      this.setState({\r\n        overlayMergeTableVisible: true,\r\n      });\r\n    } else if (text === 'splitTable') {\r\n      navigation.navigate('SplitTable', { home, serviceEntry, masters, tableItems, selectedTable, handleUpdateFromSplitTable: this.handleUpdateFromSplitTable });\r\n    } else if (text === 'changeTable') {\r\n      this.setState({\r\n        overlayChangeTableVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromReviseItem(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, masters, selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'voidItem') {\r\n      let options = [];\r\n      options.push({ text: 'Yes', handleText: 'doDeleteTableItem' });\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n        overlayAlertInputValue: {\r\n          title: intl.get('action'),\r\n          subtitle: 'Remove Item',\r\n          text: 'Remove ' + selectedTableItem.menuName + ' ?',\r\n          ok: false,\r\n          cancel: true,\r\n          options: options,\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n    } else if (text === 'editItem') {\r\n      this.doEditTableItem();\r\n    } else if (text === 'revertItem') {\r\n      this.doRevertTableItem();\r\n    } else if (text === 'changePrice') {\r\n      this.setState({\r\n        overlayChangePriceVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineDiscount') {\r\n      this.setState({\r\n        overlayLineDiscountVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineBreak') {\r\n      this.doUpdateLineBreak();\r\n    } else if (text === 'duplicateItem') {\r\n      this.doDuplicateTableItem();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromLineDiscount(text, superUserId) {\r\n    this.setState({ overlayLineDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/line-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post line-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromHeaderDiscount(text, superUserId) {\r\n    this.setState({ overlayHeaderDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/header-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post header-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Header Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangePrice(text, item, superUserId) {\r\n    this.setState({ overlayChangePriceVisible: false });\r\n    if (!text && !item) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-price';\r\n    const body = {\r\n      userId: home.userId,\r\n      price: text,\r\n      discId: item.discId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-price successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Price',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromMergeTable(tables) {\r\n    this.setState({ overlayMergeTableVisible: false });\r\n    if (tables.length === 0) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-table';\r\n    const itemPayloads = tables.map(el => ({\r\n      mergedOpentableRecKey: el.recKey,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            tables.map(el => el.tableId).join(','),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromSplitTable(tableInfo) {\r\n    this.setState({\r\n      selectedTable: tableInfo.opentable,\r\n      tableItems: tableInfo.opentableItems,\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChangeTable(table) {\r\n    this.setState({ overlayChangeTableVisible: false });\r\n    if (!table) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKeyTo: table.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            table.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(table);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSendOrder') {\r\n      this.doSendOrder();\r\n    } else if (text === 'doDeleteTableItem') {\r\n      this.doDeleteTableItem();\r\n    } else if (text === 'doTransTypeSales') {\r\n      this.doTransTypeSales();\r\n    } else if (text === 'doTransTypeDeposit') {\r\n      this.doTransTypeDeposit();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAutoLogout(timer) {\r\n    // if (!timer) {\r\n    //   this.setState({\r\n    //     overlayAutoLogoutVisible: false,\r\n    //   });\r\n    //   this.doAutoLogout();\r\n    // }\r\n    // if (timer === 0) {\r\n    //   this.setState({\r\n    //     toLogin: true,\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  handleUpdateFromDeposit(transType, vipName, phone, deliveryFlg, dlyDate, postalCode, addr1, addr2) {\r\n    this.setState({ overlayDepositVisible: false });\r\n    if (!transType) {\r\n      return;\r\n    }\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-table-info';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      transType: transType,\r\n      vipName: vipName,\r\n      phone: phone,\r\n      deliveryFlg: deliveryFlg,\r\n      dlyDate: dlyDate,\r\n      postalCode: postalCode,\r\n      addr1: addr1,\r\n      addr2: addr2,\r\n      addr3: '',\r\n      addr4: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post deposit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Transaction Type',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            transType + ',' + deliveryFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable)\r\n      })\r\n  }\r\n\r\n  handleUpdateFromScanBarcode(text) {\r\n    if (!text) {\r\n      this.setState({ overlayScanBarcodeVisible: false });\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      vipId: home.vipId,\r\n      barcode: text,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post scan-barcode successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Scan Barcode',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromVoid(tableInfo) {\r\n    this.setState({\r\n      selectedTable: tableInfo.opentable,\r\n      tableItems: tableInfo.opentableItems,\r\n    });\r\n  }\r\n\r\n  handleUpdateFromTable() {\r\n    this.doToggleScreen('TABLE');\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntryObj, serviceEntry, home, preference, masters, screen, refresh,\r\n      selectedTable, selectedTableItem, tableItems, printPurpose, requestedPrivilege,\r\n      overlayAutoLogoutVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayReviseItemVisible, overlayTableActionsVisible, overlayAdditionalFunctionsVisible, overlayRequestAccessVisible,\r\n      overlayHeaderDiscountVisible, overlayLineDiscountVisible, overlayChangePriceVisible,\r\n      overlayChangeTableVisible, overlayMergeTableVisible,\r\n      overlayDepositVisible, overlayScanBarcodeVisible,\r\n      overlayProcedureMessageVisible, overlayChoosePrinterVisible } = this.state;\r\n    const settingPOSMODE = masters.settings.find(el => el.setId === 'POSMODE')?.setString;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayAutoLogoutVisible &&\r\n          <OverlayAutoLogout\r\n            handleUpdateFromAutoLogout={this.handleUpdateFromAutoLogout} />\r\n        }\r\n        {\r\n          overlayDepositVisible &&\r\n          <OverlayDeposit\r\n            serviceEntry={serviceEntry}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromDeposit={this.handleUpdateFromDeposit} />\r\n        }\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayScanBarcodeVisible &&\r\n          <OverlayScanBarcode\r\n            handleUpdateFromScanBarcode={this.handleUpdateFromScanBarcode} />\r\n        }\r\n        {\r\n          overlayReviseItemVisible &&\r\n          <OverlayReviseItem\r\n            home={home}\r\n            privileges={masters.privileges}\r\n            selectedTable={selectedTable}\r\n            selectedTableItem={selectedTableItem}\r\n            tableItems={tableItems}\r\n            handleUpdateFromReviseItem={this.handleUpdateFromReviseItem} />\r\n        }\r\n        {\r\n          overlayTableActionsVisible &&\r\n          <OverlayTableActions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromTableActions={this.handleUpdateFromTableActions} />\r\n        }\r\n        {\r\n          overlayAdditionalFunctionsVisible &&\r\n          <OverlayAdditionalFunctions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromAdditionalFunctions={this.handleUpdateFromAdditionalFunctions} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayChangePriceVisible &&\r\n          <OverlayChangePrice\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            selectedTableItem={selectedTableItem}\r\n            handleUpdateFromChangePrice={this.handleUpdateFromChangePrice} />\r\n        }\r\n        {\r\n          overlayLineDiscountVisible &&\r\n          <OverlayLineDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromLineDiscount={this.handleUpdateFromLineDiscount} />\r\n        }\r\n        {\r\n          overlayHeaderDiscountVisible &&\r\n          <OverlayHeaderDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromHeaderDiscount={this.handleUpdateFromHeaderDiscount} />\r\n        }\r\n        {\r\n          overlayMergeTableVisible &&\r\n          <OverlayMergeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeTable={this.handleUpdateFromMergeTable} />\r\n        }\r\n        {\r\n          overlayChangeTableVisible &&\r\n          <OverlayChangeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromChangeTable={this.handleUpdateFromChangeTable} />\r\n        }\r\n        <View style={{ width: 10, backgroundColor: theme.grey8 }}>\r\n          <View style={{ marginTop: 30, height: 100, backgroundColor: this.doTranslateTableColor(selectedTable) }}></View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{home.userName}</Text>\r\n            <Text style={styles.footerText}>{home.locName}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, marginLeft: 0, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            {/* {\r\n              selectedTable &&\r\n              <TouchableOpacity style={{ margin: 3, marginLeft: 0, marginRight: 0, width: 23, backgroundColor: this.doTranslateTableColor(selectedTable) }}\r\n                onPress={() => this.doClearTable()}>\r\n\r\n              </TouchableOpacity>\r\n            } */}\r\n            <View style={{ margin: 3, flex: 1, flexDirection: 'row', }}>\r\n              {\r\n                selectedTable &&\r\n                <TouchableOpacity style={{ marginLeft: 0, aspectRatio: 1, backgroundColor: this.doTranslateTableColor(selectedTable), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.setState({ overlayTableActionsVisible: true })}>\r\n                  <Text style={[styles.tableUpperBand, { color: 'white' }]} numberOfLines={1}>{selectedTable.vipName || ''}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 24, letterSpacing: 1 }} numberOfLines={1}>{selectedTable.tableId}</Text>\r\n                  <Text style={styles.tableLowerBand} numberOfLines={1}>{selectedTable.sectionName}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n            </View>\r\n            {\r\n              selectedTable && selectedTable.orderType === 'B' ?\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT', tab: 'VIP' })}>\r\n                    <MaterialCommunityIcons name=\"apps-box\" size={28} color={theme.unavailable} style={{ height: 28, width: 28 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n                  </TouchableOpacity>\r\n                  {\r\n                    selectedTable.adhocItem > 0 &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                      <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                      <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'A' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      disabled={selectedTable.sendFlg !== 'Y'}\r\n                      onPress={() => this.doPressSend()}>\r\n                      <FontAwesome name=\"send\" size={22} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 25, marginTop: 3 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {/* <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                    <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28, }} />\r\n                    <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                  </TouchableOpacity> */}\r\n                  {/* <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => this.doPressTransType()}>\r\n                    <MaterialCommunityIcons name=\"water\" size={32} color={theme.deposit} style={{ height: 28, width: 32 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('type')}</Text>\r\n                  </TouchableOpacity> */}\r\n                </View>\r\n                : selectedTable && selectedTable.statusFlg === 'A' ?\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable })}>\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n                  </TouchableOpacity>\r\n                  : selectedTable && selectedTable.statusFlg === 'D' ?\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => this.handleUpdateFromTableActions('resetTable')}>\r\n                      <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.vacant} style={{ height: 28, width: 26 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                    </TouchableOpacity>\r\n                    : selectedTable ?\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        {\r\n                          selectedTable.adhocItem > 0 &&\r\n                          <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                            onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                            <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                            <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                            <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                          </TouchableOpacity>\r\n                        }\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          disabled={selectedTable.sendFlg !== 'Y'}\r\n                          onPress={() => this.doPressSend()}>\r\n                          <FontAwesome name=\"send\" size={22} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 25, marginTop: 3 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                          <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                        </TouchableOpacity>\r\n                      </View>\r\n                      : null\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.setState({ overlayAdditionalFunctionsVisible: true })}>\r\n              <MaterialCommunityIcons name=\"clover\" size={28} color={theme.paid} style={{ height: 28, width: 28 }} />\r\n              <Text style={styles.buttonText}>{intl.get('func')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: 'white' }}>\r\n            <View style={{ width: 50, height: 20, alignItems: 'center', justifyContent: 'center', borderRightColor: theme.paid }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('qty')}</Text>\r\n            </View>\r\n            <View style={{ flex: 1, justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('desc')}</Text>\r\n            </View>\r\n            <View style={{ paddingRight: 10, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('total')}</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            onContentSizeChange={() => this.scrollViewRef.scrollToEnd()}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              tableItems.filter(el => !el.refRecKey).map(item => (\r\n                <View key={item.recKey.toString()}>\r\n                  {\r\n                    item.lineBreak === 'Y' &&\r\n                    <View style={{ alignItems: 'center', flexDirection: 'row', height: 20, }}>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                      <Text style={{ fontFamily: 'varela-round', color: theme.grey5, fontSize: 12 }}>LINE BREAK</Text>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                    </View>\r\n                  }\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: this.doTranslateTableItemColor(item), }}\r\n                    onPress={() => this.doPressItem(item)}>\r\n                    <View style={{ paddingVertical: 10, width: 50, alignItems: 'center', borderRightColor: theme.paid }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.orderQty}</Text>\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, flex: 1 }}>\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.menuName}</Text>\r\n                          {\r\n                            item.menuMod &&\r\n                            <Text style={{ fontFamily: 'varela-round', fontSize: 16, color: theme.paid }}>{item.menuMod}</Text>\r\n                          }\r\n                        </View>\r\n                        <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.lineTotal?.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      {\r\n                        tableItems.filter(el => el.refRecKey === item.recKey).map(obj =>\r\n                          <View style={{ marginTop: 5, flexDirection: 'row' }} key={obj.recKey.toString()}>\r\n                            <View style={{ flex: 1, }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14, marginLeft: 10 }}>- {obj.menuName}</Text>\r\n                              {\r\n                                obj.menuMod &&\r\n                                <Text style={{ fontFamily: 'varela-round', fontSize: 14, color: theme.paid }}>{obj.menuMod}</Text>\r\n                              }\r\n                            </View>\r\n                            <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14 }}>{obj.lineTotal ? obj.lineTotal?.toFixed(2) : ''}</Text>\r\n                            </View>\r\n                          </View>\r\n                        )\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <View style={{ margin: 10, marginBottom: 0, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'baseline' }}>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 10 }}></Text>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 28 }}>${selectedTable?.grandTotal?.toFixed(2) || '0.00'}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, flexDirection: 'row', }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                onPress={() => this.doToggleScreen(screen)}>\r\n                {\r\n                  screen === 'TABLE' ?\r\n                    <Ionicons name=\"md-book\" size={26} color={theme.reserved} style={{ height: 28, width: 26 }} />\r\n                    :\r\n                    <MaterialCommunityIcons name=\"apps-box\" size={28} color={theme.vacant} style={{ height: 28, width: 28 }} />\r\n                }\r\n                <Text style={styles.buttonText}>{screen === 'TABLE' ? intl.get('menu') : intl.get('table')}</Text>\r\n              </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => navigation.navigate('Trace', { home, serviceEntry, selectedTable })}>\r\n              <MaterialCommunityIcons name=\"navigation\" size={28} color={theme.adhoc} style={{ height: 28, width: 28, transform: [{ rotateZ: '180deg' }] }} />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doPrintBill()}>\r\n              <MaterialCommunityIcons name=\"book\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n              <Text style={styles.buttonText}>{intl.get('bill')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doStartPayment()}>\r\n              <Ionicons name=\"print-sharp\" size={27} color={theme.paid} style={{ height: 28, marginLeft: 1 }} />\r\n              <Text style={styles.buttonText}>{intl.get('payment')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>EPB BISTRO {Constants.manifest.version?.split('.')[0]}</Text>\r\n            <Text style={styles.footerText}>{home?.defaultPrinter?.name || `${intl.get('no')} ${intl.get('default')} ${intl.get('printer')}`}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ flex: 2, backgroundColor: theme.grey9 }}>\r\n          <Tab.Navigator\r\n            screenOptions={{\r\n              headerShown: false,\r\n              animation: 'none',\r\n              gestureEnabled: false,\r\n              tabBarStyle: { display: 'none' },\r\n            }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <Tab.Screen name=\"MainTable\"\r\n                children={() =>\r\n                  <MainTable\r\n                    refresh={refresh}\r\n                    home={home}\r\n                    serviceEntry={serviceEntry}\r\n                    preference={preference}\r\n                    masters={masters}\r\n                    handlePressTable={this.handlePressTable}\r\n                    handleActionTable={this.handleActionTable} />\r\n                } />\r\n            }\r\n            <Tab.Screen name=\"MainMenu\"\r\n              children={() =>\r\n                <MainMenu\r\n                  home={home}\r\n                  serviceEntry={serviceEntry}\r\n                  serviceEntryObj={serviceEntryObj}\r\n                  preference={preference}\r\n                  settings={masters.settings}\r\n                  foldergrps={masters.foldergrps}\r\n                  folders={masters.folders}\r\n                  menus={masters.menus}\r\n                  modBundles={masters.modBundles}\r\n                  handlePressMenu={this.handlePressMenu}\r\n                  handlePressScan={this.handlePressScan}\r\n                  handlePressAdhoc={this.handlePressAdhoc} />\r\n              } />\r\n          </Tab.Navigator>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  footerText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableUpperBand: {\r\n    position: 'absolute',\r\n    top: 10, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    padding: 5,\r\n    // backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'black',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableLowerBand: {\r\n    position: 'absolute',\r\n    bottom: 0, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonText: {\r\n    marginTop: 10,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: theme.grey5,\r\n    textTransform: 'uppercase'\r\n  }\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayServiceEntry extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.props.handleUpdateFromServiceEntry(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayserviceentry');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Register</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='EPB ID OR IP:PORT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromServiceEntry('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayServiceEntry from './OverlayServiceEntry';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      savedEntries: [],\r\n      serviceEntry: '',\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromServiceEntry = this.handleUpdateFromServiceEntry.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    let savedEntries = await AsyncStorage.getItem('savedEntries');\r\n    if (savedEntries) {\r\n      savedEntries = JSON.parse(savedEntries);\r\n    } else {\r\n      savedEntries = [];\r\n    }\r\n    this.setState({\r\n      serviceEntry,\r\n      savedEntries,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doDeleteEntry') {\r\n      this.doDeleteEntry(selectedItem);\r\n    } else if (text === 'doSetEntry') {\r\n      this.doSetEntry(selectedItem);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromServiceEntry(text) {\r\n    this.setState({ overlayServiceEntryVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text.includes(':8085')) {\r\n      // assume local\r\n      let found = {\r\n        epbId: 'IP:PORT',\r\n        name: 'IP:PORT',\r\n        bistroServiceUrl: 'http://' + text + '/',\r\n      }\r\n      this.doSaveEntry(found);\r\n    } else {\r\n      // EPB ID\r\n      fetch('http://203.208.248.199:9090/beacon/api/locate?epbId=' + text, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('response', response);\r\n          this.doSaveEntry(response);\r\n        })\r\n        .catch(error => {\r\n          console.log('error', error);\r\n          this.setState({\r\n            overlayProcedureMessageVisible: 'INVALID EPB ID',\r\n          })\r\n        });\r\n    }\r\n  }\r\n\r\n  doSaveEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    if (!item.bistroServiceUrl) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING BISTRO SERVICE URL',\r\n      })\r\n      return;\r\n    }\r\n    if (savedEntriesUpdate.some(el => (el.epbId === item.epbId))) {\r\n      savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    }\r\n    savedEntriesUpdate.unshift(item);\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  doPressAdd() {\r\n    this.setState({\r\n      overlayServiceEntryVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressEntry(item) {\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: '',\r\n        ok: false,\r\n        cancel: true,\r\n        options: [\r\n          { text: 'SET ENTRY', handleText: 'doSetEntry' },\r\n          { text: 'DELETE ENTRY', handleText: 'doDeleteEntry' }\r\n        ],\r\n      },\r\n      overlayAlertVisible: true,\r\n      selectedItem: item,\r\n    });\r\n  }\r\n\r\n  doDeleteEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    console.log(savedEntriesUpdate)\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n  }\r\n\r\n  doSetEntry(item) {\r\n    this.setState({\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference, savedEntries, serviceEntry,\r\n      overlayServiceEntryVisible,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render register', savedEntries);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayServiceEntryVisible &&\r\n          <OverlayServiceEntry\r\n            handleUpdateFromServiceEntry={this.handleUpdateFromServiceEntry} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  {\r\n                    savedEntries.map((item, index) =>\r\n                      <TouchableOpacity\r\n                        key={index.toString()}\r\n                        style={styles.grid}\r\n                        onPress={() => this.doPressEntry(item)}>\r\n                        <View style={styles.gridFirst}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.epbId || '-'}</Text>\r\n                          <Text style={styles.gridFirstRightText}>{item.bistroServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridSecond}>\r\n                          <Text style={styles.gridSecondText}>{item.name || 'IP:PORT'}</Text>\r\n                          <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                        </View>\r\n                        <View style={[styles.gridFirst, { marginBottom: 5 }]}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.restServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridThird}>\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                          {\r\n                            item.bistroServiceUrl === serviceEntry ?\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>{intl.get('active')}</Text>\r\n                              :\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('inactive')}</Text>\r\n                          }\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    )\r\n                  }\r\n\r\n\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressAdd()}>\r\n                <AntDesign\r\n                  name='pluscircleo'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('add')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Preference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // tcolsize: '',\r\n      // mcolsize: '',\r\n      // pcolsize: '',\r\n      // mquick: '',\r\n      // dsecondary: '',\r\n      // usecondary: '',\r\n      // rpartition: '',\r\n      preference: null,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n      this.setState({\r\n        preference\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doReset') {\r\n      this.doReset();\r\n    }\r\n  }\r\n\r\n  doPressReset() {\r\n    let options = [];\r\n    options.push({ text: intl.get('yes'), handleText: 'doReset' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: `${intl.get('reset')} ${intl.get('preference')}`,\r\n        text: 'Reset all to factory preset?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doReset() {\r\n    let preference = {\r\n      tcolsize: Platform.OS === 'web' ? 5 : 4,\r\n      mcolsize: Platform.OS === 'web' ? 3 : 2,\r\n      pcolsize: Platform.OS === 'web' ? 5 : 3,\r\n      mquick: 'Y',\r\n      dsecondary: 'N',\r\n      usecondary: '',\r\n      // rpartition: 0.33,\r\n    };\r\n    this.setState({ preference })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n  }\r\n\r\n  doTcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.tcolsize < 8) {\r\n      preferenceUpdate.tcolsize = preferenceUpdate.tcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.tcolsize = 3;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mcolsize < 6) {\r\n      preferenceUpdate.mcolsize = preferenceUpdate.mcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.mcolsize = 1;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doPcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.pcolsize < 7) {\r\n      preferenceUpdate.pcolsize = preferenceUpdate.pcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.pcolsize = 2;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMquick() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mquick === 'Y') {\r\n      preferenceUpdate.mquick = 'N';\r\n    } else {\r\n      preferenceUpdate.mquick = 'Y';\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doDsecondary() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.dsecondary === 'N') {\r\n      preferenceUpdate.dsecondary = 'Y';\r\n    } else {\r\n      preferenceUpdate.dsecondary = 'N';\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doUsecondary(text) {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    preferenceUpdate.usecondary = text;\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doRpartition(text) {\r\n    const { preference } = this.state;\r\n\r\n    if (isNaN(text)) return;\r\n\r\n    let preferenceUpdate = preference;\r\n    preferenceUpdate.rpartition = Number(text);\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render preference', preference);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doTcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>TCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>3-8</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Table</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.tcolsize === 5) || (Platform.OS !== 'web' && preference?.tcolsize === 4)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doPcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>PCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>2-7</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for POS</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.pcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.pcolsize === 5) || (Platform.OS !== 'web' && preference?.pcolsize === 3)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n                  <View\r\n                    style={styles.grid}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>USECONDARY</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>TEXT</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Secondary Display User</Text>\r\n                      <TextInput style={[styles.gridSecondText, { width: 100, color: theme.reserved, textAlign: 'right' }]}\r\n                        selectTextOnFocus\r\n                        defaultValue={preference?.usecondary || ''}\r\n                        onChangeText={(text) => this.doUsecondary(text)}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        !preference?.usecondary ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </View>\r\n\r\n                  {/* <View\r\n                    style={styles.grid}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>RPARTITION</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>0 &#60; X &#60; 1</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Partition Ratio</Text>\r\n                      <TextInput style={[styles.gridSecondText, { width: 100, color: theme.reserved, textAlign: 'right' }]}\r\n                        selectTextOnFocus\r\n                        defaultValue={preference?.rpartition.toString()}\r\n                        onChangeText={(text) => this.doRpartition(text)}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        Number(preference?.rpartition) === 0.33 ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </View> */}\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>1-6</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.mcolsize === 3) || (Platform.OS !== 'web' && preference?.mcolsize === 2)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMquick()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MQUICK</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>Y/N</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Quick Select for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mquick}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        preference?.mquick === 'Y' ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doDsecondary()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>DSECONDARY</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>Y/N</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Acting Secondary Display</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.dsecondary}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        preference?.dsecondary === 'N' ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressReset()}>\r\n                <AntDesign\r\n                  name='warning'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reset')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitItems extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        percentage: (100 / props.receipts.length).toFixed(0).toString(),\r\n      })),\r\n    };\r\n    this.handleFillPercentagesEvenly = this.handleFillPercentagesEvenly.bind(this);\r\n    this.handleSetPercentageForReceipt = this.handleSetPercentageForReceipt.bind(this);\r\n    this.handleSetFullPercentageForReceipt = this.handleSetFullPercentageForReceipt.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillPercentagesEvenly() {\r\n    const { receipts } = this.state;\r\n    let numberString = (100 / receipts.length).toFixed(0).toString();\r\n    receipts.forEach(item => this.handleSetPercentageForReceipt(numberString, item.docId));\r\n  }\r\n\r\n  handleSetFullPercentageForReceipt(item) {\r\n    const { receipts } = this.state;\r\n    receipts.forEach(el => {\r\n      if (el.docId === item.docId) {\r\n        this.handleSetPercentageForReceipt('100', el.docId);\r\n      } else {\r\n        this.handleSetPercentageForReceipt('0', el.docId);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSetPercentageForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.docId === docId);\r\n    if (!Number(number)) {\r\n      receiptsUpdate[index].percentage = '0';\r\n    } else {\r\n      receiptsUpdate[index].percentage = Number(number).toFixed(0).toString();\r\n    }\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdate2', receipts));\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.percentage); }, 0);\r\n    console.log('agg', aggregate);\r\n    if (receipts.some(item => receipts[0].percentage !== item.percentage) && aggregate !== 100) {\r\n      console.log('validation failed');\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromSplitItems(receipts);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTableItems } = this.props;\r\n    const { receipts } = this.state;\r\n    console.log('in overlaysplititems');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Item(s)</Text>\r\n            <Text style={styles.overlayText}>You are splitting {selectedTableItems.length} item(s) for {receipts.length} receipts</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleSetFullPercentageForReceipt(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).percentage}\r\n                      onChangeText={(number) => this.handleSetPercentageForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}>%</Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.handleFillPercentagesEvenly()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>Fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitItems('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlaySplitItems from './OverlaySplitItems';\r\n\r\nexport default class Split extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n      selectedTableItems: [],\r\n      overlaySplitItemsVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSplitSelectedTableItems = this.handleSplitSelectedTableItems.bind(this);\r\n    this.handleUndoAll = this.handleUndoAll.bind(this);\r\n    this.handleSelectAllUnsplitTableItems = this.handleSelectAllUnsplitTableItems.bind(this);\r\n    this.handleDeselectAllUnsplitTableItems = this.handleDeselectAllUnsplitTableItems.bind(this);\r\n    this.handleUpdateFromSplitItems = this.handleUpdateFromSplitItems.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    const { selectedTableItems, receipts } = this.state;\r\n    const { tableItems } = this.props;\r\n    if (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey)) {\r\n      return;\r\n    }\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSelectAllUnsplitTableItems() {\r\n    const { tableItems } = this.props;\r\n    const { selectedTableItems, receipts } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    tableItems.forEach(el => {\r\n      if (receipts[0].receiptItems.some(obj => obj.recKey === el.recKey) || selectedTableItems.some(obj => obj.recKey === el.recKey)) {\r\n        return;\r\n      }\r\n      selectedTableItemsUpdate.push(el);\r\n    });\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleDeselectAllUnsplitTableItems() {\r\n    this.setState({\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleSplitSelectedTableItems() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlaySplitItemsVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUndoAll() {\r\n    this.setState({\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleUpdateFromSplitItems(distribution) {\r\n    console.log('distribution', distribution);\r\n    if (!distribution) {\r\n      this.setState({\r\n        overlaySplitItemsVisible: false,\r\n        selectedTableItems: [],\r\n      });\r\n      return;\r\n    }\r\n    const { receipts, selectedTableItems } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    receiptsUpdate.forEach(el => {\r\n      selectedTableItems.forEach(obj => {\r\n        el.receiptItems.push({\r\n          ...obj,\r\n          percentage: distribution.find(item => item.docId === el.docId).percentage\r\n        });\r\n      })\r\n    })\r\n    this.setState({\r\n      overlaySplitItemsVisible: false,\r\n      selectedTableItems: [],\r\n      receipts: receiptsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplit(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { serviceEntry, home, selectedTable, availableReceipts, tableItems, cashierPrinters } = this.props;\r\n    const { receipts, selectedTableItems, overlaySplitItemsVisible, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in split');\r\n    \r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlaySplitItemsVisible &&\r\n          <OverlaySplitItems\r\n            receipts={receipts}\r\n            selectedTableItems={selectedTableItems}\r\n            handleUpdateFromSplitItems={this.handleUpdateFromSplitItems} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY ITEM'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE</Text>\r\n              <Text style={styles.overlaySubtitleText}>{selectedTable.tableId}</Text>\r\n              <Text style={styles.overlayTitleText}>{tableItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleUndoAll()}\r\n              >\r\n                <Text style={styles.buttonText}>Undo</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleDeselectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Deselect</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleSelectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Select</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                tableItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    disabled={(receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) ? true : false}\r\n                    style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}\r\n                  >\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}\r\n                    >\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.refRecKey ? '- ' : null}{item.menuName}\r\n                      </Text>\r\n                      {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={[styles.actionButton, selectedTableItems.length !== 0 ? { backgroundColor: theme.occupied } : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleSplitSelectedTableItems()}\r\n            >\r\n              <Text style={styles.buttonText}>Split Selected</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              receipts[0].receiptItems.length === tableItems.length ?\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.handleSubmit()}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm Split</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.props.handleUpdateFromSplit('')}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.paid }]}>Quit</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <ScrollView style={styles.splitScroll}\r\n            horizontal={true}\r\n            snapToInterval={wrapperWidth}\r\n            decelerationRate='fast'\r\n          >\r\n            {\r\n              receipts.map((obj, index) => (\r\n                <View style={styles.wrapper}\r\n                  key={obj.docId}\r\n                >\r\n                  <View style={styles.overlayHeader}>\r\n                    <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>SPLIT {index + 1} OF {receipts.length}</Text>\r\n                    <Text style={styles.overlaySubtitleText}>{obj.docId}</Text>\r\n                    <Text style={styles.overlayTitleText}>{obj.receiptItems.length} ITEMS</Text>\r\n                  </View>\r\n                  <ScrollView style={styles.itemsContainer}>\r\n                    <View style={{ paddingTop: 5 }}></View>\r\n                    {\r\n                      obj.receiptItems.map(item => (\r\n                        <TouchableOpacity key={item.recKey}\r\n                          style={styles.tableItemContainer}\r\n                        // onPress={() => this.handleSelectTableItem(item)}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <View style={styles.tableItemSecondContainer}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </View>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              <Text style={{ color: theme.reserved }}>{item.percentage}</Text><Text style={{ color: theme.grey1 }}> %</Text>\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst wrapperWidth = Dimensions.get('window').width / 3;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n    width: wrapperWidth,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayInputReference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayinputreference');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Input Reference</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                placeholder='ENTER REFERENCE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.props.handleUpdateFromInputReference(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromInputReference(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromInputReference('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\n\r\nexport default class OverlayMergeBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      selectedTargetTable: '',\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.props;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        const filteredResponse = response.filter(el => {\r\n          return el.tableId !== selectedTable.tableId;\r\n        });\r\n        this.setState({\r\n          tables: filteredResponse,\r\n          availableTables: filteredResponse,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTargetTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleSubmit(selectedTargetTable, printer);\r\n  }\r\n\r\n  handleSubmit(item, printer) {\r\n    const { home } = this.props;\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    });\r\n    const { cashierPrinters } = this.props;\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromMergeBill(item, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { overlaySearchText, availableTables, tables, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaymergebill', selectedTable);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='MERGE BILL'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Bill</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeBill('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>OCCUPIED</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, TextInput,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayNumber: 2,\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayNumber === 2) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleNumberChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayNumber: 2 })\r\n    } else {\r\n      this.setState({ overlayNumber: Number(text) })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { overlayNumber } = this.state;\r\n    console.log('in overlaysplitbill');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Bill</Text>\r\n            <Text style={styles.overlayText}>Enter the number of bills to split into</Text>\r\n          </View>\r\n          <View style={styles.adjustContainer}>\r\n            <TouchableOpacity style={styles.adjustFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.adjustSecond}>\r\n              <TextInput style={styles.overlayNumber}\r\n                selectTextOnFocus\r\n                keyboardType='numeric'\r\n                value={overlayNumber?.toString()}\r\n                onChangeText={(searchText) => this.handleNumberChange(searchText)} />\r\n            </View>\r\n            <TouchableOpacity style={styles.adjustThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 2 && { backgroundColor: theme.occupied }]}\r\n              onPress={() => this.setState({ overlayNumber: 2 })}>\r\n              <Text style={styles.buttonText}>2</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 3 && { backgroundColor: theme.reserved }]}\r\n              onPress={() => this.setState({ overlayNumber: 3 })}>\r\n              <Text style={styles.buttonText}>3</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 4 && { backgroundColor: theme.paid }]}\r\n              onPress={() => this.setState({ overlayNumber: 4 })}>\r\n              <Text style={styles.buttonText}>4</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'ITEM')}>\r\n            <Text style={styles.overlayOptionText}>Split By Item</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'AMOUNT')}>\r\n            <Text style={styles.overlayOptionText}>Split By Amount</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitBill('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n    marginBottom: 30,\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 20,\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitAmount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        recKey: item.recKey,\r\n        amount: '0',\r\n      })),\r\n      warning: 'Total amount to split is ' + props.selectedTable.grandTotal.toFixed(2),\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleFillRemainder = this.handleFillRemainder.bind(this);\r\n    this.handleSetAmountForReceipt = this.handleSetAmountForReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillRemainder(item) {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.recKey === item.recKey);\r\n    const aggregate = receipts.filter(el => el.recKey !== item.recKey).reduce((init, obj) => { return init + Number(obj.amount); }, 0);\r\n    if (aggregate <= Number(selectedTable.grandTotal)) {\r\n      receiptsUpdate[index].amount = (Number(selectedTable.grandTotal) - aggregate).toFixed(2).toString();\r\n      this.setState({\r\n        receipts: receiptsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSetAmountForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    let index = receipts.findIndex(el => el.docId === docId);\r\n    receiptsUpdate[index].amount = number;\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { selectedTable, cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.amount); }, 0).toFixed(2);\r\n    console.log('aggregate', aggregate);\r\n    if (receipts.some(item => Number(item.amount) === 0) || (Number(aggregate) !== Number(selectedTable.grandTotal))) {\r\n      console.log('validation failed');\r\n      this.setState({\r\n        warning: 'Ensure numbers are valid and add up to ' + selectedTable.grandTotal.toFixed(2),\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplitAmount(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  doFillEvenly() {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n\r\n    const equal = Number(selectedTable.grandTotal / receipts.length).toFixed(2);\r\n\r\n    receiptsUpdate.forEach((el, index) => {\r\n      if (index !== receiptsUpdate.length - 1) {\r\n        el.amount = Number(equal).toFixed(2);\r\n      } else {\r\n        el.amount = (selectedTable.grandTotal - equal * (receiptsUpdate.length - 1)).toFixed(2);\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { receipts, warning, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaysplitamount');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY AMOUNT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Amount</Text>\r\n            <Text style={styles.overlayText}>{warning}</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleFillRemainder(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).amount}\r\n                      onChangeText={(number) => this.handleSetAmountForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.doFillEvenly()}>\r\n            <Text style={styles.overlayOptionText}>fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption,]}\r\n            onPress={() => this.handleSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitAmount('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayUpdateTips extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n      overlaySearchText: '',\r\n      paymentMethods: props.paymentMethods,\r\n      availablePaymentMethods: props.paymentMethods,\r\n      selectedPaymentMethod: null,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { paymentMethods } = this.state;\r\n    let availablePaymentMethodsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availablePaymentMethodsUpdate = paymentMethods;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePaymentMethods: availablePaymentMethodsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePaymentMethodsUpdate = availablePaymentMethodsUpdate.filter(item => {\r\n      return item.pmId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePaymentMethods: availablePaymentMethodsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlayText, selectedPaymentMethod, availablePaymentMethods, overlaySearchText } = this.state;\r\n    console.log('in overlayupdatetips', availablePaymentMethods);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Update Tips</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                keyboardType='numeric'\r\n                placeholder='ENTER TIPS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          <View style={styles.selectWrapper}>\r\n            <View style={styles.searchBoxWrapper}>\r\n              <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                <TextInput style={styles.overlaySearchBoxInput}\r\n                  placeholder='ENTER SEARCH TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                  value={overlaySearchText}\r\n                />\r\n                <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                  onPress={() => {\r\n                    this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                    Keyboard.dismiss()\r\n                  }}>\r\n                  <AntDesign name='close' size={24} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availablePaymentMethods.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={[{ flex: 1 }]}\r\n              data={availablePaymentMethods}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  style={[styles.overlayGrid, selectedPaymentMethod?.pmId === item.pmId && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.setState({ selectedPaymentMethod: item, })}>\r\n                  <View style={styles.overlayGridFirst}>\r\n                    <View style={styles.overlayGridFirstLeft}>\r\n                      <Text style={styles.overlayGridFirstLeftText}>{item.pmId}</Text>\r\n                    </View>\r\n                    <View style={styles.overlayGridFirstRight}>\r\n                      <Text style={styles.overlayGridFirstRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.overlayGridSecond}>\r\n                    <Text style={styles.overlayGridSecondText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridThird}>\r\n                    <View style={styles.overlayGridThirdLeft}>\r\n                    </View>\r\n                    <View style={styles.overlayGridThirdRight}>\r\n                      <Text style={styles.overlayGridThirdRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips(overlayText, selectedPaymentMethod)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayViewSplitted extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { receipts } = this.props;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>VIEW</Text>\r\n            <Text style={styles.overlaySubtitleText}>Splitted Receipts</Text>\r\n            <Text style={styles.overlayText}></Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.recKey}\r\n                >\r\n                  <View style={styles.inputRowLeft}>\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </View>\r\n                  <View style={styles.inputRowRight}>\r\n                    <Text style={styles.textInput}>{item.grandTotal ? item.grandTotal.toFixed(2) : null}</Text>\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromViewSplitted('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport QRCode from 'react-native-qrcode-svg';\r\nimport Paynow from '../assets/paynow.png';\r\nimport moment from 'moment';\r\n\r\nclass PaynowQR {\r\n  constructor(opts) {\r\n    Object.defineProperty(this, 'qrstring', {\r\n      value: this.generate(opts)\r\n    });\r\n  }\r\n  output() {\r\n    return this.qrstring;\r\n  }\r\n\r\n  padLeft(s, n, str) {\r\n    if (n < String(s).length) {\r\n      return s.toString();\r\n    }\r\n    else {\r\n      return Array(n - String(s).length + 1).join(str || '0') + s;\r\n    }\r\n  }\r\n\r\n  crc16(s) {\r\n    var crcTable = [0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5,\r\n      0x60c6, 0x70e7, 0x8108, 0x9129, 0xa14a, 0xb16b,\r\n      0xc18c, 0xd1ad, 0xe1ce, 0xf1ef, 0x1231, 0x0210,\r\n      0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6,\r\n      0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c,\r\n      0xf3ff, 0xe3de, 0x2462, 0x3443, 0x0420, 0x1401,\r\n      0x64e6, 0x74c7, 0x44a4, 0x5485, 0xa56a, 0xb54b,\r\n      0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d,\r\n      0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6,\r\n      0x5695, 0x46b4, 0xb75b, 0xa77a, 0x9719, 0x8738,\r\n      0xf7df, 0xe7fe, 0xd79d, 0xc7bc, 0x48c4, 0x58e5,\r\n      0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823,\r\n      0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969,\r\n      0xa90a, 0xb92b, 0x5af5, 0x4ad4, 0x7ab7, 0x6a96,\r\n      0x1a71, 0x0a50, 0x3a33, 0x2a12, 0xdbfd, 0xcbdc,\r\n      0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a,\r\n      0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03,\r\n      0x0c60, 0x1c41, 0xedae, 0xfd8f, 0xcdec, 0xddcd,\r\n      0xad2a, 0xbd0b, 0x8d68, 0x9d49, 0x7e97, 0x6eb6,\r\n      0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70,\r\n      0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a,\r\n      0x9f59, 0x8f78, 0x9188, 0x81a9, 0xb1ca, 0xa1eb,\r\n      0xd10c, 0xc12d, 0xf14e, 0xe16f, 0x1080, 0x00a1,\r\n      0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067,\r\n      0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c,\r\n      0xe37f, 0xf35e, 0x02b1, 0x1290, 0x22f3, 0x32d2,\r\n      0x4235, 0x5214, 0x6277, 0x7256, 0xb5ea, 0xa5cb,\r\n      0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d,\r\n      0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447,\r\n      0x5424, 0x4405, 0xa7db, 0xb7fa, 0x8799, 0x97b8,\r\n      0xe75f, 0xf77e, 0xc71d, 0xd73c, 0x26d3, 0x36f2,\r\n      0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634,\r\n      0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9,\r\n      0xb98a, 0xa9ab, 0x5844, 0x4865, 0x7806, 0x6827,\r\n      0x18c0, 0x08e1, 0x3882, 0x28a3, 0xcb7d, 0xdb5c,\r\n      0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a,\r\n      0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0,\r\n      0x2ab3, 0x3a92, 0xfd2e, 0xed0f, 0xdd6c, 0xcd4d,\r\n      0xbdaa, 0xad8b, 0x9de8, 0x8dc9, 0x7c26, 0x6c07,\r\n      0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1,\r\n      0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba,\r\n      0x8fd9, 0x9ff8, 0x6e17, 0x7e36, 0x4e55, 0x5e74,\r\n      0x2e93, 0x3eb2, 0x0ed1, 0x1ef0];\r\n\r\n    var crc = 0xFFFF;\r\n    var j, i;\r\n\r\n    for (i = 0; i < s.length; i++) {\r\n\r\n      let c = s.charCodeAt(i);\r\n      if (c > 255) {\r\n        throw new RangeError();\r\n      }\r\n      j = (c ^ (crc >> 8)) & 0xFF;\r\n      crc = crcTable[j] ^ (crc << 8);\r\n    }\r\n\r\n    return ((crc ^ 0) & 0xFFFF).toString(16).toUpperCase();\r\n  }\r\n\r\n\r\n  generate(opts) {\r\n\r\n    for (let key in opts) {\r\n      if (typeof opts[key] == 'string') {\r\n        opts[key] = opts[key].trim();\r\n      }\r\n    }\r\n\r\n\r\n    const p = [\r\n      { id: '00', value: '01' },                    // ID 00: Payload Format Indicator (Fixed to '01')\r\n      { id: '01', value: '12' },                    // ID 01: Point of Initiation Method 11: static, 12: dynamic\r\n      {\r\n        id: '26', value:                            // ID 26: Merchant Account Info Template\r\n          [{ id: '00', value: 'SG.PAYNOW' },\r\n          { id: '01', value: '2' },                 // 0 for mobile, 2 for UEN. 1 is not used.\r\n          { id: '02', value: String(opts.uen) },            // PayNow UEN (Company Unique Entity Number)\r\n          { id: '03', value: String(!opts.amount || opts.editable ? 1 : 0) },       // 1 = Payment amount is editable, 0 = Not Editable\r\n          { id: '04', value: String(opts.expiry) }]         // Expiry date (YYYYMMDD)\r\n      },\r\n      { id: '52', value: '0000' },                  // ID 52: Merchant Category Code (not used)\r\n      { id: '53', value: '702' },                   // ID 53: Currency. SGD is 702\r\n      { id: '54', value: String(opts.amount || 0) },  // ID 54: Transaction Amount\r\n      { id: '58', value: 'SG' },                    // ID 58: 2-letter Country Code (SG)\r\n      { id: '59', value: String(opts.company || 'COMPANY') },          // ID 59: Company Name\r\n      { id: '60', value: 'Singapore' }             // ID 60: Merchant City\r\n\r\n    ]\r\n\r\n    let otherdata = {\r\n      id: '62', value: [{                         // ID 62: Additional data fields\r\n        id: '01', value: String(opts.refNumber || '')           // ID 01: Bill Number\r\n      }]\r\n    };\r\n\r\n    if (opts.refNumber) {\r\n      p.push(otherdata);\r\n    }\r\n\r\n    let str = p.reduce((final, current) => {\r\n      if (Array.isArray(current.value)) { //nest loop\r\n        current.value = current.value.reduce((f, c) => {\r\n          f += c.id + this.padLeft(c.value.length.toString(), 2) + c.value;\r\n          return f\r\n        }, \"\")\r\n      }\r\n      final += current.id + this.padLeft(current.value.length.toString(), 2) + current.value;\r\n      return final\r\n    }, \"\")\r\n\r\n    // Here we add \"6304\" to the previous string\r\n    // ID 63 (Checksum) 04 (4 characters)\r\n    // Do a CRC16 of the whole string including the \"6304\"\r\n    // then append it to the end.\r\n    str += '6304' + this.padLeft(this.crc16(str + '6304'), 4);\r\n\r\n    return str;\r\n\r\n  }\r\n}\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home } = this.props;\r\n    let qrcode = new PaynowQR({\r\n      uen: home.uen,           //Required: UEN of company\r\n      amount: Number(this.props.input.amount),               //Specify amount of money to pay.\r\n      editable: false,             //Whether or not to allow editing of payment amount. Defaults to false if amount is specified\r\n      expiry: moment().format('YYYYMMDD'),         //Set an expiry date for the Paynow QR code (YYYYMMDD). If omitted, defaults to 5 years from current time.\r\n      refNumber: this.props.input.reference,   //Reference number for Paynow Transaction. Useful if you need to track payments for recouncilation.\r\n      company: home.orgName   //Company name to embed in the QR code. Optional.               \r\n    });\r\n\r\n    this.setState({\r\n      qrcodeString: qrcode.output(),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { input, qrcodeString } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlaySubtitleText}>${this.props.input.amount}</Text>\r\n            <Text style={[styles.overlayText, { marginTop: 0 }]}>{this.props.home.orgName}</Text>\r\n          </View>\r\n          <QRCode\r\n            size={300}\r\n            value={qrcodeString}\r\n            color='#761972'\r\n            logo={Paynow}\r\n            logoSize={80}\r\n          />\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={[styles.overlayText, { marginTop: 5 }]}>Thank you!</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { width: 400 }]}\r\n            onPress={() => this.props.handleUpdateFromPaynow('')}>\r\n            <Text style={styles.overlayOptionText}>CONTINUE</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    // width: '40%',\r\n    // backgroundColor: theme.grey2,\r\n    // borderRadius: 5,\r\n    // overflow: 'hidden',\r\n    alignItems: 'center',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Dimensions, FlatList, ScrollView, Platform, Text, Image } from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport Split from './Split';\r\nimport OverlayInputReference from './OverlayInputReference';\r\nimport OverlayMergeBill from './OverlayMergeBill';\r\nimport OverlaySplitBill from './OverlaySplitBill';\r\nimport OverlaySplitAmount from './OverlaySplitAmount';\r\nimport OverlayUpdateTips from './OverlayUpdateTips';\r\nimport OverlayViewSplitted from './OverlayViewSplitted';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayPaynow from './OverlayPaynow';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Pos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      paymentMethods: props.route.params.masters.paymentMethods,\r\n      settings: props.route.params.masters.settings,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedTable: props.route.params.selectedTable,\r\n      payments: props.route.params.pospays,\r\n\r\n      selectedPaymentMethod: null,\r\n      selectedPaymentItem: '',\r\n      numberString: '0',\r\n      pay: props.route.params.selectedTable.balance,\r\n\r\n      overlayPaynowVisible: false,\r\n      overlayInputReferenceVisible: false,\r\n      overlayMergeBillVisible: false,\r\n      overlaySplitBillVisible: false,\r\n      overlaySplitAmountVisible: false,\r\n      overlayUpdateTipsVisible: false,\r\n      overlayViewSplittedVisible: false,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printPurpose: '',\r\n      selectedPrinter: '',\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      splitting: false,\r\n      availableReceipts: [],\r\n      splitReceipts: [],\r\n      tableItems: [],\r\n\r\n      keyHeight: null,\r\n    };\r\n    this.handleBuildNumberString = this.handleBuildNumberString.bind(this);\r\n    this.handleSelectPaymentMethod = this.handleSelectPaymentMethod.bind(this);\r\n    this.handleRounding = this.handleRounding.bind(this);\r\n    this.handleEnterButton = this.handleEnterButton.bind(this);\r\n    this.handleFinishButton = this.handleFinishButton.bind(this);\r\n    this.handleAddPayment = this.handleAddPayment.bind(this);\r\n    this.handleDeletePayment = this.handleDeletePayment.bind(this);\r\n    this.handleFinishPayment = this.handleFinishPayment.bind(this);\r\n    this.handleUnsplitBill = this.handleUnsplitBill.bind(this);\r\n    this.handlePressPaymentItem = this.handlePressPaymentItem.bind(this);\r\n    this.handlePressDeletePaymentItem = this.handlePressDeletePaymentItem.bind(this);\r\n    this.handlePressPaymentItemRef = this.handlePressPaymentItemRef.bind(this);\r\n    this.handlePressMerge = this.handlePressMerge.bind(this);\r\n    this.handlePressUnmerge = this.handlePressUnmerge.bind(this);\r\n    this.handlePressTips = this.handlePressTips.bind(this);\r\n    this.handlePressSplit = this.handlePressSplit.bind(this);\r\n    this.handlePressUnsplit = this.handlePressUnsplit.bind(this);\r\n    this.handleViewSplitted = this.handleViewSplitted.bind(this);\r\n    this.handleUpdateFromInputReference = this.handleUpdateFromInputReference.bind(this);\r\n    this.handleUpdateFromMergeBill = this.handleUpdateFromMergeBill.bind(this);\r\n    this.handleUpdateFromSplitBill = this.handleUpdateFromSplitBill.bind(this);\r\n    this.handleUpdateFromSplitAmount = this.handleUpdateFromSplitAmount.bind(this);\r\n    this.handleUpdateFromSplit = this.handleUpdateFromSplit.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromUpdateTips = this.handleUpdateFromUpdateTips.bind(this);\r\n    this.handleUpdateFromViewSplitted = this.handleUpdateFromViewSplitted.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromPaynow = this.handleUpdateFromPaynow.bind(this);\r\n    this.handleOpenDrawer = this.handleOpenDrawer.bind(this);\r\n    this.handleValidateAmount = this.handleValidateAmount.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleViewSplitted()\r\n  }\r\n\r\n  handleBuildNumberString(type) {\r\n    const { numberString } = this.state;\r\n    const maxLength = 7;\r\n\r\n    if (type === 'DEL') {\r\n      if (numberString.length !== 1) {\r\n        let newNumberString = numberString.slice(0, -1);\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === 'CLEAR') {\r\n      if (numberString !== '0') {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === '.') {\r\n      if (numberString.length > maxLength - 2) return;\r\n      if (numberString.indexOf('.') < '0') {\r\n        let newNumberString = numberString + '.';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '0') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '0';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '00') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 0) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '00';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else { // 9, 8, 7, 6, 5, 4, 3, 2, 1\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + type;\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: type\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSelectPaymentMethod(type) {\r\n    // early exit memberson\r\n    if (type.refType === 'P') {\r\n      const { numberString, selectedTable } = this.state;\r\n      let numberStringUpdate = '';\r\n      if (selectedTable.vipPtsMoney < selectedTable.balance) {\r\n        numberStringUpdate = Math.floor(selectedTable.vipPtsMoney);\r\n      } else {\r\n        numberStringUpdate = Math.floor(selectedTable.balance);\r\n      }\r\n      this.setState({\r\n        numberString: numberStringUpdate,\r\n        selectedPaymentMethod: type,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedPaymentMethod: type,\r\n    });\r\n    console.log(type);\r\n    this.handleRounding(type);\r\n  }\r\n\r\n  handleEnterButton() {\r\n    const { numberString, selectedPaymentMethod } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const decimal = 2;\r\n    if (!selectedPaymentMethod) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Missing Payment Method',\r\n          text: 'Please select a payment method',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    // if (numberStringVal === 0) {\r\n    //   return;\r\n    // }\r\n    // early exit memberson\r\n    if (selectedPaymentMethod.refType === 'P') {\r\n      if (!this.handleValidateAmount()) return;\r\n    }\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleAddPayment());\r\n  }\r\n\r\n  handleValidateAmount() {\r\n    const { numberString, selectedTable } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const isInteger = Number.isInteger(numberStringVal);\r\n    console.log('isInteger', isInteger, selectedTable.balance, selectedTable.vipPtsMoney);\r\n\r\n    if (!Number.isInteger(numberStringVal) || numberStringVal > selectedTable.balance || numberStringVal > selectedTable.vipPtsMoney) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Inappropriate Amount',\r\n          text: 'Enter an integer less than balance and redeemable',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      });\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  handleFinishButton() {\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleFinishPayment());\r\n  }\r\n\r\n  handleFinishPayment(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, cashierPrinters, settings, paymentMethods, selectedTable, payments } = this.state;\r\n\r\n    if (payments.some(el => paymentMethods.find(item => item.pmId === el.pmId && item.refFlg === 'Y') && !el.payRef)) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK PAYMENT REFERENCE',\r\n        loading: false,\r\n      });\r\n      return;\r\n    }\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'FINISH PAYMENT',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUnsplitBill() {\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unsplit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unsplit Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n        this.handleViewSplitted();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPaymentItem(item) {\r\n    if (item.pmId === 'PAYNOW') {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressPaymentItemRef(item) {\r\n    this.setState({\r\n      selectedPaymentItem: item,\r\n      overlayInputReferenceVisible: true,\r\n    });\r\n  }\r\n\r\n  handlePressDeletePaymentItem(item) {\r\n    this.setState({\r\n      selectedPaymentItem: item,\r\n    });\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleDeletePayment' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: 'Delete payment of ' + Number(item.payMoney).toFixed(2) + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleDeletePayment() {\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAddPayment() {\r\n    const { serviceEntry, home, settings, paymentMethods, selectedPaymentMethod, selectedTable, pay, numberString } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/add-payment';\r\n    console.log('here debug', Number(numberString));\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      pmId: selectedPaymentMethod.pmId,\r\n      payAmt: Number(numberString),\r\n      roundAmt: Number(selectedTable.balance - pay).toFixed(2),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post add-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Add Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          loading: false,\r\n          selectedTable: response.opentable,\r\n          selectedPaymentMethod: null,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        }, () => {\r\n          this.handleRounding(paymentMethods.find(el => el.pmId === selectedPaymentMethod.pmId))\r\n          this.handleAfterAddPayment();\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAfterAddPayment() {\r\n    const { home, selectedTable, payments } = this.state;\r\n    const found = payments.find(el => el.pmId === 'PAYNOW');\r\n    if (found) {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n        overlayPaynowInput: {\r\n          amount: found.payMoney.toFixed(2),\r\n          reference: home.shopId + '-' + selectedTable.docNo,\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  handleRounding(type) {\r\n    console.log(type);\r\n    const { selectedTable } = this.state;\r\n    const { numberString } = this.state;\r\n    const decimal = 2;\r\n    let number = Number(selectedTable.balance);\r\n\r\n    if (type.roundingFlg === 'N') {\r\n      this.setState({\r\n        pay: number,\r\n        numberString: number.toFixed(decimal).toString(),\r\n      });\r\n      return;\r\n    }\r\n\r\n    switch (type.roundType) {\r\n      case '0': // 4 down 5 up\r\n        console.log('case 0');\r\n        // number = Math.round(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '1': // ceiling\r\n        console.log('case 1');\r\n        number = Math.ceil(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '2': // floor 5\r\n        console.log('case 2');\r\n        number = Math.floor(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '3': // floor\r\n        console.log('case 3');\r\n        number = Math.floor(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '4': // closest 5\r\n        console.log('case 4');\r\n        number = Math.round(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '5':\r\n        console.log('legacy case 5 not in use');\r\n        break;\r\n      case '6':\r\n        console.log('legacy case 6 not in use');\r\n        break;\r\n    }\r\n  }\r\n\r\n  handlePressTips() {\r\n    this.setState({\r\n      overlayUpdateTipsVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSplit() {\r\n    this.setState({\r\n      overlaySplitBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnsplit() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUnsplitBill' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Unsplit Bill',\r\n        text: 'Unsplit Bill for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressMerge() {\r\n    this.setState({\r\n      overlayMergeBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnmerge(printer) {\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'UNMERGE BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unmerge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unmerge-bill successful', response.opentable);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unmerge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleViewSplitted() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/splitted-receipts';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get splitted-receipts successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          splitReceipts: response?.filter(el => el.recKey > 0),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, cashierPrinters, privileges, settings, selectedTable } = this.state;\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'OPEN DRAWER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'handleDeletePayment') {\r\n      this.handleDeletePayment();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    } else if (text === 'handleUnsplitBill') {\r\n      this.handleUnsplitBill();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromPaynow(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayPaynowVisible: false,\r\n      });\r\n      return;\r\n    }\r\n  }\r\n\r\n  handleUpdateFromInputReference(text) {\r\n    this.setState({ overlayInputReferenceVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/payment-reference';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n      ref: text,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post payment-reference successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Payment Reference',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplitBill(number, type) {\r\n    if (!number) {\r\n      this.setState({ overlaySplitBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-split-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      splitCount: number,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-split-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Split Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'ITEM') {\r\n          this.setState({\r\n            splitting: true,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else if (type === 'AMOUNT') {\r\n          this.setState({\r\n            overlaySplitAmountVisible: true,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else {\r\n\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplit(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            selectedTable: response.opentable,\r\n            overlaySplitBillVisible: false,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceipts: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          itemPercentages: el.receiptItems.map(obj => ({\r\n            itemRecKey: obj.recKey,\r\n            percentage: obj.percentage,\r\n          }))\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromSplitAmount(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    this.setState({\r\n      overlaySplitAmountVisible: false,\r\n    });\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt-byamt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceiptsByamt: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          amt: el.amount,\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromMergeBill(table, printer) {\r\n    if (!table) {\r\n      this.setState({ overlayMergeBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      opentableRecKeyGuest: table.recKey,\r\n      iomodelId: printer && printer.iomodelId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            table.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n          overlayMergeBillVisible: false,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromUpdateTips(number, method) {\r\n    this.setState({ overlayUpdateTipsVisible: false });\r\n    if (!number) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-tips';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      tips: Number(number).toFixed(2),\r\n      pmId: method?.pmId || '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-tips successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Tips',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            `${number},${method?.pmId}`,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromViewSplitted(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayViewSplittedVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n        loading: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'UNMERGE BILL') {\r\n      this.handlePressUnmerge(printer);\r\n    } else if (purpose === 'FINISH PAYMENT') {\r\n      this.handleFinishPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.handleOpenDrawer(printer);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege, settings, selectedPrinter, selectedTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.handleOpenDrawer(selectedPrinter, response.userId);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  doLayout(e) {\r\n    this.setState({\r\n      keyHeight: e.nativeEvent.layout.height,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, cashierPrinters, settings, selectedTable,\r\n      overlayInputReferenceVisible, overlayMergeBillVisible, overlaySplitBillVisible, overlayUpdateTipsVisible,\r\n      overlaySplitAmountVisible, overlayViewSplittedVisible, overlayRequestAccessVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayPaynowVisible, overlayPaynowInput,\r\n      numberString, paymentMethods, payments, selectedPaymentMethod, pay,\r\n      splitting, availableReceipts, splitReceipts, tableItems, requestedPrivilege,\r\n      selectedPrinter, printPurpose, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible, loading,\r\n      keyHeight,\r\n    } = this.state;\r\n\r\n    console.log('in pos');\r\n\r\n    if (splitting) {\r\n      return (\r\n        <Split\r\n          serviceEntry={serviceEntry}\r\n          home={home}\r\n          selectedTable={selectedTable}\r\n          availableReceipts={availableReceipts}\r\n          tableItems={tableItems}\r\n          cashierPrinters={cashierPrinters}\r\n          handleUpdateFromSplit={this.handleUpdateFromSplit} />\r\n      );\r\n    }\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayInputReferenceVisible &&\r\n          <OverlayInputReference\r\n            handleUpdateFromInputReference={this.handleUpdateFromInputReference} />\r\n        }\r\n        {\r\n          overlayMergeBillVisible &&\r\n          <OverlayMergeBill\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            cashierPrinters={cashierPrinters}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeBill={this.handleUpdateFromMergeBill} />\r\n        }\r\n        {\r\n          overlaySplitBillVisible &&\r\n          <OverlaySplitBill\r\n            handleUpdateFromSplitBill={this.handleUpdateFromSplitBill} />\r\n        }\r\n        {\r\n          overlaySplitAmountVisible &&\r\n          <OverlaySplitAmount\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromSplitAmount={this.handleUpdateFromSplitAmount} />\r\n        }\r\n        {\r\n          overlayViewSplittedVisible &&\r\n          <OverlayViewSplitted\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            handleUpdateFromViewSplitted={this.handleUpdateFromViewSplitted} />\r\n        }\r\n        {\r\n          overlayUpdateTipsVisible &&\r\n          <OverlayUpdateTips\r\n            paymentMethods={paymentMethods}\r\n            handleUpdateFromUpdateTips={this.handleUpdateFromUpdateTips} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayPaynowVisible &&\r\n          <OverlayPaynow\r\n            home={home}\r\n            input={overlayPaynowInput}\r\n            handleUpdateFromPaynow={this.handleUpdateFromPaynow} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.leftFirstContainer}>\r\n            <View style={styles.rowOf5}\r\n              onLayout={(e) => this.doLayout(e)}>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => navigation.goBack()}>\r\n                <Text style={[styles.headerKeyTextTableId,]}>{selectedTable.tableId}</Text>\r\n                <Text style={[styles.headerKeyText, { marginTop: 0 }]}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.headerKeyContainer, (selectedTable.splitFlg === 'Y') && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressTips()}\r\n                disabled={selectedTable.splitFlg === 'Y'}>\r\n                <AntDesign name='like2' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('tips')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => this.handleOpenDrawer()}>\r\n                <AntDesign name='laptop' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('drawer')}</Text>\r\n              </TouchableOpacity>\r\n              {\r\n                selectedTable.splitFlg === 'Y' ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnsplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unsplit')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressSplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('splitbill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n              {\r\n                selectedTable.hostFlg === 'Y' || selectedTable.refTableId\r\n                  ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnmerge()}>\r\n                    <AntDesign name='menuunfold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unmerge')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={[styles.headerKeyContainer, selectedTable.splitFlg === 'Y' && { opacity: 0.2 }]}\r\n                    disabled={selectedTable.splitFlg === 'Y'}\r\n                    onPress={() => this.handlePressMerge()}>\r\n                    <AntDesign name='menufold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('mergebill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n          <View style={styles.leftSecondContainer}>\r\n            <View style={styles.tableSummaryContainer}>\r\n              <View style={styles.tableSummaryTitleContainer}>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('beforedisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('totaldisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('servicecharge')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tax')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tips')} {selectedTable.tipsPmId}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.reserved }]}>{intl.get('grandtotal')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.paid }]}>{intl.get('pay')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('balance')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tender')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('change')}</Text>\r\n                </View>\r\n              </View>\r\n              <View style={styles.tableSummaryValueContainer}>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.beforeDisc ? selectedTable.beforeDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalDisc ? selectedTable.totalDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.serviceCharge ? selectedTable.serviceCharge.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalTax ? selectedTable.totalTax.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tips ? selectedTable.tips.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.reserved }]}>{selectedTable.grandTotal.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.paid }]}>{pay.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.balance.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tender.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.change.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n            <ScrollView\r\n              style={{ maxHeight: 30, }}\r\n              horizontal={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                selectedTable.vipId &&\r\n                <View\r\n                  style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{selectedTable.vipId || '-'}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.reserved, }}>{selectedTable.vipName || '-'}</Text>\r\n                </View>\r\n              }\r\n              {\r\n                splitReceipts && splitReceipts.map(item =>\r\n                  <View key={item.recKey.toString()}\r\n                    style={{ flexDirection: 'row', flex: 1, alignItems: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{item.docId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', }}>{item.grandTotal ? item.grandTotal.toFixed(2) : '-'}</Text>\r\n                  </View>)\r\n              }\r\n            </ScrollView>\r\n            <View style={{ flex: 1, backgroundColor: theme.grey3, borderRadius: 5 }}>\r\n              <View style={styles.paymentsContainer}>\r\n                <View style={styles.paymentsFirst}><Text style={styles.paymentsTitleText}>No.</Text></View>\r\n                <View style={styles.paymentsSecond}><Text style={styles.paymentsTitleText}>Payment ID</Text></View>\r\n                <View style={styles.paymentsThird}><Text style={styles.paymentsTitleText}>Ref</Text></View>\r\n                <View style={styles.paymentsFourth}><Text style={styles.paymentsTitleText}>Amount</Text></View>\r\n                <View style={styles.paymentsZero}></View>\r\n              </View>\r\n              <ScrollView\r\n                style={{ flex: 1 }}\r\n                ref={ref => this.posScrollView = ref}\r\n                onContentSizeChange={(contentWidth, contentHeight) => {\r\n                  this.posScrollView.scrollToEnd({ animated: true });\r\n                }}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  payments.map((item, index) => (\r\n                    <View style={styles.datumContainer} key={index}>\r\n                      <View style={styles.datumFirst}><Text style={styles.datumText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={styles.datumSecond} onPress={() => this.handlePressPaymentItem(item)}>\r\n                        <Text style={styles.datumText}>{item.name}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.datumThird} onPress={() => this.handlePressPaymentItemRef(item)}>\r\n                        <Text style={styles.datumText}>{item.payRef}</Text>\r\n                      </TouchableOpacity>\r\n                      <View style={styles.datumFourth}><Text style={styles.datumText}>{item.payMoney.toFixed(2)}</Text></View>\r\n                      <TouchableOpacity style={styles.datumZero}\r\n                        onPress={() => this.handlePressDeletePaymentItem(item)}>\r\n                        <AntDesign name='close' size={18} color={theme.paid} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  ))\r\n                }\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightFirstContainer}>\r\n            <FlatList\r\n              style={{ flex: 3 }}\r\n              showsVerticalScrollIndicator={false}\r\n              numColumns={5}\r\n              data={paymentMethods}\r\n              extraData={selectedPaymentMethod}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => {\r\n                if (keyHeight) return (\r\n                  <View style={{ flex: 1 / 5, height: keyHeight }}>\r\n                    <TouchableOpacity\r\n                      style={[item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyContainer : styles.functionKeyContainer, item.pmId ? null : { opacity: 0.2 },]}\r\n                      onPress={() => this.handleSelectPaymentMethod(item)}>\r\n                      <Image\r\n                        style={{ flex: 1, aspectRatio: 1 }}\r\n                        source={{\r\n                          uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.pmId + '&t=' + item.lastupdate\r\n                        }}\r\n                      />\r\n                      <View style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, alignItems: 'center', justifyContent: 'center', }}>\r\n                        <Text style={item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyText : styles.functionKeyText}>{item.pmId}</Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )\r\n              }}\r\n            />\r\n          </View>\r\n          <View style={styles.rightFirstNumberContainer}>\r\n            <Text style={styles.rightFirstNumberText}>{numberString}</Text>\r\n          </View>\r\n          <View style={styles.rightSecondContainer}>\r\n            <View style={styles.rightSecondLeftContainer}>\r\n              <TouchableOpacity style={styles.clearContainer} onPress={() => this.handleBuildNumberString('CLEAR')}>\r\n                <Text style={styles.keyText}>\r\n                  CLEAR\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.rightSecondMiddleContainer}>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('7')}>\r\n                  <Text style={styles.keyNumberText}>7</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('4')}>\r\n                  <Text style={styles.keyNumberText}>4</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('1')}>\r\n                  <Text style={styles.keyNumberText}>1</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('0')}>\r\n                  <Text style={styles.keyNumberText}>0</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('8')}>\r\n                  <Text style={styles.keyNumberText}>8</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('5')}>\r\n                  <Text style={styles.keyNumberText}>5</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('2')}>\r\n                  <Text style={styles.keyNumberText}>2</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('.')}>\r\n                  <Text style={styles.keyNumberText}>.</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('9')}>\r\n                  <Text style={styles.keyNumberText}>9</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('6')}>\r\n                  <Text style={styles.keyNumberText}>6</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('3')}>\r\n                  <Text style={styles.keyNumberText}>3</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('00')}>\r\n                  <Text style={styles.keyNumberText}>00</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.rightSecondRightContainer}>\r\n              <TouchableOpacity style={styles.backspaceContainer} onPress={() => this.handleBuildNumberString('DEL')}>\r\n                {/* <Ionicons name='ios-arrow-round-back' size={48} color='white' /> */}\r\n                <Text style={styles.keyText}>\r\n                  DEL\r\n                </Text>\r\n              </TouchableOpacity>\r\n              {\r\n                (selectedTable.balance === 0 && !selectedPaymentMethod) ?\r\n                  <TouchableOpacity style={[styles.finishContainer, loading && { opacity: 0.2 }]}\r\n                    disabled={loading}\r\n                    onPress={() => this.handleFinishButton()}>\r\n                    {/* <Ionicons name='ios-arrow-up' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      FINISH\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={[styles.enterContainer, loading && { opacity: 0.2 }]}\r\n                    disabled={loading}\r\n                    onPress={() => this.handleEnterButton()}>\r\n                    {/* <Ionicons name='ios-return-left' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      ENTER\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight2 = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    padding: 5,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n  },\r\n  leftFirstContainer: {\r\n    // backgroundColor: 'blue',\r\n    flex: 1,\r\n  },\r\n  leftSecondContainer: {\r\n    flex: 7,\r\n    margin: 5,\r\n  },\r\n  rightFirstContainer: {\r\n    flex: 3,\r\n  },\r\n  rightSecondContainer: {\r\n    flex: 4,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondLeftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightSecondMiddleContainer: {\r\n    flex: 3,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondRightContainer: {\r\n    flex: 1,\r\n  },\r\n  rowOf5: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightFirstNumberContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tableSummaryContainer: {\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'row',\r\n    // backgroundColor: 'brown',\r\n    marginHorizontal: 60,\r\n    marginTop: 10,\r\n    marginBottom: 20,\r\n  },\r\n  tableSummaryTitleContainer: {\r\n    alignItems: 'flex-start',\r\n    // backgroundColor: 'green'\r\n  },\r\n  tableSummaryValueContainer: {\r\n    alignItems: 'flex-end',\r\n    // backgroundColor: 'blue'\r\n  },\r\n  tableSummaryTitle: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n    // backgroundColor:'red'\r\n  },\r\n  tableSummaryValue: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  tableSummaryTitleText: {\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n    color: 'white',\r\n  },\r\n  tableSummaryValueText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  keyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backspaceContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  enterContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.reserved,\r\n  },\r\n  finishContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.occupied,\r\n    borderRadius: 5,\r\n    borderWidth: 2,\r\n    borderColor: 'white',\r\n  },\r\n  clearContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.paid,\r\n  },\r\n  functionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  activeFunctionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'white',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyTextTableId: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 24,\r\n  },\r\n  headerKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 12,\r\n  },\r\n  keyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  keyNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  functionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  activeFunctionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'black',\r\n    textAlign: 'center',\r\n  },\r\n  rightFirstNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 64,\r\n  },\r\n  paymentsContainer: {\r\n    height: 30,\r\n    // backgroundColor: 'white',\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n  },\r\n  dataContainer: {\r\n    flex: 1,\r\n  },\r\n  paymentsFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  paymentsSecond: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsThird: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  paymentsZero: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paymentsTitleText: {\r\n    color: theme.grey5,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  datumFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  datumSecond: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  datumThird: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  datumFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  datumZero: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  datumText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  datumContainer: {\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySettleAdhoc extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menus: props.menus,\r\n      availableMenus: props.menus,\r\n\r\n      overlaySearchText: '',\r\n    };\r\n\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { menus, availableMenus } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', availableMenus);\r\n\r\n    availableMenusUpdate = menus;\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuId.toUpperCase().includes(caseText) || item.menuName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handleSubmit(item) {\r\n    this.props.handleUpdateFromSettleAdhoc(item);\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableMenus,\r\n    } = this.state;\r\n    console.log('in overlaysettleadhoc, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Settle Adhoc</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromSettleAdhoc()}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableMenus}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.menuId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.menuName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                    <Text style={[styles.overlayGridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n  Platform,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport OverlaySettleAdhoc from './OverlaySettleAdhoc';\r\nimport OverlayScanBarcode from './OverlayScanBarcode';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Adhoc extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      working: false,\r\n      searchText: '',\r\n      artifacts: [],\r\n      selectedAdhocItem: null,\r\n      selectedTableItem: null,\r\n      availableMenus: props.route.params.masters.menus.filter(menu => menu.menuType === 'X'),\r\n\r\n      overlaySettleAdhocVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayScanBarcodeVisible: false,\r\n    };\r\n\r\n    this.pageObject = null;\r\n    this.handleUpdateFromSettleAdhoc = this.handleUpdateFromSettleAdhoc.bind(this);\r\n    this.handleUpdateFromScanBarcode = this.handleUpdateFromScanBarcode.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n\r\n    if (selectedTable) this.handlePressTable();\r\n\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n  }\r\n\r\n  didFocus() {\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (selectedTable) this.handlePressTable();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  doReload() {\r\n    console.log('reload');\r\n\r\n    const { working } = this.state;\r\n    if (working) {\r\n      console.log('currently working');\r\n      // early return\r\n      return;\r\n    }\r\n\r\n    const { searchText } = this.state;\r\n    if (!searchText) {\r\n      console.log('search text empty');\r\n      // early return\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      artifacts: [] // reset  \r\n    }, () => {\r\n      // reset\r\n      this.pageObject = null;\r\n      // load\r\n      this.doLoad();\r\n    });\r\n  }\r\n\r\n  doLoad() {\r\n    console.log('load');\r\n\r\n    const { route } = this.props;\r\n    const { working, home, serviceEntry } = this.state;\r\n\r\n    if (working) {\r\n      console.log('currently working');\r\n      // early return\r\n      return;\r\n    }\r\n\r\n    // check page\r\n    if (this.pageObject\r\n      && this.pageObject.number + 1 === this.pageObject.totalPages) { // last page reached\r\n      console.log('last page reached');\r\n      // early return\r\n      return;\r\n    }\r\n\r\n    const pageIndex = this.pageObject\r\n      ? (this.pageObject.number + 1) // next page\r\n      : 0; // fresh page\r\n\r\n    // mark\r\n    this.setState({\r\n      working: true\r\n    }, () => {\r\n      let url = serviceEntry + 'api/search-sku';\r\n      const params = new URLSearchParams();\r\n      params.append('orgId', home.orgId);\r\n      params.append('locId', home.locId);\r\n      params.append('userId', home.userId);\r\n      params.append('searchInput', this.state.searchText);\r\n      params.append('page', pageIndex || 0);\r\n      params.append('size', 20);\r\n\r\n      url += ('?' + params);\r\n      console.log(url)\r\n      fetch(url, {\r\n        method: 'GET'\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          // console.log('response', response);\r\n          const remotePage = response.content;\r\n          delete (response.content);\r\n          this.pageObject = response;\r\n          // console.log('pageObject', this.pageObject);\r\n\r\n          // update\r\n          const existingList = this.state.artifacts;\r\n          const newList = existingList.splice(0);\r\n          // append\r\n          newList.push(...remotePage);\r\n          // console.log('newList', newList);\r\n\r\n          // to state\r\n          this.setState({\r\n            artifacts: newList,\r\n            working: false\r\n          });\r\n        })\r\n        .catch(error => {\r\n          console.log('error loading', error);\r\n          // reset\r\n          this.setState({\r\n            working: false\r\n          });\r\n        });\r\n\r\n    });\r\n  }\r\n\r\n  doChangeText(text) {\r\n    const { searchText } = this.state;\r\n    // console.log('changed', searchText.length, text.length, text)\r\n    if (text.length - searchText.length > 3) {\r\n      // scanning\r\n      this.setState({\r\n        searchText: text.replace(searchText, ''),\r\n      }, () => {\r\n        this.searchTextInput.blur();\r\n        this.doReload();\r\n      })\r\n    } else {\r\n      // typing\r\n      this.setState({\r\n        searchText: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doClearSearch() {\r\n    this.setState({\r\n      artifacts: [],\r\n      searchText: '',\r\n    })\r\n    this.pageObject = null;\r\n    this.searchTextInput.focus();\r\n  }\r\n\r\n  handlePressTable() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, preference, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey;\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (!response.opentable) {\r\n          navigation.goBack();\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          adhocItems: response.opentableAdhocs,\r\n          overlaySettleAdhocVisible: false,\r\n        });\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doDeleteAdhoc') {\r\n      this.doDeleteAdhoc();\r\n    } else if (text === 'doRevertAdhoc') {\r\n      this.doRevertAdhoc();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromSettleAdhoc(item) {\r\n    if (!item) {\r\n      this.setState({\r\n        selectedAdhocItem: null,\r\n        overlaySettleAdhocVisible: false\r\n      });\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedAdhocItem } = this.state;\r\n    const settingPOSMODE = settings.find(el => el.setId === 'POSMODE')?.setString;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      restmenuRecKey: item.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      restmenuMod: (selectedTable.orderType === 'B' && settingPOSMODE === 'A') ? `*${intl.get('takeaway')}  ` : '',\r\n      orderType: selectedTable.orderType,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Settle Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedAdhocItem.name,\r\n            item.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable()\r\n      })\r\n\r\n  }\r\n\r\n  handleUpdateFromScanBarcode(text) {\r\n    if (!text) {\r\n      this.setState({ overlayScanBarcodeVisible: false });\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      vipId: home.vipId,\r\n      barcode: text,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post scan-barcode successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Scan Barcode',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable();\r\n      })\r\n  }\r\n\r\n  doPressDeleteAdhoc(item) {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doDeleteAdhoc' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Delete Adhoc',\r\n        text: `Delete ${item.name}?`,\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n      selectedAdhocItem: item,\r\n    })\r\n  }\r\n\r\n  doPressRevertAdhoc(item) {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doRevertAdhoc' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Revert Adhoc',\r\n        text: `Revert ${item.menuName}?`,\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n      selectedTableItem: item,\r\n    })\r\n  }\r\n\r\n  doPressSettleAdhoc(item) {\r\n    this.setState({\r\n      overlaySettleAdhocVisible: true,\r\n      selectedAdhocItem: item,\r\n    })\r\n  }\r\n\r\n  doDeleteAdhoc() {\r\n    const { serviceEntry, home, masters, settings, selectedAdhocItem, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-adhoc';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableAdhocRecKey: selectedAdhocItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-adhoc successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedAdhocItem.name,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedAdhocItem: null,\r\n        });\r\n        this.handlePressTable();\r\n      })\r\n  }\r\n\r\n  doRevertAdhoc() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/revert-adhoc';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post revert-adhoc successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Revert Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: null,\r\n        });\r\n        this.handlePressTable();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, selectedTable, adhocItems, tableItems,\r\n      working, artifacts, searchText,\r\n      availableMenus,\r\n      overlaySettleAdhocVisible, overlayScanBarcodeVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n    } = this.state;\r\n    console.log('in adhoc', artifacts && artifacts[0]);\r\n    const total = this.pageObject\r\n      ? this.pageObject.totalElements\r\n      : 0;\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayScanBarcodeVisible &&\r\n          <OverlayScanBarcode\r\n            handleUpdateFromScanBarcode={this.handleUpdateFromScanBarcode} />\r\n        }\r\n        {\r\n          overlaySettleAdhocVisible &&\r\n          <OverlaySettleAdhoc\r\n            menus={availableMenus}\r\n            handleUpdateFromSettleAdhoc={this.handleUpdateFromSettleAdhoc} />\r\n        }\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable?.tableId || '-'}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{intl.get('adhoc')}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Adhoc Item</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                  <View style={styles.titleZeroContainer}>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={adhocItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}\r\n                      onPress={() => this.doPressSettleAdhoc(item)}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.name}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.tableItemZeroContainer}\r\n                        onPress={() => this.doPressDeleteAdhoc(item)}>\r\n                        <AntDesign name='close' size={18} color={theme.paid} />\r\n                      </TouchableOpacity>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Table Item</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                  <View style={styles.titleZeroContainer}>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <View style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.tableItemZeroContainer}\r\n                        disabled={!(item.menuType === 'S' || item.menuType === 'X')}\r\n                        onPress={() => this.doPressRevertAdhoc(item)}>\r\n                        {\r\n                          (item.menuType === 'S' || item.menuType === 'X') &&\r\n                          <AntDesign name='man' size={18} color={theme.paid} />\r\n                        }\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    ref={(input) => { this.searchTextInput = input; }}\r\n                    autoCorrect={false}\r\n                    autoFocus={false}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onSubmitEditing={() => this.doReload()}\r\n                    onChangeText={text => this.doChangeText(text)}\r\n                    editable={!working}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => this.doClearSearch()}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{intl.get('pagination', { length: artifacts.length, total })}</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  key={total}\r\n                  style={{ flex: 1 }}\r\n                  data={artifacts}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid]}\r\n                      disabled={!selectedTable || selectedTable?.statusFlg !== 'C'}\r\n                      onPress={() => this.handleUpdateFromScanBarcode(item.stkId)}>\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={[styles.gridFirstLeftText, { color: theme.paid }]}>{item.stkId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.uomId} @ {item.retailListPrice.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.name}\r\n                        </Text>\r\n                      </View>\r\n                      <Text style={[styles.gridFirstLeftText, { color: theme.reserved }]}>{item.model}</Text>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.remark}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                  onEndReachedThreshold={0.4}\r\n                  onEndReached={() => this.doLoad()}\r\n                  windowSize={300}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable?.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n                disabled={!selectedTable || selectedTable?.statusFlg !== 'C'}\r\n                onPress={() => this.setState({ overlayScanBarcodeVisible: true })}>\r\n                <Ionicons name='barcode-outline' size={38} color={'white'} style={{ height: 36, width: 36 }} />\r\n                <Text style={[styles.buttonText]}>{intl.get('barcode')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, (Platform.OS === 'web' || !selectedTable || selectedTable?.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n                disabled={Platform.OS === 'web' || !selectedTable || selectedTable?.statusFlg !== 'C'}\r\n                onPress={() => navigation.navigate('Scan', { home, serviceEntry, masters, selectedTable })}>\r\n                <AntDesign\r\n                  name='camerao'\r\n                  color={'white'}\r\n                  size={36}\r\n                  style={{ height: 36, width: 36 }}\r\n                />\r\n                <Text style={[styles.buttonText]}>{intl.get('camera')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemZeroContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleZeroContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  FlatList, TextInput,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Dayclose extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      dayclosePayments: props.route.params.dayclosePayments,\r\n      daycloseSubPayments: props.route.params.daycloseSubPayments,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      total: props.route.params.dayclosePayments.reduce((init, obj) => { return init + obj.systemAmt }, 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }),\r\n      focused: null,\r\n    };\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n\r\n    this.handleFinishDayclose = this.handleFinishDayclose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleFinishDayclose(printer);\r\n  }\r\n\r\n  handleFinishDayclose(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, dayclosePayments, daycloseSubPayments, cashierPrinters } = this.state;\r\n    if (dayclosePayments.length === 0) {\r\n      return;\r\n    }\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/finish-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      daycloseRecKey: dayclosePayments[0].masRecKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      verify: dayclosePayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n      subVerify: daycloseSubPayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Dayclose',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  doChangeText(item, text) {\r\n    const { dayclosePayments, daycloseSubPayments } = this.state;\r\n    const found = dayclosePayments.find(el => el.pmId === item.pmId);\r\n    this.setState({\r\n      [item.recKey]: text,\r\n      [found.recKey]: daycloseSubPayments.filter(el => el.pmId === item.pmId && el.recKey !== item.recKey).reduce((init, el) => {\r\n        return init + (this.state[el.recKey] || 0) * el.pmValue\r\n      }, Number(text) * item.pmValue)\r\n    })\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { focused, dayclosePayments, daycloseSubPayments } = this.state;\r\n    const found = daycloseSubPayments.find(el => el.recKey === focused);\r\n    if (item === 'CLEAR') {\r\n      this.doChangeText(found, '0')\r\n    } else if (Number(this.state[focused]) === 0) {\r\n      this.setState({ [focused]: item })\r\n      this.doChangeText(found, item)\r\n    } else {\r\n      this.doChangeText(found, (this.state[focused] || '') + item)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { settings, dayclosePayments, daycloseSubPayments, cashierPrinters, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible,\r\n      total, focused } = this.state;\r\n    const settingDAYCLOSEVERIFY = settings.find(el => el.setId === 'DAYCLOSEVERIFY')?.setString;\r\n    console.log('in dayclose', focused);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='DAY-END CLOSE'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>BACK</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Day-end Closing</Text>\r\n            <Text style={styles.overlayTitleText}>{dayclosePayments.length} PAYMENT METHODS</Text>\r\n          </View>\r\n          {\r\n            settingDAYCLOSEVERIFY === 'N' &&\r\n            <View style={styles.summary}>\r\n              <Text style={styles.summaryText}>TOTAL</Text>\r\n              <Text style={styles.summaryTotalText}>{total}</Text>\r\n            </View>\r\n          }\r\n          <View style={styles.searchBoxInfo}>\r\n            <View style={styles.titleFirstContainer}>\r\n              <Text style={styles.titleText}>Line No.</Text>\r\n            </View>\r\n            <View style={styles.titleSecondContainer}>\r\n              <Text style={styles.titleText}>Payment ID</Text>\r\n            </View>\r\n            <View style={styles.titleThirdContainer}>\r\n              <Text style={styles.titleText}>Payment Name</Text>\r\n            </View>\r\n            <View style={styles.titleFourthContainer}>\r\n              <Text style={styles.titleText}>Amount</Text>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            data={dayclosePayments}\r\n            showsVerticalScrollIndicator={false}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <>\r\n                <View style={[styles.tableItemContainer, (Number(this.state[item.recKey] || 0).toFixed(2) !== (item.systemAmt + item.floatAmt).toFixed(2) && daycloseSubPayments.some(el => el.pmId === item.pmId) && settingDAYCLOSEVERIFY === 'Y') && { backgroundColor: theme.paid }]}>\r\n                  <View style={styles.tableItemFirstContainer}>\r\n                    <Text style={styles.tableItemText}>{item.lineNo}</Text>\r\n                  </View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.pmId}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemFourthContainer}>\r\n                    {\r\n                      (settingDAYCLOSEVERIFY === 'Y' && daycloseSubPayments.some(obj => obj.pmId === item.pmId)) ?\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {(this.state[item.recKey] || 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                        :\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                {\r\n                  daycloseSubPayments.filter(el => el.pmId === item.pmId).map(el =>\r\n                    <View key={el.recKey.toString()}\r\n                      style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}>\r\n                        <Text style={styles.tableItemText}></Text>\r\n                      </View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, justifyContent: 'center' }}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {el.subPmId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, }}>\r\n                        <View style={[styles.inputRowRight, { marginRight: 10 }, focused === el.recKey && { backgroundColor: theme.reserved }]}>\r\n                          <TextInput style={[styles.textInput, focused === el.recKey && { color: 'black' }]}\r\n                            keyboardType='numeric'\r\n                            selectTextOnFocus={true}\r\n                            value={this.state[el.recKey] || '0'}\r\n                            onChangeText={text => this.doChangeText(el, text)}\r\n                            onFocus={() => this.setState({ focused: el.recKey })}\r\n                          />\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {(el.pmValue * Number(this.state[el.recKey] || 0)).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={[styles.containerThird]}>\r\n          <View style={{ flex: 1, }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleFinishDayclose()}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>DAY CLOSE</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View>\r\n            {\r\n              focused &&\r\n              <FlatList\r\n                data={['1', '2', '3', '4', '5', '6', '7', '8', '9', 'CLEAR', '0']}\r\n                scrollEnabled={false}\r\n                showsVerticalScrollIndicator={false}\r\n                numColumns={3}\r\n                keyExtractor={(item, index) => index.toString()}\r\n                renderItem={({ item }) => (\r\n                  <View style={{ flex: 1 / 3, aspectRatio: 1 }}>\r\n                    <TouchableOpacity style={{ margin: 2.5, flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: 'black', borderRadius: 5, }}\r\n                      onPress={() => this.doPressKey(item)}>\r\n                      {\r\n                        item === 'CLEAR' ?\r\n                          <AntDesign name='close' color='white' size={18} />\r\n                          :\r\n                          <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 18, }}>{item}</Text>\r\n                      }\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )}\r\n              />\r\n            }\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  titleFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 20,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  summary: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  summaryTotalText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    color: theme.reserved,\r\n    textAlign: 'center',\r\n  },\r\n  summaryText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Printer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printers: [],\r\n      loading: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home, serviceEntry } = this.state;\r\n    let url = serviceEntry + 'api/iomodels';\r\n    const params = new URLSearchParams();\r\n    params.append('posNo', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('iomodels', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          printers: response,\r\n        }, () => this.handlePingAll())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingPrinter(item) {\r\n    const { serviceEntry, printers } = this.state;\r\n\r\n    let printersUpdate0 = printers;\r\n    printersUpdate0.find(el => el.recKey === item.recKey).statusFlg = 'PING...';\r\n    this.setState({\r\n      printers: printersUpdate0,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/iomodels/' + item.recKey;\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('ping iomodel', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        let printersUpdate = printers;\r\n        if (response.msgId === 'OK') {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'ONLINE';\r\n        } else {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'OFFLINE';\r\n        }\r\n        this.setState({\r\n          printers: printersUpdate,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPingAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handlePingAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Ping All Printers',\r\n        text: 'Send ping to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressTestAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleTestAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Test All Printers',\r\n        text: 'Send test command to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handleTestAll() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/test-printer';\r\n    const params = new URLSearchParams();\r\n    params.append('userId', home.userId);\r\n    params.append('orgId', home.orgId);\r\n    params.append('locId', home.locId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET',\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post test-printer successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingAll() {\r\n    const { printers } = this.state;\r\n    printers.forEach(el => this.handlePingPrinter(el));\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleTestAll') {\r\n      this.handleTestAll();\r\n    } else if (text === 'handlePingAll') {\r\n      this.handlePingAll();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { printers, loading,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('in printers');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2 === 0) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}>\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          key={item.recKey}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}>\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressPingAll()}>\r\n                <AntDesign\r\n                  name='fork'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>PING {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressTestAll()}>\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('test')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayEnterDate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dateString: props.dateString ? moment(props.dateString).format('YYYY-MM-DD') : moment(new Date()).format('YYYY-MM-DD'),\r\n      valid: true,\r\n    }\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleValidate(dateString) {\r\n    this.setState({\r\n      dateString,\r\n      valid: moment(dateString, 'YYYY-MM-DD', true).isValid(),\r\n    });\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    const { dateString } = this.state;\r\n    if (type === 'PLUS') {\r\n      let dateStringUpdate = moment(dateString).add(1, 'days').format('YYYY-MM-DD');\r\n\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      let dateStringUpdate = moment(dateString).subtract(1, 'days').format('YYYY-MM-DD');\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { dateString, valid } = this.state;\r\n    console.log('in overlayenterdate', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Enter Date</Text>\r\n          </View>\r\n          <View style={styles.inputRow}>\r\n            <TouchableOpacity style={styles.inputRowFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.inputRowSecond}>\r\n              <TextInput style={[styles.textInput, !valid && { color: theme.paid }]}\r\n                keyboardType='numeric'\r\n                value={dateString}\r\n                onChangeText={(dateString) => this.handleValidate(dateString)}\r\n              />\r\n            </View>\r\n            <TouchableOpacity style={styles.inputRowThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity onPress={() => this.setState({ dateString: moment().format('YYYY-MM-DD'), valid: true })}>\r\n            <Text style={styles.overlayText}>YYYY-MM-DD</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }, !valid && { opacity: 0.2 }]}\r\n            disabled={!valid}\r\n            onPress={() => this.props.handleUpdateFromEnterDate(dateString, this.props.dateType)}>\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromEnterDate('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    width: '100%',\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowFirst: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowSecond: {\r\n    flex: 1,\r\n    minWidth: 80,\r\n    width: 150,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowThird: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Report extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedButton: '',\r\n      fromDateString: moment().format('YYYY-MM-DD'),\r\n      toDateString: moment().format('YYYY-MM-DD'),\r\n      reportDetails: '',\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleSelectReport = this.handleSelectReport.bind(this);\r\n    this.handlePrintReport = this.handlePrintReport.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handlePressDate(type) {\r\n    const { fromDateString, toDateString } = this.state;\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n      selectedDateType: type,\r\n      selectedDateString: type === 'FROMDATE' ? fromDateString : toDateString,\r\n    })\r\n  }\r\n\r\n  handleSelectReport(report, superUserId) {\r\n    const { serviceEntry, home, privileges, fromDateString, toDateString } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === report)) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: report,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedButton: report,\r\n    });\r\n    console.log('report');\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: report,\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePrintReport(printer) {\r\n    const { home, serviceEntry, cashierPrinters, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    if (!selectedButton) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/print-bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, type) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    let fromDateStringUpdate = fromDateString;\r\n    let toDateStringUpdate = toDateString;\r\n\r\n    if (type === 'TODATE') {\r\n      toDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    } else {\r\n      fromDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    }\r\n\r\n    this.setState({\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handlePrintReport(printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSelectReport(requestedPrivilege, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, cashierPrinters,\r\n      selectedButton, reportDetails, requestedPrivilege,\r\n      fromDateString, toDateString, selectedDateString, selectedDateType,\r\n      overlayProcedureMessageVisible, overlayEnterDateVisible,\r\n      overlayChoosePrinterVisible, overlayRequestAccessVisible } = this.state;\r\n    console.log('in reports');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            dateType={selectedDateType}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='PRINT REPORT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUESUM' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUESUM')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>SUMMARY</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUEDTL' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUEDTL')}\r\n            >\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>DETAIL</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'COLLECTION' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('COLLECTION')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>PAYMENT</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>COLLECTION</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reports')}</Text>\r\n            <View style={styles.gap}></View>\r\n            <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('FROMDATE')}>\r\n                <Text style={styles.overlayTitleText}>{fromDateString}</Text>\r\n              </TouchableOpacity>\r\n              <Text style={styles.overlayTitleText}>    /    </Text>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('TODATE')}>\r\n                <Text style={styles.overlayTitleText}>{toDateString}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>\r\n              {selectedButton === 'REVENUESUM' ?\r\n                'REVENUE SUMMARY'\r\n                :\r\n                selectedButton === 'REVENUEDTL' ?\r\n                  'REVENUE DETAIL'\r\n                  :\r\n                  selectedButton === 'COLLECTION' ?\r\n                    'PAYMENT COLLECTION'\r\n                    : null}\r\n            </Text>\r\n          </View>\r\n          {\r\n            reportDetails ?\r\n              <ScrollView style={styles.reportContainer}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  reportDetails.map((item, index) =>\r\n                    <View style={styles.reportLineContainer}\r\n                      key={item.recKey}\r\n                    >\r\n                      <View style={styles.reportLineFirst}>\r\n                        <Text style={styles.reportLineFirstText}>{item.description}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineSecond}>\r\n                        <Text style={styles.reportLineSecondText}>{item.qty}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineThird}>\r\n                        <Text style={styles.reportLineThirdText}>{item.val ? item.val.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) : null}</Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </ScrollView>\r\n              : null\r\n          }\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button, !selectedButton && { opacity: 0.2 }]}\r\n              disabled={!selectedButton}\r\n              onPress={() => this.handlePrintReport()}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('print')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n    alignItems: 'center',\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  selection: {\r\n    width: '100%',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  reportContainer: {\r\n    flex: 1,\r\n    width: 440,\r\n    borderTopLeftRadius: 5,\r\n    borderTopRightRadius: 5,\r\n    backgroundColor: theme.grey2,\r\n    padding: 20,\r\n  },\r\n  reportLineContainer: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n  },\r\n  reportLineFirst: {\r\n    width: 240,\r\n  },\r\n  reportLineSecond: {\r\n    width: 60,\r\n  },\r\n  reportLineThird: {\r\n    width: 100,\r\n    alignItems: 'flex-end',\r\n  },\r\n  reportLineFirstText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineSecondText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineThirdText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, ScrollView,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class Reprint extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n\r\n      selectedButton: 'ORDERS',\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      searchText: '',\r\n      receiptsxText: '',\r\n\r\n      headers: '',\r\n      pays: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handlePressSearch = this.handlePressSearch.bind(this);\r\n    this.handleSelectButton = this.handleSelectButton.bind(this);\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleReprint = this.handleReprint.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/orders';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('orders', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response,\r\n          availableMasters: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSearch() {\r\n    const { serviceEntry, home, receiptsxText } = this.state;\r\n    this.setState({\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!receiptsxText) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/receipts-search';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('searchInput', receiptsxText);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas,\r\n          availableMasters: response.receiptmas,\r\n          searches: response.receiptpaydtl,\r\n          details: [],\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, mode) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton } = this.state;\r\n    let url = serviceEntry;\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (selectedButton === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    const dateString = mode === 'LEFT' ?\r\n      moment(text).subtract(1, 'days').format('YYYY-MM-DD')\r\n      : mode === 'RIGHT' ?\r\n        moment(text).add(1, 'days').format('YYYY-MM-DD')\r\n        : moment(text).format('YYYY-MM-DD');\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectButton(type) {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n\r\n    this.setState({\r\n      details: [],\r\n      selectedMaster: '',\r\n      selectedButton: type,\r\n      pays: '',\r\n      headers: '',\r\n    })\r\n\r\n    // early exit for RECEIPTSX \r\n    if (type === 'RECEIPTSX') {\r\n      this.setState({\r\n        masters: [],\r\n        availableMasters: [],\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    if (type === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (type === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (type === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry, selectedButton } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry;\r\n    console.log('item', selectedButton, item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + item.recKey + '/bundle';\r\n    } else {\r\n      url += 'api/daycloses/' + item.recKey + '/amts';\r\n    }\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n          this.setState({\r\n            details: response.receiptitems,\r\n            pays: response.receiptpays,\r\n            headers: response.receiptmas\r\n          });\r\n        } else {\r\n          this.setState({\r\n            details: response,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleReprint(printer) {\r\n    const { serviceEntry, home, cashierPrinters, selectedMaster, selectedButton } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    // console.log('item', item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + selectedMaster.recKey + '/reprint';\r\n    } else {\r\n      url += 'api/daycloses/' + selectedMaster.recKey + '/reprint';\r\n    }\r\n    console.log('debug', home.defaultPrinter);\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post reprint successful', response);\r\n\r\n        // to state\r\n\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || item.createUserId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleReprint(printer);\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { cashierPrinters, selectedButton, masters, availableMasters, details, searchText, receiptsxText,\r\n      selectedMaster, selectedDateString,\r\n      pays, headers,\r\n      overlayChoosePrinterVisible, overlayEnterDateVisible, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='REPRINT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <ScrollView\r\n                style={styles.selectionContainer}\r\n                alwaysBounceVertical={false}\r\n                showsVerticalScrollIndicator={false}>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'ORDERS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('ORDERS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'ORDERS' && { color: theme.grey1 }]}>ORDERS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                {/* <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'KOTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('KOTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'KOTS' && { color: theme.grey1 }]}>KOTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View> */}\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTS' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTSX' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTSX')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTSX' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                  <Text style={[styles.selectionText, { color: theme.paid }]}>UNKNOWN DATE</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'DAYCLOSES' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('DAYCLOSES')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'DAYCLOSES' && { color: theme.grey1 }]}>DAY CLOSES</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                {\r\n                  selectedButton !== 'RECEIPTSX' ?\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={searchText}\r\n                        onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                          Keyboard.dismiss()\r\n                        }}\r\n                      >\r\n                        <AntDesign name='close' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    :\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={receiptsxText}\r\n                        onChangeText={(text) => this.setState({ receiptsxText: text })}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.handlePressSearch();\r\n                          Keyboard.dismiss();\r\n                        }}\r\n                      >\r\n                        <AntDesign name='search1' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                }\r\n                <View style={styles.searchBoxInfo}>\r\n                  {\r\n                    selectedButton !== 'RECEIPTSX' &&\r\n                    <View style={{ flex: 1, flexDirection: 'row' }}>\r\n                      <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                        onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'LEFT')}>\r\n                        <AntDesign name=\"doubleleft\" size={14} color={theme.grey5} />\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                        onPress={() => this.handlePressDate()}>\r\n                        <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                        onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'RIGHT')}>\r\n                        <AntDesign name=\"doubleright\" size={14} color={theme.grey5} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  }\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{selectedButton === 'RECEIPTSX' && moment(item.createDate).format(\"YYYY-MM-DD \")}{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX' ?\r\n                  <View style={styles.gridContainer}>\r\n                    <View style={styles.overlayHeader}>\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </View>\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>Qty</Text>\r\n                      </View>\r\n                      <View style={styles.titleSecondContainer}>\r\n                        <Text style={styles.titleText}>Desc</Text>\r\n                      </View>\r\n                      <View style={styles.titleThirdContainer}>\r\n                        <Text style={styles.titleText}>Price</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Total</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={details}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item }) => (\r\n                        <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <TouchableOpacity style={styles.tableItemSecondContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.netPrice && item.netPrice.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>No.</Text>\r\n                      </View>\r\n                      <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                        <Text style={styles.titleText}>PM ID</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Amount</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={pays}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item, index }) => (\r\n                        <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                          <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.pmId}\r\n                            </Text>\r\n                            {\r\n                              item.payRef &&\r\n                              <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                                {item.payRef}\r\n                              </Text>\r\n                            }\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={{ flex: 1 }}>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>DISCOUNT</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={styles.gridContainer}>\r\n                    <TouchableOpacity style={styles.overlayHeader}\r\n                      onPress={() => this.setState({ selectedMaster: '', details: [] })}>\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </TouchableOpacity>\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                            <Text style={styles.titleText}>Payment Method</Text>\r\n                          </View>\r\n                          <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                            <Text style={styles.titleText}>Amount</Text>\r\n                          </View>\r\n                        </View>\r\n                        :\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={styles.titleFirstContainer}>\r\n                            <Text style={styles.titleText}>Qty</Text>\r\n                          </View>\r\n                          <View style={styles.titleSecondContainer}>\r\n                            <Text style={styles.titleText}>Desc</Text>\r\n                          </View>\r\n                          <View style={styles.titleThirdContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Price'}</Text>\r\n                          </View>\r\n                          <View style={styles.titleFourthContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Total'}</Text>\r\n                          </View>\r\n                        </View>\r\n                    }\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.pmId}\r\n                                </Text>\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  ${item.systemAmt && item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                        :\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                              <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.refRecKey ? '- ' : null}{item.menuName}\r\n                                </Text>\r\n                                {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemThirdContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.netPrice && item.netPrice.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.lineTotal && item.lineTotal.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                    }\r\n                  </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMaster && { opacity: 0.2 }]}\r\n                disabled={!selectedMaster}\r\n                onPress={() => this.handleReprint()}>\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView, FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Resequence extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      selectedTableItems: [],\r\n      arrangedItems: props.route.params.tableItems.filter(el => el.confirmFlg === 'N'),\r\n\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n    this.handleAddLineBreak = this.handleAddLineBreak.bind(this);\r\n    this.handleRemoveLineBreak = this.handleRemoveLineBreak.bind(this);\r\n    this.handleResequence = this.handleResequence.bind(this);\r\n    this.handleShiftTop = this.handleShiftTop.bind(this);\r\n    this.handleShiftUp = this.handleShiftUp.bind(this);\r\n    this.handleShiftDown = this.handleShiftDown.bind(this);\r\n    this.handleShiftBottom = this.handleShiftBottom.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('menu selected', item);\r\n    const { selectedTableItems, arrangedItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = [];\r\n    selectedTableItemsUpdate.push(item);\r\n    let comboItems = [];\r\n    comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n    console.log('comboItems', comboItems);\r\n    comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleReset() {\r\n    this.setState({\r\n      arrangedItems: this.state.tableItems.filter(el => el.confirmFlg === 'N'),\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleAddLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'Y';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleRemoveLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'N';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftTop() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.unshift(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToOffset({ animated: true, offset: 0 }));\r\n  }\r\n\r\n  handleShiftUp() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === 0) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index - 1;\r\n    if (arrangedItems[spliceIndex].refRecKey) {\r\n      spliceIndex = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === arrangedItems[index - 1].refRecKey));\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftDown() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === arrangedItems.length - selectedTableItems.length) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index + 1;\r\n    if (arrangedItemsUpdate.some(el => el.refRecKey === arrangedItemsUpdate[index].recKey)) {\r\n      let skip = arrangedItems.filter(el => el.refRecKey === arrangedItemsUpdate[index].recKey).length;\r\n      console.log('skip', skip);\r\n      spliceIndex += skip;\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftBottom() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.push(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToEnd());\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleResequence() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, tableItems, arrangedItems } = this.state;\r\n\r\n    // count sent table items\r\n    let skip = tableItems.filter(el => el.confirmFlg === 'Y').length;\r\n    console.log('skip', skip);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/resequence';\r\n    const itemPayloads = arrangedItems.map((el, index) =>\r\n    ({\r\n      opentableItemRecKey: el.recKey,\r\n      lineNo: el.lineNo,\r\n      newLineNo: index + 1 + skip,\r\n      lineBreak: el.lineBreak,\r\n    })\r\n    );\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post resequence successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Resequence Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, tableItems, arrangedItems, selectedTableItems,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in resequence', selectedTableItems, arrangedItems);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleReset()}>\r\n              <AntDesign name='reload1' size={36} color='white' />\r\n              <Text style={styles.buttonText}>Reset</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              !selectedTableItems[0] ?\r\n                <View style={[styles.button, { opacity: 0.2 }]}>\r\n                  <AntDesign name='minus' size={36} color='white' />\r\n                  <Text style={styles.buttonText}>Add Break</Text>\r\n                </View>\r\n                :\r\n                selectedTableItems[0].lineBreak === 'Y' ?\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleRemoveLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Remove Break</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleAddLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Add Break</Text>\r\n                  </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleResequence()}>\r\n              <AntDesign name='bars' size={36} color={theme.reserved} />\r\n              <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('resequence')}</Text>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={arrangedItems}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <View>\r\n                {\r\n                  item.lineBreak === 'Y' &&\r\n                  <View style={styles.lineBreakContainer}>\r\n                    <Text style={[styles.tableItemText, { color: theme.paid }]}>- Line Break -</Text>\r\n                  </View>\r\n                }\r\n                <TouchableOpacity\r\n                  disabled={item.refRecKey ? true : false}\r\n                  style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                  onPress={() => this.handleSelectTableItem(item)}>\r\n                  <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.refRecKey && '- '}{item.menuName}\r\n                    </Text>\r\n                    {\r\n                      item.menuMod &&\r\n                      <Text style={styles.tableItemModText}>{item.menuMod}</Text>\r\n                    }\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                    </Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftTop()}>\r\n              <AntDesign name='arrowup' size={36} color='white' />\r\n              <Text style={styles.buttonText}>TOP</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftUp()}>\r\n              <AntDesign name='up' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftDown()}>\r\n              <AntDesign name='down' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftBottom()}>\r\n              <AntDesign name='arrowdown' size={36} color='white' />\r\n              <Text style={styles.buttonText}>BOTTOM</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  lineBreakContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Transfer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      tableItems: props.route.params.tableItems,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      tables: [],\r\n      availableTables: [],\r\n      selectedTargetTable: '',\r\n      selectedTableItems: [],\r\n      searchText: '',\r\n\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTargetTable = this.handleSelectTargetTable.bind(this);\r\n    this.handlePressSelectAll = this.handlePressSelectAll.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.recKey !== selectedTable.recKey),\r\n          availableTables: response.filter(el => el.recKey !== selectedTable.recKey),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  generateTextForSelectAll() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return 'SELECT ALL';\r\n    } else {\r\n      return 'DESELECT ALL';\r\n    }\r\n  }\r\n\r\n  handlePressSelectAll() {\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    if (selectedTableItems.length === 0) {\r\n      this.setState({\r\n        selectedTableItems: tableItems.map(el => ({\r\n          ...el,\r\n          editOrderQty: el.orderQty,\r\n        })),\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedTableItems: [],\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTargetTable(item) {\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    })\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('tableitem selected', item);\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push({\r\n        ...item,\r\n        editOrderQty: item.orderQty,\r\n      });\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  doChangeQty(type, item) {\r\n    const { selectedTableItems, tableItems } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    let foundSelected = selectedTableItems.find(el => el.recKey === item.recKey);\r\n    let foundOriginal = tableItems.find(el => el.recKey === item.recKey);\r\n\r\n    if (type === 'PLUS') {\r\n      if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n        selectedTableItemsUpdate.push({\r\n          ...foundOriginal,\r\n          editOrderQty: foundOriginal.orderQty,\r\n        });\r\n        let comboItems = [];\r\n        comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n        // console.log('comboItems', comboItems);\r\n        comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n      } else {\r\n        if (Number(foundSelected.editOrderQty) < Number(foundOriginal.orderQty)) {\r\n          selectedTableItemsUpdate.find(el => el.recKey === item.recKey)['editOrderQty'] = Number(foundSelected.editOrderQty) + 1;\r\n        }\r\n      }\r\n\r\n    } else if (type === 'MINUS') {\r\n      if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n        // do nothing\r\n      } else {\r\n        console.log(foundSelected.editOrderQty, foundOriginal.orderQty)\r\n        if (Number(foundSelected.editOrderQty) > 1) {\r\n          selectedTableItemsUpdate.find(el => el.recKey === item.recKey)['editOrderQty'] = Number(foundSelected.editOrderQty) - 1;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.setState({ selectedTableItems: selectedTableItemsUpdate })\r\n  }\r\n\r\n  handleSubmit(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, selectedTableItems, selectedTargetTable, home, serviceEntry, privileges, settings } = this.state;\r\n\r\n    if (selectedTableItems.length === 0 || !selectedTargetTable) {\r\n      return;\r\n    }\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'TRANSFERITEMS')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/transfer-items';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKeyFrom: selectedTable.recKey,\r\n      opentableRecKeyTo: selectedTargetTable.recKey,\r\n      superUserId: superUserId,\r\n      itemPayloads: selectedTableItems.filter(el => !el.refRecKey).map(el => ({\r\n        opentableItemRecKey: el.recKey,\r\n        transferOrderQty: el.editOrderQty,\r\n      }))\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post transfer-items successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Transfer Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedTargetTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { tables, availableTables, searchText } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedTable, selectedTargetTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'TRANSFERITEMS',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access TRANSFERITEMS',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { tableItems, home, selectedTable, selectedTargetTable, availableTables, searchText, selectedTableItems,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in transfer');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='TRANSFERITEM'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable?.tableId || '-'}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{intl.get('transferitems')}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3, alignItems: 'center', justifyContent: 'center' }]}>\r\n                  <TouchableOpacity\r\n                    onPress={() => this.handlePressSelectAll()}>\r\n                    <Text style={styles.titleText}>{this.generateTextForSelectAll()}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={[styles.titleFirstContainer, { width: 120 }]}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  {/* <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View> */}\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  extraData={this.state}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      disabled={item.refRecKey ? true : false}\r\n                      onPress={() => this.handleSelectTableItem(item)}>\r\n                      <View style={[styles.tableItemFirstContainer, { width: 120, flexDirection: 'row' }]}>\r\n                        <TouchableOpacity style={{ flex: 1, height: '100%', justifyContent: 'center', alignItems: 'center' }}\r\n                          disabled={item.menuType === 'X'}\r\n                          onPress={() => this.doChangeQty('MINUS', item)}>\r\n                          <AntDesign name='minus' size={16} color='white' />\r\n                        </TouchableOpacity>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                          <Text style={styles.tableItemText}>{selectedTableItems.find(el => el.recKey === item.recKey)?.editOrderQty || '0'}</Text>\r\n                        </View>\r\n                        <TouchableOpacity style={{ flex: 1, height: '100%', justifyContent: 'center', alignItems: 'center' }}\r\n                          disabled={item.menuType === 'X'}\r\n                          onPress={() => this.doChangeQty('PLUS', item)}>\r\n                          <AntDesign name='plus' size={16} color='white' />\r\n                        </TouchableOpacity>\r\n                      </View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {\r\n                          item.menuMod &&\r\n                          <Text style={styles.tableItemModText}>{item.menuMod}</Text>\r\n                        }\r\n                      </View>\r\n                      {/* <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View> */}\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={[styles.searchBoxInfo, { justifyContent: 'center' }]}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableTables}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedTargetTable.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectTargetTable(item)}>\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.sectionId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={[styles.gridFirstRightText, selectedTargetTable.recKey === item.recKey ? { color: 'white' } : { color: theme.occupied }]}>OCCUPIED</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.tableId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedTargetTable || selectedTableItems.length === 0) && { opacity: 0.2 }]}\r\n                disabled={!selectedTargetTable || selectedTableItems.length === 0}\r\n                onPress={() => this.handleSubmit()}>\r\n                <AntDesign\r\n                  name='export'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('transfer')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class SplitTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      tableItems: props.route.params.tableItems,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedTableItems: [],\r\n\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handlePressSelectAll = this.handlePressSelectAll.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  generateTextForSelectAll() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return 'SELECT ALL';\r\n    } else {\r\n      return 'DESELECT ALL';\r\n    }\r\n  }\r\n\r\n  handlePressSelectAll() {\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    if (selectedTableItems.length === 0) {\r\n      this.setState({\r\n        selectedTableItems: tableItems.map(el => ({\r\n          ...el,\r\n          editOrderQty: el.orderQty,\r\n        })),\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedTableItems: [],\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('tableitem selected', item);\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push({\r\n        ...item,\r\n        editOrderQty: item.orderQty,\r\n      });\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  doChangeQty(type, item) {\r\n    const { selectedTableItems, tableItems } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    let foundSelected = selectedTableItems.find(el => el.recKey === item.recKey);\r\n    let foundOriginal = tableItems.find(el => el.recKey === item.recKey);\r\n\r\n    if (type === 'PLUS') {\r\n      if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n        selectedTableItemsUpdate.push({\r\n          ...foundOriginal,\r\n          editOrderQty: foundOriginal.orderQty,\r\n        });\r\n        let comboItems = [];\r\n        comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n        // console.log('comboItems', comboItems);\r\n        comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n      } else {\r\n        if (Number(foundSelected.editOrderQty) < Number(foundOriginal.orderQty)) {\r\n          selectedTableItemsUpdate.find(el => el.recKey === item.recKey)['editOrderQty'] = Number(foundSelected.editOrderQty) + 1;\r\n        }\r\n      }\r\n\r\n    } else if (type === 'MINUS') {\r\n      if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n        // do nothing\r\n      } else {\r\n        console.log(foundSelected.editOrderQty, foundOriginal.orderQty)\r\n        if (Number(foundSelected.editOrderQty) > 1) {\r\n          selectedTableItemsUpdate.find(el => el.recKey === item.recKey)['editOrderQty'] = Number(foundSelected.editOrderQty) - 1;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.setState({ selectedTableItems: selectedTableItemsUpdate })\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, selectedTableItems, home, serviceEntry, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/split-table';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      itemPayloads: selectedTableItems.filter(el => !el.refRecKey).map(el => ({\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: el.recKey,\r\n        splitOrderQty: el.editOrderQty,\r\n      }))\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post split-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Split Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.props.route.params.handleUpdateFromSplitTable(response)\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { tableItems, home, selectedTable, selectedTableItems,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in splittable');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={[styles.displayContainer, { flex: 6 }]}>\r\n          <View style={[styles.displayWrapper]}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable?.tableId || '-'}</Text>\r\n              <Text style={styles.overlaySubtitleText}>{intl.get('splittable')}</Text>\r\n            </View>\r\n            <View style={styles.gap}></View>\r\n            <View style={styles.gridContainer}>\r\n              <View style={[styles.searchBox, { backgroundColor: theme.grey3, alignItems: 'center', justifyContent: 'center' }]}>\r\n                <TouchableOpacity\r\n                  onPress={() => this.handlePressSelectAll()}>\r\n                  <Text style={styles.titleText}>{this.generateTextForSelectAll()}</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={styles.searchBoxInfo}>\r\n                <View style={[styles.titleFirstContainer, { width: 120 }]}>\r\n                  <Text style={styles.titleText}>Qty</Text>\r\n                </View>\r\n                <View style={styles.titleSecondContainer}>\r\n                  <Text style={styles.titleText}>Desc</Text>\r\n                </View>\r\n                {/* <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View> */}\r\n                <View style={styles.titleFourthContainer}>\r\n                  <Text style={styles.titleText}>Price</Text>\r\n                </View>\r\n              </View>\r\n              <FlatList\r\n                style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                extraData={this.state}\r\n                data={tableItems}\r\n                keyExtractor={item => item.recKey.toString()}\r\n                renderItem={({ item }) => (\r\n                  <TouchableOpacity\r\n                    style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                    disabled={item.refRecKey ? true : false}\r\n                    onPress={() => this.handleSelectTableItem(item)}>\r\n                    <View style={[styles.tableItemFirstContainer, { width: 120, flexDirection: 'row' }]}>\r\n                      <TouchableOpacity style={{ flex: 1, height: '100%', justifyContent: 'center', alignItems: 'center' }}\r\n                        disabled={item.menuType === 'X'}\r\n                        onPress={() => this.doChangeQty('MINUS', item)}>\r\n                        <AntDesign name='minus' size={16} color='white' />\r\n                      </TouchableOpacity>\r\n                      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                        <Text style={styles.tableItemText}>{selectedTableItems.find(el => el.recKey === item.recKey)?.editOrderQty || '0'}</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={{ flex: 1, height: '100%', justifyContent: 'center', alignItems: 'center' }}\r\n                        disabled={item.menuType === 'X'}\r\n                        onPress={() => this.doChangeQty('PLUS', item)}>\r\n                        <AntDesign name='plus' size={16} color='white' />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.tableItemSecondContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.refRecKey ? '- ' : null}{item.menuName}\r\n                      </Text>\r\n                      {\r\n                        item.menuMod &&\r\n                        <Text style={styles.tableItemModText}>{item.menuMod}</Text>\r\n                      }\r\n                    </View>\r\n                    {/* <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View> */}\r\n                    <View style={styles.tableItemFourthContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.netPrice && item.netPrice.toFixed(2)}\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                )}\r\n              />\r\n            </View>\r\n            <View style={styles.gap}></View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.handleSubmit()}>\r\n                <AntDesign name='menuunfold' color='white' size={36} />\r\n                <Text style={styles.buttonText}>{intl.get('splittable')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayVoidReceipt extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      returns: props.returns,\r\n      availableReturns: props.returns,\r\n      selectedReturn: '',\r\n\r\n      remarks: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { returns, availableReturns } = this.state;\r\n    let availableReturnsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableReturns);\r\n\r\n    availableReturnsUpdate = returns;\r\n    if (!text) {\r\n      this.setState({\r\n        availableReturns: availableReturnsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableReturnsUpdate = availableReturnsUpdate.filter(item => {\r\n      return item.returnId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableReturns: availableReturnsUpdate\r\n    });\r\n  }\r\n\r\n  handleSubmit(item) {\r\n    const { remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    this.props.handleUpdateFromVoidReceipt(itemWithRemarks);\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableReturns, remarks } = this.state;\r\n    console.log('in overlayvoidreceipt, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Void Receipt</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromVoidReceipt('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableReturns.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableReturns}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.returnId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayVoidReceipt from './OverlayVoidReceipt';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Void extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayVoidReceiptVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      mode: 'VOID',\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleVoid = this.handleVoid.bind(this);\r\n    this.handlePressVoid = this.handlePressVoid.bind(this);\r\n    this.handlePressReopen = this.handlePressReopen.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromVoidReceipt = this.handleUpdateFromVoidReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n    console.log('item', item);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, mode) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = mode === 'LEFT' ?\r\n      moment(text).subtract(1, 'days').format('YYYY-MM-DD')\r\n      : mode === 'RIGHT' ?\r\n        moment(text).add(1, 'days').format('YYYY-MM-DD')\r\n        : moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: dateString,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege, selectedPrinter, selectedReturn } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleVoid(selectedReturn, selectedPrinter, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleReopen') {\r\n      navigation.goBack();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromVoidReceipt(text) {\r\n    this.setState({ overlayVoidReceiptVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedReturn: text,\r\n    })\r\n    this.handleVoid(text);\r\n  }\r\n\r\n  handlePressReopen() {\r\n    this.setState({\r\n      mode: 'REOPEN',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handlePressVoid() {\r\n    this.setState({\r\n      mode: 'VOID',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handleVoid(item, printer, superUserId) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString, mode, } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (!item) {\r\n      this.setState({\r\n        overlayVoidReceiptVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'VOIDRECEIPT',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    if (mode === 'REOPEN') {\r\n      url = serviceEntry + 'api/void-receipt-reopen';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    } else {\r\n      url = serviceEntry + 'api/void-receipt';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    }\r\n    // return;\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post void-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'REOPEN' ? 'Reopen Receipt' : 'Void Receipt',\r\n            home.userName,\r\n            response.message,\r\n            (mode === 'REOPEN' && !response.message) ? response.opentable.tableId : '',\r\n            '',\r\n            selectedMaster.recKey + ',' + selectedMaster.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (mode === 'REOPEN') {\r\n          this.props.route.params.handleUpdateFromVoid(response);\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully, reopened Table ' + response.opentable.tableId,\r\n              ok: false,\r\n              cancel: false,\r\n              options: [{ text: 'Ok', handleText: 'handleReopen' }],\r\n            },\r\n            overlayAlertVisible: true,\r\n            reopenResponse: response,\r\n            loading: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully',\r\n              ok: true,\r\n              cancel: false,\r\n              options: [],\r\n            },\r\n            overlayAlertVisible: true,\r\n            masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            searches: response.receiptpaydtl,\r\n            selectedMaster: '',\r\n            headers: '',\r\n            details: '',\r\n            pays: '',\r\n            loading: false,\r\n          })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayRequestAccessVisible, overlayProcedureMessageVisible,\r\n      overlayVoidReceiptVisible, overlayAlertVisible, overlayAlertInputValue, requestedPrivilege,\r\n      loading, } = this.state;\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayVoidReceiptVisible &&\r\n          <OverlayVoidReceipt\r\n            returns={this.props.route.params.masters.returns}\r\n            handleUpdateFromVoidReceipt={this.handleUpdateFromVoidReceipt} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ flex: 1, flexDirection: 'row' }}>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'LEFT')}>\r\n                      <AntDesign name=\"doubleleft\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                      onPress={() => this.handlePressDate()}>\r\n                      <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'RIGHT')}>\r\n                      <AntDesign name=\"doubleright\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressVoid()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.paid}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.paid }]}>{intl.get('void')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressReopen()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('reopen')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Collect extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, mode) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = mode === 'LEFT' ?\r\n      moment(text).subtract(1, 'days').format('YYYY-MM-DD')\r\n      : mode === 'RIGHT' ?\r\n        moment(text).add(1, 'days').format('YYYY-MM-DD')\r\n        : moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: dateString,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressCollect(printer) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    url = serviceEntry + 'api/collection-receipt';\r\n    body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      receiptRecKey: selectedMaster.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      docDateString: selectedDateString,\r\n    };\r\n    console.log('body', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post collect-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Collect Receipt',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            selectedMaster.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayAlertInputValue: {\r\n            title: 'ALERT',\r\n            subtitle: 'Procedure Reply',\r\n            text: 'Receipt collected successfully',\r\n            ok: true,\r\n            cancel: false,\r\n            options: [],\r\n          },\r\n          overlayAlertVisible: true,\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedMaster: '',\r\n          headers: '',\r\n          details: '',\r\n          pays: '',\r\n          loading: false,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayProcedureMessageVisible,\r\n      overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ flex: 1, flexDirection: 'row' }}>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'LEFT')}>\r\n                      <AntDesign name=\"doubleleft\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                      onPress={() => this.handlePressDate()}>\r\n                      <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'RIGHT')}>\r\n                      <AntDesign name=\"doubleright\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                disabled={!selectedMaster || loading}\r\n                onPress={() => this.handlePressCollect()}>\r\n                <AntDesign\r\n                  name='gift'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('collect')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Table extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      mode: props.route.params.mode,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      vipSources: props.route.params.masters.vipSources,\r\n      availableVipSources: props.route.params.masters.vipSources,\r\n\r\n      overlayPax: props.route.params.mode === 'NEW' ? (props.route.params.selectedTable.capacity || 0) : (props.route.params.selectedTable.pax || 0),\r\n      overlayVip: props.route.params.mode === 'NEW' ? null\r\n        : {\r\n          vipId: props.route.params.selectedTable.vipId || '',\r\n          vipName: props.route.params.selectedTable.vipName || '',\r\n          vipDisc: props.route.params.selectedTable.vipDisc || '',\r\n          vipPhone: props.route.params.selectedTable.vipPhone || '',\r\n          cumPts: props.route.params.selectedTable.cumPts || '',\r\n          vipPtsMoney: props.route.params.selectedTable.vipPtsMoney || '',\r\n          classId: props.route.params.selectedTable.classId || '',\r\n        },\r\n      overlayValidateVipId: '',\r\n      overlayValidateCardNumber: '',\r\n      overlayValidateNric: '',\r\n      overlayValidateVipName: '',\r\n      overlayValidateVipPhone: '',\r\n      overlayValidateVipPhoneCountryCode: '', // 65\r\n      overlayValidateEmailAddress: '',\r\n\r\n      vipResults: '',\r\n      selectedVipResult: '',\r\n\r\n      overlaySource: props.route.params.mode === 'NEW' ? ''\r\n        : {\r\n          sourceId: props.route.params.selectedTable.sourceId || '',\r\n        },\r\n      overlaySourceSearch: '',\r\n\r\n      overlayDeliveryFlg: props.route.params.mode === 'NEW' ? 'N' : (props.route.params.selectedTable.homeDelivery || ''),\r\n      overlayPostalCode: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.dpostalcode || ''),\r\n      overlayAddr1: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress1 || ''),\r\n      overlayAddr2: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress2 || ''),\r\n      overlayAddr3: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress3 || ''),\r\n      overlayAddr4: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress4 || ''),\r\n\r\n      activeTab: props.route.params.tab || 'PAX',\r\n      warning: '',\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n    this.handlePressTab = this.handlePressTab.bind(this);\r\n    this.handleSearchVip = this.handleSearchVip.bind(this);\r\n    this.handleEnterVip = this.handleEnterVip.bind(this);\r\n    this.handleClearVip = this.handleClearVip.bind(this);\r\n    this.handlePressNext = this.handlePressNext.bind(this);\r\n    this.handlePressPrev = this.handlePressPrev.bind(this);\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleAddressChange = this.handleAddressChange.bind(this);\r\n    this.handleCheckDeliveryFlg = this.handleCheckDeliveryFlg.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { navigation, } = this.props;\r\n    const { mode, home, serviceEntry, selectedTable, settings, overlayPax, overlayVip, overlaySource, overlayValidateVipName, overlayDeliveryFlg,\r\n      overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (!overlayPax && overlayPax !== 0) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + (mode === 'NEW' ? '/change-table-status' : '/update-table-info');\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: 'C',\r\n      pax: overlayPax,\r\n      // vipId: overlayVip?.vipId,\r\n      vipName: overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n      phone: overlayVip?.vipPhone,\r\n      reservationTime: '',\r\n      sourceId: overlaySource.sourceId,\r\n      deliveryFlg: overlayDeliveryFlg,\r\n      postalCode: overlayPostalCode,\r\n      addr1: overlayAddr1,\r\n      addr2: overlayAddr2,\r\n      addr3: overlayAddr3,\r\n      addr4: overlayAddr4,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post table-edit-open successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'NEW' ? 'Open Table' : 'Edit Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        if (mode === 'NEW') {\r\n          this.props.route.params.handleUpdateFromTable();\r\n        } else {\r\n          navigation.goBack();\r\n        }\r\n      })\r\n  }\r\n\r\n  handleAddressChange(type, text) {\r\n    if (type === 'POSTALCODE') {\r\n      this.setState({\r\n        overlayPostalCode: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR1') {\r\n      this.setState({\r\n        overlayAddr1: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR2') {\r\n      this.setState({\r\n        overlayAddr2: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR3') {\r\n      this.setState({\r\n        overlayAddr3: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR4') {\r\n      this.setState({\r\n        overlayAddr4: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    }\r\n  }\r\n\r\n  handleCheckDeliveryFlg() {\r\n    const { overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (overlayPostalCode || overlayAddr1 || overlayAddr2 || overlayAddr3 || overlayAddr4) {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'Y'\r\n      })\r\n    } else {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'N'\r\n      })\r\n    }\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayPax === 0) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handlePaxChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayPax: 0 })\r\n    } else {\r\n      this.setState({ overlayPax: Number(text) })\r\n    }\r\n  }\r\n\r\n  handlePressTab(type) {\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n\r\n    if (type === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (type === 'PAX') {\r\n      this.setState({\r\n        activeTab: 'PAX',\r\n      });\r\n    } else if (type === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    } else if (type === 'DELIVERY') {\r\n      this.setState({\r\n        activeTab: 'DELIVERY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressNext() {\r\n    const { activeTab } = this.state;\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activeTab === 'PAX') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (activeTab === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    } else if (activeTab === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'DELIVERY',\r\n      });\r\n    } else if (activeTab === 'DELIVERY') {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressPrev() {\r\n    const { activeTab } = this.state;\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activeTab === 'PAX') {\r\n      return;\r\n    } else if (activeTab === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'PAX',\r\n      });\r\n    } else if (activeTab === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (activeTab === 'DELIVERY') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateVipName,\r\n      overlayValidateNric, overlayValidateEmailAddress, overlayValidateVipPhone, overlayValidateVipPhoneCountryCode } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/search-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    if (overlayValidateVipId) {\r\n      body.vipId = overlayValidateVipId;\r\n    }\r\n    if (overlayValidateCardNumber) {\r\n      body.cardNumber = overlayValidateCardNumber;\r\n    }\r\n    if (overlayValidateVipName) {\r\n      body.vipName = overlayValidateVipName;\r\n    }\r\n    if (overlayValidateNric) {\r\n      body.nric = overlayValidateNric;\r\n    }\r\n    if (overlayValidateEmailAddress) {\r\n      body.emailAddress = overlayValidateEmailAddress;\r\n    }\r\n    if (overlayValidateVipPhone) {\r\n      body.vipPhone = overlayValidateVipPhone;\r\n      body.vipPhoneCountryCode = overlayValidateVipPhoneCountryCode\r\n    }\r\n    console.log('before searching vip', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Search Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'Invalid VIP search',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          warning: response.length + ' VIP result(s) found',\r\n          vipResults: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleEnterVip(item) {\r\n    this.setState({\r\n      selectedVipResult: item,\r\n    });\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/enter-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n      customerNumber: item.customerNumber,\r\n      name: item.name,\r\n      mobileNumber: item.mobileNumber,\r\n      emailAddress: item.emailaddress,\r\n      customerSource: item.customerSource,\r\n    };\r\n    console.log('before entering vip', item);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Input Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            item.customerNumber + ',' + item.name,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'VIP input unsuccessful',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP input successful',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClearVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/clear-table-vip-info';\r\n    let body = {};\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Clear Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: response.message,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP cleared',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { vipSources, availableVipSources } = this.state;\r\n    let availableVipSourcesUpdate = [];\r\n    this.setState({ overlaySourceSearch: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', availableVipSources);\r\n\r\n    availableVipSourcesUpdate = vipSources;\r\n    if (!text) {\r\n      this.setState({\r\n        availableVipSources: availableVipSourcesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableVipSourcesUpdate = availableVipSourcesUpdate.filter(item => {\r\n      return item.sourceId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableVipSources: availableVipSourcesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { mode, selectedTable, overlayProcedureMessageVisible,\r\n      overlayPax, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateEmailAddress,\r\n      overlayValidateVipPhone, overlayValidateVipPhoneCountryCode, overlayValidateVipName, overlayValidateNric,\r\n      overlaySource, overlaySourceSearch, vipResults, selectedVipResult,\r\n      overlayDeliveryFlg, overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4,\r\n      warning, activeTab, availableVipSources } = this.state;\r\n    console.log('in overlayopentable');\r\n\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{mode === 'NEW' ? intl.get('open') : intl.get('edit')}</Text>\r\n            <Text style={styles.overlayText}>{warning ? warning : 'Enter Pax, VIP & Source'}</Text>\r\n          </View>\r\n          <View style={styles.tabsContainer}>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'PAX' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('PAX')}>\r\n              {\r\n                overlayPax !== null ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                    {overlayPax}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                PAX\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'VIP' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('VIP')}>\r\n              {\r\n                overlayVip?.vipId ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                    {overlayVip?.vipId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                VIP\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'SOURCE' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('SOURCE')}>\r\n              {\r\n                overlaySource.sourceId ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    {overlaySource.sourceId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                SOURCE\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'DELIVERY' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('DELIVERY')}>\r\n              {\r\n                overlayDeliveryFlg === 'Y' ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    YES\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    NO\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                DELIVERY\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          {\r\n            activeTab === 'PAX' ?\r\n              <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                <View style={styles.adjustContainer}>\r\n                  <TouchableOpacity style={styles.adjustFirst}\r\n                    onPress={() => this.handleQtyChange('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.adjustSecond}>\r\n                    <TextInput style={styles.overlayPax}\r\n                      selectTextOnFocus\r\n                      keyboardType='numeric'\r\n                      value={overlayPax?.toString()}\r\n                      onChangeText={(searchText) => this.handlePaxChange(searchText)} />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.adjustThird}\r\n                    onPress={() => this.handleQtyChange('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 1 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 1 })}>\r\n                    <Text style={styles.buttonText}>1</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 2 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 2 })}>\r\n                    <Text style={styles.buttonText}>2</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 3 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 3 })}>\r\n                    <Text style={styles.buttonText}>3</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 4 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 4 })}>\r\n                    <Text style={styles.buttonText}>4</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 5 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 5 })}>\r\n                    <Text style={styles.buttonText}>5</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 6 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 6 })}>\r\n                    <Text style={styles.buttonText}>6</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 7 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 7 })}>\r\n                    <Text style={styles.buttonText}>7</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 8 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 8 })}>\r\n                    <Text style={styles.buttonText}>8</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 9 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 9 })}>\r\n                    <Text style={styles.buttonText}>9</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 10 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 10 })}>\r\n                    <Text style={styles.buttonText}>10</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 11 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 11 })}>\r\n                    <Text style={styles.buttonText}>11</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 12 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 12 })}>\r\n                    <Text style={styles.buttonText}>12</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              </View>\r\n              :\r\n              activeTab === 'VIP' ?\r\n                <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                  {\r\n                    (vipResults && vipResults.length !== 0) ?\r\n                      <View style={styles.selectWrapper}>\r\n                        <View style={styles.searchBoxWrapper}>\r\n                          <View style={[styles.overlaySearchBox, { marginHorizontal: 0, justifyContent: 'space-between', }]}>\r\n                            <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                              onPress={() => this.setState({ vipResults: '' })}\r\n                            >\r\n                              <AntDesign name='close' size={24} color='white' />\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <Text style={styles.searchBoxInfoText}>{vipResults.length} ITEMS</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={[{ flex: 1 }]}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={vipResults}\r\n                          keyExtractor={(item, index) => index.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.overlayGrid, item.customerNumber === selectedVipResult.customerNumber && { backgroundColor: theme.occupied }]}\r\n                              onPress={() => this.handleEnterVip(item)}>\r\n                              <View style={styles.overlayGridFirst}>\r\n                                <View style={styles.overlayGridFirstLeft}>\r\n                                  <Text style={styles.overlayGridFirstLeftText}>{item.customerNumber}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridFirstRight}>\r\n                                  <Text style={[styles.overlayGridFirstRightText, item.customerNumber === selectedVipResult.customerNumber && { color: 'white' }]}>{item.hasActiveMembership} {item.customerSource}</Text>\r\n                                </View>\r\n                              </View>\r\n                              <View style={styles.overlayGridSecond}>\r\n                                <Text style={styles.overlayGridSecondText}>\r\n                                  {item.name}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridThird}>\r\n                                <View style={styles.overlayGridThirdLeft}>\r\n                                  <Text style={styles.overlayGridThirdLeftText}>{item.emailaddress}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridThirdRight}>\r\n                                  <Text style={styles.overlayGridThirdRightText}>{item.mobileNumber ? item.mobileNumber : ' '}</Text>\r\n                                </View>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                      </View>\r\n                      :\r\n                      <View style={styles.vipInputsContainer}>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP ID'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipId) => this.setState({ overlayValidateVipId })}\r\n                            value={overlayValidateVipId}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='CARD NO.'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateCardNumber) => this.setState({ overlayValidateCardNumber })}\r\n                            value={overlayValidateCardNumber}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP NAME'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipName) => this.setState({ overlayValidateVipName })}\r\n                            value={overlayValidateVipName}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 50 }]}\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhoneCountryCode) => this.setState({ overlayValidateVipPhoneCountryCode })}\r\n                            value={overlayValidateVipPhoneCountryCode}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 130 }]}\r\n                            placeholder='VIP PHONE'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhone) => this.setState({ overlayValidateVipPhone })}\r\n                            value={overlayValidateVipPhone}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP EMAIL'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateEmailAddress) => this.setState({ overlayValidateEmailAddress })}\r\n                            value={overlayValidateEmailAddress}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <View style={{ flex: 1, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n                            <TouchableOpacity style={{ paddingHorizontal: 10, height: 20, margin: 5, borderRadius: 40, backgroundColor: theme.paid, alignItems: 'center', justifyContent: 'center' }}\r\n                              onPress={() => this.handleClearVip()}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 10, textTransform: 'uppercase', color: 'white' }}>{intl.get('remove')}</Text>\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP ID</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP CLASS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.classId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP DISC</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipDisc || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP NAME</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipName || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>CUMULATIVE PTS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.cumPts || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>REDEEMABLE</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipPtsMoney || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                      </View>\r\n                  }\r\n                </View>\r\n                :\r\n                activeTab === 'SOURCE' ?\r\n                  <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                    <View style={styles.selectWrapper}>\r\n                      <View style={styles.searchBoxWrapper}>\r\n                        <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                          <TextInput style={styles.overlaySearchBoxInput}\r\n                            placeholder='ENTER SEARCH TEXT'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            onChangeText={(overlaySourceSearch) => this.handleOverlaySearchText(overlaySourceSearch)}\r\n                            value={overlaySourceSearch}\r\n                          />\r\n                          <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                            onPress={() => {\r\n                              this.setState({ overlaySourceSearch: '', overlaySource: '' }, () => this.handleOverlaySearchText(''))\r\n                              Keyboard.dismiss()\r\n                            }}>\r\n                            <AntDesign name='close' size={24} color={theme.grey4} />\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.searchBoxInfo}>\r\n                        <Text style={styles.searchBoxInfoText}>{availableVipSources.length} ITEMS</Text>\r\n                      </View>\r\n                      <FlatList\r\n                        style={[{ flex: 1 }]}\r\n                        showsVerticalScrollIndicator={false}\r\n                        data={availableVipSources}\r\n                        keyExtractor={item => item.recKey.toString()}\r\n                        renderItem={({ item }) => (\r\n                          <TouchableOpacity\r\n                            style={[styles.overlayGrid]}\r\n                            onPress={() => this.setState({\r\n                              overlaySource: item,\r\n                              overlaySourceSearch: item.sourceId,\r\n                            })}>\r\n                            <View style={styles.overlayGridFirst}>\r\n                              <View style={styles.overlayGridFirstLeft}>\r\n                                <Text style={styles.overlayGridFirstLeftText}>{item.sourceId}</Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridFirstRight}>\r\n                                <Text style={styles.overlayGridFirstRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                            <View style={styles.overlayGridSecond}>\r\n                              <Text style={styles.overlayGridSecondText}>\r\n                                {item.name}\r\n                              </Text>\r\n                            </View>\r\n                            <View style={styles.overlayGridThird}>\r\n                              <View style={styles.overlayGridThirdLeft}>\r\n                              </View>\r\n                              <View style={styles.overlayGridThirdRight}>\r\n                                <Text style={styles.overlayGridThirdRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                          </TouchableOpacity>\r\n                        )}\r\n                      />\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                    <View style={styles.vipInputsContainer}>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={styles.vipInput}\r\n                          placeholder='POSTAL CODE'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('POSTALCODE', text)}\r\n                          value={overlayPostalCode}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR1'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR1', text)}\r\n                          value={overlayAddr1}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR2'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR2', text)}\r\n                          value={overlayAddr2}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR3'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR3', text)}\r\n                          value={overlayAddr3}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR4'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR4', text)}\r\n                          value={overlayAddr4}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n          }\r\n          <View style={styles.overlayOptionsContainer}>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='close' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {intl.get('close')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressPrev()} >\r\n              <AntDesign name='left' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                PREV\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressNext()} >\r\n              <AntDesign name='right' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                NEXT\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handleSubmit()}>\r\n              <AntDesign name={mode === 'NEW' ? 'appstore-o' : 'edit'} size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {mode === 'NEW' ? intl.get('open') : intl.get('edit')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: theme.grey2,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    flex: 1,\r\n    maxWidth: '60%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n    alignItems: 'center',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayPax: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 50,\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 50,\r\n  },\r\n  overlayOptionContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayOptionsContainer: {\r\n    height: 100,\r\n    marginTop: 20,\r\n    backgroundColor: theme.grey3,\r\n    flexDirection: 'row',\r\n    margin: 5,\r\n    width: '100%',\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: 'white',\r\n    marginTop: 5,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayTab: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tabsContainer: {\r\n    height: 40,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginTop: 20,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 50,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlaySearchBoxButtonText: {\r\n    fontSize: 14,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase'\r\n  },\r\n  overlaySearchVipButton: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 110,\r\n  },\r\n  detailWrapper: {\r\n    alignItems: 'flex-end',\r\n    margin: 5,\r\n    width: 370 / 3,\r\n  },\r\n  detailText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  detailTitle: {\r\n    opacity: 0.6,\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    marginTop: 50,\r\n    width: 400,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, ScrollView, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n\r\n      globalModBundles: props.route.params.masters.modBundles.filter(el => (!el.modmas.locId || el.modmas.locId === props.route.params.home.locId) && el.modmas.globalFlg === 'Y'),\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedMenu.serviceFlg === 'N' ? 'B' : (props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : (props.route.params.selectedTable?.orderType || 'A')),\r\n      lineBreak: props.route.params.selectedTableItem ? props.route.params.selectedTableItem.lineBreak : 'N',\r\n\r\n      modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedMenu.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((props.route.params.selectedTable?.orderType === 'B' && props.route.params.masters.settings.find(el => el.setId === 'POSMODE')?.setString === 'A') ? `*${intl.get('takeaway')}  ` : '')),\r\n      modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount menu', this.state.selectedMenu, this.state.selectedTableItem)\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    } else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, modInput } = this.state;\r\n    let modInputUpdate = modInput;\r\n    if (orderType === 'A') {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      modInputUpdate = `*${intl.get('takeaway')}  ` + modInputUpdate;\r\n      this.setState({\r\n        orderType: 'B',\r\n        modInput: modInputUpdate,\r\n      });\r\n    } else {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      this.setState({\r\n        orderType: 'A',\r\n        modInput: modInputUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleLineBreak() {\r\n    const { lineBreak } = this.state;\r\n    this.setState({\r\n      lineBreak: lineBreak === 'Y' ? 'N' : 'Y',\r\n    });\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { modInput, selectedModBundle, modRecKeys } = this.state;\r\n    let modInputUpdate = modInput;\r\n    let modRecKeysUpdate = modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n    this.setState({\r\n      modInput: modInputUpdate,\r\n      modRecKeys: modRecKeysUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      globalModBundles, menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys } = this.state;\r\n\r\n    // need preference to auto go through\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (!menuName) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING MENU NAME',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (modBundles.filter(el => el.modmas.mustFlg === 'Y' && (globalModBundles.some(obj => obj.modmas.modId === el.modmas.modId) || mods.some(obj => obj.menuId === selectedMenu.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => modRecKeys.some(el => el === obj.recKey.toString())))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n              qtyInput,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading,\r\n      home, settings, selectedMenu, selectedTable, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      globalModBundles,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          <ScrollView contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              selectedModBundle?.moditems.map(item =>\r\n                <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.doPressMod(item)}>\r\n                  <Text style={styles.modText}>{item.name}</Text>\r\n                  {\r\n                    item.listPrice !== 0 &&\r\n                    <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              )\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId} </Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.reserved, fontSize: 16, }}> ${selectedTableItem?.listPrice?.toFixed(2) || selectedMenu.listPrice?.toFixed(2)}</Text>\r\n                  </View>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM') || selectedMenu.listPrice === 0)}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={modInput}\r\n                  onChangeText={text => this.setState({ modInput: text })}\r\n                />\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    mods?.filter(el => el.menuId === selectedMenu.menuId).length > 0 &&\r\n                    <>\r\n                      <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                        <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MENU MODIFIERS</Text>\r\n                      </View>\r\n                      <View style={styles.modContainer}>\r\n                        {\r\n                          mods?.filter(el => el.menuId === selectedMenu.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                            <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                              onPress={() => this.doPressModBundle(item)}>\r\n                              <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                            </TouchableOpacity>\r\n                          )\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  }\r\n                  <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                    <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>SHOP MODIFIERS</Text>\r\n                  </View>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      globalModBundles?.map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n              </View>\r\n\r\n              <View style={{ height: 100, margin: 5, marginTop: 0, flexDirection: 'row', backgroundColor: 'white' }}>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name='close' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4, textTransform: 'uppercase' }}>\r\n                    {intl.get('close')}\r\n                  </Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name='check' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4 }}>\r\n                    OK\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={{ marginVertical: 5, width: 130, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, margin: 5 }}\r\n                  disabled={selectedMenu.serviceFlg === 'N'}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                {\r\n                  settings.find(el => el.setId === 'MARKFIRE')?.setString === 'Y' ?\r\n                    <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: lineBreak === 'N' ? theme.grey3 : theme.occupied, borderRadius: 5, margin: 5 }}\r\n                      disabled={selectedTableItem?.confirmFlg === 'Y'}\r\n                      onPress={() => this.doToggleLineBreak()}>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase', fontSize: 10 }}>{lineBreak === 'N' ? intl.get('no') : intl.get('add')}</Text>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white' }}>LINE BREAK</Text>\r\n                    </TouchableOpacity>\r\n                    :\r\n                    <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                    </View>\r\n                }\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, View, Dimensions, TouchableOpacity, Platform } from 'react-native';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Scan extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      selectedTable: props.route.params.selectedTable,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      hasCameraPermission: null,\r\n      detected: false,\r\n    };\r\n    this.handleBarCodeScanned = this.handleBarCodeScanned.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { status } = await BarCodeScanner.requestPermissionsAsync();\r\n    this.setState({ hasCameraPermission: status === 'granted' });\r\n  }\r\n\r\n  handleBarCodeScanned({ type, data }) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, detected } = this.state;\r\n    let dataUpdate = data;\r\n    if (Platform.OS === 'ios') {\r\n      if (type === 'org.gs1.EAN-13') {\r\n        if (data.charAt(0) === '0') {\r\n          dataUpdate = data.slice(1);\r\n        }\r\n      }\r\n    }\r\n    this.setState({ detected: true }, () => {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        shopId: home.shopId,\r\n        vipId: home.vipId,\r\n        barcode: dataUpdate,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            this.setState({ detected: false });\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('post scan-barcode successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Scan Barcode',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable?.tableId,\r\n              '',\r\n              dataUpdate,\r\n            );\r\n          navigation.goBack();\r\n        })\r\n        .catch(error => {\r\n          console.log('error: ', JSON.stringify(error));\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { hasCameraPermission, detected } = this.state;\r\n\r\n    // if (hasCameraPermission === null) {\r\n    //     return <Text>Requesting for camera permission</Text>;\r\n    // }\r\n    // if (hasCameraPermission === false) {\r\n    //     return <Text>No access to camera</Text>;\r\n    // }\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <BarCodeScanner\r\n          onBarCodeScanned={detected ? null : this.handleBarCodeScanned}\r\n          style={{ flex: 1 }}\r\n        />\r\n        <TouchableOpacity style={styles.backButton}\r\n          onPress={() => navigation.goBack()}>\r\n          <AntDesign name='left' size={48} color='white' />\r\n          <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.iconContainer}>\r\n          <Ionicons name='ios-barcode' color={detected ? 'red' : 'white'} size={400} />\r\n        </View>\r\n      </ View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst windowWidth = Dimensions.get('window').width;\r\nconst windowHeight = Dimensions.get('window').height;\r\n\r\nconst styles = StyleSheet.create({\r\n  iconContainer: {\r\n    position: 'absolute',\r\n    right: windowWidth / 2 - 200,\r\n    top: windowHeight / 2 - 200,\r\n    opacity: 0.5,\r\n    width: 400,\r\n    height: 400,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backButton: {\r\n    position: 'absolute',\r\n    left: 50,\r\n    top: 50,\r\n    width: 100,\r\n    height: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 10,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, Fontisto, FontAwesome, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport moment from 'moment';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Trace extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      maps: [],\r\n      thisTable: props.route.params.selectedTable ? true : false,\r\n      thisUser: false,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doReload()\r\n  }\r\n\r\n  doReload() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser } = this.state;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doLoad() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser, maps } = this.state;\r\n    // end reached\r\n    if (maps.length < 40) return;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    params.append('recKey', maps[maps.length - 1].recKey);\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: [...maps, ...response],\r\n        });\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleTable() {\r\n    const { thisTable } = this.state;\r\n    this.setState({\r\n      thisTable: !thisTable,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  doToggleUser() {\r\n    const { thisUser } = this.state;\r\n    this.setState({\r\n      thisUser: !thisUser,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, selectedTable,\r\n      maps, thisUser, thisTable,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in trace');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <TouchableOpacity style={styles.overlayHeader} onPress={() => this.traceRef.scrollToOffset({ animated: true, offset: 0 })}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('trace')}</Text>\r\n            <Text style={styles.overlayTitleText}></Text>\r\n          </TouchableOpacity>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.traceRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={maps}\r\n            onEndReachedThreshold={0.4}\r\n            onEndReached={() => this.doLoad()}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <ScrollView\r\n                style={{ minHeight: 40, paddingVertical: 5, }}\r\n                contentContainerStyle={{ alignItems: 'center' }}\r\n                horizontal\r\n                alwaysBounceHorizontal={false}\r\n                showsHorizontalScrollIndicator={false}>\r\n                <Text style={[styles.traceText, { textAlign: 'right', width: 40, color: theme.grey5 }]}>{moment(item.createDate).format('ddd')}</Text>\r\n                <Text style={[styles.traceText, { marginLeft: 10, }]}>{moment(item.createDate).format('HH:mm')}</Text>\r\n                <View style={{ width: 30, marginHorizontal: 5, alignItems: 'center', }}>\r\n                  {\r\n                    item.msg1 === 'Fire Course' &&\r\n                    <Fontisto name=\"fire\" size={20} color={theme.reserved} style={{ marginLeft: 1 }} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Send Order' &&\r\n                    <FontAwesome name=\"send\" size={18} color={theme.occupied} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Payment' &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.paid} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Dayclose' &&\r\n                    <MaterialCommunityIcons name=\"moon-full\" size={22} color={theme.reserved} style={{}} />\r\n                  }\r\n                  {\r\n                    (item.msg1 === 'Open Table' || item.msg1 === 'Create Table' || (item.msg1 === 'Reopen Receipt' && !item.msg3)) &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.occupied} style={{}} />\r\n                  }\r\n                </View>\r\n                <Text style={[styles.traceText, { color: theme.grey5 }]}>{item.msg2} </Text>\r\n                <Text style={[styles.traceText, { marginLeft: 5, color: theme.paid }]}>{item.msg1}</Text>\r\n                {\r\n                  item.msg5 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.reserved }]}>\"{item.msg5}\"</Text>\r\n                }\r\n                {\r\n                  item.msg6 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.vacant }]}>&#60;{item.msg6}&#62;</Text>\r\n                }\r\n                {\r\n                  item.msg4 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.occupied }]}>#{item.msg4}</Text>\r\n                }\r\n                {\r\n                  item.msg3 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.adhoc }]}>[{item.msg3}]</Text>\r\n                }\r\n              </ScrollView>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              onPress={() => this.doToggleUser()}>\r\n              <AntDesign\r\n                name='woman'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText} numberOfLines={1}>{thisUser ? home.userName : `${intl.get('all')} ${intl.get('user')}`}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              disabled={!selectedTable}\r\n              onPress={() => this.doToggleTable()}>\r\n              <AntDesign\r\n                name='appstore-o'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{thisTable ? `${intl.get('table')} ${selectedTable.tableId}` : `${intl.get('all')} ${intl.get('table')}`}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  traceText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n  }\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Activate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [],\r\n      availableMenus: [],\r\n      limiteds: [],\r\n\r\n      updateds: [],\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n\r\n      loading: false,\r\n    };\r\n    this.handleSelectMenu = this.handleSelectMenu.bind(this);\r\n    this.handleSelectUpdated = this.handleSelectUpdated.bind(this);\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleUpdateMenu = this.handleUpdateMenu.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doGet();\r\n    this.doGetMenu();\r\n  }\r\n\r\n  doGet() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doGetMenu() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/menus';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n            availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  handleSelectMenu(item) {\r\n    const { menus, updateds, limiteds } = this.state;\r\n    if (updateds.some(el => el.recKey === item.recKey)) {\r\n      return;\r\n    } else {\r\n      let updatedsUpdate = updateds;\r\n      let itemUpdate = item;\r\n      const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n      itemUpdate.statusFlg = found?.statusFlg || 'A';\r\n      updatedsUpdate.push(itemUpdate);\r\n      this.setState({\r\n        updateds: updatedsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectUpdated(item) {\r\n    const { menus, updateds } = this.state;\r\n    let updatedsUpdate = updateds;\r\n    updatedsUpdate = updatedsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      updateds: updatedsUpdate,\r\n    })\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { updateds } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUpdateMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Update Menu',\r\n        text: 'Update ' + updateds.length + ' menus?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUpdateMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry, updateds } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let updatedsUpdate = updateds.map(el => ({\r\n      recKey: el.recKey,\r\n      newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n    }));\r\n\r\n    const restmenuRecKeys = updatedsUpdate.reduce((init, el) => { return init + el.recKey + ',' + el.newStatusFlg + ','; }, '');\r\n\r\n    let url = serviceEntry + 'api/update-restmenu';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKeys: restmenuRecKeys,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu successful');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            updateds.map(el => ({\r\n              menuId: el.menuId,\r\n              newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n            })).reduce((init, el) => { return init + el.menuId + ',' + el.newStatusFlg + ','; }, ''),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Login', { sync: new Date() });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus, limiteds } = this.state;\r\n    if (displayMode === 'INACTIVE ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => limiteds.some(obj => obj.restmenuRecKey === el.recKey && obj.statusFlg === 'B')),\r\n        searchText: '',\r\n        displayMode: 'INACTIVE ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleUpdateMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleUpdateMenu') {\r\n      this.handleUpdateMenu();\r\n    }\r\n  }\r\n\r\n  renderItem(item) {\r\n    const { limiteds } = this.state;\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.grid}\r\n        onPress={() => this.handleSelectMenu(item)}>\r\n        <View style={styles.gridFirst}>\r\n          <View style={styles.gridFirstLeft}>\r\n            <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n          </View>\r\n          <View style={styles.gridFirstRight}>\r\n            {\r\n              found?.statusFlg === 'B' ?\r\n                <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                :\r\n                <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridSecond}>\r\n          <Text style={styles.gridSecondText}>\r\n            {item.menuName}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, updateds, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => this.renderItem(item)}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3 }]}>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                    <Text style={styles.titleText}>{updateds.length} Changes</Text>\r\n                  </View>\r\n                  <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                    <Text style={styles.titleText}>New Status</Text>\r\n                  </View>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    updateds ?\r\n                      updateds.map((item, index) => (\r\n                        <TouchableOpacity\r\n                          key={index}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handleSelectUpdated(item)}>\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              {\r\n                                item.statusFlg === 'B' ?\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                                  :\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                              }\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.menuName}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                      : null\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (loading || updateds.length === 0) && { opacity: 0.2 }]}\r\n                disabled={loading || updateds.length === 0}\r\n                onPress={() => this.handleSubmit()}>\r\n                <AntDesign\r\n                  name='bulb1'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Limit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [],\r\n      availableMenus: [],\r\n      limiteds: [],\r\n\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      selectedMenu: null,\r\n      statusFlg: '',\r\n      onlineStatusFlg: '',\r\n      serveLimit: '',\r\n\r\n      loading: false,\r\n    };\r\n\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // real time fast changing data\r\n    this.doGet();\r\n    this.doGetMenu();\r\n  }\r\n\r\n  doGet() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doGetMenu() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/menus';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n            availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doSelectMenu(item) {\r\n    const { limiteds } = this.state;\r\n    this.setState({\r\n      selectedMenu: item,\r\n      statusFlg: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.statusFlg || 'A',\r\n      onlineStatusFlg: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.onlineStatusFlg || 'A',\r\n      serveLimit: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.serveLimit.toString() || '0',\r\n    })\r\n  }\r\n\r\n  doToggleStatus() {\r\n    const { statusFlg } = this.state;\r\n    if (statusFlg === 'A') {\r\n      this.setState({ statusFlg: 'B' })\r\n    } else {\r\n      this.setState({ statusFlg: 'A' })\r\n    }\r\n  }\r\n\r\n  doToggleOnlineStatus() {\r\n    const { onlineStatusFlg } = this.state;\r\n    if (onlineStatusFlg === 'A') {\r\n      this.setState({ onlineStatusFlg: 'B' })\r\n    } else {\r\n      this.setState({ onlineStatusFlg: 'A' })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { selectedMenu } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doLimitMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Limit Menu',\r\n        text: 'Limit ' + selectedMenu.menuName + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  doLimitMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry,\r\n      selectedMenu, statusFlg, serveLimit, onlineStatusFlg } = this.state;\r\n    // if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n    //   this.setState({\r\n    //     overlayRequestAccessVisible: true,\r\n    //   });\r\n    //   return;\r\n    // }\r\n\r\n    let url = serviceEntry + 'api/update-restmenu-serve';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      statusFlg: statusFlg,\r\n      onlineStatusFlg: onlineStatusFlg,\r\n      serveLimit: serveLimit || '0',\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu-serve');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Limit Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            selectedMenu.menuName,\r\n            (serveLimit || '0') + ',' + statusFlg + ',' + onlineStatusFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          loading: false,\r\n          displayMode: 'ALL',\r\n          menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n        }, () => this.doGet())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus, availableMenus, limiteds } = this.state;\r\n    if (displayMode === 'LIMITED ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => limiteds?.some(obj => obj.restmenuRecKey === el.recKey)),\r\n        searchText: '',\r\n        displayMode: 'LIMITED ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.doLimitMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doLimitMenu') {\r\n      this.doLimitMenu();\r\n    }\r\n  }\r\n\r\n  renderItem(item) {\r\n    const { limiteds } = this.state;\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.grid}\r\n        onPress={() => this.doSelectMenu(item)}>\r\n        <View style={styles.gridFirst}>\r\n          <View style={styles.gridFirstLeft}>\r\n            <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n          </View>\r\n          <View style={styles.gridFirstRight}>\r\n            {\r\n              found?.statusFlg === 'B' ?\r\n                <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                :\r\n                <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridSecond}>\r\n          <Text style={styles.gridSecondText}>\r\n            {item.menuName}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            {\r\n              (found && found?.serveLimit !== 0) &&\r\n              <Text style={{ fontFamily: 'varela-round', color: theme.vacant, fontSize: 12 }}>LIMIT {found.serveLimit} SERVED {found.serveCount}</Text>\r\n            }\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            {\r\n              (found && found?.onlineStatusFlg === 'B') ?\r\n                <Text style={{ fontFamily: 'varela-round', color: theme.grey7, fontSize: 12 }}>ONLINE ORDER <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 12 }}>OFF</Text></Text>\r\n                :\r\n                <Text style={{ fontFamily: 'varela-round', color: theme.grey7, fontSize: 12 }}>  </Text>\r\n            }\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, selectedMenu, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, statusFlg, onlineStatusFlg, serveLimit } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => this.renderItem(item)}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedMenu &&\r\n                <View style={{ flex: 1, backgroundColor: theme.grey3, borderRadius: 5 }}>\r\n                  <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}>{selectedMenu.menuName}</Text>\r\n                  </View>\r\n                  <View style={styles.inputContainer}>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Status</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.inputRowRight}\r\n                        onPress={() => this.doToggleStatus()}>\r\n                        <Text style={[styles.inputRowRightText, { color: statusFlg === 'A' ? theme.reserved : theme.paid }]}>{statusFlg === 'A' ? 'Active' : 'Inactive'}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Online Order</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.inputRowRight}\r\n                        onPress={() => this.doToggleOnlineStatus()}>\r\n                        <Text style={[styles.inputRowRightText, { color: onlineStatusFlg === 'A' ? theme.reserved : theme.paid }]}>{onlineStatusFlg === 'A' ? 'On' : 'Off'}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Limit</Text>\r\n                      </View>\r\n                      <View style={styles.inputRowRight}>\r\n                        <TextInput style={styles.textInput}\r\n                          keyboardType='numeric'\r\n                          selectTextOnFocus={true}\r\n                          value={serveLimit}\r\n                          onChangeText={text => this.setState({ serveLimit: text })}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={loading || !selectedMenu}\r\n                onPress={() => this.doSubmit()}>\r\n                <AntDesign\r\n                  name='staro'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  inputContainer: {\r\n    marginTop: 30,\r\n    marginHorizontal: 5,\r\n  },\r\n  inputRow: {\r\n    flexDirection: 'row',\r\n    height: 40,\r\n    margin: 5,\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    paddingLeft: 10,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  inputRowLeftText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  inputRowRightText: {\r\n    paddingHorizontal: 10,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, MaterialCommunityIcons, Feather } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Fire extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      kitchenmsgs: props.route.params.masters.kitchenmsgs,\r\n      kottypes: props.route.params.masters.kottypes,\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      remark: '',\r\n      selectedTableItems: [],\r\n      selectedKottypes: [],\r\n      selectedKitchenmsg: null,\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  doReset() {\r\n    Keyboard.dismiss();\r\n    this.setState({\r\n      selectedKitchenmsg: null,\r\n      selectedKottypes: [],\r\n      selectedTableItems: [],\r\n      remark: '',\r\n    })\r\n  }\r\n\r\n  doPressFire() {\r\n    const { selectedKottypes, selectedTableItems, remark } = this.state;\r\n    // let options = [];\r\n    // options.push({ text: 'Yes', handleText: 'doSubmit' });\r\n    // this.setState({\r\n    //   overlayAlertInputValue: {\r\n    //     title: intl.get('action'),\r\n    //     subtitle: 'Fire',\r\n    //     text: `${intl.get('fire')} \"${remark}\" (${selectedTableItems.map(el => el.menuId).join(',')}) (${selectedKottypes.map(el => el.kotType).join(',')})`,\r\n    //     ok: false,\r\n    //     cancel: true,\r\n    //     options: options,\r\n    //   },\r\n    //   overlayAlertVisible: true,\r\n    // });\r\n    this.doSubmit();\r\n  }\r\n\r\n  doPressKitchenmsg(item) {\r\n    const { selectedKitchenmsg, kottypes } = this.state;\r\n    if (selectedKitchenmsg?.recKey === item?.recKey) {\r\n      this.setState({\r\n        selectedKitchenmsg: null,\r\n        remark: '',\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKitchenmsg: item,\r\n        remark: item.name,\r\n        selectedKottypes: item.kotTypes?.split(',').map(el => kottypes.find(obj => obj.kotType === el)) || [],\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressTableItem(item) {\r\n    const { selectedTableItems, } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate = selectedTableItems.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedTableItemsUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressKottype(item) {\r\n    const { selectedKottypes } = this.state;\r\n    let selectedKottypesUpdate = selectedKottypes;\r\n    if (selectedKottypes.some(el => el.recKey === item.recKey)) {\r\n      selectedKottypesUpdate = selectedKottypes.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedKottypesUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedKottypes: selectedKottypesUpdate,\r\n    })\r\n  }\r\n\r\n  doPressAllKottype() {\r\n    const { selectedKottypes, kottypes } = this.state;\r\n    if (!kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey))) {\r\n      this.setState({\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKottypes: kottypes,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSubmit') {\r\n      this.doSubmit();\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, masters, settings,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes, remark } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/fire-kot';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      remark: remark,\r\n      kotTypes: selectedKottypes.map(el => el.kotType).join(','),\r\n      opentableItemRecKeys: selectedTableItems.map(el => el.recKey).join(','),\r\n      msgId: selectedKitchenmsg?.msgId,\r\n    };\r\n    console.log(body)\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post fire-kot successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Fire Course',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            remark + ' (' + selectedTableItems.map(el => el.menuId).join(',') + ')' + ' (' + selectedKottypes.map(el => el.kotType).join(',') + ')',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, remark, kottypes, kitchenmsgs, tableItems,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n    } = this.state;\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.navigateButton}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER MESSAGE'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={remark}\r\n                    onChangeText={(text) => this.setState({ remark: text })}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => this.doReset()}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1, marginHorizontal: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kitchenmsgs}\r\n                  numColumns={2}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, { marginHorizontal: 2.5 }, selectedKitchenmsg?.recKey === item?.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKitchenmsg(item)}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.name}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      disabled={item.refRecKey ? true : false}\r\n                      onPress={() => this.doPressTableItem(item)}>\r\n                      <View style={[styles.tableItemFirstContainer, item.fireFlg === 'Y' && { borderRightColor: theme.reserved }]}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ paddingLeft: 10, alignItems: 'center', justifyContent: 'center', }}>\r\n                    <Text style={styles.titleText}>Destination</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    {\r\n                      selectedKottypes.length > 1 ?\r\n                        <Text style={[styles.titleText, { color: 'white' }]}>Various</Text>\r\n                        :\r\n                        selectedKottypes.length === 1 ?\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{kottypes?.find(el => el.kotType === selectedKottypes[0].kotType)?.kotName}</Text>\r\n                          :\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>-</Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kottypes}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  ListHeaderComponent={\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, !kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey)) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressAllKottype()}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ALL KOT PRINTERS\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedKottypes.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKottype(item)}>\r\n                      <View style={[styles.tableItemSecondContainer, { flexDirection: 'row', justifyContent: 'space-between', paddingRight: 10, alignItems: 'center' }]}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotName}\r\n                        </Text>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotType}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.navigateButton, ((selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark) && { opacity: 0.2 }]}\r\n                disabled={(selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark}\r\n                onPress={() => this.doPressFire()}>\r\n                <AntDesign\r\n                  name='customerservice'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('fire')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  navigateButton: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  navigateButtonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, SectionList, ScrollView, FlatList, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Combo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      globalModBundles: props.route.params.masters.modBundles.filter(el => (!el.modmas.locId || el.modmas.locId === props.route.params.home.locId) && el.modmas.globalFlg === 'Y'),\r\n      comboGroups: props.route.params.masters.comboGroups.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      comboItems: props.route.params.masters.comboItems.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      selectedComboItems: [],\r\n      selectedComboItem: null,\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : (props.route.params.selectedTable?.orderType || 'A'),\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount combo', this.state.comboItems, this.state.selectedComboItems)\r\n    this.doPrepareComboItems();\r\n  }\r\n\r\n  doPrepareComboItems() {\r\n    const { comboItems, tableItems, selectedTableItem } = this.state;\r\n    let tableItemsUpdate = selectedTableItem ? tableItems?.filter(el => el.refRecKey === selectedTableItem.recKey) : [];\r\n    let comboItemsUpdate = comboItems.map(el => ({\r\n      ...el,\r\n      modInput: tableItems?.find(obj => obj.comboitemRecKey === el.recKey)?.menuMod || '',\r\n      modRecKeys: tableItems?.find(obj => obj.comboitemRecKey === el.recKey)?.modRecKeys?.split(',') || [],\r\n    }));\r\n    let selectedComboItemsUpdate = comboItemsUpdate.filter(el => tableItemsUpdate.some(obj => obj.comboitemRecKey === el.recKey));\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n      selectedComboItems: selectedComboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doComboItemModInput(text) {\r\n    const { comboItems, selectedComboItem } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = text;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressComboItem(item) {\r\n    const { selectedComboItems } = this.state;\r\n    let selectedComboItemsUpdate = selectedComboItems;\r\n    if (selectedComboItems.some(el => el.recKey === item.recKey)) {\r\n      selectedComboItemsUpdate = selectedComboItems.filter(el => el.recKey !== item.recKey);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: null,\r\n        selectedModBundle: null,\r\n      })\r\n    } else {\r\n      selectedComboItemsUpdate.push(item);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: item,\r\n        selectedModBundle: null,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, comboItems } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n\r\n    if (orderType === 'A') {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n        el.modInput = `*${intl.get('takeaway')}  ` + el.modInput;\r\n      })\r\n      this.setState({\r\n        orderType: 'B',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    } else {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n      })\r\n      this.setState({\r\n        orderType: 'A',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { selectedModBundle, selectedComboItem, comboItems } = this.state;\r\n    let modInputUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput;\r\n    let modRecKeysUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = modInputUpdate;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modRecKeys = modRecKeysUpdate;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      globalModBundles, comboGroups, comboItems, selectedComboItems,\r\n      menuName, qtyInput, orderType, } = this.state;\r\n\r\n    // no table\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // no name\r\n    if (!menuName) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING MENU NAME',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // table status\r\n    if (selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // combo group min max\r\n    if (comboGroups.some(el => (selectedComboItems.filter(obj => obj.groupNo === el.groupNo).length > el.maxSelectItem || selectedComboItems.filter(obj => obj.groupNo === el.groupNo).length < el.minSelectItem))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK MIN MAX',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // combo item compulsory modifier\r\n    if (selectedComboItems.some(arr => modBundles.filter(el => el.modmas.mustFlg === 'Y' && (globalModBundles.some(obj => obj.modmas.modId === el.modmas.modId) || mods.some(obj => obj.menuId === arr.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => arr.modRecKeys.some(el => el === obj.recKey.toString()))))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading, preference,\r\n      home, selectedMenu, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      globalModBundles,\r\n      menuName, qtyInput, orderType,\r\n      comboGroups, comboItems, selectedComboItems, selectedComboItem,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          {\r\n            selectedComboItem &&\r\n            <View style={{ flex: 1, marginVertical: 10, marginLeft: 0, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginVertical: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedComboItem.menuId}</Text>\r\n                  <Text style={{\r\n                    fontFamily: 'varela-round',\r\n                    color: 'white',\r\n                    fontSize: 20,\r\n                    textAlign: 'center',\r\n                    paddingHorizontal: 20,\r\n                  }} numberOfLines={2}>{selectedComboItem.menuName}</Text>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput}\r\n                  onChangeText={text => this.doComboItemModInput(text)}\r\n                />\r\n                <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                  <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MODIFIER</Text>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      mods?.filter(el => el.menuId === selectedMenu.menuId || el.menuId === selectedComboItem?.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                    {\r\n                      globalModBundles?.map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n                <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                  <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MODIFIER OPTIONS</Text>\r\n                </View>\r\n                <View style={{ flex: 1, backgroundColor: theme.grey4 }}>\r\n                  <ScrollView\r\n                    contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n                    showsVerticalScrollIndicator={false}>\r\n                    {\r\n                      selectedModBundle?.moditems.map(item =>\r\n                        <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, comboItems.find(el => el.recKey === selectedComboItem.recKey)?.modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                          onPress={() => this.doPressMod(item)}>\r\n                          <Text style={styles.modText}>{item.name}</Text>\r\n                          {\r\n                            item.listPrice !== 0 &&\r\n                            <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                          }\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          }\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM'))}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <ScrollView\r\n                  style={{ flex: 1, backgroundColor: theme.grey2, paddingBottom: 5 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    comboGroups.map(el =>\r\n                      <View key={el.recKey.toString()}>\r\n                        <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', }}>\r\n                          <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: 'white', }}>{el.groupName} <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.paid, }}>MIN</Text> {el.minSelectItem} <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.paid, }}>MAX</Text> {el.maxSelectItem}</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={{ margin: -2.5 }}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={comboItems.filter(obj => obj.groupNo === el.groupNo)}\r\n                          numColumns={preference.pcolsize}\r\n                          keyExtractor={(item, index) => item.recKey.toString()}\r\n                          renderItem={({ item }) => this.renderComboItem(item)}\r\n                        />\r\n                      </View>\r\n                    )\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n            </View>\r\n            <View style={{ marginVertical: 5, width: 130, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderComboItem(item) {\r\n    const { preference, selectedComboItems } = this.state;\r\n    const found = selectedComboItems.some(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.pcolsize }}>\r\n        <TouchableOpacity style={{ height: 70, padding: 10, margin: 2.5, backgroundColor: found ? theme.occupied : theme.grey4, }}\r\n          onPress={() => this.doPressComboItem(item)}>\r\n          <View style={{ flex: 1 }}>\r\n            <Text style={{ fontFamily: 'varela-round', color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 12, }}></Text>\r\n            <Text style={[{ fontFamily: 'varela-round', fontSize: 12, color: Number(item.addonPrice) === 0 ? 'transparent' : found ? 'white' : theme.reserved }]}>+{item.addonPrice?.toFixed(2)}</Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { StyleSheet, View, Image, ScrollView, TouchableOpacity, Text, Alert, Platform, Dimensions } from 'react-native';\r\nimport { AntDesign, Ionicons, Entypo, MaterialCommunityIcons, Fontisto, FontAwesome, MaterialIcons } from '@expo/vector-icons';\r\nimport moment from 'moment';\r\nimport io from 'socket.io-client';\r\nimport intl from 'react-intl-universal';\r\nimport Constants from 'expo-constants';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class Secondary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      preference: props.route.params.preference,\r\n\r\n      refresh: moment().format('HH:mm:ss'),\r\n      home: null,\r\n      selectedTable: null,\r\n      tableItems: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntryObj, preference } = this.state;\r\n\r\n    if (preference?.usecondary) {\r\n      global.socket = io(\r\n        serviceEntryObj.restServiceUrl.substring(0, serviceEntryObj.restServiceUrl.lastIndexOf(\"/gateway\")) + '/socket.io',\r\n        {\r\n          query: {\r\n            userId: preference.usecondary,\r\n            serviceId: serviceEntryObj.epbId,\r\n          }\r\n        },\r\n      );\r\n      global.socket.on('room-participate', this.doRoomParticipate);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (global.socket) {\r\n      global.socket.off('room-participate', this.doRoomParticipate)\r\n      global.socket.close();\r\n    }\r\n  }\r\n\r\n  doRoomParticipate = data => {\r\n    console.log('chatbox room-participate', data);\r\n    this.setState({\r\n      home: data.home,\r\n      selectedTable: data.selectedTable,\r\n      tableItems: data.tableItems,\r\n    })\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.transType !== 'A') return theme.deposit;\r\n    if (item.statusFlg === 'A') {\r\n      return theme.vacant;\r\n    } else if (item.statusFlg === 'B') {\r\n      return theme.reserved;\r\n    } else if (item.statusFlg === 'C') {\r\n      return theme.occupied;\r\n    } else if (item.statusFlg === 'D') {\r\n      return theme.paid;\r\n    } else if (item.statusFlg === 'E') {\r\n      return theme.unavailable;\r\n    }\r\n  }\r\n\r\n  // not in use\r\n  doTranslateTableStatus(item) {\r\n    if (item.orderType === 'B') {\r\n      if (item.transType === 'A') {\r\n        return intl.get('sales');\r\n      } else if (item.transType === 'G') {\r\n        if (item.homeDelivery === 'Y') {\r\n          return intl.get('deposit') + 'DLY';\r\n        } else {\r\n          return intl.get('deposit');\r\n        }\r\n      }\r\n    } else {\r\n      return intl.get(`${item.statusFlg}`).d('Unknown');\r\n    }\r\n  }\r\n\r\n  doTranslateTableItemColor(item) {\r\n    if (item.fireFlg === 'Y') {\r\n      return theme.reserved;\r\n    }\r\n    if (item.confirmFlg === 'Y') {\r\n      return theme.occupied;\r\n    }\r\n    return theme.vacant;\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntryObj, preference, refresh,\r\n      home, selectedTable, tableItems, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        <View style={{ width: 10, backgroundColor: theme.grey8 }}>\r\n          <View style={{ marginTop: 30, height: 100, backgroundColor: this.doTranslateTableColor(selectedTable) }}></View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n          <TouchableOpacity style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}\r\n            onPress={() => navigation.goBack()}>\r\n            <Text style={styles.footerText}>{home?.userName}</Text>\r\n            <Text style={styles.footerText}>{home?.locName}</Text>\r\n          </TouchableOpacity>\r\n          <View style={{ margin: 7, marginLeft: 0, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <View style={{ margin: 3, flex: 1, flexDirection: 'row', }}>\r\n              {\r\n                selectedTable &&\r\n                <View style={{ marginLeft: 0, aspectRatio: 1, backgroundColor: this.doTranslateTableColor(selectedTable), justifyContent: 'center', alignItems: 'center' }}\r\n                >\r\n                  <Text style={styles.tableUpperBand} numberOfLines={1}>{selectedTable.vipName || ''}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 24, letterSpacing: 1 }} numberOfLines={1}>{selectedTable.tableId}</Text>\r\n                  <Text style={styles.tableLowerBand} numberOfLines={1}>{selectedTable.sectionName}</Text>\r\n                </View>\r\n              }\r\n            </View>\r\n            <View style={{ margin: 3, height: 100 }}>\r\n            </View>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: 'white' }}>\r\n            <View style={{ width: 50, height: 20, alignItems: 'center', justifyContent: 'center', borderRightColor: theme.paid }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('qty')}</Text>\r\n            </View>\r\n            <View style={{ flex: 1, justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('desc')}</Text>\r\n            </View>\r\n            <View style={{ paddingRight: 10, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('total')}</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            onContentSizeChange={() => this.scrollViewRef.scrollToEnd()}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              tableItems.filter(el => !el.refRecKey).map(item => (\r\n                <View key={item.recKey.toString()}>\r\n                  {\r\n                    item.lineBreak === 'Y' &&\r\n                    <View style={{ alignItems: 'center', flexDirection: 'row', height: 20, }}>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                      <Text style={{ fontFamily: 'varela-round', color: theme.grey5, fontSize: 12 }}>LINE BREAK</Text>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                    </View>\r\n                  }\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: this.doTranslateTableItemColor(item), }}\r\n                  >\r\n                    <View style={{ paddingVertical: 10, width: 50, alignItems: 'center', borderRightColor: theme.paid }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.orderQty}</Text>\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, flex: 1 }}>\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.menuName}</Text>\r\n                          {\r\n                            item.menuMod &&\r\n                            <Text style={{ fontFamily: 'varela-round', fontSize: 16, color: theme.paid }}>{item.menuMod}</Text>\r\n                          }\r\n                        </View>\r\n                        <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.lineTotal?.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      {\r\n                        tableItems.filter(el => el.refRecKey === item.recKey).map(obj =>\r\n                          <View style={{ marginTop: 5, flexDirection: 'row' }} key={obj.recKey.toString()}>\r\n                            <View style={{ flex: 1, }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14, marginLeft: 10 }}>- {obj.menuName}</Text>\r\n                              {\r\n                                obj.menuMod &&\r\n                                <Text style={{ fontFamily: 'varela-round', fontSize: 14, color: theme.paid }}>{obj.menuMod}</Text>\r\n                              }\r\n                            </View>\r\n                            <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14 }}>{obj.lineTotal ? obj.lineTotal?.toFixed(2) : ''}</Text>\r\n                            </View>\r\n                          </View>\r\n                        )\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <View style={{ margin: 10, marginBottom: 0, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'baseline' }}>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 10 }}></Text>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 28 }}>${selectedTable?.grandTotal?.toFixed(2) || '0.00'}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, flexDirection: 'row', }}>\r\n\r\n          </View>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{moment().format('HH:mm')}</Text>\r\n            <Text style={styles.footerText}>EPB BISTRO {Constants.manifest.version?.split('.')[0]}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: theme.grey1 }}>\r\n          <Image\r\n            style={{ flex: 1 }}\r\n            source={{\r\n              uri: serviceEntryObj.restServiceUrl + 'epbm/api/image/stock?stkId=' + 'BISTRO-SECONDARY-' + serviceEntryObj.epbId + '&isResourceId=true&skuId=&t=' + refresh\r\n            }}\r\n            resizeMode='cover'\r\n          />\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  footerText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableUpperBand: {\r\n    position: 'absolute',\r\n    top: 10, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    // backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'black',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableLowerBand: {\r\n    position: 'absolute',\r\n    bottom: 0, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonText: {\r\n    marginTop: 10,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: theme.grey5,\r\n    textTransform: 'uppercase'\r\n  }\r\n});\r\n","import { Component } from 'react';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport { StyleSheet, Text, View, Platform } from 'react-native';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport * as Font from 'expo-font';\r\nimport intl from 'react-intl-universal';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\n\r\nimport Login from './src/Login';\r\nimport Main from './src/Main';\r\nimport Register from './src/Register';\r\nimport Preference from './src/Preference';\r\nimport Pos from './src/Pos';\r\nimport Split from './src/Split';\r\nimport Adhoc from './src/Adhoc';\r\nimport Dayclose from './src/Dayclose';\r\nimport Printer from './src/Printer';\r\nimport Report from './src/Report';\r\nimport Reprint from './src/Reprint';\r\nimport Resequence from './src/Resequence';\r\nimport Transfer from './src/Transfer';\r\nimport SplitTable from './src/SplitTable';\r\nimport Void from './src/Void';\r\nimport Collect from './src/Collect';\r\nimport Table from './src/Table';\r\nimport Menu from './src/Menu';\r\nimport Scan from './src/Scan';\r\nimport Trace from './src/Trace';\r\nimport Activate from './src/Activate';\r\nimport Limit from './src/Limit';\r\nimport Fire from './src/Fire';\r\nimport Combo from './src/Combo';\r\nimport Secondary from './src/Secondary';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n  }\r\n\r\n  async componentDidMount() {\r\n\r\n    // locale data\r\n    const locales = {\r\n      \"zhs\": require('./assets/zhs.json'),\r\n      \"zht\": require('./assets/zht.json'),\r\n      \"en\": require('./assets/en.json'),\r\n      \"ja\": require('./assets/ja.json'),\r\n    };\r\n\r\n    const currentLocale = await AsyncStorage.getItem('language');\r\n\r\n    await intl.init({\r\n      currentLocale: currentLocale || 'en',\r\n      locales,\r\n    });\r\n\r\n    // ttf for native, woff for web\r\n    await Font.loadAsync({\r\n      // 'varela-round': require('./assets/VarelaRound-Regular.ttf'),\r\n      'varela-round': require('./assets/VarelaRound-Regular.woff2'),\r\n    })\r\n\r\n    if (Platform.OS !== 'web') {\r\n      BarCodeScanner.getPermissionsAsync()\r\n        .then(response => {\r\n          if (response.status !== 'granted') return BarCodeScanner.requestPermissionsAsync();\r\n          return Promise.resolve(response);\r\n        })\r\n    }\r\n\r\n    this.setState({ loading: false })\r\n\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n\r\n    if (loading) return <View></View>;\r\n\r\n    return (\r\n      <NavigationContainer>\r\n        <StatusBar hidden />\r\n        <Stack.Navigator\r\n          screenOptions={{\r\n            headerShown: false,\r\n            animation: 'none',\r\n            gestureEnabled: false,\r\n          }}>\r\n          <Stack.Screen name=\"Login\" component={Login} options={Login.navigationOptions} />\r\n          <Stack.Screen name=\"Register\" component={Register} options={Register.navigationOptions} />\r\n          <Stack.Screen name=\"Preference\" component={Preference} options={Preference.navigationOptions} />\r\n          <Stack.Screen name=\"Secondary\" component={Secondary} options={Secondary.navigationOptions} />\r\n          <Stack.Screen name=\"Main\" component={Main} options={Main.navigationOptions} />\r\n          <Stack.Screen name=\"Pos\" component={Pos} options={Pos.navigationOptions} />\r\n          <Stack.Screen name=\"Split\" component={Split} options={Split.navigationOptions} />\r\n          <Stack.Screen name=\"Void\" component={Void} options={Void.navigationOptions} />\r\n          <Stack.Screen name=\"Collect\" component={Collect} options={Collect.navigationOptions} />\r\n          <Stack.Screen name=\"Transfer\" component={Transfer} options={Transfer.navigationOptions} />\r\n          <Stack.Screen name=\"SplitTable\" component={SplitTable} options={SplitTable.navigationOptions} />\r\n          <Stack.Screen name=\"Resequence\" component={Resequence} options={Resequence.navigationOptions} />\r\n          <Stack.Screen name=\"Reprint\" component={Reprint} options={Reprint.navigationOptions} />\r\n          <Stack.Screen name=\"Report\" component={Report} options={Report.navigationOptions} />\r\n          <Stack.Screen name=\"Printer\" component={Printer} options={Printer.navigationOptions} />\r\n          <Stack.Screen name=\"Dayclose\" component={Dayclose} options={Dayclose.navigationOptions} />\r\n          <Stack.Screen name=\"Adhoc\" component={Adhoc} options={Adhoc.navigationOptions} />\r\n          <Stack.Screen name=\"Scan\" component={Scan} options={Scan.navigationOptions} />\r\n          <Stack.Screen name=\"Trace\" component={Trace} options={Trace.navigationOptions} />\r\n          <Stack.Screen name=\"Activate\" component={Activate} options={Activate.navigationOptions} />\r\n          <Stack.Screen name=\"Limit\" component={Limit} options={Limit.navigationOptions} />\r\n          <Stack.Screen name=\"Table\" component={Table} options={Table.navigationOptions} />\r\n          <Stack.Screen name=\"Fire\" component={Fire} options={Fire.navigationOptions} />\r\n          <Stack.Screen name=\"Menu\" component={Menu} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n          <Stack.Screen name=\"Combo\" component={Combo} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n        </Stack.Navigator>\r\n      </NavigationContainer>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n","var map = {\n\t\"./af\": 94506,\n\t\"./af.js\": 94506,\n\t\"./ar\": 59687,\n\t\"./ar-dz\": 62887,\n\t\"./ar-dz.js\": 62887,\n\t\"./ar-kw\": 66307,\n\t\"./ar-kw.js\": 66307,\n\t\"./ar-ly\": 51664,\n\t\"./ar-ly.js\": 51664,\n\t\"./ar-ma\": 89926,\n\t\"./ar-ma.js\": 89926,\n\t\"./ar-sa\": 85207,\n\t\"./ar-sa.js\": 85207,\n\t\"./ar-tn\": 52912,\n\t\"./ar-tn.js\": 52912,\n\t\"./ar.js\": 59687,\n\t\"./az\": 5011,\n\t\"./az.js\": 5011,\n\t\"./be\": 25997,\n\t\"./be.js\": 25997,\n\t\"./bg\": 4427,\n\t\"./bg.js\": 4427,\n\t\"./bm\": 85385,\n\t\"./bm.js\": 85385,\n\t\"./bn\": 67703,\n\t\"./bn-bd\": 57002,\n\t\"./bn-bd.js\": 57002,\n\t\"./bn.js\": 67703,\n\t\"./bo\": 39841,\n\t\"./bo.js\": 39841,\n\t\"./br\": 45642,\n\t\"./br.js\": 45642,\n\t\"./bs\": 44707,\n\t\"./bs.js\": 44707,\n\t\"./ca\": 53512,\n\t\"./ca.js\": 53512,\n\t\"./cs\": 39497,\n\t\"./cs.js\": 39497,\n\t\"./cv\": 6479,\n\t\"./cv.js\": 6479,\n\t\"./cy\": 89318,\n\t\"./cy.js\": 89318,\n\t\"./da\": 97229,\n\t\"./da.js\": 97229,\n\t\"./de\": 63460,\n\t\"./de-at\": 51044,\n\t\"./de-at.js\": 51044,\n\t\"./de-ch\": 26445,\n\t\"./de-ch.js\": 26445,\n\t\"./de.js\": 63460,\n\t\"./dv\": 32096,\n\t\"./dv.js\": 32096,\n\t\"./el\": 16048,\n\t\"./el.js\": 16048,\n\t\"./en-au\": 74301,\n\t\"./en-au.js\": 74301,\n\t\"./en-ca\": 66855,\n\t\"./en-ca.js\": 66855,\n\t\"./en-gb\": 761,\n\t\"./en-gb.js\": 761,\n\t\"./en-ie\": 46127,\n\t\"./en-ie.js\": 46127,\n\t\"./en-il\": 49157,\n\t\"./en-il.js\": 49157,\n\t\"./en-in\": 37199,\n\t\"./en-in.js\": 37199,\n\t\"./en-nz\": 31511,\n\t\"./en-nz.js\": 31511,\n\t\"./en-sg\": 47309,\n\t\"./en-sg.js\": 47309,\n\t\"./eo\": 92160,\n\t\"./eo.js\": 92160,\n\t\"./es\": 68582,\n\t\"./es-do\": 71885,\n\t\"./es-do.js\": 71885,\n\t\"./es-mx\": 68131,\n\t\"./es-mx.js\": 68131,\n\t\"./es-us\": 16962,\n\t\"./es-us.js\": 16962,\n\t\"./es.js\": 68582,\n\t\"./et\": 98890,\n\t\"./et.js\": 98890,\n\t\"./eu\": 37704,\n\t\"./eu.js\": 37704,\n\t\"./fa\": 22562,\n\t\"./fa.js\": 22562,\n\t\"./fi\": 70877,\n\t\"./fi.js\": 70877,\n\t\"./fil\": 34246,\n\t\"./fil.js\": 34246,\n\t\"./fo\": 78341,\n\t\"./fo.js\": 78341,\n\t\"./fr\": 19867,\n\t\"./fr-ca\": 82347,\n\t\"./fr-ca.js\": 82347,\n\t\"./fr-ch\": 17683,\n\t\"./fr-ch.js\": 17683,\n\t\"./fr.js\": 19867,\n\t\"./fy\": 21982,\n\t\"./fy.js\": 21982,\n\t\"./ga\": 13905,\n\t\"./ga.js\": 13905,\n\t\"./gd\": 13443,\n\t\"./gd.js\": 13443,\n\t\"./gl\": 66905,\n\t\"./gl.js\": 66905,\n\t\"./gom-deva\": 91324,\n\t\"./gom-deva.js\": 91324,\n\t\"./gom-latn\": 41890,\n\t\"./gom-latn.js\": 41890,\n\t\"./gu\": 37134,\n\t\"./gu.js\": 37134,\n\t\"./he\": 96835,\n\t\"./he.js\": 96835,\n\t\"./hi\": 81394,\n\t\"./hi.js\": 81394,\n\t\"./hr\": 13564,\n\t\"./hr.js\": 13564,\n\t\"./hu\": 46269,\n\t\"./hu.js\": 46269,\n\t\"./hy-am\": 57269,\n\t\"./hy-am.js\": 57269,\n\t\"./id\": 44254,\n\t\"./id.js\": 44254,\n\t\"./is\": 8699,\n\t\"./is.js\": 8699,\n\t\"./it\": 28301,\n\t\"./it-ch\": 92887,\n\t\"./it-ch.js\": 92887,\n\t\"./it.js\": 28301,\n\t\"./ja\": 64642,\n\t\"./ja.js\": 64642,\n\t\"./jv\": 62168,\n\t\"./jv.js\": 62168,\n\t\"./ka\": 94501,\n\t\"./ka.js\": 94501,\n\t\"./kk\": 49537,\n\t\"./kk.js\": 49537,\n\t\"./km\": 45808,\n\t\"./km.js\": 45808,\n\t\"./kn\": 34881,\n\t\"./kn.js\": 34881,\n\t\"./ko\": 62951,\n\t\"./ko.js\": 62951,\n\t\"./ku\": 92452,\n\t\"./ku.js\": 92452,\n\t\"./ky\": 1853,\n\t\"./ky.js\": 1853,\n\t\"./lb\": 77639,\n\t\"./lb.js\": 77639,\n\t\"./lo\": 34502,\n\t\"./lo.js\": 34502,\n\t\"./lt\": 60874,\n\t\"./lt.js\": 60874,\n\t\"./lv\": 18237,\n\t\"./lv.js\": 18237,\n\t\"./me\": 87878,\n\t\"./me.js\": 87878,\n\t\"./mi\": 64234,\n\t\"./mi.js\": 64234,\n\t\"./mk\": 17535,\n\t\"./mk.js\": 17535,\n\t\"./ml\": 43896,\n\t\"./ml.js\": 43896,\n\t\"./mn\": 63046,\n\t\"./mn.js\": 63046,\n\t\"./mr\": 80927,\n\t\"./mr.js\": 80927,\n\t\"./ms\": 37224,\n\t\"./ms-my\": 66332,\n\t\"./ms-my.js\": 66332,\n\t\"./ms.js\": 37224,\n\t\"./mt\": 24866,\n\t\"./mt.js\": 24866,\n\t\"./my\": 24206,\n\t\"./my.js\": 24206,\n\t\"./nb\": 66723,\n\t\"./nb.js\": 66723,\n\t\"./ne\": 45097,\n\t\"./ne.js\": 45097,\n\t\"./nl\": 37529,\n\t\"./nl-be\": 1355,\n\t\"./nl-be.js\": 1355,\n\t\"./nl.js\": 37529,\n\t\"./nn\": 30296,\n\t\"./nn.js\": 30296,\n\t\"./oc-lnc\": 4802,\n\t\"./oc-lnc.js\": 4802,\n\t\"./pa-in\": 77057,\n\t\"./pa-in.js\": 77057,\n\t\"./pl\": 69850,\n\t\"./pl.js\": 69850,\n\t\"./pt\": 15552,\n\t\"./pt-br\": 83726,\n\t\"./pt-br.js\": 83726,\n\t\"./pt.js\": 15552,\n\t\"./ro\": 1717,\n\t\"./ro.js\": 1717,\n\t\"./ru\": 79117,\n\t\"./ru.js\": 79117,\n\t\"./sd\": 61742,\n\t\"./sd.js\": 61742,\n\t\"./se\": 92049,\n\t\"./se.js\": 92049,\n\t\"./si\": 83329,\n\t\"./si.js\": 83329,\n\t\"./sk\": 27619,\n\t\"./sk.js\": 27619,\n\t\"./sl\": 76707,\n\t\"./sl.js\": 76707,\n\t\"./sq\": 84281,\n\t\"./sq.js\": 84281,\n\t\"./sr\": 60436,\n\t\"./sr-cyrl\": 13408,\n\t\"./sr-cyrl.js\": 13408,\n\t\"./sr.js\": 60436,\n\t\"./ss\": 27500,\n\t\"./ss.js\": 27500,\n\t\"./sv\": 6950,\n\t\"./sv.js\": 6950,\n\t\"./sw\": 54222,\n\t\"./sw.js\": 54222,\n\t\"./ta\": 73746,\n\t\"./ta.js\": 73746,\n\t\"./te\": 1130,\n\t\"./te.js\": 1130,\n\t\"./tet\": 34740,\n\t\"./tet.js\": 34740,\n\t\"./tg\": 13378,\n\t\"./tg.js\": 13378,\n\t\"./th\": 20628,\n\t\"./th.js\": 20628,\n\t\"./tk\": 92622,\n\t\"./tk.js\": 92622,\n\t\"./tl-ph\": 30100,\n\t\"./tl-ph.js\": 30100,\n\t\"./tlh\": 22871,\n\t\"./tlh.js\": 22871,\n\t\"./tr\": 33600,\n\t\"./tr.js\": 33600,\n\t\"./tzl\": 18985,\n\t\"./tzl.js\": 18985,\n\t\"./tzm\": 3627,\n\t\"./tzm-latn\": 51145,\n\t\"./tzm-latn.js\": 51145,\n\t\"./tzm.js\": 3627,\n\t\"./ug-cn\": 4790,\n\t\"./ug-cn.js\": 4790,\n\t\"./uk\": 97712,\n\t\"./uk.js\": 97712,\n\t\"./ur\": 99529,\n\t\"./ur.js\": 99529,\n\t\"./uz\": 99141,\n\t\"./uz-latn\": 61737,\n\t\"./uz-latn.js\": 61737,\n\t\"./uz.js\": 99141,\n\t\"./vi\": 98205,\n\t\"./vi.js\": 98205,\n\t\"./x-pseudo\": 20697,\n\t\"./x-pseudo.js\": 20697,\n\t\"./yo\": 37826,\n\t\"./yo.js\": 37826,\n\t\"./zh-cn\": 83994,\n\t\"./zh-cn.js\": 83994,\n\t\"./zh-hk\": 36892,\n\t\"./zh-hk.js\": 36892,\n\t\"./zh-mo\": 43884,\n\t\"./zh-mo.js\": 43884,\n\t\"./zh-tw\": 85136,\n\t\"./zh-tw.js\": 85136\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [464], () => (__webpack_require__(19386)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Text","_ref","_styleObject","_styleObject2","style","children","rest","_objectWithoutProperties","_excluded","styleObject","Array","isArray","forEach","el","Object","assign","_jsx","RN","_objectSpread","fontSize","fontFamily","debug","serviceEntry","msg1","msg2","msg3","msg4","msg5","msg6","fetch","method","headers","body","JSON","stringify","vacant","reserved","occupied","paid","unavailable","adhoc","deposit","grey1","grey2","grey3","grey4","grey5","grey7","grey8","grey9","size","Platform","OS","black8","white8","OverlayAlert","_Component","_inherits","_super","_createSuper","props","_classCallCheck","call","_createClass","key","value","_this","console","log","this","View","styles","overlay","_jsxs","overlayContent","overlayHeader","overlayTitleText","overlaySubtitleText","color","theme","overlayText","text","toUpperCase","TouchableOpacity","overlayOption","onPress","handleUpdateFromProcedureMessage","overlayOptionText","Component","StyleSheet","create","backgroundColor","position","zIndex","top","left","right","bottom","flex","alignItems","justifyContent","width","borderRadius","overflow","marginVertical","textTransform","opacity","textAlign","marginTop","height","margin","OverlayLanguage","intl","buttonsContainer","button","handleUpdateFromLanguage","buttonText","minWidth","paddingHorizontal","flexDirection","Login","state","preference","language","serviceEntryObj","accessCode","password","userId","home","dev","bind","_assertThisInitialized","_componentDidMount","_asyncToGenerator","_preference","_preference2","_preference3","_preference4","_preference5","_preference6","_this2","navigation","sub","addListener","didFocus","AsyncStorage","getItem","parse","tcolsize","mcolsize","pcolsize","mquick","dsecondary","usecondary","setItem","setState","navigate","doSubmitAccessCode","apply","arguments","_didFocus","_route$params","route","params","sync","moment","diff","item","overlayLanguageVisible","options","currentLocale","overlayProcedureMessageVisible","_this3","Alert","alert","doDownload","Linking","openURL","_this$state","link","doLogIn","_this$state2","_doLogIn","_this4","then","response","json","message","Promise","all","_ref2","_slicedToArray","promiseArray","url","URLSearchParams","append","shopId","promiseObject","nameString","push","orgId","locId","_toConsumableArray","map","_defineProperty","masters","reduce","o","keys","values","catch","error","_x","_x2","accessCodeUpdate","_Constants$manifest$v","_this5","_this$props","_this$state3","OverlayProcedureMessage","Ionicons","name","marginHorizontal","MaterialIcons","doPressDownload","AntDesign","marginBottom","numberOfLines","Constants","manifest","version","split","Image","source","Logo","resizeMode","minHeight","textInputContainer","TextInput","textInput","placeholder","placeholderTextColor","placeholderStyle","onChangeText","secureTextEntry","autoComplete","autoCorrect","onSubmitEditing","doPressKey","Dimensions","get","platformTiles","doTranslateTableColor","adhocItem","transType","statusFlg","MainTableFloor","_floorTables$","_floorTables$2","_floorTables$3","_floorTables$4","_floorTables$5","_floorTables$6","refresh","tables","handleUpdateFromMainTableFloor","translateX","useSharedValue","translateY","scale","context","x","y","tileSize","floorTables","filter","xaxis","yaxis","infoTables","tempTables","minX","min","Math","maxX","max","minY","maxY","floorWidth","floorHeight","_useState","useState","_useState2","focused","setFocused","useEffect","doPressTable","recKey","gesturePinch","Gesture","Pinch","onStart","_f","_closure","asString","__workletHash","__location","onUpdate","event","gesturePan","Pan","translationX","translationY","gesture","Simultaneous","rStyle","useAnimatedStyle","transform","__optimalization","GestureHandlerRootView","GestureDetector","Animated","ceil","length","_item$vipName","_item$vipName2","Number","shape","_Fragment","index","sqrt","rotateZ","tableId","vipName","pointerEvents","borderLeftWidth","borderLeftColor","padding","seatTime","format","Feather","pax","FlatList","flexGrow","numColumns","data","showsVerticalScrollIndicator","scrollEnabled","keyExtractor","toString","renderItem","_item$vipName3","openorderRecKey","container","MainTable","settings","sections","tablemas","selectedSection","floor","doRefresh","prevProps","_doRefresh","initial","doPressFloor","doPressSection","_doPressFloor","_doPressSection","sectionId","_this$state4","doPressFocusedTable","handlePressTable","handleActionTable","_this$state5","MaterialCommunityIcons","ScrollView","alwaysBounceVertical","activeOpacity","orderType","onetwo","tableLowerBand","paddingVertical","MainMenu","foldergrps","folders","uniqueFolders","Map","v","folderId","menus","uniqueMenus","menuId","modBundles","displayMode","displays","limiteds","searchText","foldergrpId","found","find","selectedFoldergrp","doGet","quick","handlePressMenu","caseText","displaysUpdate","menuName","includes","_intl$get","_intl$get2","_intl$get3","_settings$find","searchBox","searchBoxInputValue","onFocus","doSearchText","searchBoxButton","doPressFoldergrp","Keyboard","dismiss","setId","setString","horizontal","renderMenu","renderMenuB","_ref3","renderFolder","handlePressAdhoc","startTime","endTime","_this6","_this$state6","doPressFolder","_item$listPrice","_foldergrps$find","_folders$find","_this7","_this$state7","restmenuRecKey","disabled","doPressMenu","listPrice","toFixed","serveLimit","serveCount","_foldergrps$find2","_folders$find2","_item$listPrice2","_this8","_this$state8","aspectRatio","uri","restServiceUrl","urlAddr","lastupdate","OverlayAutoLogout","timer","countdown","initialTimer","setInterval","clearInterval","handleUpdateFromAutoLogout","OverlayDeposit","selectedTable","homeDelivery","vipPhone","dlyDate","dpostalcode","daddress1","daddress2","type","ok","address","handleUpdateFromDeposit","tabContainer","doPressDelivery","vipInputsContainer","vipInputsRow","vipInput","textContentType","keyboardType","doChangePostal","doSubmit","tabText","tabFocusText","OverlayScanBarcode","handleSubmit","scanTextInput","focus","handleUpdateFromScanBarcode","searchBoxWrapper","overlaySearchBox","overlaySearchBoxInput","ref","autoFocus","blurOnSubmit","overlaySearchBoxButton","searchBoxInfo","searchBoxInfoText","OverlayRequestAccess","handleUpdateFromRequestAccess","overlayTextUpdate","requestedPrivilege","alignSelf","OverlayChangePrice","privileges","discounts","selectedTableItem","availableDiscounts","overlaySearchText","discountSelected","selectedDiscount","validatePass","overlayRequestAccessVisible","handleOverlaySearchText","handleValidate","priId","userName","loading","superUserId","adminFlg","some","handleUpdateFromChangePrice","availableDiscountsUpdate","discId","discName","paddingBottom","selectText","selectWrapper","overlayGrid","overlayGridFirst","overlayGridFirstLeft","overlayGridFirstLeftText","overlayGridFirstRight","overlayGridFirstRightText","overlayGridSecond","overlayGridSecondText","overlayGridThird","overlayGridThirdLeft","overlayGridThirdRight","overlayGridThirdRightText","overlayBackButton","OverlayLineDiscount","remarks","itemWithRemarks","handleUpdateFromLineDiscount","OverlayHeaderDiscount","handleUpdateFromHeaderDiscount","OverlayMergeTable","availableTables","mergeTables","handleSelectTable","tableFlg","availableTablesUpdate","mergeTablesUpdate","_readOnlyError","selectionContainer","modalAvailableMod","modalAvailableModText","handleUpdateFromMergeTable","flexWrap","marginRight","OverlayChangeTable","handleUpdateFromChangeTable","OverlayReviseItem","tableItems","handleUpdateFromReviseItem","confirmFlg","menuType","discFlg","OverlayTableActions","handleUpdateFromTableActions","OverlayAdditionalFunctions","handleUpdateFromAdditionalFunctions","OverlayChoosePrinter","printers","cashierPrinters","availablePrinters","availablePrintersUpdate","iomodelId","printPurpose","handleUpdateFromChoosePrinter","input","title","subtitle","handleUpdateFromAlert","handleText","cancel","Tab","createBottomTabNavigator","Main","screen","handlePressScan","handleUpdateFromVoid","handleUpdateFromSplitTable","handleUpdateFromTable","global","socket","io","substring","lastIndexOf","query","serviceId","epbId","doChooseDefaultPrinter","close","overlayChoosePrinterVisible","_masters$cashierPrint","homeUpdate","defaultPrinter","_handlePressTable","settingPOSMODE","opentable","emit","opentableItems","users","doClearTable","action","doCreateTable","mode","_settings$find2","globalModBundles","modmas","globalFlg","mustFlg","mods","_masters$modBundles$f","obj","modId","selectedMenu","opentableRecKey","restmenuMod","serviceFlg","orderQty","_settings$find3","camera","overlayScanBarcodeVisible","section","_settings$find4","_response$opentable","d","fireFlg","_settings$find5","overlayReviseItemVisible","_this$state9","_settings$find6","dayclosePayments","posDayCloseAmt","daycloseSubPayments","posDayCloseAmtDtl","overlayAlertInputValue","overlayAlertVisible","printer","_this$state10","refTableId","_settings$find7","pospays","opentablePospays","newStatus","_this$state11","tableStatus","vipId","phone","reservationTime","sourceId","_settings$find8","doToggleScreen","_this$state12","opentableItemRecKey","_settings$find9","_this9","_this$state13","_settings$find10","_this10","_this$state14","newLineBreak","lineBreak","_settings$find11","_this11","_this$state15","_settings$find12","_this12","_this$state16","_settings$find13","overlayDepositVisible","_this$state17","sendFlg","_masters$sections$fin","_this13","_this$state18","printOrder","printOrderFlg","_settings$find14","_this$state19","_this14","_this$state20","_settings$find15","purpose","_this$state21","selectedPrinter","doSendOrder","doPrintBill","doStartPayment","doOpenDrawer","_this15","_this$state22","_settings$find16","doStartDayclose","doDeleteTableItem","doEditTableItem","_this$state23","overlayAdditionalFunctionsVisible","goBack","Date","_handleUpdateFromTableActions","_this$state24","overlayTableActionsVisible","overlayHeaderDiscountVisible","doChangeTableStatus","overlayMergeTableVisible","overlayChangeTableVisible","_this$state25","doRevertTableItem","overlayChangePriceVisible","overlayLineDiscountVisible","doUpdateLineBreak","doDuplicateTableItem","_this16","_this$state26","disc","discNum","_settings$find17","_this17","_this$state27","_settings$find18","_this18","_this$state28","price","_settings$find19","_this19","_this$state29","itemPayloads","mergedOpentableRecKey","_settings$find20","join","tableInfo","table","_this20","_this$state30","opentableRecKeyTo","_settings$find21","_this$state31","doTransTypeSales","doTransTypeDeposit","deliveryFlg","postalCode","addr1","addr2","_this21","_this$state32","addr3","addr4","_settings$find22","_this22","_this$state33","barcode","_settings$find23","_masters$settings$fin","_selectedTable$grandT","_home$defaultPrinter","_this23","_this$state34","overlayAutoLogoutVisible","footerText","locName","marginLeft","tableUpperBand","letterSpacing","sectionName","tab","doPressSend","FontAwesome","Fontisto","borderRightColor","paddingRight","scrollViewRef","onContentSizeChange","scrollToEnd","refRecKey","_item$lineTotal","doTranslateTableItemColor","doPressItem","menuMod","lineTotal","_obj$lineTotal","grandTotal","Navigator","screenOptions","headerShown","animation","gestureEnabled","tabBarStyle","display","Screen","OverlayServiceEntry","handleUpdateFromServiceEntry","Register","savedEntries","selectedItem","doDeleteEntry","doSetEntry","overlayServiceEntryVisible","bistroServiceUrl","doSaveEntry","savedEntriesUpdate","unshift","leftContainer","navigateContainer","navigateWrapper","displayContainer","displayWrapper","gap","gridContainer","grid","doPressEntry","gridFirst","gridFirstLeftText","gridFirstRightText","gridSecond","gridSecondText","gridThird","gridThirdRightText","rightContainer","paddingLeft","doPressAdd","searchBoxInfoLeft","searchBoxInfoRight","gridFirstLeft","gridFirstRight","gridThirdLeft","gridThirdRight","paddingTop","selection","selectionText","tableItemText","tableItemModText","tableItemContainer","tableItemFirstContainer","borderRightWidth","tableItemSecondContainer","tableItemThirdContainer","tableItemFourthContainer","titleFirstContainer","titleSecondContainer","titleThirdContainer","titleFourthContainer","titleText","Preference","doReset","preferenceUpdate","isNaN","rpartition","doTcolsize","doPcolsize","selectTextOnFocus","defaultValue","doUsecondary","doMcolsize","doMquick","doDsecondary","doPressReset","OverlaySplitItems","receipts","docId","percentage","handleFillPercentagesEvenly","handleSetPercentageForReceipt","handleSetFullPercentageForReceipt","numberString","number","receiptsUpdate","findIndex","aggregate","init","handleUpdateFromSplitItems","selectedTableItems","overlayScroll","inputRow","inputRowLeft","inputRowTitleText","inputRowSubtitleText","inputRowRight","percentageText","overlayNumber","Split","availableReceipts","receiptItems","overlaySplitItemsVisible","handleSelectTableItem","handleSplitSelectedTableItems","handleUndoAll","handleSelectAllUnsplitTableItems","handleDeselectAllUnsplitTableItems","selectedTableItemsUpdate","comboItems","distribution","handleUpdateFromSplit","_this$props2","wrapper","itemsContainer","actionButton","splitScroll","snapToInterval","wrapperWidth","decelerationRate","OverlayInputReference","handleUpdateFromInputReference","OverlayMergeBill","selectedTargetTable","filteredResponse","handleUpdateFromMergeBill","OverlaySplitBill","handleQtyChange","prevState","adjustContainer","adjustFirst","adjustSecond","handleNumberChange","adjustThird","handleUpdateFromSplitBill","keyHeight","OverlaySplitAmount","amount","warning","handleFillRemainder","handleSetAmountForReceipt","handleUpdateFromSplitAmount","equal","doFillEvenly","OverlayUpdateTips","paymentMethods","availablePaymentMethods","selectedPaymentMethod","availablePaymentMethodsUpdate","pmId","handleUpdateFromUpdateTips","OverlayViewSplitted","handleUpdateFromViewSplitted","PaynowQR","opts","defineProperty","generate","qrstring","s","n","str","String","i","crcTable","crc","c","charCodeAt","RangeError","trim","p","id","uen","editable","expiry","company","otherdata","refNumber","final","current","f","padLeft","crc16","qrcode","reference","orgName","qrcodeString","output","QRCode","logo","Paynow","logoSize","handleUpdateFromPaynow","Pos","payments","selectedPaymentItem","pay","balance","overlayPaynowVisible","overlayInputReferenceVisible","overlayMergeBillVisible","overlaySplitBillVisible","overlaySplitAmountVisible","overlayUpdateTipsVisible","overlayViewSplittedVisible","splitting","splitReceipts","handleBuildNumberString","handleSelectPaymentMethod","handleRounding","handleEnterButton","handleFinishButton","handleAddPayment","handleDeletePayment","handleFinishPayment","handleUnsplitBill","handlePressPaymentItem","handlePressDeletePaymentItem","handlePressPaymentItemRef","handlePressMerge","handlePressUnmerge","handlePressTips","handlePressSplit","handlePressUnsplit","handleViewSplitted","handleOpenDrawer","handleValidateAmount","newNumberString","slice","maxLength","indexOf","refType","numberStringUpdate","vipPtsMoney","numberStringVal","isInteger","refFlg","payRef","payMoney","opentablePospayRecKey","payAmt","roundAmt","handleAfterAddPayment","overlayPaynowInput","docNo","roundingFlg","roundType","round","splitCount","receiptmases","splittedReceipts","receiptRecKey","itemPercentages","itemRecKey","splittedReceiptsByamt","amt","_settings2$find","opentableRecKeyGuest","tips","e","nativeEvent","layout","OverlayPaynow","leftFirstContainer","rowOf5","onLayout","doLayout","headerKeyContainer","headerKeyTextTableId","headerKeyText","splitFlg","hostFlg","leftSecondContainer","tableSummaryContainer","tableSummaryTitleContainer","tableSummaryTitle","tableSummaryTitleText","tipsPmId","tableSummaryValueContainer","tableSummaryValue","tableSummaryValueText","beforeDisc","totalDisc","serviceCharge","totalTax","tender","change","maxHeight","showsHorizontalScrollIndicator","paymentsContainer","paymentsFirst","paymentsTitleText","paymentsSecond","paymentsThird","paymentsFourth","paymentsZero","posScrollView","contentWidth","contentHeight","animated","datumContainer","datumFirst","datumText","datumSecond","datumThird","datumFourth","datumZero","rightFirstContainer","extraData","activeFunctionKeyContainer","functionKeyContainer","activeFunctionKeyText","functionKeyText","rightFirstNumberContainer","rightFirstNumberText","rightSecondContainer","rightSecondLeftContainer","clearContainer","keyText","rightSecondMiddleContainer","keyContainer","keyNumberText","rightSecondRightContainer","backspaceContainer","enterContainer","finishContainer","borderColor","borderWidth","dataContainer","OverlaySettleAdhoc","availableMenus","availableMenusUpdate","handleUpdateFromSettleAdhoc","kotType","Adhoc","working","artifacts","selectedAdhocItem","menu","overlaySettleAdhocVisible","pageObject","doLoad","totalPages","pageIndex","remotePage","content","newList","splice","replace","searchTextInput","blur","doReload","adhocItems","opentableAdhocs","_objectDestructuringEmpty","doDeleteAdhoc","doRevertAdhoc","adhocRecKey","opentableAdhocRecKey","total","totalElements","titleZeroContainer","doPressSettleAdhoc","netPrice","tableItemZeroContainer","doPressDeleteAdhoc","doPressRevertAdhoc","doChangeText","doClearSearch","stkId","uomId","retailListPrice","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","model","remark","onEndReachedThreshold","onEndReached","windowSize","Dayclose","systemAmt","handleFinishDayclose","daycloseRecKey","masRecKey","verify","subVerify","_this$setState","pmValue","settingDAYCLOSEVERIFY","containerFirst","containerSecond","summary","summaryText","summaryTotalText","floatAmt","lineNo","subPmId","containerThird","Printer","handlePingAll","printersUpdate0","printersUpdate","msgId","handlePingPrinter","handleTestAll","printPort","handlePressPingAll","handlePressTestAll","OverlayEnterDate","dateString","valid","isValid","dateStringUpdate","add","subtract","inputRowFirst","inputRowSecond","inputRowThird","handleUpdateFromEnterDate","dateType","Report","selectedButton","fromDateString","toDateString","reportDetails","overlayEnterDateVisible","handlePressDate","handleSelectReport","handlePrintReport","selectedDateType","selectedDateString","report","reportCode","fromDateStringUpdate","toDateStringUpdate","reportContainer","reportLineContainer","reportLineFirst","reportLineFirstText","description","reportLineSecond","reportLineSecondText","qty","reportLineThird","reportLineThirdText","val","borderTopLeftRadius","borderTopRightRadius","Reprint","availableMasters","searches","selectedMaster","details","receiptsxText","pays","handlePressSearch","handleSelectButton","handleSelectMaster","handleReprint","handleSearchText","receiptmas","receiptpaydtl","receiptitems","receiptpays","availableMastersUpdate","c1","c2","createUserId","createDate","_ref4","_ref5","Resequence","arrangedItems","handleReset","handleAddLineBreak","handleRemoveLineBreak","handleResequence","handleShiftTop","handleShiftUp","handleShiftDown","handleShiftBottom","arrangedItemsUpdate","_arrangedItemsUpdate","scrollToOffset","offset","_arrangedItemsUpdate2","spliceIndex","concat","_arrangedItemsUpdate3","skip","_arrangedItemsUpdate4","newLineNo","lineBreakContainer","Transfer","handleSelectTargetTable","handlePressSelectAll","editOrderQty","foundSelected","foundOriginal","opentableRecKeyFrom","transferOrderQty","generateTextForSelectAll","_selectedTableItems$f","doChangeQty","SplitTable","splitOrderQty","OverlayVoidReceipt","returns","availableReturns","selectedReturn","availableReturnsUpdate","returnId","handleUpdateFromVoidReceipt","Void","overlayVoidReceiptVisible","reopenResponse","handleVoid","handlePressVoid","handlePressReopen","docDateString","Collect","handlePressCollect","Table","vipSources","availableVipSources","overlayPax","capacity","overlayVip","vipDisc","cumPts","classId","overlayValidateVipId","overlayValidateCardNumber","overlayValidateNric","overlayValidateVipName","overlayValidateVipPhone","overlayValidateVipPhoneCountryCode","overlayValidateEmailAddress","vipResults","selectedVipResult","overlaySource","overlaySourceSearch","overlayDeliveryFlg","overlayPostalCode","overlayAddr1","overlayAddr2","overlayAddr3","daddress3","overlayAddr4","daddress4","activeTab","handlePressTab","handleSearchVip","handleEnterVip","handleClearVip","handlePressNext","handlePressPrev","handleAddressChange","handleCheckDeliveryFlg","cardNumber","nric","emailAddress","vipPhoneCountryCode","customerNumber","mobileNumber","emailaddress","customerSource","availableVipSourcesUpdate","overlayTabWidth","tabsContainer","overlayTab","handlePaxChange","hasActiveMembership","overlayGridThirdLeftText","detailWrapper","detailTitle","detailText","overlayOptionsContainer","overlayOptionContainer","maxWidth","overlaySearchBoxButtonText","overlaySearchVipButton","Menu","_props$route$params$s","_props$route$params$s2","_props$route$params$s3","_props$route$params$s4","_props$route$params$s5","_props$route$params$s6","_props$route$params$s7","_props$route$params$m","_props$route$params$s8","_props$route$params$s9","qtyInput","modInput","modRecKeys","qtyInputUpdate","modInputUpdate","selectedModBundle","modRecKeysUpdate","modType","moditems","_selectedTableItem$li","_selectedMenu$listPri","_mods$filter","_mods$filter$map","contentContainerStyle","modButton","doPressMod","modText","multiline","menuQtyRow","menuQtyRowFirst","menuQtyRowSecond","qtyTextInput","doValidateQty","menuQtyRowThird","modifierTextInput","modContainer","doPressModBundle","doToggleOrderType","doToggleLineBreak","Scan","hasCameraPermission","detected","handleBarCodeScanned","status","BarCodeScanner","requestPermissionsAsync","dataUpdate","charAt","onBarCodeScanned","backButton","iconContainer","windowWidth","windowHeight","Trace","maps","thisTable","thisUser","traceRef","alwaysBounceHorizontal","traceText","doToggleUser","doToggleTable","Activate","updateds","overlayRequestPrivilegeVisible","handleSelectMenu","handleSelectUpdated","handlePressDisplayMode","handleUpdateMenu","doGetMenu","updatedsUpdate","itemUpdate","restmenuRecKeys","newStatusFlg","Limit","onlineStatusFlg","_limiteds$find","_limiteds$find2","_limiteds$find3","doLimitMenu","doSelectMenu","inputContainer","inputRowLeftText","doToggleStatus","inputRowRightText","doToggleOnlineStatus","Fire","kitchenmsgs","kottypes","selectedKottypes","selectedKitchenmsg","_item$kotTypes","kotTypes","selectedKottypesUpdate","opentableItemRecKeys","_kottypes$find","navigateButton","navigateButtonText","doPressKitchenmsg","doPressTableItem","kotName","ListHeaderComponent","doPressAllKottype","doPressKottype","doPressFire","Combo","comboGroups","refMenuId","selectedComboItems","selectedComboItem","doPrepareComboItems","tableItemsUpdate","comboItemsUpdate","_tableItems$find","_tableItems$find2","_tableItems$find2$mod","comboitemRecKey","selectedComboItemsUpdate","groupNo","maxSelectItem","minSelectItem","arr","combogroupRecKey","doComboItemModInput","_comboItems$find","groupName","renderComboItem","_item$addonPrice","doPressComboItem","addonPrice","Secondary","doRoomParticipate","on","off","Stack","createNativeStackNavigator","App","_len","args","_key","locales","require","Font","loadAsync","getPermissionsAsync","resolve","NavigationContainer","StatusBar","hidden","component","navigationOptions","presentation","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code","module","exports","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","a","leafPrototypes","getProto","getPrototypeOf","t","ns","def","getOwnPropertyNames","definition","enumerable","g","globalThis","Function","window","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}