{"version":3,"file":"static/js/main.0ac24100.js","mappings":"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","sources":["assets/utility.js","assets/theme.js","src/OverlayProcedureMessage.js","src/OverlayLanguage.js","src/Login.js","src/MainTable.js","src/MainMenu.js","src/OverlayAutoLogout.js","src/OverlayDeposit.js","src/OverlayScanBarcode.js","src/OverlayRequestAccess.js","src/OverlayChangePrice.js","src/OverlayLineDiscount.js","src/OverlayHeaderDiscount.js","src/OverlayMergeTable.js","src/OverlaySplitTable.js","src/OverlayChangeTable.js","src/OverlayReviseItem.js","src/OverlayTableActions.js","src/OverlayAdditionalFunctions.js","src/OverlayChoosePrinter.js","src/OverlayAlert.js","src/Main.js","src/OverlayServiceEntry.js","src/Register.js","src/Preference.js","src/OverlaySplitItems.js","src/Split.js","src/OverlayInputReference.js","src/OverlayMergeBill.js","src/OverlaySplitBill.js","src/OverlaySplitAmount.js","src/OverlayUpdateTips.js","src/OverlayViewSplitted.js","src/OverlayPaynow.js","src/Pos.js","src/Adhoc.js","src/Dayclose.js","src/Printer.js","src/OverlayEnterDate.js","src/Report.js","src/Reprint.js","src/Resequence.js","src/Transfer.js","src/OverlayVoidReceipt.js","src/Void.js","src/Collect.js","src/Table.js","src/Menu.js","src/Scan.js","src/Trace.js","src/Activate.js","src/Limit.js","src/Fire.js","src/Combo.js","App.js","node_modules/moment/locale|sync|/^/.*$","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import React, { useContext } from 'react'\nimport * as RN from 'react-native';\n// import ThemeContext from '../ThemeContext';\n\n// text wrapper for custom style text component\nexport function Text({ style, children, ...rest }) {\n\n  // const themeContext = useContext(ThemeContext);\n\n  let styleObject = style;\n  // convert array to object\n  if (Array.isArray(style)) {\n    styleObject = {};\n    style.forEach(el => {\n      styleObject = Object.assign(styleObject, el);\n    })\n  }\n\n  return (\n    // override font size\n    <RN.Text style={{ ...styleObject, fontSize: (styleObject?.fontSize || 14), fontFamily: (styleObject?.fontFamily || 'varela-round') }} {...rest}>\n      {children}\n    </RN.Text>\n  );\n};\n\nexport function debug(serviceEntry, msg1, msg2, msg3, msg4, msg5, msg6) {\n  fetch(serviceEntry + 'api/debug/', {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n    body: JSON.stringify({\n      msg1, // action\n      msg2, // user name\n      msg3, // error\n      msg4, // target id (table)\n      msg5, // detail name (tableItem)\n      msg6, // additional info (other)\n    }),\n  })\n}","import { Platform } from 'react-native';\r\n\r\nconst theme = {\r\n  vacant: '#30BEAE', // hsl(173, 60%, 47%)\r\n  reserved: '#FFB86F', // hsl(30, 100%, 72%)\r\n  occupied: '#2A79A8', //\thsl(202, 60%, 41%)\r\n  paid: '#E84855', // hsl(355, 78%, 60%)\r\n  unavailable: '#424549',\r\n  adhoc: '#7a4988', // hsl(287, 30%, 41%)\r\n  deposit: '#d65c91', // hsl(334, 60%, 60%)\r\n  grey1: '#23272A',\r\n  grey2: '#2C2F33',\r\n  grey3: '#36393E',\r\n  grey4: '#424549',\r\n  grey5: '#99aab5',\r\n\r\n  grey7: '#E3E5E8',\r\n  grey8: '#EBEDEF',\r\n  grey9: '#F2F3F5',\r\n\r\n  size: Platform.OS === 'web' ? 5 : 4,\r\n\r\n  black8: '#000000aa', // cc is 0.8, aa is not\r\n  white8: '#ffffffcc',\r\n}\r\n\r\nexport default theme;","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayproceduremessage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>WARNING</Text>\r\n            <Text style={[styles.overlaySubtitleText, { color: theme.paid }]}>Procedure Message</Text>\r\n            <Text style={styles.overlayText}>{this.props.text.toUpperCase()}</Text>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromProcedureMessage('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 3,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Feather, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayLanguage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlaylanguage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Language  </Text>\r\n            {/* <Text style={styles.overlayText}>Select a message for the chef</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('en')}>\r\n              <Text style={{ marginTop: 5, color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>Aa</Text>\r\n              <Text style={[styles.buttonText,]}>ENGLISH</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zhs')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={[styles.buttonText,]}></Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zht')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={styles.buttonText}></Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('ja')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={styles.buttonText}></Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromLanguage('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, Platform, Dimensions } from 'react-native';\r\nimport * as Linking from 'expo-linking';\r\nimport Constants from 'expo-constants';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text, debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport Logo from '../assets/logo-small-light.png';\r\nimport moment from 'moment';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayLanguage from './OverlayLanguage';\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      preference: null,\r\n      language: '-',\r\n      serviceEntry: '',\r\n      serviceEntryObj: null,\r\n      accessCode: '',\r\n      password: '',\r\n      userId: '',\r\n      home: null,\r\n\r\n      dev: false,\r\n      // dev: true,\r\n    };\r\n\r\n    this.handleUpdateFromLanguage = this.handleUpdateFromLanguage.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { navigation } = this.props;\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const language = await AsyncStorage.getItem('language');\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n    } else {\r\n      preference = {\r\n        tcolsize: Platform.OS === 'web' ? 5 : 4,\r\n        mcolsize: Platform.OS === 'web' ? 3 : 2,\r\n        pcolsize: Platform.OS === 'web' ? 5 : 3,\r\n        mquick: 'Y',\r\n      };\r\n      AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n    }\r\n\r\n    console.log('mounting service', serviceEntry)\r\n    let serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (serviceEntryObj) {\r\n      serviceEntryObj = JSON.parse(serviceEntryObj);\r\n    } else {\r\n      serviceEntryObj = null;\r\n    }\r\n    this.setState({\r\n      preference,\r\n      serviceEntry,\r\n      language: language || 'en',\r\n      serviceEntryObj,\r\n    })\r\n    // dev only\r\n    if (this.state.dev) {\r\n      this.setState({\r\n        accessCode: 'qwe'\r\n      }, () => this.doSubmitAccessCode())\r\n    }\r\n  }\r\n\r\n  async didFocus() {\r\n    const { route } = this.props;\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (preference) {\r\n      this.setState({ preference: JSON.parse(preference) })\r\n    }\r\n    if (serviceEntryObj) {\r\n      this.setState({ serviceEntryObj: JSON.parse(serviceEntryObj) })\r\n    }\r\n    this.setState({ serviceEntry })\r\n    if (route.params?.sync && (moment(route.params.sync).diff(moment(), 'seconds') > -1)) {\r\n      this.doSubmitAccessCode();\r\n    } else {\r\n      if (!this.state.dev) {\r\n        this.setState({\r\n          accessCode: ''\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  handleUpdateFromLanguage(item) {\r\n    this.setState({\r\n      overlayLanguageVisible: false,\r\n    })\r\n    if (!item) {\r\n      return;\r\n    }\r\n    intl.options.currentLocale = item;\r\n    AsyncStorage.setItem('language', item);\r\n    this.setState({\r\n      language: item,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressDownload() {\r\n    Alert.alert(\r\n      `Download latest bistro app?`,\r\n      '',\r\n      [\r\n        {\r\n          text: 'Cancel',\r\n        },\r\n        {\r\n          text: 'Ok',\r\n          onPress: () => this.doDownload()\r\n        },\r\n      ],\r\n    );\r\n  }\r\n\r\n  doDownload() {\r\n    if (Platform.OS === 'ios') {\r\n      Linking.openURL(`itms-apps://itunes.apple.com/app/id6443468946`);\r\n    }\r\n  }\r\n\r\n  doSubmitPassword() {\r\n    const { serviceEntry, userId, password } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      userId: userId,\r\n      password: password,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  doSubmitAccessCode() {\r\n    const { serviceEntry, accessCode } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      accessCode: accessCode,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  async doLogIn(link, body) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry } = this.state;\r\n\r\n    fetch(link, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post login', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          throw response;\r\n        }\r\n        this.setState({\r\n          home: response,\r\n        });\r\n        return Promise.all([\r\n          AsyncStorage.setItem('home', JSON.stringify(response)),\r\n          response,\r\n        ]);\r\n      })\r\n      .then(([response, home]) => {// do parallel chain\r\n\r\n        let promiseArray = [];\r\n\r\n        let url = serviceEntry + 'api/sections';\r\n        let params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        let promiseObject = { url: url, nameString: 'sections' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/tablemas';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'tablemas' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/foldergrps';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'foldergrps' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/folders';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'folders' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/menus';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'menus' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mods';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'mods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mod-bundles';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'modBundles' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-items';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboItems' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-groups';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboGroups' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/payment-methods';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'paymentMethods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/vip-sources';\r\n        promiseObject = { url: url, nameString: 'vipSources' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/discounts';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'discounts' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/returns';\r\n        promiseObject = { url: url, nameString: 'returns' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/settings';\r\n        params = new URLSearchParams();\r\n        params.append('appCode', 'RESTMENU');\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'settings' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/privileges';\r\n        params = new URLSearchParams();\r\n        params.append('userId', home.userId);\r\n        params.append('locId', home.locId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'privileges' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/cashier-printers';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'cashierPrinters' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kottype';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kottypes' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kitchenmsgs';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kitchenmsgs' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        return Promise.all([\r\n          ...promiseArray.map(el =>\r\n            fetch(el.url)\r\n              .then(response => response.json())\r\n              .then(response => {\r\n                console.log('fetching', el.nameString, response);\r\n                return ({ [el.nameString]: response });\r\n              })\r\n          )\r\n        ]);\r\n      })\r\n      .then(response => {\r\n        const masters = response.reduce((o, item) => ({ ...o, [Object.keys(item)[0]]: Object.values(item)[0] }), {});\r\n        console.log('masters', masters);\r\n        navigation.navigate('Main', {\r\n          masters,\r\n          home: this.state.home,\r\n          serviceEntryObj: this.state.serviceEntryObj,\r\n          serviceEntry: this.state.serviceEntry,\r\n          preference: this.state.preference\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log('error', error);\r\n        this.setState({\r\n          accessCode: '',\r\n        })\r\n      });\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { accessCode } = this.state;\r\n    let accessCodeUpdate = accessCode + item;\r\n    this.setState({ accessCode: accessCodeUpdate });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { serviceEntryObj, serviceEntry, language, userId, password, accessCode,\r\n      overlayProcedureMessageVisible, overlayLanguageVisible } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayLanguageVisible &&\r\n          <OverlayLanguage\r\n            handleUpdateFromLanguage={this.handleUpdateFromLanguage} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ flex: 1, backgroundColor: 'white', }}>\r\n          <View style={{ flex: 2, }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View>\r\n                <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.paid }}\r\n                  onPress={() => navigation.navigate('Register')}>\r\n                  <Ionicons name='ios-globe' size={24} color={theme.grey1} style={{ height: 24, width: 24, marginTop: -2 }} />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ marginHorizontal: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.reserved }}\r\n                  onPress={() => navigation.navigate('Preference')}>\r\n                  <MaterialIcons name=\"miscellaneous-services\" size={24} color={theme.grey1} />\r\n                </TouchableOpacity>\r\n                {\r\n                  Platform.OS === 'ios' &&\r\n                  <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.occupied }}\r\n                    onPress={() => this.doPressDownload()}>\r\n                    <AntDesign name=\"clouddownload\" size={24} color={theme.grey1} />\r\n                  </TouchableOpacity>\r\n                }\r\n              </View>\r\n\r\n            </View>\r\n            <View style={{ margin: 20, alignItems: 'flex-end', justifyContent: 'flex-end', }}>\r\n              <Text style={{ color: theme.paid }}>{serviceEntryObj?.name || 'Entry'}</Text>\r\n              <Text style={{ fontSize: 10, marginBottom: 5, color: theme.occupied }} numberOfLines={1}>{serviceEntry}</Text>\r\n              <Text style={{ fontSize: 18 }}>AN EXTENSION OF THE EPB SYSTEM</Text>\r\n              <Text style={{ fontSize: 18 }}>VERSION {Constants.manifest.version?.split('.')[0]}</Text>\r\n            </View>\r\n          </View>\r\n          <Image\r\n            style={{ flex: 1, width: '100%', }}\r\n            source={Logo}\r\n            resizeMode='contain'\r\n          />\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: theme.grey1, justifyContent: 'center', alignItems: 'center' }}>\r\n          <TouchableOpacity style={{ position: 'absolute', right: 20, top: 20, minHeight: 40, alignItems: 'flex-end' }}\r\n            onPress={() => this.setState({ overlayLanguageVisible: true })}>\r\n            <Text style={{ color: 'white', textTransform: 'uppercase' }}>{language === 'ja' ? '' : language === 'zhs' ? '' : language === 'zht' ? '' : 'EN'}</Text>\r\n            <Text style={{ color: 'white', fontSize: 10 }}>LANGUAGE  </Text>\r\n          </TouchableOpacity>\r\n          <View style={styles.textInputContainer}>\r\n            <TextInput style={styles.textInput}\r\n              placeholder={intl.get('accesscode')}\r\n              placeholderTextColor='white'\r\n              placeholderStyle={{ textTransform: 'uppercase' }}\r\n              onChangeText={text => this.setState({ accessCode: text })}\r\n              value={accessCode}\r\n              secureTextEntry\r\n              autoComplete='off'\r\n              autoCorrect={false}\r\n              onSubmitEditing={() => this.doSubmitAccessCode()}\r\n            />\r\n          </View>\r\n\r\n          <View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('1')}>\r\n                <Text style={styles.buttonText}>1</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('2')}>\r\n                <Text style={styles.buttonText}>2</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('3')}>\r\n                <Text style={styles.buttonText}>3</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('4')}>\r\n                <Text style={styles.buttonText}>4</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('5')}>\r\n                <Text style={styles.buttonText}>5</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('6')}>\r\n                <Text style={styles.buttonText}>6</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('7')}>\r\n                <Text style={styles.buttonText}>7</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('8')}>\r\n                <Text style={styles.buttonText}>8</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('9')}>\r\n                <Text style={styles.buttonText}>9</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.setState({ accessCode: '' })}>\r\n                <AntDesign name='close' color='white' size={24} />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('0')}>\r\n                <Text style={styles.buttonText}>0</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.doSubmitAccessCode()}>\r\n                <AntDesign name='enter' color='white' size={24} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').width / 16;\r\n\r\nconst styles = StyleSheet.create({\r\n  textInputContainer: {\r\n    width: '80%',\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n    height: 60,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n  },\r\n  textInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 20,\r\n    borderRadius: 100,\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    // height: keyHeight - 10,\r\n    // width: keyHeight - 10,\r\n    height: 48,\r\n    width: 48,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'black',\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, MaterialCommunityIcons, Feather, Ionicons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, Text, TextInput, Alert, FlatList, ScrollView, Platform } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport moment from 'moment';\r\n\r\nexport default class MainTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      preference: props.preference,\r\n      settings: props.masters.settings,\r\n      sections: props.masters.sections || [],\r\n      tablemas: props.masters.tablemas,\r\n      tables: [],\r\n      floorWidth: null,\r\n\r\n      selectedSection: null,\r\n      focused: null,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.doRefresh(true);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.refresh && prevProps.refresh !== this.props.refresh) {\r\n      console.log('componentDidUpdate', prevProps.refresh, this.props.refresh)\r\n      this.setState({\r\n        focused: null,\r\n      })\r\n      this.doRefresh();\r\n    }\r\n  }\r\n\r\n  async doRefresh(initial) {\r\n    const { sections, selectedSection } = this.state;\r\n    if (initial) {\r\n      if (sections.length > 0) {\r\n        await this.doPressFloor();\r\n      } else {\r\n        await this.doPressSection({ sectionId: 'SYS' });\r\n      }\r\n    } else {\r\n      if (selectedSection?.sectionId === 'FLOOR') {\r\n        await this.doPressFloor();\r\n      } else if (selectedSection) {\r\n        await this.doPressSection(selectedSection);\r\n      } else {\r\n        this.doRefresh(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  async doPressFloor() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('tableFlg', 'Y');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: 'FLOOR' },\r\n        });\r\n      })\r\n  }\r\n\r\n  async doPressSection(item) {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n\r\n    if (item?.sectionId === 'OCCUPIED') {\r\n      params.append('statusFlg', 'C');\r\n      params.append('tableFlg', 'Y');\r\n    } else if (item?.sectionId === 'RESERVED') {\r\n      params.append('statusFlg', 'B');\r\n    } else if (item?.sectionId === 'SYS') {\r\n      params.append('sectionId', item.sectionId)\r\n      params.append('statusFlg', 'C');\r\n    } else {\r\n      params.append('sectionId', item.sectionId)\r\n    }\r\n\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: item.sectionId },\r\n        });\r\n      })\r\n  }\r\n\r\n  doPressTable(item) {\r\n    const { focused, selectedSection } = this.state;\r\n    if (focused?.tableId === item.tableId) {\r\n      this.setState({\r\n        focused: null\r\n      })\r\n      this.doPressFocusedTable(item);\r\n      return;\r\n    }\r\n    if (item.sectionId !== 'SYS') {\r\n      this.doPressSection(selectedSection);\r\n      this.setState({\r\n        focused: item,\r\n      })\r\n    }\r\n    this.props.handlePressTable(item);\r\n  }\r\n\r\n  doPressFloorTable(item) {\r\n    const { tables, focused } = this.state;\r\n    if (focused?.tableId === item.tableId) {\r\n      this.setState({\r\n        focused: null\r\n      })\r\n      this.doPressFocusedTable(tables.find(el => el.tableId === item.tableId));\r\n      return;\r\n    }\r\n    this.doPressFloor()\r\n    this.setState({\r\n      focused: item\r\n    })\r\n    this.props.handlePressTable(tables.find(el => el.tableId === item.tableId));\r\n  }\r\n\r\n  doPressFocusedTable(item) {\r\n    if (item.statusFlg === 'A') {\r\n      this.props.handleActionTable(item, 'OPEN')\r\n    } else if (item.statusFlg === 'C') {\r\n      this.props.handleActionTable(item, 'EDIT')\r\n    }\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateFloorTableColor(item) {\r\n    const { tables } = this.state;\r\n    return this.doTranslateTableColor(tables.find(el => el.tableId === item.tableId))\r\n  }\r\n\r\n  doLayout(e) {\r\n    this.setState({\r\n      floorWidth: e.nativeEvent.layout.width / 16,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { preference, sections, settings, tables, selectedSection } = this.state;\r\n    // console.log(tables && tables[0])\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n          {\r\n            selectedSection?.sectionId === 'FLOOR' ?\r\n              this.renderFloor()\r\n              :\r\n              <FlatList\r\n                style={{ flex: 1, padding: 3 }}\r\n                showsVerticalScrollIndicator={false}\r\n                numColumns={preference.tcolsize}\r\n                horizontal={false}\r\n                data={selectedSection?.sectionId === 'SYS' ? [{ recKey: -999 }, ...tables] : tables}\r\n                keyExtractor={(item, index) => item.recKey.toString()}\r\n                renderItem={({ item, index }) => this.renderTable(item, index)}\r\n                initialNumToRender={25}\r\n              />\r\n          }\r\n        </View>\r\n        <View style={{ margin: 5, width: 120, }}>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 80, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressFloor()}>\r\n            <MaterialCommunityIcons name=\"mapbox\" size={30} color=\"white\" style={{ height: 28 }} />\r\n            <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('floorplan')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'SYS' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text>\r\n            {/* <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text> */}\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.reserved, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'RESERVED' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('B')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.occupied, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'OCCUPIED' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('C')}</Text>\r\n          </TouchableOpacity>\r\n          {\r\n            sections &&\r\n            <ScrollView style={{ flex: 1, }}\r\n              showsVerticalScrollIndicator={false}>\r\n              {\r\n                sections.map((item, index) => (\r\n                  <TouchableOpacity key={index}\r\n                    style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: selectedSection?.sectionId === item.sectionId ? 'white' : theme.grey1, borderRadius: 5, marginVertical: 5 }}\r\n                    onPress={() => this.doPressSection(item)}>\r\n                    <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: selectedSection?.sectionId === item.sectionId ? 'black' : 'white' }}>{item.name}</Text>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n          }\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n\r\n  renderTable(item, index) {\r\n    const { selectedSection, preference, focused } = this.state;\r\n    if (selectedSection?.sectionId === 'SYS' && index === 0) {\r\n      return (\r\n        <TouchableOpacity style={{ flex: 1 / preference.tcolsize, aspectRatio: 1, }}\r\n          onPress={() => this.props.handleActionTable(null, 'CREATE')}>\r\n          <View style={{ flex: 1, margin: 3, backgroundColor: theme.grey4, justifyContent: 'center', alignItems: 'center' }}>\r\n            <AntDesign name=\"pluscircleo\" size={36} color={theme.grey1} />\r\n          </View>\r\n        </TouchableOpacity>\r\n      )\r\n    }\r\n    return (\r\n      <TouchableOpacity style={{ flex: 1 / preference.tcolsize, aspectRatio: 1, }}\r\n        disabled={!item.tableId}\r\n        onPress={() => this.doPressTable(item)}>\r\n        <View style={{ flex: 1, margin: 3, backgroundColor: this.doTranslateTableColor(item), justifyContent: 'center', alignItems: 'center' }}>\r\n          {\r\n            item.seatTime &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', top: 5, left: 5, color: 'black', fontSize: theme.size * 4 }}>{moment(item.seatTime).format('HH:mm')}</Text>\r\n          }\r\n          {\r\n            (item.sectionId !== 'SYS' && item.pax > 0) &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', top: 5, right: 5, color: 'white', fontSize: theme.size * 4 }}>{item.pax} <Feather color='white' name='users' size={theme.size * 4} /></Text>\r\n          }\r\n          <Text style={{ fontFamily: 'varela-round', color: 'rgba(0,0,0,0.8)', fontSize: 22, letterSpacing: 1 }}>{item.tableId}</Text>\r\n          {\r\n            item.vipName &&\r\n            <Text style={[styles.tableLowerBand]}>{item.vipName}</Text>\r\n          }\r\n          {\r\n            item.grandTotal > 0 &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', bottom: 5, right: 5, color: 'black', fontSize: theme.size * 4 }}>${item.grandTotal}</Text>\r\n          }\r\n        </View>\r\n        {\r\n          focused?.tableId === item.tableId &&\r\n          <View style={{ position: 'absolute', top: 3, left: 3, right: 3, bottom: 3, backgroundColor: 'white', alignItems: 'center', justifyContent: 'center' }}>\r\n            {\r\n              (item.statusFlg === 'A' || item.statusFlg === 'C') &&\r\n              <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('press')}</Text>\r\n            }\r\n            <Text style={{ fontFamily: 'varela-round', color: 'rgba(0,0,0,0.8)', fontSize: 22, letterSpacing: 1 }}>{item.tableId}</Text>\r\n            {\r\n              item.statusFlg === 'A' ?\r\n                <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('open')}</Text>\r\n                : item.statusFlg === 'C' ?\r\n                  <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('edit')}</Text>\r\n                  : null\r\n            }\r\n          </View>\r\n        }\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  renderFloor() {\r\n    const { home, tablemas, tables, floorWidth, focused } = this.state;\r\n    return (\r\n      <ScrollView style={{ flex: 1 }}\r\n        showsVerticalScrollIndicator={false}>\r\n        <View style={{ flex: 1, aspectRatio: 1, backgroundColor: theme.grey1, overflow: 'hidden', borderRadius: 5 }}>\r\n          <View style={{ position: 'absolute', left: 0, right: 0, top: 0, bottom: 0 }}>\r\n            <View style={{ flex: 1, justifyContent: 'space-between' }}>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n            </View>\r\n          </View>\r\n          <View style={{ position: 'absolute', left: 0, right: 0, top: 0, bottom: 0 }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 3, }} onLayout={(e) => this.doLayout(e)}>\r\n            {\r\n              floorWidth && tablemas.map(item =>\r\n                <View key={item.recKey}\r\n                  style={{ position: 'absolute', left: item.xaxis * floorWidth, top: Number(item.yaxis * floorWidth), width: item.width * floorWidth, height: Number(item.height * floorWidth) }}>\r\n                  {\r\n                    item.shape === 'B' ?\r\n                      <TouchableOpacity style={{ flex: 1, alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? floorWidth * item.height : 0 }}\r\n                        onPress={() => this.doPressFloorTable(item)}>\r\n                        <View style={{ height: Math.sqrt(0.5) * (item.width * floorWidth - 6), width: Math.sqrt(0.5) * (item.width * floorWidth - 6), backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), transform: [{ rotateZ: '45deg' }], justifyContent: 'center', alignItems: 'center' }}>\r\n                          <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20, transform: [{ rotateZ: '-45deg' }] }}>{item.tableId}</Text>\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                      :\r\n                      <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? floorWidth * item.height : 0 }}\r\n                        onPress={() => this.doPressFloorTable(item)}>\r\n                        <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20 }}>{item.tableId}</Text>\r\n                      </TouchableOpacity>\r\n                  }\r\n                  {/* {\r\n                    // top and bottom chairs\r\n                    (item.width > item.height && item.shape === 'A') &&\r\n                    <>\r\n                      <View style={{ position: 'absolute', top: -3, left: 0, right: 0, height: 6, flexDirection: 'row', }}>\r\n                        {\r\n                          [...Array(item.width)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: theme.grey4, borderTopLeftRadius: 3, borderTopRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                      <View style={{ position: 'absolute', bottom: -3, left: 0, right: 0, height: 6, flexDirection: 'row', }}>\r\n                        {\r\n                          [...Array(item.width)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: theme.grey4, borderBottomLeftRadius: 3, borderBottomRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  } */}\r\n                  {/* {\r\n                    // left and right chairs\r\n                    (item.width < item.height && item.shape === 'A') &&\r\n                    <>\r\n                      <View style={{ position: 'absolute', left: -3, top: 0, bottom: 0, width: 6, }}>\r\n                        {\r\n                          [...Array(item.height)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: theme.grey4, borderTopLeftRadius: 3, borderBottomLeftRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                      <View style={{ position: 'absolute', right: -3, top: 0, bottom: 0, width: 6, }}>\r\n                        {\r\n                          [...Array(item.height)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: theme.grey4, borderTopRightRadius: 3, borderBottomRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  } */}\r\n                </View>\r\n              )\r\n            }\r\n          </View>\r\n\r\n\r\n        </View>\r\n        <View style={{ margin: 3, marginTop: -3, flexWrap: 'wrap', flexDirection: 'row' }}>\r\n          {\r\n            floorWidth && tables.filter(el => !tablemas.some(obj => obj.tableId === el.tableId)).map((item, index) =>\r\n              <View key={index} style={{ width: floorWidth * 4, aspectRatio: 4 }}>\r\n                <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.doPressFloorTable(item)}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20 }}>{item.tableId}</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  textInput: {\r\n    color: 'white',\r\n    height: 60,\r\n    borderRadius: 30,\r\n    width: '90%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 120,\r\n    textAlign: 'center',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n  },\r\n  onetwo: {\r\n    position: 'absolute', top: '0', left: '0', height: '12.5%', width: '12.5%',\r\n  },\r\n  tableLowerBand: {\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, ScrollView, FlatList, Platform, Keyboard } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class MainMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      serviceEntryObj: props.serviceEntryObj,\r\n      preference: props.preference,\r\n\r\n      settings: props.settings,\r\n      foldergrps: props.foldergrps,\r\n      folders: props.folders,\r\n      uniqueFolders: [...new Map(props.folders.map(v => [v.folderId, v])).values()],\r\n      menus: props.menus,\r\n      uniqueMenus: [...new Map(props.menus.map(v => [v.menuId, v])).values()],\r\n      modBundles: props.modBundles,\r\n\r\n      displayMode: '',\r\n      displays: [],\r\n      limiteds: [],\r\n\r\n      searchText: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount mainmenu')\r\n    const { foldergrps, folders, menus } = this.state;\r\n\r\n    this.doGet();\r\n\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    if (folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: foldergrps[0],\r\n      displays,\r\n      displayMode,\r\n    });\r\n  }\r\n\r\n  doGet() {\r\n    // real time fast changing data\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    // params.append('recKey', recKey);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          limiteds: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doPressFoldergrp(item) {\r\n    const { folders, menus, } = this.state;\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    this.doGet();\r\n\r\n    if (folders.filter(el => el.foldergrpId === item.foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === item.foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === item.foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: item,\r\n      displays,\r\n      displayMode,\r\n      searchText: '',\r\n    });\r\n  }\r\n\r\n  doPressFolder(item) {\r\n    const { menus } = this.state;\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId),\r\n    })\r\n  }\r\n\r\n  doPressMenu(item, quick) {\r\n    this.props.handlePressMenu(item, quick);\r\n  }\r\n\r\n  doSearchText(text) {\r\n    const { menus, foldergrps } = this.state;\r\n    this.setState({ searchText: text });\r\n    if (!text) {\r\n      this.setState({\r\n        displayMode: 'MENU',\r\n        displays: '',\r\n        selectedFoldergrp: '',\r\n      })\r\n      this.doPressFoldergrp(foldergrps[0]);\r\n      return;\r\n    }\r\n\r\n    let caseText = text.toUpperCase();\r\n    let displaysUpdate = menus.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: displaysUpdate,\r\n      selectedFoldergrp: '',\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { preference, settings, displayMode, displays, foldergrps, folders, uniqueFolders, uniqueMenus, menus, modBundles,\r\n      searchText,\r\n      selectedFoldergrp } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1 }}>\r\n          <View style={{ marginHorizontal: 10, marginTop: -5, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontSize: 10, color: theme.white8 }}><Text style={{ fontSize: 10, color: theme.paid }}>{uniqueMenus.length}</Text> MENU <Text style={{ fontSize: 10, color: theme.reserved }}>{uniqueFolders.length}</Text> FOLDER <Text style={{ fontSize: 10, color: theme.reserved }}>{foldergrps.length}</Text> FOLDERGRP <Text style={{ fontSize: 10, color: theme.vacant }}>{modBundles.length}</Text> MODIFIER</Text>\r\n          </View>\r\n          <View style={styles.searchBox}>\r\n            <TextInput style={styles.searchBoxInputValue}\r\n              placeholder={`${intl.get('enter')?.toUpperCase()} ${intl.get('search')?.toUpperCase()} ${intl.get('text')?.toUpperCase()}`}\r\n              placeholderTextColor='rgba(255,255,255,0.2)'\r\n              value={searchText}\r\n              onChangeText={(text) => this.doSearchText(text)} />\r\n            <TouchableOpacity style={styles.searchBoxButton}\r\n              onPress={() => {\r\n                this.doSearchText('');\r\n                Keyboard.dismiss();\r\n              }}>\r\n              <AntDesign name='close' size={24} color={theme.grey4} />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n            {\r\n              displayMode === 'MENU' ?\r\n                (\r\n                  settings.find(el => el.setId === 'POSMODE')?.setString === 'A' ?\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.mcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenu(item)}\r\n                    />\r\n                    :\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.pcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenuB(item)}\r\n                    />\r\n                )\r\n                :\r\n                <FlatList\r\n                  key={'FOLDER' + selectedFoldergrp?.foldergrpId}\r\n                  style={{ flex: 1, padding: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  numColumns={preference.mcolsize}\r\n                  horizontal={false}\r\n                  data={displays}\r\n                  keyExtractor={(item, index) => item.recKey.toString()}\r\n                  renderItem={({ item }) => this.renderFolder(item)}\r\n                />\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={{ margin: 5, width: 120, }}>\r\n          <View style={{ height: 90 }}>\r\n            <ScrollView\r\n              horizontal={true}\r\n              pagingEnabled={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                Platform.OS !== 'web' &&\r\n                <TouchableOpacity\r\n                  style={{ alignItems: 'center', justifyContent: 'center', height: 90, width: 120 }}\r\n                  onPress={() => this.props.handlePressScan(true)}>\r\n                  <MaterialCommunityIcons name=\"camera-iris\" size={30} color=\"white\" style={{ height: 28 }} />\r\n                  <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('scan')}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n              <TouchableOpacity\r\n                style={{ alignItems: 'center', justifyContent: 'center', height: 90, width: 120 }}\r\n                onPress={() => this.props.handlePressScan()}>\r\n                <MaterialCommunityIcons name=\"movie-filter\" size={28} color=\"white\" style={{ height: 28 }} />\r\n                <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('barcode')}</Text>\r\n              </TouchableOpacity>\r\n            </ScrollView>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              foldergrps.map((item, index) => (\r\n                <TouchableOpacity key={index}\r\n                  style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'white' : theme.grey1, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doPressFoldergrp(item)}>\r\n                  <Text style={{ textAlign: 'center', color: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'black' : 'white' }}>{item.name}</Text>\r\n                </TouchableOpacity>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderFolder(item) {\r\n    const { preference, menus } = this.state;\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <TouchableOpacity\r\n          style={{ margin: 2.5, height: 90, backgroundColor: 'black', alignItems: 'center', justifyContent: 'center' }}\r\n          onPress={() => this.doPressFolder(item)}>\r\n          <Text style={{ color: theme.paid, fontSize: 12 }}>{item.folderId}</Text>\r\n          <Text style={{ color: 'white', paddingHorizontal: 10, textAlign: 'center', fontSize: 16 }}>{item.name}</Text>\r\n          <Text style={{ color: theme.vacant }}>{menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId).length}</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenu(item) {\r\n    const { preference, limiteds, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds.find(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <View style={[{ margin: 2.5, flexDirection: 'row', height: 90, backgroundColor: theme.grey4, }, item.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n          {\r\n            preference.mquick === 'Y' &&\r\n            <TouchableOpacity\r\n              style={{ width: 50, backgroundColor: theme.grey3, justifyContent: 'center', alignItems: 'center' }}\r\n              disabled={item.statusFlg === 'B'}\r\n              onPress={() => this.doPressMenu(item, true)}>\r\n              <AntDesign name=\"check\" size={18} color={theme.grey1} />\r\n              {/* {\r\n                serviceEntry === 'https://www.epbrowser.com:8090/fnb-ws/' &&\r\n                <Image\r\n                  style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0 }}\r\n                  source={{\r\n                    uri: 'http://203.208.248.200:9090/image-proxy-epbsg/ASP/EPBSG/NORMAL/Shell/picture/' + item.stkId + '.jpg'\r\n                    // uri: imageEntry + item.menuId + '.jpg'\r\n                  }}\r\n                />\r\n              } */}\r\n            </TouchableOpacity>\r\n          }\r\n          <TouchableOpacity\r\n            style={{ flex: 1 }}\r\n            disabled={item.statusFlg === 'B'}\r\n            onPress={() => this.doPressMenu(item)}>\r\n            <View style={{ flex: 1, padding: 10 }}>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: 'white', fontSize: 12, }}></Text>\r\n                <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n              </View>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{found ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                <Text style={{ color: theme.paid, fontSize: 12, }}>{item.menuId}</Text>\r\n              </View>\r\n            </View>\r\n          </TouchableOpacity>\r\n          {\r\n            searchText.length > 0 &&\r\n            <Text style={{ position: 'absolute', top: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n          }\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenuB(item) {\r\n    const { preference, limiteds, serviceEntryObj, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds.find(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / (preference.pcolsize) }}>\r\n        <TouchableOpacity style={{ margin: 2.5, }}\r\n          disabled={item.statusFlg === 'B'}\r\n          onPress={() => this.doPressMenu(item)}>\r\n          <View style={{ backgroundColor: theme.grey3 }}>\r\n            <Image\r\n              style={{ aspectRatio: 1 }}\r\n              source={{\r\n                uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.urlAddr + '&t=' + item.lastupdate\r\n              }}\r\n            />\r\n            {\r\n              searchText.length > 0 &&\r\n              <Text style={{ position: 'absolute', bottom: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n            }\r\n          </View>\r\n          <View style={[{ flexDirection: 'row', height: 70, backgroundColor: theme.grey4, }, item.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n            <View\r\n              style={{ flex: 1 }}>\r\n              <View style={{ flex: 1, padding: 10 }}>\r\n                <View style={{ flex: 1 }}>\r\n                  <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n                </View>\r\n                <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                  <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{found ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                  <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  searchBox: {\r\n    margin: 10,\r\n    // marginTop: 25,\r\n    marginBottom: 5,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n    borderRadius: 100,\r\n  },\r\n  searchBoxButton: {\r\n    position: 'absolute',\r\n    right: 0,\r\n    top: 0,\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAutoLogout extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      timer: 5,\r\n    };\r\n    this.countdown = () => { };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let initialTimer = 5;\r\n    this.countdown = setInterval(() => {\r\n      initialTimer -= 1;\r\n      this.setState({\r\n        timer: initialTimer,\r\n      });\r\n      if (initialTimer === 0) {\r\n        clearInterval(this.countdown);\r\n        this.props.handleUpdateFromAutoLogout(initialTimer);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.countdown);\r\n  }\r\n\r\n  render() {\r\n    const { timer } = this.state;\r\n    console.log('in overlayautologout', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Auto Logout</Text>\r\n            <Text style={styles.overlayText}>{timer}</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromAutoLogout('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, TextInput,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayDeposit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      homeDelivery: props.selectedTable.homeDelivery === 'Y' ? 'Y' : 'N',\r\n      vipName: props.selectedTable.vipName || '',\r\n      vipPhone: props.selectedTable.vipPhone || '',\r\n      dlyDate: props.selectedTable.dlyDate ? moment(props.selectedTable.dlyDate).format('YYYY-MM-DD') : '',\r\n      dpostalcode: props.selectedTable.dpostalcode || '',\r\n      daddress1: props.selectedTable.daddress1 || '',\r\n      daddress2: props.selectedTable.daddress2 || '',\r\n    }\r\n  }\r\n\r\n  doPressDelivery(type) {\r\n    this.setState({ homeDelivery: type })\r\n  }\r\n\r\n  doChangePostal(text) {\r\n    this.setState({ dpostalcode: text })\r\n    if (text.length === 6) {\r\n      const { serviceEntry } = this.state;\r\n      let url = serviceEntry + 'api/epbsggeo';\r\n      const params = new URLSearchParams();\r\n      params.append('postal', text);\r\n      url += ('?' + params);\r\n      fetch(url, {\r\n        method: 'GET'\r\n      })\r\n        .then(response => {\r\n          if (response.ok) return response.json();\r\n        })\r\n        .then(response => {\r\n          if (response?.address) {\r\n            this.setState({\r\n              daddress1: response.address || '',\r\n            });\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    this.props.handleUpdateFromDeposit('G', vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2)\r\n  }\r\n\r\n  render() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    console.log('in overlayDeposit', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Deposit Info</Text>\r\n            <View style={{ flexDirection: 'row', marginTop: 20 }}>\r\n              <View style={{ flex: 1, alignItems: 'flex-end', }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'Y' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('N')}>\r\n                  <Text style={{ color: homeDelivery === 'Y' ? 'white' : 'black', fontFamily: 'varela-round' }}>Self Collect</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1, }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'N' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('Y')}>\r\n                  <Text style={{ color: homeDelivery === 'N' ? 'white' : 'black', fontFamily: 'varela-round' }}>Delivery</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n            <View style={styles.vipInputsContainer}>\r\n              <View style={styles.vipInputsRow}>\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='NAME'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipName: text })}\r\n                  value={vipName}\r\n                />\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='PHONE'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  keyboardType='numeric'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipPhone: text })}\r\n                  value={vipPhone}\r\n                />\r\n              </View>\r\n              {\r\n                homeDelivery === 'Y' ?\r\n                  <>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='POSTAL'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.doChangePostal(text)}\r\n                        value={dpostalcode}\r\n                      />\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='DLY DATE'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                        onChangeText={text => this.setState({ dlyDate: text })}\r\n                        value={dlyDate}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 1'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress1: text })}\r\n                        value={daddress1}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 2'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress2: text })}\r\n                        value={daddress2}\r\n                      />\r\n                    </View>\r\n                  </>\r\n                  :\r\n                  <View style={[styles.vipInputsRow, { justifyContent: 'flex-end' }]}>\r\n                    <TextInput style={styles.vipInput}\r\n                      placeholder='DLY DATE'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      textContentType='none'\r\n                      autoComplete='off'\r\n                      autoCorrect={false}\r\n                      onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                      onChangeText={text => this.setState({ dlyDate: text })}\r\n                      value={dlyDate}\r\n                    />\r\n                  </View>\r\n              }\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.grey4 }]}\r\n            onPress={() => this.doSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromDeposit('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    height: '90%',\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginBottom: 20,\r\n    marginHorizontal: 5,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayScanBarcode extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromScanBarcode(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayscanbarcode');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Scan Barcode</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='ENTER BARCODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromScanBarcode('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayRequestAccess extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromRequestAccess(overlayText);\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { overlayText } = this.state;\r\n    let overlayTextUpdate = overlayText;\r\n    if (item === 'CLEAR') {\r\n      this.setState({ overlayText: '' });\r\n    } else if (item === 'ENTER') {\r\n      this.handleSubmit(overlayText);\r\n    } else {\r\n      this.setState({ overlayText: overlayTextUpdate + item })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { home, requestedPrivilege } = this.props;\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayrequestaccess');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Request Access</Text>\r\n            <Text style={styles.overlayText}>Grant temporary {requestedPrivilege} privilege to {home.userId}?</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                secureTextEntry={true}\r\n                autoFocus={true}\r\n                placeholder='ENTER ACCESS CODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ width: 135, marginBottom: 20, alignSelf: 'center' }}\r\n            data={['1', '2', '3', '4', '5', '6', '7', '8', '9', 'CLEAR', '0', 'ENTER']}\r\n            scrollEnabled={false}\r\n            showsVerticalScrollIndicator={false}\r\n            numColumns={3}\r\n            keyExtractor={(item, index) => index.toString()}\r\n            renderItem={({ item }) => (\r\n              <View style={{ flex: 1 / 3, aspectRatio: 1 }}>\r\n                <TouchableOpacity style={{ margin: 2.5, flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: 'black', borderRadius: 5, }}\r\n                  onPress={() => this.doPressKey(item)}>\r\n                  {\r\n                    item === 'CLEAR' ?\r\n                      <AntDesign name='close' color='white' size={18} />\r\n                      : item === 'ENTER' ?\r\n                        <AntDesign name='enter' color='white' size={18} />\r\n                        :\r\n                        <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 18, }}>{item}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n          {/* <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity> */}\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromRequestAccess('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 2,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChangePrice extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n      selectedTableItem: props.selectedTableItem,\r\n\r\n      availableDiscounts: props.discounts,\r\n      overlaySearchText: '',\r\n      overlayText: '',\r\n      discountSelected: false,\r\n      selectedDiscount: '',\r\n      validatePass: true,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleValidate(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleValidate(superUserId) {\r\n    const { home, privileges, overlayText, selectedDiscount, selectedTableItem } = this.state;\r\n    if (!overlayText) {\r\n      this.setState({\r\n        validatePass: false,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'CHANGEPRICE') || selectedTableItem.listPrice === 0) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'CHANGEPRICE',\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromChangePrice(overlayText, selectedDiscount || '-', superUserId);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, overlayText, discountSelected, availableDiscounts, discounts,\r\n      selectedDiscount, validatePass, overlayProcedureMessageVisible,\r\n      overlayRequestAccessVisible, requestedPrivilege } = this.state;\r\n    console.log('in overlaychangeprice, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Price</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={[styles.overlaySearchBoxInput, validatePass ? null : { color: theme.paid }]}\r\n                placeholder='ENTER PRICE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text, validatePass: true })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          {\r\n            discountSelected ?\r\n              <View style={{ flex: 1 }}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <TouchableOpacity style={styles.overlaySearchBox}\r\n                    onPress={() => this.setState({\r\n                      overlaySearchText: '',\r\n                      selectedDiscount: '',\r\n                      discountSelected: false,\r\n                    })}>\r\n                    <Text style={styles.selectText}>{selectedDiscount.discId}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={{ paddingBottom: 5 }}></View>\r\n              </View>\r\n              :\r\n              <View style={styles.selectWrapper}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                    <TextInput style={styles.overlaySearchBoxInput}\r\n                      placeholder='ENTER SEARCH TEXT'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                      value={overlaySearchText}\r\n                    />\r\n                    <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                      onPress={() => {\r\n                        this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                        Keyboard.dismiss()\r\n                      }}>\r\n                      <AntDesign name='close' size={24} color={theme.grey4} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={[{ flex: 1 }]}\r\n                  data={availableDiscounts}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                      onPress={() => this.setState({\r\n                        discountSelected: true,\r\n                        selectedDiscount: item,\r\n                        validatePass: true,\r\n                      })}>\r\n                      <View style={styles.overlayGridFirst}>\r\n                        <View style={styles.overlayGridFirstLeft}>\r\n                          <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                        </View>\r\n                        <View style={styles.overlayGridFirstRight}>\r\n                          <Text style={styles.overlayGridFirstRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.overlayGridSecond}>\r\n                        <Text style={styles.overlayGridSecondText}>\r\n                          {item.discName}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.overlayGridThird}>\r\n                        <View style={styles.overlayGridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.overlayGridThirdRight}>\r\n                          <Text style={styles.overlayGridThirdRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n          }\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleValidate()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromChangePrice('', '')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayLineDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      discounts: props.discounts,\r\n      privileges: props.privileges,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'LINEDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access LINEDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'LINEDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromLineDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlaylinediscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='LINEDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Line Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromLineDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayHeaderDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'HEADERDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access HEADERDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'HEADERDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromHeaderDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlayheaderdiscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='HEADERDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Header Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromHeaderDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayMergeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      mergeTables: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTable = this.handleSelectTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.sectionId !== 'SYS'),\r\n          availableTables: response.filter(el => el.sectionId !== 'SYS'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTable(item) {\r\n    const { mergeTables } = this.state;\r\n    let mergeTablesUpdate = mergeTables;\r\n    if (!mergeTables.some(el => el.tableId === item.tableId)) {\r\n      mergeTablesUpdate.push(item);\r\n    } else {\r\n      mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    }\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { mergeTables } = this.state;\r\n    const mergeTablesUpdate = mergeTables;\r\n    mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTables, tables, mergeTables } = this.state;\r\n    console.log('in overlaymergetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {mergeTables.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTable(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.tableId}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeTable([])}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.vacant }]}\r\n            onPress={() => this.props.handleUpdateFromMergeTable(mergeTables)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n      tableItems: props.tableItems,\r\n\r\n      overlaySearchText: '',\r\n      availableTableItems: props.tableItems.filter(el => !el.refRecKey),\r\n      selectedTableItems: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tableItems } = this.state;\r\n    let availableTableItemsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTableItems);\r\n\r\n    availableTableItemsUpdate = tableItems.filter(el => !el.refRecKey);\r\n    if (!text) {\r\n      this.setState({\r\n        availableTableItems: availableTableItemsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTableItemsUpdate = availableTableItemsUpdate.filter(item => {\r\n      return item.menuId.toUpperCase().includes(caseText) || item.menuName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTableItems: availableTableItemsUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    const { selectedTableItems } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItemsUpdate.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { selectedTableItems } = this.state;\r\n    const selectedTableItemsUpdate = selectedTableItems;\r\n    selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTableItems, selectedTableItems } = this.state;\r\n    console.log('in overlaysplittable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {selectedTableItems.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTableItem(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.lineNo}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromSplitTable('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTableItems.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTableItems}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTableItem(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.menuId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>{item.lineNo}</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.menuName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitTable(selectedTableItems)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nexport default class OverlayChangeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.sectionId !== 'SYS'),\r\n          availableTables: response.filter(el => el.sectionId !== 'SYS'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableTables, tables, selectedTable } = this.state;\r\n    console.log('in overlaychangetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Table</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChangeTable('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.props.handleUpdateFromChangeTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayReviseItem extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, selectedTableItem, tableItems } = this.props;\r\n    console.log('in overlayreviseitem', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reviseitem')}</Text>\r\n            <Text style={styles.overlayText}>{selectedTableItem.menuName.toUpperCase()}</Text>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('voidItem')}>\r\n              <AntDesign\r\n                name='close'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('remove')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('duplicateItem')}>\r\n              <AntDesign\r\n                name='copy1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('duplicate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.confirmFlg === 'Y' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.confirmFlg === 'Y'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineBreak')}>\r\n              <AntDesign\r\n                name='minus'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linebreak')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('editItem')}>\r\n              <AntDesign\r\n                name='edit'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, !(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X') && { opacity: 0.2 }]}\r\n              disabled={!(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X')}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('revertItem')}>\r\n              <AntDesign\r\n                name='man'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('revert')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0) && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('changePrice')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('changeprice')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.discFlg === 'N' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineDiscount')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linedisc')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromReviseItem('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayTableActions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, tableItems } = this.props;\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('table')} {intl.get('action')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('openTable')}>\r\n              <AntDesign name='appstore-o' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('editTable')}>\r\n              <AntDesign name='edit' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('reserveTable')}>\r\n              <AntDesign name='calendar' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('reserve')}</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              (selectedTable?.sectionId !== 'SYS' && selectedTable?.statusFlg === 'A') ?\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg !== 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('disableTable')}>\r\n                  <MaterialCommunityIcons name='cancel' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('disable')}</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg === 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg === 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('resetTable')}>\r\n                  <AntDesign name='reload1' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('mergeTable')}>\r\n              <AntDesign name='menufold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('mergetable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('splitTable')}>\r\n              <AntDesign name='menuunfold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('splittable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('changeTable')}>\r\n              <AntDesign name='swap' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('changetable')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewResequence')}>\r\n              <AntDesign name='bars' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('resequence')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewTransfer')}>\r\n              <AntDesign name='export' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('transferitems')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('headerDiscount')}>\r\n              <AntDesign name='exception1' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('headerdisc')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('printBill')}>\r\n              <AntDesign name='book' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('printbill')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromTableActions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAdditionalFunctions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('additionalfunctions')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReprint')}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewVoid')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('voidreceipts')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewCollect')}>\r\n              <AntDesign\r\n                name='gift'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('collection')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('openDrawer')}>\r\n              <AntDesign\r\n                name='laptop'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('opendrawer')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('logOut')}>\r\n              <AntDesign\r\n                name='doubleleft'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('logout')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewTrace')}>\r\n              <AntDesign\r\n                name='eyeo'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewPrinters')}>\r\n              <AntDesign\r\n                name='fork'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('testprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('syncMasters')}>\r\n              <AntDesign\r\n                name='retweet'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('syncmasters')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewActivate')}>\r\n              <AntDesign\r\n                name='bulb1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('activate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewLimit')}>\r\n              <AntDesign\r\n                name='staro'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('limited')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewDayclose')}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('dayend')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReports')}>\r\n              <AntDesign\r\n                name='solution1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reports')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromAdditionalFunctions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChoosePrinter extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      printers: props.cashierPrinters,\r\n      availablePrinters: props.cashierPrinters,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { printers, availablePrinters } = this.state;\r\n    let availablePrintersUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availablePrinters);\r\n\r\n    availablePrintersUpdate = printers;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePrinters: availablePrintersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePrintersUpdate = availablePrintersUpdate.filter(item => {\r\n      return item.iomodelId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePrinters: availablePrintersUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { printPurpose } = this.props;\r\n    const { overlaySearchText, availablePrinters, printers } = this.state;\r\n    console.log('in overlaychooseprinter, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{printPurpose}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('choose')} {intl.get('printer')}</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChoosePrinter('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availablePrinters.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            // numColumns={3}\r\n            data={availablePrinters}\r\n            keyExtractor={(item, index) => index}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.props.handleUpdateFromChoosePrinter(item, printPurpose)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.iomodelId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { input } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{input?.title}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{input?.subtitle}</Text>\r\n            <Text style={styles.overlayText}>{input?.text}</Text>\r\n          </View>\r\n          {\r\n            input?.ok &&\r\n            <TouchableOpacity style={styles.overlayOption}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>OK</Text>\r\n            </TouchableOpacity>\r\n          }\r\n          {\r\n            input?.options ?\r\n              input?.options.map(el =>\r\n                <TouchableOpacity style={styles.overlayOption}\r\n                  key={el.handleText}\r\n                  onPress={() => this.props.handleUpdateFromAlert(el.handleText)}>\r\n                  <Text style={styles.overlayOptionText}>{el.text}</Text>\r\n                </TouchableOpacity>\r\n              )\r\n              : null\r\n          }\r\n          {\r\n            input?.cancel &&\r\n            <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n            </TouchableOpacity>\r\n          }\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, StatusBar, ScrollView, TouchableOpacity, Text, Alert, Platform, Dimensions } from 'react-native';\r\nimport { AntDesign, Ionicons, Entypo, MaterialCommunityIcons, Fontisto, FontAwesome, MaterialIcons } from '@expo/vector-icons';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport { debug } from '../assets/utility';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport Constants from 'expo-constants';\r\nimport theme from '../assets/theme';\r\nimport MainTable from './MainTable';\r\nimport MainMenu from './MainMenu';\r\n\r\nimport OverlayAutoLogout from './OverlayAutoLogout';\r\nimport OverlayDeposit from './OverlayDeposit';\r\nimport OverlayScanBarcode from './OverlayScanBarcode';\r\nimport OverlayChangePrice from './OverlayChangePrice';\r\nimport OverlayLineDiscount from './OverlayLineDiscount';\r\nimport OverlayHeaderDiscount from './OverlayHeaderDiscount';\r\nimport OverlayMergeTable from './OverlayMergeTable';\r\nimport OverlaySplitTable from './OverlaySplitTable';\r\nimport OverlayChangeTable from './OverlayChangeTable';\r\nimport OverlayReviseItem from './OverlayReviseItem';\r\nimport OverlayTableActions from './OverlayTableActions';\r\nimport OverlayAdditionalFunctions from './OverlayAdditionalFunctions';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nconst Tab = createBottomTabNavigator();\r\n\r\nexport default class Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedTable: null,\r\n      selectedTableItem: null,\r\n      tableItems: [],\r\n      printPurpose: '',\r\n      requestedPrivilege: '',\r\n\r\n      screen: 'TABLE',\r\n      refresh: null,\r\n    };\r\n\r\n    this.handlePressTable = this.handlePressTable.bind(this);\r\n    this.handleActionTable = this.handleActionTable.bind(this);\r\n    this.handlePressMenu = this.handlePressMenu.bind(this);\r\n    this.handlePressScan = this.handlePressScan.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromAutoLogout = this.handleUpdateFromAutoLogout.bind(this);\r\n    this.handleUpdateFromDeposit = this.handleUpdateFromDeposit.bind(this);\r\n    this.handleUpdateFromScanBarcode = this.handleUpdateFromScanBarcode.bind(this);\r\n    this.handleUpdateFromReviseItem = this.handleUpdateFromReviseItem.bind(this);\r\n    this.handleUpdateFromTableActions = this.handleUpdateFromTableActions.bind(this);\r\n    this.handleUpdateFromAdditionalFunctions = this.handleUpdateFromAdditionalFunctions.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromHeaderDiscount = this.handleUpdateFromHeaderDiscount.bind(this);\r\n    this.handleUpdateFromLineDiscount = this.handleUpdateFromLineDiscount.bind(this);\r\n    this.handleUpdateFromChangePrice = this.handleUpdateFromChangePrice.bind(this);\r\n    this.handleUpdateFromMergeTable = this.handleUpdateFromMergeTable.bind(this);\r\n    this.handleUpdateFromSplitTable = this.handleUpdateFromSplitTable.bind(this);\r\n    this.handleUpdateFromChangeTable = this.handleUpdateFromChangeTable.bind(this);\r\n\r\n    this.handleUpdateFromVoid = this.handleUpdateFromVoid.bind(this);\r\n    this.handleUpdateFromTable = this.handleUpdateFromTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { navigation } = this.props;\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    this.doChooseDefaultPrinter();\r\n    // temp\r\n    // this.handlePressTable({ recKey: 381386 })\r\n  }\r\n\r\n  didFocus() {\r\n    const { selectedTable } = this.state;\r\n    if (selectedTable) {\r\n      this.handlePressTable(selectedTable);\r\n    }\r\n    this.setState({\r\n      refresh: moment().format('HH:mm:ss'),\r\n    })\r\n    console.log('focused')\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  doChooseDefaultPrinter() {\r\n    const { home, masters } = this.state;\r\n    if (Platform.OS === 'web' && masters.cashierPrinters.length > 1) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'DEFAULT PRINTER',\r\n      });\r\n    } else if (masters.cashierPrinters.length === 1) {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = masters.cashierPrinters?.[0];\r\n      this.setState({\r\n        home: homeUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  async handlePressTable(item) {\r\n    if (!item?.recKey) return;\r\n    const { navigation } = this.props;\r\n    const { serviceEntry } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + item.recKey;\r\n    return fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // hide paid or reset split tables\r\n        // if (response.opentable.splitTableFlg === 'Y' && (response.opentable.statusFlg === 'A')) {\r\n        //   this.doClearTable()\r\n        //   return;\r\n        // }\r\n        // hide paid or reset takeaway tables\r\n        if (response.opentable.sectionId === 'SYS' && (response.opentable.statusFlg === 'A' || response.opentable.statusFlg === 'D')) {\r\n          this.doClearTable();\r\n          this.doToggleScreen('MENU');\r\n          return;\r\n        }\r\n        // faster navigation for takeaway tables\r\n        if (response.opentable.sectionId === 'SYS') {\r\n          this.doToggleScreen('TABLE');\r\n        }\r\n        // all\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  handleActionTable(item, action) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (action === 'CREATE') {\r\n      this.doCreateTable();\r\n    } else if (action === 'OPEN') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (action === 'EDIT') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    }\r\n  }\r\n\r\n  handlePressMenu(item, quick) {\r\n    const { navigation } = this.props;\r\n    const { home, preference, serviceEntry, settings, masters, selectedTable } = this.state;\r\n    const settingPOSMODE = settings.find(el => el.setId === 'POSMODE')?.setString;\r\n    console.log(item)\r\n    // no opentable, bistro mode\r\n    if (!selectedTable && settingPOSMODE === 'A') {\r\n      if (item.menuType === 'O') {\r\n        navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      } else {\r\n        navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      }\r\n      return;\r\n    }\r\n    // no opentable, pos mode\r\n    if (!selectedTable && settingPOSMODE === 'B') {\r\n      this.doCreateTableForPos(item);\r\n      return;\r\n    }\r\n    // combo\r\n    if (item.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // compulsory modifier\r\n    if (masters.modBundles.some(el => el.modmas.mustFlg === 'Y' && el.modmas.globalFlg === 'Y') || masters.mods.some(el => el.menuId === item.menuId && (masters.modBundles.find(obj => obj.modmas.modId === el.modId)?.modmas.mustFlg === 'Y'))) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // normal\r\n    if (!quick) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n    } else {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: item.recKey,\r\n        restmenuMod: item.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((selectedTable.sectionId === 'SYS' && settingPOSMODE === 'A') ? `*${intl.get('takeaway')}  ` : ''),\r\n        orderQty: '1',\r\n        orderType: item.serviceFlg === 'N' ? 'B' : (selectedTable.sectionId === 'SYS' ? 'B' : 'A'),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              item.menuName,\r\n              '1',\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          this.handlePressTable(selectedTable);\r\n        })\r\n    }\r\n  }\r\n\r\n  handlePressScan(camera) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, selectedTable } = this.state;\r\n    if (!selectedTable) return;\r\n    if (camera) {\r\n      if (Platform.OS !== 'web') {\r\n        navigation.navigate('Scan', { home, serviceEntry, masters, selectedTable })\r\n      }\r\n    } else {\r\n      this.setState({\r\n        overlayScanBarcodeVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  doClearTable() {\r\n    this.setState({\r\n      selectedTable: null,\r\n      tableItems: [],\r\n    });\r\n  }\r\n\r\n  doCreateTable(item) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, } = this.state;\r\n    let url = serviceEntry + 'api/insert-opentable';\r\n    const body = {\r\n      userId: home.userId,\r\n      orderType: 'B',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Create Table',\r\n            home.userName,\r\n            response.message,\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('MainMenu')\r\n        this.setState({\r\n          screen: 'MENU',\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          refresh: moment().format('HH:mm:ss'),\r\n        }, () => {\r\n          if (item) this.handlePressMenu(item, true);\r\n        });\r\n      })\r\n  }\r\n\r\n  doCreateTableForPos(item) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, preference, masters, selectedTable, settings, } = this.state;\r\n    let url = serviceEntry + 'api/insert-opentable';\r\n    const body = {\r\n      userId: home.userId,\r\n      orderType: 'B',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Create Table',\r\n            home.userName,\r\n            response.message,\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('MainMenu')\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          refresh: moment().format('HH:mm:ss'),\r\n        }, () => {\r\n          if (item.menuType === 'O') {\r\n            navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable: response.opentable, selectedMenu: item });\r\n          } else {\r\n            navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable: response.opentable, selectedMenu: item });\r\n          }\r\n        });\r\n      })\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateTableStatus(item) {\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.transType === 'A') {\r\n        return intl.get('sales');\r\n      } else if (item.transType === 'G') {\r\n        if (item.homeDelivery === 'Y') {\r\n          return intl.get('deposit') + 'DLY';\r\n        } else {\r\n          return intl.get('deposit');\r\n        }\r\n      }\r\n    } else {\r\n      return intl.get(`${item.statusFlg}`).d('Unknown');\r\n    }\r\n  }\r\n\r\n  doTranslateTableItemColor(item) {\r\n    if (item.fireFlg === 'Y') {\r\n      return theme.reserved;\r\n    }\r\n    if (item.confirmFlg === 'Y') {\r\n      return theme.occupied;\r\n    }\r\n    return theme.vacant;\r\n  }\r\n\r\n  doToggleScreen(item) {\r\n    const { navigation } = this.props;\r\n    const { settings } = this.state;\r\n    if (item === 'MENU' && settings.find(el => el.setId === 'POSMODE')?.setString === 'A') {\r\n      this.setState({\r\n        screen: 'TABLE',\r\n        refresh: moment().format('HH:mm:ss'),\r\n      })\r\n      navigation.navigate('MainTable')\r\n    } else {\r\n      this.setState({ screen: 'MENU' })\r\n      navigation.navigate('MainMenu')\r\n    }\r\n  }\r\n\r\n  doPressItem(item) {\r\n    this.setState({\r\n      selectedTableItem: item,\r\n      overlayReviseItemVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartDayclose(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, settings, } = this.state;\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'DAYCLOSE')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'DAYCLOSE',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/start-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Dayclose',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Dayclose', { home, serviceEntry, masters, dayclosePayments: response.posDayCloseAmt, daycloseSubPayments: response.posDayCloseAmtDtl })\r\n      })\r\n  }\r\n\r\n  doPressTransType() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: intl.get('sales'), handleText: 'doTransTypeSales' });\r\n    options.push({ text: intl.get('deposit'), handleText: 'doTransTypeDeposit' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Transaction Type',\r\n        text: 'Select transaction type for ' + selectedTable.tableId,\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartPayment(printer, superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, masters, settings,\r\n      selectedTable, tableItems, } = this.state;\r\n\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'SELECT AN ORDER',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n      });\r\n      return;\r\n    }\r\n    if (!tableItems || tableItems.length === 0) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'NO TABLE ITEMS',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.refTableId) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'TABLE ALREADY MERGED ' + selectedTable.refTableId,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'PAYMENT')) && !superUserId) {\r\n      this.setState({\r\n        requestedPrivilege: 'PAYMENT',\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          pospays: response.opentablePospays,\r\n        }, () => navigation.navigate('Pos', { home, serviceEntry, serviceEntryObj, masters, selectedTable: response.opentable, pospays: response.opentablePospays }));\r\n      })\r\n  }\r\n\r\n  doChangeTableStatus(newStatus) {\r\n    const { home, serviceEntry, selectedTable, masters, settings } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table-status';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: newStatus,\r\n      pax: '',\r\n      vipId: '',\r\n      vipName: '',\r\n      phone: '',\r\n      reservationTime: '',\r\n      sourceId: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table-status successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table Status',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            newStatus,\r\n          );\r\n        if (response.message) {\r\n          if (response.message === 'Table Not Found') {\r\n            this.doClearTable();\r\n            this.doToggleScreen('MENU')\r\n          } else {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n          }\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doRevertTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/revert-adhoc';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post revert-adhoc successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Revert Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n          refresh: moment().format('HH:mm:ss'),\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doDuplicateTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/duplicate-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post duplicate-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Duplicate Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doUpdateLineBreak() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    })\r\n    let newLineBreak = 'Y';\r\n    if (selectedTableItem.lineBreak === 'Y') {\r\n      newLineBreak = 'N';\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-line-break';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      lineBreak: newLineBreak,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-line-break successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Break',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  doPrintBill(printer) {\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    if (!selectedTable || !(selectedTable?.statusFlg === 'C' || selectedTable?.sectionId === 'SYS')) return;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'PRINT BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/print-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Print Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, masters, settings } = this.state;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'OPEN DRAWER',\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n  }\r\n\r\n  doTransTypeSales() {\r\n    const { selectedTable } = this.state;\r\n    this.handleUpdateFromDeposit('A', selectedTable.vipName, selectedTable.vipPhone, selectedTable.homeDelivery, selectedTable.dlyDate ? moment(selectedTable.dlyDate).format('YYYY-MM-DD') : '', selectedTable.dpostalcode, selectedTable.daddress1, selectedTable.daddress2)\r\n  }\r\n\r\n  doTransTypeDeposit() {\r\n    this.setState({\r\n      overlayDepositVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressSend() {\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (!selectedTable || selectedTable.sendFlg !== 'Y') {\r\n      console.log('no selectedTable or sendFlg is N');\r\n      return;\r\n    }\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doSendOrder' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Send Order',\r\n        text: 'Send order for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doSendOrder(printer) {\r\n    const { serviceEntry, home, selectedTable, masters, settings } = this.state;\r\n\r\n    // section-based print order\r\n    let printOrder = false;\r\n    if (selectedTable.sectionId !== 'SYS') {\r\n      printOrder = masters.sections.find(el => el.sectionId === selectedTable.sectionId)?.printOrderFlg === 'Y';\r\n    }\r\n\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter && printOrder) {\r\n      this.setState({\r\n        printPurpose: 'SEND ORDER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/send-order';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: printOrder && ((home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId)),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post send-order successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Send Order',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  doEditTableItem(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, preference,\r\n      tableItems, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'EDITITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (selectedTableItem?.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, masters, preference, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem, tableItems })\r\n    } else {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem })\r\n    }\r\n  }\r\n\r\n  doDeleteTableItem(superUserId) {\r\n    const { serviceEntry, home, selectedTableItem, selectedTable, masters, settings, privileges } = this.state;\r\n\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      // special scenario all personnel need double confirm\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'VOIDITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'VOIDITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable, home } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'SEND ORDER') {\r\n      this.doSendOrder(printer);\r\n    } else if (purpose === 'PRINT BILL') {\r\n      this.doPrintBill(printer);\r\n    } else if (purpose === 'START PAYMENT') {\r\n      this.doStartPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.doOpenDrawer(printer);\r\n    } else if (purpose === 'DEFAULT PRINTER') {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = printer;\r\n      this.setState({\r\n        home: homeUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, masters, settings, requestedPrivilege, selectedPrinter,\r\n      selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable?.tableId,\r\n            selectedTableItem?.menuName,\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.doOpenDrawer(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'PAYMENT') {\r\n          this.doStartPayment(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'DAYCLOSE') {\r\n          this.doStartDayclose(response.userId);\r\n        } else if (requestedPrivilege === 'VOIDITEM') {\r\n          this.doDeleteTableItem(response.userId);\r\n        } else if (requestedPrivilege === 'EDITITEM') {\r\n          this.doEditTableItem(response.userId);\r\n        }\r\n      })\r\n  }\r\n\r\n  handleUpdateFromAdditionalFunctions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayAdditionalFunctionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewReprint') {\r\n      navigation.navigate('Reprint', { home, serviceEntry, masters });\r\n    } else if (text === 'viewVoid') {\r\n      navigation.navigate('Void', { home, serviceEntry, masters, handleUpdateFromVoid: this.handleUpdateFromVoid });\r\n    } else if (text === 'viewCollect') {\r\n      navigation.navigate('Collect', { home, serviceEntry, masters, });\r\n    } else if (text === 'viewDayclose') {\r\n      this.doStartDayclose();\r\n    } else if (text === 'viewReports') {\r\n      navigation.navigate('Report', { home, serviceEntry, masters });\r\n    } else if (text === 'openDrawer') {\r\n      this.doOpenDrawer();\r\n    } else if (text === 'viewPrinters') {\r\n      navigation.navigate('Printer', { home, serviceEntry });\r\n    } else if (text === 'viewActivate') {\r\n      navigation.navigate('Activate', { home, serviceEntry, masters });\r\n    } else if (text === 'logOut') {\r\n      navigation.goBack();\r\n    } else if (text === 'syncMasters') {\r\n      navigation.navigate('Login', { sync: new Date() });\r\n    } else if (text === 'viewTrace') {\r\n      navigation.navigate('Trace', { home, serviceEntry, selectedTable });\r\n    } else if (text === 'viewLimit') {\r\n      navigation.navigate('Limit', { home, serviceEntry, masters });\r\n    }\r\n  }\r\n\r\n  async handleUpdateFromTableActions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayTableActionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewResequence') {\r\n      navigation.navigate('Resequence', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'viewTransfer') {\r\n      navigation.navigate('Transfer', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'headerDiscount') {\r\n      this.setState({\r\n        overlayHeaderDiscountVisible: true,\r\n      })\r\n    } else if (text === 'printBill') {\r\n      this.doPrintBill();\r\n    } else if (text === 'openTable') {\r\n      await this.handlePressTable(selectedTable)\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (text === 'editTable') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    } else if (text === 'resetTable') {\r\n      this.doChangeTableStatus('A');\r\n    } else if (text === 'reserveTable') {\r\n      this.doChangeTableStatus('B');\r\n    } else if (text === 'disableTable') {\r\n      this.doChangeTableStatus('E');\r\n    } else if (text === 'mergeTable') {\r\n      this.setState({\r\n        overlayMergeTableVisible: true,\r\n      });\r\n    } else if (text === 'splitTable') {\r\n      this.setState({\r\n        overlaySplitTableVisible: true,\r\n      });\r\n    } else if (text === 'changeTable') {\r\n      this.setState({\r\n        overlayChangeTableVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromReviseItem(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, masters, selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'voidItem') {\r\n      let options = [];\r\n      options.push({ text: 'Yes', handleText: 'doDeleteTableItem' });\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n        overlayAlertInputValue: {\r\n          title: intl.get('action'),\r\n          subtitle: 'Remove Item',\r\n          text: 'Remove ' + selectedTableItem.menuName + ' ?',\r\n          ok: false,\r\n          cancel: true,\r\n          options: options,\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n    } else if (text === 'editItem') {\r\n      this.doEditTableItem();\r\n    } else if (text === 'revertItem') {\r\n      this.doRevertTableItem();\r\n    } else if (text === 'changePrice') {\r\n      this.setState({\r\n        overlayChangePriceVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineDiscount') {\r\n      this.setState({\r\n        overlayLineDiscountVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineBreak') {\r\n      this.doUpdateLineBreak();\r\n    } else if (text === 'duplicateItem') {\r\n      this.doDuplicateTableItem();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromLineDiscount(text, superUserId) {\r\n    this.setState({ overlayLineDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/line-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post line-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromHeaderDiscount(text, superUserId) {\r\n    this.setState({ overlayHeaderDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/header-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post header-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Header Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangePrice(text, item, superUserId) {\r\n    this.setState({ overlayChangePriceVisible: false });\r\n    if (!text && !item) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-price';\r\n    const body = {\r\n      userId: home.userId,\r\n      price: text,\r\n      discId: item.discId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-price successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Price',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromMergeTable(tables) {\r\n    this.setState({ overlayMergeTableVisible: false });\r\n    if (tables.length === 0) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-table';\r\n    const itemPayloads = tables.map(el => ({\r\n      mergedTableId: el.tableId,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            tables.map(el => el.tableId).join(','),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromSplitTable(items) {\r\n    this.setState({\r\n      overlaySplitTableVisible: false,\r\n    });\r\n    if (!items) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/split-table';\r\n    const itemPayloads = items.map(el => ({\r\n      opentableItemRecKey: el.recKey,\r\n      opentableRecKey: selectedTable.recKey,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post split-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Split Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(response.opentable || selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangeTable(table) {\r\n    this.setState({ overlayChangeTableVisible: false });\r\n    if (!table) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table';\r\n    const body = {\r\n      userId: home.userId,\r\n      tableIdTo: table.tableId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            table.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(table);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSendOrder') {\r\n      this.doSendOrder();\r\n    } else if (text === 'doDeleteTableItem') {\r\n      this.doDeleteTableItem();\r\n    } else if (text === 'doTransTypeSales') {\r\n      this.doTransTypeSales();\r\n    } else if (text === 'doTransTypeDeposit') {\r\n      this.doTransTypeDeposit();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAutoLogout(timer) {\r\n    // if (!timer) {\r\n    //   this.setState({\r\n    //     overlayAutoLogoutVisible: false,\r\n    //   });\r\n    //   this.doAutoLogout();\r\n    // }\r\n    // if (timer === 0) {\r\n    //   this.setState({\r\n    //     toLogin: true,\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  handleUpdateFromDeposit(transType, vipName, phone, deliveryFlg, dlyDate, postalCode, addr1, addr2) {\r\n    this.setState({ overlayDepositVisible: false });\r\n    if (!transType) {\r\n      return;\r\n    }\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-table-info';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      transType: transType,\r\n      vipName: vipName,\r\n      phone: phone,\r\n      deliveryFlg: deliveryFlg,\r\n      dlyDate: dlyDate,\r\n      postalCode: postalCode,\r\n      addr1: addr1,\r\n      addr2: addr2,\r\n      addr3: '',\r\n      addr4: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post deposit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Transaction Type',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            transType + ',' + deliveryFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable)\r\n      })\r\n  }\r\n\r\n  handleUpdateFromScanBarcode(text) {\r\n    if (!text) {\r\n      this.setState({ overlayScanBarcodeVisible: false });\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      vipId: home.vipId,\r\n      barcode: text,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post scan-barcode successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Scan Barcode',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromVoid(tableInfo) {\r\n    this.setState({\r\n      selectedTable: tableInfo.opentable,\r\n      tableItems: tableInfo.opentableItems,\r\n    });\r\n  }\r\n\r\n  handleUpdateFromTable() {\r\n    this.doToggleScreen('TABLE');\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntryObj, serviceEntry, home, preference, masters, screen, refresh,\r\n      selectedTable, selectedTableItem, tableItems, printPurpose, requestedPrivilege,\r\n      overlayAutoLogoutVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayReviseItemVisible, overlayTableActionsVisible, overlayAdditionalFunctionsVisible, overlayRequestAccessVisible,\r\n      overlayHeaderDiscountVisible, overlayLineDiscountVisible, overlayChangePriceVisible,\r\n      overlayChangeTableVisible, overlayMergeTableVisible, overlaySplitTableVisible,\r\n      overlayDepositVisible, overlayScanBarcodeVisible,\r\n      overlayProcedureMessageVisible, overlayChoosePrinterVisible } = this.state;\r\n    const settingPOSMODE = masters.settings.find(el => el.setId === 'POSMODE')?.setString;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayAutoLogoutVisible &&\r\n          <OverlayAutoLogout\r\n            handleUpdateFromAutoLogout={this.handleUpdateFromAutoLogout} />\r\n        }\r\n        {\r\n          overlayDepositVisible &&\r\n          <OverlayDeposit\r\n            serviceEntry={serviceEntry}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromDeposit={this.handleUpdateFromDeposit} />\r\n        }\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayScanBarcodeVisible &&\r\n          <OverlayScanBarcode\r\n            handleUpdateFromScanBarcode={this.handleUpdateFromScanBarcode} />\r\n        }\r\n        {\r\n          overlayReviseItemVisible &&\r\n          <OverlayReviseItem\r\n            home={home}\r\n            privileges={masters.privileges}\r\n            selectedTable={selectedTable}\r\n            selectedTableItem={selectedTableItem}\r\n            tableItems={tableItems}\r\n            handleUpdateFromReviseItem={this.handleUpdateFromReviseItem} />\r\n        }\r\n        {\r\n          overlayTableActionsVisible &&\r\n          <OverlayTableActions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromTableActions={this.handleUpdateFromTableActions} />\r\n        }\r\n        {\r\n          overlayAdditionalFunctionsVisible &&\r\n          <OverlayAdditionalFunctions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromAdditionalFunctions={this.handleUpdateFromAdditionalFunctions} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayChangePriceVisible &&\r\n          <OverlayChangePrice\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            selectedTableItem={selectedTableItem}\r\n            handleUpdateFromChangePrice={this.handleUpdateFromChangePrice} />\r\n        }\r\n        {\r\n          overlayLineDiscountVisible &&\r\n          <OverlayLineDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromLineDiscount={this.handleUpdateFromLineDiscount} />\r\n        }\r\n        {\r\n          overlayHeaderDiscountVisible &&\r\n          <OverlayHeaderDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromHeaderDiscount={this.handleUpdateFromHeaderDiscount} />\r\n        }\r\n        {\r\n          overlayMergeTableVisible &&\r\n          <OverlayMergeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeTable={this.handleUpdateFromMergeTable} />\r\n        }\r\n        {\r\n          overlaySplitTableVisible &&\r\n          <OverlaySplitTable\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromSplitTable={this.handleUpdateFromSplitTable} />\r\n        }\r\n        {\r\n          overlayChangeTableVisible &&\r\n          <OverlayChangeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromChangeTable={this.handleUpdateFromChangeTable} />\r\n        }\r\n        <View style={{ width: 10, backgroundColor: theme.grey8 }}>\r\n          <View style={{ marginTop: 30, height: 100, backgroundColor: this.doTranslateTableColor(selectedTable) }}></View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{home.userName}</Text>\r\n            <Text style={styles.footerText}>{home.locName}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, marginLeft: 0, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            {/* {\r\n              selectedTable &&\r\n              <TouchableOpacity style={{ margin: 3, marginLeft: 0, marginRight: 0, width: 23, backgroundColor: this.doTranslateTableColor(selectedTable) }}\r\n                onPress={() => this.doClearTable()}>\r\n\r\n              </TouchableOpacity>\r\n            } */}\r\n            <View style={{ margin: 3, flex: 1, flexDirection: 'row', }}>\r\n              {\r\n                selectedTable &&\r\n                <TouchableOpacity style={{ marginLeft: 0, aspectRatio: 1, backgroundColor: this.doTranslateTableColor(selectedTable), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.setState({ overlayTableActionsVisible: true })}>\r\n                  <Text style={styles.tableUpperBand} numberOfLines={1}>{selectedTable.vipName || ''}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 24, letterSpacing: 1 }} numberOfLines={1}>{selectedTable.tableId}</Text>\r\n                  <Text style={styles.tableLowerBand} numberOfLines={1}>{this.doTranslateTableStatus(selectedTable)}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n            </View>\r\n            {\r\n              selectedTable && selectedTable.sectionId === 'SYS' ?\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  {\r\n                    selectedTable.adhocItem > 0 &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                      <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                      <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'A' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      disabled={selectedTable.sendFlg !== 'Y'}\r\n                      onPress={() => this.doPressSend()}>\r\n                      <FontAwesome name=\"send\" size={24} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'A' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                      <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'B' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT', tab: 'VIP' })}>\r\n                      <MaterialCommunityIcons name=\"account-circle\" size={29} color={theme.unavailable} style={{ height: 28, }} />\r\n                      <Text style={styles.buttonText}>VIP</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {/* <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => this.doPressTransType()}>\r\n                    <MaterialCommunityIcons name=\"water\" size={32} color={theme.deposit} style={{ height: 28, width: 32 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('type')}</Text>\r\n                  </TouchableOpacity> */}\r\n                </View>\r\n                : selectedTable && selectedTable.statusFlg === 'A' ?\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable })}>\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n                  </TouchableOpacity>\r\n                  : selectedTable && selectedTable.statusFlg === 'D' ?\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => this.handleUpdateFromTableActions('resetTable')}>\r\n                      <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.vacant} style={{ height: 28, width: 26 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                    </TouchableOpacity>\r\n                    : selectedTable ?\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        {\r\n                          selectedTable.adhocItem > 0 &&\r\n                          <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                            onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                            <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                            <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                            <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                          </TouchableOpacity>\r\n                        }\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          disabled={selectedTable.sendFlg !== 'Y'}\r\n                          onPress={() => this.doPressSend()}>\r\n                          <FontAwesome name=\"send\" size={24} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 28 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                          <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                        </TouchableOpacity>\r\n                      </View>\r\n                      : null\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.setState({ overlayAdditionalFunctionsVisible: true })}>\r\n              <MaterialCommunityIcons name=\"clover\" size={28} color={theme.paid} style={{ height: 28, width: 28 }} />\r\n              <Text style={styles.buttonText}>{intl.get('func')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: 'white' }}>\r\n            <View style={{ width: 50, height: 20, alignItems: 'center', justifyContent: 'center', borderRightColor: theme.paid }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('qty')}</Text>\r\n            </View>\r\n            <View style={{ flex: 1, justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('desc')}</Text>\r\n            </View>\r\n            <View style={{ paddingRight: 10, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('total')}</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            onContentSizeChange={() => this.scrollViewRef.scrollToEnd()}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              tableItems.filter(el => !el.refRecKey).map(item => (\r\n                <View key={item.recKey.toString()}>\r\n                  {\r\n                    item.lineBreak === 'Y' &&\r\n                    <View style={{ alignItems: 'center', flexDirection: 'row', height: 20, }}>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                      <Text style={{ fontFamily: 'varela-round', color: theme.grey5, fontSize: 12 }}>LINE BREAK</Text>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                    </View>\r\n                  }\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: this.doTranslateTableItemColor(item), }}\r\n                    onPress={() => this.doPressItem(item)}>\r\n                    <View style={{ paddingVertical: 10, width: 50, alignItems: 'center', borderRightColor: theme.paid }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.orderQty}</Text>\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, flex: 1 }}>\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.menuName}</Text>\r\n                          {\r\n                            item.menuMod &&\r\n                            <Text style={{ fontFamily: 'varela-round', fontSize: 16, color: theme.paid }}>{item.menuMod}</Text>\r\n                          }\r\n                        </View>\r\n                        <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.lineTotal?.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      {\r\n                        tableItems.filter(el => el.refRecKey === item.recKey).map(obj =>\r\n                          <View style={{ marginTop: 5, flexDirection: 'row' }} key={obj.recKey.toString()}>\r\n                            <View style={{ flex: 1, }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14, marginLeft: 10 }}>- {obj.menuName}</Text>\r\n                              {\r\n                                obj.menuMod &&\r\n                                <Text style={{ fontFamily: 'varela-round', fontSize: 14, color: theme.paid }}>{obj.menuMod}</Text>\r\n                              }\r\n                            </View>\r\n                            <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14 }}>{obj.lineTotal ? obj.lineTotal?.toFixed(2) : ''}</Text>\r\n                            </View>\r\n                          </View>\r\n                        )\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <View style={{ margin: 10, marginBottom: 0, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'baseline' }}>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 10 }}></Text>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 28 }}>${selectedTable?.grandTotal?.toFixed(2) || '0.00'}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, flexDirection: 'row', }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                onPress={() => this.doToggleScreen(screen)}>\r\n                {\r\n                  screen === 'TABLE' ?\r\n                    <Ionicons name=\"md-book\" size={26} color={theme.reserved} style={{ height: 28, width: 26 }} />\r\n                    :\r\n                    <MaterialCommunityIcons name=\"apps-box\" size={28} color={theme.vacant} style={{ height: 28, width: 28 }} />\r\n                }\r\n                <Text style={styles.buttonText}>{screen === 'TABLE' ? intl.get('menu') : intl.get('table')}</Text>\r\n              </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => navigation.navigate('Trace', { home, serviceEntry, selectedTable })}>\r\n              <MaterialCommunityIcons name=\"navigation\" size={28} color={theme.adhoc} style={{ height: 28, width: 28, transform: [{ rotateZ: '180deg' }] }} />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doPrintBill()}>\r\n              <MaterialCommunityIcons name=\"book\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n              <Text style={styles.buttonText}>{intl.get('bill')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doStartPayment()}>\r\n              <Ionicons name=\"print-sharp\" size={27} color={theme.paid} style={{ height: 28, marginLeft: 1 }} />\r\n              <Text style={styles.buttonText}>{intl.get('payment')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{moment().format('HH:mm')}</Text>\r\n            <Text style={styles.footerText}>EPB BISTRO {Constants.manifest.version?.split('.')[0]}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ flex: 2, backgroundColor: theme.grey9 }}>\r\n          <Tab.Navigator\r\n            screenOptions={{\r\n              headerShown: false,\r\n              animation: 'none',\r\n              gestureEnabled: false,\r\n              tabBarStyle: { display: 'none' },\r\n            }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <Tab.Screen name=\"MainTable\"\r\n                children={() =>\r\n                  <MainTable\r\n                    refresh={refresh}\r\n                    home={home}\r\n                    serviceEntry={serviceEntry}\r\n                    preference={preference}\r\n                    masters={masters}\r\n                    handlePressTable={this.handlePressTable}\r\n                    handleActionTable={this.handleActionTable} />\r\n                } />\r\n            }\r\n            <Tab.Screen name=\"MainMenu\"\r\n              children={() =>\r\n                <MainMenu\r\n                  home={home}\r\n                  serviceEntry={serviceEntry}\r\n                  serviceEntryObj={serviceEntryObj}\r\n                  preference={preference}\r\n                  settings={masters.settings}\r\n                  foldergrps={masters.foldergrps}\r\n                  folders={masters.folders}\r\n                  menus={masters.menus}\r\n                  modBundles={masters.modBundles}\r\n                  handlePressMenu={this.handlePressMenu}\r\n                  handlePressScan={this.handlePressScan} />\r\n              } />\r\n          </Tab.Navigator>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  footerText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableUpperBand: {\r\n    position: 'absolute',\r\n    top: 10, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    // backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'black',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableLowerBand: {\r\n    position: 'absolute',\r\n    bottom: 0, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonText: {\r\n    marginTop: 10,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: theme.grey5,\r\n    textTransform: 'uppercase'\r\n  }\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayServiceEntry extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.props.handleUpdateFromServiceEntry(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayserviceentry');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Register</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='EPB ID OR IP:PORT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromServiceEntry('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayServiceEntry from './OverlayServiceEntry';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      savedEntries: [],\r\n      serviceEntry: '',\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromServiceEntry = this.handleUpdateFromServiceEntry.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    let savedEntries = await AsyncStorage.getItem('savedEntries');\r\n    if (savedEntries) {\r\n      savedEntries = JSON.parse(savedEntries);\r\n    } else {\r\n      savedEntries = [];\r\n    }\r\n    this.setState({\r\n      serviceEntry,\r\n      savedEntries,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doDeleteEntry') {\r\n      this.doDeleteEntry(selectedItem);\r\n    } else if (text === 'doSetEntry') {\r\n      this.doSetEntry(selectedItem);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromServiceEntry(text) {\r\n    this.setState({ overlayServiceEntryVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text.includes(':8085')) {\r\n      // assume local\r\n      let found = {\r\n        epbId: 'IP:PORT',\r\n        name: 'IP:PORT',\r\n        bistroServiceUrl: 'http://' + text + '/',\r\n      }\r\n      this.doSaveEntry(found);\r\n    } else {\r\n      // EPB ID\r\n      fetch('http://203.208.248.199:9090/beacon/api/locate?epbId=' + text, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('response', response);\r\n          this.doSaveEntry(response);\r\n        })\r\n        .catch(error => {\r\n          console.log('error', error);\r\n          this.setState({\r\n            overlayProcedureMessageVisible: 'INVALID EPB ID',\r\n          })\r\n        });\r\n    }\r\n  }\r\n\r\n  doSaveEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    if (!item.bistroServiceUrl) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING BISTRO SERVICE URL',\r\n      })\r\n      return;\r\n    }\r\n    if (savedEntriesUpdate.some(el => (el.epbId === item.epbId))) {\r\n      savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    }\r\n    savedEntriesUpdate.unshift(item);\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  doPressAdd() {\r\n    this.setState({\r\n      overlayServiceEntryVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressEntry(item) {\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: '',\r\n        ok: false,\r\n        cancel: true,\r\n        options: [\r\n          { text: 'SET ENTRY', handleText: 'doSetEntry' },\r\n          { text: 'DELETE ENTRY', handleText: 'doDeleteEntry' }\r\n        ],\r\n      },\r\n      overlayAlertVisible: true,\r\n      selectedItem: item,\r\n    });\r\n  }\r\n\r\n  doDeleteEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    console.log(savedEntriesUpdate)\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n  }\r\n\r\n  doSetEntry(item) {\r\n    this.setState({\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference, savedEntries, serviceEntry,\r\n      overlayServiceEntryVisible,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render register', savedEntries);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayServiceEntryVisible &&\r\n          <OverlayServiceEntry\r\n            handleUpdateFromServiceEntry={this.handleUpdateFromServiceEntry} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  {\r\n                    savedEntries.map((item, index) =>\r\n                      <TouchableOpacity\r\n                        key={index.toString()}\r\n                        style={styles.grid}\r\n                        onPress={() => this.doPressEntry(item)}>\r\n                        <View style={styles.gridFirst}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.epbId || '-'}</Text>\r\n                          <Text style={styles.gridFirstRightText}>{item.bistroServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridSecond}>\r\n                          <Text style={styles.gridSecondText}>{item.name || 'IP:PORT'}</Text>\r\n                          <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                        </View>\r\n                        <View style={[styles.gridFirst, { marginBottom: 5 }]}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.restServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridThird}>\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                          {\r\n                            item.bistroServiceUrl === serviceEntry ?\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>{intl.get('active')}</Text>\r\n                              :\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('inactive')}</Text>\r\n                          }\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    )\r\n                  }\r\n\r\n\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressAdd()}>\r\n                <AntDesign\r\n                  name='pluscircleo'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('add')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Preference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // tcolsize: '',\r\n      // mcolsize: '',\r\n      // mquick: '',\r\n      preference: null,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    console.log('here', preference)\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n      this.setState({\r\n        preference\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doReset') {\r\n      this.doReset();\r\n    }\r\n  }\r\n\r\n  doPressReset() {\r\n    let options = [];\r\n    options.push({ text: intl.get('yes'), handleText: 'doReset' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: `${intl.get('reset')} ${intl.get('preference')}`,\r\n        text: 'Reset all to factory preset?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doReset() {\r\n    let preference = {\r\n      tcolsize: Platform.OS === 'web' ? 5 : 4,\r\n      mcolsize: Platform.OS === 'web' ? 3 : 2,\r\n      pcolsize: Platform.OS === 'web' ? 5 : 3,\r\n      mquick: 'Y',\r\n    };\r\n    this.setState({ preference })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n  }\r\n\r\n  doTcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.tcolsize < 8) {\r\n      preferenceUpdate.tcolsize = preferenceUpdate.tcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.tcolsize = 3;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mcolsize < 6) {\r\n      preferenceUpdate.mcolsize = preferenceUpdate.mcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.mcolsize = 1;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doPcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.pcolsize < 7) {\r\n      preferenceUpdate.pcolsize = preferenceUpdate.pcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.pcolsize = 2;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMquick() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mquick === 'Y') {\r\n      preferenceUpdate.mquick = 'N';\r\n    } else {\r\n      preferenceUpdate.mquick = 'Y';\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render preference');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doTcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>TCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>3-8</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Table</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.tcolsize === 5) || (Platform.OS !== 'web' && preference?.tcolsize === 4)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doPcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>PCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>2-7</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for POS</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.pcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.pcolsize === 5) || (Platform.OS !== 'web' && preference?.pcolsize === 3)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>1-6</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.mcolsize === 3) || (Platform.OS !== 'web' && preference?.mcolsize === 2)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMquick()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MQUICK</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>Y/N</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Quick Select for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mquick}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        preference?.mquick === 'Y' ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressReset()}>\r\n                <AntDesign\r\n                  name='warning'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reset')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitItems extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        percentage: (100 / props.receipts.length).toFixed(0).toString(),\r\n      })),\r\n    };\r\n    this.handleFillPercentagesEvenly = this.handleFillPercentagesEvenly.bind(this);\r\n    this.handleSetPercentageForReceipt = this.handleSetPercentageForReceipt.bind(this);\r\n    this.handleSetFullPercentageForReceipt = this.handleSetFullPercentageForReceipt.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillPercentagesEvenly() {\r\n    const { receipts } = this.state;\r\n    let numberString = (100 / receipts.length).toFixed(0).toString();\r\n    receipts.forEach(item => this.handleSetPercentageForReceipt(numberString, item.docId));\r\n  }\r\n\r\n  handleSetFullPercentageForReceipt(item) {\r\n    const { receipts } = this.state;\r\n    receipts.forEach(el => {\r\n      if (el.docId === item.docId) {\r\n        this.handleSetPercentageForReceipt('100', el.docId);\r\n      } else {\r\n        this.handleSetPercentageForReceipt('0', el.docId);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSetPercentageForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.docId === docId);\r\n    if (!Number(number)) {\r\n      receiptsUpdate[index].percentage = '0';\r\n    } else {\r\n      receiptsUpdate[index].percentage = Number(number).toFixed(0).toString();\r\n    }\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdate2', receipts));\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.percentage); }, 0);\r\n    console.log('agg', aggregate);\r\n    if (receipts.some(item => receipts[0].percentage !== item.percentage) && aggregate !== 100) {\r\n      console.log('validation failed');\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromSplitItems(receipts);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTableItems } = this.props;\r\n    const { receipts } = this.state;\r\n    console.log('in overlaysplititems');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Item(s)</Text>\r\n            <Text style={styles.overlayText}>You are splitting {selectedTableItems.length} item(s) for {receipts.length} receipts</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleSetFullPercentageForReceipt(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).percentage}\r\n                      onChangeText={(number) => this.handleSetPercentageForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}>%</Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.handleFillPercentagesEvenly()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>Fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitItems('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlaySplitItems from './OverlaySplitItems';\r\n\r\nexport default class Split extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n      selectedTableItems: [],\r\n      overlaySplitItemsVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSplitSelectedTableItems = this.handleSplitSelectedTableItems.bind(this);\r\n    this.handleUndoAll = this.handleUndoAll.bind(this);\r\n    this.handleSelectAllUnsplitTableItems = this.handleSelectAllUnsplitTableItems.bind(this);\r\n    this.handleDeselectAllUnsplitTableItems = this.handleDeselectAllUnsplitTableItems.bind(this);\r\n    this.handleUpdateFromSplitItems = this.handleUpdateFromSplitItems.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('menu selected', item);\r\n    const { selectedTableItems, receipts } = this.state;\r\n    const { tableItems } = this.props;\r\n    if (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey)) {\r\n      return;\r\n    }\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSelectAllUnsplitTableItems() {\r\n    const { tableItems } = this.props;\r\n    const { selectedTableItems, receipts } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    tableItems.forEach(el => {\r\n      if (receipts[0].receiptItems.some(obj => obj.recKey === el.recKey) || selectedTableItems.some(obj => obj.recKey === el.recKey)) {\r\n        return;\r\n      }\r\n      selectedTableItemsUpdate.push(el);\r\n    });\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleDeselectAllUnsplitTableItems() {\r\n    this.setState({\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleSplitSelectedTableItems() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlaySplitItemsVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUndoAll() {\r\n    this.setState({\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleUpdateFromSplitItems(distribution) {\r\n    console.log('distribution', distribution);\r\n    if (!distribution) {\r\n      this.setState({\r\n        overlaySplitItemsVisible: false,\r\n        selectedTableItems: [],\r\n      });\r\n      return;\r\n    }\r\n    const { receipts, selectedTableItems } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    receiptsUpdate.forEach(el => {\r\n      selectedTableItems.forEach(obj => {\r\n        el.receiptItems.push({\r\n          ...obj,\r\n          percentage: distribution.find(item => item.docId === el.docId).percentage\r\n        });\r\n      })\r\n    })\r\n    this.setState({\r\n      overlaySplitItemsVisible: false,\r\n      selectedTableItems: [],\r\n      receipts: receiptsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplit(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { serviceEntry, home, selectedTable, availableReceipts, tableItems, cashierPrinters } = this.props;\r\n    const { receipts, selectedTableItems, overlaySplitItemsVisible, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in split');\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlaySplitItemsVisible &&\r\n          <OverlaySplitItems\r\n            receipts={receipts}\r\n            selectedTableItems={selectedTableItems}\r\n            handleUpdateFromSplitItems={this.handleUpdateFromSplitItems} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY ITEM'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE</Text>\r\n              <Text style={styles.overlaySubtitleText}>{selectedTable.tableId}</Text>\r\n              <Text style={styles.overlayTitleText}>{tableItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleUndoAll()}\r\n              >\r\n                <Text style={styles.buttonText}>Undo</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleDeselectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Deselect</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleSelectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Select</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                tableItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    disabled={(receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) ? true : false}\r\n                    style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}\r\n                  >\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}\r\n                    >\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.refRecKey ? '- ' : null}{item.menuName}\r\n                      </Text>\r\n                      {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={[styles.actionButton, selectedTableItems.length !== 0 ? { backgroundColor: theme.occupied } : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleSplitSelectedTableItems()}\r\n            >\r\n              <Text style={styles.buttonText}>Split Selected</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              receipts[0].receiptItems.length === tableItems.length ?\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.handleSubmit()}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm Split</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.props.handleUpdateFromSplit('')}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.paid }]}>Quit</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <ScrollView style={styles.splitScroll}\r\n            horizontal={true}\r\n            snapToInterval={wrapperWidth}\r\n            decelerationRate='fast'\r\n          >\r\n            {\r\n              receipts.map((obj, index) => (\r\n                <View style={styles.wrapper}\r\n                  key={obj.docId}\r\n                >\r\n                  <View style={styles.overlayHeader}>\r\n                    <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>SPLIT {index + 1} OF {receipts.length}</Text>\r\n                    <Text style={styles.overlaySubtitleText}>{obj.docId}</Text>\r\n                    <Text style={styles.overlayTitleText}>{obj.receiptItems.length} ITEMS</Text>\r\n                  </View>\r\n                  <ScrollView style={styles.itemsContainer}>\r\n                    <View style={{ paddingTop: 5 }}></View>\r\n                    {\r\n                      obj.receiptItems.map(item => (\r\n                        <TouchableOpacity key={item.recKey}\r\n                          style={styles.tableItemContainer}\r\n                        // onPress={() => this.handleSelectTableItem(item)}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <View style={styles.tableItemSecondContainer}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </View>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              <Text style={{ color: theme.reserved }}>{item.percentage}</Text><Text style={{ color: theme.grey1 }}> %</Text>\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst wrapperWidth = Dimensions.get('window').width / 3;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n    width: wrapperWidth,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayInputReference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayinputreference');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Input Reference</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                placeholder='ENTER REFERENCE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.props.handleUpdateFromInputReference(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromInputReference(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromInputReference('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\n\r\nexport default class OverlayMergeBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      selectedTargetTable: '',\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.props;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        const filteredResponse = response.filter(el => {\r\n          return el.tableId !== selectedTable.tableId;\r\n        });\r\n        this.setState({\r\n          tables: filteredResponse,\r\n          availableTables: filteredResponse,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTargetTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleSubmit(selectedTargetTable, printer);\r\n  }\r\n\r\n  handleSubmit(item, printer) {\r\n    const { home } = this.props;\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    });\r\n    const { cashierPrinters } = this.props;\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromMergeBill(item, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { overlaySearchText, availableTables, tables, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaymergebill', selectedTable);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='MERGE BILL'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Bill</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeBill('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>OCCUPIED</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, TextInput,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayNumber: 2,\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayNumber === 2) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleNumberChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayNumber: 2 })\r\n    } else {\r\n      this.setState({ overlayNumber: Number(text) })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { overlayNumber } = this.state;\r\n    console.log('in overlaysplitbill');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Bill</Text>\r\n            <Text style={styles.overlayText}>Enter the number of bills to split into</Text>\r\n          </View>\r\n          <View style={styles.adjustContainer}>\r\n            <TouchableOpacity style={styles.adjustFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.adjustSecond}>\r\n              <TextInput style={styles.overlayNumber}\r\n                selectTextOnFocus\r\n                keyboardType='numeric'\r\n                value={overlayNumber?.toString()}\r\n                onChangeText={(searchText) => this.handleNumberChange(searchText)} />\r\n            </View>\r\n            <TouchableOpacity style={styles.adjustThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 2 && { backgroundColor: theme.occupied }]}\r\n              onPress={() => this.setState({ overlayNumber: 2 })}>\r\n              <Text style={styles.buttonText}>2</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 3 && { backgroundColor: theme.reserved }]}\r\n              onPress={() => this.setState({ overlayNumber: 3 })}>\r\n              <Text style={styles.buttonText}>3</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 4 && { backgroundColor: theme.paid }]}\r\n              onPress={() => this.setState({ overlayNumber: 4 })}>\r\n              <Text style={styles.buttonText}>4</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'ITEM')}>\r\n            <Text style={styles.overlayOptionText}>Split By Item</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'AMOUNT')}>\r\n            <Text style={styles.overlayOptionText}>Split By Amount</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitBill('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n    marginBottom: 30,\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 20,\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitAmount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        recKey: item.recKey,\r\n        amount: '0',\r\n      })),\r\n      warning: 'Total amount to split is ' + props.selectedTable.grandTotal.toFixed(2),\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleFillRemainder = this.handleFillRemainder.bind(this);\r\n    this.handleSetAmountForReceipt = this.handleSetAmountForReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillRemainder(item) {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.recKey === item.recKey);\r\n    const aggregate = receipts.filter(el => el.recKey !== item.recKey).reduce((init, obj) => { return init + Number(obj.amount); }, 0);\r\n    if (aggregate <= Number(selectedTable.grandTotal)) {\r\n      receiptsUpdate[index].amount = (Number(selectedTable.grandTotal) - aggregate).toFixed(2).toString();\r\n      this.setState({\r\n        receipts: receiptsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSetAmountForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    let index = receipts.findIndex(el => el.docId === docId);\r\n    receiptsUpdate[index].amount = number;\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { selectedTable, cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.amount); }, 0).toFixed(2);\r\n    console.log('aggregate', aggregate);\r\n    if (receipts.some(item => Number(item.amount) === 0) || (Number(aggregate) !== Number(selectedTable.grandTotal))) {\r\n      console.log('validation failed');\r\n      this.setState({\r\n        warning: 'Ensure numbers are valid and add up to ' + selectedTable.grandTotal.toFixed(2),\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplitAmount(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  doFillEvenly() {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n\r\n    const equal = Number(selectedTable.grandTotal / receipts.length).toFixed(2);\r\n\r\n    receiptsUpdate.forEach((el, index) => {\r\n      if (index !== receiptsUpdate.length - 1) {\r\n        el.amount = Number(equal).toFixed(2);\r\n      } else {\r\n        el.amount = (selectedTable.grandTotal - equal * (receiptsUpdate.length - 1)).toFixed(2);\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { receipts, warning, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaysplitamount');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY AMOUNT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Amount</Text>\r\n            <Text style={styles.overlayText}>{warning}</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleFillRemainder(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).amount}\r\n                      onChangeText={(number) => this.handleSetAmountForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.doFillEvenly()}>\r\n            <Text style={styles.overlayOptionText}>fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption,]}\r\n            onPress={() => this.handleSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitAmount('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayUpdateTips extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n      overlaySearchText: '',\r\n      paymentMethods: props.paymentMethods,\r\n      availablePaymentMethods: props.paymentMethods,\r\n      selectedPaymentMethod: null,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { paymentMethods } = this.state;\r\n    let availablePaymentMethodsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availablePaymentMethodsUpdate = paymentMethods;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePaymentMethods: availablePaymentMethodsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePaymentMethodsUpdate = availablePaymentMethodsUpdate.filter(item => {\r\n      return item.pmId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePaymentMethods: availablePaymentMethodsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlayText, selectedPaymentMethod, availablePaymentMethods, overlaySearchText } = this.state;\r\n    console.log('in overlayupdatetips', availablePaymentMethods);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Update Tips</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                keyboardType='numeric'\r\n                placeholder='ENTER TIPS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          <View style={styles.selectWrapper}>\r\n            <View style={styles.searchBoxWrapper}>\r\n              <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                <TextInput style={styles.overlaySearchBoxInput}\r\n                  placeholder='ENTER SEARCH TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                  value={overlaySearchText}\r\n                />\r\n                <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                  onPress={() => {\r\n                    this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                    Keyboard.dismiss()\r\n                  }}>\r\n                  <AntDesign name='close' size={24} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availablePaymentMethods.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={[{ flex: 1 }]}\r\n              data={availablePaymentMethods}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  style={[styles.overlayGrid, selectedPaymentMethod?.pmId === item.pmId && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.setState({ selectedPaymentMethod: item, })}>\r\n                  <View style={styles.overlayGridFirst}>\r\n                    <View style={styles.overlayGridFirstLeft}>\r\n                      <Text style={styles.overlayGridFirstLeftText}>{item.pmId}</Text>\r\n                    </View>\r\n                    <View style={styles.overlayGridFirstRight}>\r\n                      <Text style={styles.overlayGridFirstRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.overlayGridSecond}>\r\n                    <Text style={styles.overlayGridSecondText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridThird}>\r\n                    <View style={styles.overlayGridThirdLeft}>\r\n                    </View>\r\n                    <View style={styles.overlayGridThirdRight}>\r\n                      <Text style={styles.overlayGridThirdRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips(overlayText, selectedPaymentMethod)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayViewSplitted extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { receipts } = this.props;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>VIEW</Text>\r\n            <Text style={styles.overlaySubtitleText}>Splitted Receipts</Text>\r\n            <Text style={styles.overlayText}></Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.recKey}\r\n                >\r\n                  <View style={styles.inputRowLeft}>\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </View>\r\n                  <View style={styles.inputRowRight}>\r\n                    <Text style={styles.textInput}>{item.grandTotal ? item.grandTotal.toFixed(2) : null}</Text>\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromViewSplitted('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport QRCode from 'react-native-qrcode-svg';\r\nimport Paynow from '../assets/paynow.png';\r\nimport moment from 'moment';\r\n\r\nclass PaynowQR {\r\n  constructor(opts) {\r\n    Object.defineProperty(this, 'qrstring', {\r\n      value: this.generate(opts)\r\n    });\r\n  }\r\n  output() {\r\n    return this.qrstring;\r\n  }\r\n\r\n  padLeft(s, n, str) {\r\n    if (n < String(s).length) {\r\n      return s.toString();\r\n    }\r\n    else {\r\n      return Array(n - String(s).length + 1).join(str || '0') + s;\r\n    }\r\n  }\r\n\r\n  crc16(s) {\r\n    var crcTable = [0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5,\r\n      0x60c6, 0x70e7, 0x8108, 0x9129, 0xa14a, 0xb16b,\r\n      0xc18c, 0xd1ad, 0xe1ce, 0xf1ef, 0x1231, 0x0210,\r\n      0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6,\r\n      0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c,\r\n      0xf3ff, 0xe3de, 0x2462, 0x3443, 0x0420, 0x1401,\r\n      0x64e6, 0x74c7, 0x44a4, 0x5485, 0xa56a, 0xb54b,\r\n      0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d,\r\n      0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6,\r\n      0x5695, 0x46b4, 0xb75b, 0xa77a, 0x9719, 0x8738,\r\n      0xf7df, 0xe7fe, 0xd79d, 0xc7bc, 0x48c4, 0x58e5,\r\n      0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823,\r\n      0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969,\r\n      0xa90a, 0xb92b, 0x5af5, 0x4ad4, 0x7ab7, 0x6a96,\r\n      0x1a71, 0x0a50, 0x3a33, 0x2a12, 0xdbfd, 0xcbdc,\r\n      0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a,\r\n      0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03,\r\n      0x0c60, 0x1c41, 0xedae, 0xfd8f, 0xcdec, 0xddcd,\r\n      0xad2a, 0xbd0b, 0x8d68, 0x9d49, 0x7e97, 0x6eb6,\r\n      0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70,\r\n      0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a,\r\n      0x9f59, 0x8f78, 0x9188, 0x81a9, 0xb1ca, 0xa1eb,\r\n      0xd10c, 0xc12d, 0xf14e, 0xe16f, 0x1080, 0x00a1,\r\n      0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067,\r\n      0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c,\r\n      0xe37f, 0xf35e, 0x02b1, 0x1290, 0x22f3, 0x32d2,\r\n      0x4235, 0x5214, 0x6277, 0x7256, 0xb5ea, 0xa5cb,\r\n      0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d,\r\n      0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447,\r\n      0x5424, 0x4405, 0xa7db, 0xb7fa, 0x8799, 0x97b8,\r\n      0xe75f, 0xf77e, 0xc71d, 0xd73c, 0x26d3, 0x36f2,\r\n      0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634,\r\n      0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9,\r\n      0xb98a, 0xa9ab, 0x5844, 0x4865, 0x7806, 0x6827,\r\n      0x18c0, 0x08e1, 0x3882, 0x28a3, 0xcb7d, 0xdb5c,\r\n      0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a,\r\n      0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0,\r\n      0x2ab3, 0x3a92, 0xfd2e, 0xed0f, 0xdd6c, 0xcd4d,\r\n      0xbdaa, 0xad8b, 0x9de8, 0x8dc9, 0x7c26, 0x6c07,\r\n      0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1,\r\n      0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba,\r\n      0x8fd9, 0x9ff8, 0x6e17, 0x7e36, 0x4e55, 0x5e74,\r\n      0x2e93, 0x3eb2, 0x0ed1, 0x1ef0];\r\n\r\n    var crc = 0xFFFF;\r\n    var j, i;\r\n\r\n    for (i = 0; i < s.length; i++) {\r\n\r\n      let c = s.charCodeAt(i);\r\n      if (c > 255) {\r\n        throw new RangeError();\r\n      }\r\n      j = (c ^ (crc >> 8)) & 0xFF;\r\n      crc = crcTable[j] ^ (crc << 8);\r\n    }\r\n\r\n    return ((crc ^ 0) & 0xFFFF).toString(16).toUpperCase();\r\n  }\r\n\r\n\r\n  generate(opts) {\r\n\r\n    for (let key in opts) {\r\n      if (typeof opts[key] == 'string') {\r\n        opts[key] = opts[key].trim();\r\n      }\r\n    }\r\n\r\n\r\n    const p = [\r\n      { id: '00', value: '01' },                    // ID 00: Payload Format Indicator (Fixed to '01')\r\n      { id: '01', value: '12' },                    // ID 01: Point of Initiation Method 11: static, 12: dynamic\r\n      {\r\n        id: '26', value:                            // ID 26: Merchant Account Info Template\r\n          [{ id: '00', value: 'SG.PAYNOW' },\r\n          { id: '01', value: '2' },                 // 0 for mobile, 2 for UEN. 1 is not used.\r\n          { id: '02', value: String(opts.uen) },            // PayNow UEN (Company Unique Entity Number)\r\n          { id: '03', value: String(!opts.amount || opts.editable ? 1 : 0) },       // 1 = Payment amount is editable, 0 = Not Editable\r\n          { id: '04', value: String(opts.expiry) }]         // Expiry date (YYYYMMDD)\r\n      },\r\n      { id: '52', value: '0000' },                  // ID 52: Merchant Category Code (not used)\r\n      { id: '53', value: '702' },                   // ID 53: Currency. SGD is 702\r\n      { id: '54', value: String(opts.amount || 0) },  // ID 54: Transaction Amount\r\n      { id: '58', value: 'SG' },                    // ID 58: 2-letter Country Code (SG)\r\n      { id: '59', value: String(opts.company || 'COMPANY') },          // ID 59: Company Name\r\n      { id: '60', value: 'Singapore' }             // ID 60: Merchant City\r\n\r\n    ]\r\n\r\n    let otherdata = {\r\n      id: '62', value: [{                         // ID 62: Additional data fields\r\n        id: '01', value: String(opts.refNumber || '')           // ID 01: Bill Number\r\n      }]\r\n    };\r\n\r\n    if (opts.refNumber) {\r\n      p.push(otherdata);\r\n    }\r\n\r\n    let str = p.reduce((final, current) => {\r\n      if (Array.isArray(current.value)) { //nest loop\r\n        current.value = current.value.reduce((f, c) => {\r\n          f += c.id + this.padLeft(c.value.length.toString(), 2) + c.value;\r\n          return f\r\n        }, \"\")\r\n      }\r\n      final += current.id + this.padLeft(current.value.length.toString(), 2) + current.value;\r\n      return final\r\n    }, \"\")\r\n\r\n    // Here we add \"6304\" to the previous string\r\n    // ID 63 (Checksum) 04 (4 characters)\r\n    // Do a CRC16 of the whole string including the \"6304\"\r\n    // then append it to the end.\r\n    str += '6304' + this.padLeft(this.crc16(str + '6304'), 4);\r\n\r\n    return str;\r\n\r\n  }\r\n}\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home } = this.props;\r\n    let qrcode = new PaynowQR({\r\n      uen: home.uen,           //Required: UEN of company\r\n      amount: Number(this.props.input.amount),               //Specify amount of money to pay.\r\n      editable: false,             //Whether or not to allow editing of payment amount. Defaults to false if amount is specified\r\n      expiry: moment().format('YYYYMMDD'),         //Set an expiry date for the Paynow QR code (YYYYMMDD). If omitted, defaults to 5 years from current time.\r\n      refNumber: this.props.input.reference,   //Reference number for Paynow Transaction. Useful if you need to track payments for recouncilation.\r\n      company: home.orgName   //Company name to embed in the QR code. Optional.               \r\n    });\r\n\r\n    this.setState({\r\n      qrcodeString: qrcode.output(),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { input, qrcodeString } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlaySubtitleText}>${this.props.input.amount}</Text>\r\n            <Text style={[styles.overlayText, { marginTop: 0 }]}>{this.props.home.orgName}</Text>\r\n          </View>\r\n          <QRCode\r\n            size={300}\r\n            value={qrcodeString}\r\n            color='#761972'\r\n            logo={Paynow}\r\n            logoSize={80}\r\n          />\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={[styles.overlayText, { marginTop: 5 }]}>Thank you!</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { width: 400 }]}\r\n            onPress={() => this.props.handleUpdateFromPaynow('')}>\r\n            <Text style={styles.overlayOptionText}>CONTINUE</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    // width: '40%',\r\n    // backgroundColor: theme.grey2,\r\n    // borderRadius: 5,\r\n    // overflow: 'hidden',\r\n    alignItems: 'center',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Dimensions, FlatList, ScrollView, Platform, Text, Image } from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport Split from './Split';\r\nimport OverlayInputReference from './OverlayInputReference';\r\nimport OverlayMergeBill from './OverlayMergeBill';\r\nimport OverlaySplitBill from './OverlaySplitBill';\r\nimport OverlaySplitAmount from './OverlaySplitAmount';\r\nimport OverlayUpdateTips from './OverlayUpdateTips';\r\nimport OverlayViewSplitted from './OverlayViewSplitted';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayPaynow from './OverlayPaynow';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Pos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      paymentMethods: props.route.params.masters.paymentMethods,\r\n      settings: props.route.params.masters.settings,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedTable: props.route.params.selectedTable,\r\n      payments: props.route.params.pospays,\r\n\r\n      selectedPaymentMethod: null,\r\n      selectedPaymentItem: '',\r\n      numberString: '0',\r\n      pay: props.route.params.selectedTable.balance,\r\n\r\n      overlayPaynowVisible: false,\r\n      overlayInputReferenceVisible: false,\r\n      overlayMergeBillVisible: false,\r\n      overlaySplitBillVisible: false,\r\n      overlaySplitAmountVisible: false,\r\n      overlayUpdateTipsVisible: false,\r\n      overlayViewSplittedVisible: false,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printPurpose: '',\r\n      selectedPrinter: '',\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      splitting: false,\r\n      availableReceipts: [],\r\n      splitReceipts: [],\r\n      tableItems: [],\r\n    };\r\n    this.handleBuildNumberString = this.handleBuildNumberString.bind(this);\r\n    this.handleSelectPaymentMethod = this.handleSelectPaymentMethod.bind(this);\r\n    this.handleRounding = this.handleRounding.bind(this);\r\n    this.handleEnterButton = this.handleEnterButton.bind(this);\r\n    this.handleFinishButton = this.handleFinishButton.bind(this);\r\n    this.handleAddPayment = this.handleAddPayment.bind(this);\r\n    this.handleDeletePayment = this.handleDeletePayment.bind(this);\r\n    this.handleFinishPayment = this.handleFinishPayment.bind(this);\r\n    this.handleUnsplitBill = this.handleUnsplitBill.bind(this);\r\n    this.handlePressPaymentItem = this.handlePressPaymentItem.bind(this);\r\n    this.handlePressPaymentItemRef = this.handlePressPaymentItemRef.bind(this);\r\n    this.handlePressMerge = this.handlePressMerge.bind(this);\r\n    this.handlePressUnmerge = this.handlePressUnmerge.bind(this);\r\n    this.handlePressTips = this.handlePressTips.bind(this);\r\n    this.handlePressSplit = this.handlePressSplit.bind(this);\r\n    this.handlePressUnsplit = this.handlePressUnsplit.bind(this);\r\n    this.handleViewSplitted = this.handleViewSplitted.bind(this);\r\n    this.handleUpdateFromInputReference = this.handleUpdateFromInputReference.bind(this);\r\n    this.handleUpdateFromMergeBill = this.handleUpdateFromMergeBill.bind(this);\r\n    this.handleUpdateFromSplitBill = this.handleUpdateFromSplitBill.bind(this);\r\n    this.handleUpdateFromSplitAmount = this.handleUpdateFromSplitAmount.bind(this);\r\n    this.handleUpdateFromSplit = this.handleUpdateFromSplit.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromUpdateTips = this.handleUpdateFromUpdateTips.bind(this);\r\n    this.handleUpdateFromViewSplitted = this.handleUpdateFromViewSplitted.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromPaynow = this.handleUpdateFromPaynow.bind(this);\r\n    this.handleOpenDrawer = this.handleOpenDrawer.bind(this);\r\n    this.handleValidateAmount = this.handleValidateAmount.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleViewSplitted()\r\n  }\r\n\r\n  handleBuildNumberString(type) {\r\n    const { numberString } = this.state;\r\n    const maxLength = 7;\r\n\r\n    if (type === 'DEL') {\r\n      if (numberString.length !== 1) {\r\n        let newNumberString = numberString.slice(0, -1);\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === 'CLEAR') {\r\n      if (numberString !== '0') {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === '.') {\r\n      if (numberString.length > maxLength - 2) return;\r\n      if (numberString.indexOf('.') < '0') {\r\n        let newNumberString = numberString + '.';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '0') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '0';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '00') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 0) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '00';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else { // 9, 8, 7, 6, 5, 4, 3, 2, 1\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + type;\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: type\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSelectPaymentMethod(type) {\r\n    // early exit memberson\r\n    if (type.refType === 'P') {\r\n      const { numberString, selectedTable } = this.state;\r\n      let numberStringUpdate = '';\r\n      if (selectedTable.vipPtsMoney < selectedTable.balance) {\r\n        numberStringUpdate = Math.floor(selectedTable.vipPtsMoney);\r\n      } else {\r\n        numberStringUpdate = Math.floor(selectedTable.balance);\r\n      }\r\n      this.setState({\r\n        numberString: numberStringUpdate,\r\n        selectedPaymentMethod: type,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedPaymentMethod: type,\r\n    });\r\n    console.log(type);\r\n    this.handleRounding(type);\r\n  }\r\n\r\n  handleEnterButton() {\r\n    const { numberString, selectedPaymentMethod } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const decimal = 2;\r\n    if (!selectedPaymentMethod) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Missing Payment Method',\r\n          text: 'Please select a payment method',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    if (numberStringVal === 0) {\r\n      return;\r\n    }\r\n    // early exit memberson\r\n    if (selectedPaymentMethod.refType === 'P') {\r\n      if (!this.handleValidateAmount()) return;\r\n    }\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleAddPayment());\r\n  }\r\n\r\n  handleValidateAmount() {\r\n    const { numberString, selectedTable } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const isInteger = Number.isInteger(numberStringVal);\r\n    console.log('isInteger', isInteger, selectedTable.balance, selectedTable.vipPtsMoney);\r\n\r\n    if (!Number.isInteger(numberStringVal) || numberStringVal > selectedTable.balance || numberStringVal > selectedTable.vipPtsMoney) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Inappropriate Amount',\r\n          text: 'Enter an integer less than balance and redeemable',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      });\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  handleFinishButton() {\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleFinishPayment());\r\n  }\r\n\r\n  handleFinishPayment(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'FINISH PAYMENT',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUnsplitBill() {\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unsplit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unsplit Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n        this.handleViewSplitted();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPaymentItemRef(item) {\r\n    if (item.pmId === 'PAYNOW') {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        selectedPaymentItem: item,\r\n        overlayInputReferenceVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressPaymentItem(item) {\r\n    this.setState({\r\n      selectedPaymentItem: item,\r\n    });\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleDeletePayment' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: 'Delete payment of ' + Number(item.payMoney).toFixed(2) + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleDeletePayment() {\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAddPayment() {\r\n    const { serviceEntry, home, settings, paymentMethods, selectedPaymentMethod, selectedTable, pay, numberString } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/add-payment';\r\n    console.log('here debug', Number(numberString));\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      pmId: selectedPaymentMethod.pmId,\r\n      payAmt: Number(numberString),\r\n      roundAmt: Number(selectedTable.balance - pay).toFixed(2),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post add-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Add Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          loading: false,\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        }, () => {\r\n          this.handleRounding(paymentMethods.find(el => el.pmId === selectedPaymentMethod.pmId))\r\n          this.handleAfterAddPayment();\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAfterAddPayment() {\r\n    const { home, selectedTable, payments } = this.state;\r\n    const found = payments.find(el => el.pmId === 'PAYNOW');\r\n    if (found) {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n        overlayPaynowInput: {\r\n          amount: found.payMoney.toFixed(2),\r\n          reference: home.shopId + '-' + selectedTable.docNo,\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  handleRounding(type) {\r\n    console.log(type);\r\n    const { selectedTable } = this.state;\r\n    const { numberString } = this.state;\r\n    const decimal = 2;\r\n    let number = Number(selectedTable.balance);\r\n\r\n    if (type.roundingFlg === 'N') {\r\n      this.setState({\r\n        pay: number,\r\n        numberString: number.toFixed(decimal).toString(),\r\n      });\r\n      return;\r\n    }\r\n\r\n    switch (type.roundType) {\r\n      case '0': // 4 down 5 up\r\n        console.log('case 0');\r\n        // number = Math.round(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '1': // ceiling\r\n        console.log('case 1');\r\n        number = Math.ceil(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '2': // floor 5\r\n        console.log('case 2');\r\n        number = Math.floor(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '3': // floor\r\n        console.log('case 3');\r\n        number = Math.floor(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '4': // closest 5\r\n        console.log('case 4');\r\n        number = Math.round(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '5':\r\n        console.log('legacy case 5 not in use');\r\n        break;\r\n      case '6':\r\n        console.log('legacy case 6 not in use');\r\n        break;\r\n    }\r\n  }\r\n\r\n  handlePressTips() {\r\n    this.setState({\r\n      overlayUpdateTipsVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSplit() {\r\n    this.setState({\r\n      overlaySplitBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnsplit() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUnsplitBill' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Unsplit Bill',\r\n        text: 'Unsplit Bill for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressMerge() {\r\n    this.setState({\r\n      overlayMergeBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnmerge(printer) {\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'UNMERGE BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unmerge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unmerge-bill successful', response.opentable);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unmerge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleViewSplitted() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/splitted-receipts';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get splitted-receipts successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          splitReceipts: response?.filter(el => el.recKey > 0),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, cashierPrinters, privileges, settings, selectedTable } = this.state;\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'OPEN DRAWER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'handleDeletePayment') {\r\n      this.handleDeletePayment();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    } else if (text === 'handleUnsplitBill') {\r\n      this.handleUnsplitBill();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromPaynow(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayPaynowVisible: false,\r\n      });\r\n      return;\r\n    }\r\n  }\r\n\r\n  handleUpdateFromInputReference(text) {\r\n    this.setState({ overlayInputReferenceVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/payment-reference';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n      ref: text,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post payment-reference successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Payment Reference',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplitBill(number, type) {\r\n    if (!number) {\r\n      this.setState({ overlaySplitBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-split-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      splitCount: number,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-split-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Split Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'ITEM') {\r\n          this.setState({\r\n            splitting: true,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else if (type === 'AMOUNT') {\r\n          this.setState({\r\n            overlaySplitAmountVisible: true,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else {\r\n\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplit(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            selectedTable: response.opentable,\r\n            overlaySplitBillVisible: false,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceipts: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          itemPercentages: el.receiptItems.map(obj => ({\r\n            itemRecKey: obj.recKey,\r\n            percentage: obj.percentage,\r\n          }))\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromSplitAmount(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    this.setState({\r\n      overlaySplitAmountVisible: false,\r\n    });\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt-byamt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceiptsByamt: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          amt: el.amount,\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromMergeBill(table, printer) {\r\n    if (!table) {\r\n      this.setState({ overlayMergeBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      tableIdGuest: table.tableId,\r\n      iomodelId: printer && printer.iomodelId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n          overlayMergeBillVisible: false,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromUpdateTips(number, method) {\r\n    this.setState({ overlayUpdateTipsVisible: false });\r\n    if (!number) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-tips';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      tips: Number(number).toFixed(2),\r\n      pmId: method?.pmId || '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-tips successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Tips',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            `${number},${method?.pmId}`,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromViewSplitted(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayViewSplittedVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'UNMERGE BILL') {\r\n      this.handlePressUnmerge(printer);\r\n    } else if (purpose === 'FINISH PAYMENT') {\r\n      this.handleFinishPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.handleOpenDrawer(printer);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege, settings, selectedPrinter, selectedTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.handleOpenDrawer(selectedPrinter, response.userId);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, cashierPrinters, settings, selectedTable,\r\n      overlayInputReferenceVisible, overlayMergeBillVisible, overlaySplitBillVisible, overlayUpdateTipsVisible,\r\n      overlaySplitAmountVisible, overlayViewSplittedVisible, overlayRequestAccessVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayPaynowVisible, overlayPaynowInput,\r\n      numberString, paymentMethods, payments, selectedPaymentMethod, pay,\r\n      splitting, availableReceipts, splitReceipts, tableItems, requestedPrivilege,\r\n      selectedPrinter, printPurpose, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible, loading,\r\n    } = this.state;\r\n\r\n    console.log('in pos');\r\n\r\n    if (splitting) {\r\n      return (\r\n        <Split\r\n          serviceEntry={serviceEntry}\r\n          home={home}\r\n          selectedTable={selectedTable}\r\n          availableReceipts={availableReceipts}\r\n          tableItems={tableItems}\r\n          cashierPrinters={cashierPrinters}\r\n          handleUpdateFromSplit={this.handleUpdateFromSplit} />\r\n      );\r\n    }\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayInputReferenceVisible &&\r\n          <OverlayInputReference\r\n            handleUpdateFromInputReference={this.handleUpdateFromInputReference} />\r\n        }\r\n        {\r\n          overlayMergeBillVisible &&\r\n          <OverlayMergeBill\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            cashierPrinters={cashierPrinters}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeBill={this.handleUpdateFromMergeBill} />\r\n        }\r\n        {\r\n          overlaySplitBillVisible &&\r\n          <OverlaySplitBill\r\n            handleUpdateFromSplitBill={this.handleUpdateFromSplitBill} />\r\n        }\r\n        {\r\n          overlaySplitAmountVisible &&\r\n          <OverlaySplitAmount\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromSplitAmount={this.handleUpdateFromSplitAmount} />\r\n        }\r\n        {\r\n          overlayViewSplittedVisible &&\r\n          <OverlayViewSplitted\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            handleUpdateFromViewSplitted={this.handleUpdateFromViewSplitted} />\r\n        }\r\n        {\r\n          overlayUpdateTipsVisible &&\r\n          <OverlayUpdateTips\r\n            paymentMethods={paymentMethods}\r\n            handleUpdateFromUpdateTips={this.handleUpdateFromUpdateTips} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayPaynowVisible &&\r\n          <OverlayPaynow\r\n            home={home}\r\n            input={overlayPaynowInput}\r\n            handleUpdateFromPaynow={this.handleUpdateFromPaynow} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.leftFirstContainer}>\r\n            <View style={styles.rowOf5}>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => navigation.goBack()}>\r\n                <Text style={[styles.headerKeyTextTableId,]}>{selectedTable.tableId}</Text>\r\n                <Text style={[styles.headerKeyText, { marginTop: 0 }]}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.headerKeyContainer, (selectedTable.splitFlg === 'Y') && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressTips()}\r\n                disabled={selectedTable.splitFlg === 'Y'}>\r\n                <AntDesign name='like2' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('tips')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => this.handleOpenDrawer()}>\r\n                <AntDesign name='laptop' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('drawer')}</Text>\r\n              </TouchableOpacity>\r\n              {\r\n                selectedTable.splitFlg === 'Y' ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnsplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unsplit')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressSplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('splitbill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n              {\r\n                selectedTable.hostFlg === 'Y' || selectedTable.refTableId\r\n                  ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnmerge()}>\r\n                    <AntDesign name='menuunfold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unmerge')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={[styles.headerKeyContainer, selectedTable.splitFlg === 'Y' && { opacity: 0.2 }]}\r\n                    disabled={selectedTable.splitFlg === 'Y'}\r\n                    onPress={() => this.handlePressMerge()}>\r\n                    <AntDesign name='menufold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('mergebill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n          <View style={styles.leftSecondContainer}>\r\n            <View style={styles.tableSummaryContainer}>\r\n              <View style={styles.tableSummaryTitleContainer}>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('beforedisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('totaldisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('servicecharge')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tax')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tips')} {selectedTable.tipsPmId}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.reserved }]}>{intl.get('grandtotal')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.paid }]}>{intl.get('pay')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('balance')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tender')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('change')}</Text>\r\n                </View>\r\n              </View>\r\n              <View style={styles.tableSummaryValueContainer}>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.beforeDisc ? selectedTable.beforeDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalDisc ? selectedTable.totalDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.serviceCharge ? selectedTable.serviceCharge.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalTax ? selectedTable.totalTax.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tips ? selectedTable.tips.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.reserved }]}>{selectedTable.grandTotal.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.paid }]}>{pay.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.balance.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tender.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.change.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n            <ScrollView\r\n              style={{ maxHeight: 30, }}\r\n              horizontal={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                selectedTable.vipId &&\r\n                <View\r\n                  style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{selectedTable.vipId || '-'}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.reserved, }}>{selectedTable.vipName || '-'}</Text>\r\n                </View>\r\n              }\r\n              {\r\n                splitReceipts && splitReceipts.map(item =>\r\n                  <View key={item.recKey.toString()}\r\n                    style={{ flexDirection: 'row', flex: 1, alignItems: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{item.docId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', }}>{item.grandTotal ? item.grandTotal.toFixed(2) : '-'}</Text>\r\n                  </View>)\r\n              }\r\n            </ScrollView>\r\n            <View style={{ flex: 1, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n              <View style={styles.paymentsContainer}>\r\n                <View style={styles.paymentsFirst}><Text style={styles.paymentsTitleText}>No.</Text></View>\r\n                <View style={styles.paymentsSecond}><Text style={styles.paymentsTitleText}>Payment ID</Text></View>\r\n                <View style={styles.paymentsThird}><Text style={styles.paymentsTitleText}>Ref</Text></View>\r\n                <View style={styles.paymentsFourth}><Text style={styles.paymentsTitleText}>Amount</Text></View>\r\n              </View>\r\n              <ScrollView\r\n                style={{ flex: 1 }}\r\n                ref={ref => this.posScrollView = ref}\r\n                onContentSizeChange={(contentWidth, contentHeight) => {\r\n                  this.posScrollView.scrollToEnd({ animated: true });\r\n                }}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  payments.map((item, index) => (\r\n                    <View style={styles.datumContainer} key={index}>\r\n                      <View style={styles.datumFirst}><Text style={styles.datumText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={styles.datumSecond} onPress={() => this.handlePressPaymentItem(item)}>\r\n                        <Text style={styles.datumText}>{item.name}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.datumThird} onPress={() => this.handlePressPaymentItemRef(item)}>\r\n                        <Text style={styles.datumText}>{item.payRef}</Text>\r\n                      </TouchableOpacity>\r\n                      <View style={styles.datumFourth}><Text style={styles.datumText}>{item.payMoney.toFixed(2)}</Text></View>\r\n                    </View>\r\n                  ))\r\n                }\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n          <View style={styles.rowOf5}>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightFirstContainer}>\r\n            <FlatList\r\n              style={{ flex: 3 }}\r\n              showsVerticalScrollIndicator={false}\r\n              numColumns={5}\r\n              data={paymentMethods}\r\n              extraData={selectedPaymentMethod}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => {\r\n                return (\r\n                  <View style={{ flex: 1 / 5, height: keyHeight }}>\r\n                    <TouchableOpacity\r\n                      style={[item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyContainer : styles.functionKeyContainer, item.pmId ? null : { opacity: 0.2 },]}\r\n                      onPress={() => this.handleSelectPaymentMethod(item)}>\r\n                      <Image\r\n                        style={{ flex: 1, aspectRatio: 1 }}\r\n                        source={{\r\n                          uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.pmId + '&t=' + item.lastupdate\r\n                        }}\r\n                      />\r\n                      <View style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, alignItems: 'center', justifyContent: 'center', }}>\r\n                        <Text style={item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyText : styles.functionKeyText}>{item.pmId}</Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )\r\n              }}\r\n            />\r\n          </View>\r\n          <View style={styles.rightFirstNumberContainer}>\r\n            <Text style={styles.rightFirstNumberText}>{numberString}</Text>\r\n          </View>\r\n          <View style={styles.rightSecondContainer}>\r\n            <View style={styles.rightSecondLeftContainer}>\r\n              <TouchableOpacity style={styles.clearContainer} onPress={() => this.handleBuildNumberString('CLEAR')}>\r\n                <Text style={styles.keyText}>\r\n                  CLEAR\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.rightSecondMiddleContainer}>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('7')}>\r\n                  <Text style={styles.keyNumberText}>7</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('4')}>\r\n                  <Text style={styles.keyNumberText}>4</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('1')}>\r\n                  <Text style={styles.keyNumberText}>1</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('0')}>\r\n                  <Text style={styles.keyNumberText}>0</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('8')}>\r\n                  <Text style={styles.keyNumberText}>8</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('5')}>\r\n                  <Text style={styles.keyNumberText}>5</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('2')}>\r\n                  <Text style={styles.keyNumberText}>2</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('.')}>\r\n                  <Text style={styles.keyNumberText}>.</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('9')}>\r\n                  <Text style={styles.keyNumberText}>9</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('6')}>\r\n                  <Text style={styles.keyNumberText}>6</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('3')}>\r\n                  <Text style={styles.keyNumberText}>3</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('00')}>\r\n                  <Text style={styles.keyNumberText}>00</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.rightSecondRightContainer}>\r\n              <TouchableOpacity style={styles.backspaceContainer} onPress={() => this.handleBuildNumberString('DEL')}>\r\n                {/* <Ionicons name='ios-arrow-round-back' size={48} color='white' /> */}\r\n                <Text style={styles.keyText}>\r\n                  DEL\r\n                </Text>\r\n              </TouchableOpacity>\r\n              {\r\n                selectedTable.balance !== 0 ?\r\n                  <TouchableOpacity style={[styles.enterContainer, loading && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleEnterButton()}\r\n                    disabled={loading}\r\n                  >\r\n                    {/* <Ionicons name='ios-return-left' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      ENTER\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={[styles.finishContainer, loading && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleFinishButton()}\r\n                    disabled={loading}\r\n                  >\r\n                    {/* <Ionicons name='ios-arrow-up' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      FINISH\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n  },\r\n  leftFirstContainer: {\r\n    // backgroundColor: 'blue',\r\n    flex: 1,\r\n  },\r\n  leftSecondContainer: {\r\n    flex: 6,\r\n    margin: 5,\r\n  },\r\n  rightFirstContainer: {\r\n    flex: 3,\r\n  },\r\n  rightSecondContainer: {\r\n    flex: 4,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondLeftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightSecondMiddleContainer: {\r\n    flex: 3,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondRightContainer: {\r\n    flex: 1,\r\n  },\r\n  rowOf5: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightFirstNumberContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tableSummaryContainer: {\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'row',\r\n    // backgroundColor: 'brown',\r\n    marginHorizontal: 60,\r\n    marginTop: 10,\r\n    marginBottom: 20,\r\n  },\r\n  tableSummaryTitleContainer: {\r\n    alignItems: 'flex-start',\r\n    // backgroundColor: 'green'\r\n  },\r\n  tableSummaryValueContainer: {\r\n    alignItems: 'flex-end',\r\n    // backgroundColor: 'blue'\r\n  },\r\n  tableSummaryTitle: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n    // backgroundColor:'red'\r\n  },\r\n  tableSummaryValue: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  tableSummaryTitleText: {\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n    color: 'white',\r\n  },\r\n  tableSummaryValueText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  keyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backspaceContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  enterContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.reserved,\r\n  },\r\n  finishContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.occupied,\r\n    borderRadius: 5,\r\n    borderWidth: 2,\r\n    borderColor: 'white',\r\n  },\r\n  clearContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.paid,\r\n  },\r\n  functionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  activeFunctionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'white',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyTextTableId: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 24,\r\n  },\r\n  headerKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 12,\r\n  },\r\n  keyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  keyNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  functionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  activeFunctionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'black',\r\n    textAlign: 'center',\r\n  },\r\n  rightFirstNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 64,\r\n  },\r\n  paymentsContainer: {\r\n    height: 30,\r\n    // backgroundColor: 'white',\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n  },\r\n  dataContainer: {\r\n    flex: 1,\r\n  },\r\n  paymentsFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey2,\r\n  },\r\n  paymentsSecond: {\r\n    flex: 3,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsThird: {\r\n    flex: 5,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  paymentsTitleText: {\r\n    color: theme.grey5,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  datumFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  datumSecond: {\r\n    flex: 3,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  datumThird: {\r\n    flex: 5,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  datumFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  datumText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  datumContainer: {\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Adhoc extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      menus: props.route.params.masters.menus,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedAdhocItem: '',\r\n      selectedMenu: '',\r\n      adhocItems: [],\r\n\r\n      searchText: '',\r\n      availableMenus: props.route.params.masters.menus.filter(menu => {\r\n        return menu.menuType === 'X';\r\n      }),\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSelectAdhoc = this.handleSelectAdhoc.bind(this);\r\n    this.handlePressSettleAsMenu = this.handlePressSettleAsMenu.bind(this);\r\n    this.handlePressSettleAsRetail = this.handlePressSettleAsRetail.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doGet();\r\n  }\r\n\r\n  doGet() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/opentable-adhocs';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get opentable-adhocs successful', response);\r\n        // to state\r\n        this.setState({\r\n          adhocItems: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    this.setState({\r\n      selectedAdhocItem: item,\r\n      selectedMenu: '',\r\n    });\r\n  }\r\n\r\n  handleSelectAdhoc(item) {\r\n    const { selectedAdhocItem } = this.state;\r\n    if (!selectedAdhocItem) return;\r\n    this.setState({\r\n      selectedMenu: item,\r\n    });\r\n  }\r\n\r\n  handlePressSettleAsMenu() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, settings, selectedTable, selectedAdhocItem, selectedMenu } = this.state;\r\n\r\n    if (!selectedAdhocItem) return;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      orderQty: '1',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Adhoc Settle Menu',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedAdhocItem.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.doGet();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressSettleAsRetail() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, settings, selectedTable, selectedAdhocItem } = this.state;\r\n\r\n    if (!selectedAdhocItem) return;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      // restmenuRecKey: menu.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      orderQty: selectedAdhocItem.orderQty,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Adhoc Settle Retail',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedAdhocItem.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.doGet();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus.filter(menu => {\r\n      return menu.menuType === 'X';\r\n    });\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, adhocItems, selectedAdhocItem, selectedMenu, searchText, availableMenus,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in adhoc',);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n              <Text style={styles.overlaySubtitleText}>Ad Hoc</Text>\r\n              <Text style={styles.overlayTitleText}>{adhocItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={[styles.button, { opacity: 0.2 }]}\r\n                disabled={true}\r\n                onPress={() => this.handlePressSettleAsRetail()}>\r\n                <Text style={styles.buttonText}>Settle</Text>\r\n                <Text style={styles.buttonText}>As</Text>\r\n                <Text style={styles.buttonText}>Retail</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={!selectedMenu}\r\n                onPress={() => this.handlePressSettleAsMenu()}>\r\n                <Text style={styles.buttonText}>Settle</Text>\r\n                <Text style={styles.buttonText}>As</Text>\r\n                <Text style={styles.buttonText}>Menu</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                adhocItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    style={[styles.tableItemContainer, (selectedAdhocItem.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}>\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.name}\r\n                      </Text>\r\n                      <Text style={styles.tableItemText}>\r\n                        {moment(item.createDate).format(\"HH:mm\")}\r\n                      </Text>\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={styles.actionButton}\r\n              onPress={() => navigation.goBack()}>\r\n              <Text style={[styles.buttonText, { color: theme.paid }]}>QUIT</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightWrapper}>\r\n            <View style={styles.searchBox}>\r\n              <TextInput style={styles.searchBoxInputValue}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                value={searchText}\r\n                onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n              />\r\n              <TouchableOpacity style={styles.searchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={{ flex: 1 }}\r\n              data={availableMenus}\r\n              keyExtractor={item => item.recKey.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  key={item.recKey}\r\n                  style={[styles.grid, (selectedMenu.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.handleSelectAdhoc(item)}>\r\n                  <View style={styles.gridFirst}>\r\n                    <View style={styles.gridFirstLeft}>\r\n                      <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                    </View>\r\n                    <View style={styles.gridFirstRight}>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.gridSecond}>\r\n                    <Text style={styles.gridSecondText}>\r\n                      {item.menuName}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.gridThird}>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  rightWrapper: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    width: 400,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    height: 80,\r\n    width: 400,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  FlatList, TextInput,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Dayclose extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      dayclosePayments: props.route.params.dayclosePayments,\r\n      daycloseSubPayments: props.route.params.daycloseSubPayments,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      total: props.route.params.dayclosePayments.reduce((init, obj) => { return init + obj.systemAmt }, 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }),\r\n      focused: null,\r\n    };\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n\r\n    this.handleFinishDayclose = this.handleFinishDayclose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleFinishDayclose(printer);\r\n  }\r\n\r\n  handleFinishDayclose(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, dayclosePayments, daycloseSubPayments, cashierPrinters } = this.state;\r\n    if (dayclosePayments.length === 0) {\r\n      return;\r\n    }\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/finish-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      daycloseRecKey: dayclosePayments[0].masRecKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      verify: dayclosePayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n      subVerify: daycloseSubPayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Dayclose',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  doChangeText(item, text) {\r\n    const { dayclosePayments, daycloseSubPayments } = this.state;\r\n    const found = dayclosePayments.find(el => el.pmId === item.pmId);\r\n    this.setState({\r\n      [item.recKey]: text,\r\n      [found.recKey]: daycloseSubPayments.filter(el => el.pmId === item.pmId && el.recKey !== item.recKey).reduce((init, el) => {\r\n        return init + (this.state[el.recKey] || 0) * el.pmValue\r\n      }, Number(text) * item.pmValue)\r\n    })\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { focused, dayclosePayments, daycloseSubPayments } = this.state;\r\n    const found = daycloseSubPayments.find(el => el.recKey === focused);\r\n    if (item === 'CLEAR') {\r\n      this.doChangeText(found, '0')\r\n    } else if (Number(this.state[focused]) === 0) {\r\n      this.setState({ [focused]: item })\r\n      this.doChangeText(found, item)\r\n    } else {\r\n      this.doChangeText(found, (this.state[focused] || '') + item)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { settings, dayclosePayments, daycloseSubPayments, cashierPrinters, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible,\r\n      total, focused } = this.state;\r\n    const settingDAYCLOSEVERIFY = settings.find(el => el.setId === 'DAYCLOSEVERIFY')?.setString;\r\n    console.log('in dayclose', focused);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='DAY-END CLOSE'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>BACK</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Day-end Closing</Text>\r\n            <Text style={styles.overlayTitleText}>{dayclosePayments.length} PAYMENT METHODS</Text>\r\n          </View>\r\n          {\r\n            settingDAYCLOSEVERIFY === 'N' &&\r\n            <View style={styles.summary}>\r\n              <Text style={styles.summaryText}>TOTAL</Text>\r\n              <Text style={styles.summaryTotalText}>{total}</Text>\r\n            </View>\r\n          }\r\n          <View style={styles.searchBoxInfo}>\r\n            <View style={styles.titleFirstContainer}>\r\n              <Text style={styles.titleText}>Line No.</Text>\r\n            </View>\r\n            <View style={styles.titleSecondContainer}>\r\n              <Text style={styles.titleText}>Payment ID</Text>\r\n            </View>\r\n            <View style={styles.titleThirdContainer}>\r\n              <Text style={styles.titleText}>Payment Name</Text>\r\n            </View>\r\n            <View style={styles.titleFourthContainer}>\r\n              <Text style={styles.titleText}>Amount</Text>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            data={dayclosePayments}\r\n            showsVerticalScrollIndicator={false}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <>\r\n                <View style={[styles.tableItemContainer, (Number(this.state[item.recKey] || 0).toFixed(2) !== (item.systemAmt + item.floatAmt).toFixed(2) && daycloseSubPayments.some(el => el.pmId === item.pmId) && settingDAYCLOSEVERIFY === 'Y') && { backgroundColor: theme.paid }]}>\r\n                  <View style={styles.tableItemFirstContainer}>\r\n                    <Text style={styles.tableItemText}>{item.lineNo}</Text>\r\n                  </View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.pmId}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemFourthContainer}>\r\n                    {\r\n                      (settingDAYCLOSEVERIFY === 'Y' && daycloseSubPayments.some(obj => obj.pmId === item.pmId)) ?\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {(this.state[item.recKey] || 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                        :\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                {\r\n                  daycloseSubPayments.filter(el => el.pmId === item.pmId).map(el =>\r\n                    <View key={el.recKey.toString()}\r\n                      style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}>\r\n                        <Text style={styles.tableItemText}></Text>\r\n                      </View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, justifyContent: 'center' }}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {el.subPmId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, }}>\r\n                        <View style={[styles.inputRowRight, { marginRight: 10 }, focused === el.recKey && { backgroundColor: theme.reserved }]}>\r\n                          <TextInput style={[styles.textInput, focused === el.recKey && { color: 'black' }]}\r\n                            keyboardType='numeric'\r\n                            selectTextOnFocus={true}\r\n                            value={this.state[el.recKey] || '0'}\r\n                            onChangeText={text => this.doChangeText(el, text)}\r\n                            onFocus={() => this.setState({ focused: el.recKey })}\r\n                          />\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {(el.pmValue * Number(this.state[el.recKey] || 0)).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={[styles.containerThird]}>\r\n          <View style={{ flex: 1, }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleFinishDayclose()}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>DAY CLOSE</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View>\r\n            {\r\n              focused &&\r\n              <FlatList\r\n                data={['1', '2', '3', '4', '5', '6', '7', '8', '9', 'CLEAR', '0']}\r\n                scrollEnabled={false}\r\n                showsVerticalScrollIndicator={false}\r\n                numColumns={3}\r\n                keyExtractor={(item, index) => index.toString()}\r\n                renderItem={({ item }) => (\r\n                  <View style={{ flex: 1 / 3, aspectRatio: 1 }}>\r\n                    <TouchableOpacity style={{ margin: 2.5, flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: 'black', borderRadius: 5, }}\r\n                      onPress={() => this.doPressKey(item)}>\r\n                      {\r\n                        item === 'CLEAR' ?\r\n                          <AntDesign name='close' color='white' size={18} />\r\n                          :\r\n                          <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 18, }}>{item}</Text>\r\n                      }\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )}\r\n              />\r\n            }\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  titleFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 20,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  summary: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  summaryTotalText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    color: theme.reserved,\r\n    textAlign: 'center',\r\n  },\r\n  summaryText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Printer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printers: [],\r\n      loading: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home, serviceEntry } = this.state;\r\n    let url = serviceEntry + 'api/iomodels';\r\n    const params = new URLSearchParams();\r\n    params.append('posNo', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('iomodels', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          printers: response,\r\n        }, () => this.handlePingAll())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingPrinter(item) {\r\n    const { serviceEntry, printers } = this.state;\r\n\r\n    let printersUpdate0 = printers;\r\n    printersUpdate0.find(el => el.recKey === item.recKey).statusFlg = 'PING...';\r\n    this.setState({\r\n      printers: printersUpdate0,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/iomodels/' + item.recKey;\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('ping iomodel', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        let printersUpdate = printers;\r\n        if (response.msgId === 'OK') {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'ONLINE';\r\n        } else {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'OFFLINE';\r\n        }\r\n        this.setState({\r\n          printers: printersUpdate,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPingAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handlePingAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Ping All Printers',\r\n        text: 'Send ping to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressTestAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleTestAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Test All Printers',\r\n        text: 'Send test command to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handleTestAll() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/test-printer';\r\n    const params = new URLSearchParams();\r\n    params.append('userId', home.userId);\r\n    params.append('orgId', home.orgId);\r\n    params.append('locId', home.locId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET',\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post test-printer successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingAll() {\r\n    const { printers } = this.state;\r\n    printers.forEach(el => this.handlePingPrinter(el));\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleTestAll') {\r\n      this.handleTestAll();\r\n    } else if (text === 'handlePingAll') {\r\n      this.handlePingAll();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { printers, loading,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('in printers');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2 === 0) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}\r\n                        >\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          key={item.recKey}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}\r\n                        >\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressPingAll()}\r\n              >\r\n                <AntDesign\r\n                  name='fork'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>PING {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressTestAll()}\r\n              >\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('test')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayEnterDate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dateString: props.dateString ? moment(props.dateString).format('YYYY-MM-DD') : moment(new Date()).format('YYYY-MM-DD'),\r\n      valid: true,\r\n    }\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleValidate(dateString) {\r\n    this.setState({\r\n      dateString,\r\n      valid: moment(dateString, 'YYYY-MM-DD', true).isValid(),\r\n    });\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    const { dateString } = this.state;\r\n    if (type === 'PLUS') {\r\n      let dateStringUpdate = moment(dateString).add(1, 'days').format('YYYY-MM-DD');\r\n\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      let dateStringUpdate = moment(dateString).subtract(1, 'days').format('YYYY-MM-DD');\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { dateString, valid } = this.state;\r\n    console.log('in overlayenterdate', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Enter Date</Text>\r\n          </View>\r\n          <View style={styles.inputRow}>\r\n            <TouchableOpacity style={styles.inputRowFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.inputRowSecond}>\r\n              <TextInput style={[styles.textInput, !valid && { color: theme.paid }]}\r\n                keyboardType='numeric'\r\n                value={dateString}\r\n                onChangeText={(dateString) => this.handleValidate(dateString)}\r\n              />\r\n            </View>\r\n            <TouchableOpacity style={styles.inputRowThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity onPress={() => this.setState({ dateString: moment().format('YYYY-MM-DD'), valid: true })}>\r\n            <Text style={styles.overlayText}>YYYY-MM-DD</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }, !valid && { opacity: 0.2 }]}\r\n            disabled={!valid}\r\n            onPress={() => this.props.handleUpdateFromEnterDate(dateString, this.props.dateType)}>\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromEnterDate('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    width: '100%',\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowFirst: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowSecond: {\r\n    flex: 1,\r\n    minWidth: 80,\r\n    width: 150,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowThird: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Report extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedButton: '',\r\n      fromDateString: moment().format('YYYY-MM-DD'),\r\n      toDateString: moment().format('YYYY-MM-DD'),\r\n      reportDetails: '',\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleSelectReport = this.handleSelectReport.bind(this);\r\n    this.handlePrintReport = this.handlePrintReport.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handlePressDate(type) {\r\n    const { fromDateString, toDateString } = this.state;\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n      selectedDateType: type,\r\n      selectedDateString: type === 'FROMDATE' ? fromDateString : toDateString,\r\n    })\r\n  }\r\n\r\n  handleSelectReport(report, superUserId) {\r\n    const { serviceEntry, home, privileges, fromDateString, toDateString } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === report)) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: report,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedButton: report,\r\n    });\r\n    console.log('report');\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: report,\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePrintReport(printer) {\r\n    const { home, serviceEntry, cashierPrinters, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    if (!selectedButton) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/print-bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, type) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    let fromDateStringUpdate = fromDateString;\r\n    let toDateStringUpdate = toDateString;\r\n\r\n    if (type === 'TODATE') {\r\n      toDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    } else {\r\n      fromDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    }\r\n\r\n    this.setState({\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handlePrintReport(printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSelectReport(requestedPrivilege, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, cashierPrinters,\r\n      selectedButton, reportDetails, requestedPrivilege,\r\n      fromDateString, toDateString, selectedDateString, selectedDateType,\r\n      overlayProcedureMessageVisible, overlayEnterDateVisible,\r\n      overlayChoosePrinterVisible, overlayRequestAccessVisible } = this.state;\r\n    console.log('in reports');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            dateType={selectedDateType}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='PRINT REPORT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUESUM' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUESUM')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>SUMMARY</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUEDTL' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUEDTL')}\r\n            >\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>DETAIL</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'COLLECTION' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('COLLECTION')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>PAYMENT</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>COLLECTION</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reports')}</Text>\r\n            <View style={styles.gap}></View>\r\n            <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('FROMDATE')}>\r\n                <Text style={styles.overlayTitleText}>{fromDateString}</Text>\r\n              </TouchableOpacity>\r\n              <Text style={styles.overlayTitleText}>    /    </Text>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('TODATE')}>\r\n                <Text style={styles.overlayTitleText}>{toDateString}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>\r\n              {selectedButton === 'REVENUESUM' ?\r\n                'REVENUE SUMMARY'\r\n                :\r\n                selectedButton === 'REVENUEDTL' ?\r\n                  'REVENUE DETAIL'\r\n                  :\r\n                  selectedButton === 'COLLECTION' ?\r\n                    'PAYMENT COLLECTION'\r\n                    : null}\r\n            </Text>\r\n          </View>\r\n          {\r\n            reportDetails ?\r\n              <ScrollView style={styles.reportContainer}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  reportDetails.map((item, index) =>\r\n                    <View style={styles.reportLineContainer}\r\n                      key={item.recKey}\r\n                    >\r\n                      <View style={styles.reportLineFirst}>\r\n                        <Text style={styles.reportLineFirstText}>{item.description}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineSecond}>\r\n                        <Text style={styles.reportLineSecondText}>{item.qty}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineThird}>\r\n                        <Text style={styles.reportLineThirdText}>{item.val ? item.val.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) : null}</Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </ScrollView>\r\n              : null\r\n          }\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button, !selectedButton && { opacity: 0.2 }]}\r\n              disabled={!selectedButton}\r\n              onPress={() => this.handlePrintReport()}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('print')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n    alignItems: 'center',\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  selection: {\r\n    width: '100%',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  reportContainer: {\r\n    flex: 1,\r\n    width: 440,\r\n    borderTopLeftRadius: 5,\r\n    borderTopRightRadius: 5,\r\n    backgroundColor: theme.grey2,\r\n    padding: 20,\r\n  },\r\n  reportLineContainer: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n  },\r\n  reportLineFirst: {\r\n    width: 240,\r\n  },\r\n  reportLineSecond: {\r\n    width: 60,\r\n  },\r\n  reportLineThird: {\r\n    width: 100,\r\n    alignItems: 'flex-end',\r\n  },\r\n  reportLineFirstText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineSecondText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineThirdText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, ScrollView,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class Reprint extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n\r\n      selectedButton: 'ORDERS',\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      searchText: '',\r\n      receiptsxText: '',\r\n\r\n      headers: '',\r\n      pays: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handlePressSearch = this.handlePressSearch.bind(this);\r\n    this.handleSelectButton = this.handleSelectButton.bind(this);\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleReprint = this.handleReprint.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/orders';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('orders', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response,\r\n          availableMasters: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSearch() {\r\n    const { serviceEntry, home, receiptsxText } = this.state;\r\n    this.setState({\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!receiptsxText) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/receipts-search';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('searchInput', receiptsxText);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas,\r\n          availableMasters: response.receiptmas,\r\n          searches: response.receiptpaydtl,\r\n          details: [],\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton } = this.state;\r\n    let url = serviceEntry;\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (selectedButton === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectButton(type) {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n\r\n    this.setState({\r\n      details: [],\r\n      selectedMaster: '',\r\n      selectedButton: type,\r\n      pays: '',\r\n      headers: '',\r\n    })\r\n\r\n    // early exit for RECEIPTSX \r\n    if (type === 'RECEIPTSX') {\r\n      this.setState({\r\n        masters: [],\r\n        availableMasters: [],\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    if (type === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (type === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (type === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry, selectedButton } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry;\r\n    console.log('item', selectedButton, item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + item.recKey + '/bundle';\r\n    } else {\r\n      url += 'api/daycloses/' + item.recKey + '/amts';\r\n    }\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n          this.setState({\r\n            details: response.receiptitems,\r\n            pays: response.receiptpays,\r\n            headers: response.receiptmas\r\n          });\r\n        } else {\r\n          this.setState({\r\n            details: response,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleReprint(printer) {\r\n    const { serviceEntry, home, cashierPrinters, selectedMaster, selectedButton } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    // console.log('item', item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + selectedMaster.recKey + '/reprint';\r\n    } else {\r\n      url += 'api/daycloses/' + selectedMaster.recKey + '/reprint';\r\n    }\r\n    console.log('debug', home.defaultPrinter);\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post reprint successful', response);\r\n\r\n        // to state\r\n\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || item.createUserId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleReprint(printer);\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { cashierPrinters, selectedButton, masters, availableMasters, details, searchText, receiptsxText,\r\n      selectedMaster, selectedDateString,\r\n      pays, headers,\r\n      overlayChoosePrinterVisible, overlayEnterDateVisible, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='REPRINT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <ScrollView\r\n                style={styles.selectionContainer}\r\n                alwaysBounceVertical={false}\r\n                showsVerticalScrollIndicator={false}>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'ORDERS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('ORDERS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'ORDERS' && { color: theme.grey1 }]}>ORDERS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'KOTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('KOTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'KOTS' && { color: theme.grey1 }]}>KOTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTS' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTSX' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTSX')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTSX' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                  <Text style={[styles.selectionText, { color: theme.paid }]}>UNKNOWN DATE</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'DAYCLOSES' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('DAYCLOSES')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'DAYCLOSES' && { color: theme.grey1 }]}>DAY CLOSES</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                {\r\n                  selectedButton !== 'RECEIPTSX' ?\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={searchText}\r\n                        onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                          Keyboard.dismiss()\r\n                        }}\r\n                      >\r\n                        <AntDesign name='close' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    :\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={receiptsxText}\r\n                        onChangeText={(text) => this.setState({ receiptsxText: text })}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.handlePressSearch();\r\n                          Keyboard.dismiss();\r\n                        }}\r\n                      >\r\n                        <AntDesign name='search1' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                }\r\n                <View style={styles.searchBoxInfo}>\r\n                  {\r\n                    selectedButton !== 'RECEIPTSX' &&\r\n                    <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                      onPress={() => this.handlePressDate()}\r\n                    >\r\n                      <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{selectedButton === 'RECEIPTSX' && moment(item.createDate).format(\"YYYY-MM-DD \")}{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX' ?\r\n                  <View style={styles.gridContainer}>\r\n                    <View style={styles.overlayHeader}>\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </View>\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>Qty</Text>\r\n                      </View>\r\n                      <View style={styles.titleSecondContainer}>\r\n                        <Text style={styles.titleText}>Desc</Text>\r\n                      </View>\r\n                      <View style={styles.titleThirdContainer}>\r\n                        <Text style={styles.titleText}>Price</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Total</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={details}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item }) => (\r\n                        <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <TouchableOpacity style={styles.tableItemSecondContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.netPrice && item.netPrice.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>No.</Text>\r\n                      </View>\r\n                      <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                        <Text style={styles.titleText}>PM ID</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Amount</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={pays}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item, index }) => (\r\n                        <TouchableOpacity\r\n                          style={[styles.tableItemContainer]}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                          <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.pmId}\r\n                            </Text>\r\n                            {\r\n                              item.payRef &&\r\n                              <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                                {item.payRef}\r\n                              </Text>\r\n                            }\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={{ flex: 1 }}>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>DISCOUNT</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={styles.gridContainer}>\r\n                    <TouchableOpacity style={styles.overlayHeader}\r\n                      onPress={() => this.setState({ selectedMaster: '', details: [] })}\r\n                    >\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </TouchableOpacity>\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                            <Text style={styles.titleText}>Payment Method</Text>\r\n                          </View>\r\n                          <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                            <Text style={styles.titleText}>Amount</Text>\r\n                          </View>\r\n                        </View>\r\n                        :\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={styles.titleFirstContainer}>\r\n                            <Text style={styles.titleText}>Qty</Text>\r\n                          </View>\r\n                          <View style={styles.titleSecondContainer}>\r\n                            <Text style={styles.titleText}>Desc</Text>\r\n                          </View>\r\n                          <View style={styles.titleThirdContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Price'}</Text>\r\n                          </View>\r\n                          <View style={styles.titleFourthContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Total'}</Text>\r\n                          </View>\r\n                        </View>\r\n                    }\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.tableItemContainer]}\r\n                            >\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                              >\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.pmId}\r\n                                </Text>\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  ${item.systemAmt && item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                        :\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.tableItemContainer]}\r\n                            >\r\n                              <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                              >\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.refRecKey ? '- ' : null}{item.menuName}\r\n                                </Text>\r\n                                {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemThirdContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.netPrice && item.netPrice.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.lineTotal && item.lineTotal.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                    }\r\n                  </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMaster && { opacity: 0.2 }]}\r\n                onPress={() => this.handleReprint()}\r\n                disabled={!selectedMaster}\r\n              >\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView, FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Resequence extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      selectedTableItems: [],\r\n      arrangedItems: props.route.params.tableItems.filter(el => el.confirmFlg === 'N'),\r\n\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n    this.handleAddLineBreak = this.handleAddLineBreak.bind(this);\r\n    this.handleRemoveLineBreak = this.handleRemoveLineBreak.bind(this);\r\n    this.handleResequence = this.handleResequence.bind(this);\r\n    this.handleShiftTop = this.handleShiftTop.bind(this);\r\n    this.handleShiftUp = this.handleShiftUp.bind(this);\r\n    this.handleShiftDown = this.handleShiftDown.bind(this);\r\n    this.handleShiftBottom = this.handleShiftBottom.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('menu selected', item);\r\n    const { selectedTableItems, arrangedItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = [];\r\n    selectedTableItemsUpdate.push(item);\r\n    let comboItems = [];\r\n    comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n    console.log('comboItems', comboItems);\r\n    comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleReset() {\r\n    this.setState({\r\n      arrangedItems: this.state.tableItems.filter(el => el.confirmFlg === 'N'),\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleAddLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'Y';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleRemoveLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'N';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftTop() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.unshift(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToOffset({ animated: true, offset: 0 }));\r\n  }\r\n\r\n  handleShiftUp() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === 0) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index - 1;\r\n    if (arrangedItems[spliceIndex].refRecKey) {\r\n      spliceIndex = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === arrangedItems[index - 1].refRecKey));\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftDown() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === arrangedItems.length - selectedTableItems.length) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index + 1;\r\n    if (arrangedItemsUpdate.some(el => el.refRecKey === arrangedItemsUpdate[index].recKey)) {\r\n      let skip = arrangedItems.filter(el => el.refRecKey === arrangedItemsUpdate[index].recKey).length;\r\n      console.log('skip', skip);\r\n      spliceIndex += skip;\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftBottom() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.push(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToEnd());\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleResequence() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, tableItems, arrangedItems } = this.state;\r\n\r\n    // count sent table items\r\n    let skip = tableItems.filter(el => el.confirmFlg === 'Y').length;\r\n    console.log('skip', skip);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/resequence';\r\n    const itemPayloads = arrangedItems.map((el, index) =>\r\n    ({\r\n      opentableItemRecKey: el.recKey,\r\n      lineNo: el.lineNo,\r\n      newLineNo: index + 1 + skip,\r\n      lineBreak: el.lineBreak,\r\n    })\r\n    );\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post resequence successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Resequence Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, tableItems, arrangedItems, selectedTableItems,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in resequence', selectedTableItems, arrangedItems);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleReset()}>\r\n              <AntDesign name='reload1' size={36} color='white' />\r\n              <Text style={styles.buttonText}>Reset</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              !selectedTableItems[0] ?\r\n                <View style={[styles.button, { opacity: 0.2 }]}>\r\n                  <AntDesign name='minus' size={36} color='white' />\r\n                  <Text style={styles.buttonText}>Add Break</Text>\r\n                </View>\r\n                :\r\n                selectedTableItems[0].lineBreak === 'Y' ?\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleRemoveLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Remove Break</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleAddLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Add Break</Text>\r\n                  </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleResequence()}>\r\n              <AntDesign name='bars' size={36} color={theme.reserved} />\r\n              <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('resequence')}</Text>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={arrangedItems}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <View>\r\n                {\r\n                  item.lineBreak === 'Y' &&\r\n                  <View style={styles.lineBreakContainer}>\r\n                    <Text style={[styles.tableItemText, { color: theme.paid }]}>- Line Break -</Text>\r\n                  </View>\r\n                }\r\n                <TouchableOpacity\r\n                  disabled={item.refRecKey ? true : false}\r\n                  style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                  onPress={() => this.handleSelectTableItem(item)}>\r\n                  <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.refRecKey && '- '}{item.menuName}\r\n                    </Text>\r\n                    {\r\n                      item.menuMod &&\r\n                      <Text style={styles.tableItemModText}>{item.menuMod}</Text>\r\n                    }\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                    </Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftTop()}>\r\n              <AntDesign name='arrowup' size={36} color='white' />\r\n              <Text style={styles.buttonText}>TOP</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftUp()}>\r\n              <AntDesign name='up' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftDown()}>\r\n              <AntDesign name='down' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftBottom()}>\r\n              <AntDesign name='arrowdown' size={36} color='white' />\r\n              <Text style={styles.buttonText}>BOTTOM</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  lineBreakContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Transfer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      tableItems: props.route.params.tableItems,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      tables: [],\r\n      availableTables: [],\r\n      selectedTargetTable: '',\r\n      selectedTableItems: [],\r\n      searchText: '',\r\n\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTargetTable = this.handleSelectTargetTable.bind(this);\r\n    this.handlePressSelectAll = this.handlePressSelectAll.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('tables', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.tableId !== selectedTable.tableId),\r\n          availableTables: response.filter(el => el.tableId !== selectedTable.tableId),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  generateTextForSelectAll() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return 'SELECT ALL';\r\n    } else {\r\n      return 'DESELECT ALL';\r\n    }\r\n  }\r\n\r\n  handlePressSelectAll() {\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    if (selectedTableItems.length === 0) {\r\n      this.setState({\r\n        selectedTableItems: tableItems,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedTableItems: [],\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTargetTable(item) {\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    })\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('tableitem selected', item);\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, selectedTableItems, selectedTargetTable, home, serviceEntry, privileges, settings } = this.state;\r\n\r\n    if (selectedTableItems.length === 0 || !selectedTargetTable) {\r\n      return;\r\n    }\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'TRANSFERITEMS')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // convert array to string without items with refRecKey\r\n    let converted = selectedTableItems.filter(el => !el.refRecKey).map(el => el.recKey).reduce((init, el) => { return init + el + ','; }, '');\r\n    console.log('converted', converted);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/transfer-items';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKeyFrom: selectedTable.recKey,\r\n      opentableRecKeyTo: selectedTargetTable.recKey,\r\n      opentableItemRecKeys: converted,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post transfer-items successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Transfer Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedTargetTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { tables, availableTables, searchText } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedTable, selectedTargetTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'TRANSFERITEMS',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access TRANSFERITEMS',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { tableItems, home, selectedTargetTable, availableTables, searchText, selectedTableItems,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in transfer');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='TRANSFERITEM'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3, alignItems: 'center', justifyContent: 'center' }]}>\r\n                  <TouchableOpacity\r\n                    onPress={() => this.handlePressSelectAll()}\r\n                  >\r\n                    <Text style={styles.titleText}>{this.generateTextForSelectAll()}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      onPress={() => this.handleSelectTableItem(item)}\r\n                      disabled={item.refRecKey ? true : false}\r\n                    >\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={[styles.searchBoxInfo, { justifyContent: 'center' }]}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableTables}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedTargetTable.tableId === item.tableId && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectTargetTable(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.sectionId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={[styles.gridFirstRightText, selectedTargetTable.tableId === item.tableId ? { color: 'white' } : { color: theme.occupied }]}>OCCUPIED</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.tableId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedTargetTable || selectedTableItems.length === 0) && { opacity: 0.2 }]}\r\n                onPress={() => this.handleSubmit()}\r\n                disabled={!selectedTargetTable || selectedTableItems.length === 0}\r\n              >\r\n                <AntDesign\r\n                  name='export'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('transfer')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayVoidReceipt extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      returns: props.returns,\r\n      availableReturns: props.returns,\r\n      selectedReturn: '',\r\n\r\n      remarks: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { returns, availableReturns } = this.state;\r\n    let availableReturnsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableReturns);\r\n\r\n    availableReturnsUpdate = returns;\r\n    if (!text) {\r\n      this.setState({\r\n        availableReturns: availableReturnsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableReturnsUpdate = availableReturnsUpdate.filter(item => {\r\n      return item.returnId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableReturns: availableReturnsUpdate\r\n    });\r\n  }\r\n\r\n  handleSubmit(item) {\r\n    const { remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    this.props.handleUpdateFromVoidReceipt(itemWithRemarks);\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableReturns, remarks } = this.state;\r\n    console.log('in overlayvoidreceipt, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Void Receipt</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromVoidReceipt('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableReturns.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableReturns}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.returnId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayVoidReceipt from './OverlayVoidReceipt';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Void extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayVoidReceiptVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      mode: 'VOID',\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleVoid = this.handleVoid.bind(this);\r\n    this.handlePressVoid = this.handlePressVoid.bind(this);\r\n    this.handlePressReopen = this.handlePressReopen.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromVoidReceipt = this.handleUpdateFromVoidReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n    console.log('item', item);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: moment(text).format('YYYY-MM-DD'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege, selectedPrinter, selectedReturn } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleVoid(selectedReturn, selectedPrinter, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleReopen') {\r\n      navigation.goBack();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromVoidReceipt(text) {\r\n    this.setState({ overlayVoidReceiptVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedReturn: text,\r\n    })\r\n    this.handleVoid(text);\r\n  }\r\n\r\n  handlePressReopen() {\r\n    this.setState({\r\n      mode: 'REOPEN',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handlePressVoid() {\r\n    this.setState({\r\n      mode: 'VOID',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handleVoid(item, printer, superUserId) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString, mode, } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (!item) {\r\n      this.setState({\r\n        overlayVoidReceiptVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'VOIDRECEIPT',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    if (mode === 'REOPEN') {\r\n      url = serviceEntry + 'api/void-receipt-reopen';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    } else {\r\n      url = serviceEntry + 'api/void-receipt';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    }\r\n    // return;\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post void-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'REOPEN' ? 'Reopen Receipt' : 'Void Receipt',\r\n            home.userName,\r\n            response.message,\r\n            (mode === 'REOPEN' && !response.message) ? response.opentable.tableId : '',\r\n            '',\r\n            selectedMaster.recKey + ',' + selectedMaster.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (mode === 'REOPEN') {\r\n          this.props.route.params.handleUpdateFromVoid(response);\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully, reopened Table ' + response.opentable.tableId,\r\n              ok: false,\r\n              cancel: false,\r\n              options: [{ text: 'Ok', handleText: 'handleReopen' }],\r\n            },\r\n            overlayAlertVisible: true,\r\n            reopenResponse: response,\r\n            loading: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully',\r\n              ok: true,\r\n              cancel: false,\r\n              options: [],\r\n            },\r\n            overlayAlertVisible: true,\r\n            masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            searches: response.receiptpaydtl,\r\n            selectedMaster: '',\r\n            headers: '',\r\n            details: '',\r\n            pays: '',\r\n            loading: false,\r\n          })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayRequestAccessVisible, overlayProcedureMessageVisible,\r\n      overlayVoidReceiptVisible, overlayAlertVisible, overlayAlertInputValue, requestedPrivilege,\r\n      loading, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayVoidReceiptVisible &&\r\n          <OverlayVoidReceipt\r\n            returns={this.props.route.params.masters.returns}\r\n            handleUpdateFromVoidReceipt={this.handleUpdateFromVoidReceipt} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TouchableOpacity style={styles.searchBoxInfo}\r\n                  onPress={() => this.handlePressDate()}\r\n                >\r\n                  <View style={styles.searchBoxInfoLeft}>\r\n                    <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressVoid()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.paid}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.paid }]}>{intl.get('void')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressReopen()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('reopen')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Collect extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: moment(text).format('YYYY-MM-DD'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressCollect(printer) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    url = serviceEntry + 'api/collection-receipt';\r\n    body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      receiptRecKey: selectedMaster.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      docDateString: selectedDateString,\r\n    };\r\n    console.log('body', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post collect-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Collect Receipt',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            selectedMaster.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayAlertInputValue: {\r\n            title: 'ALERT',\r\n            subtitle: 'Procedure Reply',\r\n            text: 'Receipt collected successfully',\r\n            ok: true,\r\n            cancel: false,\r\n            options: [],\r\n          },\r\n          overlayAlertVisible: true,\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedMaster: '',\r\n          headers: '',\r\n          details: '',\r\n          pays: '',\r\n          loading: false,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayProcedureMessageVisible,\r\n      overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TouchableOpacity style={styles.searchBoxInfo}\r\n                  onPress={() => this.handlePressDate()}\r\n                >\r\n                  <View style={styles.searchBoxInfoLeft}>\r\n                    <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                disabled={!selectedMaster || loading}\r\n                onPress={() => this.handlePressCollect()}>\r\n                <AntDesign\r\n                  name='gift'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('collect')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Table extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      mode: props.route.params.mode,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      vipSources: props.route.params.masters.vipSources,\r\n      availableVipSources: props.route.params.masters.vipSources,\r\n\r\n      overlayPax: props.route.params.mode === 'NEW' ? (props.route.params.masters.tablemas?.find(el => el.tableId === props.route.params.selectedTable.tableId)?.capacity || 2) : (props.route.params.selectedTable.pax || 0),\r\n      overlayVip: props.route.params.mode === 'NEW' ? null\r\n        : {\r\n          vipId: props.route.params.selectedTable.vipId || '',\r\n          vipName: props.route.params.selectedTable.vipName || '',\r\n          vipDisc: props.route.params.selectedTable.vipDisc || '',\r\n          vipPhone: props.route.params.selectedTable.vipPhone || '',\r\n          cumPts: props.route.params.selectedTable.cumPts || '',\r\n          vipPtsMoney: props.route.params.selectedTable.vipPtsMoney || '',\r\n          classId: props.route.params.selectedTable.classId || '',\r\n        },\r\n      overlayValidateVipId: '',\r\n      overlayValidateCardNumber: '',\r\n      overlayValidateNric: '',\r\n      overlayValidateVipName: '',\r\n      overlayValidateVipPhone: '',\r\n      overlayValidateVipPhoneCountryCode: '', // 65\r\n      overlayValidateEmailAddress: '',\r\n\r\n      vipResults: '',\r\n      selectedVipResult: '',\r\n\r\n      overlaySource: props.route.params.mode === 'NEW' ? ''\r\n        : {\r\n          sourceId: props.route.params.selectedTable.sourceId || '',\r\n        },\r\n      overlaySourceSearch: '',\r\n\r\n      overlayDeliveryFlg: props.route.params.mode === 'NEW' ? 'N' : (props.route.params.selectedTable.homeDelivery || ''),\r\n      overlayPostalCode: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.dpostalcode || ''),\r\n      overlayAddr1: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress1 || ''),\r\n      overlayAddr2: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress2 || ''),\r\n      overlayAddr3: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress3 || ''),\r\n      overlayAddr4: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress4 || ''),\r\n\r\n      activeTab: props.route.params.tab || 'PAX',\r\n      warning: '',\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n    this.handlePressTab = this.handlePressTab.bind(this);\r\n    this.handleSearchVip = this.handleSearchVip.bind(this);\r\n    this.handleEnterVip = this.handleEnterVip.bind(this);\r\n    this.handleClearVip = this.handleClearVip.bind(this);\r\n    this.handlePressNext = this.handlePressNext.bind(this);\r\n    this.handlePressPrev = this.handlePressPrev.bind(this);\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleAddressChange = this.handleAddressChange.bind(this);\r\n    this.handleCheckDeliveryFlg = this.handleCheckDeliveryFlg.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { navigation, } = this.props;\r\n    const { mode, home, serviceEntry, selectedTable, settings, overlayPax, overlayVip, overlaySource, overlayValidateVipName, overlayDeliveryFlg,\r\n      overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (!overlayPax && overlayPax !== 0) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + (mode === 'NEW' ? '/change-table-status' : '/update-table-info');\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: 'C',\r\n      pax: overlayPax,\r\n      // vipId: overlayVip?.vipId,\r\n      vipName: overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n      phone: overlayVip?.vipPhone,\r\n      reservationTime: '',\r\n      sourceId: overlaySource.sourceId,\r\n      deliveryFlg: overlayDeliveryFlg,\r\n      postalCode: overlayPostalCode,\r\n      addr1: overlayAddr1,\r\n      addr2: overlayAddr2,\r\n      addr3: overlayAddr3,\r\n      addr4: overlayAddr4,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post table-edit-open successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'NEW' ? 'Open Table' : 'Edit Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        if (mode === 'NEW') {\r\n          this.props.route.params.handleUpdateFromTable();\r\n        } else {\r\n          navigation.goBack();\r\n        }\r\n      })\r\n  }\r\n\r\n  handleAddressChange(type, text) {\r\n    if (type === 'POSTALCODE') {\r\n      this.setState({\r\n        overlayPostalCode: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR1') {\r\n      this.setState({\r\n        overlayAddr1: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR2') {\r\n      this.setState({\r\n        overlayAddr2: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR3') {\r\n      this.setState({\r\n        overlayAddr3: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR4') {\r\n      this.setState({\r\n        overlayAddr4: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    }\r\n  }\r\n\r\n  handleCheckDeliveryFlg() {\r\n    const { overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (overlayPostalCode || overlayAddr1 || overlayAddr2 || overlayAddr3 || overlayAddr4) {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'Y'\r\n      })\r\n    } else {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'N'\r\n      })\r\n    }\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayPax === 0) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handlePaxChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayPax: 0 })\r\n    } else {\r\n      this.setState({ overlayPax: Number(text) })\r\n    }\r\n  }\r\n\r\n  handlePressTab(type) {\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n\r\n    if (type === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (type === 'PAX') {\r\n      this.setState({\r\n        activeTab: 'PAX',\r\n      });\r\n    } else if (type === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    } else if (type === 'DELIVERY') {\r\n      this.setState({\r\n        activeTab: 'DELIVERY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressNext() {\r\n    const { activeTab } = this.state;\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activeTab === 'PAX') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (activeTab === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    } else if (activeTab === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'DELIVERY',\r\n      });\r\n    } else if (activeTab === 'DELIVERY') {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressPrev() {\r\n    const { activeTab } = this.state;\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activeTab === 'PAX') {\r\n      return;\r\n    } else if (activeTab === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'PAX',\r\n      });\r\n    } else if (activeTab === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (activeTab === 'DELIVERY') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateVipName,\r\n      overlayValidateNric, overlayValidateEmailAddress, overlayValidateVipPhone, overlayValidateVipPhoneCountryCode } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/search-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    if (overlayValidateVipId) {\r\n      body.vipId = overlayValidateVipId;\r\n    }\r\n    if (overlayValidateCardNumber) {\r\n      body.cardNumber = overlayValidateCardNumber;\r\n    }\r\n    if (overlayValidateVipName) {\r\n      body.vipName = overlayValidateVipName;\r\n    }\r\n    if (overlayValidateNric) {\r\n      body.nric = overlayValidateNric;\r\n    }\r\n    if (overlayValidateEmailAddress) {\r\n      body.emailAddress = overlayValidateEmailAddress;\r\n    }\r\n    if (overlayValidateVipPhone) {\r\n      body.vipPhone = overlayValidateVipPhone;\r\n      body.vipPhoneCountryCode = overlayValidateVipPhoneCountryCode\r\n    }\r\n    console.log('before searching vip', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Search Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'Invalid VIP search',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          warning: response.length + ' VIP result(s) found',\r\n          vipResults: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleEnterVip(item) {\r\n    this.setState({\r\n      selectedVipResult: item,\r\n    });\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/enter-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n      customerNumber: item.customerNumber,\r\n      name: item.name,\r\n      mobileNumber: item.mobileNumber,\r\n      emailAddress: item.emailaddress,\r\n      customerSource: item.customerSource,\r\n    };\r\n    console.log('before entering vip', item);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Input Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            item.customerNumber + ',' + item.name,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'VIP input unsuccessful',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP input successful',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClearVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-table-vip-info';\r\n    let body = {\r\n      vipId: '',\r\n      vipName: '',\r\n      classId: '',\r\n      vipDisc: '',\r\n      cumPts: '',\r\n      pts: '',\r\n      money: '',\r\n      cardNo: '',\r\n      birthday: '',\r\n      qrcode: '',\r\n      phone: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Clear Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: response.message,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP cleared',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { vipSources, availableVipSources } = this.state;\r\n    let availableVipSourcesUpdate = [];\r\n    this.setState({ overlaySourceSearch: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', availableVipSources);\r\n\r\n    availableVipSourcesUpdate = vipSources;\r\n    if (!text) {\r\n      this.setState({\r\n        availableVipSources: availableVipSourcesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableVipSourcesUpdate = availableVipSourcesUpdate.filter(item => {\r\n      return item.sourceId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableVipSources: availableVipSourcesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { mode, selectedTable, overlayProcedureMessageVisible,\r\n      overlayPax, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateEmailAddress,\r\n      overlayValidateVipPhone, overlayValidateVipPhoneCountryCode, overlayValidateVipName, overlayValidateNric,\r\n      overlaySource, overlaySourceSearch, vipResults, selectedVipResult,\r\n      overlayDeliveryFlg, overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4,\r\n      warning, activeTab, availableVipSources } = this.state;\r\n    console.log('in overlayopentable');\r\n\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{mode === 'NEW' ? intl.get('open') : intl.get('edit')}</Text>\r\n            <Text style={styles.overlayText}>{warning ? warning : 'Enter Pax, VIP & Source'}</Text>\r\n          </View>\r\n          <View style={styles.tabsContainer}>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'PAX' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('PAX')}>\r\n              {\r\n                overlayPax !== null ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                    {overlayPax}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                PAX\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'VIP' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('VIP')}>\r\n              {\r\n                overlayVip?.vipId ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                    {overlayVip?.vipId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                VIP\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'SOURCE' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('SOURCE')}>\r\n              {\r\n                overlaySource.sourceId ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    {overlaySource.sourceId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                SOURCE\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'DELIVERY' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('DELIVERY')}>\r\n              {\r\n                overlayDeliveryFlg === 'Y' ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    YES\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    NO\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                DELIVERY\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          {\r\n            activeTab === 'PAX' ?\r\n              <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                <View style={styles.adjustContainer}>\r\n                  <TouchableOpacity style={styles.adjustFirst}\r\n                    onPress={() => this.handleQtyChange('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.adjustSecond}>\r\n                    <TextInput style={styles.overlayPax}\r\n                      selectTextOnFocus\r\n                      keyboardType='numeric'\r\n                      value={overlayPax?.toString()}\r\n                      onChangeText={(searchText) => this.handlePaxChange(searchText)} />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.adjustThird}\r\n                    onPress={() => this.handleQtyChange('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 1 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 1 })}>\r\n                    <Text style={styles.buttonText}>1</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 2 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 2 })}>\r\n                    <Text style={styles.buttonText}>2</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 3 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 3 })}>\r\n                    <Text style={styles.buttonText}>3</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 4 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 4 })}>\r\n                    <Text style={styles.buttonText}>4</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 5 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 5 })}>\r\n                    <Text style={styles.buttonText}>5</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 6 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 6 })}>\r\n                    <Text style={styles.buttonText}>6</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 7 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 7 })}>\r\n                    <Text style={styles.buttonText}>7</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 8 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 8 })}>\r\n                    <Text style={styles.buttonText}>8</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 9 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 9 })}>\r\n                    <Text style={styles.buttonText}>9</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 10 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 10 })}>\r\n                    <Text style={styles.buttonText}>10</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 11 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 11 })}>\r\n                    <Text style={styles.buttonText}>11</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 12 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 12 })}>\r\n                    <Text style={styles.buttonText}>12</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              </View>\r\n              :\r\n              activeTab === 'VIP' ?\r\n                <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                  {\r\n                    (vipResults && vipResults.length !== 0) ?\r\n                      <View style={styles.selectWrapper}>\r\n                        <View style={styles.searchBoxWrapper}>\r\n                          <View style={[styles.overlaySearchBox, { marginHorizontal: 0, justifyContent: 'space-between', }]}>\r\n                            <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                              onPress={() => this.setState({ vipResults: '' })}\r\n                            >\r\n                              <AntDesign name='close' size={24} color='white' />\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <Text style={styles.searchBoxInfoText}>{vipResults.length} ITEMS</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={[{ flex: 1 }]}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={vipResults}\r\n                          keyExtractor={(item, index) => index.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.overlayGrid, item.customerNumber === selectedVipResult.customerNumber && { backgroundColor: theme.occupied }]}\r\n                              onPress={() => this.handleEnterVip(item)}>\r\n                              <View style={styles.overlayGridFirst}>\r\n                                <View style={styles.overlayGridFirstLeft}>\r\n                                  <Text style={styles.overlayGridFirstLeftText}>{item.customerNumber}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridFirstRight}>\r\n                                  <Text style={[styles.overlayGridFirstRightText, item.customerNumber === selectedVipResult.customerNumber && { color: 'white' }]}>{item.hasActiveMembership} {item.customerSource}</Text>\r\n                                </View>\r\n                              </View>\r\n                              <View style={styles.overlayGridSecond}>\r\n                                <Text style={styles.overlayGridSecondText}>\r\n                                  {item.name}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridThird}>\r\n                                <View style={styles.overlayGridThirdLeft}>\r\n                                  <Text style={styles.overlayGridThirdLeftText}>{item.emailaddress}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridThirdRight}>\r\n                                  <Text style={styles.overlayGridThirdRightText}>{item.mobileNumber ? item.mobileNumber : ' '}</Text>\r\n                                </View>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                      </View>\r\n                      :\r\n                      <View style={styles.vipInputsContainer}>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP ID'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipId) => this.setState({ overlayValidateVipId })}\r\n                            value={overlayValidateVipId}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='CARD NO.'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateCardNumber) => this.setState({ overlayValidateCardNumber })}\r\n                            value={overlayValidateCardNumber}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP NAME'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipName) => this.setState({ overlayValidateVipName })}\r\n                            value={overlayValidateVipName}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 50 }]}\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhoneCountryCode) => this.setState({ overlayValidateVipPhoneCountryCode })}\r\n                            value={overlayValidateVipPhoneCountryCode}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 130 }]}\r\n                            placeholder='VIP PHONE'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhone) => this.setState({ overlayValidateVipPhone })}\r\n                            value={overlayValidateVipPhone}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP EMAIL'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateEmailAddress) => this.setState({ overlayValidateEmailAddress })}\r\n                            value={overlayValidateEmailAddress}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <View style={{ flex: 1, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n                            <TouchableOpacity style={{ paddingHorizontal: 10, height: 20, margin: 5, borderRadius: 40, backgroundColor: theme.paid, alignItems: 'center', justifyContent: 'center' }}\r\n                              onPress={() => this.handleClearVip()}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 10, textTransform: 'uppercase', color: 'white' }}>{intl.get('remove')}</Text>\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP ID</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP CLASS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.classId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP DISC</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipDisc || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP NAME</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipName || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>CUMULATIVE PTS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.cumPts || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>REDEEMABLE</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipPtsMoney || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                      </View>\r\n                  }\r\n                </View>\r\n                :\r\n                activeTab === 'SOURCE' ?\r\n                  <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                    <View style={styles.selectWrapper}>\r\n                      <View style={styles.searchBoxWrapper}>\r\n                        <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                          <TextInput style={styles.overlaySearchBoxInput}\r\n                            placeholder='ENTER SEARCH TEXT'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            onChangeText={(overlaySourceSearch) => this.handleOverlaySearchText(overlaySourceSearch)}\r\n                            value={overlaySourceSearch}\r\n                          />\r\n                          <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                            onPress={() => {\r\n                              this.setState({ overlaySourceSearch: '', overlaySource: '' }, () => this.handleOverlaySearchText(''))\r\n                              Keyboard.dismiss()\r\n                            }}>\r\n                            <AntDesign name='close' size={24} color={theme.grey4} />\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.searchBoxInfo}>\r\n                        <Text style={styles.searchBoxInfoText}>{availableVipSources.length} ITEMS</Text>\r\n                      </View>\r\n                      <FlatList\r\n                        style={[{ flex: 1 }]}\r\n                        showsVerticalScrollIndicator={false}\r\n                        data={availableVipSources}\r\n                        keyExtractor={item => item.recKey.toString()}\r\n                        renderItem={({ item }) => (\r\n                          <TouchableOpacity\r\n                            style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                            onPress={() => this.setState({\r\n                              overlaySource: item,\r\n                              overlaySourceSearch: item.sourceId,\r\n                            })}\r\n                          >\r\n                            <View style={styles.overlayGridFirst}>\r\n                              <View style={styles.overlayGridFirstLeft}>\r\n                                <Text style={styles.overlayGridFirstLeftText}>{item.sourceId}</Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridFirstRight}>\r\n                                <Text style={styles.overlayGridFirstRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                            <View style={styles.overlayGridSecond}>\r\n                              <Text style={styles.overlayGridSecondText}>\r\n                                {item.name}\r\n                              </Text>\r\n                            </View>\r\n                            <View style={styles.overlayGridThird}>\r\n                              <View style={styles.overlayGridThirdLeft}>\r\n                              </View>\r\n                              <View style={styles.overlayGridThirdRight}>\r\n                                <Text style={styles.overlayGridThirdRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                          </TouchableOpacity>\r\n                        )}\r\n                      />\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                    <View style={styles.vipInputsContainer}>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={styles.vipInput}\r\n                          placeholder='POSTAL CODE'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('POSTALCODE', text)}\r\n                          value={overlayPostalCode}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR1'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR1', text)}\r\n                          value={overlayAddr1}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR2'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR2', text)}\r\n                          value={overlayAddr2}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR3'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR3', text)}\r\n                          value={overlayAddr3}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR4'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR4', text)}\r\n                          value={overlayAddr4}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n          }\r\n          <View style={styles.overlayOptionsContainer}>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='close' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {intl.get('close')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressPrev()} >\r\n              <AntDesign name='left' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                PREV\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressNext()} >\r\n              <AntDesign name='right' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                NEXT\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handleSubmit()}>\r\n              <AntDesign name={mode === 'NEW' ? 'appstore-o' : 'edit'} size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {mode === 'NEW' ? intl.get('open') : intl.get('edit')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: theme.grey2,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    flex: 1,\r\n    width: '60%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayPax: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 50,\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 50,\r\n  },\r\n  overlayOptionContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayOptionsContainer: {\r\n    height: 100,\r\n    marginTop: 20,\r\n    backgroundColor: theme.grey3,\r\n    flexDirection: 'row',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: 'white',\r\n    marginTop: 5,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayTab: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tabsContainer: {\r\n    height: 40,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginTop: 20,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 50,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlaySearchBoxButtonText: {\r\n    fontSize: 14,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase'\r\n  },\r\n  overlaySearchVipButton: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 110,\r\n  },\r\n  detailWrapper: {\r\n    alignItems: 'flex-end',\r\n    margin: 5,\r\n    width: 370 / 3,\r\n  },\r\n  detailText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  detailTitle: {\r\n    opacity: 0.6,\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    marginTop: 50,\r\n    width: 400,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, ScrollView, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedMenu.serviceFlg === 'N' ? 'B' : (props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : props.route.params.selectedTable?.sectionId === 'SYS' ? 'B' : 'A'),\r\n      lineBreak: props.route.params.selectedTableItem ? props.route.params.selectedTableItem.lineBreak : 'N',\r\n\r\n      modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedMenu.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((props.route.params.selectedTable?.sectionId === 'SYS' && props.route.params.masters.settings.find(el => el.setId === 'POSMODE')?.setString === 'A') ? `*${intl.get('takeaway')}  ` : '')),\r\n      modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount menu', this.state.selectedMenu, this.state.selectedTableItem)\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, modInput } = this.state;\r\n    let modInputUpdate = modInput;\r\n    if (orderType === 'A') {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      modInputUpdate = `*${intl.get('takeaway')}  ` + modInputUpdate;\r\n      this.setState({\r\n        orderType: 'B',\r\n        modInput: modInputUpdate,\r\n      });\r\n    } else {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      this.setState({\r\n        orderType: 'A',\r\n        modInput: modInputUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleLineBreak() {\r\n    const { lineBreak } = this.state;\r\n    this.setState({\r\n      lineBreak: lineBreak === 'Y' ? 'N' : 'Y',\r\n    });\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { modInput, selectedModBundle, modRecKeys } = this.state;\r\n    let modInputUpdate = modInput;\r\n    let modRecKeysUpdate = modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n    this.setState({\r\n      modInput: modInputUpdate,\r\n      modRecKeys: modRecKeysUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys } = this.state;\r\n\r\n    // need preference to auto go through\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (modBundles.filter(el => el.modmas.mustFlg === 'Y' && (el.modmas.globalFlg === 'Y' || mods.some(obj => obj.menuId === selectedMenu.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => modRecKeys.some(el => el === obj.recKey.toString())))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n              qtyInput,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading,\r\n      home, settings, selectedMenu, selectedTable, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          <ScrollView contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              selectedModBundle?.moditems.map(item =>\r\n                <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.doPressMod(item)}>\r\n                  <Text style={styles.modText}>{item.name}</Text>\r\n                  {\r\n                    item.listPrice !== 0 &&\r\n                    <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              )\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId} </Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.reserved, fontSize: 16, }}> ${selectedTableItem?.listPrice?.toFixed(2) || selectedMenu.listPrice?.toFixed(2)}</Text>\r\n                  </View>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM') || selectedMenu.listPrice === 0)}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={modInput}\r\n                  onChangeText={text => this.setState({ modInput: text })}\r\n                />\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    mods?.filter(el => el.menuId === selectedMenu.menuId).length > 0 &&\r\n                    <>\r\n                      <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                        <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MENU SPECIFIC MODIFIER</Text>\r\n                      </View>\r\n                      <View style={styles.modContainer}>\r\n                        {\r\n                          mods?.filter(el => el.menuId === selectedMenu.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                            <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                              onPress={() => this.doPressModBundle(item)}>\r\n                              <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                            </TouchableOpacity>\r\n                          )\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  }\r\n                  <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                    <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>GLOBAL MODIFIER</Text>\r\n                  </View>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      modBundles?.filter(el => el.modmas.globalFlg === 'Y').map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n              </View>\r\n\r\n              <View style={{ height: 100, margin: 5, marginTop: 0, flexDirection: 'row', backgroundColor: 'white' }}>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name='close' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4, textTransform: 'uppercase' }}>\r\n                    {intl.get('close')}\r\n                  </Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name='check' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4 }}>\r\n                    OK\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={{ margin: 5, width: 120, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={selectedMenu.serviceFlg === 'N'}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                {\r\n                  settings.find(el => el.setId === 'MARKFIRE')?.setString === 'Y' ?\r\n                    <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: lineBreak === 'N' ? theme.grey3 : theme.occupied, borderRadius: 5, marginVertical: 5 }}\r\n                      disabled={selectedTableItem?.confirmFlg === 'Y'}\r\n                      onPress={() => this.doToggleLineBreak()}>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase', fontSize: 10 }}>{lineBreak === 'N' ? intl.get('no') : intl.get('add')}</Text>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white' }}>LINE BREAK</Text>\r\n                    </TouchableOpacity>\r\n                    :\r\n                    <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                    </View>\r\n                }\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, View, Dimensions, TouchableOpacity } from 'react-native';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Scan extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      selectedTable: props.route.params.selectedTable,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      hasCameraPermission: null,\r\n      detected: false,\r\n    };\r\n    this.handleBarCodeScanned = this.handleBarCodeScanned.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { status } = await BarCodeScanner.requestPermissionsAsync();\r\n    this.setState({ hasCameraPermission: status === 'granted' });\r\n  }\r\n\r\n  handleBarCodeScanned({ type, data }) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, detected } = this.state;\r\n    this.setState({ detected: true }, () => {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        shopId: home.shopId,\r\n        vipId: home.vipId,\r\n        barcode: data,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            this.setState({ detected: false });\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('post scan-barcode successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Scan Barcode',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable?.tableId,\r\n              '',\r\n              data,\r\n            );\r\n          navigation.goBack();\r\n        })\r\n        .catch(error => {\r\n          console.log('error: ', JSON.stringify(error));\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { hasCameraPermission, detected } = this.state;\r\n\r\n    // if (hasCameraPermission === null) {\r\n    //     return <Text>Requesting for camera permission</Text>;\r\n    // }\r\n    // if (hasCameraPermission === false) {\r\n    //     return <Text>No access to camera</Text>;\r\n    // }\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <BarCodeScanner\r\n          onBarCodeScanned={detected ? null : this.handleBarCodeScanned}\r\n          style={{ flex: 1 }}\r\n        />\r\n        <TouchableOpacity style={styles.backButton}\r\n          onPress={() => navigation.goBack()}>\r\n          <AntDesign name='left' size={48} color='white' />\r\n          <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.iconContainer}>\r\n          <Ionicons name='ios-barcode' color={detected ? 'red' : 'white'} size={400} />\r\n        </View>\r\n      </ View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst windowWidth = Dimensions.get('window').width;\r\nconst windowHeight = Dimensions.get('window').height;\r\n\r\nconst styles = StyleSheet.create({\r\n  iconContainer: {\r\n    position: 'absolute',\r\n    right: windowWidth / 2 - 200,\r\n    top: windowHeight / 2 - 200,\r\n    opacity: 0.5,\r\n    width: 400,\r\n    height: 400,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backButton: {\r\n    position: 'absolute',\r\n    left: 50,\r\n    top: 50,\r\n    width: 100,\r\n    height: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 10,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, Fontisto, FontAwesome, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport moment from 'moment';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Trace extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      maps: [],\r\n      thisTable: props.route.params.selectedTable ? true : false,\r\n      thisUser: false,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doReload()\r\n  }\r\n\r\n  doReload() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser } = this.state;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doLoad() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser, maps } = this.state;\r\n    // end reached\r\n    if (maps.length < 40) return;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    params.append('recKey', maps[maps.length - 1].recKey);\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: [...maps, ...response],\r\n        });\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleTable() {\r\n    const { thisTable } = this.state;\r\n    this.setState({\r\n      thisTable: !thisTable,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  doToggleUser() {\r\n    const { thisUser } = this.state;\r\n    this.setState({\r\n      thisUser: !thisUser,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, selectedTable,\r\n      maps, thisUser, thisTable,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    // console.log('render trace', maps && maps[0]);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <TouchableOpacity style={styles.overlayHeader} onPress={() => this.traceRef.scrollToOffset({ animated: true, offset: 0 })}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('trace')}</Text>\r\n            <Text style={styles.overlayTitleText}></Text>\r\n          </TouchableOpacity>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.traceRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={maps}\r\n            onEndReachedThreshold={0.4}\r\n            onEndReached={() => this.doLoad()}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <ScrollView\r\n                style={{ minHeight: 40, paddingVertical: 5, }}\r\n                contentContainerStyle={{ alignItems: 'center' }}\r\n                horizontal\r\n                alwaysBounceHorizontal={false}\r\n                showsHorizontalScrollIndicator={false}>\r\n                <Text style={[styles.traceText, { textAlign: 'right', width: 40, color: theme.grey5 }]}>{moment(item.createDate).format('ddd')}</Text>\r\n                <Text style={[styles.traceText, { marginLeft: 10, }]}>{moment(item.createDate).format('HH:mm')}</Text>\r\n                <View style={{ width: 30, marginHorizontal: 5, alignItems: 'center', }}>\r\n                  {\r\n                    item.msg1 === 'Fire Course' &&\r\n                    <Fontisto name=\"fire\" size={20} color={theme.reserved} style={{ marginLeft: 1 }} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Send Order' &&\r\n                    <FontAwesome name=\"send\" size={18} color={theme.occupied} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Payment' &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.paid} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Dayclose' &&\r\n                    <MaterialCommunityIcons name=\"moon-full\" size={22} color={theme.reserved} style={{}} />\r\n                  }\r\n                  {\r\n                    (item.msg1 === 'Open Table' || item.msg1 === 'Create Table' || (item.msg1 === 'Reopen Receipt' && !item.msg3)) &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.occupied} style={{}} />\r\n                  }\r\n                </View>\r\n                <Text style={[styles.traceText, { color: theme.grey5 }]}>{item.msg2} </Text>\r\n                <Text style={[styles.traceText, { marginLeft: 5, color: theme.paid }]}>{item.msg1}</Text>\r\n                {\r\n                  item.msg5 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.reserved }]}>\"{item.msg5}\"</Text>\r\n                }\r\n                {\r\n                  item.msg6 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.vacant }]}>&#60;{item.msg6}&#62;</Text>\r\n                }\r\n                {\r\n                  item.msg4 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.occupied }]}>#{item.msg4}</Text>\r\n                }\r\n                {\r\n                  item.msg3 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.adhoc }]}>[{item.msg3}]</Text>\r\n                }\r\n              </ScrollView>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              onPress={() => this.doToggleUser()}>\r\n              <AntDesign\r\n                name='woman'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText} numberOfLines={1}>{thisUser ? home.userName : `${intl.get('all')} ${intl.get('user')}`}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              disabled={!selectedTable}\r\n              onPress={() => this.doToggleTable()}>\r\n              <AntDesign\r\n                name='appstore-o'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{thisTable ? `${intl.get('table')} ${selectedTable.tableId}` : `${intl.get('all')} ${intl.get('table')}`}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  traceText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n  }\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Activate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n      availableMenus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n\r\n      updateds: [],\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n\r\n      loading: false,\r\n    };\r\n    this.handleSelectMenu = this.handleSelectMenu.bind(this);\r\n    this.handleSelectUpdated = this.handleSelectUpdated.bind(this);\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleUpdateMenu = this.handleUpdateMenu.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleSelectMenu(item) {\r\n    const { menus, updateds } = this.state;\r\n    if (updateds.some(el => el.recKey === item.recKey)) {\r\n      return;\r\n    } else {\r\n      let updatedsUpdate = updateds;\r\n      updatedsUpdate.push(item);\r\n      this.setState({\r\n        updateds: updatedsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectUpdated(item) {\r\n    const { menus, updateds } = this.state;\r\n    let updatedsUpdate = updateds;\r\n    updatedsUpdate = updatedsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      updateds: updatedsUpdate,\r\n    })\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { updateds } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUpdateMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Update Menu',\r\n        text: 'Update ' + updateds.length + ' menus?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUpdateMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry, updateds } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let updatedsUpdate = updateds.map(el => ({\r\n      recKey: el.recKey,\r\n      newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n    }));\r\n\r\n    const restmenuRecKeys = updatedsUpdate.reduce((init, el) => { return init + el.recKey + ',' + el.newStatusFlg + ','; }, '');\r\n\r\n    let url = serviceEntry + 'api/update-restmenu';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKeys: restmenuRecKeys,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu successful');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            updateds.map(el => ({\r\n              menuId: el.menuId,\r\n              newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n            })).reduce((init, el) => { return init + el.menuId + ',' + el.newStatusFlg + ','; }, ''),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Login', { sync: new Date() });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus } = this.state;\r\n    if (displayMode === 'INACTIVE ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => el.statusFlg === 'B'),\r\n        searchText: '',\r\n        displayMode: 'INACTIVE ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleUpdateMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleUpdateMenu') {\r\n      this.handleUpdateMenu();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, updateds, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={styles.grid}\r\n                      onPress={() => this.handleSelectMenu(item)}>\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          {\r\n                            item.statusFlg === 'A' ?\r\n                              <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                              :\r\n                              <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                          }\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.menuName}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3 }]}>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                    <Text style={styles.titleText}>{updateds.length} Changes</Text>\r\n                  </View>\r\n                  <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                    <Text style={styles.titleText}>New Status</Text>\r\n                  </View>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}>\r\n                  {\r\n                    updateds ?\r\n                      updateds.map((item, index) => (\r\n                        <TouchableOpacity\r\n                          key={index}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handleSelectUpdated(item)}>\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              {\r\n                                item.statusFlg === 'B' ?\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                                  :\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                              }\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.menuName}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                      : null\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (loading || updateds.length === 0) && { opacity: 0.2 }]}\r\n                disabled={loading || updateds.length === 0}\r\n                onPress={() => this.handleSubmit()}>\r\n                <AntDesign\r\n                  name='bulb1'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Limit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n      availableMenus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      limiteds: [],\r\n      selectedMenu: null,\r\n      statusFlg: '',\r\n      serveLimit: '',\r\n\r\n      loading: false,\r\n    };\r\n\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // real time fast changing data\r\n    this.doGet();\r\n  }\r\n\r\n  doGet() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    // params.append('recKey', recKey);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          limiteds: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doSelectMenu(item) {\r\n    const { limiteds } = this.state;\r\n    this.setState({\r\n      selectedMenu: item,\r\n      statusFlg: item.statusFlg,\r\n      serveLimit: limiteds.find(el => el.recKey === item.recKey)?.serveLimit.toString() || '0',\r\n    })\r\n  }\r\n\r\n  doToggleStatus() {\r\n    const { statusFlg } = this.state;\r\n    if (statusFlg === 'A') {\r\n      this.setState({ statusFlg: 'B' })\r\n    } else {\r\n      this.setState({ statusFlg: 'A' })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { selectedMenu } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doLimitMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Limit Menu',\r\n        text: 'Limit ' + selectedMenu.menuName + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  doLimitMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry,\r\n      selectedMenu, statusFlg, serveLimit } = this.state;\r\n    // if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n    //   this.setState({\r\n    //     overlayRequestAccessVisible: true,\r\n    //   });\r\n    //   return;\r\n    // }\r\n\r\n    let url = serviceEntry + 'api/update-restmenu-serve';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      statusFlg: statusFlg,\r\n      serveLimit: serveLimit,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu-serve');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Limit Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            selectedMenu.menuName,\r\n            serveLimit + ',' + statusFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          loading: false,\r\n          displayMode: 'ALL',\r\n          menus: response,\r\n          availableMenus: response,\r\n        }, () => this.doGet())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus, availableMenus, limiteds } = this.state;\r\n    if (displayMode === 'LIMITED ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => limiteds.some(obj => obj.recKey === el.recKey)),\r\n        searchText: '',\r\n        displayMode: 'LIMITED ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.doLimitMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doLimitMenu') {\r\n      this.doLimitMenu();\r\n    }\r\n  }\r\n\r\n  renderItem(item) {\r\n    const { limiteds } = this.state;\r\n    const found = limiteds.find(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.grid}\r\n        onPress={() => this.doSelectMenu(item)}>\r\n        <View style={styles.gridFirst}>\r\n          <View style={styles.gridFirstLeft}>\r\n            <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n          </View>\r\n          <View style={styles.gridFirstRight}>\r\n            {\r\n              item.statusFlg === 'A' ?\r\n                <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                :\r\n                <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridSecond}>\r\n          <Text style={styles.gridSecondText}>\r\n            {item.menuName}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            {\r\n              found &&\r\n              <Text style={{ fontFamily: 'varela-round', color: theme.vacant, fontSize: 12 }}>LIMIT {found.serveLimit} SERVED {found.serveCount}</Text>\r\n            }\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, selectedMenu, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, statusFlg, serveLimit } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => this.renderItem(item)}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedMenu &&\r\n                <View style={{ flex: 1, backgroundColor: theme.grey3, borderRadius: 5 }}>\r\n                  <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}>{selectedMenu.menuName}</Text>\r\n                  </View>\r\n                  <View style={styles.inputContainer}>\r\n\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Status</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.inputRowRight}\r\n                        onPress={() => this.doToggleStatus()}>\r\n                        <Text style={[styles.inputRowRightText, { color: statusFlg === 'A' ? theme.reserved : theme.paid }]}>{statusFlg === 'A' ? 'Active' : 'Inactive'}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Limit</Text>\r\n                      </View>\r\n                      <View style={styles.inputRowRight}>\r\n                        <TextInput style={styles.textInput}\r\n                          keyboardType='numeric'\r\n                          selectTextOnFocus={true}\r\n                          value={serveLimit}\r\n                          onChangeText={text => this.setState({ serveLimit: text })}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={loading || !selectedMenu}\r\n                onPress={() => this.doSubmit()}>\r\n                <AntDesign\r\n                  name='staro'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  inputContainer: {\r\n    marginTop: 30,\r\n    marginHorizontal: 5,\r\n  },\r\n  inputRow: {\r\n    flexDirection: 'row',\r\n    height: 40,\r\n    margin: 5,\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    paddingLeft: 10,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  inputRowLeftText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  inputRowRightText: {\r\n    paddingHorizontal: 10,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, MaterialCommunityIcons, Feather } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Fire extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      kitchenmsgs: props.route.params.masters.kitchenmsgs,\r\n      kottypes: props.route.params.masters.kottypes,\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      remark: '',\r\n      selectedTableItems: [],\r\n      selectedKottypes: [],\r\n      selectedKitchenmsg: null,\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  doReset() {\r\n    Keyboard.dismiss();\r\n    this.setState({\r\n      selectedKitchenmsg: null,\r\n      selectedKottypes: [],\r\n      selectedTableItems: [],\r\n      remark: '',\r\n    })\r\n  }\r\n\r\n  doPressFire() {\r\n    const { selectedKottypes, selectedTableItems, remark } = this.state;\r\n    // let options = [];\r\n    // options.push({ text: 'Yes', handleText: 'doSubmit' });\r\n    // this.setState({\r\n    //   overlayAlertInputValue: {\r\n    //     title: intl.get('action'),\r\n    //     subtitle: 'Fire',\r\n    //     text: `${intl.get('fire')} \"${remark}\" (${selectedTableItems.map(el => el.menuId).join(',')}) (${selectedKottypes.map(el => el.kotType).join(',')})`,\r\n    //     ok: false,\r\n    //     cancel: true,\r\n    //     options: options,\r\n    //   },\r\n    //   overlayAlertVisible: true,\r\n    // });\r\n    this.doSubmit();\r\n  }\r\n\r\n  doPressKitchenmsg(item) {\r\n    const { selectedKitchenmsg, kottypes } = this.state;\r\n    if (selectedKitchenmsg?.recKey === item?.recKey) {\r\n      this.setState({\r\n        selectedKitchenmsg: null,\r\n        remark: '',\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKitchenmsg: item,\r\n        remark: item.name,\r\n        selectedKottypes: item.kotTypes?.split(',').map(el => kottypes.find(obj => obj.kotType === el)) || [],\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressTableItem(item) {\r\n    const { selectedTableItems, } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate = selectedTableItems.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedTableItemsUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressKottype(item) {\r\n    const { selectedKottypes } = this.state;\r\n    let selectedKottypesUpdate = selectedKottypes;\r\n    if (selectedKottypes.some(el => el.recKey === item.recKey)) {\r\n      selectedKottypesUpdate = selectedKottypes.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedKottypesUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedKottypes: selectedKottypesUpdate,\r\n    })\r\n  }\r\n\r\n  doPressAllKottype() {\r\n    const { selectedKottypes, kottypes } = this.state;\r\n    if (!kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey))) {\r\n      this.setState({\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKottypes: kottypes,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSubmit') {\r\n      this.doSubmit();\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, masters, settings,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes, remark } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/fire-kot';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      remark: remark,\r\n      kotTypes: selectedKottypes.map(el => el.kotType).join(','),\r\n      opentableItemRecKeys: selectedTableItems.map(el => el.recKey).join(','),\r\n      msgId: selectedKitchenmsg?.msgId,\r\n    };\r\n    console.log(body)\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post fire-kot successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Fire Course',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            remark + ' (' + selectedTableItems.map(el => el.menuId).join(',') + ')' + ' (' + selectedKottypes.map(el => el.kotType).join(',') + ')',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, remark, kottypes, kitchenmsgs, tableItems,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n    } = this.state;\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.navigateButton}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER MESSAGE'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={remark}\r\n                    onChangeText={(text) => this.setState({ remark: text })}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => this.doReset()}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1, marginHorizontal: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kitchenmsgs}\r\n                  numColumns={2}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, { marginHorizontal: 2.5 }, selectedKitchenmsg?.recKey === item?.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKitchenmsg(item)}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.name}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      disabled={item.refRecKey ? true : false}\r\n                      onPress={() => this.doPressTableItem(item)}>\r\n                      <View style={[styles.tableItemFirstContainer, item.fireFlg === 'Y' && { borderRightColor: theme.reserved }]}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ paddingLeft: 10, alignItems: 'center', justifyContent: 'center', }}>\r\n                    <Text style={styles.titleText}>Destination</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    {\r\n                      selectedKottypes.length > 1 ?\r\n                        <Text style={[styles.titleText, { color: 'white' }]}>Various</Text>\r\n                        :\r\n                        selectedKottypes.length === 1 ?\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{kottypes?.find(el => el.kotType === selectedKottypes[0].kotType)?.kotName}</Text>\r\n                          :\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>-</Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kottypes}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  ListHeaderComponent={\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, !kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey)) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressAllKottype()}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ALL KOT PRINTERS\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedKottypes.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKottype(item)}>\r\n                      <View style={[styles.tableItemSecondContainer, { flexDirection: 'row', justifyContent: 'space-between', paddingRight: 10, alignItems: 'center' }]}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotName}\r\n                        </Text>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotType}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.navigateButton, ((selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark) && { opacity: 0.2 }]}\r\n                disabled={(selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark}\r\n                onPress={() => this.doPressFire()}>\r\n                <AntDesign\r\n                  name='customerservice'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('fire')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  navigateButton: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  navigateButtonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, SectionList, ScrollView, FlatList, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Combo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      comboGroups: props.route.params.masters.comboGroups.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      comboItems: props.route.params.masters.comboItems.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      selectedComboItems: [],\r\n      selectedComboItem: null,\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : props.route.params.selectedTable?.sectionId === 'SYS' ? 'B' : 'A',\r\n\r\n      // modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedTable?.sectionId === 'SYS' ? `*${intl.get('takeaway')}  ` : ''),\r\n      // modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount combo', this.state.comboItems, this.state.selectedComboItems)\r\n    this.doPrepareComboItems();\r\n  }\r\n\r\n  doPrepareComboItems() {\r\n    const { comboItems, tableItems, selectedTableItem } = this.state;\r\n    let tableItemsUpdate = selectedTableItem ? tableItems?.filter(el => el.refRecKey === selectedTableItem.recKey) : [];\r\n    let comboItemsUpdate = comboItems.map(el => ({\r\n      ...el,\r\n      modInput: tableItems?.find(obj => obj.comboitemRecKey === el.recKey)?.menuMod || '',\r\n      modRecKeys: tableItems?.find(obj => obj.comboitemRecKey === el.recKey)?.modRecKeys?.split(',') || [],\r\n    }));\r\n    let selectedComboItemsUpdate = comboItemsUpdate.filter(el => tableItemsUpdate.some(obj => obj.comboitemRecKey === el.recKey));\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n      selectedComboItems: selectedComboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doComboItemModInput(text) {\r\n    const { comboItems, selectedComboItem } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = text;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressComboItem(item) {\r\n    const { selectedComboItems } = this.state;\r\n    let selectedComboItemsUpdate = selectedComboItems;\r\n    if (selectedComboItems.some(el => el.recKey === item.recKey)) {\r\n      selectedComboItemsUpdate = selectedComboItems.filter(el => el.recKey !== item.recKey);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: null,\r\n        selectedModBundle: null,\r\n      })\r\n    } else {\r\n      selectedComboItemsUpdate.push(item);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: item,\r\n        selectedModBundle: null,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, comboItems } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n\r\n    if (orderType === 'A') {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n        el.modInput = `*${intl.get('takeaway')}  ` + el.modInput;\r\n      })\r\n      this.setState({\r\n        orderType: 'B',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    } else {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n      })\r\n      this.setState({\r\n        orderType: 'A',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { selectedModBundle, selectedComboItem, comboItems } = this.state;\r\n    let modInputUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput;\r\n    let modRecKeysUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = modInputUpdate;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modRecKeys = modRecKeysUpdate;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      comboGroups, comboItems, selectedComboItems,\r\n      menuName, qtyInput, orderType, } = this.state;\r\n\r\n    // no table\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // table status\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // combo group min max\r\n    if (comboGroups.some(el => (selectedComboItems.filter(obj => obj.groupNo === el.groupNo).length > el.maxSelectItem || selectedComboItems.filter(obj => obj.groupNo === el.groupNo).length < el.minSelectItem))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK MIN MAX',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // combo item compulsory modifier\r\n    if (selectedComboItems.some(arr => modBundles.filter(el => el.modmas.mustFlg === 'Y' && (el.modmas.globalFlg === 'Y' || mods.some(obj => obj.menuId === arr.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => arr.modRecKeys.some(el => el === obj.recKey.toString()))))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading, preference,\r\n      home, selectedMenu, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      menuName, qtyInput, orderType,\r\n      comboGroups, comboItems, selectedComboItems, selectedComboItem,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          {\r\n            selectedComboItem &&\r\n            <View style={{ flex: 1, marginVertical: 10, marginLeft: 0, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginVertical: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedComboItem.menuId}</Text>\r\n                  <Text style={{\r\n                    fontFamily: 'varela-round',\r\n                    color: 'white',\r\n                    fontSize: 20,\r\n                    textAlign: 'center',\r\n                    paddingHorizontal: 20,\r\n                  }} numberOfLines={2}>{selectedComboItem.menuName}</Text>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput}\r\n                  onChangeText={text => this.doComboItemModInput(text)}\r\n                />\r\n                <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                  <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MODIFIER</Text>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      mods?.filter(el => el.menuId === selectedMenu.menuId || el.menuId === selectedComboItem?.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                    {\r\n                      modBundles?.filter(el => el.modmas.globalFlg === 'Y').map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n                <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                  <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MODIFIER OPTIONS</Text>\r\n                </View>\r\n                <View style={{ flex: 1, backgroundColor: theme.grey4 }}>\r\n                  <ScrollView\r\n                    contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n                    showsVerticalScrollIndicator={false}>\r\n                    {\r\n                      selectedModBundle?.moditems.map(item =>\r\n                        <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, comboItems.find(el => el.recKey === selectedComboItem.recKey)?.modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                          onPress={() => this.doPressMod(item)}>\r\n                          <Text style={styles.modText}>{item.name}</Text>\r\n                          {\r\n                            item.listPrice !== 0 &&\r\n                            <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                          }\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          }\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM'))}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <ScrollView\r\n                  style={{ flex: 1, backgroundColor: theme.grey2, paddingBottom: 5 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    comboGroups.map(el =>\r\n                      <View key={el.recKey.toString()}>\r\n                        <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', }}>\r\n                          <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: 'white', }}>{el.groupName} <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.paid, }}>MIN</Text> {el.minSelectItem} <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.paid, }}>MAX</Text> {el.maxSelectItem}</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={{ margin: -2.5 }}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={comboItems.filter(obj => obj.groupNo === el.groupNo)}\r\n                          numColumns={preference.pcolsize}\r\n                          keyExtractor={(item, index) => item.recKey.toString()}\r\n                          renderItem={({ item }) => this.renderComboItem(item)}\r\n                        />\r\n                      </View>\r\n                    )\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n            </View>\r\n            <View style={{ margin: 5, width: 120, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderComboItem(item) {\r\n    const { preference, selectedComboItems } = this.state;\r\n    const found = selectedComboItems.some(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.pcolsize }}>\r\n        <TouchableOpacity style={{ height: 70, padding: 10, margin: 2.5, backgroundColor: found ? theme.occupied : theme.grey4, }}\r\n          onPress={() => this.doPressComboItem(item)}>\r\n          <View style={{ flex: 1 }}>\r\n            <Text style={{ fontFamily: 'varela-round', color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 12, }}></Text>\r\n            <Text style={[{ fontFamily: 'varela-round', fontSize: 12, color: Number(item.addonPrice) === 0 ? 'transparent' : found ? 'white' : theme.reserved }]}>+{item.addonPrice?.toFixed(2)}</Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport { StyleSheet, Text, View, Platform } from 'react-native';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport * as Font from 'expo-font';\r\nimport intl from 'react-intl-universal';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\n\r\nimport Login from './src/Login';\r\nimport Main from './src/Main';\r\nimport Register from './src/Register';\r\nimport Preference from './src/Preference';\r\nimport Pos from './src/Pos';\r\nimport Split from './src/Split';\r\nimport Adhoc from './src/Adhoc';\r\nimport Dayclose from './src/Dayclose';\r\nimport Printer from './src/Printer';\r\nimport Report from './src/Report';\r\nimport Reprint from './src/Reprint';\r\nimport Resequence from './src/Resequence';\r\nimport Transfer from './src/Transfer';\r\nimport Void from './src/Void';\r\nimport Collect from './src/Collect';\r\nimport Table from './src/Table';\r\nimport Menu from './src/Menu';\r\nimport Scan from './src/Scan';\r\nimport Trace from './src/Trace';\r\nimport Activate from './src/Activate';\r\nimport Limit from './src/Limit';\r\nimport Fire from './src/Fire';\r\nimport Combo from './src/Combo';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n  }\r\n\r\n  async componentDidMount() {\r\n\r\n    // locale data\r\n    const locales = {\r\n      \"zhs\": require('./assets/zhs.json'),\r\n      \"zht\": require('./assets/zht.json'),\r\n      \"en\": require('./assets/en.json'),\r\n      \"ja\": require('./assets/ja.json'),\r\n    };\r\n\r\n    const currentLocale = await AsyncStorage.getItem('language');\r\n\r\n    await intl.init({\r\n      currentLocale: currentLocale || 'en',\r\n      locales,\r\n    });\r\n\r\n    // ttf for native, woff for web\r\n    await Font.loadAsync({\r\n      'varela-round': require('./assets/VarelaRound-Regular.ttf'),\r\n      // 'varela-round': require('./assets/VarelaRound-Regular.woff'),\r\n    })\r\n\r\n    if (Platform.OS !== 'web') {\r\n      BarCodeScanner.getPermissionsAsync()\r\n        .then(response => {\r\n          if (response.status !== 'granted') return BarCodeScanner.requestPermissionsAsync();\r\n          return Promise.resolve(response);\r\n        })\r\n    }\r\n\r\n    this.setState({ loading: false })\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n\r\n    if (loading) return <View></View>;\r\n\r\n    return (\r\n      <NavigationContainer>\r\n        <StatusBar hidden />\r\n        <Stack.Navigator\r\n          screenOptions={{\r\n            headerShown: false,\r\n            animation: 'none',\r\n            gestureEnabled: false,\r\n          }}>\r\n          <Stack.Screen name=\"Login\" component={Login} options={Login.navigationOptions} />\r\n          <Stack.Screen name=\"Register\" component={Register} options={Register.navigationOptions} />\r\n          <Stack.Screen name=\"Preference\" component={Preference} options={Preference.navigationOptions} />\r\n          <Stack.Screen name=\"Main\" component={Main} options={Main.navigationOptions} />\r\n          <Stack.Screen name=\"Pos\" component={Pos} options={Pos.navigationOptions} />\r\n          <Stack.Screen name=\"Split\" component={Split} options={Split.navigationOptions} />\r\n          <Stack.Screen name=\"Void\" component={Void} options={Void.navigationOptions} />\r\n          <Stack.Screen name=\"Collect\" component={Collect} options={Collect.navigationOptions} />\r\n          <Stack.Screen name=\"Transfer\" component={Transfer} options={Transfer.navigationOptions} />\r\n          <Stack.Screen name=\"Resequence\" component={Resequence} options={Resequence.navigationOptions} />\r\n          <Stack.Screen name=\"Reprint\" component={Reprint} options={Reprint.navigationOptions} />\r\n          <Stack.Screen name=\"Report\" component={Report} options={Report.navigationOptions} />\r\n          <Stack.Screen name=\"Printer\" component={Printer} options={Printer.navigationOptions} />\r\n          <Stack.Screen name=\"Dayclose\" component={Dayclose} options={Dayclose.navigationOptions} />\r\n          <Stack.Screen name=\"Adhoc\" component={Adhoc} options={Adhoc.navigationOptions} />\r\n          <Stack.Screen name=\"Scan\" component={Scan} options={Scan.navigationOptions} />\r\n          <Stack.Screen name=\"Trace\" component={Trace} options={Trace.navigationOptions} />\r\n          <Stack.Screen name=\"Activate\" component={Activate} options={Activate.navigationOptions} />\r\n          <Stack.Screen name=\"Limit\" component={Limit} options={Limit.navigationOptions} />\r\n          <Stack.Screen name=\"Table\" component={Table} options={Table.navigationOptions} />\r\n          <Stack.Screen name=\"Fire\" component={Fire} options={Fire.navigationOptions} />\r\n          <Stack.Screen name=\"Menu\" component={Menu} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n          <Stack.Screen name=\"Combo\" component={Combo} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n        </Stack.Navigator>\r\n      </NavigationContainer>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n","var map = {\n\t\"./af\": 4506,\n\t\"./af.js\": 4506,\n\t\"./ar\": 9687,\n\t\"./ar-dz\": 2887,\n\t\"./ar-dz.js\": 2887,\n\t\"./ar-kw\": 6307,\n\t\"./ar-kw.js\": 6307,\n\t\"./ar-ly\": 1664,\n\t\"./ar-ly.js\": 1664,\n\t\"./ar-ma\": 9926,\n\t\"./ar-ma.js\": 9926,\n\t\"./ar-sa\": 5207,\n\t\"./ar-sa.js\": 5207,\n\t\"./ar-tn\": 2912,\n\t\"./ar-tn.js\": 2912,\n\t\"./ar.js\": 9687,\n\t\"./az\": 5011,\n\t\"./az.js\": 5011,\n\t\"./be\": 5997,\n\t\"./be.js\": 5997,\n\t\"./bg\": 4427,\n\t\"./bg.js\": 4427,\n\t\"./bm\": 5385,\n\t\"./bm.js\": 5385,\n\t\"./bn\": 7703,\n\t\"./bn-bd\": 7002,\n\t\"./bn-bd.js\": 7002,\n\t\"./bn.js\": 7703,\n\t\"./bo\": 9841,\n\t\"./bo.js\": 9841,\n\t\"./br\": 5642,\n\t\"./br.js\": 5642,\n\t\"./bs\": 4707,\n\t\"./bs.js\": 4707,\n\t\"./ca\": 3512,\n\t\"./ca.js\": 3512,\n\t\"./cs\": 9497,\n\t\"./cs.js\": 9497,\n\t\"./cv\": 6479,\n\t\"./cv.js\": 6479,\n\t\"./cy\": 9318,\n\t\"./cy.js\": 9318,\n\t\"./da\": 7229,\n\t\"./da.js\": 7229,\n\t\"./de\": 3460,\n\t\"./de-at\": 1044,\n\t\"./de-at.js\": 1044,\n\t\"./de-ch\": 6445,\n\t\"./de-ch.js\": 6445,\n\t\"./de.js\": 3460,\n\t\"./dv\": 2096,\n\t\"./dv.js\": 2096,\n\t\"./el\": 6048,\n\t\"./el.js\": 6048,\n\t\"./en-au\": 4301,\n\t\"./en-au.js\": 4301,\n\t\"./en-ca\": 6855,\n\t\"./en-ca.js\": 6855,\n\t\"./en-gb\": 761,\n\t\"./en-gb.js\": 761,\n\t\"./en-ie\": 6127,\n\t\"./en-ie.js\": 6127,\n\t\"./en-il\": 9157,\n\t\"./en-il.js\": 9157,\n\t\"./en-in\": 7199,\n\t\"./en-in.js\": 7199,\n\t\"./en-nz\": 1511,\n\t\"./en-nz.js\": 1511,\n\t\"./en-sg\": 7309,\n\t\"./en-sg.js\": 7309,\n\t\"./eo\": 2160,\n\t\"./eo.js\": 2160,\n\t\"./es\": 8582,\n\t\"./es-do\": 1885,\n\t\"./es-do.js\": 1885,\n\t\"./es-mx\": 8131,\n\t\"./es-mx.js\": 8131,\n\t\"./es-us\": 6962,\n\t\"./es-us.js\": 6962,\n\t\"./es.js\": 8582,\n\t\"./et\": 8890,\n\t\"./et.js\": 8890,\n\t\"./eu\": 7704,\n\t\"./eu.js\": 7704,\n\t\"./fa\": 2562,\n\t\"./fa.js\": 2562,\n\t\"./fi\": 877,\n\t\"./fi.js\": 877,\n\t\"./fil\": 4246,\n\t\"./fil.js\": 4246,\n\t\"./fo\": 8341,\n\t\"./fo.js\": 8341,\n\t\"./fr\": 9867,\n\t\"./fr-ca\": 2347,\n\t\"./fr-ca.js\": 2347,\n\t\"./fr-ch\": 7683,\n\t\"./fr-ch.js\": 7683,\n\t\"./fr.js\": 9867,\n\t\"./fy\": 1982,\n\t\"./fy.js\": 1982,\n\t\"./ga\": 3905,\n\t\"./ga.js\": 3905,\n\t\"./gd\": 3443,\n\t\"./gd.js\": 3443,\n\t\"./gl\": 6905,\n\t\"./gl.js\": 6905,\n\t\"./gom-deva\": 1324,\n\t\"./gom-deva.js\": 1324,\n\t\"./gom-latn\": 1890,\n\t\"./gom-latn.js\": 1890,\n\t\"./gu\": 7134,\n\t\"./gu.js\": 7134,\n\t\"./he\": 6835,\n\t\"./he.js\": 6835,\n\t\"./hi\": 1394,\n\t\"./hi.js\": 1394,\n\t\"./hr\": 3564,\n\t\"./hr.js\": 3564,\n\t\"./hu\": 6269,\n\t\"./hu.js\": 6269,\n\t\"./hy-am\": 7269,\n\t\"./hy-am.js\": 7269,\n\t\"./id\": 4254,\n\t\"./id.js\": 4254,\n\t\"./is\": 8699,\n\t\"./is.js\": 8699,\n\t\"./it\": 8301,\n\t\"./it-ch\": 5060,\n\t\"./it-ch.js\": 5060,\n\t\"./it.js\": 8301,\n\t\"./ja\": 4642,\n\t\"./ja.js\": 4642,\n\t\"./jv\": 2168,\n\t\"./jv.js\": 2168,\n\t\"./ka\": 4501,\n\t\"./ka.js\": 4501,\n\t\"./kk\": 9537,\n\t\"./kk.js\": 9537,\n\t\"./km\": 5808,\n\t\"./km.js\": 5808,\n\t\"./kn\": 4881,\n\t\"./kn.js\": 4881,\n\t\"./ko\": 2951,\n\t\"./ko.js\": 2951,\n\t\"./ku\": 2452,\n\t\"./ku.js\": 2452,\n\t\"./ky\": 1853,\n\t\"./ky.js\": 1853,\n\t\"./lb\": 7639,\n\t\"./lb.js\": 7639,\n\t\"./lo\": 4502,\n\t\"./lo.js\": 4502,\n\t\"./lt\": 874,\n\t\"./lt.js\": 874,\n\t\"./lv\": 8237,\n\t\"./lv.js\": 8237,\n\t\"./me\": 7878,\n\t\"./me.js\": 7878,\n\t\"./mi\": 4234,\n\t\"./mi.js\": 4234,\n\t\"./mk\": 7535,\n\t\"./mk.js\": 7535,\n\t\"./ml\": 3896,\n\t\"./ml.js\": 3896,\n\t\"./mn\": 3046,\n\t\"./mn.js\": 3046,\n\t\"./mr\": 927,\n\t\"./mr.js\": 927,\n\t\"./ms\": 7224,\n\t\"./ms-my\": 6332,\n\t\"./ms-my.js\": 6332,\n\t\"./ms.js\": 7224,\n\t\"./mt\": 4866,\n\t\"./mt.js\": 4866,\n\t\"./my\": 4206,\n\t\"./my.js\": 4206,\n\t\"./nb\": 6723,\n\t\"./nb.js\": 6723,\n\t\"./ne\": 5097,\n\t\"./ne.js\": 5097,\n\t\"./nl\": 7529,\n\t\"./nl-be\": 1355,\n\t\"./nl-be.js\": 1355,\n\t\"./nl.js\": 7529,\n\t\"./nn\": 296,\n\t\"./nn.js\": 296,\n\t\"./oc-lnc\": 4802,\n\t\"./oc-lnc.js\": 4802,\n\t\"./pa-in\": 7057,\n\t\"./pa-in.js\": 7057,\n\t\"./pl\": 9850,\n\t\"./pl.js\": 9850,\n\t\"./pt\": 5552,\n\t\"./pt-br\": 3726,\n\t\"./pt-br.js\": 3726,\n\t\"./pt.js\": 5552,\n\t\"./ro\": 1717,\n\t\"./ro.js\": 1717,\n\t\"./ru\": 9117,\n\t\"./ru.js\": 9117,\n\t\"./sd\": 1742,\n\t\"./sd.js\": 1742,\n\t\"./se\": 2049,\n\t\"./se.js\": 2049,\n\t\"./si\": 3329,\n\t\"./si.js\": 3329,\n\t\"./sk\": 7619,\n\t\"./sk.js\": 7619,\n\t\"./sl\": 6707,\n\t\"./sl.js\": 6707,\n\t\"./sq\": 9051,\n\t\"./sq.js\": 9051,\n\t\"./sr\": 436,\n\t\"./sr-cyrl\": 3408,\n\t\"./sr-cyrl.js\": 3408,\n\t\"./sr.js\": 436,\n\t\"./ss\": 7500,\n\t\"./ss.js\": 7500,\n\t\"./sv\": 6950,\n\t\"./sv.js\": 6950,\n\t\"./sw\": 4222,\n\t\"./sw.js\": 4222,\n\t\"./ta\": 3746,\n\t\"./ta.js\": 3746,\n\t\"./te\": 1130,\n\t\"./te.js\": 1130,\n\t\"./tet\": 4740,\n\t\"./tet.js\": 4740,\n\t\"./tg\": 3378,\n\t\"./tg.js\": 3378,\n\t\"./th\": 628,\n\t\"./th.js\": 628,\n\t\"./tk\": 2622,\n\t\"./tk.js\": 2622,\n\t\"./tl-ph\": 100,\n\t\"./tl-ph.js\": 100,\n\t\"./tlh\": 2871,\n\t\"./tlh.js\": 2871,\n\t\"./tr\": 3600,\n\t\"./tr.js\": 3600,\n\t\"./tzl\": 8985,\n\t\"./tzl.js\": 8985,\n\t\"./tzm\": 3627,\n\t\"./tzm-latn\": 1145,\n\t\"./tzm-latn.js\": 1145,\n\t\"./tzm.js\": 3627,\n\t\"./ug-cn\": 4790,\n\t\"./ug-cn.js\": 4790,\n\t\"./uk\": 7712,\n\t\"./uk.js\": 7712,\n\t\"./ur\": 9529,\n\t\"./ur.js\": 9529,\n\t\"./uz\": 9141,\n\t\"./uz-latn\": 1737,\n\t\"./uz-latn.js\": 1737,\n\t\"./uz.js\": 9141,\n\t\"./vi\": 8205,\n\t\"./vi.js\": 8205,\n\t\"./x-pseudo\": 697,\n\t\"./x-pseudo.js\": 697,\n\t\"./yo\": 7826,\n\t\"./yo.js\": 7826,\n\t\"./zh-cn\": 3994,\n\t\"./zh-cn.js\": 3994,\n\t\"./zh-hk\": 6892,\n\t\"./zh-hk.js\": 6892,\n\t\"./zh-mo\": 3884,\n\t\"./zh-mo.js\": 3884,\n\t\"./zh-tw\": 5136,\n\t\"./zh-tw.js\": 5136\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6700;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [203], () => (__webpack_require__(9386)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Text","_ref","_styleObject","_styleObject2","style","children","rest","_objectWithoutProperties","_excluded","styleObject","Array","isArray","forEach","el","Object","assign","_jsx","RN","_objectSpread","fontSize","fontFamily","debug","serviceEntry","msg1","msg2","msg3","msg4","msg5","msg6","fetch","method","headers","body","JSON","stringify","vacant","reserved","occupied","paid","unavailable","adhoc","deposit","grey1","grey2","grey3","grey4","grey5","grey7","grey8","grey9","size","Platform","OS","black8","white8","OverlayAlert","_Component","_inherits","_super","_createSuper","props","_classCallCheck","call","_createClass","key","value","_this","console","log","this","View","styles","overlay","_jsxs","overlayContent","overlayHeader","overlayTitleText","overlaySubtitleText","color","theme","overlayText","text","toUpperCase","TouchableOpacity","overlayOption","onPress","handleUpdateFromProcedureMessage","overlayOptionText","Component","StyleSheet","create","backgroundColor","position","zIndex","top","left","right","bottom","flex","alignItems","justifyContent","width","borderRadius","overflow","marginVertical","textTransform","opacity","textAlign","marginTop","height","margin","OverlayLanguage","intl","buttonsContainer","button","handleUpdateFromLanguage","buttonText","minWidth","paddingHorizontal","flexDirection","Login","state","preference","language","serviceEntryObj","accessCode","password","userId","home","dev","bind","_assertThisInitialized","_componentDidMount","_asyncToGenerator","_this2","navigation","sub","addListener","didFocus","AsyncStorage","getItem","parse","tcolsize","mcolsize","pcolsize","mquick","setItem","setState","doSubmitAccessCode","apply","arguments","_didFocus","_route$params","route","params","sync","moment","diff","item","overlayLanguageVisible","options","currentLocale","overlayProcedureMessageVisible","_this3","Alert","alert","doDownload","Linking","openURL","_this$state","link","doLogIn","_this$state2","_doLogIn","_this4","then","response","json","message","Promise","all","_ref2","_slicedToArray","promiseArray","url","URLSearchParams","append","shopId","promiseObject","nameString","push","orgId","locId","_toConsumableArray","map","_defineProperty","masters","reduce","o","keys","values","navigate","catch","error","_x","_x2","accessCodeUpdate","_Constants$manifest$v","_this5","_this$props","_this$state3","OverlayProcedureMessage","Ionicons","name","marginHorizontal","MaterialIcons","doPressDownload","AntDesign","marginBottom","numberOfLines","Constants","manifest","version","split","Image","source","Logo","resizeMode","minHeight","textInputContainer","TextInput","textInput","placeholder","placeholderTextColor","placeholderStyle","onChangeText","secureTextEntry","autoComplete","autoCorrect","onSubmitEditing","doPressKey","Dimensions","get","MainTable","settings","sections","tablemas","tables","floorWidth","selectedSection","focused","doRefresh","prevProps","refresh","_doRefresh","initial","length","doPressFloor","doPressSection","sectionId","_doPressFloor","selectedTable","_doPressSection","_this$state4","tableId","doPressFocusedTable","handlePressTable","_this$state5","find","statusFlg","handleActionTable","adhocItem","transType","doTranslateTableColor","e","nativeEvent","layout","_this$state6","padding","renderFloor","FlatList","showsVerticalScrollIndicator","numColumns","horizontal","data","recKey","concat","keyExtractor","index","toString","renderItem","renderTable","initialNumToRender","MaterialCommunityIcons","ScrollView","_this$state7","aspectRatio","disabled","doPressTable","seatTime","format","pax","Feather","letterSpacing","vipName","tableLowerBand","grandTotal","_this6","_this$state8","onLayout","doLayout","xaxis","Number","yaxis","shape","doPressFloorTable","Math","sqrt","doTranslateFloorTableColor","transform","rotateZ","flexWrap","filter","some","obj","onetwo","paddingVertical","MainMenu","foldergrps","folders","uniqueFolders","Map","v","folderId","menus","uniqueMenus","menuId","modBundles","displayMode","displays","limiteds","searchText","doGet","foldergrpId","found","selectedFoldergrp","quick","handlePressMenu","doPressFoldergrp","caseText","displaysUpdate","menuName","includes","_intl$get","_intl$get2","_intl$get3","_settings$find","searchBox","searchBoxInputValue","doSearchText","searchBoxButton","Keyboard","dismiss","setId","setString","renderMenu","renderMenuB","_ref3","renderFolder","pagingEnabled","showsHorizontalScrollIndicator","handlePressScan","doPressFolder","_item$listPrice","_foldergrps$find","_folders$find","doPressMenu","listPrice","toFixed","serveLimit","serveCount","_foldergrps$find2","_folders$find2","_item$listPrice2","uri","restServiceUrl","urlAddr","lastupdate","OverlayAutoLogout","timer","countdown","initialTimer","setInterval","clearInterval","handleUpdateFromAutoLogout","OverlayDeposit","homeDelivery","vipPhone","dlyDate","dpostalcode","daddress1","daddress2","type","ok","address","handleUpdateFromDeposit","tabContainer","doPressDelivery","vipInputsContainer","vipInputsRow","vipInput","textContentType","keyboardType","_Fragment","doChangePostal","onFocus","doSubmit","tabText","tabFocusText","OverlayScanBarcode","handleSubmit","scanTextInput","focus","handleUpdateFromScanBarcode","searchBoxWrapper","overlaySearchBox","overlaySearchBoxInput","ref","autoFocus","overlaySearchBoxButton","searchBoxInfo","searchBoxInfoText","OverlayRequestAccess","handleUpdateFromRequestAccess","overlayTextUpdate","requestedPrivilege","alignSelf","scrollEnabled","OverlayChangePrice","privileges","discounts","selectedTableItem","availableDiscounts","overlaySearchText","discountSelected","selectedDiscount","validatePass","overlayRequestAccessVisible","handleOverlaySearchText","handleValidate","priId","userName","loading","superUserId","adminFlg","handleUpdateFromChangePrice","availableDiscountsUpdate","discId","discName","paddingBottom","selectText","selectWrapper","overlayGrid","dummy","hidden","overlayGridFirst","overlayGridFirstLeft","overlayGridFirstLeftText","overlayGridFirstRight","overlayGridFirstRightText","overlayGridSecond","overlayGridSecondText","overlayGridThird","overlayGridThirdLeft","overlayGridThirdRight","overlayGridThirdRightText","overlayBackButton","OverlayLineDiscount","remarks","itemWithRemarks","handleUpdateFromLineDiscount","OverlayHeaderDiscount","handleUpdateFromHeaderDiscount","OverlayMergeTable","availableTables","mergeTables","handleSelectTable","availableTablesUpdate","mergeTablesUpdate","_readOnlyError","selectionContainer","modalAvailableMod","modalAvailableModText","handleUpdateFromMergeTable","marginRight","OverlaySplitTable","tableItems","availableTableItems","refRecKey","selectedTableItems","handleSelectTableItem","availableTableItemsUpdate","selectedTableItemsUpdate","lineNo","handleUpdateFromSplitTable","OverlayChangeTable","handleUpdateFromChangeTable","OverlayReviseItem","handleUpdateFromReviseItem","confirmFlg","menuType","discFlg","OverlayTableActions","handleUpdateFromTableActions","OverlayAdditionalFunctions","handleUpdateFromAdditionalFunctions","OverlayChoosePrinter","printers","cashierPrinters","availablePrinters","availablePrintersUpdate","iomodelId","printPurpose","handleUpdateFromChoosePrinter","input","title","subtitle","handleUpdateFromAlert","handleText","cancel","Tab","createBottomTabNavigator","Main","screen","handleUpdateFromVoid","handleUpdateFromTable","doChooseDefaultPrinter","overlayChoosePrinterVisible","_masters$cashierPrint","homeUpdate","defaultPrinter","_handlePressTable","opentable","doClearTable","doToggleScreen","opentableItems","action","doCreateTable","mode","settingPOSMODE","modmas","mustFlg","globalFlg","mods","_masters$modBundles$f","modId","selectedMenu","opentableRecKey","restmenuRecKey","restmenuMod","serviceFlg","orderQty","orderType","_settings$find2","doCreateTableForPos","camera","overlayScanBarcodeVisible","_settings$find3","_response$opentable","_settings$find4","_response$opentable2","d","fireFlg","_settings$find5","overlayReviseItemVisible","_settings$find6","dayclosePayments","posDayCloseAmt","daycloseSubPayments","posDayCloseAmtDtl","overlayAlertInputValue","overlayAlertVisible","printer","_this7","refTableId","_settings$find7","pospays","opentablePospays","newStatus","_this8","_this$state9","tableStatus","vipId","phone","reservationTime","sourceId","_settings$find8","_this9","_this$state10","opentableItemRecKey","_settings$find9","_this10","_this$state11","_settings$find10","_this11","_this$state12","newLineBreak","lineBreak","_settings$find11","_this12","_this$state13","_settings$find12","_this13","_this$state14","_settings$find13","overlayDepositVisible","_this$state15","sendFlg","_masters$sections$fin","_this14","_this$state16","printOrder","printOrderFlg","_settings$find14","_this$state17","_this15","_this$state18","_settings$find15","purpose","_this$state19","selectedPrinter","doSendOrder","doPrintBill","doStartPayment","doOpenDrawer","_this16","_this$state20","_settings$find16","doStartDayclose","doDeleteTableItem","doEditTableItem","_this$state21","overlayAdditionalFunctionsVisible","goBack","Date","_handleUpdateFromTableActions","_this$state22","overlayTableActionsVisible","overlayHeaderDiscountVisible","doChangeTableStatus","overlayMergeTableVisible","overlaySplitTableVisible","overlayChangeTableVisible","_this$state23","doRevertTableItem","overlayChangePriceVisible","overlayLineDiscountVisible","doUpdateLineBreak","doDuplicateTableItem","_this17","_this$state24","disc","discNum","_settings$find17","_this18","_this$state25","_settings$find18","_this19","_this$state26","price","_settings$find19","_this20","_this$state27","itemPayloads","mergedTableId","_settings$find20","join","items","_this21","_this$state28","_settings$find21","_response$opentable3","table","_this22","_this$state29","tableIdTo","_settings$find22","_this$state30","doTransTypeSales","doTransTypeDeposit","deliveryFlg","postalCode","addr1","addr2","_this23","_this$state31","addr3","addr4","_settings$find23","_this24","_this$state32","barcode","_settings$find24","tableInfo","_masters$settings$fin","_selectedTable$grandT","_this25","_this$state33","overlayAutoLogoutVisible","footerText","locName","marginLeft","tableUpperBand","doTranslateTableStatus","doPressSend","FontAwesome","Fontisto","tab","borderLeftWidth","borderLeftColor","borderRightColor","paddingRight","scrollViewRef","onContentSizeChange","scrollToEnd","_item$lineTotal","doTranslateTableItemColor","doPressItem","menuMod","lineTotal","_obj$lineTotal","Navigator","screenOptions","headerShown","animation","gestureEnabled","tabBarStyle","display","Screen","OverlayServiceEntry","handleUpdateFromServiceEntry","Register","savedEntries","selectedItem","doDeleteEntry","doSetEntry","overlayServiceEntryVisible","epbId","bistroServiceUrl","doSaveEntry","savedEntriesUpdate","unshift","container","leftContainer","navigateContainer","navigateWrapper","displayContainer","displayWrapper","gap","gridContainer","grid","doPressEntry","gridFirst","gridFirstLeftText","gridFirstRightText","gridSecond","gridSecondText","gridThird","gridThirdRightText","rightContainer","paddingLeft","doPressAdd","searchBoxInfoLeft","searchBoxInfoRight","gridFirstLeft","gridFirstRight","gridThirdLeft","gridThirdRight","paddingTop","selection","selectionText","tableItemText","tableItemModText","tableItemContainer","tableItemFirstContainer","borderRightWidth","tableItemSecondContainer","tableItemThirdContainer","tableItemFourthContainer","titleFirstContainer","titleSecondContainer","titleThirdContainer","titleFourthContainer","titleText","Preference","doReset","preferenceUpdate","doTcolsize","doPcolsize","doMcolsize","doMquick","doPressReset","OverlaySplitItems","receipts","docId","percentage","handleFillPercentagesEvenly","handleSetPercentageForReceipt","handleSetFullPercentageForReceipt","numberString","number","receiptsUpdate","findIndex","aggregate","init","handleUpdateFromSplitItems","overlayScroll","inputRow","inputRowLeft","inputRowTitleText","inputRowSubtitleText","inputRowRight","selectTextOnFocus","percentageText","overlayNumber","Split","availableReceipts","receiptItems","overlaySplitItemsVisible","handleSplitSelectedTableItems","handleUndoAll","handleSelectAllUnsplitTableItems","handleDeselectAllUnsplitTableItems","comboItems","distribution","handleUpdateFromSplit","_this$props2","wrapper","itemsContainer","actionButton","splitScroll","snapToInterval","wrapperWidth","decelerationRate","OverlayInputReference","handleUpdateFromInputReference","OverlayMergeBill","selectedTargetTable","filteredResponse","handleUpdateFromMergeBill","OverlaySplitBill","handleQtyChange","prevState","isNaN","adjustContainer","adjustFirst","adjustSecond","handleNumberChange","adjustThird","handleUpdateFromSplitBill","keyHeight","OverlaySplitAmount","amount","warning","handleFillRemainder","handleSetAmountForReceipt","handleUpdateFromSplitAmount","equal","doFillEvenly","OverlayUpdateTips","paymentMethods","availablePaymentMethods","selectedPaymentMethod","availablePaymentMethodsUpdate","pmId","handleUpdateFromUpdateTips","OverlayViewSplitted","handleUpdateFromViewSplitted","PaynowQR","opts","defineProperty","generate","qrstring","s","n","str","String","i","crcTable","crc","c","charCodeAt","RangeError","trim","p","id","uen","editable","expiry","company","otherdata","refNumber","final","current","f","padLeft","crc16","qrcode","reference","orgName","qrcodeString","output","QRCode","logo","Paynow","logoSize","handleUpdateFromPaynow","Pos","payments","selectedPaymentItem","pay","balance","overlayPaynowVisible","overlayInputReferenceVisible","overlayMergeBillVisible","overlaySplitBillVisible","overlaySplitAmountVisible","overlayUpdateTipsVisible","overlayViewSplittedVisible","splitting","splitReceipts","handleBuildNumberString","handleSelectPaymentMethod","handleRounding","handleEnterButton","handleFinishButton","handleAddPayment","handleDeletePayment","handleFinishPayment","handleUnsplitBill","handlePressPaymentItem","handlePressPaymentItemRef","handlePressMerge","handlePressUnmerge","handlePressTips","handlePressSplit","handlePressUnsplit","handleViewSplitted","handleOpenDrawer","handleValidateAmount","newNumberString","slice","maxLength","indexOf","refType","numberStringUpdate","vipPtsMoney","floor","numberStringVal","isInteger","payMoney","opentablePospayRecKey","payAmt","roundAmt","handleAfterAddPayment","overlayPaynowInput","docNo","roundingFlg","roundType","ceil","round","splitCount","receiptmases","splittedReceipts","receiptRecKey","itemPercentages","itemRecKey","splittedReceiptsByamt","amt","_settings2$find","tableIdGuest","tips","OverlayPaynow","leftFirstContainer","rowOf5","headerKeyContainer","headerKeyTextTableId","headerKeyText","splitFlg","hostFlg","leftSecondContainer","tableSummaryContainer","tableSummaryTitleContainer","tableSummaryTitle","tableSummaryTitleText","tipsPmId","tableSummaryValueContainer","tableSummaryValue","tableSummaryValueText","beforeDisc","totalDisc","serviceCharge","totalTax","tender","change","maxHeight","paymentsContainer","paymentsFirst","paymentsTitleText","paymentsSecond","paymentsThird","paymentsFourth","posScrollView","contentWidth","contentHeight","animated","datumContainer","datumFirst","datumText","datumSecond","datumThird","payRef","datumFourth","rightFirstContainer","extraData","activeFunctionKeyContainer","functionKeyContainer","activeFunctionKeyText","functionKeyText","rightFirstNumberContainer","rightFirstNumberText","rightSecondContainer","rightSecondLeftContainer","clearContainer","keyText","rightSecondMiddleContainer","keyContainer","keyNumberText","rightSecondRightContainer","backspaceContainer","enterContainer","finishContainer","borderColor","borderWidth","dataContainer","Adhoc","selectedAdhocItem","adhocItems","availableMenus","menu","handleSelectAdhoc","handlePressSettleAsMenu","handlePressSettleAsRetail","handleSearchText","adhocRecKey","availableMenusUpdate","createDate","rightWrapper","Dayclose","total","systemAmt","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","handleFinishDayclose","daycloseRecKey","masRecKey","verify","subVerify","_this$setState","pmValue","doChangeText","settingDAYCLOSEVERIFY","containerFirst","containerSecond","summary","summaryText","summaryTotalText","floatAmt","subPmId","containerThird","Printer","handlePingAll","printersUpdate0","printersUpdate","msgId","handlePingPrinter","handleTestAll","printPort","handlePressPingAll","handlePressTestAll","OverlayEnterDate","dateString","valid","isValid","dateStringUpdate","add","subtract","inputRowFirst","inputRowSecond","inputRowThird","handleUpdateFromEnterDate","dateType","Report","selectedButton","fromDateString","toDateString","reportDetails","overlayEnterDateVisible","handlePressDate","handleSelectReport","handlePrintReport","selectedDateType","selectedDateString","report","reportCode","fromDateStringUpdate","toDateStringUpdate","reportContainer","reportLineContainer","reportLineFirst","reportLineFirstText","description","reportLineSecond","reportLineSecondText","qty","reportLineThird","reportLineThirdText","val","borderTopLeftRadius","borderTopRightRadius","Reprint","availableMasters","searches","selectedMaster","details","receiptsxText","pays","handlePressSearch","handleSelectButton","handleSelectMaster","handleReprint","receiptmas","receiptpaydtl","receiptitems","receiptpays","availableMastersUpdate","c1","c2","createUserId","alwaysBounceVertical","netPrice","_ref4","_ref5","Resequence","arrangedItems","handleReset","handleAddLineBreak","handleRemoveLineBreak","handleResequence","handleShiftTop","handleShiftUp","handleShiftDown","handleShiftBottom","arrangedItemsUpdate","_arrangedItemsUpdate","scrollToOffset","offset","_arrangedItemsUpdate2","spliceIndex","splice","_arrangedItemsUpdate3","skip","_arrangedItemsUpdate4","newLineNo","lineBreakContainer","Transfer","handleSelectTargetTable","handlePressSelectAll","converted","opentableRecKeyFrom","opentableRecKeyTo","opentableItemRecKeys","generateTextForSelectAll","OverlayVoidReceipt","returns","availableReturns","selectedReturn","availableReturnsUpdate","returnId","handleUpdateFromVoidReceipt","Void","overlayVoidReceiptVisible","reopenResponse","handleVoid","handlePressVoid","handlePressReopen","docDateString","Collect","handlePressCollect","Table","_props$route$params$m","_props$route$params$m2","vipSources","availableVipSources","overlayPax","capacity","overlayVip","vipDisc","cumPts","classId","overlayValidateVipId","overlayValidateCardNumber","overlayValidateNric","overlayValidateVipName","overlayValidateVipPhone","overlayValidateVipPhoneCountryCode","overlayValidateEmailAddress","vipResults","selectedVipResult","overlaySource","overlaySourceSearch","overlayDeliveryFlg","overlayPostalCode","overlayAddr1","overlayAddr2","overlayAddr3","daddress3","overlayAddr4","daddress4","activeTab","handlePressTab","handleSearchVip","handleEnterVip","handleClearVip","handlePressNext","handlePressPrev","handleAddressChange","handleCheckDeliveryFlg","cardNumber","nric","emailAddress","vipPhoneCountryCode","customerNumber","mobileNumber","emailaddress","customerSource","pts","money","cardNo","birthday","availableVipSourcesUpdate","overlayTabWidth","tabsContainer","overlayTab","handlePaxChange","hasActiveMembership","overlayGridThirdLeftText","detailWrapper","detailTitle","detailText","overlayOptionsContainer","overlayOptionContainer","overlaySearchBoxButtonText","overlaySearchVipButton","Menu","_props$route$params$s","_props$route$params$s2","_props$route$params$s3","_props$route$params$s4","_props$route$params$s5","_props$route$params$s6","_props$route$params$s7","_props$route$params$s8","_props$route$params$s9","qtyInput","modInput","modRecKeys","qtyInputUpdate","modInputUpdate","replace","selectedModBundle","modRecKeysUpdate","modType","moditems","_selectedTableItem$li","_selectedMenu$listPri","_mods$filter","_mods$filter$map","contentContainerStyle","flexGrow","modButton","doPressMod","modText","multiline","blurOnSubmit","menuQtyRow","menuQtyRowFirst","doChangeQty","menuQtyRowSecond","qtyTextInput","doValidateQty","menuQtyRowThird","modifierTextInput","modContainer","doPressModBundle","doToggleOrderType","doToggleLineBreak","Scan","hasCameraPermission","detected","handleBarCodeScanned","status","BarCodeScanner","requestPermissionsAsync","onBarCodeScanned","backButton","iconContainer","windowWidth","windowHeight","Trace","maps","thisTable","thisUser","doReload","traceRef","onEndReachedThreshold","onEndReached","doLoad","alwaysBounceHorizontal","traceText","doToggleUser","doToggleTable","Activate","updateds","overlayRequestPrivilegeVisible","handleSelectMenu","handleSelectUpdated","handlePressDisplayMode","handleUpdateMenu","updatedsUpdate","restmenuRecKeys","newStatusFlg","kotType","Limit","_limiteds$find","doLimitMenu","doSelectMenu","inputContainer","inputRowLeftText","doToggleStatus","inputRowRightText","Fire","kitchenmsgs","kottypes","remark","selectedKottypes","selectedKitchenmsg","_item$kotTypes","kotTypes","selectedKottypesUpdate","_kottypes$find","navigateButton","navigateButtonText","doPressKitchenmsg","doPressTableItem","kotName","ListHeaderComponent","doPressAllKottype","doPressKottype","doPressFire","Combo","comboGroups","refMenuId","selectedComboItems","selectedComboItem","doPrepareComboItems","tableItemsUpdate","comboItemsUpdate","_tableItems$find","_tableItems$find2","_tableItems$find2$mod","comboitemRecKey","selectedComboItemsUpdate","groupNo","maxSelectItem","minSelectItem","arr","combogroupRecKey","doComboItemModInput","_comboItems$find","groupName","renderComboItem","_item$addonPrice","doPressComboItem","addonPrice","Stack","createNativeStackNavigator","App","_len","args","_key","locales","require","Font","loadAsync","getPermissionsAsync","resolve","NavigationContainer","StatusBar","component","navigationOptions","presentation","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code","module","exports","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","a","leafPrototypes","getProto","getPrototypeOf","t","ns","def","getOwnPropertyNames","definition","enumerable","g","globalThis","Function","window","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}