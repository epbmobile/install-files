{"version":3,"sources":["assets/logo-small-light.png","assets/paynow.png","assets/utility.js","assets/theme.js","src/OverlayProcedureMessage.js","src/OverlayLanguage.js","src/Login.js","src/MainTable.js","src/MainMenu.js","src/OverlayAutoLogout.js","src/OverlayDeposit.js","src/OverlayScanBarcode.js","src/OverlayRequestAccess.js","src/OverlayChangePrice.js","src/OverlayLineDiscount.js","src/OverlayHeaderDiscount.js","src/OverlayMergeTable.js","src/OverlaySplitTable.js","src/OverlayChangeTable.js","src/OverlayReviseItem.js","src/OverlayTableActions.js","src/OverlayAdditionalFunctions.js","src/OverlayChoosePrinter.js","src/OverlayAlert.js","src/Main.js","src/Preference.js","src/OverlaySplitItems.js","src/Split.js","src/OverlayInputReference.js","src/OverlayMergeBill.js","src/OverlaySplitBill.js","src/OverlaySplitAmount.js","src/OverlayUpdateTips.js","src/OverlayViewSplitted.js","src/OverlayPaynow.js","src/Pos.js","src/Adhoc.js","src/Dayclose.js","src/Printer.js","src/OverlayEnterDate.js","src/Report.js","src/Reprint.js","src/Resequence.js","src/Transfer.js","src/OverlayVoidReceipt.js","src/Void.js","src/Collect.js","src/Table.js","src/Menu.js","src/Scan.js","src/Trace.js","src/Activate.js","src/Limit.js","src/Fire.js","src/Combo.js","App.js","node_modules/moment/locale sync /^/.*$","assets/VarelaRound-Regular.ttf"],"names":["module","exports","Text","style","children","rest","styleObject","Array","isArray","forEach","el","fontSize","fontFamily","debug","serviceEntry","msg1","msg2","msg3","msg4","msg5","msg6","fetch","method","headers","body","JSON","stringify","theme","vacant","reserved","occupied","paid","unavailable","adhoc","deposit","grey1","grey2","grey3","grey4","grey5","grey7","grey8","grey9","size","Platform","OS","black8","white8","OverlayAlert","props","console","log","this","View","styles","overlay","overlayContent","overlayHeader","overlayTitleText","overlaySubtitleText","color","overlayText","text","toUpperCase","TouchableOpacity","overlayOption","onPress","handleUpdateFromProcedureMessage","overlayOptionText","Component","StyleSheet","create","backgroundColor","position","zIndex","top","left","right","bottom","flex","alignItems","justifyContent","width","borderRadius","overflow","marginVertical","textTransform","opacity","textAlign","marginTop","height","margin","OverlayLanguage","intl","get","buttonsContainer","button","handleUpdateFromLanguage","buttonText","minWidth","paddingHorizontal","flexDirection","Login","state","beacon","savedEntries","preference","language","accessCode","password","userId","epbId","ipPort","home","dev","bind","navigation","sub","addListener","didFocus","AsyncStorage","getItem","parse","tcolsize","mcolsize","mquick","setItem","setState","mode","doSubmitAccessCode","route","params","sync","moment","diff","item","overlayLanguageVisible","options","currentLocale","overlayProcedureMessageVisible","Alert","alert","doDownload","Linking","doSubmitEpbId","doSubmitIpPort","restServiceUrl","localResponse","name","doAddSaveEntry","url","URLSearchParams","append","then","response","ok","json","catch","error","preconstructed","serviceEntryUpdate","link","doLogIn","message","Promise","all","promiseArray","shopId","promiseObject","nameString","push","orgId","locId","map","masters","reduce","o","Object","keys","values","navigate","savedEntriesUpdate","length","some","filter","doPressMode","AntDesign","Ionicons","marginHorizontal","MaterialIcons","doPressDownload","index","marginBottom","minHeight","doSubmitSavedEntry","doRemoveSavedEntry","numberOfLines","Constants","manifest","version","split","Image","source","Logo","resizeMode","TextInput","textInput","placeholder","placeholderTextColor","placeholderStyle","onChangeText","value","secureTextEntry","autoComplete","autoCorrect","onSubmitEditing","MainTable","settings","sections","tablemas","tables","floorWidth","selectedSection","focused","a","async","doRefresh","prevProps","refresh","initial","doPressFloor","doPressSection","sectionId","selectedTable","tableId","doPressFocusedTable","handlePressTable","find","statusFlg","handleActionTable","adhocItem","transType","doTranslateTableColor","e","nativeEvent","layout","padding","renderFloor","FlatList","showsVerticalScrollIndicator","numColumns","horizontal","data","recKey","keyExtractor","toString","renderItem","renderTable","initialNumToRender","MaterialCommunityIcons","ScrollView","aspectRatio","disabled","doPressTable","seatTime","format","pax","Feather","letterSpacing","vipName","tableLowerBand","grandTotal","onLayout","doLayout","xaxis","Number","yaxis","shape","doPressFloorTable","Math","sqrt","doTranslateFloorTableColor","transform","rotateZ","flexWrap","obj","onetwo","paddingVertical","MainMenu","imageEntry","foldergrps","folders","uniqueFolders","Map","v","folderId","menus","uniqueMenus","menuId","modBundles","displayMode","displays","limiteds","searchText","doGet","foldergrpId","found","selectedFoldergrp","quick","handlePressMenu","doPressFoldergrp","caseText","displaysUpdate","menuName","includes","searchBox","searchBoxInputValue","doSearchText","searchBoxButton","Keyboard","dismiss","renderMenu","renderFolder","pagingEnabled","showsHorizontalScrollIndicator","handlePressScan","doPressFolder","doPressMenu","listPrice","toFixed","serveLimit","serveCount","OverlayAutoLogout","timer","countdown","initialTimer","setInterval","clearInterval","handleUpdateFromAutoLogout","OverlayDeposit","homeDelivery","vipPhone","dlyDate","dpostalcode","daddress1","daddress2","type","address","handleUpdateFromDeposit","tabContainer","doPressDelivery","vipInputsContainer","vipInputsRow","vipInput","textContentType","keyboardType","doChangePostal","onFocus","doSubmit","tabText","tabFocusText","OverlayScanBarcode","handleSubmit","scanTextInput","focus","handleUpdateFromScanBarcode","searchBoxWrapper","overlaySearchBox","overlaySearchBoxInput","ref","autoFocus","overlaySearchBoxButton","searchBoxInfo","searchBoxInfoText","OverlayRequestAccess","handleUpdateFromRequestAccess","requestedPrivilege","OverlayChangePrice","privileges","discounts","selectedTableItem","availableDiscounts","overlaySearchText","discountSelected","selectedDiscount","validatePass","overlayRequestAccessVisible","handleOverlaySearchText","handleValidate","priId","setId","setString","userName","loading","superUserId","adminFlg","handleUpdateFromChangePrice","availableDiscountsUpdate","discId","discName","paddingBottom","selectText","selectWrapper","overlayGrid","dummy","hidden","overlayGridFirst","overlayGridFirstLeft","overlayGridFirstLeftText","overlayGridFirstRight","overlayGridFirstRightText","overlayGridSecond","overlayGridSecondText","overlayGridThird","overlayGridThirdLeft","overlayGridThirdRight","overlayGridThirdRightText","overlayBackButton","OverlayLineDiscount","remarks","itemWithRemarks","handleUpdateFromLineDiscount","OverlayHeaderDiscount","handleUpdateFromHeaderDiscount","OverlayMergeTable","availableTables","mergeTables","handleSelectTable","availableTablesUpdate","mergeTablesUpdate","selectionContainer","modalAvailableMod","modalAvailableModText","handleUpdateFromMergeTable","marginRight","OverlaySplitTable","tableItems","availableTableItems","refRecKey","selectedTableItems","handleSelectTableItem","availableTableItemsUpdate","selectedTableItemsUpdate","lineNo","handleUpdateFromSplitTable","OverlayChangeTable","handleUpdateFromChangeTable","OverlayReviseItem","handleUpdateFromReviseItem","confirmFlg","menuType","discFlg","OverlayTableActions","handleUpdateFromTableActions","OverlayAdditionalFunctions","handleUpdateFromAdditionalFunctions","OverlayChoosePrinter","printers","cashierPrinters","availablePrinters","availablePrintersUpdate","iomodelId","printPurpose","handleUpdateFromChoosePrinter","input","title","subtitle","handleUpdateFromAlert","handleText","cancel","Tab","createBottomTabNavigator","Main","screen","handleUpdateFromVoid","handleUpdateFromTable","doChooseDefaultPrinter","overlayChoosePrinterVisible","homeUpdate","defaultPrinter","opentable","doClearTable","doToggleScreen","opentableItems","action","doCreateTable","modmas","mustFlg","globalFlg","mods","modId","selectedMenu","opentableRecKey","restmenuRecKey","restmenuMod","serviceFlg","orderQty","orderType","camera","overlayScanBarcodeVisible","d","fireFlg","overlayReviseItemVisible","dayclosePayments","overlayAlertInputValue","overlayAlertVisible","printer","refTableId","pospays","opentablePospays","newStatus","tableStatus","vipId","phone","reservationTime","sourceId","opentableItemRecKey","newLineBreak","lineBreak","overlayDepositVisible","sendFlg","printOrder","printOrderFlg","purpose","selectedPrinter","doSendOrder","doPrintBill","doStartPayment","doOpenDrawer","doStartDayclose","doDeleteTableItem","doEditTableItem","overlayAdditionalFunctionsVisible","goBack","Date","overlayTableActionsVisible","overlayHeaderDiscountVisible","doChangeTableStatus","overlayMergeTableVisible","overlaySplitTableVisible","overlayChangeTableVisible","doRevertTableItem","overlayChangePriceVisible","overlayLineDiscountVisible","doUpdateLineBreak","doDuplicateTableItem","disc","discNum","price","itemPayloads","mergedTableId","join","items","table","tableIdTo","doTransTypeSales","doTransTypeDeposit","deliveryFlg","postalCode","addr1","addr2","addr3","addr4","barcode","tableInfo","overlayAutoLogoutVisible","footerText","locName","marginLeft","tableUpperBand","doTranslateTableStatus","doPressSend","FontAwesome","Fontisto","borderLeftWidth","borderLeftColor","borderRightColor","paddingRight","scrollViewRef","onContentSizeChange","scrollToEnd","doTranslateTableItemColor","doPressItem","menuMod","lineTotal","Navigator","screenOptions","headerShown","animation","gestureEnabled","tabBarStyle","display","Screen","Preference","doReset","preferenceUpdate","container","leftContainer","navigateContainer","navigateWrapper","displayContainer","displayWrapper","gap","gridContainer","grid","doTcolsize","gridFirst","gridFirstLeftText","gridFirstRightText","gridSecond","gridSecondText","gridThird","gridThirdRightText","rightContainer","paddingLeft","doMcolsize","doMquick","doPressReset","searchBoxInfoLeft","searchBoxInfoRight","gridFirstLeft","gridFirstRight","gridThirdLeft","gridThirdRight","paddingTop","selection","selectionText","tableItemText","tableItemModText","tableItemContainer","tableItemFirstContainer","borderRightWidth","tableItemSecondContainer","tableItemThirdContainer","tableItemFourthContainer","titleFirstContainer","titleSecondContainer","titleThirdContainer","titleFourthContainer","titleText","OverlaySplitItems","receipts","docId","percentage","handleFillPercentagesEvenly","handleSetPercentageForReceipt","handleSetFullPercentageForReceipt","numberString","number","receiptsUpdate","findIndex","aggregate","init","handleUpdateFromSplitItems","overlayScroll","inputRow","inputRowLeft","inputRowTitleText","inputRowSubtitleText","inputRowRight","selectTextOnFocus","percentageText","Dimensions","overlayNumber","Split","availableReceipts","receiptItems","overlaySplitItemsVisible","handleSplitSelectedTableItems","handleUndoAll","handleSelectAllUnsplitTableItems","handleDeselectAllUnsplitTableItems","comboItems","distribution","handleUpdateFromSplit","wrapper","itemsContainer","actionButton","splitScroll","snapToInterval","wrapperWidth","decelerationRate","OverlayInputReference","handleUpdateFromInputReference","OverlayMergeBill","selectedTargetTable","filteredResponse","handleUpdateFromMergeBill","OverlaySplitBill","handleQtyChange","prevState","isNaN","adjustContainer","adjustFirst","adjustSecond","handleNumberChange","adjustThird","handleUpdateFromSplitBill","keyHeight","OverlaySplitAmount","amount","warning","handleFillRemainder","handleSetAmountForReceipt","handleUpdateFromSplitAmount","equal","doFillEvenly","OverlayUpdateTips","paymentMethods","availablePaymentMethods","selectedPaymentMethod","availablePaymentMethodsUpdate","pmId","handleUpdateFromUpdateTips","OverlayViewSplitted","handleUpdateFromViewSplitted","PaynowQR","opts","defineProperty","generate","qrstring","s","n","str","String","i","crcTable","crc","c","charCodeAt","RangeError","key","trim","p","id","uen","editable","expiry","company","otherdata","refNumber","final","current","f","padLeft","crc16","qrcode","reference","orgName","qrcodeString","output","logo","Paynow","logoSize","handleUpdateFromPaynow","Pos","payments","selectedPaymentItem","pay","balance","overlayPaynowVisible","overlayInputReferenceVisible","overlayMergeBillVisible","overlaySplitBillVisible","overlaySplitAmountVisible","overlayUpdateTipsVisible","overlayViewSplittedVisible","splitting","splitReceipts","handleBuildNumberString","handleSelectPaymentMethod","handleRounding","handleEnterButton","handleFinishButton","handleAddPayment","handleDeletePayment","handleFinishPayment","handleUnsplitBill","handlePressPaymentItem","handlePressPaymentItemRef","handlePressMerge","handlePressUnmerge","handlePressTips","handlePressSplit","handlePressUnsplit","handleViewSplitted","handleOpenDrawer","handleValidateAmount","newNumberString","slice","maxLength","indexOf","refType","numberStringUpdate","vipPtsMoney","floor","numberStringVal","isInteger","payMoney","opentablePospayRecKey","payAmt","roundAmt","handleAfterAddPayment","overlayPaynowInput","docNo","roundingFlg","roundType","ceil","round","splitCount","receiptmases","splittedReceipts","receiptRecKey","itemPercentages","itemRecKey","splittedReceiptsByamt","amt","tableIdGuest","tips","leftFirstContainer","rowOf5","headerKeyContainer","headerKeyTextTableId","headerKeyText","splitFlg","hostFlg","leftSecondContainer","tableSummaryContainer","tableSummaryTitleContainer","tableSummaryTitle","tableSummaryTitleText","tipsPmId","tableSummaryValueContainer","tableSummaryValue","tableSummaryValueText","beforeDisc","totalDisc","serviceCharge","totalTax","tender","change","maxHeight","paymentsContainer","paymentsFirst","paymentsTitleText","paymentsSecond","paymentsThird","paymentsFourth","posScrollView","contentWidth","contentHeight","animated","datumContainer","datumFirst","datumText","datumSecond","datumThird","payRef","datumFourth","rightFirstContainer","extraData","activeFunctionKeyContainer","functionKeyContainer","activeFunctionKeyText","functionKeyText","rightFirstNumberContainer","rightFirstNumberText","rightSecondContainer","rightSecondLeftContainer","clearContainer","keyText","rightSecondMiddleContainer","keyContainer","keyNumberText","rightSecondRightContainer","backspaceContainer","enterContainer","finishContainer","borderColor","borderWidth","dataContainer","Adhoc","selectedAdhocItem","adhocItems","availableMenus","menu","handleSelectAdhoc","handlePressSettleAsMenu","handlePressSettleAsRetail","handleSearchText","adhocRecKey","availableMenusUpdate","createDate","rightWrapper","Dayclose","handleFinishDayclose","daycloseRecKey","masRecKey","containerFirst","containerSecond","summary","summaryText","summaryTotalText","systemAmt","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","containerThird","Printer","handlePingAll","printersUpdate0","printersUpdate","msgId","handlePingPrinter","handleTestAll","printPort","handlePressPingAll","handlePressTestAll","OverlayEnterDate","dateString","valid","isValid","dateStringUpdate","add","subtract","inputRowFirst","inputRowSecond","inputRowThird","handleUpdateFromEnterDate","dateType","Report","selectedButton","fromDateString","toDateString","reportDetails","overlayEnterDateVisible","handlePressDate","handleSelectReport","handlePrintReport","selectedDateType","selectedDateString","report","reportCode","fromDateStringUpdate","toDateStringUpdate","reportContainer","reportLineContainer","reportLineFirst","reportLineFirstText","description","reportLineSecond","reportLineSecondText","qty","reportLineThird","reportLineThirdText","val","borderTopLeftRadius","borderTopRightRadius","Reprint","availableMasters","searches","selectedMaster","details","receiptsxText","pays","handlePressSearch","handleSelectButton","handleSelectMaster","handleReprint","receiptmas","receiptpaydtl","receiptitems","receiptpays","availableMastersUpdate","c1","c2","createUserId","alwaysBounceVertical","netPrice","Resequence","arrangedItems","handleReset","handleAddLineBreak","handleRemoveLineBreak","handleResequence","handleShiftTop","handleShiftUp","handleShiftDown","handleShiftBottom","arrangedItemsUpdate","unshift","scrollToOffset","offset","spliceIndex","splice","skip","newLineNo","lineBreakContainer","Transfer","handleSelectTargetTable","handlePressSelectAll","converted","opentableRecKeyFrom","opentableRecKeyTo","opentableItemRecKeys","generateTextForSelectAll","OverlayVoidReceipt","returns","availableReturns","selectedReturn","availableReturnsUpdate","returnId","handleUpdateFromVoidReceipt","Void","overlayVoidReceiptVisible","reopenResponse","handleVoid","handlePressVoid","handlePressReopen","docDateString","Collect","handlePressCollect","Table","vipSources","availableVipSources","overlayPax","capacity","overlayVip","vipDisc","cumPts","classId","overlayValidateVipId","overlayValidateCardNumber","overlayValidateNric","overlayValidateVipName","overlayValidateVipPhone","overlayValidateVipPhoneCountryCode","overlayValidateEmailAddress","vipResults","selectedVipResult","overlaySource","overlaySourceSearch","overlayDeliveryFlg","overlayPostalCode","overlayAddr1","overlayAddr2","overlayAddr3","daddress3","overlayAddr4","daddress4","activePage","handlePressTab","handleSearchVip","handleEnterVip","handleClearVip","handlePressNext","handlePressPrev","handleAddressChange","handleCheckDeliveryFlg","cardNumber","nric","emailAddress","vipPhoneCountryCode","customerNumber","mobileNumber","emailaddress","customerSource","pts","money","cardNo","birthday","availableVipSourcesUpdate","overlayPageWidth","tabsContainer","overlayPage","handlePaxChange","hasActiveMembership","overlayGridThirdLeftText","detailWrapper","detailTitle","detailText","overlayOptionsContainer","overlayOptionContainer","overlaySearchBoxButtonText","overlaySearchVipButton","Menu","qtyInput","modInput","modRecKeys","qtyInputUpdate","modInputUpdate","replace","selectedModBundle","modRecKeysUpdate","modType","moditems","contentContainerStyle","flexGrow","modButton","doPressMod","modText","multiline","blurOnSubmit","menuQtyRow","menuQtyRowFirst","doChangeQty","menuQtyRowSecond","qtyTextInput","doValidateQty","menuQtyRowThird","modifierTextInput","modContainer","doPressModBundle","doToggleOrderType","doToggleLineBreak","Scan","hasCameraPermission","detected","handleBarCodeScanned","BarCodeScanner","requestPermissionsAsync","status","onBarCodeScanned","backButton","iconContainer","windowWidth","windowHeight","Trace","maps","thisTable","thisUser","doReload","traceRef","onEndReachedThreshold","onEndReached","doLoad","alwaysBounceHorizontal","traceText","doToggleUser","doToggleTable","Activate","updateds","overlayRequestPrivilegeVisible","handleSelectMenu","handleSelectUpdated","handlePressDisplayMode","handleUpdateMenu","updatedsUpdate","restmenuRecKeys","newStatusFlg","kotType","Limit","doLimitMenu","doSelectMenu","inputContainer","inputRowLeftText","doToggleStatus","inputRowRightText","Fire","kitchenmsgs","kottypes","remark","selectedKottypes","selectedKitchenmsg","kotTypes","selectedKottypesUpdate","navigateButton","navigateButtonText","doPressKitchenmsg","doPressTableItem","kotName","ListHeaderComponent","doPressAllKottype","doPressKottype","doPressFire","Combo","comboGroups","refMenuId","selectedComboItems","selectedComboItem","doPrepareComboItems","comboItemsUpdate","selectedComboItemsUpdate","combogroupRecKey","groupNo","comboitemRecKey","doComboItemModInput","groupName","renderComboItem","doPressComboItem","addonPrice","Stack","createNativeStackNavigator","App","locales","require","Font","getPermissionsAsync","resolve","NavigationContainer","StatusBar","component","navigationOptions","presentation","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code"],"mappings":"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","file":"static/js/app.8dcf35f0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-small-light.2b420db1.png\";","module.exports = __webpack_public_path__ + \"static/media/paynow.c9b5960d.png\";","import React, { useContext } from 'react'\nimport * as RN from 'react-native';\n// import ThemeContext from '../ThemeContext';\n\n// text wrapper for custom style text component\nexport function Text({ style, children, ...rest }) {\n\n  // const themeContext = useContext(ThemeContext);\n\n  let styleObject = style;\n  // convert array to object\n  if (Array.isArray(style)) {\n    styleObject = {};\n    style.forEach(el => {\n      styleObject = Object.assign(styleObject, el);\n    })\n  }\n\n  return (\n    // override font size\n    <RN.Text style={{ ...styleObject, fontSize: (styleObject?.fontSize || 14), fontFamily: (styleObject?.fontFamily || 'varela-round') }} {...rest}>\n      {children}\n    </RN.Text>\n  );\n};\n\nexport function debug(serviceEntry, msg1, msg2, msg3, msg4, msg5, msg6) {\n  fetch(serviceEntry + 'api/debug/', {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n    body: JSON.stringify({\n      msg1, // action\n      msg2, // user name\n      msg3, // error\n      msg4, // target id (table)\n      msg5, // detail name (tableItem)\n      msg6, // additional info (other)\n    }),\n  })\n}","import { Platform } from 'react-native';\r\n\r\nconst theme = {\r\n  vacant: '#30BEAE', // hsl(173, 60%, 47%)\r\n  reserved: '#FFB86F', // hsl(30, 100%, 72%)\r\n  occupied: '#2A79A8', //\thsl(202, 60%, 41%)\r\n  paid: '#E84855', // hsl(355, 78%, 60%)\r\n  unavailable: '#424549',\r\n  adhoc: '#7a4988', // hsl(287, 30%, 41%)\r\n  deposit: '#d65c91', // hsl(334, 60%, 60%)\r\n  grey1: '#23272A',\r\n  grey2: '#2C2F33',\r\n  grey3: '#36393E',\r\n  grey4: '#424549',\r\n  grey5: '#99aab5',\r\n\r\n  grey7: '#E3E5E8',\r\n  grey8: '#EBEDEF',\r\n  grey9: '#F2F3F5',\r\n\r\n  size: Platform.OS === 'web' ? 5 : 4,\r\n\r\n  black8: '#000000aa', // cc is 0.8, aa is not\r\n  white8: '#ffffffcc',\r\n}\r\n\r\nexport default theme;","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayproceduremessage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>WARNING</Text>\r\n            <Text style={[styles.overlaySubtitleText, { color: theme.paid }]}>Procedure Message</Text>\r\n            <Text style={styles.overlayText}>{this.props.text.toUpperCase()}</Text>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromProcedureMessage('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 3,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Feather, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayLanguage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlaylanguage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Language 语言 ランゲージ</Text>\r\n            {/* <Text style={styles.overlayText}>Select a message for the chef</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('en')}>\r\n              <Text style={{ marginTop: 5, color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>Aa</Text>\r\n              <Text style={[styles.buttonText,]}>ENGLISH</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zhs')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>简体</Text>\r\n              <Text style={[styles.buttonText,]}>简体中文</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zht')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>繁體</Text>\r\n              <Text style={styles.buttonText}>繁體中文</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('ja')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>日本語</Text>\r\n              <Text style={styles.buttonText}>日本語</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromLanguage('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, Platform } from 'react-native';\r\nimport * as Linking from 'expo-linking';\r\nimport Constants from 'expo-constants';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text, debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport Logo from '../assets/logo-small-light.png';\r\nimport moment from 'moment';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayLanguage from './OverlayLanguage';\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      beacon: 'http://203.208.248.200:8080/epb-beacon-web/beacon/Epbmas/register',\r\n      savedEntries: [],\r\n      preference: null,\r\n      language: '-',\r\n      serviceEntry: '',\r\n      // mode: 'LOGIN', // LOGIN, BEACON, URL\r\n      accessCode: '',\r\n      password: '',\r\n      userId: '',\r\n      epbId: '',\r\n      ipPort: '',\r\n      home: null,\r\n\r\n      dev: false,\r\n    };\r\n\r\n    this.handleUpdateFromLanguage = this.handleUpdateFromLanguage.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { navigation } = this.props;\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const language = await AsyncStorage.getItem('language');\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n    } else {\r\n      preference = {\r\n        tcolsize: Platform.OS === 'web' ? 5 : 4,\r\n        mcolsize: Platform.OS === 'web' ? 3 : 2,\r\n        mquick: 'Y',\r\n      };\r\n      AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n    }\r\n\r\n    console.log('mounting service', serviceEntry)\r\n    let savedEntries = await AsyncStorage.getItem('savedEntries');\r\n    if (savedEntries) {\r\n      savedEntries = JSON.parse(savedEntries);\r\n    } else {\r\n      savedEntries = [];\r\n    }\r\n    this.setState({\r\n      preference,\r\n      serviceEntry,\r\n      language: language || 'en',\r\n      savedEntries,\r\n      mode: serviceEntry ? 'LOGIN' : 'BEACON',\r\n    })\r\n    // dev only\r\n    if (this.state.dev) {\r\n      this.setState({\r\n        accessCode: 'qwe'\r\n      }, () => this.doSubmitAccessCode())\r\n    }\r\n  }\r\n\r\n  async didFocus() {\r\n    const { route } = this.props;\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    if (preference) {\r\n      this.setState({ preference: JSON.parse(preference) })\r\n    }\r\n    if (route.params?.sync && (moment(route.params.sync).diff(moment(), 'seconds') > -1)) {\r\n      this.doSubmitAccessCode();\r\n    } else {\r\n      if (!this.state.dev) {\r\n        this.setState({\r\n          accessCode: ''\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  handleUpdateFromLanguage(item) {\r\n    this.setState({\r\n      overlayLanguageVisible: false,\r\n    })\r\n    if (!item) {\r\n      return;\r\n    }\r\n    intl.options.currentLocale = item;\r\n    AsyncStorage.setItem('language', item);\r\n    this.setState({\r\n      language: item,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressMode() {\r\n    const { mode } = this.state;\r\n    if (mode === 'LOGIN') {\r\n      this.setState({ mode: 'BEACON' })\r\n    } else if (mode === 'BEACON') {\r\n      this.setState({ mode: 'URL' })\r\n    } else {\r\n      this.setState({ mode: 'BEACON' })\r\n    }\r\n  }\r\n\r\n  doPressDownload() {\r\n    Alert.alert(\r\n      `Download latest bistro app?`,\r\n      '',\r\n      [\r\n        {\r\n          text: 'Cancel',\r\n        },\r\n        {\r\n          text: 'Ok',\r\n          onPress: () => this.doDownload()\r\n        },\r\n      ],\r\n    );\r\n  }\r\n\r\n  doDownload() {\r\n    if (Platform.OS === 'ios') {\r\n      Linking.openURL(`itms-apps://itunes.apple.com/app/id6443468946`);\r\n    }\r\n  }\r\n\r\n  doSubmitSavedEntry(item) {\r\n    if (item.epbId) {\r\n      this.setState({\r\n        epbId: item.epbId\r\n      }, () => this.doSubmitEpbId())\r\n    } else {\r\n      this.doSubmitIpPort(item.restServiceUrl);\r\n    }\r\n  }\r\n\r\n  doSubmitEpbId() {\r\n    const { epbId, beacon } = this.state;\r\n    // local register\r\n    if (epbId === 'fnb') {\r\n      const localResponse = {\r\n        restServiceUrl: 'https://www.epbrowser.com:8090/fnb-ws/',\r\n        name: 'Studio',\r\n        epbId: 'fnb',\r\n      }\r\n      this.doAddSaveEntry(localResponse);\r\n      this.setState({\r\n        serviceEntry: localResponse.restServiceUrl,\r\n        mode: 'LOGIN',\r\n      });\r\n      return AsyncStorage.setItem('serviceEntry', localResponse.restServiceUrl);\r\n    }\r\n    let url = beacon;\r\n    const params = new URLSearchParams();\r\n    params.append('epbId', epbId);\r\n    params.append('deviceId', 'X');\r\n    url += ('?' + params);\r\n    this.setState({ epbId: '' });\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n    })\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw response;\r\n        } else {\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(response => {\r\n        console.log('response', response);\r\n        this.doAddSaveEntry(response);\r\n        this.setState({\r\n          serviceEntry: response.restServiceUrl,\r\n          mode: 'LOGIN',\r\n        });\r\n        return AsyncStorage.setItem('serviceEntry', response.restServiceUrl);\r\n      })\r\n      .catch(error => {\r\n        console.log('error', error);\r\n        this.setState({\r\n          overlayProcedureMessageVisible: 'INVALID EPB ID',\r\n        })\r\n      });\r\n  }\r\n\r\n  doSubmitIpPort(preconstructed) {\r\n    const { ipPort } = this.state;\r\n    let serviceEntryUpdate;\r\n    if (preconstructed) {\r\n      serviceEntryUpdate = preconstructed;\r\n    } else {\r\n      serviceEntryUpdate = 'http://' + ipPort + '/';\r\n    }\r\n    this.doAddSaveEntry({ restServiceUrl: serviceEntryUpdate });\r\n    AsyncStorage.setItem('serviceEntry', serviceEntryUpdate);\r\n    this.setState({\r\n      serviceEntry: serviceEntryUpdate,\r\n      mode: 'LOGIN',\r\n    });\r\n  }\r\n\r\n  doSubmitPassword() {\r\n    const { serviceEntry, userId, password } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      userId: userId,\r\n      password: password,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  doSubmitAccessCode() {\r\n    const { serviceEntry, accessCode } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      accessCode: accessCode,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  async doLogIn(link, body) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry } = this.state;\r\n\r\n    fetch(link, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post login', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          throw response;\r\n        }\r\n        this.setState({\r\n          home: response,\r\n        });\r\n        return Promise.all([\r\n          AsyncStorage.setItem('home', JSON.stringify(response)),\r\n          response,\r\n        ]);\r\n      })\r\n      .then(([response, home]) => {// do parallel chain\r\n\r\n        let promiseArray = [];\r\n\r\n        let url = serviceEntry + 'api/sections';\r\n        let params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        let promiseObject = { url: url, nameString: 'sections' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/tablemas';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'tablemas' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/foldergrps';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'foldergrps' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/folders';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'folders' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/menus';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'menus' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mods';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'mods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mod-bundles';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'modBundles' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-items';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboItems' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-groups';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboGroups' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/payment-methods';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'paymentMethods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/vip-sources';\r\n        promiseObject = { url: url, nameString: 'vipSources' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/discounts';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'discounts' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/returns';\r\n        promiseObject = { url: url, nameString: 'returns' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/settings';\r\n        params = new URLSearchParams();\r\n        params.append('appCode', 'RESTMENU');\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'settings' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/privileges';\r\n        params = new URLSearchParams();\r\n        params.append('userId', home.userId);\r\n        params.append('locId', home.locId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'privileges' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/cashier-printers';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'cashierPrinters' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kottype';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kottypes' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kitchenmsgs';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kitchenmsgs' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        return Promise.all([\r\n          ...promiseArray.map(el =>\r\n            fetch(el.url)\r\n              .then(response => response.json())\r\n              .then(response => {\r\n                console.log('fetching', el.nameString, response);\r\n                return ({ [el.nameString]: response });\r\n              })\r\n          )\r\n        ]);\r\n      })\r\n      .then(response => {\r\n        const masters = response.reduce((o, item) => ({ ...o, [Object.keys(item)[0]]: Object.values(item)[0] }), {});\r\n        console.log('masters', masters);\r\n        navigation.navigate('Main', { masters, home: this.state.home, serviceEntry: this.state.serviceEntry, preference: this.state.preference })\r\n      })\r\n      .catch(error => {\r\n        console.log('error', error);\r\n        this.setState({\r\n          accessCode: '',\r\n        })\r\n      });\r\n  }\r\n\r\n  async doAddSaveEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    if (savedEntriesUpdate.length < 3 && !savedEntriesUpdate.some(el => el.restServiceUrl === item.restServiceUrl)) {\r\n      savedEntriesUpdate.push(item);\r\n      this.setState({\r\n        savedEntries: savedEntriesUpdate,\r\n      })\r\n      await AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n    }\r\n  }\r\n\r\n  doRemoveSavedEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    savedEntriesUpdate = savedEntriesUpdate.filter(el => el.restServiceUrl !== item.restServiceUrl)\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { savedEntries, serviceEntry, language, mode, epbId, ipPort, userId, password, accessCode,\r\n      overlayProcedureMessageVisible, overlayLanguageVisible } = this.state;\r\n    // console.log('savedEntries', savedEntries, 'service', serviceEntry, 'language', language);\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayLanguageVisible &&\r\n          <OverlayLanguage\r\n            handleUpdateFromLanguage={this.handleUpdateFromLanguage} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ flex: 1, backgroundColor: 'white', }}>\r\n          <View style={{ flex: 2, }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View>\r\n                <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.paid }}\r\n                  onPress={() => this.doPressMode()}>\r\n                  {\r\n                    mode === 'URL' ?\r\n                      <AntDesign name='wifi' size={24} color={theme.grey1} style={{ height: 24, width: 24 }} />\r\n                      :\r\n                      <Ionicons name='ios-globe' size={24} color={theme.grey1} style={{ height: 24, width: 24, marginTop: -2 }} />\r\n                  }\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ marginHorizontal: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.reserved }}\r\n                  onPress={() => navigation.navigate('Preference')}>\r\n                  <MaterialIcons name=\"miscellaneous-services\" size={24} color={theme.grey1} />\r\n                </TouchableOpacity>\r\n                {\r\n                  Platform.OS === 'ios' &&\r\n                  <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.occupied }}\r\n                    onPress={() => this.doPressDownload()}>\r\n                    <AntDesign name=\"clouddownload\" size={24} color={theme.grey1} />\r\n                  </TouchableOpacity>\r\n                }\r\n              </View>\r\n              <View style={{ margin: 20, }}>\r\n                {\r\n                  savedEntries.map((item, index) =>\r\n                    <View key={index}\r\n                      style={{ marginBottom: 20, minHeight: 40, }}>\r\n                      <TouchableOpacity style={{ alignItems: 'flex-end', }}\r\n                        onPress={() => this.doSubmitSavedEntry(item)}>\r\n                        <Text style={{ color: item.restServiceUrl === serviceEntry ? theme.paid : 'black' }}>{item.name || 'Entry'}</Text>\r\n                        <Text style={{ color: item.restServiceUrl === serviceEntry ? theme.occupied : 'black', fontSize: 10 }}>{item.restServiceUrl}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity\r\n                        style={{ alignItems: 'flex-end', marginTop: 5 }}\r\n                        onPress={() => this.doRemoveSavedEntry(item)}>\r\n                        <Text style={{ fontSize: 10, color: theme.grey7, textTransform: 'uppercase' }}>{intl.get('remove')}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  )\r\n                }\r\n              </View>\r\n            </View>\r\n            <View style={{ margin: 20, alignItems: 'flex-end', justifyContent: 'flex-end', }}>\r\n              <Text style={{ fontSize: 10, marginBottom: 5 }} numberOfLines={1}>{serviceEntry}</Text>\r\n              <Text style={{ fontSize: 18 }}>AN EXTENSION OF THE EPB SYSTEM</Text>\r\n              <Text style={{ fontSize: 18 }}>VERSION {Constants.manifest.version?.split('.')[0]}</Text>\r\n            </View>\r\n          </View>\r\n          <Image\r\n            style={{ flex: 1, width: '100%', }}\r\n            source={Logo}\r\n            resizeMode='contain'\r\n          />\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: theme.grey1, justifyContent: 'center', alignItems: 'center' }}>\r\n          <TouchableOpacity style={{ position: 'absolute', right: 20, top: 20, minHeight: 40, alignItems: 'flex-end' }}\r\n            onPress={() => this.setState({ overlayLanguageVisible: true })}>\r\n            <Text style={{ color: 'white', textTransform: 'uppercase' }}>{language === 'ja' ? '日本語' : language === 'zhs' ? '简体中文' : language === 'zht' ? '繁體中文' : 'EN'}</Text>\r\n            <Text style={{ color: 'white', fontSize: 10 }}>LANGUAGE 语言 ランゲージ</Text>\r\n          </TouchableOpacity>\r\n          {\r\n            mode === 'LOGIN' ?\r\n              <TextInput style={styles.textInput}\r\n                placeholder={intl.get('accesscode')}\r\n                placeholderTextColor='white'\r\n                placeholderStyle={{ textTransform: 'uppercase' }}\r\n                onChangeText={text => this.setState({ accessCode: text })}\r\n                value={accessCode}\r\n                secureTextEntry\r\n                autoComplete='off'\r\n                autoCorrect={false}\r\n                onSubmitEditing={() => this.doSubmitAccessCode()}\r\n              />\r\n              : mode === 'BEACON' ?\r\n                <TextInput style={styles.textInput}\r\n                  placeholder='EPB ID'\r\n                  placeholderTextColor='white'\r\n                  secureTextEntry={false}\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ epbId: text })}\r\n                  value={epbId}\r\n                  onSubmitEditing={() => this.doSubmitEpbId()}\r\n                />\r\n                :\r\n                <TextInput style={styles.textInput}\r\n                  placeholder='IP:PORT'\r\n                  placeholderTextColor='white'\r\n                  secureTextEntry={false}\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ ipPort: text })}\r\n                  value={ipPort}\r\n                  onSubmitEditing={() => this.doSubmitIpPort()}\r\n                />\r\n          }\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  textInput: {\r\n    color: 'white',\r\n    height: 60,\r\n    borderRadius: 30,\r\n    width: '90%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 200,\r\n    textAlign: 'center',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n  }\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, MaterialCommunityIcons, Feather, Ionicons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, Text, TextInput, Alert, FlatList, ScrollView, Platform } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport moment from 'moment';\r\n\r\nexport default class MainTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      preference: props.preference,\r\n      settings: props.masters.settings,\r\n      sections: props.masters.sections || [],\r\n      tablemas: props.masters.tablemas,\r\n      tables: [],\r\n      floorWidth: null,\r\n\r\n      selectedSection: null,\r\n      focused: null,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.doRefresh(true);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.refresh && prevProps.refresh !== this.props.refresh) {\r\n      console.log('componentDidUpdate', prevProps.refresh, this.props.refresh)\r\n      this.setState({\r\n        focused: null,\r\n      })\r\n      this.doRefresh();\r\n    }\r\n  }\r\n\r\n  async doRefresh(initial) {\r\n    const { sections, selectedSection } = this.state;\r\n    if (initial) {\r\n      if (sections.length > 0) {\r\n        await this.doPressFloor();\r\n      } else {\r\n        await this.doPressSection({ sectionId: 'SYS' });\r\n      }\r\n    } else {\r\n      if (selectedSection?.sectionId === 'FLOOR') {\r\n        await this.doPressFloor();\r\n      } else if (selectedSection) {\r\n        await this.doPressSection(selectedSection);\r\n      } else {\r\n        this.doRefresh(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  async doPressFloor() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('tableFlg', 'Y');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: 'FLOOR' },\r\n        });\r\n      })\r\n  }\r\n\r\n  async doPressSection(item) {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n\r\n    if (item?.sectionId === 'OCCUPIED') {\r\n      params.append('statusFlg', 'C');\r\n      params.append('tableFlg', 'Y');\r\n    } else if (item?.sectionId === 'RESERVED') {\r\n      params.append('statusFlg', 'B');\r\n    } else if (item?.sectionId === 'SYS') {\r\n      params.append('sectionId', item.sectionId)\r\n      params.append('statusFlg', 'C');\r\n    } else {\r\n      params.append('sectionId', item.sectionId)\r\n    }\r\n\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: item.sectionId },\r\n        });\r\n      })\r\n  }\r\n\r\n  doPressTable(item) {\r\n    const { focused, selectedSection } = this.state;\r\n    if (focused?.tableId === item.tableId) {\r\n      this.setState({\r\n        focused: null\r\n      })\r\n      this.doPressFocusedTable(item);\r\n      return;\r\n    }\r\n    if (item.sectionId !== 'SYS') {\r\n      this.doPressSection(selectedSection);\r\n      this.setState({\r\n        focused: item,\r\n      })\r\n    }\r\n    this.props.handlePressTable(item);\r\n  }\r\n\r\n  doPressFloorTable(item) {\r\n    const { tables, focused } = this.state;\r\n    if (focused?.tableId === item.tableId) {\r\n      this.setState({\r\n        focused: null\r\n      })\r\n      this.doPressFocusedTable(tables.find(el => el.tableId === item.tableId));\r\n      return;\r\n    }\r\n    this.doPressFloor()\r\n    this.setState({\r\n      focused: item\r\n    })\r\n    this.props.handlePressTable(tables.find(el => el.tableId === item.tableId));\r\n  }\r\n\r\n  doPressFocusedTable(item) {\r\n    if (item.statusFlg === 'A') {\r\n      this.props.handleActionTable(item, 'OPEN')\r\n    } else if (item.statusFlg === 'C') {\r\n      this.props.handleActionTable(item, 'EDIT')\r\n    }\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateFloorTableColor(item) {\r\n    const { tables } = this.state;\r\n    return this.doTranslateTableColor(tables.find(el => el.tableId === item.tableId))\r\n  }\r\n\r\n  doLayout(e) {\r\n    this.setState({\r\n      floorWidth: e.nativeEvent.layout.width / 16,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { preference, sections, settings, tables, selectedSection } = this.state;\r\n    // console.log(tables && tables[0])\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n          {\r\n            selectedSection?.sectionId === 'FLOOR' ?\r\n              this.renderFloor()\r\n              :\r\n              <FlatList\r\n                style={{ flex: 1, padding: 3 }}\r\n                showsVerticalScrollIndicator={false}\r\n                numColumns={preference.tcolsize}\r\n                horizontal={false}\r\n                data={selectedSection?.sectionId === 'SYS' ? [{ recKey: -999 }, ...tables] : tables}\r\n                keyExtractor={(item, index) => item.recKey.toString()}\r\n                renderItem={({ item, index }) => this.renderTable(item, index)}\r\n                initialNumToRender={25}\r\n              />\r\n          }\r\n        </View>\r\n        <View style={{ margin: 5, width: 120, }}>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 80, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressFloor()}>\r\n            <MaterialCommunityIcons name=\"mapbox\" size={30} color=\"white\" style={{ height: 28 }} />\r\n            <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('floorplan')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'SYS' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text>\r\n            {/* <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text> */}\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.reserved, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'RESERVED' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('B')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity\r\n            style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.occupied, borderRadius: 5, marginVertical: 5 }}\r\n            onPress={() => this.doPressSection({ sectionId: 'OCCUPIED' })}>\r\n            <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{intl.get('C')}</Text>\r\n          </TouchableOpacity>\r\n          {\r\n            sections &&\r\n            <ScrollView style={{ flex: 1, }}\r\n              showsVerticalScrollIndicator={false}>\r\n              {\r\n                sections.map((item, index) => (\r\n                  <TouchableOpacity key={index}\r\n                    style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: selectedSection?.sectionId === item.sectionId ? 'white' : theme.grey1, borderRadius: 5, marginVertical: 5 }}\r\n                    onPress={() => this.doPressSection(item)}>\r\n                    <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: selectedSection?.sectionId === item.sectionId ? 'black' : 'white' }}>{item.name}</Text>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n          }\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n\r\n  renderTable(item, index) {\r\n    const { selectedSection, preference, focused } = this.state;\r\n    if (selectedSection?.sectionId === 'SYS' && index === 0) {\r\n      return (\r\n        <TouchableOpacity style={{ flex: 1 / preference.tcolsize, aspectRatio: 1, }}\r\n          onPress={() => this.props.handleActionTable(null, 'CREATE')}>\r\n          <View style={{ flex: 1, margin: 3, backgroundColor: theme.grey4, justifyContent: 'center', alignItems: 'center' }}>\r\n            <AntDesign name=\"pluscircleo\" size={36} color={theme.grey1} />\r\n          </View>\r\n        </TouchableOpacity>\r\n      )\r\n    }\r\n    return (\r\n      <TouchableOpacity style={{ flex: 1 / preference.tcolsize, aspectRatio: 1, }}\r\n        disabled={!item.tableId}\r\n        onPress={() => this.doPressTable(item)}>\r\n        <View style={{ flex: 1, margin: 3, backgroundColor: this.doTranslateTableColor(item), justifyContent: 'center', alignItems: 'center' }}>\r\n          {\r\n            item.seatTime &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', top: 5, left: 5, color: 'black', fontSize: theme.size * 4 }}>{moment(item.seatTime).format('HH:mm')}</Text>\r\n          }\r\n          {\r\n            (item.sectionId !== 'SYS' && item.pax > 0) &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', top: 5, right: 5, color: 'white', fontSize: theme.size * 4 }}>{item.pax} <Feather color='white' name='users' size={theme.size * 4} /></Text>\r\n          }\r\n          <Text style={{ fontFamily: 'varela-round', color: 'rgba(0,0,0,0.8)', fontSize: 22, letterSpacing: 1 }}>{item.tableId}</Text>\r\n          {\r\n            item.vipName &&\r\n            <Text style={[styles.tableLowerBand]}>{item.vipName}</Text>\r\n          }\r\n          {\r\n            item.grandTotal > 0 &&\r\n            <Text style={{ fontFamily: 'varela-round', position: 'absolute', bottom: 5, right: 5, color: 'black', fontSize: theme.size * 4 }}>${item.grandTotal}</Text>\r\n          }\r\n        </View>\r\n        {\r\n          focused?.tableId === item.tableId &&\r\n          <View style={{ position: 'absolute', top: 3, left: 3, right: 3, bottom: 3, backgroundColor: 'white', alignItems: 'center', justifyContent: 'center' }}>\r\n            {\r\n              (item.statusFlg === 'A' || item.statusFlg === 'C') &&\r\n              <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('press')}</Text>\r\n            }\r\n            <Text style={{ fontFamily: 'varela-round', color: 'rgba(0,0,0,0.8)', fontSize: 22, letterSpacing: 1 }}>{item.tableId}</Text>\r\n            {\r\n              item.statusFlg === 'A' ?\r\n                <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('open')}</Text>\r\n                : item.statusFlg === 'C' ?\r\n                  <Text style={{ fontFamily: 'varela-round', color: 'black', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('edit')}</Text>\r\n                  : null\r\n            }\r\n          </View>\r\n        }\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  renderFloor() {\r\n    const { home, tablemas, tables, floorWidth, focused } = this.state;\r\n    return (\r\n      <ScrollView style={{ flex: 1 }}\r\n        showsVerticalScrollIndicator={false}>\r\n        <View style={{ flex: 1, aspectRatio: 1, backgroundColor: theme.grey1, overflow: 'hidden', borderRadius: 5 }}>\r\n          <View style={{ position: 'absolute', left: 0, right: 0, top: 0, bottom: 0 }}>\r\n            <View style={{ flex: 1, justifyContent: 'space-between' }}>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ height: 6, backgroundColor: theme.grey2 }}></View>\r\n            </View>\r\n          </View>\r\n          <View style={{ position: 'absolute', left: 0, right: 0, top: 0, bottom: 0 }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n              <View style={{ width: 6, backgroundColor: theme.grey2 }}></View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 3, }} onLayout={(e) => this.doLayout(e)}>\r\n            {\r\n              floorWidth && tablemas.map(item =>\r\n                <View key={item.recKey}\r\n                  style={{ position: 'absolute', left: item.xaxis * floorWidth, top: Number(item.yaxis * floorWidth), width: item.width * floorWidth, height: Number(item.height * floorWidth) }}>\r\n                  {\r\n                    item.shape === 'B' ?\r\n                      <TouchableOpacity style={{ flex: 1, alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? floorWidth * item.height : 0 }}\r\n                        onPress={() => this.doPressFloorTable(item)}>\r\n                        <View style={{ height: Math.sqrt(0.5) * (item.width * floorWidth - 6), width: Math.sqrt(0.5) * (item.width * floorWidth - 6), backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), transform: [{ rotateZ: '45deg' }], justifyContent: 'center', alignItems: 'center' }}>\r\n                          <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20, transform: [{ rotateZ: '-45deg' }] }}>{item.tableId}</Text>\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                      :\r\n                      <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? floorWidth * item.height : 0 }}\r\n                        onPress={() => this.doPressFloorTable(item)}>\r\n                        <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20 }}>{item.tableId}</Text>\r\n                      </TouchableOpacity>\r\n                  }\r\n                  {/* {\r\n                    // top and bottom chairs\r\n                    (item.width > item.height && item.shape === 'A') &&\r\n                    <>\r\n                      <View style={{ position: 'absolute', top: -3, left: 0, right: 0, height: 6, flexDirection: 'row', }}>\r\n                        {\r\n                          [...Array(item.width)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: theme.grey4, borderTopLeftRadius: 3, borderTopRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                      <View style={{ position: 'absolute', bottom: -3, left: 0, right: 0, height: 6, flexDirection: 'row', }}>\r\n                        {\r\n                          [...Array(item.width)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: theme.grey4, borderBottomLeftRadius: 3, borderBottomRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  } */}\r\n                  {/* {\r\n                    // left and right chairs\r\n                    (item.width < item.height && item.shape === 'A') &&\r\n                    <>\r\n                      <View style={{ position: 'absolute', left: -3, top: 0, bottom: 0, width: 6, }}>\r\n                        {\r\n                          [...Array(item.height)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: theme.grey4, borderTopLeftRadius: 3, borderBottomLeftRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                      <View style={{ position: 'absolute', right: -3, top: 0, bottom: 0, width: 6, }}>\r\n                        {\r\n                          [...Array(item.height)].map((el, index) =>\r\n                            <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: theme.grey4, borderTopRightRadius: 3, borderBottomRightRadius: 3, }}>\r\n\r\n                            </View>)\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  } */}\r\n                </View>\r\n              )\r\n            }\r\n          </View>\r\n\r\n\r\n        </View>\r\n        <View style={{ margin: 3, marginTop: -3, flexWrap: 'wrap', flexDirection: 'row' }}>\r\n          {\r\n            floorWidth && tables.filter(el => !tablemas.some(obj => obj.tableId === el.tableId)).map((item, index) =>\r\n              <View key={index} style={{ width: floorWidth * 4, aspectRatio: 4 }}>\r\n                <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.tableId === item.tableId ? 'white' : this.doTranslateFloorTableColor(item), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.doPressFloorTable(item)}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 20 }}>{item.tableId}</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  textInput: {\r\n    color: 'white',\r\n    height: 60,\r\n    borderRadius: 30,\r\n    width: '90%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 120,\r\n    textAlign: 'center',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n  },\r\n  onetwo: {\r\n    position: 'absolute', top: '0', left: '0', height: '12.5%', width: '12.5%',\r\n  },\r\n  tableLowerBand: {\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, ScrollView, FlatList, Platform, Keyboard } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class MainMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      preference: props.preference,\r\n      imageEntry: props.serviceEntry.split(':8085/')[0] + ':5000/img/',\r\n\r\n      foldergrps: props.foldergrps,\r\n      folders: props.folders,\r\n      uniqueFolders: [...new Map(props.folders.map(v => [v.folderId, v])).values()],\r\n      menus: props.menus,\r\n      uniqueMenus: [...new Map(props.menus.map(v => [v.menuId, v])).values()],\r\n      modBundles: props.modBundles,\r\n\r\n      displayMode: '',\r\n      displays: [],\r\n      limiteds: [],\r\n\r\n      searchText: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount mainmenu')\r\n    const { foldergrps, folders, menus } = this.state;\r\n\r\n    this.doGet();\r\n\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    if (folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: foldergrps[0],\r\n      displays,\r\n      displayMode,\r\n    });\r\n  }\r\n\r\n  doGet() {\r\n    // real time fast changing data\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    // params.append('recKey', recKey);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          limiteds: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doPressFoldergrp(item) {\r\n    const { folders, menus, } = this.state;\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    this.doGet();\r\n\r\n    if (folders.filter(el => el.foldergrpId === item.foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === item.foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === item.foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: item,\r\n      displays,\r\n      displayMode,\r\n      searchText: '',\r\n    });\r\n  }\r\n\r\n  doPressFolder(item) {\r\n    const { menus } = this.state;\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId),\r\n    })\r\n  }\r\n\r\n  doPressMenu(item, quick) {\r\n    this.props.handlePressMenu(item, quick);\r\n  }\r\n\r\n  doSearchText(text) {\r\n    const { menus, foldergrps } = this.state;\r\n    this.setState({ searchText: text });\r\n    if (!text) {\r\n      this.setState({\r\n        displayMode: 'MENU',\r\n        displays: '',\r\n        selectedFoldergrp: '',\r\n      })\r\n      this.doPressFoldergrp(foldergrps[0]);\r\n      return;\r\n    }\r\n\r\n    let caseText = text.toUpperCase();\r\n    let displaysUpdate = menus.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: displaysUpdate,\r\n      selectedFoldergrp: '',\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { preference, displayMode, displays, foldergrps, folders, uniqueFolders, uniqueMenus, menus, modBundles,\r\n      searchText,\r\n      selectedFoldergrp } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1 }}>\r\n          <View style={{ marginHorizontal: 10, marginTop: -5, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontSize: 10, color: theme.white8 }}><Text style={{ fontSize: 10, color: theme.paid }}>{uniqueMenus.length}</Text> MENU <Text style={{ fontSize: 10, color: theme.reserved }}>{uniqueFolders.length}</Text> FOLDER <Text style={{ fontSize: 10, color: theme.reserved }}>{foldergrps.length}</Text> FOLDERGRP <Text style={{ fontSize: 10, color: theme.vacant }}>{modBundles.length}</Text> MODIFIER</Text>\r\n          </View>\r\n          <View style={styles.searchBox}>\r\n            <TextInput style={styles.searchBoxInputValue}\r\n              placeholder={`${intl.get('enter')?.toUpperCase()} ${intl.get('search')?.toUpperCase()} ${intl.get('text')?.toUpperCase()}`}\r\n              placeholderTextColor='rgba(255,255,255,0.2)'\r\n              value={searchText}\r\n              onChangeText={(text) => this.doSearchText(text)} />\r\n            <TouchableOpacity style={styles.searchBoxButton}\r\n              onPress={() => {\r\n                this.doSearchText('');\r\n                Keyboard.dismiss();\r\n              }}>\r\n              <AntDesign name='close' size={24} color={theme.grey4} />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n            {\r\n              displayMode === 'MENU' ?\r\n                <FlatList\r\n                  key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                  style={{ flex: 1, padding: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  numColumns={preference.mcolsize}\r\n                  horizontal={false}\r\n                  data={displays}\r\n                  keyExtractor={(item, index) => item.recKey.toString()}\r\n                  renderItem={({ item }) => this.renderMenu(item)}\r\n                />\r\n                :\r\n                <FlatList\r\n                  key={'FOLDER' + selectedFoldergrp?.foldergrpId}\r\n                  style={{ flex: 1, padding: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  numColumns={preference.mcolsize}\r\n                  horizontal={false}\r\n                  data={displays}\r\n                  keyExtractor={(item, index) => item.recKey.toString()}\r\n                  renderItem={({ item }) => this.renderFolder(item)}\r\n                />\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={{ margin: 5, width: 120, }}>\r\n          <View style={{ height: 90 }}>\r\n            <ScrollView\r\n              horizontal={true}\r\n              pagingEnabled={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                Platform.OS !== 'web' &&\r\n                <TouchableOpacity\r\n                  style={{ alignItems: 'center', justifyContent: 'center', height: 90, width: 120 }}\r\n                  onPress={() => this.props.handlePressScan(true)}>\r\n                  <MaterialCommunityIcons name=\"camera-iris\" size={30} color=\"white\" style={{ height: 28 }} />\r\n                  <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('scan')}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n              <TouchableOpacity\r\n                style={{ alignItems: 'center', justifyContent: 'center', height: 90, width: 120 }}\r\n                onPress={() => this.props.handlePressScan()}>\r\n                <MaterialCommunityIcons name=\"movie-filter\" size={28} color=\"white\" style={{ height: 28 }} />\r\n                <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('barcode')}</Text>\r\n              </TouchableOpacity>\r\n            </ScrollView>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              foldergrps.map((item, index) => (\r\n                <TouchableOpacity key={index}\r\n                  style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'white' : theme.grey1, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doPressFoldergrp(item)}>\r\n                  <Text style={{ textAlign: 'center', color: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'black' : 'white' }}>{item.name}</Text>\r\n                </TouchableOpacity>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderFolder(item) {\r\n    const { preference, menus } = this.state;\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <TouchableOpacity\r\n          style={{ margin: 2.5, height: 90, backgroundColor: 'black', alignItems: 'center', justifyContent: 'center' }}\r\n          onPress={() => this.doPressFolder(item)}>\r\n          <Text style={{ color: theme.paid, fontSize: 12 }}>{item.folderId}</Text>\r\n          <Text style={{ color: 'white', paddingHorizontal: 10, textAlign: 'center', fontSize: 16 }}>{item.name}</Text>\r\n          <Text style={{ color: theme.vacant }}>{menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId).length}</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenu(item) {\r\n    const { preference, limiteds, imageEntry, serviceEntry, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds.find(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <View style={[{ margin: 2.5, flexDirection: 'row', height: 90, backgroundColor: theme.grey4, }, item.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n          {\r\n            preference.mquick === 'Y' &&\r\n            <TouchableOpacity\r\n              style={{ width: 50, backgroundColor: theme.grey3, justifyContent: 'center', alignItems: 'center' }}\r\n              disabled={item.statusFlg === 'B'}\r\n              onPress={() => this.doPressMenu(item, true)}>\r\n              <AntDesign name=\"check\" size={18} color={theme.grey1} />\r\n              {/* {\r\n                serviceEntry === 'https://www.epbrowser.com:8090/fnb-ws/' &&\r\n                <Image\r\n                  style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0 }}\r\n                  source={{\r\n                    uri: 'http://203.208.248.200:9090/image-proxy-epbsg/ASP/EPBSG/NORMAL/Shell/picture/' + item.stkId + '.jpg'\r\n                    // uri: imageEntry + item.menuId + '.jpg'\r\n                  }}\r\n                />\r\n              } */}\r\n            </TouchableOpacity>\r\n          }\r\n          <TouchableOpacity\r\n            style={{ flex: 1 }}\r\n            disabled={item.statusFlg === 'B'}\r\n            onPress={() => this.doPressMenu(item)}>\r\n            <View style={{ flex: 1, padding: 10 }}>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: 'white', fontSize: 12, }}></Text>\r\n                <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n              </View>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{found ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                <Text style={{ color: theme.paid, fontSize: 12, }}>{item.menuId}</Text>\r\n              </View>\r\n            </View>\r\n          </TouchableOpacity>\r\n          {\r\n            searchText.length > 0 &&\r\n            <Text style={{ position: 'absolute', top: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n          }\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  searchBox: {\r\n    margin: 10,\r\n    // marginTop: 25,\r\n    marginBottom: 5,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n    borderRadius: 100,\r\n  },\r\n  searchBoxButton: {\r\n    position: 'absolute',\r\n    right: 0,\r\n    top: 0,\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAutoLogout extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      timer: 5,\r\n    };\r\n    this.countdown = () => { };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let initialTimer = 5;\r\n    this.countdown = setInterval(() => {\r\n      initialTimer -= 1;\r\n      this.setState({\r\n        timer: initialTimer,\r\n      });\r\n      if (initialTimer === 0) {\r\n        clearInterval(this.countdown);\r\n        this.props.handleUpdateFromAutoLogout(initialTimer);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.countdown);\r\n  }\r\n\r\n  render() {\r\n    const { timer } = this.state;\r\n    console.log('in overlayautologout', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Auto Logout</Text>\r\n            <Text style={styles.overlayText}>{timer}</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromAutoLogout('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, TextInput,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayDeposit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      homeDelivery: props.selectedTable.homeDelivery === 'Y' ? 'Y' : 'N',\r\n      vipName: props.selectedTable.vipName || '',\r\n      vipPhone: props.selectedTable.vipPhone || '',\r\n      dlyDate: props.selectedTable.dlyDate ? moment(props.selectedTable.dlyDate).format('YYYY-MM-DD') : '',\r\n      dpostalcode: props.selectedTable.dpostalcode || '',\r\n      daddress1: props.selectedTable.daddress1 || '',\r\n      daddress2: props.selectedTable.daddress2 || '',\r\n    }\r\n  }\r\n\r\n  doPressDelivery(type) {\r\n    this.setState({ homeDelivery: type })\r\n  }\r\n\r\n  doChangePostal(text) {\r\n    this.setState({ dpostalcode: text })\r\n    if (text.length === 6) {\r\n      const { serviceEntry } = this.state;\r\n      let url = serviceEntry + 'api/epbsggeo';\r\n      const params = new URLSearchParams();\r\n      params.append('postal', text);\r\n      url += ('?' + params);\r\n      fetch(url, {\r\n        method: 'GET'\r\n      })\r\n        .then(response => {\r\n          if (response.ok) return response.json();\r\n        })\r\n        .then(response => {\r\n          if (response?.address) {\r\n            this.setState({\r\n              daddress1: response.address || '',\r\n            });\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    this.props.handleUpdateFromDeposit('G', vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2)\r\n  }\r\n\r\n  render() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    console.log('in overlayDeposit', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Deposit Info</Text>\r\n            <View style={{ flexDirection: 'row', marginTop: 20 }}>\r\n              <View style={{ flex: 1, alignItems: 'flex-end', }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'Y' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('N')}>\r\n                  <Text style={{ color: homeDelivery === 'Y' ? 'white' : 'black', fontFamily: 'varela-round' }}>Self Collect</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1, }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'N' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('Y')}>\r\n                  <Text style={{ color: homeDelivery === 'N' ? 'white' : 'black', fontFamily: 'varela-round' }}>Delivery</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n            <View style={styles.vipInputsContainer}>\r\n              <View style={styles.vipInputsRow}>\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='NAME'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipName: text })}\r\n                  value={vipName}\r\n                />\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='PHONE'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  keyboardType='numeric'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipPhone: text })}\r\n                  value={vipPhone}\r\n                />\r\n              </View>\r\n              {\r\n                homeDelivery === 'Y' ?\r\n                  <>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='POSTAL'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.doChangePostal(text)}\r\n                        value={dpostalcode}\r\n                      />\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='DLY DATE'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                        onChangeText={text => this.setState({ dlyDate: text })}\r\n                        value={dlyDate}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 1'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress1: text })}\r\n                        value={daddress1}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 2'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress2: text })}\r\n                        value={daddress2}\r\n                      />\r\n                    </View>\r\n                  </>\r\n                  :\r\n                  <View style={[styles.vipInputsRow, { justifyContent: 'flex-end' }]}>\r\n                    <TextInput style={styles.vipInput}\r\n                      placeholder='DLY DATE'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      textContentType='none'\r\n                      autoComplete='off'\r\n                      autoCorrect={false}\r\n                      onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                      onChangeText={text => this.setState({ dlyDate: text })}\r\n                      value={dlyDate}\r\n                    />\r\n                  </View>\r\n              }\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.grey4 }]}\r\n            onPress={() => this.doSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromDeposit('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    height: '90%',\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginBottom: 20,\r\n    marginHorizontal: 5,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayScanBarcode extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromScanBarcode(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayscanbarcode');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Scan Barcode</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='ENTER BARCODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromScanBarcode('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayRequestAccess extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromRequestAccess(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { home, requestedPrivilege } = this.props;\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayrequestaccess');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Request Access</Text>\r\n            <Text style={styles.overlayText}>Grant temporary {requestedPrivilege} privilege to {home.userId}?</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                secureTextEntry={true}\r\n                autoFocus={true}\r\n                placeholder='ENTER ACCESS CODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromRequestAccess('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 2,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChangePrice extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n      selectedTableItem: props.selectedTableItem,\r\n\r\n      availableDiscounts: props.discounts,\r\n      overlaySearchText: '',\r\n      overlayText: '',\r\n      discountSelected: false,\r\n      selectedDiscount: '',\r\n      validatePass: true,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleValidate(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleValidate(superUserId) {\r\n    const { home, privileges, overlayText, selectedDiscount, selectedTableItem } = this.state;\r\n    if (!overlayText) {\r\n      this.setState({\r\n        validatePass: false,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'CHANGEPRICE') || selectedTableItem.listPrice === 0) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'CHANGEPRICE',\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromChangePrice(overlayText, selectedDiscount || '-', superUserId);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, overlayText, discountSelected, availableDiscounts, discounts,\r\n      selectedDiscount, validatePass, overlayProcedureMessageVisible,\r\n      overlayRequestAccessVisible, requestedPrivilege } = this.state;\r\n    console.log('in overlaychangeprice, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Price</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={[styles.overlaySearchBoxInput, validatePass ? null : { color: theme.paid }]}\r\n                placeholder='ENTER PRICE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text, validatePass: true })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          {\r\n            discountSelected ?\r\n              <View style={{ flex: 1 }}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <TouchableOpacity style={styles.overlaySearchBox}\r\n                    onPress={() => this.setState({\r\n                      overlaySearchText: '',\r\n                      selectedDiscount: '',\r\n                      discountSelected: false,\r\n                    })}>\r\n                    <Text style={styles.selectText}>{selectedDiscount.discId}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={{ paddingBottom: 5 }}></View>\r\n              </View>\r\n              :\r\n              <View style={styles.selectWrapper}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                    <TextInput style={styles.overlaySearchBoxInput}\r\n                      placeholder='ENTER SEARCH TEXT'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                      value={overlaySearchText}\r\n                    />\r\n                    <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                      onPress={() => {\r\n                        this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                        Keyboard.dismiss()\r\n                      }}>\r\n                      <AntDesign name='close' size={24} color={theme.grey4} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={[{ flex: 1 }]}\r\n                  data={availableDiscounts}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                      onPress={() => this.setState({\r\n                        discountSelected: true,\r\n                        selectedDiscount: item,\r\n                        validatePass: true,\r\n                      })}>\r\n                      <View style={styles.overlayGridFirst}>\r\n                        <View style={styles.overlayGridFirstLeft}>\r\n                          <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                        </View>\r\n                        <View style={styles.overlayGridFirstRight}>\r\n                          <Text style={styles.overlayGridFirstRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.overlayGridSecond}>\r\n                        <Text style={styles.overlayGridSecondText}>\r\n                          {item.discName}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.overlayGridThird}>\r\n                        <View style={styles.overlayGridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.overlayGridThirdRight}>\r\n                          <Text style={styles.overlayGridThirdRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n          }\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleValidate()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromChangePrice('', '')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayLineDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      discounts: props.discounts,\r\n      privileges: props.privileges,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'LINEDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access LINEDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'LINEDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromLineDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlaylinediscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='LINEDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Line Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromLineDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayHeaderDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'HEADERDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access HEADERDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'HEADERDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromHeaderDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlayheaderdiscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='HEADERDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Header Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromHeaderDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayMergeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      mergeTables: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTable = this.handleSelectTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.sectionId !== 'SYS'),\r\n          availableTables: response.filter(el => el.sectionId !== 'SYS'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTable(item) {\r\n    const { mergeTables } = this.state;\r\n    let mergeTablesUpdate = mergeTables;\r\n    if (!mergeTables.some(el => el.tableId === item.tableId)) {\r\n      mergeTablesUpdate.push(item);\r\n    } else {\r\n      mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    }\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { mergeTables } = this.state;\r\n    const mergeTablesUpdate = mergeTables;\r\n    mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTables, tables, mergeTables } = this.state;\r\n    console.log('in overlaymergetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {mergeTables.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTable(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.tableId}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeTable([])}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.vacant }]}\r\n            onPress={() => this.props.handleUpdateFromMergeTable(mergeTables)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n      tableItems: props.tableItems,\r\n\r\n      overlaySearchText: '',\r\n      availableTableItems: props.tableItems.filter(el => !el.refRecKey),\r\n      selectedTableItems: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tableItems } = this.state;\r\n    let availableTableItemsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTableItems);\r\n\r\n    availableTableItemsUpdate = tableItems.filter(el => !el.refRecKey);\r\n    if (!text) {\r\n      this.setState({\r\n        availableTableItems: availableTableItemsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTableItemsUpdate = availableTableItemsUpdate.filter(item => {\r\n      return item.menuId.toUpperCase().includes(caseText) || item.menuName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTableItems: availableTableItemsUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    const { selectedTableItems } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItemsUpdate.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { selectedTableItems } = this.state;\r\n    const selectedTableItemsUpdate = selectedTableItems;\r\n    selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTableItems, selectedTableItems } = this.state;\r\n    console.log('in overlaysplittable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {selectedTableItems.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTableItem(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.lineNo}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromSplitTable('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTableItems.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTableItems}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTableItem(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.menuId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>{item.lineNo}</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.menuName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitTable(selectedTableItems)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nexport default class OverlayChangeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.sectionId !== 'SYS'),\r\n          availableTables: response.filter(el => el.sectionId !== 'SYS'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableTables, tables, selectedTable } = this.state;\r\n    console.log('in overlaychangetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Table</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChangeTable('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.props.handleUpdateFromChangeTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayReviseItem extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, selectedTableItem, tableItems } = this.props;\r\n    console.log('in overlayreviseitem', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reviseitem')}</Text>\r\n            <Text style={styles.overlayText}>{selectedTableItem.menuName.toUpperCase()}</Text>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('voidItem')}>\r\n              <AntDesign\r\n                name='close'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('remove')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('duplicateItem')}>\r\n              <AntDesign\r\n                name='copy1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('duplicate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.confirmFlg === 'Y' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.confirmFlg === 'Y'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineBreak')}>\r\n              <AntDesign\r\n                name='minus'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linebreak')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('editItem')}>\r\n              <AntDesign\r\n                name='edit'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, !(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X') && { opacity: 0.2 }]}\r\n              disabled={!(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X')}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('revertItem')}>\r\n              <AntDesign\r\n                name='man'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('revert')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0) && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('changePrice')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('changeprice')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.discFlg === 'N' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineDiscount')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linedisc')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromReviseItem('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayTableActions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, tableItems } = this.props;\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('table')} {intl.get('action')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('openTable')}>\r\n              <AntDesign name='appstore-o' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('editTable')}>\r\n              <AntDesign name='edit' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.sectionId === 'SYS' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('reserveTable')}>\r\n              <AntDesign name='calendar' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('reserve')}</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              (selectedTable?.sectionId !== 'SYS' && selectedTable?.statusFlg === 'A') ?\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg !== 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('disableTable')}>\r\n                  <MaterialCommunityIcons name='cancel' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('disable')}</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg === 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg === 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('resetTable')}>\r\n                  <AntDesign name='reload1' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('mergeTable')}>\r\n              <AntDesign name='menufold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('mergetable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'B' || selectedTable.statusFlg === 'C') || selectedTable?.sectionId === 'SYS'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('splitTable')}>\r\n              <AntDesign name='menuunfold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('splittable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('changeTable')}>\r\n              <AntDesign name='swap' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('changetable')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewResequence')}>\r\n              <AntDesign name='bars' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('resequence')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewTransfer')}>\r\n              <AntDesign name='export' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('transferitems')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('headerDiscount')}>\r\n              <AntDesign name='exception1' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('headerdisc')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')) && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || !(selectedTable.statusFlg === 'C' || selectedTable.sectionId === 'SYS')}\r\n              onPress={() => this.props.handleUpdateFromTableActions('printBill')}>\r\n              <AntDesign name='book' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('printbill')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromTableActions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAdditionalFunctions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('additionalfunctions')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReprint')}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewVoid')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('voidreceipts')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewCollect')}>\r\n              <AntDesign\r\n                name='gift'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('collection')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('openDrawer')}>\r\n              <AntDesign\r\n                name='laptop'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('opendrawer')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('logOut')}>\r\n              <AntDesign\r\n                name='doubleleft'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('logout')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewTrace')}>\r\n              <AntDesign\r\n                name='eyeo'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewPrinters')}>\r\n              <AntDesign\r\n                name='fork'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('testprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('syncMasters')}>\r\n              <AntDesign\r\n                name='retweet'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('syncmasters')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewActivate')}>\r\n              <AntDesign\r\n                name='bulb1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('activate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewLimit')}>\r\n              <AntDesign\r\n                name='staro'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('limited')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewDayclose')}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('dayend')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReports')}>\r\n              <AntDesign\r\n                name='solution1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reports')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromAdditionalFunctions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChoosePrinter extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      printers: props.cashierPrinters,\r\n      availablePrinters: props.cashierPrinters,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { printers, availablePrinters } = this.state;\r\n    let availablePrintersUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availablePrinters);\r\n\r\n    availablePrintersUpdate = printers;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePrinters: availablePrintersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePrintersUpdate = availablePrintersUpdate.filter(item => {\r\n      return item.iomodelId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePrinters: availablePrintersUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { printPurpose } = this.props;\r\n    const { overlaySearchText, availablePrinters, printers } = this.state;\r\n    console.log('in overlaychooseprinter, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{printPurpose}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('choose')} {intl.get('printer')}</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChoosePrinter('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availablePrinters.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            // numColumns={3}\r\n            data={availablePrinters}\r\n            keyExtractor={(item, index) => index}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.props.handleUpdateFromChoosePrinter(item, printPurpose)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.iomodelId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { input } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{input?.title}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{input?.subtitle}</Text>\r\n            <Text style={styles.overlayText}>{input?.text}</Text>\r\n          </View>\r\n          {\r\n            input?.ok &&\r\n            <TouchableOpacity style={styles.overlayOption}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>OK</Text>\r\n            </TouchableOpacity>\r\n          }\r\n          {\r\n            input?.options ?\r\n              input?.options.map(el =>\r\n                <TouchableOpacity style={styles.overlayOption}\r\n                  key={el.handleText}\r\n                  onPress={() => this.props.handleUpdateFromAlert(el.handleText)}>\r\n                  <Text style={styles.overlayOptionText}>{el.text}</Text>\r\n                </TouchableOpacity>\r\n              )\r\n              : null\r\n          }\r\n          {\r\n            input?.cancel &&\r\n            <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n            </TouchableOpacity>\r\n          }\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, StatusBar, ScrollView, TouchableOpacity, Text, Alert, Platform, Dimensions } from 'react-native';\r\nimport { AntDesign, Ionicons, Entypo, MaterialCommunityIcons, Fontisto, FontAwesome, MaterialIcons } from '@expo/vector-icons';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport { debug } from '../assets/utility';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport Constants from 'expo-constants';\r\nimport theme from '../assets/theme';\r\nimport MainTable from './MainTable';\r\nimport MainMenu from './MainMenu';\r\n\r\nimport OverlayAutoLogout from './OverlayAutoLogout';\r\nimport OverlayDeposit from './OverlayDeposit';\r\nimport OverlayScanBarcode from './OverlayScanBarcode';\r\nimport OverlayChangePrice from './OverlayChangePrice';\r\nimport OverlayLineDiscount from './OverlayLineDiscount';\r\nimport OverlayHeaderDiscount from './OverlayHeaderDiscount';\r\nimport OverlayMergeTable from './OverlayMergeTable';\r\nimport OverlaySplitTable from './OverlaySplitTable';\r\nimport OverlayChangeTable from './OverlayChangeTable';\r\nimport OverlayReviseItem from './OverlayReviseItem';\r\nimport OverlayTableActions from './OverlayTableActions';\r\nimport OverlayAdditionalFunctions from './OverlayAdditionalFunctions';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nconst Tab = createBottomTabNavigator();\r\n\r\nexport default class Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedTable: null,\r\n      selectedTableItem: null,\r\n      tableItems: [],\r\n      printPurpose: '',\r\n      requestedPrivilege: '',\r\n\r\n      screen: 'TABLE',\r\n      refresh: null,\r\n    };\r\n\r\n    this.handlePressTable = this.handlePressTable.bind(this);\r\n    this.handleActionTable = this.handleActionTable.bind(this);\r\n    this.handlePressMenu = this.handlePressMenu.bind(this);\r\n    this.handlePressScan = this.handlePressScan.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromAutoLogout = this.handleUpdateFromAutoLogout.bind(this);\r\n    this.handleUpdateFromDeposit = this.handleUpdateFromDeposit.bind(this);\r\n    this.handleUpdateFromScanBarcode = this.handleUpdateFromScanBarcode.bind(this);\r\n    this.handleUpdateFromReviseItem = this.handleUpdateFromReviseItem.bind(this);\r\n    this.handleUpdateFromTableActions = this.handleUpdateFromTableActions.bind(this);\r\n    this.handleUpdateFromAdditionalFunctions = this.handleUpdateFromAdditionalFunctions.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromHeaderDiscount = this.handleUpdateFromHeaderDiscount.bind(this);\r\n    this.handleUpdateFromLineDiscount = this.handleUpdateFromLineDiscount.bind(this);\r\n    this.handleUpdateFromChangePrice = this.handleUpdateFromChangePrice.bind(this);\r\n    this.handleUpdateFromMergeTable = this.handleUpdateFromMergeTable.bind(this);\r\n    this.handleUpdateFromSplitTable = this.handleUpdateFromSplitTable.bind(this);\r\n    this.handleUpdateFromChangeTable = this.handleUpdateFromChangeTable.bind(this);\r\n\r\n    this.handleUpdateFromVoid = this.handleUpdateFromVoid.bind(this);\r\n    this.handleUpdateFromTable = this.handleUpdateFromTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { navigation } = this.props;\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    this.doChooseDefaultPrinter();\r\n    // navigation.navigate('Combo', { home: this.state.home, serviceEntry: this.state.serviceEntry, masters: this.state.masters, selectedTable: this.state.selectedTable, selectedMenu: this.state.masters.menus.find(el => el.menuId === 'Z01-001'), preference: this.state.preference });\r\n  }\r\n\r\n  didFocus() {\r\n    const { selectedTable } = this.state;\r\n    if (selectedTable) {\r\n      this.handlePressTable(selectedTable);\r\n    }\r\n    this.setState({\r\n      refresh: moment().format('HH:mm:ss'),\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  doChooseDefaultPrinter() {\r\n    const { home, masters } = this.state;\r\n    if (Platform.OS === 'web' && masters.cashierPrinters.length > 1) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'DEFAULT PRINTER',\r\n      });\r\n    } else if (masters.cashierPrinters.length === 1) {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = masters.cashierPrinters?.[0];\r\n      this.setState({\r\n        home: homeUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  async handlePressTable(item) {\r\n    if (!item?.recKey) return;\r\n    const { navigation } = this.props;\r\n    const { serviceEntry } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + item.recKey;\r\n    return fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // hide paid or reset split tables\r\n        // if (response.opentable.splitTableFlg === 'Y' && (response.opentable.statusFlg === 'A')) {\r\n        //   this.doClearTable()\r\n        //   return;\r\n        // }\r\n        // hide paid or reset takeaway tables\r\n        if (response.opentable.sectionId === 'SYS' && (response.opentable.statusFlg === 'A' || response.opentable.statusFlg === 'D')) {\r\n          this.doClearTable();\r\n          this.doToggleScreen('MENU');\r\n          return;\r\n        }\r\n        // faster navigation for takeaway tables\r\n        if (response.opentable.sectionId === 'SYS') {\r\n          this.doToggleScreen('TABLE');\r\n        }\r\n        // all\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  handleActionTable(item, action) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (action === 'CREATE') {\r\n      this.doCreateTable();\r\n    } else if (action === 'OPEN') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (action === 'EDIT') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    }\r\n  }\r\n\r\n  handlePressMenu(item, quick) {\r\n    const { navigation } = this.props;\r\n    const { home, preference, serviceEntry, settings, masters, selectedTable } = this.state;\r\n    console.log(item)\r\n    // combo\r\n    if (item.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // no table\r\n    if (!selectedTable) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // compulsory modifier\r\n    if (masters.modBundles.some(el => el.modmas.mustFlg === 'Y' && el.modmas.globalFlg === 'Y') || masters.mods.some(el => el.menuId === item.menuId && (masters.modBundles.find(obj => obj.modmas.modId === el.modId)?.modmas.mustFlg === 'Y'))) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // normal\r\n    if (!quick) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n    } else {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: item.recKey,\r\n        restmenuMod: item.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : (selectedTable.sectionId === 'SYS' ? `*${intl.get('takeaway')}  ` : ''),\r\n        orderQty: '1',\r\n        orderType: item.serviceFlg === 'N' ? 'B' : (selectedTable.sectionId === 'SYS' ? 'B' : 'A'),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              item.menuName,\r\n              '1',\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          this.handlePressTable(selectedTable);\r\n        })\r\n    }\r\n  }\r\n\r\n  handlePressScan(camera) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, selectedTable } = this.state;\r\n    if (!selectedTable) return;\r\n    if (camera) {\r\n      if (Platform.OS !== 'web') {\r\n        navigation.navigate('Scan', { home, serviceEntry, masters, selectedTable })\r\n      }\r\n    } else {\r\n      this.setState({\r\n        overlayScanBarcodeVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  doClearTable() {\r\n    this.setState({\r\n      selectedTable: null,\r\n      tableItems: [],\r\n    });\r\n    this.doToggleScreen('TABLE');\r\n  }\r\n\r\n  doCreateTable(item) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, } = this.state;\r\n    let url = serviceEntry + 'api/insert-opentable';\r\n    const body = {\r\n      userId: home.userId,\r\n      orderType: 'B',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Create Table',\r\n            home.userName,\r\n            response.message,\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('MainMenu')\r\n        this.setState({\r\n          screen: 'MENU',\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          refresh: moment().format('HH:mm:ss'),\r\n        }, () => {\r\n          if (item) this.handlePressMenu(item, true);\r\n        });\r\n      })\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else {\r\n        if (item.transType === 'A') {\r\n          return theme.grey5;\r\n        } else {\r\n          return theme.deposit;\r\n        }\r\n      }\r\n    } else {\r\n      if (item.statusFlg === 'A') {\r\n        return theme.vacant;\r\n      } else if (item.statusFlg === 'B') {\r\n        return theme.reserved;\r\n      } else if (item.statusFlg === 'C') {\r\n        return theme.occupied;\r\n      } else if (item.statusFlg === 'D') {\r\n        return theme.paid;\r\n      } else if (item.statusFlg === 'E') {\r\n        return theme.unavailable;\r\n      }\r\n    }\r\n  }\r\n\r\n  doTranslateTableStatus(item) {\r\n    if (item.sectionId === 'SYS') {\r\n      if (item.transType === 'A') {\r\n        return intl.get('sales');\r\n      } else if (item.transType === 'G') {\r\n        if (item.homeDelivery === 'Y') {\r\n          return intl.get('deposit') + 'DLY';\r\n        } else {\r\n          return intl.get('deposit');\r\n        }\r\n      }\r\n    } else {\r\n      return intl.get(`${item.statusFlg}`).d('Unknown');\r\n    }\r\n  }\r\n\r\n  doTranslateTableItemColor(item) {\r\n    if (item.fireFlg === 'Y') {\r\n      return theme.reserved;\r\n    }\r\n    if (item.confirmFlg === 'Y') {\r\n      return theme.occupied;\r\n    }\r\n    return theme.vacant;\r\n  }\r\n\r\n  doToggleScreen(item) {\r\n    const { navigation } = this.props;\r\n    if (item === 'MENU') {\r\n      this.setState({\r\n        screen: 'TABLE',\r\n        refresh: moment().format('HH:mm:ss'),\r\n      })\r\n      navigation.navigate('MainTable')\r\n    } else {\r\n      this.setState({ screen: 'MENU' })\r\n      navigation.navigate('MainMenu')\r\n    }\r\n  }\r\n\r\n  doPressItem(item) {\r\n    this.setState({\r\n      selectedTableItem: item,\r\n      overlayReviseItemVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartDayclose(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, settings, } = this.state;\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'DAYCLOSE')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'DAYCLOSE',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/start-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Dayclose',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Dayclose', { home, serviceEntry, masters, dayclosePayments: response })\r\n      })\r\n  }\r\n\r\n  doPressTransType() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: intl.get('sales'), handleText: 'doTransTypeSales' });\r\n    options.push({ text: intl.get('deposit'), handleText: 'doTransTypeDeposit' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Transaction Type',\r\n        text: 'Select transaction type for ' + selectedTable.tableId,\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartPayment(printer, superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, settings,\r\n      selectedTable, tableItems, } = this.state;\r\n\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n      });\r\n      return;\r\n    }\r\n    if (!tableItems || tableItems.length === 0) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'NO TABLE ITEMS',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.refTableId) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'TABLE ALREADY MERGED ' + selectedTable.refTableId,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'PAYMENT')) && !superUserId) {\r\n      this.setState({\r\n        requestedPrivilege: 'PAYMENT',\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          pospays: response.opentablePospays,\r\n        }, () => navigation.navigate('Pos', { home, serviceEntry, masters, selectedTable: response.opentable, pospays: response.opentablePospays }));\r\n      })\r\n  }\r\n\r\n  doChangeTableStatus(newStatus) {\r\n    const { home, serviceEntry, selectedTable, masters, settings } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table-status';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: newStatus,\r\n      pax: '',\r\n      vipId: '',\r\n      vipName: '',\r\n      phone: '',\r\n      reservationTime: '',\r\n      sourceId: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table-status successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table Status',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            newStatus,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doRevertTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/revert-adhoc';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post revert-adhoc successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Revert Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n          refresh: moment().format('HH:mm:ss'),\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doDuplicateTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/duplicate-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post duplicate-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Duplicate Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doUpdateLineBreak() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    })\r\n    let newLineBreak = 'Y';\r\n    if (selectedTableItem.lineBreak === 'Y') {\r\n      newLineBreak = 'N';\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-line-break';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      lineBreak: newLineBreak,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-line-break successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Break',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  doPrintBill(printer) {\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    if (!selectedTable || !(selectedTable?.statusFlg === 'C' || selectedTable?.sectionId === 'SYS')) return;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'PRINT BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/print-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Print Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, masters, settings } = this.state;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'OPEN DRAWER',\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n  }\r\n\r\n  doTransTypeSales() {\r\n    const { selectedTable } = this.state;\r\n    this.handleUpdateFromDeposit('A', selectedTable.vipName, selectedTable.vipPhone, selectedTable.homeDelivery, selectedTable.dlyDate ? moment(selectedTable.dlyDate).format('YYYY-MM-DD') : '', selectedTable.dpostalcode, selectedTable.daddress1, selectedTable.daddress2)\r\n  }\r\n\r\n  doTransTypeDeposit() {\r\n    this.setState({\r\n      overlayDepositVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressSend() {\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (!selectedTable || selectedTable.sendFlg !== 'Y') {\r\n      console.log('no selectedTable or sendFlg is N');\r\n      return;\r\n    }\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doSendOrder' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Send Order',\r\n        text: 'Send order for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doSendOrder(printer) {\r\n    const { serviceEntry, home, selectedTable, masters, settings } = this.state;\r\n\r\n    // section-based print order\r\n    let printOrder = false;\r\n    if (selectedTable.sectionId !== 'SYS') {\r\n      printOrder = masters.sections.find(el => el.sectionId === selectedTable.sectionId)?.printOrderFlg === 'Y';\r\n    }\r\n\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter && printOrder) {\r\n      this.setState({\r\n        printPurpose: 'SEND ORDER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/send-order';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: printOrder && ((home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId)),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post send-order successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Send Order',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  doEditTableItem(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, preference,\r\n      selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'EDITITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (selectedTableItem?.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, masters, preference, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem })\r\n    } else {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem })\r\n    }\r\n  }\r\n\r\n  doDeleteTableItem(superUserId) {\r\n    const { serviceEntry, home, selectedTableItem, selectedTable, masters, settings, privileges } = this.state;\r\n\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      // special scenario all personnel need double confirm\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'VOIDITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'VOIDITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable, home } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'SEND ORDER') {\r\n      this.doSendOrder(printer);\r\n    } else if (purpose === 'PRINT BILL') {\r\n      this.doPrintBill(printer);\r\n    } else if (purpose === 'START PAYMENT') {\r\n      this.doStartPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.doOpenDrawer(printer);\r\n    } else if (purpose === 'DEFAULT PRINTER') {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = printer;\r\n      this.setState({\r\n        home: homeUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, masters, settings, requestedPrivilege, selectedPrinter,\r\n      selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable?.tableId,\r\n            selectedTableItem?.menuName,\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.doOpenDrawer(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'PAYMENT') {\r\n          this.doStartPayment(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'DAYCLOSE') {\r\n          this.doStartDayclose(response.userId);\r\n        } else if (requestedPrivilege === 'VOIDITEM') {\r\n          this.doDeleteTableItem(response.userId);\r\n        } else if (requestedPrivilege === 'EDITITEM') {\r\n          this.doEditTableItem(response.userId);\r\n        }\r\n      })\r\n  }\r\n\r\n  handleUpdateFromAdditionalFunctions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayAdditionalFunctionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewReprint') {\r\n      navigation.navigate('Reprint', { home, serviceEntry, masters });\r\n    } else if (text === 'viewVoid') {\r\n      navigation.navigate('Void', { home, serviceEntry, masters, handleUpdateFromVoid: this.handleUpdateFromVoid });\r\n    } else if (text === 'viewCollect') {\r\n      navigation.navigate('Collect', { home, serviceEntry, masters, });\r\n    } else if (text === 'viewDayclose') {\r\n      this.doStartDayclose();\r\n    } else if (text === 'viewReports') {\r\n      navigation.navigate('Report', { home, serviceEntry, masters });\r\n    } else if (text === 'openDrawer') {\r\n      this.doOpenDrawer();\r\n    } else if (text === 'viewPrinters') {\r\n      navigation.navigate('Printer', { home, serviceEntry });\r\n    } else if (text === 'viewActivate') {\r\n      navigation.navigate('Activate', { home, serviceEntry, masters });\r\n    } else if (text === 'logOut') {\r\n      navigation.goBack();\r\n    } else if (text === 'syncMasters') {\r\n      navigation.navigate('Login', { sync: new Date() });\r\n    } else if (text === 'viewTrace') {\r\n      navigation.navigate('Trace', { home, serviceEntry, selectedTable });\r\n    } else if (text === 'viewLimit') {\r\n      navigation.navigate('Limit', { home, serviceEntry, masters });\r\n    }\r\n  }\r\n\r\n  async handleUpdateFromTableActions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayTableActionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewResequence') {\r\n      navigation.navigate('Resequence', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'viewTransfer') {\r\n      navigation.navigate('Transfer', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'headerDiscount') {\r\n      this.setState({\r\n        overlayHeaderDiscountVisible: true,\r\n      })\r\n    } else if (text === 'printBill') {\r\n      this.doPrintBill();\r\n    } else if (text === 'openTable') {\r\n      await this.handlePressTable(selectedTable)\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (text === 'editTable') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    } else if (text === 'resetTable') {\r\n      this.doChangeTableStatus('A');\r\n    } else if (text === 'reserveTable') {\r\n      this.doChangeTableStatus('B');\r\n    } else if (text === 'disableTable') {\r\n      this.doChangeTableStatus('E');\r\n    } else if (text === 'mergeTable') {\r\n      this.setState({\r\n        overlayMergeTableVisible: true,\r\n      });\r\n    } else if (text === 'splitTable') {\r\n      this.setState({\r\n        overlaySplitTableVisible: true,\r\n      });\r\n    } else if (text === 'changeTable') {\r\n      this.setState({\r\n        overlayChangeTableVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromReviseItem(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, masters, selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'voidItem') {\r\n      let options = [];\r\n      options.push({ text: 'Yes', handleText: 'doDeleteTableItem' });\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n        overlayAlertInputValue: {\r\n          title: intl.get('action'),\r\n          subtitle: 'Remove Item',\r\n          text: 'Remove ' + selectedTableItem.menuName + ' ?',\r\n          ok: false,\r\n          cancel: true,\r\n          options: options,\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n    } else if (text === 'editItem') {\r\n      this.doEditTableItem();\r\n    } else if (text === 'revertItem') {\r\n      this.doRevertTableItem();\r\n    } else if (text === 'changePrice') {\r\n      this.setState({\r\n        overlayChangePriceVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineDiscount') {\r\n      this.setState({\r\n        overlayLineDiscountVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineBreak') {\r\n      this.doUpdateLineBreak();\r\n    } else if (text === 'duplicateItem') {\r\n      this.doDuplicateTableItem();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromLineDiscount(text, superUserId) {\r\n    this.setState({ overlayLineDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/line-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post line-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromHeaderDiscount(text, superUserId) {\r\n    this.setState({ overlayHeaderDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/header-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post header-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Header Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangePrice(text, item, superUserId) {\r\n    this.setState({ overlayChangePriceVisible: false });\r\n    if (!text && !item) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-price';\r\n    const body = {\r\n      userId: home.userId,\r\n      price: text,\r\n      discId: item.discId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-price successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Price',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromMergeTable(tables) {\r\n    this.setState({ overlayMergeTableVisible: false });\r\n    if (tables.length === 0) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-table';\r\n    const itemPayloads = tables.map(el => ({\r\n      mergedTableId: el.tableId,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            tables.map(el => el.tableId).join(','),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromSplitTable(items) {\r\n    this.setState({\r\n      overlaySplitTableVisible: false,\r\n    });\r\n    if (!items) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/split-table';\r\n    const itemPayloads = items.map(el => ({\r\n      opentableItemRecKey: el.recKey,\r\n      opentableRecKey: selectedTable.recKey,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post split-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Split Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(response.opentable || selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangeTable(table) {\r\n    this.setState({ overlayChangeTableVisible: false });\r\n    if (!table) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table';\r\n    const body = {\r\n      userId: home.userId,\r\n      tableIdTo: table.tableId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            table.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(table);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSendOrder') {\r\n      this.doSendOrder();\r\n    } else if (text === 'doDeleteTableItem') {\r\n      this.doDeleteTableItem();\r\n    } else if (text === 'doTransTypeSales') {\r\n      this.doTransTypeSales();\r\n    } else if (text === 'doTransTypeDeposit') {\r\n      this.doTransTypeDeposit();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAutoLogout(timer) {\r\n    // if (!timer) {\r\n    //   this.setState({\r\n    //     overlayAutoLogoutVisible: false,\r\n    //   });\r\n    //   this.doAutoLogout();\r\n    // }\r\n    // if (timer === 0) {\r\n    //   this.setState({\r\n    //     toLogin: true,\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  handleUpdateFromDeposit(transType, vipName, phone, deliveryFlg, dlyDate, postalCode, addr1, addr2) {\r\n    this.setState({ overlayDepositVisible: false });\r\n    if (!transType) {\r\n      return;\r\n    }\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-table-info';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      transType: transType,\r\n      vipName: vipName,\r\n      phone: phone,\r\n      deliveryFlg: deliveryFlg,\r\n      dlyDate: dlyDate,\r\n      postalCode: postalCode,\r\n      addr1: addr1,\r\n      addr2: addr2,\r\n      addr3: '',\r\n      addr4: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post deposit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Transaction Type',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            transType + ',' + deliveryFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable)\r\n      })\r\n  }\r\n\r\n  handleUpdateFromScanBarcode(text) {\r\n    if (!text) {\r\n      this.setState({ overlayScanBarcodeVisible: false });\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      vipId: home.vipId,\r\n      barcode: text,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post scan-barcode successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Scan Barcode',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromVoid(tableInfo) {\r\n    this.setState({\r\n      selectedTable: tableInfo.opentable,\r\n      tableItems: tableInfo.opentableItems,\r\n    });\r\n  }\r\n\r\n  handleUpdateFromTable() {\r\n    this.doToggleScreen('TABLE');\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntry, home, preference, masters, screen, refresh,\r\n      selectedTable, selectedTableItem, tableItems, printPurpose, requestedPrivilege,\r\n      overlayAutoLogoutVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayReviseItemVisible, overlayTableActionsVisible, overlayAdditionalFunctionsVisible, overlayRequestAccessVisible,\r\n      overlayHeaderDiscountVisible, overlayLineDiscountVisible, overlayChangePriceVisible,\r\n      overlayChangeTableVisible, overlayMergeTableVisible, overlaySplitTableVisible,\r\n      overlayDepositVisible, overlayScanBarcodeVisible,\r\n      overlayProcedureMessageVisible, overlayChoosePrinterVisible } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayAutoLogoutVisible &&\r\n          <OverlayAutoLogout\r\n            handleUpdateFromAutoLogout={this.handleUpdateFromAutoLogout} />\r\n        }\r\n        {\r\n          overlayDepositVisible &&\r\n          <OverlayDeposit\r\n            serviceEntry={serviceEntry}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromDeposit={this.handleUpdateFromDeposit} />\r\n        }\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayScanBarcodeVisible &&\r\n          <OverlayScanBarcode\r\n            handleUpdateFromScanBarcode={this.handleUpdateFromScanBarcode} />\r\n        }\r\n        {\r\n          overlayReviseItemVisible &&\r\n          <OverlayReviseItem\r\n            home={home}\r\n            privileges={masters.privileges}\r\n            selectedTable={selectedTable}\r\n            selectedTableItem={selectedTableItem}\r\n            tableItems={tableItems}\r\n            handleUpdateFromReviseItem={this.handleUpdateFromReviseItem} />\r\n        }\r\n        {\r\n          overlayTableActionsVisible &&\r\n          <OverlayTableActions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromTableActions={this.handleUpdateFromTableActions} />\r\n        }\r\n        {\r\n          overlayAdditionalFunctionsVisible &&\r\n          <OverlayAdditionalFunctions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromAdditionalFunctions={this.handleUpdateFromAdditionalFunctions} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayChangePriceVisible &&\r\n          <OverlayChangePrice\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            selectedTableItem={selectedTableItem}\r\n            handleUpdateFromChangePrice={this.handleUpdateFromChangePrice} />\r\n        }\r\n        {\r\n          overlayLineDiscountVisible &&\r\n          <OverlayLineDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromLineDiscount={this.handleUpdateFromLineDiscount} />\r\n        }\r\n        {\r\n          overlayHeaderDiscountVisible &&\r\n          <OverlayHeaderDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromHeaderDiscount={this.handleUpdateFromHeaderDiscount} />\r\n        }\r\n        {\r\n          overlayMergeTableVisible &&\r\n          <OverlayMergeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeTable={this.handleUpdateFromMergeTable} />\r\n        }\r\n        {\r\n          overlaySplitTableVisible &&\r\n          <OverlaySplitTable\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromSplitTable={this.handleUpdateFromSplitTable} />\r\n        }\r\n        {\r\n          overlayChangeTableVisible &&\r\n          <OverlayChangeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromChangeTable={this.handleUpdateFromChangeTable} />\r\n        }\r\n        <View style={{ width: 10, backgroundColor: theme.grey8 }}>\r\n          <View style={{ marginTop: 30, height: 100, backgroundColor: this.doTranslateTableColor(selectedTable) }}></View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{home.userName}</Text>\r\n            <Text style={styles.footerText}>{home.locName}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, marginLeft: 0, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            {/* {\r\n              selectedTable &&\r\n              <TouchableOpacity style={{ margin: 3, marginLeft: 0, marginRight: 0, width: 23, backgroundColor: this.doTranslateTableColor(selectedTable) }}\r\n                onPress={() => this.doClearTable()}>\r\n\r\n              </TouchableOpacity>\r\n            } */}\r\n            <View style={{ margin: 3, flex: 1, flexDirection: 'row', }}>\r\n              {\r\n                selectedTable &&\r\n                <TouchableOpacity style={{ marginLeft: 0, aspectRatio: 1, backgroundColor: this.doTranslateTableColor(selectedTable), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.setState({ overlayTableActionsVisible: true })}>\r\n                  <Text style={styles.tableUpperBand} numberOfLines={1}>{selectedTable.vipName || ''}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 24, letterSpacing: 1 }} numberOfLines={1}>{selectedTable.tableId}</Text>\r\n                  <Text style={styles.tableLowerBand} numberOfLines={1}>{this.doTranslateTableStatus(selectedTable)}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n            </View>\r\n            {\r\n              selectedTable && selectedTable.sectionId === 'SYS' ?\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  {\r\n                    selectedTable.adhocItem > 0 &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                      <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                      <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    disabled={selectedTable.sendFlg !== 'Y'}\r\n                    onPress={() => this.doPressSend()}>\r\n                    <FontAwesome name=\"send\" size={24} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 28 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                    <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                  </TouchableOpacity>\r\n                  {/* <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => this.doPressTransType()}>\r\n                    <MaterialCommunityIcons name=\"water\" size={32} color={theme.deposit} style={{ height: 28, width: 32 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('type')}</Text>\r\n                  </TouchableOpacity> */}\r\n                </View>\r\n                : selectedTable && selectedTable.statusFlg === 'A' ?\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable })}>\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n                  </TouchableOpacity>\r\n                  : selectedTable && selectedTable.statusFlg === 'D' ?\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => this.handleUpdateFromTableActions('resetTable')}>\r\n                      <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.vacant} style={{ height: 28, width: 26 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                    </TouchableOpacity>\r\n                    : selectedTable ?\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        {\r\n                          selectedTable.adhocItem > 0 &&\r\n                          <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                            onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                            <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                            <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                            <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                          </TouchableOpacity>\r\n                        }\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          disabled={selectedTable.sendFlg !== 'Y'}\r\n                          onPress={() => this.doPressSend()}>\r\n                          <FontAwesome name=\"send\" size={24} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 28 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                          <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                        </TouchableOpacity>\r\n                      </View>\r\n                      : null\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.setState({ overlayAdditionalFunctionsVisible: true })}>\r\n              <MaterialCommunityIcons name=\"clover\" size={28} color={theme.paid} style={{ height: 28, width: 28 }} />\r\n              <Text style={styles.buttonText}>{intl.get('func')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: 'white' }}>\r\n            <View style={{ width: 50, height: 20, alignItems: 'center', justifyContent: 'center', borderRightColor: theme.paid }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('qty')}</Text>\r\n            </View>\r\n            <View style={{ flex: 1, justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('desc')}</Text>\r\n            </View>\r\n            <View style={{ paddingRight: 10, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('total')}</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            onContentSizeChange={() => this.scrollViewRef.scrollToEnd()}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              tableItems.filter(el => !el.refRecKey).map(item => (\r\n                <View key={item.recKey.toString()}>\r\n                  {\r\n                    item.lineBreak === 'Y' &&\r\n                    <View style={{ alignItems: 'center', flexDirection: 'row', height: 20, }}>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                      <Text style={{ fontFamily: 'varela-round', color: theme.grey5, fontSize: 12 }}>LINE BREAK</Text>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                    </View>\r\n                  }\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: this.doTranslateTableItemColor(item), }}\r\n                    onPress={() => this.doPressItem(item)}>\r\n                    <View style={{ paddingVertical: 10, width: 50, alignItems: 'center', borderRightColor: theme.paid }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.orderQty}</Text>\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, flex: 1, }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.menuName}</Text>\r\n                      {\r\n                        item.menuMod &&\r\n                        <Text style={{ fontFamily: 'varela-round', fontSize: 16, color: theme.paid }}>{item.menuMod}</Text>\r\n                      }\r\n                      {\r\n                        tableItems.filter(el => el.refRecKey === item.recKey).map(obj =>\r\n                          <View style={{ marginTop: 5, }} key={obj.recKey.toString()}>\r\n                            <Text style={{ fontFamily: 'varela-round', fontSize: 14, marginLeft: 10 }}>- {obj.menuName}</Text>\r\n                            {\r\n                              obj.menuMod &&\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14, color: theme.paid }}>{obj.menuMod}</Text>\r\n                            }\r\n                          </View>\r\n                        )\r\n                      }\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.lineTotal?.toFixed(2)}</Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <View style={{ margin: 10, marginBottom: 0, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'baseline' }}>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 10 }}></Text>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 28 }}>${selectedTable?.grandTotal?.toFixed(2) || '0.00'}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, flexDirection: 'row', }}>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doToggleScreen(screen)}>\r\n              {\r\n                screen === 'TABLE' ?\r\n                  <Ionicons name=\"md-book\" size={26} color={theme.reserved} style={{ height: 28, width: 26 }} />\r\n                  :\r\n                  <MaterialCommunityIcons name=\"apps-box\" size={28} color={theme.vacant} style={{ height: 28, width: 28 }} />\r\n              }\r\n              <Text style={styles.buttonText}>{screen === 'TABLE' ? intl.get('menu') : intl.get('table')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => navigation.navigate('Trace', { home, serviceEntry, selectedTable })}>\r\n              <MaterialCommunityIcons name=\"navigation\" size={28} color={theme.adhoc} style={{ height: 28, width: 28, transform: [{ rotateZ: '180deg' }] }} />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doPrintBill()}>\r\n              <MaterialCommunityIcons name=\"book\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n              <Text style={styles.buttonText}>{intl.get('bill')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doStartPayment()}>\r\n              <Ionicons name=\"print-sharp\" size={27} color={theme.paid} style={{ height: 28, marginLeft: 1 }} />\r\n              <Text style={styles.buttonText}>{intl.get('payment')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{moment().format('HH:mm')}</Text>\r\n            <Text style={styles.footerText}>EPB BISTRO {Constants.manifest.version?.split('.')[0]}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ flex: 2, backgroundColor: theme.grey9 }}>\r\n          <Tab.Navigator\r\n            screenOptions={{\r\n              headerShown: false,\r\n              animation: 'none',\r\n              gestureEnabled: false,\r\n              tabBarStyle: { display: 'none' },\r\n            }}>\r\n            <Tab.Screen name=\"MainTable\"\r\n              children={() =>\r\n                <MainTable\r\n                  refresh={refresh}\r\n                  home={home}\r\n                  serviceEntry={serviceEntry}\r\n                  preference={preference}\r\n                  masters={masters}\r\n                  handlePressTable={this.handlePressTable}\r\n                  handleActionTable={this.handleActionTable} />\r\n              } />\r\n            <Tab.Screen name=\"MainMenu\"\r\n              children={() =>\r\n                <MainMenu\r\n                  home={home}\r\n                  serviceEntry={serviceEntry}\r\n                  preference={preference}\r\n                  foldergrps={masters.foldergrps}\r\n                  folders={masters.folders}\r\n                  menus={masters.menus}\r\n                  modBundles={masters.modBundles}\r\n                  handlePressMenu={this.handlePressMenu}\r\n                  handlePressScan={this.handlePressScan} />\r\n              } />\r\n          </Tab.Navigator>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  footerText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableUpperBand: {\r\n    position: 'absolute',\r\n    top: 10, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    // backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'black',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableLowerBand: {\r\n    position: 'absolute',\r\n    bottom: 0, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonText: {\r\n    marginTop: 10,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: theme.grey5,\r\n    textTransform: 'uppercase'\r\n  }\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Preference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // tcolsize: '',\r\n      // mcolsize: '',\r\n      // mquick: '',\r\n      preference: null,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    console.log('here', preference)\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n      this.setState({\r\n        preference\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doReset') {\r\n      this.doReset();\r\n    }\r\n  }\r\n\r\n  doPressReset() {\r\n    let options = [];\r\n    options.push({ text: intl.get('yes'), handleText: 'doReset' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: `${intl.get('reset')} ${intl.get('preference')}`,\r\n        text: 'Reset all to factory preset?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doReset() {\r\n    let preference = {\r\n      tcolsize: Platform.OS === 'web' ? 5 : 4,\r\n      mcolsize: Platform.OS === 'web' ? 3 : 2,\r\n      mquick: 'Y',\r\n    };\r\n    this.setState({ preference })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n  }\r\n\r\n  doTcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.tcolsize < 8) {\r\n      preferenceUpdate.tcolsize = preferenceUpdate.tcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.tcolsize = 3;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mcolsize < 6) {\r\n      preferenceUpdate.mcolsize = preferenceUpdate.mcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.mcolsize = 1;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMquick() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mquick === 'Y') {\r\n      preferenceUpdate.mquick = 'N';\r\n    } else {\r\n      preferenceUpdate.mquick = 'Y';\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { loading, preference,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render preference');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doTcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>TCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>3-8</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Table</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.tcolsize === 5) || (Platform.OS !== 'web' && preference?.tcolsize === 4)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>1-6</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.mcolsize === 3) || (Platform.OS !== 'web' && preference?.mcolsize === 2)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMquick()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MQUICK</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>Y/N</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Quick Select for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mquick}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        preference?.mquick === 'Y' ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressReset()}>\r\n                <AntDesign\r\n                  name='warning'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reset')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitItems extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        percentage: (100 / props.receipts.length).toFixed(0).toString(),\r\n      })),\r\n    };\r\n    this.handleFillPercentagesEvenly = this.handleFillPercentagesEvenly.bind(this);\r\n    this.handleSetPercentageForReceipt = this.handleSetPercentageForReceipt.bind(this);\r\n    this.handleSetFullPercentageForReceipt = this.handleSetFullPercentageForReceipt.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillPercentagesEvenly() {\r\n    const { receipts } = this.state;\r\n    let numberString = (100 / receipts.length).toFixed(0).toString();\r\n    receipts.forEach(item => this.handleSetPercentageForReceipt(numberString, item.docId));\r\n  }\r\n\r\n  handleSetFullPercentageForReceipt(item) {\r\n    const { receipts } = this.state;\r\n    receipts.forEach(el => {\r\n      if (el.docId === item.docId) {\r\n        this.handleSetPercentageForReceipt('100', el.docId);\r\n      } else {\r\n        this.handleSetPercentageForReceipt('0', el.docId);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSetPercentageForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.docId === docId);\r\n    if (!Number(number)) {\r\n      receiptsUpdate[index].percentage = '0';\r\n    } else {\r\n      receiptsUpdate[index].percentage = Number(number).toFixed(0).toString();\r\n    }\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdate2', receipts));\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.percentage); }, 0);\r\n    console.log('agg', aggregate);\r\n    if (receipts.some(item => receipts[0].percentage !== item.percentage) && aggregate !== 100) {\r\n      console.log('validation failed');\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromSplitItems(receipts);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTableItems } = this.props;\r\n    const { receipts } = this.state;\r\n    console.log('in overlaysplititems');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Item(s)</Text>\r\n            <Text style={styles.overlayText}>You are splitting {selectedTableItems.length} item(s) for {receipts.length} receipts</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleSetFullPercentageForReceipt(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).percentage}\r\n                      onChangeText={(number) => this.handleSetPercentageForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}>%</Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.handleFillPercentagesEvenly()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>Fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitItems('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlaySplitItems from './OverlaySplitItems';\r\n\r\nexport default class Split extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n      selectedTableItems: [],\r\n      overlaySplitItemsVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSplitSelectedTableItems = this.handleSplitSelectedTableItems.bind(this);\r\n    this.handleUndoAll = this.handleUndoAll.bind(this);\r\n    this.handleSelectAllUnsplitTableItems = this.handleSelectAllUnsplitTableItems.bind(this);\r\n    this.handleDeselectAllUnsplitTableItems = this.handleDeselectAllUnsplitTableItems.bind(this);\r\n    this.handleUpdateFromSplitItems = this.handleUpdateFromSplitItems.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('menu selected', item);\r\n    const { selectedTableItems, receipts } = this.state;\r\n    const { tableItems } = this.props;\r\n    if (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey)) {\r\n      return;\r\n    }\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSelectAllUnsplitTableItems() {\r\n    const { tableItems } = this.props;\r\n    const { selectedTableItems, receipts } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    tableItems.forEach(el => {\r\n      if (receipts[0].receiptItems.some(obj => obj.recKey === el.recKey) || selectedTableItems.some(obj => obj.recKey === el.recKey)) {\r\n        return;\r\n      }\r\n      selectedTableItemsUpdate.push(el);\r\n    });\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleDeselectAllUnsplitTableItems() {\r\n    this.setState({\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleSplitSelectedTableItems() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlaySplitItemsVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUndoAll() {\r\n    this.setState({\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleUpdateFromSplitItems(distribution) {\r\n    console.log('distribution', distribution);\r\n    if (!distribution) {\r\n      this.setState({\r\n        overlaySplitItemsVisible: false,\r\n        selectedTableItems: [],\r\n      });\r\n      return;\r\n    }\r\n    const { receipts, selectedTableItems } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    receiptsUpdate.forEach(el => {\r\n      selectedTableItems.forEach(obj => {\r\n        el.receiptItems.push({\r\n          ...obj,\r\n          percentage: distribution.find(item => item.docId === el.docId).percentage\r\n        });\r\n      })\r\n    })\r\n    this.setState({\r\n      overlaySplitItemsVisible: false,\r\n      selectedTableItems: [],\r\n      receipts: receiptsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplit(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { serviceEntry, home, selectedTable, availableReceipts, tableItems, cashierPrinters } = this.props;\r\n    const { receipts, selectedTableItems, overlaySplitItemsVisible, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in split');\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlaySplitItemsVisible &&\r\n          <OverlaySplitItems\r\n            receipts={receipts}\r\n            selectedTableItems={selectedTableItems}\r\n            handleUpdateFromSplitItems={this.handleUpdateFromSplitItems} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY ITEM'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE</Text>\r\n              <Text style={styles.overlaySubtitleText}>{selectedTable.tableId}</Text>\r\n              <Text style={styles.overlayTitleText}>{tableItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleUndoAll()}\r\n              >\r\n                <Text style={styles.buttonText}>Undo</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleDeselectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Deselect</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleSelectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Select</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                tableItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    disabled={(receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) ? true : false}\r\n                    style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}\r\n                  >\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}\r\n                    >\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.refRecKey ? '- ' : null}{item.menuName}\r\n                      </Text>\r\n                      {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={[styles.actionButton, selectedTableItems.length !== 0 ? { backgroundColor: theme.occupied } : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleSplitSelectedTableItems()}\r\n            >\r\n              <Text style={styles.buttonText}>Split Selected</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              receipts[0].receiptItems.length === tableItems.length ?\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.handleSubmit()}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm Split</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.props.handleUpdateFromSplit('')}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.paid }]}>Quit</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <ScrollView style={styles.splitScroll}\r\n            horizontal={true}\r\n            snapToInterval={wrapperWidth}\r\n            decelerationRate='fast'\r\n          >\r\n            {\r\n              receipts.map((obj, index) => (\r\n                <View style={styles.wrapper}\r\n                  key={obj.docId}\r\n                >\r\n                  <View style={styles.overlayHeader}>\r\n                    <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>SPLIT {index + 1} OF {receipts.length}</Text>\r\n                    <Text style={styles.overlaySubtitleText}>{obj.docId}</Text>\r\n                    <Text style={styles.overlayTitleText}>{obj.receiptItems.length} ITEMS</Text>\r\n                  </View>\r\n                  <ScrollView style={styles.itemsContainer}>\r\n                    <View style={{ paddingTop: 5 }}></View>\r\n                    {\r\n                      obj.receiptItems.map(item => (\r\n                        <TouchableOpacity key={item.recKey}\r\n                          style={styles.tableItemContainer}\r\n                        // onPress={() => this.handleSelectTableItem(item)}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <View style={styles.tableItemSecondContainer}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </View>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              <Text style={{ color: theme.reserved }}>{item.percentage}</Text><Text style={{ color: theme.grey1 }}> %</Text>\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst wrapperWidth = Dimensions.get('window').width / 3;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n    width: wrapperWidth,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayInputReference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayinputreference');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Input Reference</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                placeholder='ENTER REFERENCE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.props.handleUpdateFromInputReference(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromInputReference(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromInputReference('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\n\r\nexport default class OverlayMergeBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      selectedTargetTable: '',\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.props;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        const filteredResponse = response.filter(el => {\r\n          return el.tableId !== selectedTable.tableId;\r\n        });\r\n        this.setState({\r\n          tables: filteredResponse,\r\n          availableTables: filteredResponse,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTargetTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleSubmit(selectedTargetTable, printer);\r\n  }\r\n\r\n  handleSubmit(item, printer) {\r\n    const { home } = this.props;\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    });\r\n    const { cashierPrinters } = this.props;\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromMergeBill(item, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { overlaySearchText, availableTables, tables, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaymergebill', selectedTable);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='MERGE BILL'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Bill</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeBill('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>OCCUPIED</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, TextInput,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayNumber: 2,\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayNumber === 2) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleNumberChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayNumber: 2 })\r\n    } else {\r\n      this.setState({ overlayNumber: Number(text) })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { overlayNumber } = this.state;\r\n    console.log('in overlaysplitbill');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Bill</Text>\r\n            <Text style={styles.overlayText}>Enter the number of bills to split into</Text>\r\n          </View>\r\n          <View style={styles.adjustContainer}>\r\n            <TouchableOpacity style={styles.adjustFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.adjustSecond}>\r\n              <TextInput style={styles.overlayNumber}\r\n                selectTextOnFocus\r\n                keyboardType='numeric'\r\n                value={overlayNumber?.toString()}\r\n                onChangeText={(searchText) => this.handleNumberChange(searchText)} />\r\n            </View>\r\n            <TouchableOpacity style={styles.adjustThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 2 && { backgroundColor: theme.occupied }]}\r\n              onPress={() => this.setState({ overlayNumber: 2 })}>\r\n              <Text style={styles.buttonText}>2</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 3 && { backgroundColor: theme.reserved }]}\r\n              onPress={() => this.setState({ overlayNumber: 3 })}>\r\n              <Text style={styles.buttonText}>3</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 4 && { backgroundColor: theme.paid }]}\r\n              onPress={() => this.setState({ overlayNumber: 4 })}>\r\n              <Text style={styles.buttonText}>4</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'ITEM')}>\r\n            <Text style={styles.overlayOptionText}>Split By Item</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'AMOUNT')}>\r\n            <Text style={styles.overlayOptionText}>Split By Amount</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitBill('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n    marginBottom: 30,\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 20,\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitAmount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        recKey: item.recKey,\r\n        amount: '0',\r\n      })),\r\n      warning: 'Total amount to split is ' + props.selectedTable.grandTotal.toFixed(2),\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleFillRemainder = this.handleFillRemainder.bind(this);\r\n    this.handleSetAmountForReceipt = this.handleSetAmountForReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillRemainder(item) {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.recKey === item.recKey);\r\n    const aggregate = receipts.filter(el => el.recKey !== item.recKey).reduce((init, obj) => { return init + Number(obj.amount); }, 0);\r\n    if (aggregate <= Number(selectedTable.grandTotal)) {\r\n      receiptsUpdate[index].amount = (Number(selectedTable.grandTotal) - aggregate).toFixed(2).toString();\r\n      this.setState({\r\n        receipts: receiptsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSetAmountForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    let index = receipts.findIndex(el => el.docId === docId);\r\n    receiptsUpdate[index].amount = number;\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { selectedTable, cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.amount); }, 0).toFixed(2);\r\n    console.log('aggregate', aggregate);\r\n    if (receipts.some(item => Number(item.amount) === 0) || (Number(aggregate) !== Number(selectedTable.grandTotal))) {\r\n      console.log('validation failed');\r\n      this.setState({\r\n        warning: 'Ensure numbers are valid and add up to ' + selectedTable.grandTotal.toFixed(2),\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplitAmount(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  doFillEvenly() {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n\r\n    const equal = Number(selectedTable.grandTotal / receipts.length).toFixed(2);\r\n\r\n    receiptsUpdate.forEach((el, index) => {\r\n      if (index !== receiptsUpdate.length - 1) {\r\n        el.amount = Number(equal).toFixed(2);\r\n      } else {\r\n        el.amount = (selectedTable.grandTotal - equal * (receiptsUpdate.length - 1)).toFixed(2);\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { receipts, warning, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaysplitamount');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY AMOUNT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Amount</Text>\r\n            <Text style={styles.overlayText}>{warning}</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleFillRemainder(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).amount}\r\n                      onChangeText={(number) => this.handleSetAmountForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.doFillEvenly()}>\r\n            <Text style={styles.overlayOptionText}>fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption,]}\r\n            onPress={() => this.handleSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitAmount('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayUpdateTips extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n      overlaySearchText: '',\r\n      paymentMethods: props.paymentMethods,\r\n      availablePaymentMethods: props.paymentMethods,\r\n      selectedPaymentMethod: null,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { paymentMethods } = this.state;\r\n    let availablePaymentMethodsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availablePaymentMethodsUpdate = paymentMethods;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePaymentMethods: availablePaymentMethodsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePaymentMethodsUpdate = availablePaymentMethodsUpdate.filter(item => {\r\n      return item.pmId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePaymentMethods: availablePaymentMethodsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlayText, selectedPaymentMethod, availablePaymentMethods, overlaySearchText } = this.state;\r\n    console.log('in overlayupdatetips', availablePaymentMethods);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Update Tips</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                keyboardType='numeric'\r\n                placeholder='ENTER TIPS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          <View style={styles.selectWrapper}>\r\n            <View style={styles.searchBoxWrapper}>\r\n              <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                <TextInput style={styles.overlaySearchBoxInput}\r\n                  placeholder='ENTER SEARCH TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                  value={overlaySearchText}\r\n                />\r\n                <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                  onPress={() => {\r\n                    this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                    Keyboard.dismiss()\r\n                  }}>\r\n                  <AntDesign name='close' size={24} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availablePaymentMethods.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={[{ flex: 1 }]}\r\n              data={availablePaymentMethods}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  style={[styles.overlayGrid, selectedPaymentMethod?.pmId === item.pmId && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.setState({ selectedPaymentMethod: item, })}>\r\n                  <View style={styles.overlayGridFirst}>\r\n                    <View style={styles.overlayGridFirstLeft}>\r\n                      <Text style={styles.overlayGridFirstLeftText}>{item.pmId}</Text>\r\n                    </View>\r\n                    <View style={styles.overlayGridFirstRight}>\r\n                      <Text style={styles.overlayGridFirstRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.overlayGridSecond}>\r\n                    <Text style={styles.overlayGridSecondText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridThird}>\r\n                    <View style={styles.overlayGridThirdLeft}>\r\n                    </View>\r\n                    <View style={styles.overlayGridThirdRight}>\r\n                      <Text style={styles.overlayGridThirdRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips(overlayText, selectedPaymentMethod)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayViewSplitted extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { receipts } = this.props;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>VIEW</Text>\r\n            <Text style={styles.overlaySubtitleText}>Splitted Receipts</Text>\r\n            <Text style={styles.overlayText}></Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.recKey}\r\n                >\r\n                  <View style={styles.inputRowLeft}>\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </View>\r\n                  <View style={styles.inputRowRight}>\r\n                    <Text style={styles.textInput}>{item.grandTotal ? item.grandTotal.toFixed(2) : null}</Text>\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromViewSplitted('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport QRCode from 'react-native-qrcode-svg';\r\nimport Paynow from '../assets/paynow.png';\r\nimport moment from 'moment';\r\n\r\nclass PaynowQR {\r\n  constructor(opts) {\r\n    Object.defineProperty(this, 'qrstring', {\r\n      value: this.generate(opts)\r\n    });\r\n  }\r\n  output() {\r\n    return this.qrstring;\r\n  }\r\n\r\n  padLeft(s, n, str) {\r\n    if (n < String(s).length) {\r\n      return s.toString();\r\n    }\r\n    else {\r\n      return Array(n - String(s).length + 1).join(str || '0') + s;\r\n    }\r\n  }\r\n\r\n  crc16(s) {\r\n    var crcTable = [0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5,\r\n      0x60c6, 0x70e7, 0x8108, 0x9129, 0xa14a, 0xb16b,\r\n      0xc18c, 0xd1ad, 0xe1ce, 0xf1ef, 0x1231, 0x0210,\r\n      0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6,\r\n      0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c,\r\n      0xf3ff, 0xe3de, 0x2462, 0x3443, 0x0420, 0x1401,\r\n      0x64e6, 0x74c7, 0x44a4, 0x5485, 0xa56a, 0xb54b,\r\n      0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d,\r\n      0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6,\r\n      0x5695, 0x46b4, 0xb75b, 0xa77a, 0x9719, 0x8738,\r\n      0xf7df, 0xe7fe, 0xd79d, 0xc7bc, 0x48c4, 0x58e5,\r\n      0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823,\r\n      0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969,\r\n      0xa90a, 0xb92b, 0x5af5, 0x4ad4, 0x7ab7, 0x6a96,\r\n      0x1a71, 0x0a50, 0x3a33, 0x2a12, 0xdbfd, 0xcbdc,\r\n      0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a,\r\n      0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03,\r\n      0x0c60, 0x1c41, 0xedae, 0xfd8f, 0xcdec, 0xddcd,\r\n      0xad2a, 0xbd0b, 0x8d68, 0x9d49, 0x7e97, 0x6eb6,\r\n      0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70,\r\n      0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a,\r\n      0x9f59, 0x8f78, 0x9188, 0x81a9, 0xb1ca, 0xa1eb,\r\n      0xd10c, 0xc12d, 0xf14e, 0xe16f, 0x1080, 0x00a1,\r\n      0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067,\r\n      0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c,\r\n      0xe37f, 0xf35e, 0x02b1, 0x1290, 0x22f3, 0x32d2,\r\n      0x4235, 0x5214, 0x6277, 0x7256, 0xb5ea, 0xa5cb,\r\n      0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d,\r\n      0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447,\r\n      0x5424, 0x4405, 0xa7db, 0xb7fa, 0x8799, 0x97b8,\r\n      0xe75f, 0xf77e, 0xc71d, 0xd73c, 0x26d3, 0x36f2,\r\n      0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634,\r\n      0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9,\r\n      0xb98a, 0xa9ab, 0x5844, 0x4865, 0x7806, 0x6827,\r\n      0x18c0, 0x08e1, 0x3882, 0x28a3, 0xcb7d, 0xdb5c,\r\n      0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a,\r\n      0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0,\r\n      0x2ab3, 0x3a92, 0xfd2e, 0xed0f, 0xdd6c, 0xcd4d,\r\n      0xbdaa, 0xad8b, 0x9de8, 0x8dc9, 0x7c26, 0x6c07,\r\n      0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1,\r\n      0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba,\r\n      0x8fd9, 0x9ff8, 0x6e17, 0x7e36, 0x4e55, 0x5e74,\r\n      0x2e93, 0x3eb2, 0x0ed1, 0x1ef0];\r\n\r\n    var crc = 0xFFFF;\r\n    var j, i;\r\n\r\n    for (i = 0; i < s.length; i++) {\r\n\r\n      let c = s.charCodeAt(i);\r\n      if (c > 255) {\r\n        throw new RangeError();\r\n      }\r\n      j = (c ^ (crc >> 8)) & 0xFF;\r\n      crc = crcTable[j] ^ (crc << 8);\r\n    }\r\n\r\n    return ((crc ^ 0) & 0xFFFF).toString(16).toUpperCase();\r\n  }\r\n\r\n\r\n  generate(opts) {\r\n\r\n    for (let key in opts) {\r\n      if (typeof opts[key] == 'string') {\r\n        opts[key] = opts[key].trim();\r\n      }\r\n    }\r\n\r\n\r\n    const p = [\r\n      { id: '00', value: '01' },                    // ID 00: Payload Format Indicator (Fixed to '01')\r\n      { id: '01', value: '12' },                    // ID 01: Point of Initiation Method 11: static, 12: dynamic\r\n      {\r\n        id: '26', value:                            // ID 26: Merchant Account Info Template\r\n          [{ id: '00', value: 'SG.PAYNOW' },\r\n          { id: '01', value: '2' },                 // 0 for mobile, 2 for UEN. 1 is not used.\r\n          { id: '02', value: String(opts.uen) },            // PayNow UEN (Company Unique Entity Number)\r\n          { id: '03', value: String(!opts.amount || opts.editable ? 1 : 0) },       // 1 = Payment amount is editable, 0 = Not Editable\r\n          { id: '04', value: String(opts.expiry) }]         // Expiry date (YYYYMMDD)\r\n      },\r\n      { id: '52', value: '0000' },                  // ID 52: Merchant Category Code (not used)\r\n      { id: '53', value: '702' },                   // ID 53: Currency. SGD is 702\r\n      { id: '54', value: String(opts.amount || 0) },  // ID 54: Transaction Amount\r\n      { id: '58', value: 'SG' },                    // ID 58: 2-letter Country Code (SG)\r\n      { id: '59', value: String(opts.company || 'COMPANY') },          // ID 59: Company Name\r\n      { id: '60', value: 'Singapore' }             // ID 60: Merchant City\r\n\r\n    ]\r\n\r\n    let otherdata = {\r\n      id: '62', value: [{                         // ID 62: Additional data fields\r\n        id: '01', value: String(opts.refNumber || '')           // ID 01: Bill Number\r\n      }]\r\n    };\r\n\r\n    if (opts.refNumber) {\r\n      p.push(otherdata);\r\n    }\r\n\r\n    let str = p.reduce((final, current) => {\r\n      if (Array.isArray(current.value)) { //nest loop\r\n        current.value = current.value.reduce((f, c) => {\r\n          f += c.id + this.padLeft(c.value.length.toString(), 2) + c.value;\r\n          return f\r\n        }, \"\")\r\n      }\r\n      final += current.id + this.padLeft(current.value.length.toString(), 2) + current.value;\r\n      return final\r\n    }, \"\")\r\n\r\n    // Here we add \"6304\" to the previous string\r\n    // ID 63 (Checksum) 04 (4 characters)\r\n    // Do a CRC16 of the whole string including the \"6304\"\r\n    // then append it to the end.\r\n    str += '6304' + this.padLeft(this.crc16(str + '6304'), 4);\r\n\r\n    return str;\r\n\r\n  }\r\n}\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home } = this.props;\r\n    let qrcode = new PaynowQR({\r\n      uen: home.uen,           //Required: UEN of company\r\n      amount: Number(this.props.input.amount),               //Specify amount of money to pay.\r\n      editable: false,             //Whether or not to allow editing of payment amount. Defaults to false if amount is specified\r\n      expiry: moment().format('YYYYMMDD'),         //Set an expiry date for the Paynow QR code (YYYYMMDD). If omitted, defaults to 5 years from current time.\r\n      refNumber: this.props.input.reference,   //Reference number for Paynow Transaction. Useful if you need to track payments for recouncilation.\r\n      company: home.orgName   //Company name to embed in the QR code. Optional.               \r\n    });\r\n\r\n    this.setState({\r\n      qrcodeString: qrcode.output(),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { input, qrcodeString } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlaySubtitleText}>${this.props.input.amount}</Text>\r\n            <Text style={[styles.overlayText, { marginTop: 0 }]}>{this.props.home.orgName}</Text>\r\n          </View>\r\n          <QRCode\r\n            size={300}\r\n            value={qrcodeString}\r\n            color='#761972'\r\n            logo={Paynow}\r\n            logoSize={100}\r\n          />\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={[styles.overlayText, { marginTop: 5 }]}>Thank you!</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { width: 400 }]}\r\n            onPress={() => this.props.handleUpdateFromPaynow('')}>\r\n            <Text style={styles.overlayOptionText}>CONTINUE</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    // width: '40%',\r\n    // backgroundColor: theme.grey2,\r\n    // borderRadius: 5,\r\n    // overflow: 'hidden',\r\n    alignItems: 'center',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Dimensions, FlatList, ScrollView, Platform, Text } from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport Split from './Split';\r\nimport OverlayInputReference from './OverlayInputReference';\r\nimport OverlayMergeBill from './OverlayMergeBill';\r\nimport OverlaySplitBill from './OverlaySplitBill';\r\nimport OverlaySplitAmount from './OverlaySplitAmount';\r\nimport OverlayUpdateTips from './OverlayUpdateTips';\r\nimport OverlayViewSplitted from './OverlayViewSplitted';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayPaynow from './OverlayPaynow';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Pos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      paymentMethods: props.route.params.masters.paymentMethods,\r\n      settings: props.route.params.masters.settings,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedTable: props.route.params.selectedTable,\r\n      payments: props.route.params.pospays,\r\n\r\n      selectedPaymentMethod: null,\r\n      selectedPaymentItem: '',\r\n      numberString: '0',\r\n      pay: props.route.params.selectedTable.balance,\r\n\r\n      overlayPaynowVisible: false,\r\n      overlayInputReferenceVisible: false,\r\n      overlayMergeBillVisible: false,\r\n      overlaySplitBillVisible: false,\r\n      overlaySplitAmountVisible: false,\r\n      overlayUpdateTipsVisible: false,\r\n      overlayViewSplittedVisible: false,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printPurpose: '',\r\n      selectedPrinter: '',\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      splitting: false,\r\n      availableReceipts: [],\r\n      splitReceipts: [],\r\n      tableItems: [],\r\n    };\r\n    this.handleBuildNumberString = this.handleBuildNumberString.bind(this);\r\n    this.handleSelectPaymentMethod = this.handleSelectPaymentMethod.bind(this);\r\n    this.handleRounding = this.handleRounding.bind(this);\r\n    this.handleEnterButton = this.handleEnterButton.bind(this);\r\n    this.handleFinishButton = this.handleFinishButton.bind(this);\r\n    this.handleAddPayment = this.handleAddPayment.bind(this);\r\n    this.handleDeletePayment = this.handleDeletePayment.bind(this);\r\n    this.handleFinishPayment = this.handleFinishPayment.bind(this);\r\n    this.handleUnsplitBill = this.handleUnsplitBill.bind(this);\r\n    this.handlePressPaymentItem = this.handlePressPaymentItem.bind(this);\r\n    this.handlePressPaymentItemRef = this.handlePressPaymentItemRef.bind(this);\r\n    this.handlePressMerge = this.handlePressMerge.bind(this);\r\n    this.handlePressUnmerge = this.handlePressUnmerge.bind(this);\r\n    this.handlePressTips = this.handlePressTips.bind(this);\r\n    this.handlePressSplit = this.handlePressSplit.bind(this);\r\n    this.handlePressUnsplit = this.handlePressUnsplit.bind(this);\r\n    this.handleViewSplitted = this.handleViewSplitted.bind(this);\r\n    this.handleUpdateFromInputReference = this.handleUpdateFromInputReference.bind(this);\r\n    this.handleUpdateFromMergeBill = this.handleUpdateFromMergeBill.bind(this);\r\n    this.handleUpdateFromSplitBill = this.handleUpdateFromSplitBill.bind(this);\r\n    this.handleUpdateFromSplitAmount = this.handleUpdateFromSplitAmount.bind(this);\r\n    this.handleUpdateFromSplit = this.handleUpdateFromSplit.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromUpdateTips = this.handleUpdateFromUpdateTips.bind(this);\r\n    this.handleUpdateFromViewSplitted = this.handleUpdateFromViewSplitted.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromPaynow = this.handleUpdateFromPaynow.bind(this);\r\n    this.handleOpenDrawer = this.handleOpenDrawer.bind(this);\r\n    this.handleValidateAmount = this.handleValidateAmount.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleViewSplitted()\r\n  }\r\n\r\n  handleBuildNumberString(type) {\r\n    const { numberString } = this.state;\r\n    const maxLength = 7;\r\n\r\n    if (type === 'DEL') {\r\n      if (numberString.length !== 1) {\r\n        let newNumberString = numberString.slice(0, -1);\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === 'CLEAR') {\r\n      if (numberString !== '0') {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === '.') {\r\n      if (numberString.length > maxLength - 2) return;\r\n      if (numberString.indexOf('.') < '0') {\r\n        let newNumberString = numberString + '.';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '0') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '0';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '00') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 0) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '00';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else { // 9, 8, 7, 6, 5, 4, 3, 2, 1\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + type;\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: type\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSelectPaymentMethod(type) {\r\n    // early exit memberson\r\n    if (type.refType === 'P') {\r\n      const { numberString, selectedTable } = this.state;\r\n      let numberStringUpdate = '';\r\n      if (selectedTable.vipPtsMoney < selectedTable.balance) {\r\n        numberStringUpdate = Math.floor(selectedTable.vipPtsMoney);\r\n      } else {\r\n        numberStringUpdate = Math.floor(selectedTable.balance);\r\n      }\r\n      this.setState({\r\n        numberString: numberStringUpdate,\r\n        selectedPaymentMethod: type,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedPaymentMethod: type,\r\n    });\r\n    console.log(type);\r\n    this.handleRounding(type);\r\n  }\r\n\r\n  handleEnterButton() {\r\n    const { numberString, selectedPaymentMethod } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const decimal = 2;\r\n    if (!selectedPaymentMethod) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Missing Payment Method',\r\n          text: 'Please select a payment method',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    if (numberStringVal === 0) {\r\n      return;\r\n    }\r\n    // early exit memberson\r\n    if (selectedPaymentMethod.refType === 'P') {\r\n      if (!this.handleValidateAmount()) return;\r\n    }\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleAddPayment());\r\n  }\r\n\r\n  handleValidateAmount() {\r\n    const { numberString, selectedTable } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const isInteger = Number.isInteger(numberStringVal);\r\n    console.log('isInteger', isInteger, selectedTable.balance, selectedTable.vipPtsMoney);\r\n\r\n    if (!Number.isInteger(numberStringVal) || numberStringVal > selectedTable.balance || numberStringVal > selectedTable.vipPtsMoney) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Inappropriate Amount',\r\n          text: 'Enter an integer less than balance and redeemable',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      });\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  handleFinishButton() {\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleFinishPayment());\r\n  }\r\n\r\n  handleFinishPayment(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'FINISH PAYMENT',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUnsplitBill() {\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unsplit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unsplit Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n        this.handleViewSplitted();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPaymentItemRef(item) {\r\n    if (item.pmId === 'PAYNOW') {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        selectedPaymentItem: item,\r\n        overlayInputReferenceVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressPaymentItem(item) {\r\n    this.setState({\r\n      selectedPaymentItem: item,\r\n    });\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleDeletePayment' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: 'Delete payment of ' + Number(item.payMoney).toFixed(2) + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleDeletePayment() {\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAddPayment() {\r\n    const { serviceEntry, home, settings, paymentMethods, selectedPaymentMethod, selectedTable, pay, numberString } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/add-payment';\r\n    console.log('here debug', Number(numberString));\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      pmId: selectedPaymentMethod.pmId,\r\n      payAmt: Number(numberString),\r\n      roundAmt: Number(selectedTable.balance - pay).toFixed(2),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post add-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Add Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          loading: false,\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        }, () => {\r\n          this.handleRounding(paymentMethods.find(el => el.pmId === selectedPaymentMethod.pmId))\r\n          this.handleAfterAddPayment();\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAfterAddPayment() {\r\n    const { home, selectedTable, payments } = this.state;\r\n    const found = payments.find(el => el.pmId === 'PAYNOW');\r\n    if (found) {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n        overlayPaynowInput: {\r\n          amount: found.payMoney.toFixed(2),\r\n          reference: home.shopId + '-' + selectedTable.docNo,\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  handleRounding(type) {\r\n    console.log(type);\r\n    const { selectedTable } = this.state;\r\n    const { numberString } = this.state;\r\n    const decimal = 2;\r\n    let number = Number(selectedTable.balance);\r\n\r\n    if (type.roundingFlg === 'N') {\r\n      this.setState({\r\n        pay: number,\r\n        numberString: number.toFixed(decimal).toString(),\r\n      });\r\n      return;\r\n    }\r\n\r\n    switch (type.roundType) {\r\n      case '0': // 4 down 5 up\r\n        console.log('case 0');\r\n        // number = Math.round(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '1': // ceiling\r\n        console.log('case 1');\r\n        number = Math.ceil(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '2': // floor 5\r\n        console.log('case 2');\r\n        number = Math.floor(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '3': // floor\r\n        console.log('case 3');\r\n        number = Math.floor(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '4': // closest 5\r\n        console.log('case 4');\r\n        number = Math.round(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '5':\r\n        console.log('legacy case 5 not in use');\r\n        break;\r\n      case '6':\r\n        console.log('legacy case 6 not in use');\r\n        break;\r\n    }\r\n  }\r\n\r\n  handlePressTips() {\r\n    this.setState({\r\n      overlayUpdateTipsVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSplit() {\r\n    this.setState({\r\n      overlaySplitBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnsplit() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUnsplitBill' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Unsplit Bill',\r\n        text: 'Unsplit Bill for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressMerge() {\r\n    this.setState({\r\n      overlayMergeBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnmerge(printer) {\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'UNMERGE BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unmerge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unmerge-bill successful', response.opentable);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unmerge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleViewSplitted() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/splitted-receipts';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get splitted-receipts successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          splitReceipts: response?.filter(el => el.recKey > 0),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, cashierPrinters, privileges, settings, selectedTable } = this.state;\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'OPEN DRAWER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'handleDeletePayment') {\r\n      this.handleDeletePayment();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    } else if (text === 'handleUnsplitBill') {\r\n      this.handleUnsplitBill();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromPaynow(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayPaynowVisible: false,\r\n      });\r\n      return;\r\n    }\r\n  }\r\n\r\n  handleUpdateFromInputReference(text) {\r\n    this.setState({ overlayInputReferenceVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/payment-reference';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n      ref: text,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post payment-reference successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Payment Reference',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplitBill(number, type) {\r\n    if (!number) {\r\n      this.setState({ overlaySplitBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-split-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      splitCount: number,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-split-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Split Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'ITEM') {\r\n          this.setState({\r\n            splitting: true,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else if (type === 'AMOUNT') {\r\n          this.setState({\r\n            overlaySplitAmountVisible: true,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else {\r\n\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplit(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            selectedTable: response.opentable,\r\n            overlaySplitBillVisible: false,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceipts: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          itemPercentages: el.receiptItems.map(obj => ({\r\n            itemRecKey: obj.recKey,\r\n            percentage: obj.percentage,\r\n          }))\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromSplitAmount(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    this.setState({\r\n      overlaySplitAmountVisible: false,\r\n    });\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt-byamt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceiptsByamt: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          amt: el.amount,\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromMergeBill(table, printer) {\r\n    if (!table) {\r\n      this.setState({ overlayMergeBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      shopId: home.shopId,\r\n      tableIdGuest: table.tableId,\r\n      iomodelId: printer && printer.iomodelId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n          overlayMergeBillVisible: false,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromUpdateTips(number, method) {\r\n    this.setState({ overlayUpdateTipsVisible: false });\r\n    if (!number) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-tips';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      tips: Number(number).toFixed(2),\r\n      pmId: method?.pmId || '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-tips successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Tips',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            `${number},${method?.pmId}`,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromViewSplitted(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayViewSplittedVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'UNMERGE BILL') {\r\n      this.handlePressUnmerge(printer);\r\n    } else if (purpose === 'FINISH PAYMENT') {\r\n      this.handleFinishPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.handleOpenDrawer(printer);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege, settings, selectedPrinter, selectedTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.handleOpenDrawer(selectedPrinter, response.userId);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable,\r\n      overlayInputReferenceVisible, overlayMergeBillVisible, overlaySplitBillVisible, overlayUpdateTipsVisible,\r\n      overlaySplitAmountVisible, overlayViewSplittedVisible, overlayRequestAccessVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayPaynowVisible, overlayPaynowInput,\r\n      numberString, paymentMethods, payments, selectedPaymentMethod, pay,\r\n      splitting, availableReceipts, splitReceipts, tableItems, requestedPrivilege,\r\n      selectedPrinter, printPurpose, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible, loading,\r\n    } = this.state;\r\n\r\n    console.log('in pos');\r\n\r\n    if (splitting) {\r\n      return (\r\n        <Split\r\n          serviceEntry={serviceEntry}\r\n          home={home}\r\n          selectedTable={selectedTable}\r\n          availableReceipts={availableReceipts}\r\n          tableItems={tableItems}\r\n          cashierPrinters={cashierPrinters}\r\n          handleUpdateFromSplit={this.handleUpdateFromSplit} />\r\n      );\r\n    }\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayInputReferenceVisible &&\r\n          <OverlayInputReference\r\n            handleUpdateFromInputReference={this.handleUpdateFromInputReference} />\r\n        }\r\n        {\r\n          overlayMergeBillVisible &&\r\n          <OverlayMergeBill\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            cashierPrinters={cashierPrinters}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeBill={this.handleUpdateFromMergeBill} />\r\n        }\r\n        {\r\n          overlaySplitBillVisible &&\r\n          <OverlaySplitBill\r\n            handleUpdateFromSplitBill={this.handleUpdateFromSplitBill} />\r\n        }\r\n        {\r\n          overlaySplitAmountVisible &&\r\n          <OverlaySplitAmount\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromSplitAmount={this.handleUpdateFromSplitAmount} />\r\n        }\r\n        {\r\n          overlayViewSplittedVisible &&\r\n          <OverlayViewSplitted\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            handleUpdateFromViewSplitted={this.handleUpdateFromViewSplitted} />\r\n        }\r\n        {\r\n          overlayUpdateTipsVisible &&\r\n          <OverlayUpdateTips\r\n            paymentMethods={paymentMethods}\r\n            handleUpdateFromUpdateTips={this.handleUpdateFromUpdateTips} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayPaynowVisible &&\r\n          <OverlayPaynow\r\n            home={home}\r\n            input={overlayPaynowInput}\r\n            handleUpdateFromPaynow={this.handleUpdateFromPaynow} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.leftFirstContainer}>\r\n            <View style={styles.rowOf5}>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => navigation.goBack()}>\r\n                <Text style={[styles.headerKeyTextTableId,]}>{selectedTable.tableId}</Text>\r\n                <Text style={[styles.headerKeyText, { marginTop: 0 }]}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.headerKeyContainer, (selectedTable.splitFlg === 'Y') && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressTips()}\r\n                disabled={selectedTable.splitFlg === 'Y'}>\r\n                <AntDesign name='like2' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('tips')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => this.handleOpenDrawer()}>\r\n                <AntDesign name='laptop' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('drawer')}</Text>\r\n              </TouchableOpacity>\r\n              {\r\n                selectedTable.splitFlg === 'Y' ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnsplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unsplit')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressSplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('splitbill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n              {\r\n                selectedTable.hostFlg === 'Y' || selectedTable.refTableId\r\n                  ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnmerge()}>\r\n                    <AntDesign name='menuunfold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unmerge')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={[styles.headerKeyContainer, selectedTable.splitFlg === 'Y' && { opacity: 0.2 }]}\r\n                    disabled={selectedTable.splitFlg === 'Y'}\r\n                    onPress={() => this.handlePressMerge()}>\r\n                    <AntDesign name='menufold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('mergebill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n          <View style={styles.leftSecondContainer}>\r\n            <View style={styles.tableSummaryContainer}>\r\n              <View style={styles.tableSummaryTitleContainer}>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('beforedisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('totaldisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('servicecharge')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tax')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tips')} {selectedTable.tipsPmId}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.reserved }]}>{intl.get('grandtotal')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.paid }]}>{intl.get('pay')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('balance')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tender')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('change')}</Text>\r\n                </View>\r\n              </View>\r\n              <View style={styles.tableSummaryValueContainer}>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.beforeDisc ? selectedTable.beforeDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalDisc ? selectedTable.totalDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.serviceCharge ? selectedTable.serviceCharge.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalTax ? selectedTable.totalTax.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tips ? selectedTable.tips.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.reserved }]}>{selectedTable.grandTotal.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.paid }]}>{pay.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.balance.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tender.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.change.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n            <ScrollView\r\n              style={{ maxHeight: 30, }}\r\n              horizontal={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                selectedTable.vipId &&\r\n                <View\r\n                  style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{selectedTable.vipId || '-'}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.reserved, }}>{selectedTable.vipName || '-'}</Text>\r\n                </View>\r\n              }\r\n              {\r\n                splitReceipts && splitReceipts.map(item =>\r\n                  <View key={item.recKey.toString()}\r\n                    style={{ flexDirection: 'row', flex: 1, alignItems: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{item.docId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', }}>{item.grandTotal ? item.grandTotal.toFixed(2) : '-'}</Text>\r\n                  </View>)\r\n              }\r\n            </ScrollView>\r\n            <View style={{ flex: 1, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n              <View style={styles.paymentsContainer}>\r\n                <View style={styles.paymentsFirst}><Text style={styles.paymentsTitleText}>No.</Text></View>\r\n                <View style={styles.paymentsSecond}><Text style={styles.paymentsTitleText}>Payment ID</Text></View>\r\n                <View style={styles.paymentsThird}><Text style={styles.paymentsTitleText}>Ref</Text></View>\r\n                <View style={styles.paymentsFourth}><Text style={styles.paymentsTitleText}>Amount</Text></View>\r\n              </View>\r\n              <ScrollView\r\n                style={{ flex: 1 }}\r\n                ref={ref => this.posScrollView = ref}\r\n                onContentSizeChange={(contentWidth, contentHeight) => {\r\n                  this.posScrollView.scrollToEnd({ animated: true });\r\n                }}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  payments.map((item, index) => (\r\n                    <View style={styles.datumContainer} key={index}>\r\n                      <View style={styles.datumFirst}><Text style={styles.datumText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={styles.datumSecond} onPress={() => this.handlePressPaymentItem(item)}>\r\n                        <Text style={styles.datumText}>{item.name}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.datumThird} onPress={() => this.handlePressPaymentItemRef(item)}>\r\n                        <Text style={styles.datumText}>{item.payRef}</Text>\r\n                      </TouchableOpacity>\r\n                      <View style={styles.datumFourth}><Text style={styles.datumText}>{item.payMoney.toFixed(2)}</Text></View>\r\n                    </View>\r\n                  ))\r\n                }\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n          <View style={styles.rowOf5}>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              disabled={true}\r\n              style={styles.headerKeyContainer}>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightFirstContainer}>\r\n            <FlatList\r\n              style={{ flex: 3 }}\r\n              showsVerticalScrollIndicator={false}\r\n              numColumns={5}\r\n              data={paymentMethods}\r\n              extraData={selectedPaymentMethod}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => {\r\n                return (\r\n                  <View style={{ flex: 1 / 5, height: keyHeight }}>\r\n                    <TouchableOpacity\r\n                      style={[item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyContainer : styles.functionKeyContainer, item.pmId ? null : { opacity: 0.2 },]}\r\n                      onPress={() => this.handleSelectPaymentMethod(item)}>\r\n                      <Text style={item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyText : styles.functionKeyText}>{item.pmId}</Text>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )\r\n              }}\r\n            />\r\n          </View>\r\n          <View style={styles.rightFirstNumberContainer}>\r\n            <Text style={styles.rightFirstNumberText}>{numberString}</Text>\r\n          </View>\r\n          <View style={styles.rightSecondContainer}>\r\n            <View style={styles.rightSecondLeftContainer}>\r\n              <TouchableOpacity style={styles.clearContainer} onPress={() => this.handleBuildNumberString('CLEAR')}>\r\n                <Text style={styles.keyText}>\r\n                  CLEAR\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.rightSecondMiddleContainer}>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('7')}>\r\n                  <Text style={styles.keyNumberText}>7</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('4')}>\r\n                  <Text style={styles.keyNumberText}>4</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('1')}>\r\n                  <Text style={styles.keyNumberText}>1</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('0')}>\r\n                  <Text style={styles.keyNumberText}>0</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('8')}>\r\n                  <Text style={styles.keyNumberText}>8</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('5')}>\r\n                  <Text style={styles.keyNumberText}>5</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('2')}>\r\n                  <Text style={styles.keyNumberText}>2</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('.')}>\r\n                  <Text style={styles.keyNumberText}>.</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('9')}>\r\n                  <Text style={styles.keyNumberText}>9</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('6')}>\r\n                  <Text style={styles.keyNumberText}>6</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('3')}>\r\n                  <Text style={styles.keyNumberText}>3</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('00')}>\r\n                  <Text style={styles.keyNumberText}>00</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.rightSecondRightContainer}>\r\n              <TouchableOpacity style={styles.backspaceContainer} onPress={() => this.handleBuildNumberString('DEL')}>\r\n                {/* <Ionicons name='ios-arrow-round-back' size={48} color='white' /> */}\r\n                <Text style={styles.keyText}>\r\n                  DEL\r\n                </Text>\r\n              </TouchableOpacity>\r\n              {\r\n                selectedTable.balance !== 0 ?\r\n                  <TouchableOpacity style={[styles.enterContainer, loading && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleEnterButton()}\r\n                    disabled={loading}\r\n                  >\r\n                    {/* <Ionicons name='ios-return-left' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      ENTER\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={[styles.finishContainer, loading && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleFinishButton()}\r\n                    disabled={loading}\r\n                  >\r\n                    {/* <Ionicons name='ios-arrow-up' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      FINISH\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n  },\r\n  leftFirstContainer: {\r\n    // backgroundColor: 'blue',\r\n    flex: 1,\r\n  },\r\n  leftSecondContainer: {\r\n    flex: 6,\r\n    margin: 5,\r\n  },\r\n  rightFirstContainer: {\r\n    flex: 3,\r\n  },\r\n  rightSecondContainer: {\r\n    flex: 4,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondLeftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightSecondMiddleContainer: {\r\n    flex: 3,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondRightContainer: {\r\n    flex: 1,\r\n  },\r\n  rowOf5: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightFirstNumberContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tableSummaryContainer: {\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'row',\r\n    // backgroundColor: 'brown',\r\n    marginHorizontal: 60,\r\n    marginTop: 10,\r\n    marginBottom: 20,\r\n  },\r\n  tableSummaryTitleContainer: {\r\n    alignItems: 'flex-start',\r\n    // backgroundColor: 'green'\r\n  },\r\n  tableSummaryValueContainer: {\r\n    alignItems: 'flex-end',\r\n    // backgroundColor: 'blue'\r\n  },\r\n  tableSummaryTitle: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n    // backgroundColor:'red'\r\n  },\r\n  tableSummaryValue: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  tableSummaryTitleText: {\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n    color: 'white',\r\n  },\r\n  tableSummaryValueText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  keyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backspaceContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  enterContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.reserved,\r\n  },\r\n  finishContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.occupied,\r\n    borderRadius: 5,\r\n    borderWidth: 2,\r\n    borderColor: 'white',\r\n  },\r\n  clearContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.paid,\r\n  },\r\n  functionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  activeFunctionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'white',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyTextTableId: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 24,\r\n  },\r\n  headerKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 12,\r\n  },\r\n  keyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  keyNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  functionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  activeFunctionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey3,\r\n    textAlign: 'center',\r\n  },\r\n  rightFirstNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 64,\r\n  },\r\n  paymentsContainer: {\r\n    height: 30,\r\n    // backgroundColor: 'white',\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n  },\r\n  dataContainer: {\r\n    flex: 1,\r\n  },\r\n  paymentsFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey2,\r\n  },\r\n  paymentsSecond: {\r\n    flex: 3,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsThird: {\r\n    flex: 5,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  paymentsTitleText: {\r\n    color: theme.grey5,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  datumFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  datumSecond: {\r\n    flex: 3,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  datumThird: {\r\n    flex: 5,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  datumFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  datumText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  datumContainer: {\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Adhoc extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      menus: props.route.params.masters.menus,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedAdhocItem: '',\r\n      selectedMenu: '',\r\n      adhocItems: [],\r\n\r\n      searchText: '',\r\n      availableMenus: props.route.params.masters.menus.filter(menu => {\r\n        return menu.menuType === 'X';\r\n      }),\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSelectAdhoc = this.handleSelectAdhoc.bind(this);\r\n    this.handlePressSettleAsMenu = this.handlePressSettleAsMenu.bind(this);\r\n    this.handlePressSettleAsRetail = this.handlePressSettleAsRetail.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doGet();\r\n  }\r\n\r\n  doGet() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/opentable-adhocs';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get opentable-adhocs successful', response);\r\n        // to state\r\n        this.setState({\r\n          adhocItems: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    this.setState({\r\n      selectedAdhocItem: item,\r\n      selectedMenu: '',\r\n    });\r\n  }\r\n\r\n  handleSelectAdhoc(item) {\r\n    const { selectedAdhocItem } = this.state;\r\n    if (!selectedAdhocItem) return;\r\n    this.setState({\r\n      selectedMenu: item,\r\n    });\r\n  }\r\n\r\n  handlePressSettleAsMenu() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, settings, selectedTable, selectedAdhocItem, selectedMenu } = this.state;\r\n\r\n    if (!selectedAdhocItem) return;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      orderQty: '1',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Adhoc Settle Menu',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedAdhocItem.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.doGet();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressSettleAsRetail() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, settings, selectedTable, selectedAdhocItem } = this.state;\r\n\r\n    if (!selectedAdhocItem) return;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      // restmenuRecKey: menu.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      orderQty: selectedAdhocItem.orderQty,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Adhoc Settle Retail',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedAdhocItem.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.doGet();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus.filter(menu => {\r\n      return menu.menuType === 'X';\r\n    });\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, adhocItems, selectedAdhocItem, selectedMenu, searchText, availableMenus,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in adhoc',);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n              <Text style={styles.overlaySubtitleText}>Ad Hoc</Text>\r\n              <Text style={styles.overlayTitleText}>{adhocItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={[styles.button, { opacity: 0.2 }]}\r\n                disabled={true}\r\n                onPress={() => this.handlePressSettleAsRetail()}>\r\n                <Text style={styles.buttonText}>Settle</Text>\r\n                <Text style={styles.buttonText}>As</Text>\r\n                <Text style={styles.buttonText}>Retail</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={!selectedMenu}\r\n                onPress={() => this.handlePressSettleAsMenu()}>\r\n                <Text style={styles.buttonText}>Settle</Text>\r\n                <Text style={styles.buttonText}>As</Text>\r\n                <Text style={styles.buttonText}>Menu</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                adhocItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    style={[styles.tableItemContainer, (selectedAdhocItem.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}>\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.name}\r\n                      </Text>\r\n                      <Text style={styles.tableItemText}>\r\n                        {moment(item.createDate).format(\"HH:mm\")}\r\n                      </Text>\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={styles.actionButton}\r\n              onPress={() => navigation.goBack()}>\r\n              <Text style={[styles.buttonText, { color: theme.paid }]}>QUIT</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightWrapper}>\r\n            <View style={styles.searchBox}>\r\n              <TextInput style={styles.searchBoxInputValue}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                value={searchText}\r\n                onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n              />\r\n              <TouchableOpacity style={styles.searchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={{ flex: 1 }}\r\n              data={availableMenus}\r\n              keyExtractor={item => item.recKey.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  key={item.recKey}\r\n                  style={[styles.grid, (selectedMenu.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.handleSelectAdhoc(item)}>\r\n                  <View style={styles.gridFirst}>\r\n                    <View style={styles.gridFirstLeft}>\r\n                      <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                    </View>\r\n                    <View style={styles.gridFirstRight}>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.gridSecond}>\r\n                    <Text style={styles.gridSecondText}>\r\n                      {item.menuName}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.gridThird}>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  rightWrapper: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    width: '100%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    width: 400,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    height: 80,\r\n    width: 400,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Dayclose extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      dayclosePayments: props.route.params.dayclosePayments,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n\r\n    this.handleFinishDayclose = this.handleFinishDayclose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleFinishDayclose(printer);\r\n  }\r\n\r\n  handleFinishDayclose(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, dayclosePayments, cashierPrinters } = this.state;\r\n    if (dayclosePayments.length === 0) {\r\n      return;\r\n    }\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/finish-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      daycloseRecKey: dayclosePayments[0].masRecKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Dayclose',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { dayclosePayments, cashierPrinters, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in dayclose');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='DAY-END CLOSE'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>BACK</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Day-end Closing</Text>\r\n            <Text style={styles.overlayTitleText}>{dayclosePayments.length} PAYMENT METHODS</Text>\r\n          </View>\r\n          <View style={styles.summary}>\r\n            <Text style={styles.summaryText}>TOTAL</Text>\r\n            <Text style={styles.summaryTotalText}>{dayclosePayments.reduce((init, obj) => { return init + obj.systemAmt }, 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</Text>\r\n            <Text style={styles.overlayTitleText}>\r\n              {/* OVER {dayclosePayments.filter(el => el.systemAmt !== 0).length} PAYMENT METHODS */}\r\n            </Text>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <View style={styles.titleFirstContainer}>\r\n              <Text style={styles.titleText}>Line No.</Text>\r\n            </View>\r\n            <View style={styles.titleSecondContainer}>\r\n              <Text style={styles.titleText}>Payment ID</Text>\r\n            </View>\r\n            <View style={styles.titleThirdContainer}>\r\n              <Text style={styles.titleText}>Payment Name</Text>\r\n            </View>\r\n            <View style={styles.titleFourthContainer}>\r\n              <Text style={styles.titleText}>Amount</Text>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            data={dayclosePayments}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <View style={[styles.tableItemContainer]}>\r\n                <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.lineNo}</Text></View>\r\n                <View style={styles.tableItemSecondContainer}>\r\n                  <Text style={styles.tableItemText}>\r\n                    {item.pmId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.tableItemThirdContainer}>\r\n                  <Text style={styles.tableItemText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.tableItemFourthContainer}>\r\n                  <Text style={styles.tableItemText}>\r\n                    {item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                  </Text>\r\n                </View>\r\n              </View>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleFinishDayclose()}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>DAY CLOSE</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  titleFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 20,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 20,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  summary: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  summaryTotalText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    color: theme.reserved,\r\n    textAlign: 'center',\r\n  },\r\n  summaryText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Printer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printers: [],\r\n      loading: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home, serviceEntry } = this.state;\r\n    let url = serviceEntry + 'api/iomodels';\r\n    const params = new URLSearchParams();\r\n    params.append('posNo', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('iomodels', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          printers: response,\r\n        }, () => this.handlePingAll())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingPrinter(item) {\r\n    const { serviceEntry, printers } = this.state;\r\n\r\n    let printersUpdate0 = printers;\r\n    printersUpdate0.find(el => el.recKey === item.recKey).statusFlg = 'PING...';\r\n    this.setState({\r\n      printers: printersUpdate0,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/iomodels/' + item.recKey;\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('ping iomodel', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        let printersUpdate = printers;\r\n        if (response.msgId === 'OK') {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'ONLINE';\r\n        } else {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'OFFLINE';\r\n        }\r\n        this.setState({\r\n          printers: printersUpdate,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPingAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handlePingAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Ping All Printers',\r\n        text: 'Send ping to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressTestAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleTestAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Test All Printers',\r\n        text: 'Send test command to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handleTestAll() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/test-printer';\r\n    const params = new URLSearchParams();\r\n    params.append('userId', home.userId);\r\n    params.append('orgId', home.orgId);\r\n    params.append('locId', home.locId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET',\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post test-printer successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingAll() {\r\n    const { printers } = this.state;\r\n    printers.forEach(el => this.handlePingPrinter(el));\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleTestAll') {\r\n      this.handleTestAll();\r\n    } else if (text === 'handlePingAll') {\r\n      this.handlePingAll();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { printers, loading,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('in printers');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2 === 0) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}\r\n                        >\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          key={item.recKey}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}\r\n                        >\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressPingAll()}\r\n              >\r\n                <AntDesign\r\n                  name='fork'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>PING {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressTestAll()}\r\n              >\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('test')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayEnterDate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dateString: props.dateString ? moment(props.dateString).format('YYYY-MM-DD') : moment(new Date()).format('YYYY-MM-DD'),\r\n      valid: true,\r\n    }\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleValidate(dateString) {\r\n    this.setState({\r\n      dateString,\r\n      valid: moment(dateString, 'YYYY-MM-DD', true).isValid(),\r\n    });\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    const { dateString } = this.state;\r\n    if (type === 'PLUS') {\r\n      let dateStringUpdate = moment(dateString).add(1, 'days').format('YYYY-MM-DD');\r\n\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      let dateStringUpdate = moment(dateString).subtract(1, 'days').format('YYYY-MM-DD');\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { dateString, valid } = this.state;\r\n    console.log('in overlayenterdate', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Enter Date</Text>\r\n          </View>\r\n          <View style={styles.inputRow}>\r\n            <TouchableOpacity style={styles.inputRowFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.inputRowSecond}>\r\n              <TextInput style={[styles.textInput, !valid && { color: theme.paid }]}\r\n                keyboardType='numeric'\r\n                value={dateString}\r\n                onChangeText={(dateString) => this.handleValidate(dateString)}\r\n              />\r\n            </View>\r\n            <TouchableOpacity style={styles.inputRowThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity onPress={() => this.setState({ dateString: moment().format('YYYY-MM-DD'), valid: true })}>\r\n            <Text style={styles.overlayText}>YYYY-MM-DD</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }, !valid && { opacity: 0.2 }]}\r\n            disabled={!valid}\r\n            onPress={() => this.props.handleUpdateFromEnterDate(dateString, this.props.dateType)}>\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromEnterDate('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    width: '100%',\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowFirst: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowSecond: {\r\n    flex: 1,\r\n    minWidth: 80,\r\n    width: 150,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowThird: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Report extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedButton: '',\r\n      fromDateString: moment().format('YYYY-MM-DD'),\r\n      toDateString: moment().format('YYYY-MM-DD'),\r\n      reportDetails: '',\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleSelectReport = this.handleSelectReport.bind(this);\r\n    this.handlePrintReport = this.handlePrintReport.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handlePressDate(type) {\r\n    const { fromDateString, toDateString } = this.state;\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n      selectedDateType: type,\r\n      selectedDateString: type === 'FROMDATE' ? fromDateString : toDateString,\r\n    })\r\n  }\r\n\r\n  handleSelectReport(report, superUserId) {\r\n    const { serviceEntry, home, privileges, fromDateString, toDateString } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === report)) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: report,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedButton: report,\r\n    });\r\n    console.log('report');\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: report,\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePrintReport(printer) {\r\n    const { home, serviceEntry, cashierPrinters, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    if (!selectedButton) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/print-bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, type) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    let fromDateStringUpdate = fromDateString;\r\n    let toDateStringUpdate = toDateString;\r\n\r\n    if (type === 'TODATE') {\r\n      toDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    } else {\r\n      fromDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    }\r\n\r\n    this.setState({\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handlePrintReport(printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSelectReport(requestedPrivilege, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, cashierPrinters,\r\n      selectedButton, reportDetails, requestedPrivilege,\r\n      fromDateString, toDateString, selectedDateString, selectedDateType,\r\n      overlayProcedureMessageVisible, overlayEnterDateVisible,\r\n      overlayChoosePrinterVisible, overlayRequestAccessVisible } = this.state;\r\n    console.log('in reports');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            dateType={selectedDateType}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='PRINT REPORT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUESUM' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUESUM')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>SUMMARY</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUEDTL' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUEDTL')}\r\n            >\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>DETAIL</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'COLLECTION' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('COLLECTION')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>PAYMENT</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>COLLECTION</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reports')}</Text>\r\n            <View style={styles.gap}></View>\r\n            <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('FROMDATE')}>\r\n                <Text style={styles.overlayTitleText}>{fromDateString}</Text>\r\n              </TouchableOpacity>\r\n              <Text style={styles.overlayTitleText}>    /    </Text>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('TODATE')}>\r\n                <Text style={styles.overlayTitleText}>{toDateString}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>\r\n              {selectedButton === 'REVENUESUM' ?\r\n                'REVENUE SUMMARY'\r\n                :\r\n                selectedButton === 'REVENUEDTL' ?\r\n                  'REVENUE DETAIL'\r\n                  :\r\n                  selectedButton === 'COLLECTION' ?\r\n                    'PAYMENT COLLECTION'\r\n                    : null}\r\n            </Text>\r\n          </View>\r\n          {\r\n            reportDetails ?\r\n              <ScrollView style={styles.reportContainer}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  reportDetails.map((item, index) =>\r\n                    <View style={styles.reportLineContainer}\r\n                      key={item.recKey}\r\n                    >\r\n                      <View style={styles.reportLineFirst}>\r\n                        <Text style={styles.reportLineFirstText}>{item.description}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineSecond}>\r\n                        <Text style={styles.reportLineSecondText}>{item.qty}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineThird}>\r\n                        <Text style={styles.reportLineThirdText}>{item.val ? item.val.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) : null}</Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </ScrollView>\r\n              : null\r\n          }\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button, !selectedButton && { opacity: 0.2 }]}\r\n              disabled={!selectedButton}\r\n              onPress={() => this.handlePrintReport()}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('print')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n    alignItems: 'center',\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  selection: {\r\n    width: '100%',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  reportContainer: {\r\n    flex: 1,\r\n    width: 440,\r\n    borderTopLeftRadius: 5,\r\n    borderTopRightRadius: 5,\r\n    backgroundColor: theme.grey2,\r\n    padding: 20,\r\n  },\r\n  reportLineContainer: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n  },\r\n  reportLineFirst: {\r\n    width: 240,\r\n  },\r\n  reportLineSecond: {\r\n    width: 60,\r\n  },\r\n  reportLineThird: {\r\n    width: 100,\r\n    alignItems: 'flex-end',\r\n  },\r\n  reportLineFirstText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineSecondText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineThirdText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, ScrollView,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class Reprint extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n\r\n      selectedButton: 'ORDERS',\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      searchText: '',\r\n      receiptsxText: '',\r\n\r\n      headers: '',\r\n      pays: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handlePressSearch = this.handlePressSearch.bind(this);\r\n    this.handleSelectButton = this.handleSelectButton.bind(this);\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleReprint = this.handleReprint.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/orders';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('orders', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response,\r\n          availableMasters: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSearch() {\r\n    const { serviceEntry, home, receiptsxText } = this.state;\r\n    this.setState({\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!receiptsxText) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/receipts-search';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('searchInput', receiptsxText);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas,\r\n          availableMasters: response.receiptmas,\r\n          searches: response.receiptpaydtl,\r\n          details: [],\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton } = this.state;\r\n    let url = serviceEntry;\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (selectedButton === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectButton(type) {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n\r\n    this.setState({\r\n      details: [],\r\n      selectedMaster: '',\r\n      selectedButton: type,\r\n      pays: '',\r\n      headers: '',\r\n    })\r\n\r\n    // early exit for RECEIPTSX \r\n    if (type === 'RECEIPTSX') {\r\n      this.setState({\r\n        masters: [],\r\n        availableMasters: [],\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    if (type === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (type === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (type === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry, selectedButton } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry;\r\n    console.log('item', selectedButton, item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + item.recKey + '/bundle';\r\n    } else {\r\n      url += 'api/daycloses/' + item.recKey + '/amts';\r\n    }\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n          this.setState({\r\n            details: response.receiptitems,\r\n            pays: response.receiptpays,\r\n            headers: response.receiptmas\r\n          });\r\n        } else {\r\n          this.setState({\r\n            details: response,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleReprint(printer) {\r\n    const { serviceEntry, home, cashierPrinters, selectedMaster, selectedButton } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    // console.log('item', item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + selectedMaster.recKey + '/reprint';\r\n    } else {\r\n      url += 'api/daycloses/' + selectedMaster.recKey + '/reprint';\r\n    }\r\n    console.log('debug', home.defaultPrinter);\r\n    const body = {\r\n      userId: home.userId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post reprint successful', response);\r\n\r\n        // to state\r\n\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || item.createUserId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleReprint(printer);\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { cashierPrinters, selectedButton, masters, availableMasters, details, searchText, receiptsxText,\r\n      selectedMaster, selectedDateString,\r\n      pays, headers,\r\n      overlayChoosePrinterVisible, overlayEnterDateVisible, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='REPRINT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <ScrollView\r\n                style={styles.selectionContainer}\r\n                alwaysBounceVertical={false}\r\n                showsVerticalScrollIndicator={false}>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'ORDERS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('ORDERS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'ORDERS' && { color: theme.grey1 }]}>ORDERS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'KOTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('KOTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'KOTS' && { color: theme.grey1 }]}>KOTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTS' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTSX' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTSX')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTSX' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                  <Text style={[styles.selectionText, { color: theme.paid }]}>UNKNOWN DATE</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'DAYCLOSES' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('DAYCLOSES')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'DAYCLOSES' && { color: theme.grey1 }]}>DAY CLOSES</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                {\r\n                  selectedButton !== 'RECEIPTSX' ?\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={searchText}\r\n                        onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                          Keyboard.dismiss()\r\n                        }}\r\n                      >\r\n                        <AntDesign name='close' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    :\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={receiptsxText}\r\n                        onChangeText={(text) => this.setState({ receiptsxText: text })}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.handlePressSearch();\r\n                          Keyboard.dismiss();\r\n                        }}\r\n                      >\r\n                        <AntDesign name='search1' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                }\r\n                <View style={styles.searchBoxInfo}>\r\n                  {\r\n                    selectedButton !== 'RECEIPTSX' &&\r\n                    <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                      onPress={() => this.handlePressDate()}\r\n                    >\r\n                      <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{selectedButton === 'RECEIPTSX' && moment(item.createDate).format(\"YYYY-MM-DD \")}{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX' ?\r\n                  <View style={styles.gridContainer}>\r\n                    <View style={styles.overlayHeader}>\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </View>\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>Qty</Text>\r\n                      </View>\r\n                      <View style={styles.titleSecondContainer}>\r\n                        <Text style={styles.titleText}>Desc</Text>\r\n                      </View>\r\n                      <View style={styles.titleThirdContainer}>\r\n                        <Text style={styles.titleText}>Price</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Total</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={details}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item }) => (\r\n                        <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <TouchableOpacity style={styles.tableItemSecondContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.netPrice && item.netPrice.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>No.</Text>\r\n                      </View>\r\n                      <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                        <Text style={styles.titleText}>PM ID</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Amount</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={pays}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item, index }) => (\r\n                        <TouchableOpacity\r\n                          style={[styles.tableItemContainer]}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                          <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.pmId}\r\n                            </Text>\r\n                            {\r\n                              item.payRef &&\r\n                              <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                                {item.payRef}\r\n                              </Text>\r\n                            }\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={{ flex: 1 }}>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>DISCOUNT</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={styles.gridContainer}>\r\n                    <TouchableOpacity style={styles.overlayHeader}\r\n                      onPress={() => this.setState({ selectedMaster: '', details: [] })}\r\n                    >\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </TouchableOpacity>\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                            <Text style={styles.titleText}>Payment Method</Text>\r\n                          </View>\r\n                          <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                            <Text style={styles.titleText}>Amount</Text>\r\n                          </View>\r\n                        </View>\r\n                        :\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={styles.titleFirstContainer}>\r\n                            <Text style={styles.titleText}>Qty</Text>\r\n                          </View>\r\n                          <View style={styles.titleSecondContainer}>\r\n                            <Text style={styles.titleText}>Desc</Text>\r\n                          </View>\r\n                          <View style={styles.titleThirdContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Price'}</Text>\r\n                          </View>\r\n                          <View style={styles.titleFourthContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Total'}</Text>\r\n                          </View>\r\n                        </View>\r\n                    }\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.tableItemContainer]}\r\n                            >\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                              >\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.pmId}\r\n                                </Text>\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  ${item.systemAmt && item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                        :\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.tableItemContainer]}\r\n                            >\r\n                              <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                              >\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.refRecKey ? '- ' : null}{item.menuName}\r\n                                </Text>\r\n                                {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemThirdContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.netPrice && item.netPrice.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.lineTotal && item.lineTotal.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                    }\r\n                  </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMaster && { opacity: 0.2 }]}\r\n                onPress={() => this.handleReprint()}\r\n                disabled={!selectedMaster}\r\n              >\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView, FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Resequence extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      selectedTableItems: [],\r\n      arrangedItems: props.route.params.tableItems.filter(el => el.confirmFlg === 'N'),\r\n\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n    this.handleAddLineBreak = this.handleAddLineBreak.bind(this);\r\n    this.handleRemoveLineBreak = this.handleRemoveLineBreak.bind(this);\r\n    this.handleResequence = this.handleResequence.bind(this);\r\n    this.handleShiftTop = this.handleShiftTop.bind(this);\r\n    this.handleShiftUp = this.handleShiftUp.bind(this);\r\n    this.handleShiftDown = this.handleShiftDown.bind(this);\r\n    this.handleShiftBottom = this.handleShiftBottom.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('menu selected', item);\r\n    const { selectedTableItems, arrangedItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = [];\r\n    selectedTableItemsUpdate.push(item);\r\n    let comboItems = [];\r\n    comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n    console.log('comboItems', comboItems);\r\n    comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleReset() {\r\n    this.setState({\r\n      arrangedItems: this.state.tableItems.filter(el => el.confirmFlg === 'N'),\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleAddLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'Y';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleRemoveLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'N';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftTop() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.unshift(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToOffset({ animated: true, offset: 0 }));\r\n  }\r\n\r\n  handleShiftUp() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === 0) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index - 1;\r\n    if (arrangedItems[spliceIndex].refRecKey) {\r\n      spliceIndex = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === arrangedItems[index - 1].refRecKey));\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftDown() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === arrangedItems.length - selectedTableItems.length) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index + 1;\r\n    if (arrangedItemsUpdate.some(el => el.refRecKey === arrangedItemsUpdate[index].recKey)) {\r\n      let skip = arrangedItems.filter(el => el.refRecKey === arrangedItemsUpdate[index].recKey).length;\r\n      console.log('skip', skip);\r\n      spliceIndex += skip;\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftBottom() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.push(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToEnd());\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleResequence() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, tableItems, arrangedItems } = this.state;\r\n\r\n    // count sent table items\r\n    let skip = tableItems.filter(el => el.confirmFlg === 'Y').length;\r\n    console.log('skip', skip);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/resequence';\r\n    const itemPayloads = arrangedItems.map((el, index) =>\r\n    ({\r\n      opentableItemRecKey: el.recKey,\r\n      lineNo: el.lineNo,\r\n      newLineNo: index + 1 + skip,\r\n      lineBreak: el.lineBreak,\r\n    })\r\n    );\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post resequence successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Resequence Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, tableItems, arrangedItems, selectedTableItems,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in resequence', selectedTableItems, arrangedItems);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleReset()}>\r\n              <AntDesign name='reload1' size={36} color='white' />\r\n              <Text style={styles.buttonText}>Reset</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              !selectedTableItems[0] ?\r\n                <View style={[styles.button, { opacity: 0.2 }]}>\r\n                  <AntDesign name='minus' size={36} color='white' />\r\n                  <Text style={styles.buttonText}>Add Break</Text>\r\n                </View>\r\n                :\r\n                selectedTableItems[0].lineBreak === 'Y' ?\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleRemoveLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Remove Break</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleAddLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Add Break</Text>\r\n                  </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleResequence()}>\r\n              <AntDesign name='bars' size={36} color={theme.reserved} />\r\n              <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('resequence')}</Text>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={arrangedItems}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <View>\r\n                {\r\n                  item.lineBreak === 'Y' &&\r\n                  <View style={styles.lineBreakContainer}>\r\n                    <Text style={[styles.tableItemText, { color: theme.paid }]}>- Line Break -</Text>\r\n                  </View>\r\n                }\r\n                <TouchableOpacity\r\n                  disabled={item.refRecKey ? true : false}\r\n                  style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                  onPress={() => this.handleSelectTableItem(item)}>\r\n                  <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.refRecKey && '- '}{item.menuName}\r\n                    </Text>\r\n                    {\r\n                      item.menuMod &&\r\n                      <Text style={styles.tableItemModText}>{item.menuMod}</Text>\r\n                    }\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                    </Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftTop()}>\r\n              <AntDesign name='arrowup' size={36} color='white' />\r\n              <Text style={styles.buttonText}>TOP</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftUp()}>\r\n              <AntDesign name='up' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftDown()}>\r\n              <AntDesign name='down' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftBottom()}>\r\n              <AntDesign name='arrowdown' size={36} color='white' />\r\n              <Text style={styles.buttonText}>BOTTOM</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  lineBreakContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Transfer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      tableItems: props.route.params.tableItems,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      tables: [],\r\n      availableTables: [],\r\n      selectedTargetTable: '',\r\n      selectedTableItems: [],\r\n      searchText: '',\r\n\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTargetTable = this.handleSelectTargetTable.bind(this);\r\n    this.handlePressSelectAll = this.handlePressSelectAll.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('tables', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.tableId !== selectedTable.tableId),\r\n          availableTables: response.filter(el => el.tableId !== selectedTable.tableId),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  generateTextForSelectAll() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return 'SELECT ALL';\r\n    } else {\r\n      return 'DESELECT ALL';\r\n    }\r\n  }\r\n\r\n  handlePressSelectAll() {\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    if (selectedTableItems.length === 0) {\r\n      this.setState({\r\n        selectedTableItems: tableItems,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedTableItems: [],\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTargetTable(item) {\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    })\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('tableitem selected', item);\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, selectedTableItems, selectedTargetTable, home, serviceEntry, privileges, settings } = this.state;\r\n\r\n    if (selectedTableItems.length === 0 || !selectedTargetTable) {\r\n      return;\r\n    }\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'TRANSFERITEMS')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // convert array to string without items with refRecKey\r\n    let converted = selectedTableItems.filter(el => !el.refRecKey).map(el => el.recKey).reduce((init, el) => { return init + el + ','; }, '');\r\n    console.log('converted', converted);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/transfer-items';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKeyFrom: selectedTable.recKey,\r\n      opentableRecKeyTo: selectedTargetTable.recKey,\r\n      opentableItemRecKeys: converted,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post transfer-items successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Transfer Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedTargetTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { tables, availableTables, searchText } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedTable, selectedTargetTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'TRANSFERITEMS',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access TRANSFERITEMS',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { tableItems, home, selectedTargetTable, availableTables, searchText, selectedTableItems,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in transfer');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='TRANSFERITEM'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3, alignItems: 'center', justifyContent: 'center' }]}>\r\n                  <TouchableOpacity\r\n                    onPress={() => this.handlePressSelectAll()}\r\n                  >\r\n                    <Text style={styles.titleText}>{this.generateTextForSelectAll()}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      onPress={() => this.handleSelectTableItem(item)}\r\n                      disabled={item.refRecKey ? true : false}\r\n                    >\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={[styles.searchBoxInfo, { justifyContent: 'center' }]}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableTables}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedTargetTable.tableId === item.tableId && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectTargetTable(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.sectionId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={[styles.gridFirstRightText, selectedTargetTable.tableId === item.tableId ? { color: 'white' } : { color: theme.occupied }]}>OCCUPIED</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.tableId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedTargetTable || selectedTableItems.length === 0) && { opacity: 0.2 }]}\r\n                onPress={() => this.handleSubmit()}\r\n                disabled={!selectedTargetTable || selectedTableItems.length === 0}\r\n              >\r\n                <AntDesign\r\n                  name='export'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('transfer')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayVoidReceipt extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      returns: props.returns,\r\n      availableReturns: props.returns,\r\n      selectedReturn: '',\r\n\r\n      remarks: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { returns, availableReturns } = this.state;\r\n    let availableReturnsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableReturns);\r\n\r\n    availableReturnsUpdate = returns;\r\n    if (!text) {\r\n      this.setState({\r\n        availableReturns: availableReturnsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableReturnsUpdate = availableReturnsUpdate.filter(item => {\r\n      return item.returnId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableReturns: availableReturnsUpdate\r\n    });\r\n  }\r\n\r\n  handleSubmit(item) {\r\n    const { remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    this.props.handleUpdateFromVoidReceipt(itemWithRemarks);\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableReturns, remarks } = this.state;\r\n    console.log('in overlayvoidreceipt, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Void Receipt</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromVoidReceipt('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableReturns.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableReturns}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.returnId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayVoidReceipt from './OverlayVoidReceipt';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Void extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayVoidReceiptVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      mode: 'VOID',\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleVoid = this.handleVoid.bind(this);\r\n    this.handlePressVoid = this.handlePressVoid.bind(this);\r\n    this.handlePressReopen = this.handlePressReopen.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromVoidReceipt = this.handleUpdateFromVoidReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n    console.log('item', item);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: moment(text).format('YYYY-MM-DD'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege, selectedPrinter, selectedReturn } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleVoid(selectedReturn, selectedPrinter, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleReopen') {\r\n      navigation.goBack();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromVoidReceipt(text) {\r\n    this.setState({ overlayVoidReceiptVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedReturn: text,\r\n    })\r\n    this.handleVoid(text);\r\n  }\r\n\r\n  handlePressReopen() {\r\n    this.setState({\r\n      mode: 'REOPEN',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handlePressVoid() {\r\n    this.setState({\r\n      mode: 'VOID',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handleVoid(item, printer, superUserId) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString, mode, } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (!item) {\r\n      this.setState({\r\n        overlayVoidReceiptVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'VOIDRECEIPT',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    if (mode === 'REOPEN') {\r\n      url = serviceEntry + 'api/void-receipt-reopen';\r\n      body = {\r\n        userId: home.userId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    } else {\r\n      url = serviceEntry + 'api/void-receipt';\r\n      body = {\r\n        userId: home.userId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    }\r\n    // return;\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post void-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'REOPEN' ? 'Reopen Receipt' : 'Void Receipt',\r\n            home.userName,\r\n            response.message,\r\n            (mode === 'REOPEN' && !response.message) ? response.opentable.tableId : '',\r\n            '',\r\n            selectedMaster.recKey + ',' + selectedMaster.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (mode === 'REOPEN') {\r\n          this.props.route.params.handleUpdateFromVoid(response);\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully, reopened Table ' + response.opentable.tableId,\r\n              ok: false,\r\n              cancel: false,\r\n              options: [{ text: 'Ok', handleText: 'handleReopen' }],\r\n            },\r\n            overlayAlertVisible: true,\r\n            reopenResponse: response,\r\n            loading: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully',\r\n              ok: true,\r\n              cancel: false,\r\n              options: [],\r\n            },\r\n            overlayAlertVisible: true,\r\n            masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            searches: response.receiptpaydtl,\r\n            selectedMaster: '',\r\n            headers: '',\r\n            details: '',\r\n            pays: '',\r\n            loading: false,\r\n          })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayRequestAccessVisible, overlayProcedureMessageVisible,\r\n      overlayVoidReceiptVisible, overlayAlertVisible, overlayAlertInputValue, requestedPrivilege,\r\n      loading, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayVoidReceiptVisible &&\r\n          <OverlayVoidReceipt\r\n            returns={this.props.route.params.masters.returns}\r\n            handleUpdateFromVoidReceipt={this.handleUpdateFromVoidReceipt} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TouchableOpacity style={styles.searchBoxInfo}\r\n                  onPress={() => this.handlePressDate()}\r\n                >\r\n                  <View style={styles.searchBoxInfoLeft}>\r\n                    <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressVoid()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.paid}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.paid }]}>{intl.get('void')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressReopen()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('reopen')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Collect extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: moment(text).format('YYYY-MM-DD'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressCollect(printer) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    url = serviceEntry + 'api/collection-receipt';\r\n    body = {\r\n      userId: home.userId,\r\n      receiptRecKey: selectedMaster.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      docDateString: selectedDateString,\r\n    };\r\n    console.log('body', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post collect-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Collect Receipt',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            selectedMaster.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayAlertInputValue: {\r\n            title: 'ALERT',\r\n            subtitle: 'Procedure Reply',\r\n            text: 'Receipt collected successfully',\r\n            ok: true,\r\n            cancel: false,\r\n            options: [],\r\n          },\r\n          overlayAlertVisible: true,\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedMaster: '',\r\n          headers: '',\r\n          details: '',\r\n          pays: '',\r\n          loading: false,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayProcedureMessageVisible,\r\n      overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TouchableOpacity style={styles.searchBoxInfo}\r\n                  onPress={() => this.handlePressDate()}\r\n                >\r\n                  <View style={styles.searchBoxInfoLeft}>\r\n                    <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                disabled={!selectedMaster || loading}\r\n                onPress={() => this.handlePressCollect()}>\r\n                <AntDesign\r\n                  name='gift'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('collect')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Table extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      mode: props.route.params.mode,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      vipSources: props.route.params.masters.vipSources,\r\n      availableVipSources: props.route.params.masters.vipSources,\r\n\r\n      overlayPax: props.route.params.mode === 'NEW' ? (props.route.params.masters.tablemas?.find(el => el.tableId === props.route.params.selectedTable.tableId)?.capacity || 2) : (props.route.params.selectedTable.pax || 0),\r\n      overlayVip: props.route.params.mode === 'NEW' ? null\r\n        : {\r\n          vipId: props.route.params.selectedTable.vipId || '',\r\n          vipName: props.route.params.selectedTable.vipName || '',\r\n          vipDisc: props.route.params.selectedTable.vipDisc || '',\r\n          vipPhone: props.route.params.selectedTable.vipPhone || '',\r\n          cumPts: props.route.params.selectedTable.cumPts || '',\r\n          vipPtsMoney: props.route.params.selectedTable.vipPtsMoney || '',\r\n          classId: props.route.params.selectedTable.classId || '',\r\n        },\r\n      overlayValidateVipId: '',\r\n      overlayValidateCardNumber: '',\r\n      overlayValidateNric: '',\r\n      overlayValidateVipName: '',\r\n      overlayValidateVipPhone: '',\r\n      overlayValidateVipPhoneCountryCode: '', // 65\r\n      overlayValidateEmailAddress: '',\r\n\r\n      vipResults: '',\r\n      selectedVipResult: '',\r\n\r\n      overlaySource: props.route.params.mode === 'NEW' ? ''\r\n        : {\r\n          sourceId: props.route.params.selectedTable.sourceId || '',\r\n        },\r\n      overlaySourceSearch: '',\r\n\r\n      overlayDeliveryFlg: props.route.params.mode === 'NEW' ? 'N' : (props.route.params.selectedTable.homeDelivery || ''),\r\n      overlayPostalCode: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.dpostalcode || ''),\r\n      overlayAddr1: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress1 || ''),\r\n      overlayAddr2: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress2 || ''),\r\n      overlayAddr3: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress3 || ''),\r\n      overlayAddr4: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress4 || ''),\r\n\r\n      activePage: 'PAX',\r\n      warning: '',\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n    this.handlePressTab = this.handlePressTab.bind(this);\r\n    this.handleSearchVip = this.handleSearchVip.bind(this);\r\n    this.handleEnterVip = this.handleEnterVip.bind(this);\r\n    this.handleClearVip = this.handleClearVip.bind(this);\r\n    this.handlePressNext = this.handlePressNext.bind(this);\r\n    this.handlePressPrev = this.handlePressPrev.bind(this);\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleAddressChange = this.handleAddressChange.bind(this);\r\n    this.handleCheckDeliveryFlg = this.handleCheckDeliveryFlg.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { navigation, } = this.props;\r\n    const { mode, home, serviceEntry, selectedTable, settings, overlayPax, overlayVip, overlaySource, overlayValidateVipName, overlayDeliveryFlg,\r\n      overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (!overlayPax && overlayPax !== 0) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + (mode === 'NEW' ? '/change-table-status' : '/update-table-info');\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: 'C',\r\n      pax: overlayPax,\r\n      // vipId: overlayVip?.vipId,\r\n      vipName: overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n      phone: overlayVip?.vipPhone,\r\n      reservationTime: '',\r\n      sourceId: overlaySource.sourceId,\r\n      deliveryFlg: overlayDeliveryFlg,\r\n      postalCode: overlayPostalCode,\r\n      addr1: overlayAddr1,\r\n      addr2: overlayAddr2,\r\n      addr3: overlayAddr3,\r\n      addr4: overlayAddr4,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post table-edit-open successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'NEW' ? 'Open Table' : 'Edit Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        if (mode === 'NEW') {\r\n          this.props.route.params.handleUpdateFromTable();\r\n        } else {\r\n          navigation.goBack();\r\n        }\r\n      })\r\n  }\r\n\r\n  handleAddressChange(type, text) {\r\n    if (type === 'POSTALCODE') {\r\n      this.setState({\r\n        overlayPostalCode: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR1') {\r\n      this.setState({\r\n        overlayAddr1: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR2') {\r\n      this.setState({\r\n        overlayAddr2: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR3') {\r\n      this.setState({\r\n        overlayAddr3: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR4') {\r\n      this.setState({\r\n        overlayAddr4: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    }\r\n  }\r\n\r\n  handleCheckDeliveryFlg() {\r\n    const { overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (overlayPostalCode || overlayAddr1 || overlayAddr2 || overlayAddr3 || overlayAddr4) {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'Y'\r\n      })\r\n    } else {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'N'\r\n      })\r\n    }\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayPax === 0) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handlePaxChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayPax: 0 })\r\n    } else {\r\n      this.setState({ overlayPax: Number(text) })\r\n    }\r\n  }\r\n\r\n  handlePressTab(type) {\r\n    const overlayPageWidth = Dimensions.get('window').width / 5 * 3;\r\n\r\n    if (type === 'VIP') {\r\n      this.setState({\r\n        activePage: 'VIP',\r\n      });\r\n    } else if (type === 'PAX') {\r\n      this.setState({\r\n        activePage: 'PAX',\r\n      });\r\n    } else if (type === 'SOURCE') {\r\n      this.setState({\r\n        activePage: 'SOURCE',\r\n      });\r\n    } else if (type === 'DELIVERY') {\r\n      this.setState({\r\n        activePage: 'DELIVERY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressNext() {\r\n    const { activePage } = this.state;\r\n    const overlayPageWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activePage === 'PAX') {\r\n      this.setState({\r\n        activePage: 'VIP',\r\n      });\r\n    } else if (activePage === 'VIP') {\r\n      this.setState({\r\n        activePage: 'SOURCE',\r\n      });\r\n    } else if (activePage === 'SOURCE') {\r\n      this.setState({\r\n        activePage: 'DELIVERY',\r\n      });\r\n    } else if (activePage === 'DELIVERY') {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressPrev() {\r\n    const { activePage } = this.state;\r\n    const overlayPageWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activePage === 'PAX') {\r\n      return;\r\n    } else if (activePage === 'VIP') {\r\n      this.setState({\r\n        activePage: 'PAX',\r\n      });\r\n    } else if (activePage === 'SOURCE') {\r\n      this.setState({\r\n        activePage: 'VIP',\r\n      });\r\n    } else if (activePage === 'DELIVERY') {\r\n      this.setState({\r\n        activePage: 'SOURCE',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateVipName,\r\n      overlayValidateNric, overlayValidateEmailAddress, overlayValidateVipPhone, overlayValidateVipPhoneCountryCode } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/search-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    if (overlayValidateVipId) {\r\n      body.vipId = overlayValidateVipId;\r\n    }\r\n    if (overlayValidateCardNumber) {\r\n      body.cardNumber = overlayValidateCardNumber;\r\n    }\r\n    if (overlayValidateVipName) {\r\n      body.vipName = overlayValidateVipName;\r\n    }\r\n    if (overlayValidateNric) {\r\n      body.nric = overlayValidateNric;\r\n    }\r\n    if (overlayValidateEmailAddress) {\r\n      body.emailAddress = overlayValidateEmailAddress;\r\n    }\r\n    if (overlayValidateVipPhone) {\r\n      body.vipPhone = overlayValidateVipPhone;\r\n      body.vipPhoneCountryCode = overlayValidateVipPhoneCountryCode\r\n    }\r\n    console.log('before searching vip', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Search Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'Invalid VIP search',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          warning: response.length + ' VIP result(s) found',\r\n          vipResults: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleEnterVip(item) {\r\n    this.setState({\r\n      selectedVipResult: item,\r\n    });\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/enter-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n      customerNumber: item.customerNumber,\r\n      name: item.name,\r\n      mobileNumber: item.mobileNumber,\r\n      emailAddress: item.emailaddress,\r\n      customerSource: item.customerSource,\r\n    };\r\n    console.log('before entering vip', item);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Input Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            item.customerNumber + ',' + item.name,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'VIP input unsuccessful',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP input successful',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClearVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-table-vip-info';\r\n    let body = {\r\n      vipId: '',\r\n      vipName: '',\r\n      classId: '',\r\n      vipDisc: '',\r\n      cumPts: '',\r\n      pts: '',\r\n      money: '',\r\n      cardNo: '',\r\n      birthday: '',\r\n      qrcode: '',\r\n      phone: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Clear Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: response.message,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP cleared',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { vipSources, availableVipSources } = this.state;\r\n    let availableVipSourcesUpdate = [];\r\n    this.setState({ overlaySourceSearch: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', availableVipSources);\r\n\r\n    availableVipSourcesUpdate = vipSources;\r\n    if (!text) {\r\n      this.setState({\r\n        availableVipSources: availableVipSourcesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableVipSourcesUpdate = availableVipSourcesUpdate.filter(item => {\r\n      return item.sourceId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableVipSources: availableVipSourcesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { mode, selectedTable, overlayProcedureMessageVisible,\r\n      overlayPax, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateEmailAddress,\r\n      overlayValidateVipPhone, overlayValidateVipPhoneCountryCode, overlayValidateVipName, overlayValidateNric,\r\n      overlaySource, overlaySourceSearch, vipResults, selectedVipResult,\r\n      overlayDeliveryFlg, overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4,\r\n      warning, activePage, availableVipSources } = this.state;\r\n    console.log('in overlayopentable');\r\n\r\n    const overlayPageWidth = Dimensions.get('window').width / 5 * 3;\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{mode === 'NEW' ? intl.get('open') : intl.get('edit')}</Text>\r\n            <Text style={styles.overlayText}>{warning ? warning : 'Enter Pax, VIP & Source'}</Text>\r\n          </View>\r\n          <View style={styles.tabsContainer}>\r\n            <TouchableOpacity style={[styles.tabContainer, activePage === 'PAX' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('PAX')}>\r\n              {\r\n                overlayPax !== null ?\r\n                  <Text style={[styles.tabFocusText, activePage === 'PAX' && { color: theme.grey1 }]}>\r\n                    {overlayPax}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activePage === 'PAX' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activePage === 'PAX' && { color: theme.grey1 }]}>\r\n                PAX\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activePage === 'VIP' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('VIP')}>\r\n              {\r\n                overlayVip?.vipId ?\r\n                  <Text style={[styles.tabFocusText, activePage === 'VIP' && { color: theme.grey1 }]}>\r\n                    {overlayVip?.vipId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activePage === 'VIP' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activePage === 'VIP' && { color: theme.grey1 }]}>\r\n                VIP\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activePage === 'SOURCE' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('SOURCE')}>\r\n              {\r\n                overlaySource.sourceId ?\r\n                  <Text style={[styles.tabFocusText, activePage === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    {overlaySource.sourceId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activePage === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activePage === 'SOURCE' && { color: theme.grey1 }]}>\r\n                SOURCE\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activePage === 'DELIVERY' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('DELIVERY')}>\r\n              {\r\n                overlayDeliveryFlg === 'Y' ?\r\n                  <Text style={[styles.tabFocusText, activePage === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    YES\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activePage === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    NO\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activePage === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                DELIVERY\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          {\r\n            activePage === 'PAX' ?\r\n              <View style={[styles.overlayPage, { width: overlayPageWidth }]}>\r\n                <View style={styles.adjustContainer}>\r\n                  <TouchableOpacity style={styles.adjustFirst}\r\n                    onPress={() => this.handleQtyChange('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.adjustSecond}>\r\n                    <TextInput style={styles.overlayPax}\r\n                      selectTextOnFocus\r\n                      keyboardType='numeric'\r\n                      value={overlayPax?.toString()}\r\n                      onChangeText={(searchText) => this.handlePaxChange(searchText)} />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.adjustThird}\r\n                    onPress={() => this.handleQtyChange('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 1 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 1 })}>\r\n                    <Text style={styles.buttonText}>1</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 2 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 2 })}>\r\n                    <Text style={styles.buttonText}>2</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 3 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 3 })}>\r\n                    <Text style={styles.buttonText}>3</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 4 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 4 })}>\r\n                    <Text style={styles.buttonText}>4</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 5 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 5 })}>\r\n                    <Text style={styles.buttonText}>5</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 6 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 6 })}>\r\n                    <Text style={styles.buttonText}>6</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 7 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 7 })}>\r\n                    <Text style={styles.buttonText}>7</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 8 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 8 })}>\r\n                    <Text style={styles.buttonText}>8</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 9 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 9 })}>\r\n                    <Text style={styles.buttonText}>9</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 10 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 10 })}>\r\n                    <Text style={styles.buttonText}>10</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 11 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 11 })}>\r\n                    <Text style={styles.buttonText}>11</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 12 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 12 })}>\r\n                    <Text style={styles.buttonText}>12</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              </View>\r\n              :\r\n              activePage === 'VIP' ?\r\n                <View style={[styles.overlayPage, { width: overlayPageWidth }]}>\r\n                  {\r\n                    (vipResults && vipResults.length !== 0) ?\r\n                      <View style={styles.selectWrapper}>\r\n                        <View style={styles.searchBoxWrapper}>\r\n                          <View style={[styles.overlaySearchBox, { marginHorizontal: 0, justifyContent: 'space-between', }]}>\r\n                            <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                              onPress={() => this.setState({ vipResults: '' })}\r\n                            >\r\n                              <AntDesign name='close' size={24} color='white' />\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <Text style={styles.searchBoxInfoText}>{vipResults.length} ITEMS</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={[{ flex: 1 }]}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={vipResults}\r\n                          keyExtractor={(item, index) => index.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.overlayGrid, item.customerNumber === selectedVipResult.customerNumber && { backgroundColor: theme.occupied }]}\r\n                              onPress={() => this.handleEnterVip(item)}>\r\n                              <View style={styles.overlayGridFirst}>\r\n                                <View style={styles.overlayGridFirstLeft}>\r\n                                  <Text style={styles.overlayGridFirstLeftText}>{item.customerNumber}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridFirstRight}>\r\n                                  <Text style={[styles.overlayGridFirstRightText, item.customerNumber === selectedVipResult.customerNumber && { color: 'white' }]}>{item.hasActiveMembership} {item.customerSource}</Text>\r\n                                </View>\r\n                              </View>\r\n                              <View style={styles.overlayGridSecond}>\r\n                                <Text style={styles.overlayGridSecondText}>\r\n                                  {item.name}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridThird}>\r\n                                <View style={styles.overlayGridThirdLeft}>\r\n                                  <Text style={styles.overlayGridThirdLeftText}>{item.emailaddress}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridThirdRight}>\r\n                                  <Text style={styles.overlayGridThirdRightText}>{item.mobileNumber ? item.mobileNumber : ' '}</Text>\r\n                                </View>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                      </View>\r\n                      :\r\n                      <View style={styles.vipInputsContainer}>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP ID'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipId) => this.setState({ overlayValidateVipId })}\r\n                            value={overlayValidateVipId}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='CARD NO.'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateCardNumber) => this.setState({ overlayValidateCardNumber })}\r\n                            value={overlayValidateCardNumber}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP NAME'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipName) => this.setState({ overlayValidateVipName })}\r\n                            value={overlayValidateVipName}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 50 }]}\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhoneCountryCode) => this.setState({ overlayValidateVipPhoneCountryCode })}\r\n                            value={overlayValidateVipPhoneCountryCode}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 130 }]}\r\n                            placeholder='VIP PHONE'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhone) => this.setState({ overlayValidateVipPhone })}\r\n                            value={overlayValidateVipPhone}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP EMAIL'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateEmailAddress) => this.setState({ overlayValidateEmailAddress })}\r\n                            value={overlayValidateEmailAddress}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <View style={{ flex: 1, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n                            <TouchableOpacity style={{ paddingHorizontal: 10, height: 20, margin: 5, borderRadius: 40, backgroundColor: theme.paid, alignItems: 'center', justifyContent: 'center' }}\r\n                              onPress={() => this.handleClearVip()}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 10, textTransform: 'uppercase', color: 'white' }}>{intl.get('remove')}</Text>\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP ID</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP CLASS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.classId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP DISC</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipDisc || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP NAME</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipName || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>CUMULATIVE PTS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.cumPts || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>REDEEMABLE</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipPtsMoney || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                      </View>\r\n                  }\r\n                </View>\r\n                :\r\n                activePage === 'SOURCE' ?\r\n                  <View style={[styles.overlayPage, { width: overlayPageWidth }]}>\r\n                    <View style={styles.selectWrapper}>\r\n                      <View style={styles.searchBoxWrapper}>\r\n                        <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                          <TextInput style={styles.overlaySearchBoxInput}\r\n                            placeholder='ENTER SEARCH TEXT'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            onChangeText={(overlaySourceSearch) => this.handleOverlaySearchText(overlaySourceSearch)}\r\n                            value={overlaySourceSearch}\r\n                          />\r\n                          <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                            onPress={() => {\r\n                              this.setState({ overlaySourceSearch: '', overlaySource: '' }, () => this.handleOverlaySearchText(''))\r\n                              Keyboard.dismiss()\r\n                            }}>\r\n                            <AntDesign name='close' size={24} color={theme.grey4} />\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.searchBoxInfo}>\r\n                        <Text style={styles.searchBoxInfoText}>{availableVipSources.length} ITEMS</Text>\r\n                      </View>\r\n                      <FlatList\r\n                        style={[{ flex: 1 }]}\r\n                        showsVerticalScrollIndicator={false}\r\n                        data={availableVipSources}\r\n                        keyExtractor={item => item.recKey.toString()}\r\n                        renderItem={({ item }) => (\r\n                          <TouchableOpacity\r\n                            style={[styles.overlayGrid, item.dummy ? styles.hidden : null]}\r\n                            onPress={() => this.setState({\r\n                              overlaySource: item,\r\n                              overlaySourceSearch: item.sourceId,\r\n                            })}\r\n                          >\r\n                            <View style={styles.overlayGridFirst}>\r\n                              <View style={styles.overlayGridFirstLeft}>\r\n                                <Text style={styles.overlayGridFirstLeftText}>{item.sourceId}</Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridFirstRight}>\r\n                                <Text style={styles.overlayGridFirstRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                            <View style={styles.overlayGridSecond}>\r\n                              <Text style={styles.overlayGridSecondText}>\r\n                                {item.name}\r\n                              </Text>\r\n                            </View>\r\n                            <View style={styles.overlayGridThird}>\r\n                              <View style={styles.overlayGridThirdLeft}>\r\n                              </View>\r\n                              <View style={styles.overlayGridThirdRight}>\r\n                                <Text style={styles.overlayGridThirdRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                          </TouchableOpacity>\r\n                        )}\r\n                      />\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={[styles.overlayPage, { width: overlayPageWidth }]}>\r\n                    <View style={styles.vipInputsContainer}>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={styles.vipInput}\r\n                          placeholder='POSTAL CODE'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('POSTALCODE', text)}\r\n                          value={overlayPostalCode}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR1'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR1', text)}\r\n                          value={overlayAddr1}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR2'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR2', text)}\r\n                          value={overlayAddr2}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR3'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR3', text)}\r\n                          value={overlayAddr3}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR4'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR4', text)}\r\n                          value={overlayAddr4}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n          }\r\n          <View style={styles.overlayOptionsContainer}>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='close' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {intl.get('close')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressPrev()} >\r\n              <AntDesign name='left' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                PREV\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressNext()} >\r\n              <AntDesign name='right' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                NEXT\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handleSubmit()}>\r\n              <AntDesign name={mode === 'NEW' ? 'appstore-o' : 'edit'} size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {mode === 'NEW' ? intl.get('open') : intl.get('edit')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: theme.grey2,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    flex: 1,\r\n    width: '60%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayPax: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 50,\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 50,\r\n  },\r\n  overlayOptionContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayOptionsContainer: {\r\n    height: 100,\r\n    marginTop: 20,\r\n    backgroundColor: theme.grey3,\r\n    flexDirection: 'row',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: 'white',\r\n    marginTop: 5,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayPage: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tabsContainer: {\r\n    height: 40,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginTop: 20,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 50,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlaySearchBoxButtonText: {\r\n    fontSize: 14,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase'\r\n  },\r\n  overlaySearchVipButton: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 110,\r\n  },\r\n  detailWrapper: {\r\n    alignItems: 'flex-end',\r\n    margin: 5,\r\n    width: 370 / 3,\r\n  },\r\n  detailText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  detailTitle: {\r\n    opacity: 0.6,\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    marginTop: 50,\r\n    width: 400,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, ScrollView, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedMenu.serviceFlg === 'N' ? 'B' : (props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : props.route.params.selectedTable?.sectionId === 'SYS' ? 'B' : 'A'),\r\n      lineBreak: props.route.params.selectedTableItem ? props.route.params.selectedTableItem.lineBreak : 'N',\r\n\r\n      modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedMenu.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : (props.route.params.selectedTable?.sectionId === 'SYS' ? `*${intl.get('takeaway')}  ` : '')),\r\n      modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount menu', this.state.selectedMenu, this.state.selectedTableItem)\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, modInput } = this.state;\r\n    let modInputUpdate = modInput;\r\n    if (orderType === 'A') {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      modInputUpdate = `*${intl.get('takeaway')}  ` + modInputUpdate;\r\n      this.setState({\r\n        orderType: 'B',\r\n        modInput: modInputUpdate,\r\n      });\r\n    } else {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      this.setState({\r\n        orderType: 'A',\r\n        modInput: modInputUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleLineBreak() {\r\n    const { lineBreak } = this.state;\r\n    this.setState({\r\n      lineBreak: lineBreak === 'Y' ? 'N' : 'Y',\r\n    });\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { modInput, selectedModBundle, modRecKeys } = this.state;\r\n    let modInputUpdate = modInput;\r\n    let modRecKeysUpdate = modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n    this.setState({\r\n      modInput: modInputUpdate,\r\n      modRecKeys: modRecKeysUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys } = this.state;\r\n\r\n    // need preference to auto go through\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (modBundles.filter(el => el.modmas.mustFlg === 'Y' && (el.modmas.globalFlg === 'Y' || mods.some(obj => obj.menuId === selectedMenu.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => modRecKeys.some(el => el === obj.recKey.toString())))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n              qtyInput,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading,\r\n      home, settings, selectedMenu, selectedTable, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          <ScrollView contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              selectedModBundle?.moditems.map(item =>\r\n                <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.doPressMod(item)}>\r\n                  <Text style={styles.modText}>{item.name}</Text>\r\n                  {\r\n                    item.listPrice !== 0 &&\r\n                    <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              )\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId} </Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.reserved, fontSize: 16, }}> ${selectedTableItem?.listPrice?.toFixed(2) || selectedMenu.listPrice?.toFixed(2)}</Text>\r\n                  </View>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM') || selectedMenu.listPrice === 0)}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={modInput}\r\n                  onChangeText={text => this.setState({ modInput: text })}\r\n                />\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    mods?.filter(el => el.menuId === selectedMenu.menuId).length > 0 &&\r\n                    <>\r\n                      <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                        <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MENU SPECIFIC MODIFIER</Text>\r\n                      </View>\r\n                      <View style={styles.modContainer}>\r\n                        {\r\n                          mods?.filter(el => el.menuId === selectedMenu.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                            <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                              onPress={() => this.doPressModBundle(item)}>\r\n                              <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                            </TouchableOpacity>\r\n                          )\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  }\r\n                  <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                    <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>GLOBAL MODIFIER</Text>\r\n                  </View>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      modBundles?.filter(el => el.modmas.globalFlg === 'Y').map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n              </View>\r\n\r\n              <View style={{ height: 100, margin: 5, marginTop: 0, flexDirection: 'row', backgroundColor: 'white' }}>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name='close' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4, textTransform: 'uppercase' }}>\r\n                    {intl.get('close')}\r\n                  </Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name='check' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4 }}>\r\n                    OK\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={{ margin: 5, width: 120, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={selectedMenu.serviceFlg === 'N'}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                {\r\n                  settings.find(el => el.setId === 'MARKFIRE').setString === 'Y' ?\r\n                    <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: lineBreak === 'N' ? theme.grey3 : theme.occupied, borderRadius: 5, marginVertical: 5 }}\r\n                      disabled={selectedTableItem?.confirmFlg === 'Y'}\r\n                      onPress={() => this.doToggleLineBreak()}>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase', fontSize: 10 }}>{lineBreak === 'N' ? intl.get('no') : intl.get('add')}</Text>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white' }}>LINE BREAK</Text>\r\n                    </TouchableOpacity>\r\n                    :\r\n                    <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                    </View>\r\n                }\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, View, Dimensions, TouchableOpacity } from 'react-native';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Scan extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      selectedTable: props.route.params.selectedTable,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      hasCameraPermission: null,\r\n      detected: false,\r\n    };\r\n    this.handleBarCodeScanned = this.handleBarCodeScanned.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { status } = await BarCodeScanner.requestPermissionsAsync();\r\n    this.setState({ hasCameraPermission: status === 'granted' });\r\n  }\r\n\r\n  handleBarCodeScanned({ type, data }) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, detected } = this.state;\r\n    this.setState({ detected: true }, () => {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        shopId: home.shopId,\r\n        vipId: home.vipId,\r\n        barcode: data,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            this.setState({ detected: false });\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('post scan-barcode successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Scan Barcode',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable?.tableId,\r\n              '',\r\n              data,\r\n            );\r\n          navigation.goBack();\r\n        })\r\n        .catch(error => {\r\n          console.log('error: ', JSON.stringify(error));\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { hasCameraPermission, detected } = this.state;\r\n\r\n    // if (hasCameraPermission === null) {\r\n    //     return <Text>Requesting for camera permission</Text>;\r\n    // }\r\n    // if (hasCameraPermission === false) {\r\n    //     return <Text>No access to camera</Text>;\r\n    // }\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <BarCodeScanner\r\n          onBarCodeScanned={detected ? null : this.handleBarCodeScanned}\r\n          style={{ flex: 1 }}\r\n        />\r\n        <TouchableOpacity style={styles.backButton}\r\n          onPress={() => navigation.goBack()}>\r\n          <AntDesign name='left' size={48} color='white' />\r\n          <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.iconContainer}>\r\n          <Ionicons name='ios-barcode' color={detected ? 'red' : 'white'} size={400} />\r\n        </View>\r\n      </ View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst windowWidth = Dimensions.get('window').width;\r\nconst windowHeight = Dimensions.get('window').height;\r\n\r\nconst styles = StyleSheet.create({\r\n  iconContainer: {\r\n    position: 'absolute',\r\n    right: windowWidth / 2 - 200,\r\n    top: windowHeight / 2 - 200,\r\n    opacity: 0.5,\r\n    width: 400,\r\n    height: 400,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backButton: {\r\n    position: 'absolute',\r\n    left: 50,\r\n    top: 50,\r\n    width: 100,\r\n    height: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 10,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, Fontisto, FontAwesome, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport moment from 'moment';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Trace extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      maps: [],\r\n      thisTable: props.route.params.selectedTable ? true : false,\r\n      thisUser: false,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doReload()\r\n  }\r\n\r\n  doReload() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser } = this.state;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doLoad() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser, maps } = this.state;\r\n    // end reached\r\n    if (maps.length < 40) return;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    params.append('recKey', maps[maps.length - 1].recKey);\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: [...maps, ...response],\r\n        });\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleTable() {\r\n    const { thisTable } = this.state;\r\n    this.setState({\r\n      thisTable: !thisTable,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  doToggleUser() {\r\n    const { thisUser } = this.state;\r\n    this.setState({\r\n      thisUser: !thisUser,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, selectedTable,\r\n      maps, thisUser, thisTable,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    // console.log('render trace', maps && maps[0]);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <TouchableOpacity style={styles.overlayHeader} onPress={() => this.traceRef.scrollToOffset({ animated: true, offset: 0 })}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('trace')}</Text>\r\n            <Text style={styles.overlayTitleText}></Text>\r\n          </TouchableOpacity>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.traceRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={maps}\r\n            onEndReachedThreshold={0.4}\r\n            onEndReached={() => this.doLoad()}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <ScrollView\r\n                style={{ minHeight: 40, paddingVertical: 5, }}\r\n                contentContainerStyle={{ alignItems: 'center' }}\r\n                horizontal\r\n                alwaysBounceHorizontal={false}\r\n                showsHorizontalScrollIndicator={false}>\r\n                <Text style={[styles.traceText, { textAlign: 'right', width: 40, color: theme.grey5 }]}>{moment(item.createDate).format('ddd')}</Text>\r\n                <Text style={[styles.traceText, { marginLeft: 10, }]}>{moment(item.createDate).format('HH:mm')}</Text>\r\n                <View style={{ width: 30, marginHorizontal: 5, alignItems: 'center', }}>\r\n                  {\r\n                    item.msg1 === 'Fire Course' &&\r\n                    <Fontisto name=\"fire\" size={20} color={theme.reserved} style={{ marginLeft: 1 }} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Send Order' &&\r\n                    <FontAwesome name=\"send\" size={18} color={theme.occupied} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Payment' &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.paid} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Dayclose' &&\r\n                    <MaterialCommunityIcons name=\"moon-full\" size={22} color={theme.reserved} style={{}} />\r\n                  }\r\n                  {\r\n                    (item.msg1 === 'Open Table' || item.msg1 === 'Create Table' || (item.msg1 === 'Reopen Receipt' && !item.msg3)) &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.occupied} style={{}} />\r\n                  }\r\n                </View>\r\n                <Text style={[styles.traceText, { color: theme.grey5 }]}>{item.msg2} </Text>\r\n                <Text style={[styles.traceText, { marginLeft: 5, color: theme.paid }]}>{item.msg1}</Text>\r\n                {\r\n                  item.msg5 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.reserved }]}>\"{item.msg5}\"</Text>\r\n                }\r\n                {\r\n                  item.msg6 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.vacant }]}>&#60;{item.msg6}&#62;</Text>\r\n                }\r\n                {\r\n                  item.msg4 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.occupied }]}>#{item.msg4}</Text>\r\n                }\r\n                {\r\n                  item.msg3 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.adhoc }]}>[{item.msg3}]</Text>\r\n                }\r\n              </ScrollView>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              onPress={() => this.doToggleUser()}>\r\n              <AntDesign\r\n                name='woman'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText} numberOfLines={1}>{thisUser ? home.userName : `${intl.get('all')} ${intl.get('user')}`}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              disabled={!selectedTable}\r\n              onPress={() => this.doToggleTable()}>\r\n              <AntDesign\r\n                name='appstore-o'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{thisTable ? `${intl.get('table')} ${selectedTable.tableId}` : `${intl.get('all')} ${intl.get('table')}`}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  traceText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n  }\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Activate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n      availableMenus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n\r\n      updateds: [],\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n\r\n      loading: false,\r\n    };\r\n    this.handleSelectMenu = this.handleSelectMenu.bind(this);\r\n    this.handleSelectUpdated = this.handleSelectUpdated.bind(this);\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleUpdateMenu = this.handleUpdateMenu.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleSelectMenu(item) {\r\n    const { menus, updateds } = this.state;\r\n    if (updateds.some(el => el.recKey === item.recKey)) {\r\n      return;\r\n    } else {\r\n      let updatedsUpdate = updateds;\r\n      updatedsUpdate.push(item);\r\n      this.setState({\r\n        updateds: updatedsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectUpdated(item) {\r\n    const { menus, updateds } = this.state;\r\n    let updatedsUpdate = updateds;\r\n    updatedsUpdate = updatedsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      updateds: updatedsUpdate,\r\n    })\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { updateds } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUpdateMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Update Menu',\r\n        text: 'Update ' + updateds.length + ' menus?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUpdateMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry, updateds } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let updatedsUpdate = updateds.map(el => ({\r\n      recKey: el.recKey,\r\n      newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n    }));\r\n\r\n    const restmenuRecKeys = updatedsUpdate.reduce((init, el) => { return init + el.recKey + ',' + el.newStatusFlg + ','; }, '');\r\n\r\n    let url = serviceEntry + 'api/update-restmenu';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKeys: restmenuRecKeys,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu successful');\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            updateds.map(el => ({\r\n              menuId: el.menuId,\r\n              newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n            })).reduce((init, el) => { return init + el.menuId + ',' + el.newStatusFlg + ','; }, ''),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Login', { sync: new Date() });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus } = this.state;\r\n    if (displayMode === 'INACTIVE ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => el.statusFlg === 'B'),\r\n        searchText: '',\r\n        displayMode: 'INACTIVE ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleUpdateMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleUpdateMenu') {\r\n      this.handleUpdateMenu();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, updateds, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={styles.grid}\r\n                      onPress={() => this.handleSelectMenu(item)}>\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          {\r\n                            item.statusFlg === 'A' ?\r\n                              <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                              :\r\n                              <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                          }\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.menuName}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3 }]}>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                    <Text style={styles.titleText}>{updateds.length} Changes</Text>\r\n                  </View>\r\n                  <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                    <Text style={styles.titleText}>New Status</Text>\r\n                  </View>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}>\r\n                  {\r\n                    updateds ?\r\n                      updateds.map((item, index) => (\r\n                        <TouchableOpacity\r\n                          key={index}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handleSelectUpdated(item)}>\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              {\r\n                                item.statusFlg === 'B' ?\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                                  :\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                              }\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.menuName}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                      : null\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (loading || updateds.length === 0) && { opacity: 0.2 }]}\r\n                disabled={loading || updateds.length === 0}\r\n                onPress={() => this.handleSubmit()}>\r\n                <AntDesign\r\n                  name='bulb1'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Limit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n      availableMenus: [...new Map(props.route.params.masters.menus.map(v => [v.menuId, v])).values()],\r\n\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      limiteds: [],\r\n      selectedMenu: null,\r\n      statusFlg: '',\r\n      serveLimit: '',\r\n\r\n      loading: false,\r\n    };\r\n\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // real time fast changing data\r\n    this.doGet();\r\n  }\r\n\r\n  doGet() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    // params.append('recKey', recKey);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          limiteds: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doSelectMenu(item) {\r\n    const { limiteds } = this.state;\r\n    this.setState({\r\n      selectedMenu: item,\r\n      statusFlg: item.statusFlg,\r\n      serveLimit: limiteds.find(el => el.recKey === item.recKey)?.serveLimit.toString() || '0',\r\n    })\r\n  }\r\n\r\n  doToggleStatus() {\r\n    const { statusFlg } = this.state;\r\n    if (statusFlg === 'A') {\r\n      this.setState({ statusFlg: 'B' })\r\n    } else {\r\n      this.setState({ statusFlg: 'A' })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { selectedMenu } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doLimitMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Limit Menu',\r\n        text: 'Limit ' + selectedMenu.menuName + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  doLimitMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry,\r\n      selectedMenu, statusFlg, serveLimit } = this.state;\r\n    // if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n    //   this.setState({\r\n    //     overlayRequestAccessVisible: true,\r\n    //   });\r\n    //   return;\r\n    // }\r\n\r\n    let url = serviceEntry + 'api/update-restmenu-serve';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      statusFlg: statusFlg,\r\n      serveLimit: serveLimit,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu-serve');\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Limit Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            selectedMenu.menuName,\r\n            serveLimit + ',' + statusFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          loading: false,\r\n          displayMode: 'ALL',\r\n          menus: response,\r\n          availableMenus: response,\r\n        }, () => this.doGet())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus, availableMenus, limiteds } = this.state;\r\n    if (displayMode === 'LIMITED ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => limiteds.some(obj => obj.recKey === el.recKey)),\r\n        searchText: '',\r\n        displayMode: 'LIMITED ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.doLimitMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doLimitMenu') {\r\n      this.doLimitMenu();\r\n    }\r\n  }\r\n\r\n  renderItem(item) {\r\n    const { limiteds } = this.state;\r\n    const found = limiteds.find(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.grid}\r\n        onPress={() => this.doSelectMenu(item)}>\r\n        <View style={styles.gridFirst}>\r\n          <View style={styles.gridFirstLeft}>\r\n            <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n          </View>\r\n          <View style={styles.gridFirstRight}>\r\n            {\r\n              item.statusFlg === 'A' ?\r\n                <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                :\r\n                <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridSecond}>\r\n          <Text style={styles.gridSecondText}>\r\n            {item.menuName}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            {\r\n              found &&\r\n              <Text style={{ fontFamily: 'varela-round', color: theme.vacant, fontSize: 12 }}>LIMIT {found.serveLimit} SERVED {found.serveCount}</Text>\r\n            }\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, selectedMenu, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, statusFlg, serveLimit } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => this.renderItem(item)}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedMenu &&\r\n                <View style={{ flex: 1, backgroundColor: theme.grey3, borderRadius: 5 }}>\r\n                  <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}>{selectedMenu.menuName}</Text>\r\n                  </View>\r\n                  <View style={styles.inputContainer}>\r\n\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Status</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.inputRowRight}\r\n                        onPress={() => this.doToggleStatus()}>\r\n                        <Text style={[styles.inputRowRightText, { color: statusFlg === 'A' ? theme.reserved : theme.paid }]}>{statusFlg === 'A' ? 'Active' : 'Inactive'}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Limit</Text>\r\n                      </View>\r\n                      <View style={styles.inputRowRight}>\r\n                        <TextInput style={styles.textInput}\r\n                          keyboardType='numeric'\r\n                          selectTextOnFocus={true}\r\n                          value={serveLimit}\r\n                          onChangeText={text => this.setState({ serveLimit: text })}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={loading || !selectedMenu}\r\n                onPress={() => this.doSubmit()}>\r\n                <AntDesign\r\n                  name='staro'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  inputContainer: {\r\n    marginTop: 30,\r\n    marginHorizontal: 5,\r\n  },\r\n  inputRow: {\r\n    flexDirection: 'row',\r\n    height: 40,\r\n    margin: 5,\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    paddingLeft: 10,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  inputRowLeftText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  inputRowRightText: {\r\n    paddingHorizontal: 10,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, MaterialCommunityIcons, Feather } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Fire extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      kitchenmsgs: props.route.params.masters.kitchenmsgs,\r\n      kottypes: props.route.params.masters.kottypes,\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      remark: '',\r\n      selectedTableItems: [],\r\n      selectedKottypes: [],\r\n      selectedKitchenmsg: null,\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  doReset() {\r\n    Keyboard.dismiss();\r\n    this.setState({\r\n      selectedKitchenmsg: null,\r\n      selectedKottypes: [],\r\n      selectedTableItems: [],\r\n      remark: '',\r\n    })\r\n  }\r\n\r\n  doPressFire() {\r\n    const { selectedKottypes, selectedTableItems, remark } = this.state;\r\n    // let options = [];\r\n    // options.push({ text: 'Yes', handleText: 'doSubmit' });\r\n    // this.setState({\r\n    //   overlayAlertInputValue: {\r\n    //     title: intl.get('action'),\r\n    //     subtitle: 'Fire',\r\n    //     text: `${intl.get('fire')} \"${remark}\" (${selectedTableItems.map(el => el.menuId).join(',')}) (${selectedKottypes.map(el => el.kotType).join(',')})`,\r\n    //     ok: false,\r\n    //     cancel: true,\r\n    //     options: options,\r\n    //   },\r\n    //   overlayAlertVisible: true,\r\n    // });\r\n    this.doSubmit();\r\n  }\r\n\r\n  doPressKitchenmsg(item) {\r\n    const { selectedKitchenmsg, kottypes } = this.state;\r\n    if (selectedKitchenmsg?.recKey === item?.recKey) {\r\n      this.setState({\r\n        selectedKitchenmsg: null,\r\n        remark: '',\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKitchenmsg: item,\r\n        remark: item.name,\r\n        selectedKottypes: item.kotTypes?.split(',').map(el => kottypes.find(obj => obj.kotType === el)) || [],\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressTableItem(item) {\r\n    const { selectedTableItems, } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate = selectedTableItems.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedTableItemsUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressKottype(item) {\r\n    const { selectedKottypes } = this.state;\r\n    let selectedKottypesUpdate = selectedKottypes;\r\n    if (selectedKottypes.some(el => el.recKey === item.recKey)) {\r\n      selectedKottypesUpdate = selectedKottypes.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedKottypesUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedKottypes: selectedKottypesUpdate,\r\n    })\r\n  }\r\n\r\n  doPressAllKottype() {\r\n    const { selectedKottypes, kottypes } = this.state;\r\n    if (!kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey))) {\r\n      this.setState({\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKottypes: kottypes,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSubmit') {\r\n      this.doSubmit();\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, masters, settings,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes, remark } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/fire-kot';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      remark: remark,\r\n      kotTypes: selectedKottypes.map(el => el.kotType).join(','),\r\n      opentableItemRecKeys: selectedTableItems.map(el => el.recKey).join(','),\r\n      msgId: selectedKitchenmsg?.msgId,\r\n    };\r\n    console.log(body)\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post fire-kot successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Fire Course',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            remark + ' (' + selectedTableItems.map(el => el.menuId).join(',') + ')' + ' (' + selectedKottypes.map(el => el.kotType).join(',') + ')',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, remark, kottypes, kitchenmsgs, tableItems,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n    } = this.state;\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.navigateButton}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER MESSAGE'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={remark}\r\n                    onChangeText={(text) => this.setState({ remark: text })}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => this.doReset()}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1, marginHorizontal: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kitchenmsgs}\r\n                  numColumns={2}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, { marginHorizontal: 2.5 }, selectedKitchenmsg?.recKey === item?.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKitchenmsg(item)}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.name}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      disabled={item.refRecKey ? true : false}\r\n                      onPress={() => this.doPressTableItem(item)}>\r\n                      <View style={[styles.tableItemFirstContainer, item.fireFlg === 'Y' && { borderRightColor: theme.reserved }]}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ paddingLeft: 10, alignItems: 'center', justifyContent: 'center', }}>\r\n                    <Text style={styles.titleText}>Destination</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    {\r\n                      selectedKottypes.length > 1 ?\r\n                        <Text style={[styles.titleText, { color: 'white' }]}>Various</Text>\r\n                        :\r\n                        selectedKottypes.length === 1 ?\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{kottypes?.find(el => el.kotType === selectedKottypes[0].kotType)?.kotName}</Text>\r\n                          :\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>-</Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kottypes}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  ListHeaderComponent={\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, !kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey)) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressAllKottype()}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ALL KOT PRINTERS\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedKottypes.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKottype(item)}>\r\n                      <View style={[styles.tableItemSecondContainer, { flexDirection: 'row', justifyContent: 'space-between', paddingRight: 10, alignItems: 'center' }]}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotName}\r\n                        </Text>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotType}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.navigateButton, ((selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark) && { opacity: 0.2 }]}\r\n                disabled={(selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark}\r\n                onPress={() => this.doPressFire()}>\r\n                <AntDesign\r\n                  name='customerservice'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('fire')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  navigateButton: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  navigateButtonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, SectionList, ScrollView, FlatList, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Combo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n\r\n      comboGroups: props.route.params.masters.comboGroups.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      comboItems: props.route.params.masters.comboItems.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      selectedComboItems: [],\r\n      selectedComboItem: null,\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : props.route.params.selectedTable?.sectionId === 'SYS' ? 'B' : 'A',\r\n\r\n      // modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedTable?.sectionId === 'SYS' ? `*${intl.get('takeaway')}  ` : ''),\r\n      // modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount menu', this.state.comboItems)\r\n    this.doPrepareComboItems();\r\n  }\r\n\r\n  doPrepareComboItems() {\r\n    const { comboItems } = this.state;\r\n    let comboItemsUpdate = comboItems.map(el => ({\r\n      ...el,\r\n      modInput: '',\r\n      modRecKeys: [],\r\n    }));\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doComboItemModInput(text) {\r\n    const { comboItems, selectedComboItem } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = text;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressComboItem(item) {\r\n    const { selectedComboItems } = this.state;\r\n    let selectedComboItemsUpdate = selectedComboItems;\r\n    if (selectedComboItems.some(el => el.recKey === item.recKey)) {\r\n      selectedComboItemsUpdate = selectedComboItems.filter(el => el.recKey !== item.recKey);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: null,\r\n      })\r\n    } else {\r\n      selectedComboItemsUpdate.push(item);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: item,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, comboItems } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n\r\n    if (orderType === 'A') {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n        el.modInput = `*${intl.get('takeaway')}  ` + el.modInput;\r\n      })\r\n      this.setState({\r\n        orderType: 'B',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    } else {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n      })\r\n      this.setState({\r\n        orderType: 'A',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { selectedModBundle, selectedComboItem, comboItems } = this.state;\r\n    let modInputUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput;\r\n    let modRecKeysUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = modInputUpdate;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modRecKeys = modRecKeysUpdate;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      comboGroups, comboItems, selectedComboItems,\r\n      menuName, qtyInput, orderType, } = this.state;\r\n\r\n    // need preference to auto go through\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (selectedTable.sectionId !== 'SYS' && selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // if (modBundles.filter(el => el.modmas.mustFlg === 'Y' && (el.modmas.globalFlg === 'Y' || mods.some(obj => obj.menuId === selectedMenu.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => modRecKeys.some(el => el === obj.recKey.toString())))) {\r\n    //   this.setState({\r\n    //     overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n    //     loading: false,\r\n    //   })\r\n    //   return;\r\n    // }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG').setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading, preference,\r\n      home, selectedMenu, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      menuName, qtyInput, orderType,\r\n      comboGroups, comboItems, selectedComboItems, selectedComboItem,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          {\r\n            selectedComboItem &&\r\n            <View style={{ flex: 1, marginVertical: 10, marginLeft: 0, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginVertical: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedComboItem.menuId}</Text>\r\n                  <Text style={{\r\n                    fontFamily: 'varela-round',\r\n                    color: 'white',\r\n                    fontSize: 20,\r\n                    textAlign: 'center',\r\n                    paddingHorizontal: 20,\r\n                  }} numberOfLines={2}>{selectedComboItem.menuName}</Text>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput}\r\n                  onChangeText={text => this.doComboItemModInput(text)}\r\n                />\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    mods?.filter(el => el.menuId === selectedMenu.menuId).length > 0 &&\r\n                    <>\r\n                      <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                        <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MENU SPECIFIC MODIFIER</Text>\r\n                      </View>\r\n                      <View style={styles.modContainer}>\r\n                        {\r\n                          mods?.filter(el => el.menuId === selectedMenu.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                            <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                              onPress={() => this.doPressModBundle(item)}>\r\n                              <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                            </TouchableOpacity>\r\n                          )\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  }\r\n                  <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                    <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>GLOBAL MODIFIER</Text>\r\n                  </View>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      modBundles?.filter(el => el.modmas.globalFlg === 'Y').map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n                <View style={{ flex: 1, backgroundColor: theme.grey4 }}>\r\n                  <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                    <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>OPTIONS</Text>\r\n                  </View>\r\n                  <ScrollView contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n                    showsVerticalScrollIndicator={false}>\r\n                    {\r\n                      selectedModBundle?.moditems.map(item =>\r\n                        <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, comboItems.find(el => el.recKey === selectedComboItem.recKey)?.modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                          onPress={() => this.doPressMod(item)}>\r\n                          <Text style={styles.modText}>{item.name}</Text>\r\n                          {\r\n                            item.listPrice !== 0 &&\r\n                            <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                          }\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          }\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM'))}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <ScrollView\r\n                  style={{ flex: 1, backgroundColor: theme.grey2, paddingBottom: 5 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    comboGroups.map(el =>\r\n                      <View key={el.recKey.toString()}>\r\n                        <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', }}>\r\n                          <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: 'white', }}>{el.groupName}</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={{ margin: -2.5 }}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={comboItems.filter(obj => obj.groupNo === el.groupNo)}\r\n                          numColumns={preference.mcolsize}\r\n                          keyExtractor={(item, index) => item.recKey.toString()}\r\n                          renderItem={({ item }) => this.renderComboItem(item)}\r\n                        />\r\n                      </View>\r\n                    )\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n            </View>\r\n            <View style={{ margin: 5, width: 120, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, marginVertical: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, marginVertical: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, marginVertical: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderComboItem(item) {\r\n    const { preference, selectedComboItems } = this.state;\r\n    const found = selectedComboItems.some(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <View style={[{ margin: 2.5, flexDirection: 'row', height: 90, backgroundColor: found ? theme.occupied : theme.grey4, }]}>\r\n          <TouchableOpacity\r\n            style={{ width: 50, backgroundColor: found ? 'rgba(0,0,0,0.4)' : theme.grey3, justifyContent: 'center', alignItems: 'center' }}\r\n            onPress={() => this.setState({ selectedComboItem: item })}>\r\n            <AntDesign name=\"ellipsis1\" size={18} color={'black'} />\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={{ flex: 1, padding: 10 }}\r\n            onPress={() => this.doPressComboItem(item)}>\r\n            <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 12, }}></Text>\r\n              <Text style={[{ fontFamily: 'varela-round', fontSize: 12, color: Number(item.addonPrice) === 0 ? 'transparent' : found ? 'white' : theme.reserved }]}>+{item.addonPrice?.toFixed(2)}</Text>\r\n            </View>\r\n            <View style={{ flex: 1 }}>\r\n              <Text style={{ fontFamily: 'varela-round', color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n            </View>\r\n            <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <Text style={{ fontFamily: 'varela-round', color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}></Text>\r\n              <Text style={{ fontFamily: 'varela-round', color: found ? 'white' : theme.paid, fontSize: 12, }}>{item.menuId}</Text>\r\n            </View>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport { StyleSheet, Text, View, Platform } from 'react-native';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport * as Font from 'expo-font';\r\nimport intl from 'react-intl-universal';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\n\r\nimport Login from './src/Login';\r\nimport Main from './src/Main';\r\nimport Preference from './src/Preference';\r\nimport Pos from './src/Pos';\r\nimport Split from './src/Split';\r\nimport Adhoc from './src/Adhoc';\r\nimport Dayclose from './src/Dayclose';\r\nimport Printer from './src/Printer';\r\nimport Report from './src/Report';\r\nimport Reprint from './src/Reprint';\r\nimport Resequence from './src/Resequence';\r\nimport Transfer from './src/Transfer';\r\nimport Void from './src/Void';\r\nimport Collect from './src/Collect';\r\nimport Table from './src/Table';\r\nimport Menu from './src/Menu';\r\nimport Scan from './src/Scan';\r\nimport Trace from './src/Trace';\r\nimport Activate from './src/Activate';\r\nimport Limit from './src/Limit';\r\nimport Fire from './src/Fire';\r\nimport Combo from './src/Combo';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n  }\r\n\r\n  async componentDidMount() {\r\n\r\n    // locale data\r\n    const locales = {\r\n      \"zhs\": require('./assets/zhs.json'),\r\n      \"zht\": require('./assets/zht.json'),\r\n      \"en\": require('./assets/en.json'),\r\n      \"ja\": require('./assets/ja.json'),\r\n    };\r\n\r\n    const currentLocale = await AsyncStorage.getItem('language');\r\n\r\n    await intl.init({\r\n      currentLocale: currentLocale || 'en',\r\n      locales,\r\n    });\r\n\r\n    // ttf for native, woff for web\r\n    await Font.loadAsync({\r\n      'varela-round': require('./assets/VarelaRound-Regular.ttf'),\r\n      // 'varela-round': require('./assets/VarelaRound-Regular.woff'),\r\n    })\r\n\r\n    if (Platform.OS !== 'web') {\r\n      BarCodeScanner.getPermissionsAsync()\r\n        .then(response => {\r\n          if (response.status !== 'granted') return BarCodeScanner.requestPermissionsAsync();\r\n          return Promise.resolve(response);\r\n        })\r\n    }\r\n\r\n    this.setState({ loading: false })\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n\r\n    if (loading) return <View></View>;\r\n\r\n    return (\r\n      <NavigationContainer>\r\n        <StatusBar hidden />\r\n        <Stack.Navigator\r\n          screenOptions={{\r\n            headerShown: false,\r\n            animation: 'none',\r\n            gestureEnabled: false,\r\n          }}>\r\n          <Stack.Screen name=\"Login\" component={Login} options={Login.navigationOptions} />\r\n          <Stack.Screen name=\"Preference\" component={Preference} options={Preference.navigationOptions} />\r\n          <Stack.Screen name=\"Main\" component={Main} options={Main.navigationOptions} />\r\n          <Stack.Screen name=\"Pos\" component={Pos} options={Pos.navigationOptions} />\r\n          <Stack.Screen name=\"Split\" component={Split} options={Split.navigationOptions} />\r\n          <Stack.Screen name=\"Void\" component={Void} options={Void.navigationOptions} />\r\n          <Stack.Screen name=\"Collect\" component={Collect} options={Collect.navigationOptions} />\r\n          <Stack.Screen name=\"Transfer\" component={Transfer} options={Transfer.navigationOptions} />\r\n          <Stack.Screen name=\"Resequence\" component={Resequence} options={Resequence.navigationOptions} />\r\n          <Stack.Screen name=\"Reprint\" component={Reprint} options={Reprint.navigationOptions} />\r\n          <Stack.Screen name=\"Report\" component={Report} options={Report.navigationOptions} />\r\n          <Stack.Screen name=\"Printer\" component={Printer} options={Printer.navigationOptions} />\r\n          <Stack.Screen name=\"Dayclose\" component={Dayclose} options={Dayclose.navigationOptions} />\r\n          <Stack.Screen name=\"Adhoc\" component={Adhoc} options={Adhoc.navigationOptions} />\r\n          <Stack.Screen name=\"Scan\" component={Scan} options={Scan.navigationOptions} />\r\n          <Stack.Screen name=\"Trace\" component={Trace} options={Trace.navigationOptions} />\r\n          <Stack.Screen name=\"Activate\" component={Activate} options={Activate.navigationOptions} />\r\n          <Stack.Screen name=\"Limit\" component={Limit} options={Limit.navigationOptions} />\r\n          <Stack.Screen name=\"Table\" component={Table} options={Table.navigationOptions} />\r\n          <Stack.Screen name=\"Fire\" component={Fire} options={Fire.navigationOptions} />\r\n          <Stack.Screen name=\"Menu\" component={Menu} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n          <Stack.Screen name=\"Combo\" component={Combo} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n        </Stack.Navigator>\r\n      </NavigationContainer>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n","var map = {\n\t\"./af\": 161,\n\t\"./af.js\": 161,\n\t\"./ar\": 162,\n\t\"./ar-dz\": 163,\n\t\"./ar-dz.js\": 163,\n\t\"./ar-kw\": 164,\n\t\"./ar-kw.js\": 164,\n\t\"./ar-ly\": 165,\n\t\"./ar-ly.js\": 165,\n\t\"./ar-ma\": 166,\n\t\"./ar-ma.js\": 166,\n\t\"./ar-sa\": 167,\n\t\"./ar-sa.js\": 167,\n\t\"./ar-tn\": 168,\n\t\"./ar-tn.js\": 168,\n\t\"./ar.js\": 162,\n\t\"./az\": 169,\n\t\"./az.js\": 169,\n\t\"./be\": 170,\n\t\"./be.js\": 170,\n\t\"./bg\": 171,\n\t\"./bg.js\": 171,\n\t\"./bm\": 172,\n\t\"./bm.js\": 172,\n\t\"./bn\": 173,\n\t\"./bn-bd\": 174,\n\t\"./bn-bd.js\": 174,\n\t\"./bn.js\": 173,\n\t\"./bo\": 175,\n\t\"./bo.js\": 175,\n\t\"./br\": 176,\n\t\"./br.js\": 176,\n\t\"./bs\": 177,\n\t\"./bs.js\": 177,\n\t\"./ca\": 178,\n\t\"./ca.js\": 178,\n\t\"./cs\": 179,\n\t\"./cs.js\": 179,\n\t\"./cv\": 180,\n\t\"./cv.js\": 180,\n\t\"./cy\": 181,\n\t\"./cy.js\": 181,\n\t\"./da\": 182,\n\t\"./da.js\": 182,\n\t\"./de\": 183,\n\t\"./de-at\": 184,\n\t\"./de-at.js\": 184,\n\t\"./de-ch\": 185,\n\t\"./de-ch.js\": 185,\n\t\"./de.js\": 183,\n\t\"./dv\": 186,\n\t\"./dv.js\": 186,\n\t\"./el\": 187,\n\t\"./el.js\": 187,\n\t\"./en-au\": 188,\n\t\"./en-au.js\": 188,\n\t\"./en-ca\": 189,\n\t\"./en-ca.js\": 189,\n\t\"./en-gb\": 190,\n\t\"./en-gb.js\": 190,\n\t\"./en-ie\": 191,\n\t\"./en-ie.js\": 191,\n\t\"./en-il\": 192,\n\t\"./en-il.js\": 192,\n\t\"./en-in\": 193,\n\t\"./en-in.js\": 193,\n\t\"./en-nz\": 194,\n\t\"./en-nz.js\": 194,\n\t\"./en-sg\": 195,\n\t\"./en-sg.js\": 195,\n\t\"./eo\": 196,\n\t\"./eo.js\": 196,\n\t\"./es\": 197,\n\t\"./es-do\": 198,\n\t\"./es-do.js\": 198,\n\t\"./es-mx\": 199,\n\t\"./es-mx.js\": 199,\n\t\"./es-us\": 200,\n\t\"./es-us.js\": 200,\n\t\"./es.js\": 197,\n\t\"./et\": 201,\n\t\"./et.js\": 201,\n\t\"./eu\": 202,\n\t\"./eu.js\": 202,\n\t\"./fa\": 203,\n\t\"./fa.js\": 203,\n\t\"./fi\": 204,\n\t\"./fi.js\": 204,\n\t\"./fil\": 205,\n\t\"./fil.js\": 205,\n\t\"./fo\": 206,\n\t\"./fo.js\": 206,\n\t\"./fr\": 207,\n\t\"./fr-ca\": 208,\n\t\"./fr-ca.js\": 208,\n\t\"./fr-ch\": 209,\n\t\"./fr-ch.js\": 209,\n\t\"./fr.js\": 207,\n\t\"./fy\": 210,\n\t\"./fy.js\": 210,\n\t\"./ga\": 211,\n\t\"./ga.js\": 211,\n\t\"./gd\": 212,\n\t\"./gd.js\": 212,\n\t\"./gl\": 213,\n\t\"./gl.js\": 213,\n\t\"./gom-deva\": 214,\n\t\"./gom-deva.js\": 214,\n\t\"./gom-latn\": 215,\n\t\"./gom-latn.js\": 215,\n\t\"./gu\": 216,\n\t\"./gu.js\": 216,\n\t\"./he\": 217,\n\t\"./he.js\": 217,\n\t\"./hi\": 218,\n\t\"./hi.js\": 218,\n\t\"./hr\": 219,\n\t\"./hr.js\": 219,\n\t\"./hu\": 220,\n\t\"./hu.js\": 220,\n\t\"./hy-am\": 221,\n\t\"./hy-am.js\": 221,\n\t\"./id\": 222,\n\t\"./id.js\": 222,\n\t\"./is\": 223,\n\t\"./is.js\": 223,\n\t\"./it\": 224,\n\t\"./it-ch\": 225,\n\t\"./it-ch.js\": 225,\n\t\"./it.js\": 224,\n\t\"./ja\": 226,\n\t\"./ja.js\": 226,\n\t\"./jv\": 227,\n\t\"./jv.js\": 227,\n\t\"./ka\": 228,\n\t\"./ka.js\": 228,\n\t\"./kk\": 229,\n\t\"./kk.js\": 229,\n\t\"./km\": 230,\n\t\"./km.js\": 230,\n\t\"./kn\": 231,\n\t\"./kn.js\": 231,\n\t\"./ko\": 232,\n\t\"./ko.js\": 232,\n\t\"./ku\": 233,\n\t\"./ku.js\": 233,\n\t\"./ky\": 234,\n\t\"./ky.js\": 234,\n\t\"./lb\": 235,\n\t\"./lb.js\": 235,\n\t\"./lo\": 236,\n\t\"./lo.js\": 236,\n\t\"./lt\": 237,\n\t\"./lt.js\": 237,\n\t\"./lv\": 238,\n\t\"./lv.js\": 238,\n\t\"./me\": 239,\n\t\"./me.js\": 239,\n\t\"./mi\": 240,\n\t\"./mi.js\": 240,\n\t\"./mk\": 241,\n\t\"./mk.js\": 241,\n\t\"./ml\": 242,\n\t\"./ml.js\": 242,\n\t\"./mn\": 243,\n\t\"./mn.js\": 243,\n\t\"./mr\": 244,\n\t\"./mr.js\": 244,\n\t\"./ms\": 245,\n\t\"./ms-my\": 246,\n\t\"./ms-my.js\": 246,\n\t\"./ms.js\": 245,\n\t\"./mt\": 247,\n\t\"./mt.js\": 247,\n\t\"./my\": 248,\n\t\"./my.js\": 248,\n\t\"./nb\": 249,\n\t\"./nb.js\": 249,\n\t\"./ne\": 250,\n\t\"./ne.js\": 250,\n\t\"./nl\": 251,\n\t\"./nl-be\": 252,\n\t\"./nl-be.js\": 252,\n\t\"./nl.js\": 251,\n\t\"./nn\": 253,\n\t\"./nn.js\": 253,\n\t\"./oc-lnc\": 254,\n\t\"./oc-lnc.js\": 254,\n\t\"./pa-in\": 255,\n\t\"./pa-in.js\": 255,\n\t\"./pl\": 256,\n\t\"./pl.js\": 256,\n\t\"./pt\": 257,\n\t\"./pt-br\": 258,\n\t\"./pt-br.js\": 258,\n\t\"./pt.js\": 257,\n\t\"./ro\": 259,\n\t\"./ro.js\": 259,\n\t\"./ru\": 260,\n\t\"./ru.js\": 260,\n\t\"./sd\": 261,\n\t\"./sd.js\": 261,\n\t\"./se\": 262,\n\t\"./se.js\": 262,\n\t\"./si\": 263,\n\t\"./si.js\": 263,\n\t\"./sk\": 264,\n\t\"./sk.js\": 264,\n\t\"./sl\": 265,\n\t\"./sl.js\": 265,\n\t\"./sq\": 266,\n\t\"./sq.js\": 266,\n\t\"./sr\": 267,\n\t\"./sr-cyrl\": 268,\n\t\"./sr-cyrl.js\": 268,\n\t\"./sr.js\": 267,\n\t\"./ss\": 269,\n\t\"./ss.js\": 269,\n\t\"./sv\": 270,\n\t\"./sv.js\": 270,\n\t\"./sw\": 271,\n\t\"./sw.js\": 271,\n\t\"./ta\": 272,\n\t\"./ta.js\": 272,\n\t\"./te\": 273,\n\t\"./te.js\": 273,\n\t\"./tet\": 274,\n\t\"./tet.js\": 274,\n\t\"./tg\": 275,\n\t\"./tg.js\": 275,\n\t\"./th\": 276,\n\t\"./th.js\": 276,\n\t\"./tk\": 277,\n\t\"./tk.js\": 277,\n\t\"./tl-ph\": 278,\n\t\"./tl-ph.js\": 278,\n\t\"./tlh\": 279,\n\t\"./tlh.js\": 279,\n\t\"./tr\": 280,\n\t\"./tr.js\": 280,\n\t\"./tzl\": 281,\n\t\"./tzl.js\": 281,\n\t\"./tzm\": 282,\n\t\"./tzm-latn\": 283,\n\t\"./tzm-latn.js\": 283,\n\t\"./tzm.js\": 282,\n\t\"./ug-cn\": 284,\n\t\"./ug-cn.js\": 284,\n\t\"./uk\": 285,\n\t\"./uk.js\": 285,\n\t\"./ur\": 286,\n\t\"./ur.js\": 286,\n\t\"./uz\": 287,\n\t\"./uz-latn\": 288,\n\t\"./uz-latn.js\": 288,\n\t\"./uz.js\": 287,\n\t\"./vi\": 289,\n\t\"./vi.js\": 289,\n\t\"./x-pseudo\": 290,\n\t\"./x-pseudo.js\": 290,\n\t\"./yo\": 291,\n\t\"./yo.js\": 291,\n\t\"./zh-cn\": 292,\n\t\"./zh-cn.js\": 292,\n\t\"./zh-hk\": 293,\n\t\"./zh-hk.js\": 293,\n\t\"./zh-mo\": 294,\n\t\"./zh-mo.js\": 294,\n\t\"./zh-tw\": 295,\n\t\"./zh-tw.js\": 295\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 416;","module.exports = __webpack_public_path__ + \"./fonts/VarelaRound-Regular.ttf\";"],"sourceRoot":""}