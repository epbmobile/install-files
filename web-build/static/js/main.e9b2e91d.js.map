{"version":3,"file":"static/js/main.e9b2e91d.js","mappings":"miCAKO,SAASA,EAAIC,GAAgC,IAADC,EAAAC,EAA5BC,EAAKH,EAALG,MAAOC,EAAQJ,EAARI,SAAaC,GAAIC,EAAAA,EAAAA,SAAAN,EAAAO,GAIzCC,EAAcL,EASlB,OAPIM,MAAMC,QAAQP,KAChBK,EAAc,CAAC,EACfL,EAAMQ,SAAQ,SAAAC,GACZJ,EAAcK,OAAOC,OAAON,EAAaI,EAC3C,MAKAG,EAAAA,EAAAA,KAACC,EAAAA,QAAOC,EAAAA,EAAA,CAACd,MAAKc,EAAAA,EAAA,GAAOT,GAAW,IAAEU,UAAsB,OAAXjB,EAAAO,QAAW,EAAXP,EAAaiB,WAAY,GAAKC,YAAwB,OAAXjB,EAAAM,QAAW,EAAXN,EAAaiB,aAAc,kBAAuBd,GAAI,IAAAD,SAC3IA,IAGP,CAEO,SAASgB,EAAMC,EAAcC,EAAMC,EAAMC,EAAMC,EAAMC,EAAMC,GAChEC,MAAMP,EAAe,aAAc,CACjCQ,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAU,CACnBX,KAAAA,EACAC,KAAAA,EACAC,KAAAA,EACAC,KAAAA,EACAC,KAAAA,EACAC,KAAAA,KAGN,CCfA,QAxBc,CACZO,OAAQ,UACRC,SAAU,UACVC,SAAU,UACVC,KAAM,UACNC,YAAa,UACbC,MAAO,UACPC,QAAS,UACTC,MAAO,UACPC,MAAO,UACPC,MAAO,UACPC,MAAO,UACPC,MAAO,UAEPC,MAAO,UACPC,MAAO,UACPC,MAAO,UAEPC,KAAsB,QAAhBC,EAAAA,QAASC,GAAe,EAAI,EAElCC,OAAQ,UACRC,OAAQ,a,miBClB0B,IAEfC,EAAY,SAAAC,IAAAC,EAAAA,EAAAA,SAAAF,EAAAC,GAAA,IAAAE,EAAAC,EAAAJ,GAE/B,SAAAA,EAAYK,GAAO,OAAAC,EAAAA,EAAAA,SAAA,KAAAN,GAAAG,EAAAI,KAAA,KACXF,EACR,CAqBC,OArBAG,EAAAA,EAAAA,SAAAR,EAAA,EAAAS,IAAA,SAAAC,MAED,WAAU,IAADC,EAAA,KAGP,OAFAC,QAAQC,IAAI,6BAA8BC,KAAKT,QAG7C5C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,EAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,EAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,EAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,EAAOK,iBAAiBvE,SAAC,aACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,EAAOM,oBAAqB,CAAEC,MAAOC,EAAMzC,OAAQjC,SAAC,uBAClEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,EAAOS,YAAY3E,SAAEgE,KAAKT,MAAMqB,KAAKC,oBAEpDlE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,EAAOa,cAC9BC,QAAS,kBAAMnB,EAAKN,MAAM0B,iCAAiC,GAAG,EAACjF,UAE/DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,EAAOgB,kBAAkBlF,SAAC,aAKjD,KAACkD,CAAA,CAzB8B,CAASiC,EAAAA,WA4BpCjB,EAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb3B,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,Y,4cCpFqB,IAEfI,EAAe,SAAAvD,IAAAC,EAAAA,EAAAA,SAAAsD,EAAAvD,GAAA,IAAAE,EAAAC,EAAAoD,GAElC,SAAAA,EAAYnD,GAAO,OAAAC,EAAAA,EAAAA,SAAA,KAAAkD,GAAArD,EAAAI,KAAA,KACXF,EACR,CA4CC,OA5CAG,EAAAA,EAAAA,SAAAgD,EAAA,EAAA/C,IAAA,SAAAC,MAED,WAAU,IAADC,EAAA,KAGP,OAFAC,QAAQC,IAAI,qBAAsBC,KAAKT,QAGrC5C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,EAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,EAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,EAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,EAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,EAAOM,oBAAoBxE,SAAC,6DAG3CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,EAAO0C,iBAAiB5G,SAAA,EACnCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,EAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMuD,yBAAyB,KAAK,EAAC9G,SAAA,EACzDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEwG,UAAW,EAAG9B,MAAO,QAAS1D,WAAY,eAAgBD,SAAU,IAAKd,SAAC,QACzFW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,EAAO6C,YAAa/G,SAAC,gBAErCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,EAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMuD,yBAAyB,MAAM,EAAC9G,SAAA,EAC1DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAE0E,MAAO,QAAS1D,WAAY,eAAgBD,SAAU,IAAKd,SAAC,kBAC3EW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,EAAO6C,YAAa/G,SAAC,oCAGvCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,EAAO0C,iBAAiB5G,SAAA,EACnCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,EAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMuD,yBAAyB,MAAM,EAAC9G,SAAA,EAC1DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAE0E,MAAO,QAAS1D,WAAY,eAAgBD,SAAU,IAAKd,SAAC,kBAC3EW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,EAAO6C,WAAW/G,SAAC,iCAElCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,EAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMuD,yBAAyB,KAAK,EAAC9G,SAAA,EACzDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAE0E,MAAO,QAAS1D,WAAY,eAAgBD,SAAU,IAAKd,SAAC,wBAC3EW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,EAAO6C,WAAW/G,SAAC,8BAGpCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,EAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,KAAMsE,UAAW,KACxFvB,QAAS,kBAAMnB,EAAKN,MAAMuD,yBAAyB,GAAG,EAAC9G,UACvDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,EAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACD,CAAA,CAhDiC,CAASvB,EAAAA,WAmDvCjB,EAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2C,SAAU,MACV1B,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb3B,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEbM,iBAAkB,CAChBK,kBAAmB,GACnBnB,WAAY,SACZC,eAAgB,SAChBmB,cAAe,OAEjBL,OAAQ,CACNL,OAAQ,IACRR,MAAO,IACPS,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBT,gBAAiBZ,EAAMrC,MACvB4D,aAAc,GAEhBc,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,e,udCpIqB,IAEnBlD,GAAY,SAAAC,IAAAC,EAAAA,EAAAA,SAAAF,EAAAC,GAAA,IAAAE,EAAAC,EAAAJ,GAE/B,SAAAA,EAAYK,GAAQ,IAADM,EAIhB,OAJgBL,EAAAA,EAAAA,SAAA,KAAAN,IACjBW,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXC,MAAO7D,EAAM6D,OACdvD,CACH,CA0CC,OA1CAH,EAAAA,EAAAA,SAAAR,EAAA,EAAAS,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACCD,EAAUpD,KAAKmD,MAAfC,MAGR,OAFAtD,QAAQC,IAAI,kBAAmBC,KAAKT,QAGlC5C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAO,MAALoH,OAAK,EAALA,EAAOE,SAC9C3G,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAO,MAALoH,OAAK,EAALA,EAAOG,YACjD5G,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOS,YAAY3E,SAAO,MAALoH,OAAK,EAALA,EAAOxC,WAGpC,MAALwC,OAAK,EAALA,EAAOI,MACP7G,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAC9BC,QAAS,kBAAMqC,EAAK9D,MAAMkE,sBAAsB,GAAG,EAACzH,UACpDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAC,SAIpC,MAALoH,GAAAA,EAAOM,QACA,MAALN,OAAK,EAALA,EAAOM,QAAQC,KAAI,SAAAnH,GAAE,OACnBG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAE9BC,QAAS,kBAAMqC,EAAK9D,MAAMkE,sBAAsBjH,EAAGoH,WAAW,EAAC5H,UAC/DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAEQ,EAAGoE,QAFtCpE,EAAGoH,WAGS,IAEnB,MAGC,MAALR,OAAK,EAALA,EAAOS,UACPlH,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMqC,EAAK9D,MAAMkE,sBAAsB,GAAG,EAACzH,UACpDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAM7D,KAACzD,CAAA,CAjD8B,CAASiC,EAAAA,WAoDpCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACbmC,OAAQ,GACRX,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb3B,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,Y,6cCxGyB,IAEnBwB,GAAU,SAAA3E,IAAAC,EAAAA,EAAAA,SAAA0E,EAAA3E,GAAA,IAAAE,EAAAC,GAAAwE,GAE7B,SAAAA,EAAYvE,GAAQ,IAADM,EAiBwE,OAjBxEL,EAAAA,EAAAA,SAAA,KAAAsE,IACjBjE,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CAQXY,WAAY,KAEZC,gCAAgC,EAChCC,qBAAqB,EACrBC,uBAAwB,IAE1BrE,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC3F,CA6YC,OA7YAH,EAAAA,EAAAA,SAAAoE,EAAA,EAAAnE,IAAA,oBAAAC,MAAA,eAAAyE,GAAAC,EAAAA,EAAAA,UAED,YACE,IAAIP,QAAmBQ,EAAAA,QAAaC,QAAQ,cACxCT,IACFA,EAAanG,KAAK6G,MAAMV,GACxB/D,KAAK0E,SAAS,CACZX,WAAAA,IAGN,IAAC,yBAAAM,EAAAM,MAAA,KAAAC,UAAA,EAVA,IAUA,CAAAjF,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACpBZ,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,KAErBtD,GAGQ,YAATA,GACFZ,KAAK6E,SAET,GAAC,CAAAlF,IAAA,eAAAC,MAED,WACE,IAAI8D,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM+B,EAAAA,QAAAA,IAAS,OAAQiB,WAAY,YAClD5D,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAaZ,EAAAA,QAAAA,IAAS,SAAQ,IAAIA,EAAAA,QAAAA,IAAS,cAC3C/B,KAAM,+BACN4C,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,GAEzB,GAAC,CAAAtE,IAAA,UAAAC,MAED,WACE,IAAImE,EAAa,CACfgB,SAA0B,QAAhBjG,EAAAA,QAASC,GAAe,EAAI,EACtCiG,SAA0B,QAAhBlG,EAAAA,QAASC,GAAe,EAAI,EACtCkG,SAA0B,QAAhBnG,EAAAA,QAASC,GAAe,EAAI,EACtCmG,OAAQ,IACRC,WAAY,IACZC,WAAY,IAGdpF,KAAK0E,SAAS,CAAEX,WAAAA,IAChBQ,EAAAA,QAAac,QAAQ,aAAczH,KAAKC,UAAUkG,GACpD,GAAC,CAAApE,IAAA,aAAAC,MAED,WACE,IACI0F,EADmBtF,KAAKmD,MAApBY,WAEJuB,EAAiBP,SAAW,EAC9BO,EAAiBP,SAAWO,EAAiBP,SAAW,EAExDO,EAAiBP,SAAW,EAE9B/E,KAAK0E,SAAS,CACZX,WAAYuB,IAEdf,EAAAA,QAAac,QAAQ,aAAczH,KAAKC,UAAUyH,GACpD,GAAC,CAAA3F,IAAA,aAAAC,MAED,WACE,IACI0F,EADmBtF,KAAKmD,MAApBY,WAEJuB,EAAiBN,SAAW,EAC9BM,EAAiBN,SAAWM,EAAiBN,SAAW,EAExDM,EAAiBN,SAAW,EAE9BhF,KAAK0E,SAAS,CACZX,WAAYuB,IAEdf,EAAAA,QAAac,QAAQ,aAAczH,KAAKC,UAAUyH,GACpD,GAAC,CAAA3F,IAAA,aAAAC,MAED,WACE,IACI0F,EADmBtF,KAAKmD,MAApBY,WAEJuB,EAAiBL,SAAW,EAC9BK,EAAiBL,SAAWK,EAAiBL,SAAW,EAExDK,EAAiBL,SAAW,EAE9BjF,KAAK0E,SAAS,CACZX,WAAYuB,IAEdf,EAAAA,QAAac,QAAQ,aAAczH,KAAKC,UAAUyH,GACpD,GAAC,CAAA3F,IAAA,WAAAC,MAED,WACE,IACI0F,EADmBtF,KAAKmD,MAApBY,WAEwB,MAA5BuB,EAAiBJ,OACnBI,EAAiBJ,OAAS,IAE1BI,EAAiBJ,OAAS,IAE5BlF,KAAK0E,SAAS,CACZX,WAAYuB,IAEdf,EAAAA,QAAac,QAAQ,aAAczH,KAAKC,UAAUyH,GACpD,GAAC,CAAA3F,IAAA,eAAAC,MAED,WACE,IACI0F,EADmBtF,KAAKmD,MAApBY,WAE4B,MAAhCuB,EAAiBH,WACnBG,EAAiBH,WAAa,IAE9BG,EAAiBH,WAAa,IAEhCnF,KAAK0E,SAAS,CACZX,WAAYuB,IAEdf,EAAAA,QAAac,QAAQ,aAAczH,KAAKC,UAAUyH,GACpD,GAAC,CAAA3F,IAAA,eAAAC,MAED,SAAagB,GACX,IACI0E,EADmBtF,KAAKmD,MAApBY,WAERuB,EAAiBF,WAAaxE,EAC9BZ,KAAK0E,SAAS,CACZX,WAAYuB,IAEdf,EAAAA,QAAac,QAAQ,aAAczH,KAAKC,UAAUyH,GACpD,GAAC,CAAA3F,IAAA,eAAAC,MAED,SAAagB,GACX,IAAQmD,EAAe/D,KAAKmD,MAApBY,WAER,IAAIwB,MAAM3E,GAAV,CAEA,IAAI0E,EAAmBvB,EACvBuB,EAAiBE,WAAaC,OAAO7E,GACrCZ,KAAK0E,SAAS,CACZX,WAAYuB,IAEdf,EAAAA,QAAac,QAAQ,aAAczH,KAAKC,UAAUyH,GAP3B,CAQzB,GAAC,CAAA3F,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACCqC,EAAe1F,KAAKT,MAApBmG,WACRC,EACmF3F,KAAKmD,MADhFY,EAAU4B,EAAV5B,WACNC,EAA8B2B,EAA9B3B,+BAAgCC,EAAmB0B,EAAnB1B,oBAAqBC,EAAsByB,EAAtBzB,uBAGvD,OAFApE,QAAQC,IAAI,oBAAqBgE,IAG/B3D,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BiI,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9BO,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3Cb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5ChG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkG,2BAIxBzJ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEC,aAAc,IAAKvK,SAAA,EACxDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CACT3K,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAAM3K,SAAA,EAEpCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAO0G,KACd5F,QAAS,kBAAMqC,EAAKwD,YAAY,EAAC7K,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAC,cACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,oBAAoBhL,SAAC,YAE5CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,SAAA,EAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAAC,iCACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgH,eAAgB,CAAEzG,MAAOC,EAAM3C,WAAY/B,SAAY,MAAV+H,OAAU,EAAVA,EAAYgB,eAEhF3E,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,SAEpC,QAAhBa,EAAAA,QAASC,IAAyC,KAAf,MAAVgF,OAAU,EAAVA,EAAYgB,WAAoC,QAAhBjG,EAAAA,QAASC,IAAyC,KAAf,MAAVgF,OAAU,EAAVA,EAAYgB,WAC9FpI,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAM5C,SAAU9B,SAAE2G,EAAAA,QAAAA,IAAS,cAE7EhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,OAAQjC,SAAE2G,EAAAA,QAAAA,IAAS,uBAKnFvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAO0G,KACd5F,QAAS,kBAAMqC,EAAKgE,YAAY,EAACrL,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAC,cACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,oBAAoBhL,SAAC,YAE5CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,SAAA,EAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAAC,+BACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgH,eAAgB,CAAEzG,MAAOC,EAAM3C,WAAY/B,SAAY,MAAV+H,OAAU,EAAVA,EAAYkB,eAEhF7E,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,SAEpC,QAAhBa,EAAAA,QAASC,IAAyC,KAAf,MAAVgF,OAAU,EAAVA,EAAYkB,WAAoC,QAAhBnG,EAAAA,QAASC,IAAyC,KAAf,MAAVgF,OAAU,EAAVA,EAAYkB,WAC9FtI,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAM5C,SAAU9B,SAAE2G,EAAAA,QAAAA,IAAS,cAE7EhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,OAAQjC,SAAE2G,EAAAA,QAAAA,IAAS,uBAKnFvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CACHlE,MAAOmE,GAAO0G,KAAK5K,SAAA,EACnBoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAC,gBACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,oBAAoBhL,SAAC,aAE5CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,SAAA,EAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAAC,4BACpCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOgH,eAAgB,CAAElF,MAAO,IAAKvB,MAAOC,EAAM3C,SAAUuE,UAAW,UACxFiF,mBAAiB,EACjBC,cAAwB,MAAVzD,OAAU,EAAVA,EAAYqB,aAAc,GACxCqC,aAAc,SAAC7G,GAAI,OAAKyC,EAAKqE,aAAa9G,EAAK,QAGnDR,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,SAE3C,MAAV8F,GAAAA,EAAYqB,YAGXzI,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,OAAQjC,SAAE2G,EAAAA,QAAAA,IAAS,iBAF3EhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAM5C,SAAU9B,SAAE2G,EAAAA,QAAAA,IAAS,0BAkCzFhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1BpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEsB,YAAa,IAAK5L,SAAA,EACvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CACT3K,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAAM3K,SAAA,EAEpCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAO0G,KACd5F,QAAS,kBAAMqC,EAAKwE,YAAY,EAAC7L,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAC,cACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,oBAAoBhL,SAAC,YAE5CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,SAAA,EAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAAC,gCACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgH,eAAgB,CAAEzG,MAAOC,EAAM3C,WAAY/B,SAAY,MAAV+H,OAAU,EAAVA,EAAYiB,eAEhF5E,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,SAEpC,QAAhBa,EAAAA,QAASC,IAAyC,KAAf,MAAVgF,OAAU,EAAVA,EAAYiB,WAAoC,QAAhBlG,EAAAA,QAASC,IAAyC,KAAf,MAAVgF,OAAU,EAAVA,EAAYiB,WAC9FrI,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAM5C,SAAU9B,SAAE2G,EAAAA,QAAAA,IAAS,cAE7EhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,OAAQjC,SAAE2G,EAAAA,QAAAA,IAAS,uBAInFvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAO0G,KACd5F,QAAS,kBAAMqC,EAAKyE,UAAU,EAAC9L,SAAA,EAC/BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAC,YACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,oBAAoBhL,SAAC,YAE5CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,SAAA,EAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAAC,2BACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgH,eAAgB,CAAEzG,MAAOC,EAAM3C,WAAY/B,SAAY,MAAV+H,OAAU,EAAVA,EAAYmB,aAEhF9E,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,SAE/B,OAAb,MAAV8F,OAAU,EAAVA,EAAYmB,SACVvI,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAM5C,SAAU9B,SAAE2G,EAAAA,QAAAA,IAAS,cAE7EhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,OAAQjC,SAAE2G,EAAAA,QAAAA,IAAS,uBAInFvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAO0G,KACd5F,QAAS,kBAAMqC,EAAK0E,cAAc,EAAC/L,SAAA,EACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAC,gBACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,oBAAoBhL,SAAC,YAE5CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,SAAA,EAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAAC,8BACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgH,eAAgB,CAAEzG,MAAOC,EAAM3C,WAAY/B,SAAY,MAAV+H,OAAU,EAAVA,EAAYoB,iBAEhF/E,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,SAE3B,OAAjB,MAAV8F,OAAU,EAAVA,EAAYoB,aACVxI,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAM5C,SAAU9B,SAAE2G,EAAAA,QAAAA,IAAS,cAE7EhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,OAAQjC,SAAE2G,EAAAA,QAAAA,IAAS,6BAQvFhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMqC,EAAK2E,cAAc,EAAChM,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,UACL1F,MAAM,QACN5B,KAAM,MAERuB,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAA,CAAE2G,EAAAA,QAAAA,IAAS,SAAS,IAAEA,EAAAA,QAAAA,IAAS,sBAO5E,KAACmB,CAAA,CAja4B,CAAS3C,EAAAA,WAoalCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,EACNqB,cAAe,OAEjByE,eAAgB,CACd9F,KAAM,EACNqB,cAAe,OAEjBmD,iBAAkB,CAChBxE,KAAM,EACNP,gBAAiBZ,EAAMrC,OAEzBiI,eAAgB,CACdzE,KAAM,GAER4E,cAAe,CACb5E,KAAM,EACNP,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdiB,cAAe,UAMjB+E,UAAW,CACT3G,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,EACRF,UAAW,GACX2F,aAAc,EACdhF,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEV4F,gBAAiB,CACf5F,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBoF,kBAAmB,CACjBzG,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwG,mBAAoB,CAClB1G,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfmI,KAAM,CACJnE,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEX3B,UAAW,CACT5D,cAAe,MACfnB,eAAgB,iBAElBkF,WAAY,CACV9E,eAAgB,EAChBe,cAAe,MACfnB,eAAgB,iBAElBoF,UAAW,CACTjE,cAAe,MACfnB,eAAgB,iBAElB2G,cAAe,CACb7G,KAAM,GAER8G,eAAgB,CACd9G,KAAM,EACNC,WAAY,YAEd8G,cAAe,CACb/G,KAAM,GAERgH,eAAgB,CACdhH,KAAM,EACNC,WAAY,YAEdiF,kBAAmB,CACjBtG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdiK,mBAAoB,CAClBvG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdmK,eAAgB,CACdzG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+E,mBAAoB,CAClB3G,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZqF,cAAe,aAEjB2D,kBAAmB,CACjBlE,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB6E,cAAe,UAEjB8C,gBAAiB,CACfnE,KAAM,EACNoB,kBAAmB,GACnB6F,WAAY,IAEdjG,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBgE,mBAAoB,CAClB7D,UAAW,IAEbyG,UAAW,CACT1H,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBkH,gBAAiB,IAEnBC,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXU,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB/H,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZ6G,yBAA0B,CACxBhI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhBuD,oBAAqB,CACnB9H,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwL,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfoC,oBAAqB,CACnBnI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZiH,qBAAsB,CACpBpI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf6B,cAAe,CACbkC,OAAQ,GACRL,eAAgB,EAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,W,4hCC3qB2B,IAEjB0J,GAAK,SAAAhL,IAAAC,EAAAA,EAAAA,SAAA+K,EAAAhL,GAAA,IAAAE,EAAAC,GAAA6K,GACxB,SAAAA,EAAY5K,GAAQ,IAADM,EAiBwE,OAjBxEL,EAAAA,EAAAA,SAAA,KAAA2K,IACjBtK,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXY,WAAY,KACZqG,SAAU,IACVnN,aAAc,GACdoN,gBAAiB,KACjBC,WAAY,GACZC,SAAU,GACVC,OAAQ,GACRC,KAAM,KAENC,KAAK,GAIP7K,EAAKiD,yBAA2BjD,EAAKiD,yBAAyBqB,MAAIC,EAAAA,EAAAA,SAAAvE,IAClEA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC3F,CA6dC,OA7dAH,EAAAA,EAAAA,SAAAyK,EAAA,EAAAxK,IAAA,oBAAAC,MAAA,eAAAyE,GAAAC,EAAAA,EAAAA,UAED,YAA2B,IAADqG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA3H,EAAA,KAChBqC,EAAe1F,KAAKT,MAApBmG,WACR1F,KAAKiL,IAAMvF,EAAWwF,YACpB,QACAlL,KAAKmL,SAAShH,KAAKnE,OAErB,IAAM/C,QAAqBsH,EAAAA,QAAaC,QAAQ,gBAC1C4F,QAAiB7F,EAAAA,QAAaC,QAAQ,YACxCT,QAAmBQ,EAAAA,QAAaC,QAAQ,cAExCT,IACFA,EAAanG,KAAK6G,MAAMV,IAE1BA,EAAa,CACXgB,UAAoB,OAAV4F,EAAA5G,QAAU,EAAV4G,EAAY5F,YAA6B,QAAhBjG,EAAAA,QAASC,GAAe,EAAI,GAC/DiG,UAAoB,OAAV4F,EAAA7G,QAAU,EAAV6G,EAAY5F,YAA6B,QAAhBlG,EAAAA,QAASC,GAAe,EAAI,GAC/DkG,UAAoB,OAAV4F,EAAA9G,QAAU,EAAV8G,EAAY5F,YAA6B,QAAhBnG,EAAAA,QAASC,GAAe,EAAI,GAC/DmG,QAAkB,OAAV4F,EAAA/G,QAAU,EAAV+G,EAAY5F,SAAU,IAC9BC,YAAsB,OAAV4F,EAAAhH,QAAU,EAAVgH,EAAY5F,aAAc,IACtCC,YAAsB,OAAV4F,EAAAjH,QAAU,EAAViH,EAAY5F,aAAc,IAGxCb,EAAAA,QAAac,QAAQ,aAAczH,KAAKC,UAAUkG,IAElDjE,QAAQC,IAAI,mBAAoB9C,GAChC,IAAIoN,QAAwB9F,EAAAA,QAAaC,QAAQ,mBAE/C6F,EADEA,EACgBzM,KAAK6G,MAAM4F,GAEX,KAEpBrK,KAAK0E,SAAS,CACZX,WAAAA,EACA9G,aAAAA,EACAmN,SAAUA,GAAY,KACtBC,gBAAAA,IAG4B,MAA1BtG,EAAWoB,YACbO,EAAW0F,SAAS,YAAa,CAC/BrH,WAAAA,EACA9G,aAAAA,EACAoN,gBAAAA,IAIArK,KAAKmD,MAAMuH,KACb1K,KAAK0E,SAAS,CACZ4F,WAAY,QACX,kBAAMjH,EAAKgI,oBAAoB,GAEtC,IAAC,yBAAAhH,EAAAM,MAAA,KAAAC,UAAA,EArDA,IAqDA,CAAAjF,IAAA,WAAAC,MAAA,eAAA0L,GAAAhH,EAAAA,EAAAA,UAED,YAAkB,IAADiH,EACPC,EAAUxL,KAAKT,MAAfiM,MACJzH,QAAmBQ,EAAAA,QAAaC,QAAQ,cACtCvH,QAAqBsH,EAAAA,QAAaC,QAAQ,gBAC1C6F,QAAwB9F,EAAAA,QAAaC,QAAQ,mBAC/CT,GACF/D,KAAK0E,SAAS,CAAEX,WAAYnG,KAAK6G,MAAMV,KAErCsG,GACFrK,KAAK0E,SAAS,CAAE2F,gBAAiBzM,KAAK6G,MAAM4F,KAE9CrK,KAAK0E,SAAS,CAAEzH,aAAAA,IACA,OAAZsO,EAAAC,EAAMC,SAANF,EAAcG,MAASC,IAAOH,EAAMC,OAAOC,MAAME,KAAKD,MAAU,YAAc,EAChF3L,KAAKqL,qBAEArL,KAAKmD,MAAMuH,KACd1K,KAAK0E,SAAS,CACZ4F,WAAY,IAIpB,IAAC,yBAAAgB,EAAA3G,MAAA,KAAAC,UAAA,EAvBA,IAuBA,CAAAjF,IAAA,uBAAAC,MAED,WACEI,KAAKiL,KACP,GAAC,CAAAtL,IAAA,2BAAAC,MAED,SAAyBiM,GACvB7L,KAAK0E,SAAS,CACZoH,wBAAwB,IAErBD,IAGLlJ,EAAAA,QAAKe,QAAQqI,cAAgBF,EAC7BtH,EAAAA,QAAac,QAAQ,WAAYwG,GACjC7L,KAAK0E,SAAS,CACZ0F,SAAUyB,IAEd,GAAC,CAAAlM,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,kBAAAC,MAED,WAAmB,IAADoM,EAAA,KAChBC,EAAAA,QAAMC,MAAM,8BAEV,GACA,CACE,CACEtL,KAAM,UAER,CACEA,KAAM,KACNI,QAAS,kBAAMgL,EAAKG,YAAY,IAIxC,GAAC,CAAAxM,IAAA,aAAAC,MAED,WACsB,QAAhBd,EAAAA,QAASC,IACXqN,EAAQC,QAAQ,gDAEpB,GAAC,CAAA1M,IAAA,mBAAAC,MAED,WACE,IAAA+F,EAA2C3F,KAAKmD,MAC5CmJ,EADgB3G,EAAZ1I,aACkB,iBACtBU,EAAO,CACT6M,OAH0B7E,EAAN6E,OAIpBD,SAJoC5E,EAAR4E,UAM9BvK,KAAKuM,QAAQD,EAAM3O,EACrB,GAAC,CAAAgC,IAAA,qBAAAC,MAED,WACE,IAAA4M,EAAqCxM,KAAKmD,MACtCmJ,EADgBE,EAAZvP,aACkB,iBACtBU,EAAO,CACT2M,WAH8BkC,EAAVlC,YAKtBtK,KAAKuM,QAAQD,EAAM3O,EACrB,GAAC,CAAAgC,IAAA,UAAAC,MAAA,eAAA6M,GAAAnI,EAAAA,EAAAA,UAED,UAAcgI,EAAM3O,GAAO,IAAD+O,EAAA,KAChBhH,EAAe1F,KAAKT,MAApBmG,WACAzI,EAAiB+C,KAAKmD,MAAtBlG,aAERO,MAAM8O,EAAM,CACV7O,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAEJ,GADA9M,QAAQC,IAAI,aAAc6M,GACtBA,EAASE,QAIX,MAHAJ,EAAKhI,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAE7C+L,EAKR,OAHAF,EAAKhI,SAAS,CACZ+F,KAAMmC,IAEDG,QAAQC,IAAI,CACjBzI,EAAAA,QAAac,QAAQ,OAAQzH,KAAKC,UAAU+O,IAC5CA,GAEJ,IACCD,MAAK,SAAA/Q,GAAuB,IAADqR,GAAAC,EAAAA,EAAAA,SAAAtR,EAAA,GAAV6O,GAAFwC,EAAA,GAAMA,EAAA,IAEhBE,EAAe,GAEfC,EAAMnQ,EAAe,eACrBwO,EAAS,IAAI4B,gBACjB5B,EAAO6B,OAAO,SAAU7C,EAAK8C,QAE7B,IAAIC,EAAgB,CAAEJ,IADtBA,GAAQ,IAAM3B,EACkBgC,WAAY,YA6H5C,OA5HAN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,gBACrBwO,EAAS,IAAI4B,iBACNC,OAAO,SAAU7C,EAAK8C,QAE7BC,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,YACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,kBACrBwO,EAAS,IAAI4B,iBACNC,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAE7BC,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,cACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,eACrBwO,EAAS,IAAI4B,iBACNC,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAE5BF,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,WACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,aACrBwO,EAAS,IAAI4B,iBACNC,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAE7BC,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,SACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,YACrBwO,EAAS,IAAI4B,iBACNC,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,QAAS7C,EAAKkD,OAE5BH,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,QACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,mBACrBwO,EAAS,IAAI4B,iBACNC,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,QAAS7C,EAAKkD,OAE5BH,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,cACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,mBACrBwO,EAAS,IAAI4B,iBACNC,OAAO,QAAS7C,EAAKiD,OAE5BF,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,cACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,oBACrBwO,EAAS,IAAI4B,iBACNC,OAAO,QAAS7C,EAAKiD,OAE5BF,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,eACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,uBACrBwO,EAAS,IAAI4B,iBACNC,OAAO,SAAU7C,EAAK8C,QAE7BC,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,kBACxCN,EAAarI,KAAK0I,GAGlBA,EAAgB,CAAEJ,IADlBA,EAAMnQ,EAAe,kBACOwQ,WAAY,cACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,iBACrBwO,EAAS,IAAI4B,iBACNC,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAE5BF,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,aACxCN,EAAarI,KAAK0I,GAGlBA,EAAgB,CAAEJ,IADlBA,EAAMnQ,EAAe,cACOwQ,WAAY,WACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,gBACrBwO,EAAS,IAAI4B,iBACNC,OAAO,UAAW,YACzB7B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAE5BF,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,YACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,kBACrBwO,EAAS,IAAI4B,iBACNC,OAAO,SAAU7C,EAAKD,QAC7BiB,EAAO6B,OAAO,QAAS7C,EAAKkD,OAE5BH,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,cACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,wBACrBwO,EAAS,IAAI4B,iBACNC,OAAO,SAAU7C,EAAK8C,QAE7BC,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,mBACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,eACrBwO,EAAS,IAAI4B,iBACNC,OAAO,SAAU7C,EAAK8C,QAE7BC,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,YACxCN,EAAarI,KAAK0I,GAElBJ,EAAMnQ,EAAe,mBACrBwO,EAAS,IAAI4B,iBACNC,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAE7BC,EAAgB,CAAEJ,IADlBA,GAAQ,IAAM3B,EACcgC,WAAY,eACxCN,EAAarI,KAAK0I,GAEXT,QAAQC,KAAGY,EAAAA,EAAAA,SACbT,EAAaxJ,KAAI,SAAAnH,GAAE,OACpBgB,MAAMhB,EAAG4Q,KACNT,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAEJ,OADA9M,QAAQC,IAAI,WAAYvD,EAAGiR,WAAYb,IACvCiB,EAAAA,EAAAA,SAAA,GAAWrR,EAAGiR,WAAab,EAC7B,GAAE,KAGV,IACCD,MAAK,SAAAC,GACJ,IAAMkB,EAAUlB,EAASmB,QAAO,SAACC,EAAGnC,GAAI,OAAAhP,GAAAA,GAAA,GAAWmR,GAAC,IAAAH,EAAAA,EAAAA,SAAA,GAAGpR,OAAOwR,KAAKpC,GAAM,GAAKpP,OAAOyR,OAAOrC,GAAM,IAAE,GAAK,CAAC,GAC1G/L,QAAQC,IAAI,UAAW+N,GACvBpI,EAAW0F,SAAS,OAAQ,CAC1B0C,QAAAA,EACArD,KAAMiC,EAAKvJ,MAAMsH,KACjBJ,gBAAiBqC,EAAKvJ,MAAMkH,gBAC5BpN,aAAcyP,EAAKvJ,MAAMlG,aACzB8G,WAAY2I,EAAKvJ,MAAMY,YAE3B,IACCoK,OAAM,SAAAC,GACLtO,QAAQC,IAAI,QAASqO,GACrB1B,EAAKhI,SAAS,CACZ4F,WAAY,IAEhB,GACJ,IAAC,gBAAA+D,EAAAC,GAAA,OAAA7B,EAAA9H,MAAA,KAAAC,UAAA,EA/LA,IA+LA,CAAAjF,IAAA,aAAAC,MAED,SAAWiM,GACT,IACI0C,EADmBvO,KAAKmD,MAApBmH,WAC4BuB,EACpC7L,KAAK0E,SAAS,CAAE4F,WAAYiE,GAC9B,GAAC,CAAA5O,IAAA,SAAAC,MAED,WAAU,IAAD4O,EAAAC,EAAA,KACPC,EAA8B1O,KAAKT,MAA3BmG,EAAUgJ,EAAVhJ,WACRiJ,GADyBD,EAALlD,MAEyCxL,KAAKmD,OAD9CkH,GAAFsE,EAAV5K,WAA2B4K,EAAftE,iBAAiBpN,EAAY0R,EAAZ1R,aAAcmN,EAAQuE,EAARvE,SAA4BE,GAAZqE,EAANnE,OAAgBmE,EAARpE,SAAoBoE,EAAVrE,YAC7EtG,EAA8B2K,EAA9B3K,+BAAgC8H,EAAsB6C,EAAtB7C,uBAElC,OACE1L,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,OAAQlH,SAAA,CAE3C8P,IACAnP,EAAAA,EAAAA,KAAC+F,EAAe,CACdI,yBAA0B9C,KAAK8C,2BAGjCkB,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3Cb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGP,gBAAiB,SAAWtF,SAAA,EAClDoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAK7F,SAAA,EACxBW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,MAAOnB,eAAgB,iBAAkB/F,UAC9EoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAAjE,SAAA,EACHW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,GAAID,OAAQ,GAAIR,MAAO,GAAIC,aAAc,GAAIF,eAAgB,SAAUD,WAAY,SAAUR,gBAAiBZ,EAAMzC,MACrJ+C,QAAS,kBAAM0E,EAAW0F,SAAS,WAAW,EAACpP,UAC/CW,EAAAA,EAAAA,KAACiS,EAAAA,QAAQ,CAACzI,KAAK,YAAYtH,KAAM,GAAI4B,MAAOC,EAAMrC,MAAOtC,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,GAAIO,WAAY,QAEvG5F,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAEwN,iBAAkB,GAAI/G,OAAQ,GAAIR,MAAO,GAAIC,aAAc,GAAIF,eAAgB,SAAUD,WAAY,SAAUR,gBAAiBZ,EAAM3C,UAC/JiD,QAAS,kBAAM0E,EAAW0F,SAAS,aAAa,EAACpP,UACjDW,EAAAA,EAAAA,KAACkS,EAAAA,QAAa,CAAC1I,KAAK,yBAAyBtH,KAAM,GAAI4B,MAAOC,EAAMrC,UAGpD,QAAhBS,EAAAA,QAASC,KACTpC,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,GAAID,OAAQ,GAAIR,MAAO,GAAIC,aAAc,GAAIF,eAAgB,SAAUD,WAAY,SAAUR,gBAAiBZ,EAAM1C,UACrJgD,QAAS,kBAAMyN,EAAKK,iBAAiB,EAAC9S,UACtCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,gBAAgBtH,KAAM,GAAI4B,MAAOC,EAAMrC,gBAM/D+B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE0G,OAAQ,GAAIX,WAAY,WAAYC,eAAgB,YAAc/F,SAAA,EAC/EW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAOC,EAAMzC,MAAOjC,UAAiB,MAAfqO,OAAe,EAAfA,EAAiBlE,OAAQ,WAC9DxJ,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAEe,SAAU,GAAIoL,aAAc,EAAGzH,MAAOC,EAAM1C,UAAY+Q,cAAe,EAAE/S,SAAEiB,KAC1FN,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAEe,SAAU,IAAKd,SAAC,oCAC/BoE,EAAAA,EAAAA,MAACzE,EAAI,CAACI,MAAO,CAAEe,SAAU,IAAKd,SAAA,CAAC,WAAmC,OAA3BwS,EAACQ,EAAAA,QAAUC,SAASC,cAAO,EAA1BV,EAA4BW,MAAM,KAAK,aAGnFxS,EAAAA,EAAAA,KAACyS,EAAAA,QAAK,CACJrT,MAAO,CAAE8F,KAAM,EAAGG,MAAO,QACzBqN,OAAQC,EACRC,WAAW,gBAGfnP,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGP,gBAAiBZ,EAAMrC,MAAO0D,eAAgB,SAAUD,WAAY,UAAW9F,SAAA,EACrGoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAEwF,SAAU,WAAYI,MAAO,GAAIF,IAAK,GAAI6H,UAAW,GAAIxH,WAAY,YAC9Fd,QAAS,kBAAMyN,EAAK/J,SAAS,CAAEoH,wBAAwB,GAAO,EAAC9P,SAAA,EAC/DW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAO,QAAS2B,cAAe,aAAcpG,SAAe,OAAboO,EAAoB,qBAAqB,QAAbA,EAAqB,2BAAsB,QAAbA,EAAqB,2BAAS,QACtJzN,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAO,QAAS3D,SAAU,IAAKd,SAAC,6DAEjDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsP,mBAAmBxT,UACrCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOuP,UACvBC,YAAa/M,EAAAA,QAAAA,IAAS,cACtBgN,qBAAqB,QACrBC,iBAAkB,CAAExN,cAAe,aACnCqF,aAAc,SAAA7G,GAAI,OAAI6N,EAAK/J,SAAS,CAAE4F,WAAY1J,GAAO,EACzDhB,MAAO0K,EACPuF,iBAAe,EACfC,aAAa,MACbC,aAAa,EACbC,gBAAiB,kBAAMvB,EAAKpD,oBAAoB,OAIpDjL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAAjE,SAAA,EACHoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMyN,EAAKwB,WAAW,IAAI,EAACjU,UACpCW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAC/B7B,QAAS,kBAAMyN,EAAKwB,WAAW,IAAI,EAACjU,UACpCW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAC/B7B,QAAS,kBAAMyN,EAAKwB,WAAW,IAAI,EAACjU,UACpCW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,YAGpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMyN,EAAKwB,WAAW,IAAI,EAACjU,UACpCW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAC/B7B,QAAS,kBAAMyN,EAAKwB,WAAW,IAAI,EAACjU,UACpCW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAC/B7B,QAAS,kBAAMyN,EAAKwB,WAAW,IAAI,EAACjU,UACpCW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,YAGpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMyN,EAAKwB,WAAW,IAAI,EAACjU,UACpCW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAC/B7B,QAAS,kBAAMyN,EAAKwB,WAAW,IAAI,EAACjU,UACpCW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAC/B7B,QAAS,kBAAMyN,EAAKwB,WAAW,IAAI,EAACjU,UACpCW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,YAGpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAQ,CAAEvB,gBAAiBZ,EAAMrC,QAChE2C,QAAS,kBAAMyN,EAAK/J,SAAS,CAAE4F,WAAY,IAAK,EAACtO,UACjDW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQ1F,MAAM,QAAQ5B,KAAM,QAE9ClC,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAC/B7B,QAAS,kBAAMyN,EAAKwB,WAAW,IAAI,EAACjU,UACpCW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAQ,CAAEvB,gBAAiBZ,EAAMrC,QAChE2C,QAAS,kBAAMyN,EAAKpD,oBAAoB,EAACrP,UACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQ1F,MAAM,QAAQ5B,KAAM,kBAQ1D,KAACsL,CAAA,CAhfuB,CAAShJ,EAAAA,WAqf7BjB,IAFYgQ,EAAAA,QAAWC,IAAI,UAAUnO,MAE5BZ,EAAAA,QAAWC,OAAO,CAC/BmO,mBAAoB,CAClBxN,MAAO,MACPO,UAAW,GACX2F,aAAc,GACd1F,OAAQ,GACRP,aAAc,IACdX,gBAAiB,SAEnBmO,UAAW,CACT5N,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,SACXW,kBAAmB,GACnBhB,aAAc,KAEhBW,iBAAkB,CAChBd,WAAY,SACZC,eAAgB,SAChBmB,cAAe,OAEjBL,OAAQ,CAGNL,OAAQ,GACRR,MAAO,GACPS,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBT,gBAAiB,QACjBW,aAAc,GAEhBc,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVsF,cAAe,gB,ktBCjiBnB,IAAMgO,GAAgC,QAAhBtR,EAAAA,QAASC,GAAe,EAAI,EAE5CsR,GAAwB,SAACxE,GAC7B,OAAKA,EACDA,EAAKyE,UAAkB5P,EAAMvC,MACV,MAAnB0N,EAAK0E,UAA0B7P,EAAMtC,QAClB,MAAnByN,EAAK2E,UACA9P,EAAM5C,OACe,MAAnB+N,EAAK2E,UACP9P,EAAM3C,SACe,MAAnB8N,EAAK2E,UACP9P,EAAM1C,SACe,MAAnB6N,EAAK2E,UACP9P,EAAMzC,KACe,MAAnB4N,EAAK2E,UACP9P,EAAMxC,iBADR,EAXWwC,EAAM9B,KAc1B,EAEe,SAAS6R,GAAc7U,GAAuD,IAAD8U,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAnDC,EAAOpV,EAAPoV,QAASC,EAAMrV,EAANqV,OAAQC,EAA8BtV,EAA9BsV,+BAClDC,GAAaC,EAAAA,GAAAA,gBAAe,GAC5BC,GAAaD,EAAAA,GAAAA,gBAAe,GAC5BE,GAAQF,EAAAA,GAAAA,gBAAe,GACvBG,GAAUH,EAAAA,GAAAA,gBAAe,CAAEI,EAAG,EAAGC,EAAG,EAAGH,MAAO,IAE9CI,EAAW,GACXC,EAAcV,EAAOW,QAAO,SAAApV,GAAE,QAAmB,IAAbA,EAAGqV,OAA4B,IAAbrV,EAAGsV,MAAY,IACrEC,EAAaJ,EAAYC,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,WAAsC,MAAjBhU,EAAGgU,SAAiB,IAClFwB,EAAaf,EAAOW,QAAO,SAAApV,GAAE,OAAiB,IAAbA,EAAGqV,OAA4B,IAAbrV,EAAGsV,KAAW,IAEjEG,EAAON,EAAY5D,QAAO,SAACmE,EAAK1V,GAAE,OAAK2V,KAAKD,IAAI1V,EAAGqV,MAAOK,EAAI,IAAgB,OAAdxB,EAAAiB,EAAY,SAAE,EAAdjB,EAAgBmB,QAAS,GACzFO,EAAOT,EAAY5D,QAAO,SAACsE,EAAK7V,GAAE,OAAK2V,KAAKE,IAAI7V,EAAGqV,MAAQrV,EAAGwF,MAAOqQ,EAAI,IAAiB,OAAd1B,EAAAgB,EAAY,SAAE,EAAdhB,EAAgBkB,QAAsB,OAAjBjB,EAAGe,EAAY,SAAE,EAAdf,EAAgB5O,QAAU,GAE9HsQ,EAAOX,EAAY5D,QAAO,SAACmE,EAAK1V,GAAE,OAAK2V,KAAKD,IAAI1V,EAAGsV,MAAOI,EAAI,IAAgB,OAAdrB,EAAAc,EAAY,SAAE,EAAdd,EAAgBiB,QAAS,GACzFS,EAAOZ,EAAY5D,QAAO,SAACsE,EAAK7V,GAAE,OAAK2V,KAAKE,IAAI7V,EAAGsV,MAAQtV,EAAGgG,OAAQ6P,EAAI,IAAiB,OAAdvB,EAAAa,EAAY,SAAE,EAAdb,EAAgBgB,QAAsB,OAAjBf,EAAGY,EAAY,SAAE,EAAdZ,EAAgB/O,QAAU,GAG/HwQ,GAAcJ,EAAOH,GAAQP,EAC7Be,GAAeF,EAAOD,GAAQZ,EAEpCgB,GAA8BC,EAAAA,EAAAA,UAAS,MAAKC,GAAA1F,EAAAA,EAAAA,SAAAwF,EAAA,GAArCG,EAAOD,EAAA,GAAEE,EAAUF,EAAA,IAE1BG,EAAAA,EAAAA,YAAU,WACRD,EAAW,KACb,GAAG,CAAC9B,IAEJ,IAAMgC,EAAe,SAACnH,EAAMgH,GACtBhH,EAAKoH,UAAkB,MAAPJ,OAAO,EAAPA,EAASI,SAC3B/B,EAA+BrF,GAAM,GACrCiH,EAAW,QAEX5B,EAA+BrF,GAAM,GACrCiH,EAAWjH,GAEf,EAIMqH,EAAeC,GAAAA,QAAQC,QAC1BC,QAAQ,WAAD,IAAAC,EAAA,WACN/B,EAAQ3R,MAAK/C,GAAAA,GAAA,GAAQ0U,EAAQ3R,OAAK,IAAE0R,MAAOA,EAAM1R,OACnD,EAlEY,OAkEX0T,EAAAC,SAAA,CAAAhC,QAnEEA,EAAOD,MACHA,GAAKgC,EAAAE,SAAA,4GAAAF,EAAAG,cAAA,cAAAH,EAAAI,WAAA,gEAAAJ,CAAA,CAgEH,IAGRK,SAAS,WAAD,IAAAL,EAAA,SAAEM,GACTtC,EAAM1R,MAAQ2R,EAAQ3R,MAAM0R,MAAQsC,EAAMtC,KAC5C,EAvEmB,OAuElBgC,EAAAC,SAAA,CAAAjC,MAvEHA,EAAKC,QAASA,GAAO+B,EAAAE,SAAA,0GAAAF,EAAAG,cAAA,cAAAH,EAAAI,WAAA,gEAAAJ,CAAA,CAqET,IAINO,EAAaV,GAAAA,QAAQW,MACxBT,QAAQ,WAAD,IAAAC,EAAA,WACN/B,EAAQ3R,MAAK/C,GAAAA,GAAA,GAAQ0U,EAAQ3R,OAAK,IAAE4R,EAAGL,EAAWvR,MAAO6R,EAAGJ,EAAWzR,OACzE,EAzEa,OAyEZ0T,EAAAC,SAAA,CAAAhC,QA3EEA,EAAOJ,WACPA,EAAUE,WACVA,GAAUiC,EAAAE,SAAA,gJAAAF,EAAAG,cAAA,cAAAH,EAAAI,WAAA,gEAAAJ,CAAA,CAuEJ,IAGRK,SAAS,WAAD,IAAAL,EAAA,SAAEM,GACTzC,EAAWvR,MAAQgU,EAAMG,aAAexC,EAAQ3R,MAAM4R,EACtDH,EAAWzR,MAAQgU,EAAMI,aAAezC,EAAQ3R,MAAM6R,CACxD,EA/EQ,OA+EP6B,EAAAC,SAAA,CAAApC,WAhFHA,EAAUI,QAC8BA,EAAOF,WAA/CA,GAAUiC,EAAAE,SAAA,sLAAAF,EAAAG,cAAA,aAAAH,EAAAI,WAAA,gEAAAJ,CAAA,CA4EE,IAKNW,EAAUd,GAAAA,QAAQe,aAAahB,EAAcW,GAE7CM,GAASC,EAAAA,GAAAA,kBAAiB,WAAD,IAAAd,EAAA,WAC7B,MAAO,CACLe,UAAW,CAAC,CAAElD,WAAYA,EAAWvR,OAAS,CAAEyR,WAAYA,EAAWzR,OAAS,CAAE0R,MAAOA,EAAM1R,QAEnG,EAlFgB,OAkFf0T,EAAAC,SAAA,CAAApC,WAtFeA,EAAUE,WAEVA,EAAUC,MAEfA,GAAKgC,EAAAE,SAAA,2KAAAF,EAAAG,cAAA,cAAAH,EAAAI,WAAA,gEAAAJ,EAAAgB,iBAAA,EAAAhB,CAAA,CA8EgB,IAOhC,OACE3W,EAAAA,EAAAA,KAAC4X,GAAAA,uBAAsB,CAACxY,MAAO,CAAE8F,KAAM,GAAI7F,UACzCW,EAAAA,EAAAA,KAAC6X,GAAAA,gBAAe,CAACP,QAASA,EAAQjY,UAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGP,gBAAiB,kBAAmBS,eAAgB,SAAUD,WAAY,UAAW9F,UAC3GoE,EAAAA,EAAAA,MAACqU,GAAAA,QAAa,CAAC1Y,MAAO,CAACoY,EAAQ,CAAE3R,OAAQiQ,EAA6D,EAA/CN,KAAKuC,KAAK1C,EAAW2C,OAASvE,IAAqBsB,EAAU5P,WAAY,WAAa9F,SAAA,EAC3IoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEyG,OAAQiQ,EAAazQ,MAAOwQ,GAAcxW,SAAA,CAErD2V,EAAYhO,KAAI,SAAAkI,GAAI,OAClBzL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CACHlE,MAAO,CAAEwF,SAAU,WAAYG,MAAOmK,EAAKgG,MAAQI,GAAQP,EAAUjQ,IAAKgE,QAAQoG,EAAKiG,MAAQQ,GAAQZ,GAAW1P,MAAO6J,EAAK7J,MAAQ0P,EAAUlP,OAAQiD,OAAOoG,EAAKrJ,OAASkP,IAAY1V,SAAA,CAGtL6P,EAAK7J,MAAQ6J,EAAKrJ,QAAyB,MAAfqJ,EAAK+I,QAClCxU,EAAAA,EAAAA,MAAAyU,EAAAA,SAAA,CAAA7Y,SAAA,EACEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEwF,SAAU,WAAYE,KAAM,EAAGC,KAAM,EAAGC,MAAO,EAAGa,OAAQ,EAAGU,cAAe,OAASlH,UAEhG4R,EAAAA,EAAAA,SAAIvR,MAAMwP,EAAK7J,QAAQ2B,KAAI,SAACnH,EAAIsY,GAAK,OACnCnY,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAalE,MAAO,CAAE8F,KAAM,EAAIgK,EAAK7J,MAAOuH,iBAAkB,GAAIjI,gBAAiB,QAASW,aAAc,IAApG6S,EAEJ,OAGbnY,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEwF,SAAU,WAAYK,QAAS,EAAGF,KAAM,EAAGC,MAAO,EAAGa,OAAQ,EAAGU,cAAe,OAASlH,UAEnG4R,EAAAA,EAAAA,SAAIvR,MAAMwP,EAAK7J,QAAQ2B,KAAI,SAACnH,EAAIsY,GAAK,OACnCnY,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAalE,MAAO,CAAE8F,KAAM,EAAIgK,EAAK7J,MAAOuH,iBAAkB,GAAIjI,gBAAiB,QAASW,aAAc,IAApG6S,EAEJ,SAOdjJ,EAAK7J,MAAQ6J,EAAKrJ,QAAyB,MAAfqJ,EAAK+I,QAClCxU,EAAAA,EAAAA,MAAAyU,EAAAA,SAAA,CAAA7Y,SAAA,EACEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEwF,SAAU,WAAYG,MAAO,EAAGD,IAAK,EAAGG,OAAQ,EAAGI,MAAO,GAAKhG,UAE1E4R,EAAAA,EAAAA,SAAIvR,MAAMwP,EAAKrJ,SAASmB,KAAI,SAACnH,EAAIsY,GAAK,OACpCnY,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAalE,MAAO,CAAE8F,KAAM,EAAIgK,EAAKrJ,OAAQL,eAAgB,GAAIb,gBAAiB,QAASW,aAAc,IAAnG6S,EAEJ,OAGbnY,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEwF,SAAU,WAAYI,OAAQ,EAAGF,IAAK,EAAGG,OAAQ,EAAGI,MAAO,GAAKhG,UAE3E4R,EAAAA,EAAAA,SAAIvR,MAAMwP,EAAKrJ,SAASmB,KAAI,SAACnH,EAAIsY,GAAK,OACpCnY,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAalE,MAAO,CAAE8F,KAAM,EAAIgK,EAAKrJ,OAAQL,eAAgB,GAAIb,gBAAiB,QAASW,aAAc,IAAnG6S,EAEJ,SAMA,MAAfjJ,EAAK+I,OACHjY,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE8F,KAAM,EAAGC,WAAY,SAAUC,eAAgB,SAAUE,aAA6B,MAAf4J,EAAK+I,MAAgBlD,EAAW7F,EAAKrJ,OAAS,GAC9IxB,QAAS,kBAAMgS,EAAanH,EAAMgH,EAAQ,EAAC7W,UAC3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEyG,OAAQ2P,KAAK4C,KAAK,KAAQlJ,EAAK7J,MAAQ0P,EAAW,GAAI1P,MAAOmQ,KAAK4C,KAAK,KAAQlJ,EAAK7J,MAAQ0P,EAAW,GAAIpQ,iBAAwB,MAAPuR,OAAO,EAAPA,EAASI,UAAWpH,EAAKoH,OAAS,QAAU5C,GAAsBxE,GAAOwI,UAAW,CAAC,CAAEW,QAAS,UAAYjT,eAAgB,SAAUD,WAAY,SAAUG,aAAc,GAAIjG,UACvTW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAM1B,OAAQlC,SAAU,GAAIuX,UAAW,CAAC,CAAEW,QAAS,YAAchZ,SAAE6P,EAAKoJ,eAI9HtY,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE8F,KAAM,EAAGY,OAAQ,EAAGnB,iBAAwB,MAAPuR,OAAO,EAAPA,EAASI,UAAWpH,EAAKoH,OAAS,QAAU5C,GAAsBxE,GAAO/J,WAAY,SAAUC,eAAgB,SAAUE,aAA6B,MAAf4J,EAAK+I,MAAgBlD,EAAW7F,EAAKrJ,OAAS,GACnPxB,QAAS,kBAAMgS,EAAanH,EAAMgH,EAAQ,EAAC7W,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAM1B,OAAQlC,SAAU,IAAKd,SAAE6P,EAAKoJ,cAzDnFpJ,EAAKoH,OA4DT,IAITlB,EAAWpO,KAAI,SAAAkI,GAAI,OACjBlP,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CACHiV,cAAc,OACdnZ,MAAO,CAAEwF,SAAU,WAAYG,MAAOmK,EAAKgG,MAAQI,GAAQP,EAAUjQ,IAAKgE,QAAQoG,EAAKiG,MAAQQ,GAAQZ,IAAY1V,UACnHoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEoZ,gBAAiB,EAAGC,iBAAwB,MAAPvC,OAAO,EAAPA,EAASI,UAAWpH,EAAKoH,OAAS,QAAU5C,GAAsBxE,GAAOtK,SAAU,WAAYE,IAAoB,MAAfoK,EAAK+I,MAAgB,EAAmB,MAAf/I,EAAK+I,OAAiB,GAAK,GAAIlT,KAAqB,MAAfmK,EAAK+I,MAAgB,EAAmB,MAAf/I,EAAK+I,OAAiB,GAAK,GAAItT,gBAAiB,kBAAmBmH,QAAS,EAAGxG,aAAc,EAAGe,SAAU,IAAKhH,SAAA,EAC5VW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAO,QAAS3D,SAAU,IAAMd,SAAE6P,EAAKwJ,UAAY1J,IAAOE,EAAKwJ,UAAUC,OAAO,YAC3HlV,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAO,QAAS3D,SAAU,IAAMd,SAAA,EAACW,EAAAA,EAAAA,KAAC4Y,GAAAA,QAAO,CAAC9U,MAAM,QAAQ0F,KAAK,QAAQtH,KAAM,KAAM,IAAEgN,EAAK2J,WAL5H3J,EAAKoH,OAOT,QAIbtW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE2Z,SAAU,EAAGxT,SAAU,UAAWF,MAAOgQ,EAAW2C,OAAUvE,GAAgB,EAAK,EAAIA,GAAgBsB,EAAW,EAAIM,EAAW2C,OAASjD,GACnJiE,WAAYvF,GACZwF,KAAM5D,EACNrL,8BAA8B,EAC9BkP,eAAe,EACfC,aAAc,SAACjK,EAAMiJ,GAAK,OAAKA,EAAMiB,UAAU,EAC/CC,WAAY,SAAA/I,GAAA,IAAAgJ,EAAGpK,EAAIoB,EAAJpB,KAAI,OACjBzL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEiG,MAAO,GAAcQ,OAAQ,IAAexG,SAAA,EACzDoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE8F,KAAM,EAAGY,OAAQ,EAAGnB,iBAAwB,MAAPuR,OAAO,EAAPA,EAASI,UAAWpH,EAAKoH,OAAS,QAAU5C,GAAsBxE,GAAO/J,WAAY,SAAUC,eAAgB,SAAUE,aAAc,GACrMjB,QAAS,kBAAMgS,EAAanH,EAAMgH,EAAQ,EAAC7W,SAAA,CAEzC6P,EAAKqK,kBACLvZ,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEkH,kBAAmB,EAAGX,UAAW,SAAUvF,WAAY,eAAgB0D,MAAO,QAAS3D,SAAU,GAAIsF,cAAe,aAAe2M,cAAe,EAAE/S,SAAE6P,EAAKqK,mBAE5KvZ,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAM1B,OAAQlC,SAAU,IAAMd,SAAE6P,EAAKoJ,WAEzE,OAAZgB,EAAApK,EAAKsK,cAAO,EAAZF,EAActB,QAAS,IACvBhY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEkH,kBAAmB,EAAGX,UAAW,SAAUvF,WAAY,eAAgB0D,MAAO,QAAS3D,SAAU,GAAIsF,cAAe,aAAe2M,cAAe,EAAE/S,SAAE6P,EAAKsK,cAIxJ,MAAnBtK,EAAK2E,WAAwC,MAAnB3E,EAAK2E,aAChCpQ,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAACiV,cAAc,OAClBnZ,MAAO,CAAEoZ,gBAAiB,EAAGC,iBAAwB,MAAPvC,OAAO,EAAPA,EAASI,UAAWpH,EAAKoH,OAAS,QAAU5C,GAAsBxE,GAAOtK,SAAU,WAAYE,IAAoB,MAAfoK,EAAK+I,MAAgB,EAAmB,MAAf/I,EAAK+I,OAAiB,GAAK,GAAIlT,KAAqB,MAAfmK,EAAK+I,MAAgB,EAAmB,MAAf/I,EAAK+I,OAAiB,GAAK,GAAItT,gBAAiB,kBAAmBmH,QAAS,EAAGxG,aAAc,EAAGe,SAAU,IAAKhH,SAAA,EACxVW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAO,QAAS3D,SAAU,IAAMd,SAAE6P,EAAKwJ,UAAY1J,IAAOE,EAAKwJ,UAAUC,OAAO,YAC3HlV,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAO,QAAS3D,SAAU,IAAMd,SAAA,EAACW,EAAAA,EAAAA,KAAC4Y,GAAAA,QAAO,CAAC9U,MAAM,QAAQ0F,KAAK,QAAQtH,KAAM,KAAM,IAAEgN,EAAK2J,YAGlI,YAQvB,CAEepU,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT5D,MAAO,IAAKQ,OAAQ,IACpBlB,gBAAiB,OACjBY,SAAU,Y,6cCpNgC,IAEzBkU,GAAS,SAAAjX,IAAAC,EAAAA,EAAAA,SAAAgX,EAAAjX,GAAA,IAAAE,EAAAC,GAAA8W,GAC5B,SAAAA,EAAY7W,GAAQ,IAADM,EAgBoE,OAhBpEL,EAAAA,EAAAA,SAAA,KAAA4W,IACjBvW,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMkL,KACZxN,aAAcsC,EAAMtC,aACpB8G,WAAYxE,EAAMwE,WAClBsS,SAAU9W,EAAMuO,QAAQuI,SACxBC,SAAU/W,EAAMuO,QAAQwI,UAAY,GACpCC,SAAUhX,EAAMuO,QAAQyI,SACxBtF,OAAQ,GAERuF,gBAAiB,KAEjBC,OAAO,GAGT5W,EAAKqR,+BAAiCrR,EAAKqR,+BAA+B/M,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACvF,CAmJC,OAnJAH,EAAAA,EAAAA,SAAA0W,EAAA,EAAAzW,IAAA,oBAAAC,MAAA,eAAAyE,GAAAC,EAAAA,EAAAA,UAED,kBACQtE,KAAK0W,WAAU,EACvB,IAAC,yBAAArS,EAAAM,MAAA,KAAAC,UAAA,EAJA,IAIA,CAAAjF,IAAA,qBAAAC,MAED,SAAmB+W,GACbA,EAAU3F,SAAW2F,EAAU3F,UAAYhR,KAAKT,MAAMyR,UACxDlR,QAAQC,IAAI,qBAAsB4W,EAAU3F,QAAShR,KAAKT,MAAMyR,SAChEhR,KAAK0W,YAET,GAAC,CAAA/W,IAAA,YAAAC,MAAA,eAAAgX,GAAAtS,EAAAA,EAAAA,UAED,UAAgBuS,GACd,IAAAlR,EAAsC3F,KAAKmD,MAAzBqT,GAAF7Q,EAAR2Q,SAAyB3Q,EAAf6Q,iBACdK,QACI7W,KAAK8W,qBAEL9W,KAAK+W,eAAeP,EAE9B,IAAC,gBAAAnI,GAAA,OAAAuI,EAAAjS,MAAA,KAAAC,UAAA,EATA,IASA,CAAAjF,IAAA,eAAAC,MAAA,eAAAoX,GAAA1S,EAAAA,EAAAA,UAED,YAAsB,IAADjB,EAAA,KACnBmJ,EAA+BxM,KAAKmD,MAA5BlG,EAAYuP,EAAZvP,aAAcwN,EAAI+B,EAAJ/B,KAClB2C,EAAMnQ,EAAe,aACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU7C,EAAK8C,QAG7B/P,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJvJ,EAAKqB,SAAS,CACZuM,OAAQrE,EACR4J,gBAAiB,MAErB,GACJ,IAAC,yBAAAQ,EAAArS,MAAA,KAAAC,UAAA,EAnBA,IAmBA,CAAAjF,IAAA,iBAAAC,MAAA,eAAAqX,GAAA3S,EAAAA,EAAAA,UAED,UAAqBuH,GAAO,IAADG,EAAA,KACzB2C,EAA+B3O,KAAKmD,MAA5BlG,EAAY0R,EAAZ1R,aAAcwN,EAAIkE,EAAJlE,KAEtB,GAAKoB,EAAL,CAKA,IAAIuB,EAAMnQ,EAAe,aACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU7C,EAAK8C,QAEL,cAAhB,MAAJ1B,OAAI,EAAJA,EAAMqL,WACRzL,EAAO6B,OAAO,YAAa,KACE,YAAhB,MAAJzB,OAAI,EAAJA,EAAMqL,WACfzL,EAAO6B,OAAO,YAAa,KACE,cAAhB,MAAJzB,OAAI,EAAJA,EAAMqL,WACfzL,EAAO6B,OAAO,YAAa,KACE,UAAhB,MAAJzB,OAAI,EAAJA,EAAMqL,WACfzL,EAAO6B,OAAO,YAAa,KAE3B7B,EAAO6B,OAAO,YAAazB,EAAKqL,WAIlC1Z,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJZ,EAAKtH,SAAS,CACZuM,OAAQrE,EACR4J,gBAAiB,CAAEU,UAAWrL,EAAKqL,YAEvC,GA5BF,MAFElX,KAAK8W,cA+BT,IAAC,gBAAAxI,GAAA,OAAA2I,EAAAtS,MAAA,KAAAC,UAAA,EArCA,IAqCA,CAAAjF,IAAA,iCAAAC,MAED,SAA+BiM,EAAMgH,GACnC,IAAAsE,EAAoCnX,KAAKmD,MAAzBqT,GAAFW,EAANlG,OAAuBkG,EAAfX,iBACZ3D,EACF7S,KAAKoX,oBAAoBvL,IAG3B7L,KAAK+W,eAAeP,GACpBxW,KAAKT,MAAM8X,iBAAiBxL,GAC9B,GAAC,CAAAlM,IAAA,sBAAAC,MAED,SAAoBiM,GACK,MAAnBA,EAAK2E,UACPxQ,KAAKT,MAAM+X,kBAAkBzL,EAAM,QACP,MAAnBA,EAAK2E,WACdxQ,KAAKT,MAAM+X,kBAAkBzL,EAAM,OAEvC,GAAC,CAAAlM,IAAA,SAAAC,MAED,WAAU,IAAD8M,EAAA,KACP6K,EAA2EvX,KAAKmD,MAA5DmT,GAAFiB,EAAVxT,WAAoBwT,EAARjB,UAAoBrF,GAAFsG,EAARlB,SAAgBkB,EAANtG,QAAQuF,EAAee,EAAff,gBAAsBe,EAALd,MAEjE,OACErW,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,MAAO5B,gBAAiBZ,EAAMrC,MAAOoK,QAAS,GAAIzM,SAAA,EACvFoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGY,OAAQ,EAAGnB,gBAAiBZ,EAAMpC,MAAO2D,aAAc,EAAGC,SAAU,UAAWlG,SAAA,EACrGW,EAAAA,EAAAA,KAAC8T,GAAc,CAEbO,QAAShR,KAAKT,MAAMyR,QACpBC,OAAQA,EACRC,+BAAgClR,KAAKkR,iCAHjB,MAAfsF,OAAe,EAAfA,EAAiBU,YAAa,SAMnCV,IACApW,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAEwF,SAAU,WAAYI,MAAO,EAAGF,IAAK,EAAGgB,OAAQ,GAAID,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAMrC,MAAOyD,WAAY,SAAUC,eAAgB,UAC1Lf,QAAS,kBAAM0L,EAAKnN,MAAM+X,kBAAkBd,EAAiB,SAAS,EAACxa,SAAA,EACvEW,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,WAAWtH,KAAM,GAAI4B,MAAM,QAAQ1E,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OAC5FrF,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEwG,UAAW,GAAIxF,WAAY,eAAgBD,SAAU,GAAI2D,MAAO,QAAS2B,cAAe,aAAcpG,SAAE2G,EAAAA,QAAAA,IAAS,gBAItIvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEoG,eAAgB,EAAGH,MAAO,KAAOhG,SAAA,EAC9CoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAAEiG,MAAO,IAAKF,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIP,aAAc,EAAGQ,OAAQ,GAChIzB,QAAS,kBAAM0L,EAAKoK,cAAc,EAAC9a,SAAA,EACnCW,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,SAAStH,KAAM,GAAI4B,MAAM,QAAQ1E,MAAO,CAAEyG,OAAQ,OAC/E7F,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEwG,UAAW,GAAIxF,WAAY,eAAgB0D,MAAO,QAAS3D,SAAU,GAAIsF,cAAe,aAAcpG,SAAE2G,EAAAA,QAAAA,IAAS,aAElIhG,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CACT3K,MAAO,CAAE8F,KAAM,GACf4V,sBAAsB,EACtB9Q,8BAA8B,EAAM3K,SAElCsa,EAAS3S,KAAI,SAACkI,EAAMiJ,GAAK,OACvB1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf4W,cAAe,EACf3b,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIR,MAAO,IAAKV,iBAAgC,MAAfkV,OAAe,EAAfA,EAAiBU,aAAcrL,EAAKqL,UAAY,QAAUxW,EAAMrC,MAAO4D,aAAc,EAAGQ,OAAQ,GACxNzB,QAAS,kBAAM0L,EAAKqK,eAAelL,EAAK,EAAC7P,SAAA,CAEpB,MAAnB6P,EAAK8L,YACLhb,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAIwF,UAAW,SAAU7B,MAAOC,EAAMzC,KAAMmE,cAAe,aAAcpG,SAAE2G,EAAAA,QAAAA,IAAS,eAE3IhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBuF,UAAW,SAAU7B,OAAsB,MAAf+V,OAAe,EAAfA,EAAiBU,aAAcrL,EAAKqL,UAAY,QAAUxW,EAAM9B,OAAQ5C,SAAE6P,EAAK1F,SARjI2O,EASJ,WAQjC,KAACsB,CAAA,CArK2B,CAASjV,EAAAA,W,IAyKxBC,EAAAA,QAAWC,OAAO,CAC/BoO,UAAW,CACThP,MAAO,QACP+B,OAAQ,GACRP,aAAc,GACdD,MAAO,MACPF,WAAY,SACZC,eAAgB,SAChBmG,aAAc,IACd5F,UAAW,SACXvF,WAAY,eACZD,SAAU,IAEZ8a,OAAQ,CACNrW,SAAU,WAAYE,IAAK,IAAKC,KAAM,IAAKc,OAAQ,QAASR,MAAO,SAErE6V,eAAgB,CACd9a,WAAY,eACZiF,MAAO,OACPiH,gBAAiB,EACjB3H,gBAAiBZ,EAAM1B,OACvB+C,eAAgB,SAChBD,WAAY,SACZrB,MAAO,QACP3D,SAAU,GACVwF,UAAW,SACXF,cAAe,e,udCtMqB,IAEnB0V,GAAQ,SAAA3Y,IAAAC,EAAAA,EAAAA,SAAA0Y,EAAA3Y,GAAA,IAAAE,EAAAC,GAAAwY,GAC3B,SAAAA,EAAYvY,GAAQ,IAADM,EAqBf,OArBeL,EAAAA,EAAAA,SAAA,KAAAsY,IACjBjY,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMkL,KACZxN,aAAcsC,EAAMtC,aACpBoN,gBAAiB9K,EAAM8K,gBACvBtG,WAAYxE,EAAMwE,WAElBsS,SAAU9W,EAAM8W,SAChB0B,WAAYxY,EAAMwY,WAClBC,QAASzY,EAAMyY,QACfC,eAAarK,EAAAA,EAAAA,SAAM,IAAIsK,IAAI3Y,EAAMyY,QAAQrU,KAAI,SAAAwU,GAAC,MAAI,CAACA,EAAEC,SAAUD,EAAE,KAAGjK,UACpEmK,MAAO9Y,EAAM8Y,MACbC,aAAW1K,EAAAA,EAAAA,SAAM,IAAIsK,IAAI3Y,EAAM8Y,MAAM1U,KAAI,SAAAwU,GAAC,MAAI,CAACA,EAAEI,OAAQJ,EAAE,KAAGjK,UAC9DsK,WAAYjZ,EAAMiZ,WAElBC,YAAa,GACbC,SAAU,GACVC,SAAU,GAEVC,WAAY,IACZ/Y,CACJ,CAoTC,OApTAH,EAAAA,EAAAA,SAAAoY,EAAA,EAAAnY,IAAA,oBAAAC,MAED,WAAqB,IAADyD,EAAA,KAClBvD,QAAQC,IAAI,kBACZ,IAAA4F,EAAuC3F,KAAKmD,MAApC4U,EAAUpS,EAAVoS,WAAYC,EAAOrS,EAAPqS,QAASK,EAAK1S,EAAL0S,MAEzBI,EAAc,GACdC,EAAW,GAEf,GAAkF,IAA9EV,EAAQpG,QAAO,SAAApV,GAAE,OAAIA,EAAGqc,cAAgBd,EAAW,GAAGc,WAAW,IAAElE,OAAc,CACnF,IAAImE,EAAQd,EAAQe,MAAK,SAAAvc,GAAE,OAAIA,EAAGqc,cAAgBd,EAAW,GAAGc,WAAW,IAC3EJ,EAAc,OACdC,EAAWL,EAAMzG,QAAO,SAAApV,GAAE,OAAIA,EAAG4b,WAAaU,EAAMV,UAAY5b,EAAGqc,cAAgBC,EAAMD,WAAW,GACtG,MACEJ,EAAc,SACdC,EAAWV,EAAQpG,QAAO,SAAApV,GAAE,OAAIA,EAAGqc,cAAgBd,EAAW,GAAGc,WAAW,IAG9E7Y,KAAK0E,SAAS,CACZsU,kBAAmBjB,EAAW,GAC9BW,SAAAA,EACAD,YAAAA,IACC,kBAAMpV,EAAK4V,OAAO,GACvB,GAAC,CAAAtZ,IAAA,QAAAC,MAED,WAAS,IAADoM,EAAA,KAENQ,EAAkDxM,KAAKmD,MAA/ClG,EAAYuP,EAAZvP,aAAcwN,EAAI+B,EAAJ/B,KAAMuO,EAAiBxM,EAAjBwM,kBACxB5L,EAAMnQ,EAAe,qBACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7ByL,GAAqBvN,EAAO6B,OAAO,cAAe0L,EAAkBH,aAEpErb,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACAA,EAASE,QACXhN,QAAQC,IAAI6M,EAASE,SAErBd,EAAKtH,SAAS,CACZiU,SAAU/L,GAGhB,GACJ,GAAC,CAAAjN,IAAA,mBAAAC,MAED,SAAiBiM,GAAO,IAADa,EAAA,KACrBiC,EAA4B3O,KAAKmD,MAAzB6U,EAAOrJ,EAAPqJ,QAASK,EAAK1J,EAAL0J,MACbI,EAAc,GACdC,EAAW,GAEf,GAAyE,IAArEV,EAAQpG,QAAO,SAAApV,GAAE,OAAIA,EAAGqc,cAAgBhN,EAAKgN,WAAW,IAAElE,OAAc,CAC1E,IAAImE,EAAQd,EAAQe,MAAK,SAAAvc,GAAE,OAAIA,EAAGqc,cAAgBhN,EAAKgN,WAAW,IAClEJ,EAAc,OACdC,EAAWL,EAAMzG,QAAO,SAAApV,GAAE,OAAIA,EAAG4b,WAAaU,EAAMV,UAAY5b,EAAGqc,cAAgBC,EAAMD,WAAW,GACtG,MACEJ,EAAc,SACdC,EAAWV,EAAQpG,QAAO,SAAApV,GAAE,OAAIA,EAAGqc,cAAgBhN,EAAKgN,WAAW,IAGrE7Y,KAAK0E,SAAS,CACZsU,kBAAmBnN,EACnB6M,SAAAA,EACAD,YAAAA,EACAG,WAAY,KACX,kBAAMlM,EAAKuM,OAAO,GACvB,GAAC,CAAAtZ,IAAA,gBAAAC,MAED,SAAciM,GACZ,IAAQwM,EAAUrY,KAAKmD,MAAfkV,MACRrY,KAAK0E,SAAS,CACZ+T,YAAa,OACbC,SAAUL,EAAMzG,QAAO,SAAApV,GAAE,OAAIA,EAAG4b,WAAavM,EAAKuM,UAAY5b,EAAGqc,cAAgBhN,EAAKgN,WAAW,KAErG,GAAC,CAAAlZ,IAAA,cAAAC,MAED,SAAYiM,EAAMqN,GAChBlZ,KAAKT,MAAM4Z,gBAAgBtN,EAAMqN,EACnC,GAAC,CAAAvZ,IAAA,eAAAC,MAED,SAAagB,GACX,IAAAuW,EAA8BnX,KAAKmD,MAA3BkV,EAAKlB,EAALkB,MAAiBlB,EAAVY,WAEf,GADA/X,KAAK0E,SAAS,CAAEkU,WAAYhY,IACvBA,EAAL,CAQA,IAAIwY,EAAWxY,EAAKC,cAChBwY,EAAiBhB,EAAMzG,QAAO,SAAA/F,GAChC,OAAOA,EAAKyN,SAASzY,cAAc0Y,SAASH,IAAavN,EAAK0M,OAAO1X,cAAc0Y,SAASH,EAC9F,IACApZ,KAAK0E,SAAS,CACZ+T,YAAa,OACbC,SAAUW,EACVL,kBAAmB,MATrB,MALEhZ,KAAK0E,SAAS,CACZ+T,YAAa,OACbC,SAAU,IAchB,GAAC,CAAA/Y,IAAA,SAAAC,MAED,WAAU,IAAD4Z,EAAAC,EAAAC,EAAAC,EAAAlL,EAAA,KACP8I,EAEwBvX,KAAKmD,MAFrBY,EAAUwT,EAAVxT,WAAYsS,EAAQkB,EAARlB,SAAUoC,EAAWlB,EAAXkB,YAAaC,EAAQnB,EAARmB,SAAUX,EAAUR,EAAVQ,WAAqBE,GAAFV,EAAPS,QAAsBT,EAAbU,eAAeK,EAAWf,EAAXe,YAAoBE,GAAFjB,EAALc,MAAiBd,EAAViB,YAC3GI,EAAUrB,EAAVqB,WACAI,EAAiBzB,EAAjByB,kBAEF,OACE5Y,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,MAAO5B,gBAAiBZ,EAAMrC,MAAOoK,QAAS,GAAIzM,SAAA,EACvFoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,SAAA,EACvBW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEwN,iBAAkB,GAAIhH,WAAY,EAAGC,OAAQ,GAAIU,cAAe,MAAOpB,WAAY,WAAYC,eAAgB,iBAAkB/F,UAC9IoE,EAAAA,EAAAA,MAACzE,EAAI,CAACI,MAAO,CAAEe,SAAU,GAAI2D,MAAOC,EAAMzB,QAASjD,SAAA,EAACW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAEe,SAAU,GAAI2D,MAAOC,EAAMzC,MAAOjC,SAAEsc,EAAY3D,SAAc,UAAMhY,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAEe,SAAU,GAAI2D,MAAOC,EAAM3C,UAAW/B,SAAEic,EAActD,SAAc,YAAQhY,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAEe,SAAU,GAAI2D,MAAOC,EAAM3C,UAAW/B,SAAE+b,EAAWpD,SAAc,eAAWhY,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAEe,SAAU,GAAI2D,MAAOC,EAAM5C,QAAS9B,SAAEwc,EAAW7D,SAAc,kBAE7YvU,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+H,UAAUjM,SAAA,EAC5BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOiI,oBACvBuH,aAAiC,OAAtB8J,EAAK7W,EAAAA,QAAAA,IAAS,eAAQ,EAAjB6W,EAAmB3Y,eAAa,KAAsB,OAAtB4Y,EAAI9W,EAAAA,QAAAA,IAAS,gBAAS,EAAlB8W,EAAoB5Y,eAAa,KAAoB,OAApB6Y,EAAI/W,EAAAA,QAAAA,IAAS,cAAO,EAAhB+W,EAAkB7Y,eAC3G8O,qBAAqB,wBACrB/P,MAAOgZ,EACPgB,QAAS,kBAAMnL,EAAK/J,SAAS,CAAEsU,kBAAmB,OAAQ,kBAAMvK,EAAKwK,OAAO,GAAC,EAC7ExR,aAAc,SAAC7G,GAAI,OAAK6N,EAAKoL,aAAajZ,EAAK,KACjDjE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOkI,gBAC9BpH,QAAS,WACPyN,EAAKqL,iBAAiB/B,EAAW,IACjCgC,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,cAGnD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGY,OAAQ,EAAGnB,gBAAiBZ,EAAMpC,MAAO2D,aAAc,GAAIjG,SAE/D,SAAhByc,EAE+D,OAAhB,OAA3CkB,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,YAAbA,EAAGyd,KAAmB,UAAC,EAA3CN,EAA6CO,YAC3Cvd,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CAEP1Z,MAAO,CAAE8F,KAAM,EAAG4G,QAAS,KAC3B9B,8BAA8B,EAC9BgP,WAAY5R,EAAWiB,SACvBmV,YAAY,EACZvE,KAAM8C,EACN5C,aAAc,SAACjK,EAAMiJ,GAAK,OAAKjJ,EAAKoH,OAAO8C,UAAU,EACrDC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OAAO4C,EAAK2L,WAAWvO,EAAK,GAP1C,QAA0B,MAAjBmN,OAAiB,EAAjBA,EAAmBH,eAUnClc,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CAEP1Z,MAAO,CAAE8F,KAAM,EAAG4G,QAAS,KAC3B9B,8BAA8B,EAC9BgP,WAAY5R,EAAWkB,SACvBkV,YAAY,EACZvE,KAAM8C,EACN5C,aAAc,SAACjK,EAAMiJ,GAAK,OAAKjJ,EAAKoH,OAAO8C,UAAU,EACrDC,WAAY,SAAA/I,GAAA,IAAGpB,EAAIoB,EAAJpB,KAAI,OAAO4C,EAAK4L,YAAYxO,EAAK,GAP3C,QAA0B,MAAjBmN,OAAiB,EAAjBA,EAAmBH,eAWvClc,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CAEP1Z,MAAO,CAAE8F,KAAM,EAAG4G,QAAS,KAC3B9B,8BAA8B,EAC9BgP,WAAY5R,EAAWiB,SACvBmV,YAAY,EACZvE,KAAM8C,EACN5C,aAAc,SAACjK,EAAMiJ,GAAK,OAAKjJ,EAAKoH,OAAO8C,UAAU,EACrDC,WAAY,SAAAsE,GAAA,IAAGzO,EAAIyO,EAAJzO,KAAI,OAAO4C,EAAK8L,aAAa1O,EAAK,GAP5C,UAA4B,MAAjBmN,OAAiB,EAAjBA,EAAmBH,oBAY7CzY,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEoG,eAAgB,EAAGH,MAAO,KAAOhG,SAAA,EAC9CoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAAEiG,MAAO,IAAKF,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIP,aAAc,EAAGQ,OAAQ,GAChIzB,QAAS,kBAAMyN,EAAKlP,MAAMib,kBAAkB,EAACxe,SAAA,EAC7CW,EAAAA,EAAAA,KAACkS,EAAAA,QAAa,CAAC1I,KAAK,YAAYtH,KAAM,GAAI4B,MAAO,QAAS1E,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OACtFrF,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAEwG,UAAW,GAAIxF,WAAY,eAAgBD,SAAU,GAAI2D,MAAO,QAAS2B,cAAe,aAAcpG,SAAE2G,EAAAA,QAAAA,IAAS,eAElIhG,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CAAC3K,MAAO,CAAE8F,KAAM,GACzB8E,8BAA8B,EAAM3K,SAElC+b,EAAWpU,KAAI,SAACkI,EAAMiJ,GAAK,OACzB1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf4W,cAAe,EACf3b,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAAiBuK,EAAKgN,eAAiC,MAAjBG,OAAiB,EAAjBA,EAAmBH,aAAc,QAAUnY,EAAMrC,MAAO4D,aAAc,EAAGQ,OAAQ,GAClNzB,QAAS,kBAAMyN,EAAKqL,iBAAiBjO,EAAK,EAAC7P,SAAA,EAEe,UAAvD2P,IAAOE,EAAK4O,UAAW,YAAYnF,OAAO,UAA6E,UAArD3J,IAAOE,EAAK6O,QAAS,YAAYpF,OAAO,YAC3GlV,EAAAA,EAAAA,MAACzE,EAAI,CAACI,MAAO,CAAEe,SAAU,GAAIwF,UAAW,SAAU7B,MAAOoL,EAAKgN,eAAiC,MAAjBG,OAAiB,EAAjBA,EAAmBH,aAAc,QAAUnY,EAAM3C,UAAW/B,SAAA,CAAE2P,IAAOE,EAAK4O,UAAW,YAAYnF,OAAO,SAAS,IAAE3J,IAAOE,EAAK6O,QAAS,YAAYpF,OAAO,aAE3O3Y,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAEuG,UAAW,SAAU7B,MAAOoL,EAAKgN,eAAiC,MAAjBG,OAAiB,EAAjBA,EAAmBH,aAAc,QAAU,SAAU7c,SAAE6P,EAAK1F,SARvG2O,EASJ,WAOjC,GAAC,CAAAnV,IAAA,eAAAC,MAED,SAAaiM,GAAO,IAAD8O,EAAA,KACjBC,EAA8B5a,KAAKmD,MAA3BY,EAAU6W,EAAV7W,WAAYsU,EAAKuC,EAALvC,MACpB,OACE1b,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAIkC,EAAWiB,UAAWhJ,UAC7CoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAAE0G,OAAQ,IAAKD,OAAQ,GAAIlB,gBAAiB,QAASQ,WAAY,SAAUC,eAAgB,UAClGf,QAAS,kBAAM2Z,EAAKE,cAAchP,EAAK,EAAC7P,SAAA,EACxCW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAOC,EAAMzC,KAAMnB,SAAU,IAAKd,SAAE6P,EAAKuM,YACxDzb,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAO,QAASwC,kBAAmB,GAAIX,UAAW,SAAUxF,SAAU,IAAKd,SAAE6P,EAAK1F,QACjGxJ,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAOC,EAAM5C,QAAS9B,SAAEqc,EAAMzG,QAAO,SAAApV,GAAE,OAAIA,EAAG4b,WAAavM,EAAKuM,UAAY5b,EAAGqc,cAAgBhN,EAAKgN,WAAW,IAAElE,aAIxI,GAAC,CAAAhV,IAAA,aAAAC,MAED,SAAWiM,GAAO,IAADiP,EAAAC,EAAAC,EAAAC,EAAA,KACfC,EAAkElb,KAAKmD,MAA/DY,EAAUmX,EAAVnX,WAAY4U,EAAQuC,EAARvC,SAAUC,EAAUsC,EAAVtC,WAAYb,EAAUmD,EAAVnD,WAAYC,EAAOkD,EAAPlD,QAEhDc,EAAgB,MAARH,OAAQ,EAARA,EAAUI,MAAK,SAAAvc,GAAE,OAAIA,EAAG2e,iBAAmBtP,EAAKoH,MAAM,IAEpE,OACEtW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAIkC,EAAWiB,UAAWhJ,UAC7CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAC,CAAE0G,OAAQ,IAAKS,cAAe,MAAOV,OAAQ,GAAIlB,gBAAiBZ,EAAMlC,OAA+B,OAAhB,MAALsa,OAAK,EAALA,EAAOtI,YAAqB,CAAEnO,QAAS,KAAOrG,SAAA,CAEpH,MAAtB+H,EAAWmB,SACXvI,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CACf/E,MAAO,CAAEiG,MAAO,GAAIV,gBAAiBZ,EAAMnC,MAAOwD,eAAgB,SAAUD,WAAY,UACxFsZ,SAA+B,OAAhB,MAALtC,OAAK,EAALA,EAAOtI,WACjBxP,QAAS,kBAAMia,EAAKI,YAAYxP,GAAM,EAAK,EAAC7P,UAC5CW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMrC,WAanD1B,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CACf/E,MAAO,CAAE8F,KAAM,GACfuZ,SAA+B,OAAhB,MAALtC,OAAK,EAALA,EAAOtI,WACjBxP,QAAS,kBAAMia,EAAKI,YAAYxP,EAAK,EAAC7P,UACtCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG4G,QAAS,IAAKzM,SAAA,EACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,MAAOnB,eAAgB,iBAAkB/F,SAAA,EACrEW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAO,QAAS3D,SAAU,OACzCsD,EAAAA,EAAAA,MAACzE,EAAI,CAACI,MAAO,CAAC,CAAE0E,MAAOC,EAAM3C,SAAUjB,SAAU,IAAkC,IAA3B2I,OAAOoG,EAAKyP,YAAoB,CAAE7a,MAAO,UAAWzE,SAAA,CAAC,IAAgB,OAAf8e,EAACjP,EAAKyP,gBAAS,EAAdR,EAAgBS,QAAQ,UAEzI5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,UACvBW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAO,SAAYsO,cAAe,EAAE/S,SAAE6P,EAAKyN,cAE5DlZ,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,MAAOnB,eAAgB,iBAAkB/F,SAAA,EACrEW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAOC,EAAM5C,OAAQhB,SAAU,GAAIsF,cAAe,aAAcpG,SAAG8c,GAA+B,KAAjB,MAALA,OAAK,EAALA,EAAO0C,YAAuB/V,OAAOqT,EAAM0C,WAAa1C,EAAM2C,YAAW,IAAI9Y,EAAAA,QAAAA,IAAS,QAAY,OAC7LhG,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAOC,EAAMzC,KAAMnB,SAAU,IAAMd,SAAE6P,EAAK0M,iBAK7DK,EAAWjE,OAAS,IACpBvU,EAAAA,EAAAA,MAACzE,EAAI,CAACI,MAAO,CAAEwF,SAAU,WAAYE,IAAK,EAAGC,KAAM,EAAGuB,kBAAmB,EAAG3B,gBAAiB,QAASb,MAAO,QAAS3D,SAAU,IAAMiS,cAAe,EAAE/S,SAAA,CAA4D,OAA5D+e,EAAEhD,EAAWgB,MAAK,SAAAvc,GAAE,OAAIA,EAAGqc,cAAgBhN,EAAKgN,WAAW,UAAC,EAA1DkC,EAA4D5U,KAAK,MAAwD,OAAlD6U,EAAChD,EAAQe,MAAK,SAAAvc,GAAE,OAAIA,EAAG4b,WAAavM,EAAKuM,QAAQ,UAAC,EAAjD4C,EAAmD7U,YAK9R,GAAC,CAAAxG,IAAA,cAAAC,MAED,SAAYiM,GAAO,IAAD6P,EAAAC,EAAAC,EAAAC,EAAA,KAChBC,EAAmF9b,KAAKmD,MAAhFY,EAAU+X,EAAV/X,WAAY4U,EAAQmD,EAARnD,SAAUtO,EAAeyR,EAAfzR,gBAAiBuO,EAAUkD,EAAVlD,WAAYb,EAAU+D,EAAV/D,WAAYC,EAAO8D,EAAP9D,QAEjEc,EAAgB,MAARH,OAAQ,EAARA,EAAUI,MAAK,SAAAvc,GAAE,OAAIA,EAAG2e,iBAAmBtP,EAAKoH,MAAM,IAEpE,OACEtW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAKkC,EAAWkB,UAAYjJ,UAC/CoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,KACjC2Y,SAA+B,OAAhB,MAALtC,OAAK,EAALA,EAAOtI,WACjBxP,QAAS,kBAAM6a,EAAKR,YAAYxP,EAAK,EAAC7P,SAAA,EACtCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEuF,gBAAiBZ,EAAMnC,OAAQvC,SAAA,EAC5CW,EAAAA,EAAAA,KAACyS,EAAAA,QAAK,CACJrT,MAAO,CAAEgN,YAAa,GACtBsG,OAAQ,CACN0M,KAAoB,MAAf1R,OAAe,EAAfA,EAAiB2R,gBAAiB,8BAAgCnQ,EAAKoQ,QAAU,MAAQpQ,EAAKqQ,cAIrGtD,EAAWjE,OAAS,IACpBvU,EAAAA,EAAAA,MAACzE,EAAI,CAACI,MAAO,CAAEwF,SAAU,WAAYK,OAAQ,EAAGF,KAAM,EAAGuB,kBAAmB,EAAG3B,gBAAiB,QAASb,MAAO,QAAS3D,SAAU,IAAMiS,cAAe,EAAE/S,SAAA,CAA4D,OAA5D0f,EAAE3D,EAAWgB,MAAK,SAAAvc,GAAE,OAAIA,EAAGqc,cAAgBhN,EAAKgN,WAAW,UAAC,EAA1D6C,EAA4DvV,KAAK,MAAwD,OAAlDwV,EAAC3D,EAAQe,MAAK,SAAAvc,GAAE,OAAIA,EAAG4b,WAAavM,EAAKuM,QAAQ,UAAC,EAAjDuD,EAAmDxV,YAG3RxJ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAC,CAAEmH,cAAe,MAAOV,OAAQ,GAAIlB,gBAAiBZ,EAAMlC,OAA+B,OAAhB,MAALsa,OAAK,EAALA,EAAOtI,YAAqB,CAAEnO,QAAS,KAAOrG,UAC/HW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CACHlE,MAAO,CAAE8F,KAAM,GAAI7F,UACnBoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG4G,QAAS,IAAKzM,SAAA,EACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,UACvBW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAO,SAAYsO,cAAe,EAAE/S,SAAE6P,EAAKyN,cAE5DlZ,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,MAAOnB,eAAgB,iBAAkB/F,SAAA,EACrEW,EAAAA,EAAAA,KAAChB,EAAI,CAACI,MAAO,CAAE0E,MAAOC,EAAM5C,OAAQhB,SAAU,GAAIsF,cAAe,aAAcpG,SAAG8c,GAA+B,KAAjB,MAALA,OAAK,EAALA,EAAO0C,YAAuB/V,OAAOqT,EAAM0C,WAAa1C,EAAM2C,YAAW,IAAI9Y,EAAAA,QAAAA,IAAS,QAAY,OAC7LvC,EAAAA,EAAAA,MAACzE,EAAI,CAACI,MAAO,CAAC,CAAE0E,MAAOC,EAAM3C,SAAUjB,SAAU,IAAkC,IAA3B2I,OAAOoG,EAAKyP,YAAoB,CAAE7a,MAAO,UAAWzE,SAAA,CAAC,IAAgB,OAAf4f,EAAC/P,EAAKyP,gBAAS,EAAdM,EAAgBL,QAAQ,oBAQvJ,KAACzD,CAAA,CA3U0B,CAAS3W,EAAAA,WA8UhCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/B4G,UAAW,CACTxF,OAAQ,GAERyF,aAAc,EACd1F,OAAQ,GACRP,aAAc,IACdX,gBAAiB,QACjB4B,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,GACRP,aAAc,KAEhBmG,gBAAiB,CACf7G,SAAU,WACVI,MAAO,EACPF,IAAK,EACLe,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,M,6cC5WsB,IAEnBka,GAAiB,SAAAhd,IAAAC,EAAAA,EAAAA,SAAA+c,EAAAhd,GAAA,IAAAE,EAAAC,GAAA6c,GAEpC,SAAAA,EAAY5c,GAAQ,IAADM,EAKU,OALVL,EAAAA,EAAAA,SAAA,KAAA2c,IACjBtc,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXiZ,MAAO,GAETvc,EAAKwc,UAAY,WAAQ,EAAExc,CAC7B,CAwCC,OAxCAH,EAAAA,EAAAA,SAAAyc,EAAA,EAAAxc,IAAA,oBAAAC,MAED,WAAqB,IAADyD,EAAA,KACdiZ,EAAe,EACnBtc,KAAKqc,UAAYE,aAAY,WAC3BD,GAAgB,EAChBjZ,EAAKqB,SAAS,CACZ0X,MAAOE,IAEY,IAAjBA,IACFE,cAAcnZ,EAAKgZ,WACnBhZ,EAAK9D,MAAMkd,2BAA2BH,GAE1C,GAAG,IACL,GAAC,CAAA3c,IAAA,uBAAAC,MAED,WACE4c,cAAcxc,KAAKqc,UACrB,GAAC,CAAA1c,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACCoQ,EAAUpc,KAAKmD,MAAfiZ,MAGR,OAFAtc,QAAQC,IAAI,uBAAwBC,KAAKT,QAGvC5C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,iBACzCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOS,YAAY3E,SAAEogB,QAEpCzf,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMgL,EAAKzM,MAAMkd,2BAA2B,GAAG,EAACzgB,UAEzDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACwZ,CAAA,CAhDmC,CAAShb,EAAAA,WAmDzCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb3B,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,Y,6cC5GyB,IAEnBoa,GAAc,SAAAvd,IAAAC,EAAAA,EAAAA,SAAAsd,EAAAvd,GAAA,IAAAE,EAAAC,GAAAod,GAEjC,SAAAA,EAAYnd,GAAQ,IAADM,EAahB,OAbgBL,EAAAA,EAAAA,SAAA,KAAAkd,IACjB7c,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXlG,aAAcsC,EAAMtC,aACpB0f,cAAepd,EAAMod,cAErBC,aAAmD,MAArCrd,EAAMod,cAAcC,aAAuB,IAAM,IAC/DzG,QAAS5W,EAAMod,cAAcxG,SAAW,GACxC0G,SAAUtd,EAAMod,cAAcE,UAAY,GAC1CC,QAASvd,EAAMod,cAAcG,QAAUnR,IAAOpM,EAAMod,cAAcG,SAASxH,OAAO,cAAgB,GAClGyH,YAAaxd,EAAMod,cAAcI,aAAe,GAChDC,UAAWzd,EAAMod,cAAcK,WAAa,GAC5CC,UAAW1d,EAAMod,cAAcM,WAAa,IAC7Cpd,CACH,CA6JC,OA7JAH,EAAAA,EAAAA,SAAAgd,EAAA,EAAA/c,IAAA,kBAAAC,MAED,SAAgBsd,GACdld,KAAK0E,SAAS,CAAEkY,aAAcM,GAChC,GAAC,CAAAvd,IAAA,iBAAAC,MAED,SAAegB,GAAO,IAADyC,EAAA,KAEnB,GADArD,KAAK0E,SAAS,CAAEqY,YAAanc,IACT,IAAhBA,EAAK+T,OAAc,CACrB,IACIvH,EADqBpN,KAAKmD,MAAtBlG,aACiB,eACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU1M,GAExBpD,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GACJ,GAAIA,EAASpJ,GAAI,OAAOoJ,EAASC,MACnC,IACCF,MAAK,SAAAC,GACQ,MAARA,GAAAA,EAAUuQ,SACZ9Z,EAAKqB,SAAS,CACZsY,UAAWpQ,EAASuQ,SAAW,IAGrC,GACJ,CACF,GAAC,CAAAxd,IAAA,WAAAC,MAED,WACE,IAAA+F,EAAwF3F,KAAKmD,MAArFgT,EAAOxQ,EAAPwQ,QAAS0G,EAAQlX,EAARkX,SAAUD,EAAYjX,EAAZiX,aAAcE,EAAOnX,EAAPmX,QAASC,EAAWpX,EAAXoX,YAAaC,EAASrX,EAATqX,UAAWC,EAAStX,EAATsX,UAC1Ejd,KAAKT,MAAM6d,wBAAwB,IAAKjH,EAAS0G,EAAUD,EAAcE,EAASC,EAAaC,EAAWC,EAC5G,GAAC,CAAAtd,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACPQ,EAAwFxM,KAAKmD,MAArFgT,EAAO3J,EAAP2J,QAAS0G,EAAQrQ,EAARqQ,SAAUD,EAAYpQ,EAAZoQ,aAAcE,EAAOtQ,EAAPsQ,QAASC,EAAWvQ,EAAXuQ,YAAaC,EAASxQ,EAATwQ,UAAWC,EAASzQ,EAATyQ,UAG1E,OAFAnd,QAAQC,IAAI,oBAAqBC,KAAKT,QAGpC5C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,kBACzCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,MAAOX,UAAW,IAAKvG,SAAA,EACnDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGC,WAAY,YAAc9F,UAChDW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmd,aAAc,CAAE/b,gBAAkC,MAAjBsb,EAAuBlc,EAAMrC,MAAQ,UACrG2C,QAAS,kBAAMgL,EAAKsR,gBAAgB,IAAI,EAACthB,UACzCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAE0E,MAAwB,MAAjBmc,EAAuB,QAAU,QAAS7f,WAAY,gBAAiBf,SAAC,sBAGlGW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAK7F,UACxBW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmd,aAAc,CAAE/b,gBAAkC,MAAjBsb,EAAuBlc,EAAMrC,MAAQ,UACrG2C,QAAS,kBAAMgL,EAAKsR,gBAAgB,IAAI,EAACthB,UACzCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAE0E,MAAwB,MAAjBmc,EAAuB,QAAU,QAAS7f,WAAY,gBAAiBf,SAAC,wBAKtGW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGC,WAAY,SAAUC,eAAgB,UAAW/F,UACvEoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqd,mBAAmBvhB,SAAA,EACrCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,SAAA,EAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOud,SACvB/N,YAAY,OACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAAA7G,GAAI,OAAIoL,EAAKtH,SAAS,CAAEyR,QAASvV,GAAO,EACtDhB,MAAOuW,KAETxZ,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOud,SACvB/N,YAAY,QACZC,qBAAqB,wBACrBgO,aAAa,UACbD,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAAA7G,GAAI,OAAIoL,EAAKtH,SAAS,CAAEmY,SAAUjc,GAAO,EACvDhB,MAAOid,OAIQ,MAAjBD,GACExc,EAAAA,EAAAA,MAAAyU,EAAAA,SAAA,CAAA7Y,SAAA,EACEoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,SAAA,EAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOud,SACvB/N,YAAY,SACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAAA7G,GAAI,OAAIoL,EAAK4R,eAAehd,EAAK,EAC/ChB,MAAOmd,KAETpgB,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOud,SACvB/N,YAAY,WACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACb6J,QAAS,iBAAkB,KAAZkD,GAAkB9Q,EAAKtH,SAAS,CAAEoY,QAASnR,MAAS2J,OAAO,eAAgB,EAC1F7N,aAAc,SAAA7G,GAAI,OAAIoL,EAAKtH,SAAS,CAAEoY,QAASlc,GAAO,EACtDhB,MAAOkd,QAGXngB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,UAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOud,SAAU,CAAE5b,KAAM,IAC1C6N,YAAY,SACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAAA7G,GAAI,OAAIoL,EAAKtH,SAAS,CAAEsY,UAAWpc,GAAO,EACxDhB,MAAOod,OAGXrgB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,UAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOud,SAAU,CAAE5b,KAAM,IAC1C6N,YAAY,SACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAAA7G,GAAI,OAAIoL,EAAKtH,SAAS,CAAEuY,UAAWrc,GAAO,EACxDhB,MAAOqd,UAKbtgB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOsd,aAAc,CAAEzb,eAAgB,aAAc/F,UACjEW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOud,SACvB/N,YAAY,WACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACb6J,QAAS,iBAAkB,KAAZkD,GAAkB9Q,EAAKtH,SAAS,CAAEoY,QAASnR,MAAS2J,OAAO,eAAgB,EAC1F7N,aAAc,SAAA7G,GAAI,OAAIoL,EAAKtH,SAAS,CAAEoY,QAASlc,GAAO,EACtDhB,MAAOkd,YAMnBngB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMlC,QACvEwC,QAAS,kBAAMgL,EAAK6R,UAAU,EAAC7hB,UAC/BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,eAEnDhG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMgL,EAAKzM,MAAM6d,wBAAwB,GAAG,EAACphB,UACtDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAAC+Z,CAAA,CA7KgC,CAASvb,EAAAA,WAgLtCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACdmC,OAAQ,MACRR,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb3B,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEbib,mBAAoB,CAClBrV,aAAc,GACdqB,iBAAkB,EAClBvH,MAAO,IACPF,WAAY,UAEd0b,aAAc,CACZhb,OAAQ,GACRR,MAAO,IACPkB,cAAe,OAEjBua,SAAU,CACRnc,gBAAiBZ,EAAMrC,MACvB4D,aAAc,EACdxB,MAAO,QACP1D,WAAY,eACZD,SAAU,GACV2F,OAAQ,EACRQ,kBAAmB,GACnBjB,MAAO,KAETqb,aAAc,CACZ/b,gBAAiBZ,EAAMrC,MACvB2D,MAAO,IACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,GACdO,OAAQ,GACR+G,iBAAkB,GAEpBuU,QAAS,CACPhhB,SAAU,GACVC,WAAY,eACZ0D,MAAO,SAETsd,aAAc,CACZjhB,SAAU,GACVC,WAAY,eACZ0D,MAAO,W,6cCnR6B,IAEnBud,GAAkB,SAAA7e,IAAAC,EAAAA,EAAAA,SAAA4e,EAAA7e,GAAA,IAAAE,EAAAC,GAAA0e,GAErC,SAAAA,EAAYze,GAAQ,IAADM,EAKgC,OALhCL,EAAAA,EAAAA,SAAA,KAAAwe,IACjBne,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXxC,YAAa,IAEfd,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CAwDC,OAxDAH,EAAAA,EAAAA,SAAAse,EAAA,EAAAre,IAAA,oBAAAC,MAED,WACEI,KAAKke,cAAcC,OACrB,GAAC,CAAAxe,IAAA,eAAAC,MAED,SAAae,GACXX,KAAKke,cAAcC,QACnBne,KAAK0E,SAAS,CACZ/D,YAAa,KAEfX,KAAKT,MAAM6e,4BAA4Bzd,EACzC,GAAC,CAAAhB,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACC1C,EAAgBX,KAAKmD,MAArBxC,YAGR,OAFAb,QAAQC,IAAI,0BAGVpD,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,qBAE3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvBC,IAAK,SAAAA,GAASnb,EAAK6a,cAAgBM,CAAK,EACxCC,WAAW,EACX/O,YAAY,gBACZC,qBAAqB,wBACrBlI,aAAc,SAAC7G,GAAI,OAAKyC,EAAKqB,SAAS,CAAE/D,YAAaC,GAAO,EAC5DoP,gBAAiB,kBAAM3M,EAAK4a,aAAatd,EAAY,EACrDf,MAAOe,KAEThE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPqC,EAAKqB,SAAS,CAAE/D,YAAa,KAC7B0C,EAAK6a,cAAcC,OACrB,EAAEniB,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,gBAIrD7B,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAC9BC,QAAS,kBAAMqC,EAAK4a,aAAatd,EAAY,EAAC3E,UAC9CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,eAEnDhG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMqC,EAAK9D,MAAM6e,4BAA4B,GAAG,EAACpiB,UAC1DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACqb,CAAA,CAhEoC,CAAS7c,EAAAA,WAmE1CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,SACZoG,aAAc,IAEhBoW,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfsC,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,Y,6cC5JyB,IAEnBqc,GAAoB,SAAAxf,IAAAC,EAAAA,EAAAA,SAAAuf,EAAAxf,GAAA,IAAAE,EAAAC,GAAAqf,GAEvC,SAAAA,EAAYpf,GAAQ,IAADM,EAKgC,OALhCL,EAAAA,EAAAA,SAAA,KAAAmf,IACjB9e,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXxC,YAAa,IAEfd,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CA6FC,OA7FAH,EAAAA,EAAAA,SAAAif,EAAA,EAAAhf,IAAA,oBAAAC,MAED,WACEI,KAAKke,cAAcC,OACrB,GAAC,CAAAxe,IAAA,eAAAC,MAED,SAAae,GAAc,IAAD0C,EAAA,KACxBrD,KAAK0E,SAAS,CACZ/D,YAAa,KACZ,kBAAM0C,EAAK6a,cAAcC,OAAO,IACnCne,KAAKT,MAAMqf,8BAA8Bje,EAC3C,GAAC,CAAAhB,IAAA,aAAAC,MAED,SAAWiM,GACT,IAAQlL,EAAgBX,KAAKmD,MAArBxC,YACJke,EAAoBle,EACX,UAATkL,EACF7L,KAAK0E,SAAS,CAAE/D,YAAa,KACX,UAATkL,EACT7L,KAAKie,aAAatd,GAElBX,KAAK0E,SAAS,CAAE/D,YAAake,EAAoBhT,GAErD,GAAC,CAAAlM,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACP0C,EAAqC1O,KAAKT,MAAlCkL,EAAIiE,EAAJjE,KAAMqU,EAAkBpQ,EAAlBoQ,mBACNne,EAAgBX,KAAKmD,MAArBxC,YAGR,OAFAb,QAAQC,IAAI,4BAGVpD,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,oBACzCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOS,YAAY3E,SAAA,CAAC,mBAAiB8iB,EAAmB,iBAAerU,EAAKD,OAAO,WAElG7N,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvBC,IAAK,SAAAA,GAASxS,EAAKkS,cAAgBM,CAAK,EACxC3O,iBAAiB,EACjB4O,WAAW,EACX/O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAAC7G,GAAI,OAAKoL,EAAKtH,SAAS,CAAE/D,YAAaC,GAAO,EAC5DoP,gBAAiB,kBAAMhE,EAAKiS,aAAatd,EAAY,EACrDf,MAAOe,KAEThE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPgL,EAAKtH,SAAS,CAAE/D,YAAa,KAC7BqL,EAAKkS,cAAcC,OACrB,EAAEniB,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,gBAIrD7B,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAEiG,MAAO,IAAKkG,aAAc,GAAI6W,UAAW,UAClDnJ,KAAM,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,QAAS,IAAK,SAClEC,eAAe,EACflP,8BAA8B,EAC9BgP,WAAY,EACZG,aAAc,SAACjK,EAAMiJ,GAAK,OAAKA,EAAMiB,UAAU,EAC/CC,WAAY,SAAA/I,GAAA,IAAGpB,EAAIoB,EAAJpB,KAAI,OACjBlP,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAI,EAAGkH,YAAa,GAAI/M,UAC3CW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,IAAKZ,KAAM,EAAGC,WAAY,SAAUC,eAAgB,SAAUT,gBAAiB,QAASW,aAAc,GACvIjB,QAAS,kBAAMgL,EAAKiE,WAAWpE,EAAK,EAAC7P,SAE1B,UAAT6P,GACElP,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQ1F,MAAM,QAAQ5B,KAAM,KACjC,UAATgN,GACAlP,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQ1F,MAAM,QAAQ5B,KAAM,MAE5ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAE0E,MAAO,QAAS1D,WAAY,eAAgBD,SAAU,IAAMd,SAAE6P,OAGhF,KAOXlP,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMgL,EAAKzM,MAAMqf,8BAA8B,GAAG,EAAC5iB,UAC5DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACgc,CAAA,CArGsC,CAASxd,EAAAA,WAwG5CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAETE,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEb+b,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,SACZoG,aAAc,IAEhBoW,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfsC,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,Y,6cClMyB,IAEnB0c,GAAkB,SAAA7f,IAAAC,EAAAA,EAAAA,SAAA4f,EAAA7f,GAAA,IAAAE,EAAAC,GAAA0f,GAErC,SAAAA,EAAYzf,GAAQ,IAADM,EAuBoC,OAvBpCL,EAAAA,EAAAA,SAAA,KAAAwf,IACjBnf,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMkL,KACZxN,aAAcsC,EAAMtC,aACpBoZ,SAAU9W,EAAM8W,SAChB4I,WAAY1f,EAAM0f,WAClBC,UAAW3f,EAAM2f,UACjBC,kBAAmB5f,EAAM4f,kBAEzBC,mBAAoB7f,EAAM2f,UAC1BG,kBAAmB,GACnB1e,YAAa,GACb2e,kBAAkB,EAClBC,iBAAkB,GAClBC,cAAc,EACdV,mBAAoB,GACpBW,6BAA6B,EAC7Bzb,gCAAgC,GAElCnE,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAK+e,8BAAgC/e,EAAK+e,8BAA8Bza,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAK8f,eAAiB9f,EAAK8f,eAAexb,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACvD,CA8OC,OA9OAH,EAAAA,EAAAA,SAAAsf,EAAA,EAAArf,IAAA,oBAAAC,MAED,WACA,GAAC,CAAAD,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,gCAAAC,MAED,SAA8BgB,GAAO,IAADyC,EAAA,KAClCsC,EAA6D3F,KAAKmD,MAA1DsH,EAAI9E,EAAJ8E,KAAMxN,EAAY0I,EAAZ1I,aAAcoZ,EAAQ1Q,EAAR0Q,SAAUyI,EAAkBnZ,EAAlBmZ,mBACtC,GAAKle,EAAL,CAMA,IAAIwM,EAAMnQ,EAAe,iBACnBU,EAAO,CACXgQ,MAAOlD,EAAKkD,MACZrD,WAAY1J,EACZgf,MAAOd,GAETthB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,kBAAoB6hB,EACpBrU,EAAKoV,SACLjT,EAASE,QACT,GACA,GACAF,EAASpC,QAEToC,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrDwC,EAAKqB,SAAS,CACZ+a,6BAA6B,IAE/Bpc,EAAKsc,eAAe/S,EAASpC,QAC/B,IACC2D,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GA7CF,MAJE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,GAiDnC,GAAC,CAAA9f,IAAA,iBAAAC,MAED,SAAemgB,GACb,IAAAvT,EAA+ExM,KAAKmD,MAA5EsH,EAAI+B,EAAJ/B,KAAMwU,EAAUzS,EAAVyS,WAAYte,EAAW6L,EAAX7L,YAAa4e,EAAgB/S,EAAhB+S,iBAAkBJ,EAAiB3S,EAAjB2S,kBACpDxe,EAMmB,MAAlB8J,EAAKuV,UAAoBf,EAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,gBAAbA,EAAGojB,KAAuB,KAAqC,IAAhCT,EAAkB7D,WAAqByE,EAO3H/f,KAAKT,MAAM2gB,4BAA4Bvf,EAAa4e,GAAoB,IAAKQ,GAN3E/f,KAAK0E,SAAS,CACZ+a,6BAA6B,EAC7BX,mBAAoB,gBARtB9e,KAAK0E,SAAS,CACZ8a,cAAc,GAYpB,GAAC,CAAA7f,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAA+N,EAA0C3O,KAAKmD,MAAvC+b,EAASvQ,EAATuQ,UACJiB,GADiCxR,EAAlByQ,mBACY,IAC/Bpf,KAAK0E,SAAS,CAAE2a,kBAAmBze,IACnC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GACxBtZ,QAAQC,IAAI,YAAaC,KAAKmD,MAAMic,oBAEpCe,EAA2BjB,EACtBte,GAMLuf,EAA2BA,EAAyBvO,QAAO,SAAA/F,GACzD,OAAOA,EAAKuU,OAAOvf,cAAc0Y,SAASH,IAAavN,EAAKwU,SAASxf,cAAc0Y,SAASH,EAC9F,IACApZ,KAAK0E,SAAS,CACZ0a,mBAAoBe,KATpBngB,KAAK0E,SAAS,CACZ0a,mBAAoBe,GAU1B,GAAC,CAAAxgB,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACPmL,EAEsDnX,KAAKmD,MAFnDsH,EAAI0M,EAAJ1M,KAAM4U,EAAiBlI,EAAjBkI,kBAAmB1e,EAAWwW,EAAXxW,YAAa2e,EAAgBnI,EAAhBmI,iBAAkBF,EAAkBjI,EAAlBiI,mBAC9DG,GAD2FpI,EAAT+H,UAClE/H,EAAhBoI,kBAAkBC,EAAYrI,EAAZqI,aAAcxb,EAA8BmT,EAA9BnT,+BAChCyb,EAA2BtI,EAA3BsI,4BAA6BX,EAAkB3H,EAAlB2H,mBAG/B,OAFAhf,QAAQC,IAAI,+BAAgCC,KAAKmD,QAG/C/C,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,SAAA,CAExBgI,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,mCAGzCwe,IACA9iB,EAAAA,EAAAA,KAACgiB,GAAoB,CACnBlU,KAAMA,EACNqU,mBAAoBA,EACpBF,8BAA+B5e,KAAK4e,iCAExCxe,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,qBAE3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOqe,sBAAuBiB,EAAe,KAAO,CAAE/e,MAAOC,EAAMzC,OACpFyR,YAAY,cACZC,qBAAqB,wBACrBlI,aAAc,SAAC7G,GAAI,OAAKoL,EAAKtH,SAAS,CAAE/D,YAAaC,EAAM4e,cAAc,GAAO,EAChF5f,MAAOe,KAEThE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPgL,EAAKtH,SAAS,CAAE/D,YAAa,KAC7BoZ,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,gBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEukB,cAAe,MAE5BhB,GACElf,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,SAAA,EACvBW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,UACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOoe,iBAC9Btd,QAAS,kBAAMgL,EAAKtH,SAAS,CAC3B2a,kBAAmB,GACnBE,iBAAkB,GAClBD,kBAAkB,GAClB,EAACtjB,UACHW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOqgB,WAAWvkB,SAAEujB,EAAiBa,cAGtDzjB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEukB,cAAe,SAGhClgB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsgB,cAAcxkB,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoe,iBAAkB,CAAE/U,iBAAkB,IAAKvN,SAAA,EAC9DW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAACmR,GAAU,OAAK5M,EAAK0T,wBAAwB9G,EAAW,EACtEhZ,MAAOyf,KAET1iB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPgL,EAAKtH,SAAS,CAAE2a,kBAAmB,KAAM,kBAAMrT,EAAK0T,wBAAwB,GAAG,IAC/E3F,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,gBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAEojB,EAAmBzK,OAAO,eAEpEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB+T,KAAMwJ,EACNtJ,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOugB,aACfzf,QAAS,kBAAMgL,EAAKtH,SAAS,CAC3B4a,kBAAkB,EAClBC,iBAAkB1T,EAClB2T,cAAc,GACd,EAACxjB,SAAA,EACHoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAKuU,YAEtDzjB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4gB,kCAGxBnkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAKwU,cAGVjgB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,wBAEpBvkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,mCAGP,QAK7BzkB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAC9BC,QAAS,kBAAMgL,EAAK2T,gBAAgB,EAAC3jB,UACrCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,eAEnDhG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMgL,EAAKzM,MAAM2gB,4BAA4B,GAAI,GAAG,EAAClkB,UAC9DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,mBAK3D,KAACqc,CAAA,CAxQoC,CAAS7d,EAAAA,WA2Q1CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPQ,OAAQ,MACRlB,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdwc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwc,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBof,kBAAmB,CAEjBrf,MAAO,GACPQ,OAAQ,GACRP,aAAc,GACdsH,iBAAkB,EAClBzH,WAAY,SACZC,eAAgB,UAElB0e,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAOC,EAAM5C,OACbhB,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+e,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdsL,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf8hB,WAAY,CACVxjB,WAAY,eACZ0D,MAAO,QACP3D,SAAU,IAEZ0jB,cAAe,CACb3e,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB4D,aAAc,EACdsH,iBAAkB,EAClBrB,aAAc,GAEhBnH,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,Y,6cCjbyB,IAEnBgf,GAAmB,SAAAniB,IAAAC,EAAAA,EAAAA,SAAAkiB,EAAAniB,GAAA,IAAAE,EAAAC,GAAAgiB,GAEtC,SAAAA,EAAY/hB,GAAQ,IAADM,EAoBgC,OApBhCL,EAAAA,EAAAA,SAAA,KAAA8hB,IACjBzhB,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMkL,KACZxN,aAAcsC,EAAMtC,aACpBoZ,SAAU9W,EAAM8W,SAChB6I,UAAW3f,EAAM2f,UACjBD,WAAY1f,EAAM0f,WAElBG,mBAAoB7f,EAAM2f,UAE1BG,kBAAmB,GACnBE,iBAAkB,GAClBgC,QAAS,GACT9B,6BAA6B,EAC7Bzb,gCAAgC,GAElCnE,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAK+e,8BAAgC/e,EAAK+e,8BAA8Bza,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CA0MC,OA1MAH,EAAAA,EAAAA,SAAA4hB,EAAA,EAAA3hB,IAAA,oBAAAC,MAED,WACA,GAAC,CAAAD,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAA+E,EAA0C3F,KAAKmD,MAAvC+b,EAASvZ,EAATuZ,UACJiB,GADiCxa,EAAlByZ,mBACY,IAC/Bpf,KAAK0E,SAAS,CAAE2a,kBAAmBze,IACnC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GACxBtZ,QAAQC,IAAI,YAAaC,KAAKmD,MAAMic,oBAEpCe,EAA2BjB,EACtBte,GAMLuf,EAA2BA,EAAyBvO,QAAO,SAAA/F,GACzD,OAAOA,EAAKuU,OAAOvf,cAAc0Y,SAASH,IAAavN,EAAKwU,SAASxf,cAAc0Y,SAASH,EAC9F,IACApZ,KAAK0E,SAAS,CACZ0a,mBAAoBe,KATpBngB,KAAK0E,SAAS,CACZ0a,mBAAoBe,GAU1B,GAAC,CAAAxgB,IAAA,gCAAAC,MAED,SAA8BgB,GAAO,IAADyC,EAAA,KAClCmJ,EAA2DxM,KAAKmD,MAAxDsH,EAAI+B,EAAJ/B,KAAMxN,EAAYuP,EAAZvP,aAAcoZ,EAAQ7J,EAAR6J,SAAUkJ,EAAgB/S,EAAhB+S,iBACtC,GAAK3e,EAAL,CAMA,IAAIwM,EAAMnQ,EAAe,iBACnBU,EAAO,CACXgQ,MAAOlD,EAAKkD,MACZrD,WAAY1J,EACZgf,MAAO,YAETpiB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,0BACAwN,EAAKoV,SACLjT,EAASE,QACT,GACA,GACAF,EAASpC,QAEToC,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrDwC,EAAKqB,SAAS,CACZ+a,6BAA6B,IAE/Bpc,EAAK4a,aAAasB,EAAkB3S,EAASpC,QAC/C,IACC2D,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GA7CF,MAJE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,GAiDnC,GAAC,CAAA9f,IAAA,eAAAC,MAED,SAAaiM,EAAMkU,GACjB,IAAApR,EAAsC3O,KAAKmD,MAAnCsH,EAAIkE,EAAJlE,KAAMwU,EAAUtQ,EAAVsQ,WAAYsC,EAAO5S,EAAP4S,QACtBC,EAAkB3V,EACtB2V,EAAgBD,QAAUA,EAEF,MAAlB9W,EAAKuV,UAAoBf,EAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,aAAbA,EAAGojB,KAAoB,KAAOG,EAQnF/f,KAAKT,MAAMkiB,6BAA6BD,EAAiBzB,GAPvD/f,KAAK0E,SAAS,CACZ+a,6BAA6B,EAC7BF,iBAAkB1T,GAMxB,GAAC,CAAAlM,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACPmL,EACkEnX,KAAKmD,MAD/DsH,EAAI0M,EAAJ1M,KAAM4U,EAAiBlI,EAAjBkI,kBAAmBD,EAAkBjI,EAAlBiI,mBAAoBmC,EAAOpK,EAAPoK,QACnD9B,EAA2BtI,EAA3BsI,4BAA6Bzb,EAA8BmT,EAA9BnT,+BAG/B,OAFAlE,QAAQC,IAAI,gCAAiCC,KAAKmD,QAGhD/C,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,SAAA,CAExBgI,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,mCAGzCwe,IACA9iB,EAAAA,EAAAA,KAACgiB,GAAoB,CACnBlU,KAAMA,EACNqU,mBAAmB,WACnBF,8BAA+B5e,KAAK4e,iCAExCxe,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,sBAE3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOme,iBAAkB,CAAEnW,aAAc,KAAMlM,UAC3DW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,UACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,gBACZC,qBAAqB,wBACrBlI,aAAc,SAAC8Z,GAAO,OAAKvV,EAAKtH,SAAS,CAAE6c,QAAAA,GAAU,EACrD3hB,MAAO2hB,SAIbnhB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOmhB,kBAC9BrgB,QAAS,kBAAMgL,EAAKzM,MAAMkiB,6BAA6B,GAAG,EAACzlB,UAC3DW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,aAE1CL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAACmR,GAAU,OAAK5M,EAAK0T,wBAAwB9G,EAAW,EACtEhZ,MAAOyf,KAGT1iB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPgL,EAAKtH,SAAS,CAAE2a,kBAAmB,KAAM,kBAAMrT,EAAK0T,wBAAwB,GAAG,IAC/E3F,GAAAA,QAASC,SACX,EAAEhe,UAEFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,iBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAEojB,EAAmBzK,OAAO,eAEpEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB+T,KAAMwJ,EACNtJ,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOugB,aACfzf,QAAS,kBAAMgL,EAAKiS,aAAapS,EAAK,EAAC7P,SAAA,EACvCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAKuU,YAEtDzjB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4gB,kCAGxBnkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAKwU,cAGVjgB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,wBAEpBvkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,mCAGP,SAM/B,KAACE,CAAA,CAjOqC,CAASngB,EAAAA,WAoO3CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPQ,OAAQ,MACRlB,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdwc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBof,kBAAmB,CAEjBrf,MAAO,GACPQ,OAAQ,GACRP,aAAc,GACdsH,iBAAkB,EAClBzH,WAAY,SACZC,eAAgB,UAElB0e,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAOC,EAAM5C,OACbhB,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+e,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdsL,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,S,6cC7WuB,IAEnBijB,GAAqB,SAAAviB,IAAAC,EAAAA,EAAAA,SAAAsiB,EAAAviB,GAAA,IAAAE,EAAAC,GAAAoiB,GAExC,SAAAA,EAAYniB,GAAQ,IAADM,EAoBgC,OApBhCL,EAAAA,EAAAA,SAAA,KAAAkiB,IACjB7hB,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMkL,KACZxN,aAAcsC,EAAMtC,aACpBoZ,SAAU9W,EAAM8W,SAChB4I,WAAY1f,EAAM0f,WAClBC,UAAW3f,EAAM2f,UAEjBE,mBAAoB7f,EAAM2f,UAE1BG,kBAAmB,GACnBE,iBAAkB,GAClBgC,QAAS,GACT9B,6BAA6B,EAC7Bzb,gCAAgC,GAElCnE,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAK+e,8BAAgC/e,EAAK+e,8BAA8Bza,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CAwMC,OAxMAH,EAAAA,EAAAA,SAAAgiB,EAAA,EAAA/hB,IAAA,oBAAAC,MAED,WACA,GAAC,CAAAD,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAA+E,EAA0C3F,KAAKmD,MAAvC+b,EAASvZ,EAATuZ,UACJiB,GADiCxa,EAAlByZ,mBACY,IAC/Bpf,KAAK0E,SAAS,CAAE2a,kBAAmBze,IACnC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GACxBtZ,QAAQC,IAAI,YAAaC,KAAKmD,MAAMic,oBAEpCe,EAA2BjB,EACtBte,GAMLuf,EAA2BA,EAAyBvO,QAAO,SAAA/F,GACzD,OAAOA,EAAKuU,OAAOvf,cAAc0Y,SAASH,IAAavN,EAAKwU,SAASxf,cAAc0Y,SAASH,EAC9F,IACApZ,KAAK0E,SAAS,CACZ0a,mBAAoBe,KATpBngB,KAAK0E,SAAS,CACZ0a,mBAAoBe,GAU1B,GAAC,CAAAxgB,IAAA,gCAAAC,MAED,SAA8BgB,GAAO,IAADyC,EAAA,KAClCmJ,EAA2DxM,KAAKmD,MAAxDsH,EAAI+B,EAAJ/B,KAAMxN,EAAYuP,EAAZvP,aAAcoZ,EAAQ7J,EAAR6J,SAAUkJ,EAAgB/S,EAAhB+S,iBACtC,GAAK3e,EAAL,CAMA,IAAIwM,EAAMnQ,EAAe,iBACnBU,EAAO,CACXgQ,MAAOlD,EAAKkD,MACZrD,WAAY1J,EACZgf,MAAO,cAETpiB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,4BACAwN,EAAKoV,SACLjT,EAASE,QACT,GACA,GACAF,EAASpC,QAEToC,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrDwC,EAAKqB,SAAS,CACZ+a,6BAA6B,IAE/Bpc,EAAK4a,aAAasB,EAAkB3S,EAASpC,QAC/C,IACC2D,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GA7CF,MAJE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,GAiDnC,GAAC,CAAA9f,IAAA,eAAAC,MAED,SAAaiM,EAAMkU,GACjB,IAAApR,EAAsC3O,KAAKmD,MAAnCsH,EAAIkE,EAAJlE,KAAMwU,EAAUtQ,EAAVsQ,WAAYsC,EAAO5S,EAAP4S,QACtBC,EAAkB3V,EACtB2V,EAAgBD,QAAUA,EAEF,MAAlB9W,EAAKuV,UAAoBf,EAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,eAAbA,EAAGojB,KAAsB,KAAOG,EAOrF/f,KAAKT,MAAMoiB,+BAA+BH,EAAiBzB,GANzD/f,KAAK0E,SAAS,CACZ+a,6BAA6B,EAC7BF,iBAAkB1T,GAKxB,GAAC,CAAAlM,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACPmL,EACkEnX,KAAKmD,MAD/DsH,EAAI0M,EAAJ1M,KAAM4U,EAAiBlI,EAAjBkI,kBAAmBD,EAAkBjI,EAAlBiI,mBAAoBmC,EAAOpK,EAAPoK,QACnD9B,EAA2BtI,EAA3BsI,4BAA6Bzb,EAA8BmT,EAA9BnT,+BAG/B,OAFAlE,QAAQC,IAAI,kCAAmCC,KAAKmD,QAGlD/C,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,SAAA,CAExBgI,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,mCAGzCwe,IACA9iB,EAAAA,EAAAA,KAACgiB,GAAoB,CACnBlU,KAAMA,EACNqU,mBAAmB,aACnBF,8BAA+B5e,KAAK4e,iCAExCxe,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,wBAE3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOme,iBAAkB,CAAEnW,aAAc,KAAMlM,UAC3DW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,UACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,gBACZC,qBAAqB,wBACrBlI,aAAc,SAAC8Z,GAAO,OAAKvV,EAAKtH,SAAS,CAAE6c,QAAAA,GAAU,EACrD3hB,MAAO2hB,SAIbnhB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOmhB,kBAC9BrgB,QAAS,kBAAMgL,EAAKzM,MAAMoiB,+BAA+B,GAAG,EAAC3lB,UAC7DW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,aAE1CL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAACmR,GAAU,OAAK5M,EAAK0T,wBAAwB9G,EAAW,EACtEhZ,MAAOyf,KAGT1iB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPgL,EAAKtH,SAAS,CAAE2a,kBAAmB,KAAM,kBAAMrT,EAAK0T,wBAAwB,GAAG,IAC/E3F,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,iBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAEojB,EAAmBzK,OAAO,eAEpEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB+T,KAAMwJ,EACNtJ,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOugB,aACfzf,QAAS,kBAAMgL,EAAKiS,aAAapS,EAAK,EAAC7P,SAAA,EACvCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAKuU,YAEtDzjB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4gB,kCAGxBnkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAKwU,cAGVjgB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,wBAEpBvkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,mCAGP,SAM/B,KAACM,CAAA,CA/NuC,CAASvgB,EAAAA,WAkO7CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPQ,OAAQ,MACRlB,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdwc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBof,kBAAmB,CAEjBrf,MAAO,GACPQ,OAAQ,GACRP,aAAc,GACdsH,iBAAkB,EAClBzH,WAAY,SACZC,eAAgB,UAElB0e,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAOC,EAAM5C,OACbhB,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+e,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdsL,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,S,ydChXuB,IAEnBmjB,GAAiB,SAAAziB,IAAAC,EAAAA,EAAAA,SAAAwiB,EAAAziB,GAAA,IAAAE,EAAAC,GAAAsiB,GAEpC,SAAAA,EAAYriB,GAAQ,IAADM,EAa0C,OAb1CL,EAAAA,EAAAA,SAAA,KAAAoiB,IACjB/hB,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMkL,KACZxN,aAAcsC,EAAMtC,aACpB0f,cAAepd,EAAMod,cAErB0C,kBAAmB,GACnBpO,OAAQ,GACR4Q,gBAAiB,GACjBC,YAAa,IAEfjiB,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAKkiB,kBAAoBliB,EAAKkiB,kBAAkB5d,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC7D,CAgKC,OAhKAH,EAAAA,EAAAA,SAAAkiB,EAAA,EAAAjiB,IAAA,oBAAAC,MAED,WAAqB,IAADyD,EAAA,KAClBsC,EAA+B3F,KAAKmD,MAA5BlG,EAAY0I,EAAZ1I,aAAcwN,EAAI9E,EAAJ8E,KAClB2C,EAAMnQ,EAAe,aACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,YAAa,KAE3B9P,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAGJvJ,EAAKqB,SAAS,CACZuM,OAAQrE,EAASgF,QAAO,SAAApV,GAAE,MAAoB,MAAhBA,EAAGwlB,QAAgB,IACjDH,gBAAiBjV,EAASgF,QAAO,SAAApV,GAAE,MAAoB,MAAhBA,EAAGwlB,QAAgB,KAE9D,IACC7T,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAA4L,EAAoCxM,KAAKmD,MAAjC8N,EAAMzE,EAANyE,OACJgR,GAD2BzV,EAAfqV,gBACY,IAC5B7hB,KAAK0E,SAAS,CAAE2a,kBAAmBze,IACnC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GACxBtZ,QAAQC,IAAI,YAAaC,KAAKmD,MAAM0e,iBAEpCI,EAAwBhR,EACnBrQ,GAMLqhB,EAAwBA,EAAsBrQ,QAAO,SAAA/F,GACnD,OAAOA,EAAKoJ,QAAQpU,cAAc0Y,SAASH,IAAavN,EAAKqL,UAAUrW,cAAc0Y,SAASH,EAChG,IACApZ,KAAK0E,SAAS,CACZmd,gBAAiBI,KATjBjiB,KAAK0E,SAAS,CACZmd,gBAAiBI,GAUvB,GAAC,CAAAtiB,IAAA,oBAAAC,MAED,SAAkBiM,GAChB,IAAQiW,EAAgB9hB,KAAKmD,MAArB2e,YACJI,EAAoBJ,EACnBA,EAAY7B,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyY,UAAYpJ,EAAKoJ,OAAO,IAGrDiN,EAAoBA,EAAkBtQ,QAAO,SAAApV,GAAE,OAAIA,EAAGyY,UAAYpJ,EAAKoJ,OAAO,IAF9EiN,EAAkBpd,KAAK+G,GAIzB7L,KAAK0E,SAAS,CACZod,YAAaI,GAEjB,GAAC,CAAAviB,IAAA,uBAAAC,MAED,SAAqBiM,GACnB,IACMqW,EADkBliB,KAAKmD,MAArB2e,YAEYI,EAAkBtQ,QAAO,SAAApV,GAAE,OAAIA,EAAGyY,UAAYpJ,EAAKoJ,OAAO,KAACkN,EAAAA,GAAAA,SAAA,qBAC/EniB,KAAK0E,SAAS,CACZod,YAAaI,GAEjB,GAAC,CAAAviB,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACP2C,EAAmF3O,KAAKmD,MAAhFwZ,EAAahO,EAAbgO,cAAe0C,EAAiB1Q,EAAjB0Q,kBAAmBwC,EAAelT,EAAfkT,gBAAyBC,GAAFnT,EAANsC,OAAmBtC,EAAXmT,aAGnE,OAFAhiB,QAAQC,IAAI,8BAA+BC,KAAKmD,QAG9CxG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAC,SAAO2gB,EAAc1H,YAC3DtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,oBAE3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkG,mBAAmBpK,SACpC8lB,EAAYne,KAAI,SAAAkI,GAAI,OACnBlP,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAEf/E,MAAO,CAACmE,GAAOkiB,mBACfphB,QAAS,kBAAMgL,EAAK+V,kBAAkBlW,EAAK,EAAC7P,UAE5CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOmiB,uBAAuBrmB,SAAE6P,EAAKoJ,WAJ9CpJ,EAAKoH,OAKO,OAGvB7S,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOmhB,kBAC9BrgB,QAAS,kBAAMgL,EAAKzM,MAAM+iB,2BAA2B,GAAG,EAACtmB,UACzDW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,aAE1CL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAACmR,GAAU,OAAK5M,EAAK0T,wBAAwB9G,EAAW,EACtEhZ,MAAOyf,KAET1iB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPgL,EAAKtH,SAAS,CAAE2a,kBAAmB,KAAM,kBAAMrT,EAAK0T,wBAAwB,GAAG,IAC/E3F,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,iBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAE6lB,EAAgBlN,OAAO,eAEjEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB8E,8BAA8B,EAC9BiP,KAAMiM,EACN/L,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOugB,YACdzf,QAAS,kBAAMgL,EAAK+V,kBAAkBlW,EAAK,EAAC7P,SAAA,EAC5CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAKqL,eAEtDva,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4gB,0BAA0B9kB,SAAC,iBAGnDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAKoJ,aAGV7U,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,wBAEpBvkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,mCAGP,KAGvBzkB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAM5C,SACvEkD,QAAS,kBAAMgL,EAAKzM,MAAM+iB,2BAA2BR,EAAY,EAAC9lB,UAClEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACif,CAAA,CAhLmC,CAASzgB,EAAAA,WAmLzCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPQ,OAAQ,MACRlB,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdwc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBof,kBAAmB,CAEjBrf,MAAO,GACPQ,OAAQ,GACRP,aAAc,GACdsH,iBAAkB,EAClBzH,WAAY,SACZC,eAAgB,UAElB0e,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAOC,EAAM5C,OACbhB,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+e,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdsL,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfsC,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEb8D,mBAAoB,CAClB5D,OAAQ,GACR8d,cAAe,EACfpd,cAAe,MACfqf,SAAU,OACVxgB,eAAgB,UAElBqgB,kBAAmB,CACjBnf,kBAAmB,GACnBnB,WAAY,SACZC,eAAgB,SAChBE,aAAc,GACdO,OAAQ,GACRlB,gBAAiBZ,EAAMrC,MACvBmkB,YAAa,EACbta,aAAc,GAEhBma,sBAAuB,CACrBtlB,WAAY,eACZ0D,MAAOC,EAAMjC,MACb3B,SAAU,M,6cChW0B,IAEnB2lB,GAAiB,SAAAtjB,IAAAC,EAAAA,EAAAA,SAAAqjB,EAAAtjB,GAAA,IAAAE,EAAAC,GAAAmjB,GAEpC,SAAAA,EAAYljB,GAAQ,IAADM,EAakD,OAblDL,EAAAA,EAAAA,SAAA,KAAAijB,IACjB5iB,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMkL,KACZxN,aAAcsC,EAAMtC,aACpB0f,cAAepd,EAAMod,cACrB+F,WAAYnjB,EAAMmjB,WAElBrD,kBAAmB,GACnBsD,oBAAqBpjB,EAAMmjB,WAAW9Q,QAAO,SAAApV,GAAE,OAAKA,EAAGomB,SAAS,IAChEC,mBAAoB,IAEtBhjB,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAKijB,sBAAwBjjB,EAAKijB,sBAAsB3e,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACrE,CA0IC,OA1IAH,EAAAA,EAAAA,SAAA+iB,EAAA,EAAA9iB,IAAA,oBAAAC,MAED,WAEA,GAAC,CAAAD,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAQ8hB,EAAe1iB,KAAKmD,MAApBuf,WACJK,EAA4B,GAChC/iB,KAAK0E,SAAS,CAAE2a,kBAAmBze,IACnC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GACxBtZ,QAAQC,IAAI,YAAaC,KAAKmD,MAAMwf,qBAEpCI,EAA4BL,EAAW9Q,QAAO,SAAApV,GAAE,OAAKA,EAAGomB,SAAS,IAC5DhiB,GAMLmiB,EAA4BA,EAA0BnR,QAAO,SAAA/F,GAC3D,OAAOA,EAAK0M,OAAO1X,cAAc0Y,SAASH,IAAavN,EAAKyN,SAASzY,cAAc0Y,SAASH,EAC9F,IACApZ,KAAK0E,SAAS,CACZie,oBAAqBI,KATrB/iB,KAAK0E,SAAS,CACZie,oBAAqBI,GAU3B,GAAC,CAAApjB,IAAA,wBAAAC,MAED,SAAsBiM,GACpB,IACImX,EAD2BhjB,KAAKmD,MAA5B0f,mBAEHG,EAAyB/C,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAGhE+P,EAA2BA,EAAyBpR,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAF1F+P,EAAyBle,KAAK+G,GAIhC7L,KAAK0E,SAAS,CACZme,mBAAoBG,GAExB,GAAC,CAAArjB,IAAA,uBAAAC,MAED,SAAqBiM,GACnB,IACMmX,EADyBhjB,KAAKmD,MAA5B0f,mBAEmBG,EAAyBpR,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,KAACkP,EAAAA,GAAAA,SAAA,4BAC3FniB,KAAK0E,SAAS,CACZme,mBAAoBG,GAExB,GAAC,CAAArjB,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACPsC,EAAsF3F,KAAKmD,MAAnFwZ,EAAahX,EAAbgX,cAAe0C,EAAiB1Z,EAAjB0Z,kBAAmBsD,EAAmBhd,EAAnBgd,oBAAqBE,EAAkBld,EAAlBkd,mBAG/D,OAFA/iB,QAAQC,IAAI,8BAA+BC,KAAKmD,QAG9CxG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAC,SAAO2gB,EAAc1H,YAC3DtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,oBAE3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkG,mBAAmBpK,SACpC6mB,EAAmBlf,KAAI,SAAAkI,GAAI,OAC1BlP,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAEf/E,MAAO,CAACmE,GAAOkiB,mBACfphB,QAAS,kBAAMqC,EAAKyf,sBAAsBjX,EAAK,EAAC7P,UAEhDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOmiB,uBAAuBrmB,SAAE6P,EAAKoX,UAJ9CpX,EAAKoH,OAKO,OAGvB7S,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOmhB,kBAC9BrgB,QAAS,kBAAMqC,EAAK9D,MAAM2jB,2BAA2B,GAAG,EAAClnB,UACzDW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,aAE1CL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAACmR,GAAU,OAAKvV,EAAKqc,wBAAwB9G,EAAW,EACtEhZ,MAAOyf,KAGT1iB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPqC,EAAKqB,SAAS,CAAE2a,kBAAmB,KAAM,kBAAMhc,EAAKqc,wBAAwB,GAAG,IAC/E3F,GAAAA,QAASC,SACX,EAAEhe,UAEFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,iBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAE2mB,EAAoBhO,OAAO,eAErEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB8E,8BAA8B,EAC9BiP,KAAM+M,EACN7M,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOugB,YACdzf,QAAS,kBAAMqC,EAAKyf,sBAAsBjX,EAAK,EAAC7P,SAAA,EAChDoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAK0M,YAEtD5b,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4gB,0BAA0B9kB,SAAE6P,EAAKoX,eAGzDtmB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAKyN,cAGVlZ,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,wBAEpBvkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,mCAGP,KAGvBzkB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAC9BC,QAAS,kBAAMqC,EAAK9D,MAAM2jB,2BAA2BL,EAAmB,EAAC7mB,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAAC8f,CAAA,CA1JmC,CAASthB,EAAAA,WA6JzCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPQ,OAAQ,MACRlB,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdwc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBof,kBAAmB,CAEjBrf,MAAO,GACPQ,OAAQ,GACRP,aAAc,GACdsH,iBAAkB,EAClBzH,WAAY,SACZC,eAAgB,UAElB0e,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+e,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdsL,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfsC,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEb8D,mBAAoB,CAClB5D,OAAQ,GACR8d,cAAe,EACfpd,cAAe,MACfqf,SAAU,OACVxgB,eAAgB,UAElBqgB,kBAAmB,CACjBnf,kBAAmB,GACnBnB,WAAY,SACZC,eAAgB,SAChBE,aAAc,GACdO,OAAQ,GACRlB,gBAAiBZ,EAAMrC,MACvBmkB,YAAa,EACbta,aAAc,GAEhBma,sBAAuB,CACrBtlB,WAAY,eACZ0D,MAAOC,EAAMjC,MACb3B,SAAU,M,6cC1UiC,IAE1BqmB,GAAkB,SAAAhkB,IAAAC,EAAAA,EAAAA,SAAA+jB,EAAAhkB,GAAA,IAAAE,EAAAC,GAAA6jB,GAErC,SAAAA,EAAY5jB,GAAQ,IAADM,EAWsD,OAXtDL,EAAAA,EAAAA,SAAA,KAAA2jB,IACjBtjB,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMkL,KACZxN,aAAcsC,EAAMtC,aACpB0f,cAAepd,EAAMod,cAErB0C,kBAAmB,GACnBpO,OAAQ,GACR4Q,gBAAiB,IAEnBhiB,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACzE,CA4HC,OA5HAH,EAAAA,EAAAA,SAAAyjB,EAAA,EAAAxjB,IAAA,oBAAAC,MAED,WAAqB,IAADyD,EAAA,KAClBsC,EAA+B3F,KAAKmD,MAA5BlG,EAAY0I,EAAZ1I,aAAcwN,EAAI9E,EAAJ8E,KAClB2C,EAAMnQ,EAAe,aACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,YAAa,KAE3B9P,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAEJvJ,EAAKqB,SAAS,CACZuM,OAAQrE,EAASgF,QAAO,SAAApV,GAAE,MAAoB,MAAhBA,EAAGwlB,QAAgB,IACjDH,gBAAiBjV,EAASgF,QAAO,SAAApV,GAAE,MAAoB,MAAhBA,EAAGwlB,QAAgB,KAE9D,IACC7T,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAA4L,EAAoCxM,KAAKmD,MAAjC8N,EAAMzE,EAANyE,OACJgR,GAD2BzV,EAAfqV,gBACY,IAC5B7hB,KAAK0E,SAAS,CAAE2a,kBAAmBze,IACnC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GACxBtZ,QAAQC,IAAI,YAAaC,KAAKmD,MAAM0e,iBAEpCI,EAAwBhR,EACnBrQ,GAMLqhB,EAAwBA,EAAsBrQ,QAAO,SAAA/F,GACnD,OAAOA,EAAKoJ,QAAQpU,cAAc0Y,SAASH,IAAavN,EAAKqL,UAAUrW,cAAc0Y,SAASH,EAChG,IACApZ,KAAK0E,SAAS,CACZmd,gBAAiBI,KATjBjiB,KAAK0E,SAAS,CACZmd,gBAAiBI,GAUvB,GAAC,CAAAtiB,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACP2C,EAAsE3O,KAAKmD,MAAnEkc,EAAiB1Q,EAAjB0Q,kBAAmBwC,EAAelT,EAAfkT,gBAAyBlF,GAAFhO,EAANsC,OAAqBtC,EAAbgO,eAGpD,OAFA7c,QAAQC,IAAI,+BAAgCC,KAAKmD,QAG/CxG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAC,SAAO2gB,EAAc1H,YAC3DtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,qBAE3CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOmhB,kBAC9BrgB,QAAS,kBAAMgL,EAAKzM,MAAM6jB,4BAA4B,GAAG,EAACpnB,UAE1DW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,aAE1CL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAACmR,GAAU,OAAK5M,EAAK0T,wBAAwB9G,EAAW,EACtEhZ,MAAOyf,KAGT1iB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPgL,EAAKtH,SAAS,CAAE2a,kBAAmB,KAAM,kBAAMrT,EAAK0T,wBAAwB,GAAG,IAC/E3F,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,iBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAE6lB,EAAgBlN,OAAO,eAEjEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB8E,8BAA8B,EAC9BiP,KAAMiM,EACN/L,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOugB,aACfzf,QAAS,kBAAMgL,EAAKzM,MAAM6jB,4BAA4BvX,EAAK,EAAC7P,SAAA,EAC5DoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAKqL,eAEtDva,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4gB,0BAA0B9kB,SAAC,iBAGnDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAKoJ,aAGV7U,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,wBAEpBvkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,mCAGP,QAM/B,KAAC+B,CAAA,CA1IoC,CAAShiB,EAAAA,WA6I1CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPQ,OAAQ,MACRlB,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdwc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBof,kBAAmB,CAEjBrf,MAAO,GACPQ,OAAQ,GACRP,aAAc,GACdsH,iBAAkB,EAClBzH,WAAY,SACZC,eAAgB,UAElB0e,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAOC,EAAM5C,OACbhB,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+e,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdsL,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,S,6cCxRmB,IAEf4kB,GAAiB,SAAAlkB,IAAAC,EAAAA,EAAAA,SAAAikB,EAAAlkB,GAAA,IAAAE,EAAAC,GAAA+jB,GAEpC,SAAAA,EAAY9jB,GAAO,OAAAC,EAAAA,EAAAA,SAAA,KAAA6jB,GAAAhkB,EAAAI,KAAA,KACXF,EACR,CA6FC,OA7FAG,EAAAA,EAAAA,SAAA2jB,EAAA,EAAA1jB,IAAA,SAAAC,MAED,WAAU,IAADC,EAAA,KACP6O,EAAyD1O,KAAKT,MAAtDod,EAAajO,EAAbiO,cAAewC,EAAiBzQ,EAAjByQ,kBAA6BzQ,EAAVgU,WAG1C,OAFA5iB,QAAQC,IAAI,uBAAwBC,KAAKT,QAGvC5C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAE2G,EAAAA,QAAAA,IAAS,SAAS,IAAEga,EAAc1H,YACzEtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE2G,EAAAA,QAAAA,IAAS,iBACnDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOS,YAAY3E,SAAEmjB,EAAkB7F,SAASzY,oBAE/DT,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAM+jB,2BAA2B,WAAW,EAACtnB,SAAA,EACjEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,QACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,gBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAM+jB,2BAA2B,gBAAgB,EAACtnB,SAAA,EACtEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,QACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,mBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAyC,MAAjCsc,EAAkBoE,YAAsB,CAAElhB,QAAS,KAC1F+Y,SAA2C,MAAjC+D,EAAkBoE,WAC5BviB,QAAS,kBAAMnB,EAAKN,MAAM+jB,2BAA2B,YAAY,EAACtnB,SAAA,EAClEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,QACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,mBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAM+jB,2BAA2B,WAAW,EAACtnB,SAAA,EACjEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,iBAG9CvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAyC,MAA/Bsc,EAAkBqE,UAAmD,MAA/BrE,EAAkBqE,WAAqB,CAAEnhB,QAAS,KACjI+Y,WAA2C,MAA/B+D,EAAkBqE,UAAmD,MAA/BrE,EAAkBqE,UACpExiB,QAAS,kBAAMnB,EAAKN,MAAM+jB,2BAA2B,aAAa,EAACtnB,SAAA,EACnEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,MACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,gBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuC,MAA9Bsc,EAAkBsE,SAAmD,IAAhCtE,EAAkB7D,WAAoB,CAAEjZ,QAAS,KAC9H+Y,SAAwC,MAA9B+D,EAAkBsE,SAAmD,IAAhCtE,EAAkB7D,UACjEta,QAAS,kBAAMnB,EAAKN,MAAM+jB,2BAA2B,cAAc,EAACtnB,SAAA,EACpEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,aACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,qBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAsC,MAA9Bsc,EAAkBsE,SAAmB,CAAEphB,QAAS,KACvF+Y,SAAwC,MAA9B+D,EAAkBsE,QAC5BziB,QAAS,kBAAMnB,EAAKN,MAAM+jB,2BAA2B,eAAe,EAACtnB,SAAA,EACrEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,aACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,qBAG9ChG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,KAAMsE,UAAW,KACxFvB,QAAS,kBAAMnB,EAAKN,MAAM+jB,2BAA2B,GAAG,EAACtnB,UAEzDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAAC0gB,CAAA,CAjGmC,CAASliB,EAAAA,WAoGzCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2C,SAAU,MACV1B,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACbmC,OAAQ,GACRX,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb3B,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEbM,iBAAkB,CAChBK,kBAAmB,GACnBnB,WAAY,SACZC,eAAgB,SAChBmB,cAAe,OAEjBL,OAAQ,CACNL,OAAQ,IACRR,MAAO,IACPS,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBT,gBAAiBZ,EAAMrC,MACvB4D,aAAc,GAEhBc,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,e,6cCpLiB,IAEfshB,GAAmB,SAAAvkB,IAAAC,EAAAA,EAAAA,SAAAskB,EAAAvkB,GAAA,IAAAE,EAAAC,GAAAokB,GAEtC,SAAAA,EAAYnkB,GAAO,OAAAC,EAAAA,EAAAA,SAAA,KAAAkkB,GAAArkB,EAAAI,KAAA,KACXF,EACR,CAuGC,OAvGAG,EAAAA,EAAAA,SAAAgkB,EAAA,EAAA/jB,IAAA,SAAAC,MAED,WAAU,IAADC,EAAA,KACP6O,EAAsC1O,KAAKT,MAAnCod,EAAajO,EAAbiO,cAAyBjO,EAAVgU,WAGvB,OAFA5iB,QAAQC,IAAI,gCAAiCC,KAAKT,QAGhD5C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAE2G,EAAAA,QAAAA,IAAS,SAAS,IAAEga,EAAc1H,YACzE7U,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAA,CAAE2G,EAAAA,QAAAA,IAAS,SAAS,IAAEA,EAAAA,QAAAA,IAAS,iBAGzEvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAchF,WAAiD,MAA5BgF,EAAcnM,YAAsB,CAAEnO,QAAS,KAC5I+Y,UAAWuB,GAA6C,MAA5BA,EAAchF,WAAiD,MAA5BgF,EAAcnM,UAC7ExP,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,YAAY,EAAC3nB,SAAA,EACpEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,aAAa1F,MAAM,QAAQ5B,KAAM,MACjDlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAcnM,YAAsB,CAAEnO,QAAS,KACzG+Y,UAAWuB,GAA6C,MAA5BA,EAAcnM,UAC1CxP,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,YAAY,EAAC3nB,SAAA,EACpEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAO1F,MAAM,QAAQ5B,KAAM,MAC3ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAchF,WAAiD,MAA5BgF,EAAcnM,YAAsB,CAAEnO,QAAS,KAC5I+Y,UAAWuB,GAA6C,MAA5BA,EAAchF,WAAiD,MAA5BgF,EAAcnM,UAC7ExP,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,eAAe,EAAC3nB,SAAA,EACvEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,WAAW1F,MAAM,QAAQ5B,KAAM,MAC/ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,gBAGZ,OAAhB,MAAbga,OAAa,EAAbA,EAAehF,YAAkD,OAAhB,MAAbgF,OAAa,EAAbA,EAAenM,YAClDpQ,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAcnM,YAAsB,CAAEnO,QAAS,KACzG+Y,UAAWuB,GAA6C,MAA5BA,EAAcnM,UAC1CxP,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,eAAe,EAAC3nB,SAAA,EACvEW,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,SAAS1F,MAAM,QAAQ5B,KAAM,MAC1DlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,iBAG5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAcnM,YAAsB,CAAEnO,QAAS,KACzG+Y,UAAWuB,GAA6C,MAA5BA,EAAcnM,UAC1CxP,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,aAAa,EAAC3nB,SAAA,EACrEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,UAAU1F,MAAM,QAAQ5B,KAAM,MAC9ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,kBAIlDvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAcnM,WAAgD,MAA3BmM,EAAcqF,WAAqB,CAAE3f,QAAS,KAC3I+Y,UAAWuB,GAA6C,MAA5BA,EAAcnM,WAAgD,MAA3BmM,EAAcqF,SAC7EhhB,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,aAAa,EAAC3nB,SAAA,EACrEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,WAAW1F,MAAM,QAAQ5B,KAAM,MAC/ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,oBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAcnM,WAAgD,MAA3BmM,EAAcqF,WAAqB,CAAE3f,QAAS,KAC3I+Y,UAAWuB,GAA6C,MAA5BA,EAAcnM,WAAgD,MAA3BmM,EAAcqF,SAC7EhhB,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,aAAa,EAAC3nB,SAAA,EACrEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,aAAa1F,MAAM,QAAQ5B,KAAM,MACjDlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,oBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAcnM,WAAgD,MAA3BmM,EAAcqF,WAAqB,CAAE3f,QAAS,KAC3I+Y,UAAWuB,GAA6C,MAA5BA,EAAcnM,WAAgD,MAA3BmM,EAAcqF,SAC7EhhB,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,cAAc,EAAC3nB,SAAA,EACtEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAO1F,MAAM,QAAQ5B,KAAM,MAC3ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,wBAG9CvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAcnM,YAAsB,CAAEnO,QAAS,KACzG+Y,UAAWuB,GAA6C,MAA5BA,EAAcnM,UAC1CxP,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,iBAAiB,EAAC3nB,SAAA,EACzEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAO1F,MAAM,QAAQ5B,KAAM,MAC3ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,oBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAcnM,YAAsB,CAAEnO,QAAS,KACzG+Y,UAAWuB,GAA6C,MAA5BA,EAAcnM,UAC1CxP,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,eAAe,EAAC3nB,SAAA,EACvEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,SAAS1F,MAAM,QAAQ5B,KAAM,MAC7ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,uBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAcnM,YAAsB,CAAEnO,QAAS,KACzG+Y,UAAWuB,GAA6C,MAA5BA,EAAcnM,UAC1CxP,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,iBAAiB,EAAC3nB,SAAA,EACzEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,aAAa1F,MAAM,QAAQ5B,KAAM,MACjDlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,oBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA6C,MAA5BA,EAAcnM,YAAsB,CAAEnO,QAAS,KACzG+Y,UAAWuB,GAA6C,MAA5BA,EAAcnM,UAC1CxP,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,YAAY,EAAC3nB,SAAA,EACpEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAO1F,MAAM,QAAQ5B,KAAM,MAC3ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,sBAG9ChG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,KAAMsE,UAAW,KACxFvB,QAAS,kBAAMnB,EAAKN,MAAMokB,6BAA6B,GAAG,EAAC3nB,UAC3DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAAC+gB,CAAA,CA3GqC,CAASviB,EAAAA,WA8G3CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2C,SAAU,MACV1B,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb3B,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEbM,iBAAkB,CAChBK,kBAAmB,GACnBnB,WAAY,SACZC,eAAgB,SAChBmB,cAAe,OAEjBL,OAAQ,CACNL,OAAQ,IACRR,MAAO,IACPS,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBT,gBAAiBZ,EAAMrC,MACvB4D,aAAc,GAEhBc,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,e,6cC9LiB,IAEfwhB,GAA0B,SAAAzkB,IAAAC,EAAAA,EAAAA,SAAAwkB,EAAAzkB,GAAA,IAAAE,EAAAC,GAAAskB,GAE7C,SAAAA,EAAYrkB,GAAO,OAAAC,EAAAA,EAAAA,SAAA,KAAAokB,GAAAvkB,EAAAI,KAAA,KACXF,EACR,CAsIC,OAtIAG,EAAAA,EAAAA,SAAAkkB,EAAA,EAAAjkB,IAAA,SAAAC,MAED,WAAU,IAADC,EAAA,KAGP,OAFAC,QAAQC,IAAI,gCAAiCC,KAAKT,QAGhD5C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE2G,EAAAA,QAAAA,IAAS,6BAGrDvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,cAAc,EAAC7nB,SAAA,EAC7EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,UACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,iBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAC/B7B,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,WAAW,EAAC7nB,SAAA,EAC1EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,aACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,sBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAC/B7B,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,cAAc,EAAC7nB,SAAA,EAC7EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,oBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,aAAa,EAAC7nB,SAAA,EAC5EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,SACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,uBAG9CvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAQ,CAAEvB,gBAAiBZ,EAAMpC,QAChE0C,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,SAAS,EAAC7nB,SAAA,EACxEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,aACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,gBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,YAAY,EAAC7nB,SAAA,EAC3EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,eAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,eAAe,EAAC7nB,SAAA,EAC9EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,mBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAQ,CAAEvB,gBAAiBZ,EAAMpC,QAChE0C,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,cAAc,EAAC7nB,SAAA,EAC7EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,UACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,wBAG9CvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,eAAe,EAAC7nB,SAAA,EAC9EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,QACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,kBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,YAAY,EAAC7nB,SAAA,EAC3EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,QACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,iBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,eAAe,EAAC7nB,SAAA,EAC9EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,MACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,gBAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,cAAc,EAAC7nB,SAAA,EAC7EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,YACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,oBAG9ChG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,KAAMsE,UAAW,KACxFvB,QAAS,kBAAMnB,EAAKN,MAAMskB,oCAAoC,GAAG,EAAC7nB,UAClEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACihB,CAAA,CA1I4C,CAASziB,EAAAA,WA6IlDjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2C,SAAU,MACV1B,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb3B,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEbM,iBAAkB,CAChBK,kBAAmB,GACnBnB,WAAY,SACZC,eAAgB,SAChBmB,cAAe,OAEjBL,OAAQ,CACNL,OAAQ,IACRR,MAAO,IACPS,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBT,gBAAiBZ,EAAMrC,MACvB4D,aAAc,GAEhBc,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,e,6cC3NqB,IAEnB0hB,GAAoB,SAAA3kB,IAAAC,EAAAA,EAAAA,SAAA0kB,EAAA3kB,GAAA,IAAAE,EAAAC,GAAAwkB,GAEvC,SAAAA,EAAYvkB,GAAQ,IAADM,EAOsD,OAPtDL,EAAAA,EAAAA,SAAA,KAAAskB,IACjBjkB,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXkc,kBAAmB,GACnB0E,SAAUxkB,EAAMykB,gBAChBC,kBAAmB1kB,EAAMykB,iBAE3BnkB,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACzE,CAuGC,OAvGAH,EAAAA,EAAAA,SAAAokB,EAAA,EAAAnkB,IAAA,oBAAAC,MAED,WACA,GAAC,CAAAD,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAA+E,EAAwC3F,KAAKmD,MAArC4gB,EAAQpe,EAARoe,SACJG,GAD+Bve,EAAjBse,kBACY,IAC9BjkB,KAAK0E,SAAS,CAAE2a,kBAAmBze,IACnC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GACxBtZ,QAAQC,IAAI,YAAaC,KAAKmD,MAAM8gB,mBAEpCC,EAA0BH,EACrBnjB,GAMLsjB,EAA0BA,EAAwBtS,QAAO,SAAA/F,GACvD,OAAOA,EAAKsY,UAAUtjB,cAAc0Y,SAASH,IAAavN,EAAK1F,KAAKtF,cAAc0Y,SAASH,EAC7F,IACApZ,KAAK0E,SAAS,CACZuf,kBAAmBC,KATnBlkB,KAAK0E,SAAS,CACZuf,kBAAmBC,GAUzB,GAAC,CAAAvkB,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACC+gB,EAAiBpkB,KAAKT,MAAtB6kB,aACR5X,EAA2DxM,KAAKmD,MAAxDkc,EAAiB7S,EAAjB6S,kBAAmB4E,EAAiBzX,EAAjByX,kBAA2BzX,EAARuX,SAG9C,OAFAjkB,QAAQC,IAAI,iCAAkCC,KAAKmD,QAGjDxG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAEooB,KACvChkB,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAA,CAAmB,oBAAjBooB,EAAqCzhB,EAAAA,QAAAA,IAAS,WAAaA,EAAAA,QAAAA,IAAS,UAAU,IAAEA,EAAAA,QAAAA,IAAS,kBAErIvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOmhB,kBAC9BrgB,QAAS,kBAAMqC,EAAK9D,MAAM8kB,8BAA8B,GAAG,EAACroB,UAC5DW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,aAE1CL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAACmR,GAAU,OAAKvV,EAAKqc,wBAAwB9G,EAAW,EACtEhZ,MAAOyf,KAET1iB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPqC,EAAKqB,SAAS,CAAE2a,kBAAmB,KAAM,kBAAMhc,EAAKqc,wBAAwB,GAAG,IAC/E3F,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,iBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAEioB,EAAkBtP,OAAO,eAEnEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAEhB+T,KAAMqO,EACNnO,aAAc,SAACjK,EAAMiJ,GAAK,OAAKA,CAAK,EACpCkB,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOugB,aACfzf,QAAS,kBAAMqC,EAAK9D,MAAM8kB,8BAA8BxY,EAAMuY,EAAa,EAACpoB,SAAA,EAC5EoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAKsY,eAEtDxnB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4gB,kCAGxBnkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAK1F,UAGV/F,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,wBAEpBvkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,mCAGP,KAGvBzkB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMqC,EAAK9D,MAAM8kB,8BAA8B,GAAG,EAACroB,UAC5DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACmhB,CAAA,CAjHsC,CAAS3iB,EAAAA,WAoH5CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPQ,OAAQ,MACRlB,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdwc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBof,kBAAmB,CAEjBrf,MAAO,GACPQ,OAAQ,GACRP,aAAc,GACdsH,iBAAkB,EAClBzH,WAAY,SACZC,eAAgB,UAElB0e,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAOC,EAAM5C,OACbhB,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+e,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdsL,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfsC,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,Y,6cCtPf,IAAMgiB,IAAMC,EAAAA,GAAAA,WAESC,GAAI,SAAArlB,IAAAC,EAAAA,EAAAA,SAAAolB,EAAArlB,GAAA,IAAAE,EAAAC,GAAAklB,GACvB,SAAAA,EAAYjlB,GAAQ,IAADM,EA4CkD,OA5ClDL,EAAAA,EAAAA,SAAA,KAAAglB,IACjB3kB,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXlG,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjCoN,gBAAiB9K,EAAMiM,MAAMC,OAAOpB,gBACpCI,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzB1G,WAAYxE,EAAMiM,MAAMC,OAAO1H,WAC/B+J,QAASvO,EAAMiM,MAAMC,OAAOqC,QAC5BuI,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SAErCsG,cAAe,KACfwC,kBAAmB,KACnBuD,WAAY,GACZ0B,aAAc,GACdtF,mBAAoB,GAEpB2F,OAAQ,QACRzT,QAAS,MAGXnR,EAAKwX,iBAAmBxX,EAAKwX,iBAAiBlT,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAKyX,kBAAoBzX,EAAKyX,kBAAkBnT,MAAIC,EAAAA,EAAAA,SAAAvE,IACpDA,EAAKsZ,gBAAkBtZ,EAAKsZ,gBAAgBhV,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAK6kB,gBAAkB7kB,EAAK6kB,gBAAgBvgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAK2a,iBAAmB3a,EAAK2a,iBAAiBrW,MAAIC,EAAAA,EAAAA,SAAAvE,IAElDA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAK4c,2BAA6B5c,EAAK4c,2BAA2BtY,MAAIC,EAAAA,EAAAA,SAAAvE,IACtEA,EAAKud,wBAA0Bvd,EAAKud,wBAAwBjZ,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAKue,4BAA8Bve,EAAKue,4BAA4Bja,MAAIC,EAAAA,EAAAA,SAAAvE,IACxEA,EAAKyjB,2BAA6BzjB,EAAKyjB,2BAA2Bnf,MAAIC,EAAAA,EAAAA,SAAAvE,IACtEA,EAAK8jB,6BAA+B9jB,EAAK8jB,6BAA6Bxf,MAAIC,EAAAA,EAAAA,SAAAvE,IAC1EA,EAAKgkB,oCAAsChkB,EAAKgkB,oCAAoC1f,MAAIC,EAAAA,EAAAA,SAAAvE,IACxFA,EAAK+e,8BAAgC/e,EAAK+e,8BAA8Bza,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKwkB,8BAAgCxkB,EAAKwkB,8BAA8BlgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAK8hB,+BAAiC9hB,EAAK8hB,+BAA+Bxd,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9EA,EAAK4hB,6BAA+B5hB,EAAK4hB,6BAA6Btd,MAAIC,EAAAA,EAAAA,SAAAvE,IAC1EA,EAAKqgB,4BAA8BrgB,EAAKqgB,4BAA4B/b,MAAIC,EAAAA,EAAAA,SAAAvE,IACxEA,EAAKyiB,2BAA6BziB,EAAKyiB,2BAA2Bne,MAAIC,EAAAA,EAAAA,SAAAvE,IACtEA,EAAKqjB,2BAA6BrjB,EAAKqjB,2BAA2B/e,MAAIC,EAAAA,EAAAA,SAAAvE,IACtEA,EAAKujB,4BAA8BvjB,EAAKujB,4BAA4Bjf,MAAIC,EAAAA,EAAAA,SAAAvE,IAExEA,EAAK8kB,qBAAuB9kB,EAAK8kB,qBAAqBxgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC1DA,EAAK+kB,sBAAwB/kB,EAAK+kB,sBAAsBzgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACrE,CAk7DC,OAl7DAH,EAAAA,EAAAA,SAAA8kB,EAAA,EAAA7kB,IAAA,oBAAAC,MAED,WACE,IAAQ8F,EAAe1F,KAAKT,MAApBmG,WACRC,EAAyE3F,KAAKmD,MAAtEkH,EAAe1E,EAAf0E,gBAAiBtG,EAAU4B,EAAV5B,WAAY0G,EAAI9E,EAAJ8E,KAAmB9E,EAAbgX,cAAyBhX,EAAV+c,WAE5C,MAAV3e,GAAAA,EAAYqB,aACdyf,EAAAA,EAAOC,QAASC,EAAAA,GAAAA,SACd1a,EAAgB2R,eAAegJ,UAAU,EAAG3a,EAAgB2R,eAAeiJ,YAAY,aAAe,aACtG,CACEC,MAAO,CACL1a,OAAQC,EAAKD,OACb2a,UAAW9a,EAAgB+a,UAMnCplB,KAAKiL,IAAMvF,EAAWwF,YACpB,QACAlL,KAAKmL,SAAShH,KAAKnE,OAErBA,KAAKqlB,wBAGP,GAAC,CAAA1lB,IAAA,WAAAC,MAED,WACE,IAAQ+c,EAAkB3c,KAAKmD,MAAvBwZ,cACJA,GACF3c,KAAKqX,iBAAiBsF,GAExB3c,KAAK0E,SAAS,CACZsM,QAASrF,MAAS2J,OAAO,cAE3BxV,QAAQC,IAAI,UACd,GAAC,CAAAJ,IAAA,uBAAAC,MAED,WACEI,KAAKiL,MAED4Z,EAAAA,EAAOC,QACTD,EAAAA,EAAOC,OAAOQ,OAElB,GAAC,CAAA3lB,IAAA,yBAAAC,MAED,WACE,IAAA4M,EAA0BxM,KAAKmD,MAAvBsH,EAAI+B,EAAJ/B,KAAMqD,EAAOtB,EAAPsB,QACd,GAAIA,EAAQkW,gBAAgBrP,OAAS,EACnC3U,KAAK0E,SAAS,CACZ6gB,6BAA6B,EAC7BnB,aAAc,yBAEX,GAAuC,IAAnCtW,EAAQkW,gBAAgBrP,OAAc,CAAC,IAAD6Q,EAC3CC,EAAahb,EACjBgb,EAAWC,eAAwC,OAA1BF,EAAG1X,EAAQkW,sBAAe,EAAvBwB,EAA0B,GACtDxlB,KAAK0E,SAAS,CACZ+F,KAAMgb,GAEV,CACF,GAAC,CAAA9lB,IAAA,mBAAAC,MAAA,eAAA+lB,GAAArhB,EAAAA,EAAAA,UAED,UAAuBuH,GAAO,IAAD8N,EAAAtW,EAAA,KAC3B,GAAS,MAAJwI,GAAAA,EAAMoH,OAAX,CACuBjT,KAAKT,MAApBmG,WAAR,IACAiJ,EAA+C3O,KAAKmD,MAA5ClG,EAAY0R,EAAZ1R,aAAc8G,EAAU4K,EAAV5K,WAEhB6hB,EAA4D,OAA9CjM,EAFsBhL,EAAR0H,SAEF0C,MAAK,SAAAvc,GAAE,MAAiB,YAAbA,EAAGyd,KAAmB,UAAC,EAA3CN,EAA6CO,UAChE9M,EAAMnQ,EAAe,cAAgB4O,EAAKoH,OAC9C,OAAOzV,MAAM4P,EAAK,CAChB3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAECA,EAASiZ,YAIS,MAAnBD,GAA4D,MAAjChZ,EAASiZ,UAAUrV,WAAsD,MAAjC5D,EAASiZ,UAAUrV,YAUtFqU,EAAAA,EAAOC,QACTD,EAAAA,EAAOC,OAAOgB,KAAK,mBAAoB,CACrCrb,KAAMpH,EAAKF,MAAMsH,KACjBkS,cAAe/P,EAASiZ,UACxBnD,WAAY9V,EAASmZ,eACrBC,MAAOjiB,EAAWqB,WAAW+J,MAAM,OAGvC9L,EAAKqB,SAAS,CACZiY,cAAe/P,EAASiZ,UACxBnD,WAAY9V,EAASmZ,kBAvBrB1iB,EAAK4iB,cAyBT,GAtCuB,CAuC3B,IAAC,gBAAA5X,GAAA,OAAAsX,EAAAhhB,MAAA,KAAAC,UAAA,EA1CA,IA0CA,CAAAjF,IAAA,oBAAAC,MAED,SAAkBiM,EAAMqa,GACtB,IAAQxgB,EAAe1F,KAAKT,MAApBmG,WACRyR,EAAuDnX,KAAKmD,MAApDlG,EAAYka,EAAZla,aAAcwN,EAAI0M,EAAJ1M,KAAMqD,EAAOqJ,EAAPrJ,QAAS6O,EAAaxF,EAAbwF,cACtB,WAAXuJ,EACFlmB,KAAKmmB,cAActa,GACC,SAAXqa,EACTxgB,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,EAAeyJ,KAAM,MAAOxB,sBAAuB5kB,KAAK4kB,wBAChG,SAAXsB,GACTxgB,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,EAAeyJ,KAAM,QAErF,GAAC,CAAAzmB,IAAA,kBAAAC,MAED,SAAgBiM,EAAMqN,GAAQ,IAADmN,EAAAra,EAAA,KACnBtG,EAAe1F,KAAKT,MAApBmG,WACR6R,EAA6EvX,KAAKmD,MAA1EsH,EAAI8M,EAAJ9M,KAAM1G,EAAUwT,EAAVxT,WAAY9G,EAAYsa,EAAZta,aAAcoZ,EAAQkB,EAARlB,SAAUvI,EAAOyJ,EAAPzJ,QAAS6O,EAAapF,EAAboF,cACrDiJ,EAA4D,OAA9CS,EAAGhQ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,YAAbA,EAAGyd,KAAmB,UAAC,EAA3CoM,EAA6CnM,UAC9DoM,EAAmBxY,EAAQ0K,WAAW5G,QAAO,SAAApV,GAAE,QAAMA,EAAG+pB,OAAO5Y,OAASnR,EAAG+pB,OAAO5Y,QAAUlD,EAAKkD,QAAkC,MAAxBnR,EAAG+pB,OAAOC,SAAiB,IAG5I,GAFA1mB,QAAQC,IAAI8L,GAEP8Q,GAAoC,MAAnBiJ,EAStB,GAAKjJ,GAAoC,MAAnBiJ,EAKtB,GAAsB,MAAlB/Z,EAAK2X,SAKT,GAAI8C,EAAiBrG,MAAK,SAAAzjB,GAAE,MAA0B,MAAtBA,EAAG+pB,OAAOE,OAAe,KAAK3Y,EAAQ4Y,KAAKzG,MAAK,SAAAzjB,GAAE,IAAAmqB,EAAA,OAAInqB,EAAG+b,SAAW1M,EAAK0M,QAA6F,OAArB,OAA7DoO,EAAA7Y,EAAQ0K,WAAWO,MAAK,SAAA6N,GAAG,OAAIA,EAAIL,OAAOM,QAAUrqB,EAAGqqB,KAAK,UAAC,EAA7DF,EAA+DJ,OAAOE,QAAgB,IACxM/gB,EAAW0F,SAAS,OAAQ,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,EAAemK,aAAcjb,SAI1F,GAAKqN,EAEE,CACL,IAAI9L,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,eAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BkI,eAAgBtP,EAAKoH,OACrB+T,YAAiC,MAApBnb,EAAKob,YAAkF,MAA5BtK,EAAchF,WAAwC,MAAnBiO,EAAvE,IAAOjjB,EAAAA,QAAAA,IAAS,YAAW,KAAqG,GACpKukB,SAAU,IACVvP,UAA+B,MAApB9L,EAAKob,WAAqB,IAAMtK,EAAchF,WAE3Dna,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADua,EAC+C,OAAhB,OAA/CA,EAAA9Q,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CkN,EAAiDjN,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdpJ,EAAKyN,SACL,KAEJxZ,QAAQC,IAAI,8BAA+B6M,GACvCA,EAASE,QACXd,EAAKtH,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDmL,EAAKqL,iBAAiBsF,EACxB,GACJ,MAvCEjX,EAAW0F,SAAS,OAAQ,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,EAAemK,aAAcjb,SAVxFnG,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc8G,WAAAA,EAAY+J,QAAAA,EAAS6O,cAAAA,EAAemK,aAAcjb,SALrG7L,KAAKmmB,cAAcrY,EAAQwI,SAAS,GAAIzK,OATlB,MAAlBA,EAAK2X,SACP9d,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc8G,WAAAA,EAAY+J,QAAAA,EAAS6O,cAAAA,EAAemK,aAAcjb,IAErGnG,EAAW0F,SAAS,OAAQ,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,EAAemK,aAAcjb,GA6D9F,GAAC,CAAAlM,IAAA,kBAAAC,MAED,SAAgBwnB,GACd,IAAQ1hB,EAAe1F,KAAKT,MAApBmG,WACRkV,EAAuD5a,KAAKmD,MAApDsH,EAAImQ,EAAJnQ,KAAMxN,EAAY2d,EAAZ3d,aAAc6Q,EAAO8M,EAAP9M,QAAS6O,EAAa/B,EAAb+B,cAChCA,IACDyK,EACkB,QAAhBtoB,EAAAA,QAASC,IACX2G,EAAW0F,SAAS,OAAQ,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,IAG7D3c,KAAK0E,SAAS,CACZ2iB,2BAA2B,IAGjC,GAAC,CAAA1nB,IAAA,mBAAAC,MAED,WACE,IAAQ8F,EAAe1F,KAAKT,MAApBmG,WACRwV,EAAuDlb,KAAKmD,MAApDsH,EAAIyQ,EAAJzQ,KAAMxN,EAAYie,EAAZje,aAAc6Q,EAAOoN,EAAPpN,QAAS6O,EAAazB,EAAbyB,cAErCjX,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,GAE9D,GAAC,CAAAhd,IAAA,eAAAC,MAED,WAEMilB,EAAAA,EAAOC,QACTD,EAAAA,EAAOC,OAAOgB,KAAK,mBAAoB,CACrCrb,KAAMzK,KAAKmD,MAAMsH,KACjBkS,cAAe,KACf+F,WAAY,GACZsD,MAAOhmB,KAAKmD,MAAMY,WAAWqB,WAAW+J,MAAM,OAGlDnP,KAAK0E,SAAS,CACZiY,cAAe,KACf+F,WAAY,IAEhB,GAAC,CAAA/iB,IAAA,gBAAAC,MAED,SAAc0nB,EAASzb,GAAO,IAADa,EAAA,KACnBhH,EAAe1F,KAAKT,MAApBmG,WACRoW,EAA8D9b,KAAKmD,MAA3DY,EAAU+X,EAAV/X,WAAY9G,EAAY6e,EAAZ7e,aAAcwN,EAAIqR,EAAJrR,KAAM4L,EAAQyF,EAARzF,SAAUvI,EAAOgO,EAAPhO,QAC9CV,EAAMnQ,EAAe,uBACnBU,EAAO,CACX6M,OAAQC,EAAKD,OACb0M,UAAWoQ,EAAQpQ,WAErB1Z,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD2a,EAAAC,EAC+C,OAAhB,OAA/CD,EAAAlR,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CsN,EAAiDrN,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACS,OADF0a,EAChB5a,EAASiZ,gBAAS,EAAlB2B,EAAoBvS,SAEpBrI,EAASE,QACXJ,EAAKhI,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAIrD6E,EAAW0F,SAAS,YAEhByZ,EAAAA,EAAOC,QACTD,EAAAA,EAAOC,OAAOgB,KAAK,mBAAoB,CACrCrb,KAAMiC,EAAKvJ,MAAMsH,KACjBkS,cAAe/P,EAASiZ,UACxBnD,WAAY9V,EAASmZ,eACrBC,MAAOjiB,EAAWqB,WAAW+J,MAAM,OAGvCzC,EAAKhI,SAAS,CACZ+f,OAAQ,OACR9H,cAAe/P,EAASiZ,UACxBnD,WAAY9V,EAASmZ,eACrB/U,QAASrF,MAAS2J,OAAO,cACxB,WACGzJ,IACoB,MAAlBA,EAAK2X,SACP9d,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc8G,WAAAA,EAAY+J,QAAAA,EAAS6O,cAAe/P,EAASiZ,UAAWiB,aAAcjb,IAEzHnG,EAAW0F,SAAS,OAAQ,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAe/P,EAASiZ,UAAWiB,aAAcjb,IAGlH,IACF,GACJ,GAAC,CAAAlM,IAAA,wBAAAC,MAED,SAAsBiM,GACpB,OAAKA,EACDA,EAAKyE,UAAkB5P,EAAMvC,MACV,MAAnB0N,EAAK0E,UAA0B7P,EAAMtC,QAClB,MAAnByN,EAAK2E,UACA9P,EAAM5C,OACe,MAAnB+N,EAAK2E,UACP9P,EAAM3C,SACe,MAAnB8N,EAAK2E,UACP9P,EAAM1C,SACe,MAAnB6N,EAAK2E,UACP9P,EAAMzC,KACe,MAAnB4N,EAAK2E,UACP9P,EAAMxC,iBADR,EAXWwC,EAAM9B,KAc1B,GAAC,CAAAe,IAAA,yBAAAC,MAGD,SAAuBiM,GACrB,MAAuB,MAAnBA,EAAK8L,UAWAhV,EAAAA,QAAAA,IAAS,GAAGkJ,EAAK2E,WAAaiX,EAAE,WAVhB,MAAnB5b,EAAK0E,UACA5N,EAAAA,QAAAA,IAAS,SACY,MAAnBkJ,EAAK0E,UACY,MAAtB1E,EAAK+Q,aACAja,EAAAA,QAAAA,IAAS,WAAa,MAEtBA,EAAAA,QAAAA,IAAS,gBAJb,CAUX,GAAC,CAAAhD,IAAA,4BAAAC,MAED,SAA0BiM,GACxB,MAAqB,MAAjBA,EAAK6b,QACAhnB,EAAM3C,SAES,MAApB8N,EAAK0X,WACA7iB,EAAM1C,SAER0C,EAAM5C,MACf,GAAC,CAAA6B,IAAA,iBAAAC,MAED,SAAeiM,GAAO,IAAD8b,EACXjiB,EAAe1F,KAAKT,MAApBmG,WACA2Q,EAAarW,KAAKmD,MAAlBkT,SACK,SAATxK,GAA8E,OAAhB,OAA3C8b,EAAAtR,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,YAAbA,EAAGyd,KAAmB,UAAC,EAA3C0N,EAA6CzN,YAClEla,KAAK0E,SAAS,CACZ+f,OAAQ,QACRzT,QAASrF,MAAS2J,OAAO,cAE3B5P,EAAW0F,SAAS,eAEpBpL,KAAK0E,SAAS,CAAE+f,OAAQ,SACxB/e,EAAW0F,SAAS,YAExB,GAAC,CAAAzL,IAAA,cAAAC,MAED,SAAYiM,GACV7L,KAAK0E,SAAS,CACZya,kBAAmBtT,EACnB+b,0BAA0B,GAE9B,GAAC,CAAAjoB,IAAA,kBAAAC,MAED,SAAgBmgB,GAAc,IAADtR,EAAA,KACnB/I,EAAe1F,KAAKT,MAApBmG,WACRmiB,EAAmD7nB,KAAKmD,MAAhDlG,EAAY4qB,EAAZ5qB,aAAcwN,EAAIod,EAAJpd,KAAMqD,EAAO+Z,EAAP/Z,QAASuI,EAAQwR,EAARxR,SACrC,GAAwB,MAAlB5L,EAAKuV,UAAoBlS,EAAQmR,WAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,aAAbA,EAAGojB,KAAoB,KAAOG,EAA3F,CAOA,IAAI3S,EAAMnQ,EAAe,qBACnBU,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZH,OAAQ9C,EAAK8C,QAEf/P,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADkb,EAChBhoB,QAAQC,IAAI,iCAAkC6M,GACiB,OAAhB,OAA/Ckb,EAAAzR,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C6N,EAAiD5N,YAC/Cld,EACEC,EACA,iBACAwN,EAAKoV,SACLjT,EAASE,SAETF,EAASE,QACX2B,EAAK/J,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrD6E,EAAW0F,SAAS,WAAY,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAASia,iBAAkBnb,EAASob,eAAgBC,oBAAqBrb,EAASsb,mBAC1I,GA/BF,MALEloB,KAAK0E,SAAS,CACZ+a,6BAA6B,EAC7BX,mBAAoB,YAmC1B,GAAC,CAAAnf,IAAA,mBAAAC,MAED,WACE,IAAQ+c,EAAkB3c,KAAKmD,MAAvBwZ,cACJjZ,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM+B,EAAAA,QAAAA,IAAS,SAAUiB,WAAY,qBACpDF,EAAQoB,KAAK,CAAElE,KAAM+B,EAAAA,QAAAA,IAAS,WAAYiB,WAAY,uBACtD5D,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAU,mBACV3C,KAAM,+BAAiC+b,EAAc1H,QACrDzR,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,GAEzB,GAAC,CAAAtE,IAAA,iBAAAC,MAED,SAAeuoB,EAASpI,GAAc,IAADpF,EAAA,KAC3BjV,EAAe1F,KAAKT,MAApBmG,WACR0iB,EACiCpoB,KAAKmD,MAD9BlG,EAAYmrB,EAAZnrB,aAAcoN,EAAe+d,EAAf/d,gBAAiBI,EAAI2d,EAAJ3d,KAAMqD,EAAOsa,EAAPta,QAASuI,EAAQ+R,EAAR/R,SACpDsG,EAAayL,EAAbzL,cAAe+F,EAAU0F,EAAV1F,WAEjB,GAAK/F,EAML,GAAgC,MAA5BA,EAAcnM,UAMlB,GAAKkS,GAAoC,IAAtBA,EAAW/N,OAM9B,GAAIgI,EAAc0L,WAChBroB,KAAK0E,SAAS,CACZV,+BAAgC,wBAA0B2Y,EAAc0L,kBAI5E,GAAwB,MAAlB5d,EAAKuV,UAAoBlS,EAAQmR,WAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,YAAbA,EAAGojB,KAAmB,KAAOG,EAA1F,CAQA,IAAI3S,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,iBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BkR,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,WAE3F3mB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD0b,EAChBxoB,QAAQC,IAAI,gCAAiC6M,GACkB,OAAhB,OAA/C0b,EAAAjS,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CqO,EAAiDpO,YAC/Cld,EACEC,EACA,gBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACX6N,EAAKjW,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrD8Z,EAAKjW,SAAS,CACZiY,cAAe/P,EAASiZ,UACxB0C,QAAS3b,EAAS4b,mBACjB,kBAAM9iB,EAAW0F,SAAS,MAAO,CAAEX,KAAAA,EAAMxN,aAAAA,EAAcoN,gBAAAA,EAAiByD,QAAAA,EAAS6O,cAAe/P,EAASiZ,UAAW0C,QAAS3b,EAAS4b,kBAAmB,GAC9J,GApCF,MALExoB,KAAK0E,SAAS,CACZoa,mBAAoB,UACpBW,6BAA6B,SAd/Bzf,KAAK0E,SAAS,CACZV,+BAAgC,wBAPlChE,KAAK0E,SAAS,CACZV,+BAAgC,4BAPlChE,KAAK0E,SAAS,CACZV,+BAAgC,mBAiEtC,GAAC,CAAArE,IAAA,sBAAAC,MAED,SAAoB6oB,GAAY,IAADxN,EAAA,KAC7ByN,EAAiE1oB,KAAKmD,MAA9DsH,EAAIie,EAAJje,KAAMxN,EAAYyrB,EAAZzrB,aAAc0f,EAAa+L,EAAb/L,cAAwBtG,GAAFqS,EAAP5a,QAAiB4a,EAARrS,UAChDjJ,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,uBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbmD,MAAOlD,EAAKkD,MACZgb,YAAaF,EACbjT,IAAK,GACLoT,MAAO,GACPzS,QAAS,GACT0S,MAAO,GACPC,gBAAiB,GACjBC,SAAU,IAEZvrB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADoc,EAChBlpB,QAAQC,IAAI,sCAAuC6M,GACY,OAAhB,OAA/Coc,EAAA3S,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C+O,EAAiD9O,YAC/Cld,EACEC,EACA,sBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACAwT,GAEA7b,EAASE,QACc,oBAArBF,EAASE,SACXmO,EAAKgL,eACLhL,EAAKgO,eAAe,SAEpBhO,EAAKvW,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKvDoa,EAAKvW,SAAS,CACZsM,QAASrF,MAAS2J,OAAO,cAE3B2F,EAAK5D,iBAAiBsF,GACxB,GACJ,GAAC,CAAAhd,IAAA,oBAAAC,MAED,WAAqB,IAADic,EAAA,KAClBqN,EAAoFlpB,KAAKmD,MAAjFlG,EAAYisB,EAAZjsB,aAAcwN,EAAIye,EAAJze,KAAe4L,GAAF6S,EAAPpb,QAAiBob,EAAR7S,UAAU8I,EAAiB+J,EAAjB/J,kBAAmBxC,EAAauM,EAAbvM,cAClE3c,KAAK0E,SAAS,CACZkjB,0BAA0B,IAG5B,IAAIxa,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,gBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BkW,oBAAqBhK,EAAkBlM,QAEzCzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADwc,EAChBtpB,QAAQC,IAAI,+BAAgC6M,GACmB,OAAhB,OAA/Cwc,EAAA/S,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CmP,EAAiDlP,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdkK,EAAkB7F,UAElB1M,EAASE,QACX+O,EAAKnX,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAIrDgb,EAAKnX,SAAS,CACZya,kBAAmB,GACnBnO,QAASrF,MAAS2J,OAAO,cAE3BuG,EAAKxE,iBAAiBsF,GACxB,GACJ,GAAC,CAAAhd,IAAA,uBAAAC,MAED,WAAwB,IAADypB,EAAA,KACrBC,EAAoFtpB,KAAKmD,MAAjFlG,EAAYqsB,EAAZrsB,aAAcwN,EAAI6e,EAAJ7e,KAAe4L,GAAFiT,EAAPxb,QAAiBwb,EAARjT,UAAU8I,EAAiBmK,EAAjBnK,kBAAmBxC,EAAa2M,EAAb3M,cAClE3c,KAAK0E,SAAS,CACZkjB,0BAA0B,IAG5B,IAAIxa,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,kBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BkW,oBAAqBhK,EAAkBlM,QAEzCzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD2c,EAChBzpB,QAAQC,IAAI,iCAAkC6M,GACiB,OAAhB,OAA/C2c,EAAAlT,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CsP,EAAiDrP,YAC/Cld,EACEC,EACA,iBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdkK,EAAkB7F,UAElB1M,EAASE,QACXuc,EAAK3kB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAIrDwoB,EAAK3kB,SAAS,CACZya,kBAAmB,KAErBkK,EAAKhS,iBAAiBsF,GACxB,GACJ,GAAC,CAAAhd,IAAA,oBAAAC,MAED,WAAqB,IAAD4pB,EAAA,KAClBC,EAAoFzpB,KAAKmD,MAAjFlG,EAAYwsB,EAAZxsB,aAAcwN,EAAIgf,EAAJhf,KAAe4L,GAAFoT,EAAP3b,QAAiB2b,EAARpT,UAAUsG,EAAa8M,EAAb9M,cAAewC,EAAiBsK,EAAjBtK,kBAC9Dnf,KAAK0E,SAAS,CACZkjB,0BAA0B,IAE5B,IAAI8B,EAAe,IACiB,MAAhCvK,EAAkBwK,YACpBD,EAAe,KAEjB,IAAItc,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,qBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BkW,oBAAqBhK,EAAkBlM,OACvC0W,UAAWD,GAEblsB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADgd,EAChB9pB,QAAQC,IAAI,oCAAqC6M,GACc,OAAhB,OAA/Cgd,EAAAvT,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C2P,EAAiD1P,YAC/Cld,EACEC,EACA,aACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdkK,EAAkB7F,UAElB1M,EAASE,QACX0c,EAAK9kB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrD2oB,EAAKnS,iBAAiBzK,EAASiZ,UACjC,GACJ,GAAC,CAAAlmB,IAAA,cAAAC,MAED,SAAYuoB,GAAU,IAAD0B,EAAA,KACnBC,EAAiE9pB,KAAKmD,MAA9DsH,EAAIqf,EAAJrf,KAAMxN,EAAY6sB,EAAZ7sB,aAAc6Q,EAAOgc,EAAPhc,QAASuI,EAAQyT,EAARzT,SAAUsG,EAAamN,EAAbnN,cAC/C,GAAKA,GAA8C,OAAhB,MAAbA,OAAa,EAAbA,EAAenM,WACrC,GAAI1C,EAAQkW,gBAAgBrP,OAAS,IAAMwT,IAAY1d,EAAKib,eAC1D1lB,KAAK0E,SAAS,CACZ0f,aAAc,aACdmB,6BAA6B,QAHjC,CAOA,IAAInY,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,cAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZoZ,gBAAiBpK,EAAc1J,OAC/BkR,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,WAE3F3mB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADmd,EAChBjqB,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/Cmd,EAAA1T,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C8P,EAAiD7P,YAC/Cld,EACEC,EACA,aACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACX+c,EAAKnlB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDgpB,EAAKxS,iBAAiBsF,EACxB,GAlCF,CAmCF,GAAC,CAAAhd,IAAA,eAAAC,MAED,SAAauoB,EAASpI,GAAc,IAADiK,EAAA,KACjCC,EAAkDjqB,KAAKmD,MAA/CsH,EAAIwf,EAAJxf,KAAMxN,EAAYgtB,EAAZhtB,aAAc6Q,EAAOmc,EAAPnc,QAASuI,EAAQ4T,EAAR5T,SACrC,GAAIvI,EAAQkW,gBAAgBrP,OAAS,IAAMwT,IAAY1d,EAAKib,eAC1D1lB,KAAK0E,SAAS,CACZ6gB,6BAA6B,EAC7BnB,aAAc,qBAIlB,GAAwB,MAAlB3Z,EAAKuV,UAAoBlS,EAAQmR,WAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,eAAbA,EAAGojB,KAAsB,KAAOG,EAA7F,CAOA,IAAI3S,EAAMnQ,EAAe,sBACnBU,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZJ,OAAQ9C,EAAK8C,OACb4W,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,WAE3F3mB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADsd,EAChBpqB,QAAQC,IAAI,kCAAmC6M,GACgB,OAAhB,OAA/Csd,EAAA7T,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CiQ,EAAiDhQ,YAC/Cld,EACEC,EACA,kBACAwN,EAAKoV,SACLjT,EAASE,SAETF,EAASE,SACXkd,EAAKtlB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,eAIvD,GAhCF,MALEb,KAAK0E,SAAS,CACZ+a,6BAA6B,EAC7BX,mBAAoB,cAoC1B,GAAC,CAAAnf,IAAA,mBAAAC,MAED,WACE,IAAQ+c,EAAkB3c,KAAKmD,MAAvBwZ,cACR3c,KAAKod,wBAAwB,IAAKT,EAAcxG,QAASwG,EAAcE,SAAUF,EAAcC,aAAcD,EAAcG,QAAUnR,IAAOgR,EAAcG,SAASxH,OAAO,cAAgB,GAAIqH,EAAcI,YAAaJ,EAAcK,UAAWL,EAAcM,UAClQ,GAAC,CAAAtd,IAAA,qBAAAC,MAED,WACEI,KAAK0E,SAAS,CACZylB,uBAAuB,GAE3B,GAAC,CAAAxqB,IAAA,cAAAC,MAED,WACE,IAAAwqB,EAAuDpqB,KAAKmD,MAAvBwZ,GAAjByN,EAAZntB,aAAkBmtB,EAAJ3f,KAAa2f,EAAPtc,QAAsBsc,EAAbzN,eACrC,GAAKA,GAA2C,MAA1BA,EAAc0N,QAApC,CAIA,IAAI3mB,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM,MAAOgD,WAAY,gBACxC5D,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAU,aACV3C,KAAM,wBAA0B+b,EAAc1H,QAAU,KACxDzR,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,GAZvB,MAFEnE,QAAQC,IAAI,mCAgBhB,GAAC,CAAAJ,IAAA,cAAAC,MAED,SAAYuoB,GAAU,IAADmC,EAAAC,EAAA,KACnBC,EAAiExqB,KAAKmD,MAA9DlG,EAAYutB,EAAZvtB,aAAcwN,EAAI+f,EAAJ/f,KAAMkS,EAAa6N,EAAb7N,cAAe7O,EAAO0c,EAAP1c,QAASuI,EAAQmU,EAARnU,SAGhDoU,EAAsG,OAApB,OAArEH,EAAAxc,EAAQwI,SAASyC,MAAK,SAAAvc,GAAE,OAAIA,EAAG0a,YAAcyF,EAAczF,SAAS,UAAC,EAArEoT,EAAuEI,eAExF,GAAI5c,EAAQkW,gBAAgBrP,OAAS,IAAMwT,IAAY1d,EAAKib,gBAAkB+E,EAC5EzqB,KAAK0E,SAAS,CACZ0f,aAAc,aACdmB,6BAA6B,QAHjC,CAQA,IAAInY,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,cAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZoZ,gBAAiBpK,EAAc1J,OAC/BkR,UAAWsG,IAAgBhgB,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,YAE1G3mB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+d,EAChB7qB,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/C+d,EAAAtU,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C0Q,EAAiDzQ,YAC/Cld,EACEC,EACA,aACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACXyd,EAAK7lB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAKrD0pB,EAAK7lB,SAAS,CACZiY,cAAe/P,EAASiZ,UACxBnD,WAAY9V,EAASmZ,gBAEzB,GAvCF,CAwCF,GAAC,CAAApmB,IAAA,kBAAAC,MAED,SAAgBmgB,GACd,IAAQra,EAAe1F,KAAKT,MAApBmG,WACRklB,EACmD5qB,KAAKmD,MADhDsH,EAAImgB,EAAJngB,KAAMxN,EAAY2tB,EAAZ3tB,aAAc6Q,EAAO8c,EAAP9c,QAAS/J,EAAU6mB,EAAV7mB,WACnC2e,EAAUkI,EAAVlI,WAAY/F,EAAaiO,EAAbjO,cAAewC,EAAiByL,EAAjBzL,kBAC7Bnf,KAAK0E,SAAS,CACZkjB,0BAA0B,IAES,MAAjCzI,EAAkBoE,YACI,MAAlB9Y,EAAKuV,UAAoBlS,EAAQmR,WAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,aAAbA,EAAGojB,KAAoB,KAAOG,EAQzD,OAAf,MAAjBZ,OAAiB,EAAjBA,EAAmBqE,UACrB9d,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS/J,WAAAA,EAAY4Y,cAAAA,EAAemK,aAAchZ,EAAQuK,MAAMU,MAAK,SAAAvc,GAAE,OAAIA,EAAG+b,SAAW4G,EAAkB5G,MAAM,IAAG4G,kBAAAA,EAAmBuD,WAAAA,IAE1Lhd,EAAW0F,SAAS,OAAQ,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,EAAemK,aAAchZ,EAAQuK,MAAMU,MAAK,SAAAvc,GAAE,OAAIA,EAAG+b,SAAW4G,EAAkB5G,MAAM,IAAG4G,kBAAAA,IAVxJnf,KAAK0E,SAAS,CACZ+a,6BAA6B,EAC7BX,mBAAoB,YAU5B,GAAC,CAAAnf,IAAA,oBAAAC,MAED,SAAkBmgB,GAAc,IAAD8K,EAAA,KAC7BC,EAAgG9qB,KAAKmD,MAA7FlG,EAAY6tB,EAAZ7tB,aAAcwN,EAAIqgB,EAAJrgB,KAAM0U,EAAiB2L,EAAjB3L,kBAAmBxC,EAAamO,EAAbnO,cAAe7O,EAAOgd,EAAPhd,QAASuI,EAAQyU,EAARzU,SAAoByU,EAAV7L,WAEjF,GAAqC,MAAjCE,EAAkBoE,YAEI,MAAlB9Y,EAAKuV,UAAoBlS,EAAQmR,WAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,aAAbA,EAAGojB,KAAoB,KAAOG,EAF7F,CAWA,IAAI3S,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,eAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZoZ,gBAAiBpK,EAAc1J,OAC/BkW,oBAAqBhK,EAAkBlM,OACvC8M,YAAaA,GAEfviB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADme,EAChBjrB,QAAQC,IAAI,8BAA+B6M,GACoB,OAAhB,OAA/Cme,EAAA1U,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C8Q,EAAiD7Q,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdkK,EAAkB7F,UAElB1M,EAASE,QACX+d,EAAKnmB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDgqB,EAAKxT,iBAAiBzK,EAASiZ,UACjC,GArCF,MANI7lB,KAAK0E,SAAS,CACZ+a,6BAA6B,EAC7BX,mBAAoB,YA0C5B,GAAC,CAAAnf,IAAA,gCAAAC,MAED,SAA8BuoB,EAAS6C,GACrC,IAAAC,EAAgCjrB,KAAKmD,MAAdsH,GAAFwgB,EAAbtO,cAAmBsO,EAAJxgB,MACvB,GAAK0d,GAaL,GALAnoB,KAAK0E,SAAS,CACZ0f,aAAc,GACd8G,gBAAiB/C,EACjB5C,6BAA6B,IAEf,eAAZyF,EACFhrB,KAAKmrB,YAAYhD,QACZ,GAAgB,eAAZ6C,EACThrB,KAAKorB,YAAYjD,QACZ,GAAgB,kBAAZ6C,EACThrB,KAAKqrB,eAAelD,QACf,GAAgB,gBAAZ6C,EACThrB,KAAKsrB,aAAanD,QACb,GAAgB,oBAAZ6C,EAA+B,CACxC,IAAIvF,EAAahb,EACjBgb,EAAWC,eAAiByC,EAC5BnoB,KAAK0E,SAAS,CACZ+F,KAAMgb,GAEV,OA1BEzlB,KAAK0E,SAAS,CACZ0f,aAAc,GACd8G,gBAAiB,GACjB3F,6BAA6B,GAwBnC,GAAC,CAAA5lB,IAAA,gCAAAC,MAED,SAA8BgB,GAAO,IAAD2qB,EAAA,KAClCC,EACuCxrB,KAAKmD,MADpCsH,EAAI+gB,EAAJ/gB,KAAMxN,EAAYuuB,EAAZvuB,aAAuBoZ,GAAFmV,EAAP1d,QAAiB0d,EAARnV,UAAUyI,EAAkB0M,EAAlB1M,mBAAoBoM,EAAeM,EAAfN,gBACjEvO,EAAa6O,EAAb7O,cAAewC,EAAiBqM,EAAjBrM,kBACjB,GAAKve,EAAL,CAMA,IAAIwM,EAAMnQ,EAAe,iBACnBU,EAAO,CACXgQ,MAAOlD,EAAKkD,MACZrD,WAAY1J,EACZgf,MAAOd,GAETthB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD6e,EAChB3rB,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/C6e,EAAApV,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CwR,EAAiDvR,YAC/Cld,EACEC,EACA,kBAAoB6hB,EACpBrU,EAAKoV,SACLjT,EAASE,QACI,MAAb6P,OAAa,EAAbA,EAAe1H,QACE,MAAjBkK,OAAiB,EAAjBA,EAAmB7F,SACnB1M,EAASpC,QAEToC,EAASE,QACXye,EAAK7mB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrD0qB,EAAK7mB,SAAS,CACZ+a,6BAA6B,IAEJ,eAAvBX,EACFyM,EAAKD,aAAaJ,EAAiBte,EAASpC,QACZ,YAAvBsU,EACTyM,EAAKF,eAAeH,EAAiBte,EAASpC,QACd,aAAvBsU,EACTyM,EAAKG,gBAAgB9e,EAASpC,QACE,aAAvBsU,EACTyM,EAAKI,kBAAkB/e,EAASpC,QACA,aAAvBsU,GACTyM,EAAKK,gBAAgBhf,EAASpC,QAElC,GAhDF,MAJExK,KAAK0E,SAAS,CACZ+a,6BAA6B,GAoDnC,GAAC,CAAA9f,IAAA,sCAAAC,MAED,SAAoCgB,GAClC,IAAQ8E,EAAe1F,KAAKT,MAApBmG,WACRmmB,EAAmE7rB,KAAKmD,MAAhElG,EAAY4uB,EAAZ5uB,aAAcwN,EAAIohB,EAAJphB,KAAMqD,EAAO+d,EAAP/d,QAAS6O,EAAakP,EAAblP,cAAyBkP,EAAVnJ,WAEpD1iB,KAAK0E,SAAS,CACZonB,mCAAmC,IAEhClrB,IAGQ,gBAATA,EACF8E,EAAW0F,SAAS,UAAW,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,IACnC,aAATlN,EACT8E,EAAW0F,SAAS,OAAQ,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6W,qBAAsB3kB,KAAK2kB,uBACpE,gBAAT/jB,EACT8E,EAAW0F,SAAS,UAAW,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,IACnC,iBAATlN,EACTZ,KAAK0rB,kBACa,gBAAT9qB,EACT8E,EAAW0F,SAAS,SAAU,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,IAClC,eAATlN,EACTZ,KAAKsrB,eACa,iBAAT1qB,EACT8E,EAAW0F,SAAS,UAAW,CAAEX,KAAAA,EAAMxN,aAAAA,IACrB,iBAAT2D,EACT8E,EAAW0F,SAAS,WAAY,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,IACpC,WAATlN,EACT8E,EAAWO,SACO,gBAATrF,EACT8E,EAAW0F,SAAS,QAAS,CAAEM,KAAM,IAAIqgB,OACvB,cAATnrB,EACT8E,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc0f,cAAAA,IACjC,cAAT/b,GACT8E,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,IAEvD,GAAC,CAAAnO,IAAA,+BAAAC,MAAA,eAAAosB,GAAA1nB,EAAAA,EAAAA,UAED,UAAmC1D,GACjC,IAAQ8E,EAAe1F,KAAKT,MAApBmG,WACRumB,EAAmEjsB,KAAKmD,MAAhElG,EAAYgvB,EAAZhvB,aAAcwN,EAAIwhB,EAAJxhB,KAAMqD,EAAOme,EAAPne,QAAS6O,EAAasP,EAAbtP,cAAe+F,EAAUuJ,EAAVvJ,WAEpD1iB,KAAK0E,SAAS,CACZwnB,4BAA4B,IAEzBtrB,IAGQ,mBAATA,EACF8E,EAAW0F,SAAS,aAAc,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS4U,WAAAA,EAAY/F,cAAAA,IAC3D,iBAAT/b,EACT8E,EAAW0F,SAAS,WAAY,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS4U,WAAAA,EAAY/F,cAAAA,IACzD,mBAAT/b,EACTZ,KAAK0E,SAAS,CACZynB,8BAA8B,IAEd,cAATvrB,EACTZ,KAAKorB,cACa,cAATxqB,SACHZ,KAAKqX,iBAAiBsF,GAC5BjX,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,EAAeyJ,KAAM,MAAOxB,sBAAuB5kB,KAAK4kB,yBAClG,cAAThkB,EACT8E,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,EAAeyJ,KAAM,SAC/D,eAATxlB,EACTZ,KAAKosB,oBAAoB,KACP,iBAATxrB,EACTZ,KAAKosB,oBAAoB,KACP,iBAATxrB,EACTZ,KAAKosB,oBAAoB,KACP,eAATxrB,EACTZ,KAAK0E,SAAS,CACZ2nB,0BAA0B,IAEV,eAATzrB,EACTZ,KAAK0E,SAAS,CACZ4nB,0BAA0B,IAEV,gBAAT1rB,GACTZ,KAAK0E,SAAS,CACZ6nB,2BAA2B,IAGjC,IAAC,gBAAAje,GAAA,OAAA0d,EAAArnB,MAAA,KAAAC,UAAA,EA9CA,IA8CA,CAAAjF,IAAA,6BAAAC,MAED,SAA2BgB,GACFZ,KAAKT,MAApBmG,WAAR,IACA8mB,EAAoFxsB,KAAKmD,MAA3Bgc,GAA1CqN,EAAZvvB,aAAkBuvB,EAAJ/hB,KAAc+hB,EAARnW,SAAiBmW,EAAP1e,QAAsB0e,EAAb7P,cAAgC6P,EAAjBrN,mBAC9D,GAAKve,EAML,GAAa,aAATA,EAAqB,CACvB,IAAI8C,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM,MAAOgD,WAAY,sBACxC5D,KAAK0E,SAAS,CACZkjB,0BAA0B,EAC1B1jB,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAU,cACV3C,KAAM,UAAYue,EAAkB7F,SAAW,KAC/C9V,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,GAEzB,KAAoB,aAATrD,EACTZ,KAAK4rB,kBACa,eAAThrB,EACTZ,KAAKysB,oBACa,gBAAT7rB,EACTZ,KAAK0E,SAAS,CACZgoB,2BAA2B,EAC3B9E,0BAA0B,IAEV,iBAAThnB,EACTZ,KAAK0E,SAAS,CACZioB,4BAA4B,EAC5B/E,0BAA0B,IAEV,cAAThnB,EACTZ,KAAK4sB,oBACa,kBAAThsB,GACTZ,KAAK6sB,4BArCL7sB,KAAK0E,SAAS,CACZkjB,0BAA0B,GAsChC,GAAC,CAAAjoB,IAAA,+BAAAC,MAED,SAA6BgB,EAAMmf,GAAc,IAAD+M,EAAA,KAE9C,GADA9sB,KAAK0E,SAAS,CAAEioB,4BAA4B,IACvC/rB,EAAL,CAGA,IAAAmsB,EAAoF/sB,KAAKmD,MAAjFlG,EAAY8vB,EAAZ9vB,aAAcwN,EAAIsiB,EAAJtiB,KAAe4L,GAAF0W,EAAPjf,QAAiBif,EAAR1W,UAAUsG,EAAaoQ,EAAbpQ,cAAewC,EAAiB4N,EAAjB5N,kBAE1D/R,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,iBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACb4V,OAAQxf,EAAKwf,OACb4M,KAAMpsB,EAAKqsB,QACXlG,gBAAiBpK,EAAc1J,OAC/BkW,oBAAqBhK,EAAkBlM,OACvC8M,YAAaA,EACbwB,QAAS3gB,EAAK2gB,SAEhB/jB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADsgB,EAChBptB,QAAQC,IAAI,gCAAiC6M,GACkB,OAAhB,OAA/CsgB,EAAA7W,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CiT,EAAiDhT,YAC/Cld,EACEC,EACA,gBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdkK,EAAkB7F,SAClB1Y,EAAKwf,QAELxT,EAASE,QACXggB,EAAKpoB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDisB,EAAKzV,iBAAiBsF,EACxB,GAxCF,CAyCF,GAAC,CAAAhd,IAAA,iCAAAC,MAED,SAA+BgB,EAAMmf,GAAc,IAADoN,EAAA,KAEhD,GADAntB,KAAK0E,SAAS,CAAEynB,8BAA8B,IACzCvrB,EAAL,CAGA,IAAAwsB,EAAiEptB,KAAKmD,MAA9DlG,EAAYmwB,EAAZnwB,aAAcwN,EAAI2iB,EAAJ3iB,KAAe4L,GAAF+W,EAAPtf,QAAiBsf,EAAR/W,UAAUsG,EAAayQ,EAAbzQ,cAC3CvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,mBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACb4V,OAAQxf,EAAKwf,OACb4M,KAAMpsB,EAAKqsB,QACXlG,gBAAiBpK,EAAc1J,OAC/B8M,YAAaA,EACbwB,QAAS3gB,EAAK2gB,SAEhB/jB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADygB,EAChBvtB,QAAQC,IAAI,kCAAmC6M,GACgB,OAAhB,OAA/CygB,EAAAhX,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CoT,EAAiDnT,YAC/Cld,EACEC,EACA,kBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACArU,EAAKwf,QAELxT,EAASE,QACXqgB,EAAKzoB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDssB,EAAK9V,iBAAiBsF,EACxB,GAtCF,CAuCF,GAAC,CAAAhd,IAAA,8BAAAC,MAED,SAA4BgB,EAAMiL,EAAMkU,GAAc,IAADuN,EAAA,KAEnD,GADAttB,KAAK0E,SAAS,CAAEgoB,2BAA2B,IACtC9rB,GAASiL,EAAd,CAGA,IAAA0hB,EAAoFvtB,KAAKmD,MAAjFlG,EAAYswB,EAAZtwB,aAAcwN,EAAI8iB,EAAJ9iB,KAAe4L,GAAFkX,EAAPzf,QAAiByf,EAARlX,UAAUsG,EAAa4Q,EAAb5Q,cAAewC,EAAiBoO,EAAjBpO,kBAC1D/R,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,gBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbgjB,MAAO5sB,EACPwf,OAAQvU,EAAKuU,OACb2G,gBAAiBpK,EAAc1J,OAC/BkW,oBAAqBhK,EAAkBlM,OACvC8M,YAAaA,GAEfviB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD6gB,EAChB3tB,QAAQC,IAAI,+BAAgC6M,GACmB,OAAhB,OAA/C6gB,EAAApX,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CwT,EAAiDvT,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdkK,EAAkB7F,SAClB1Y,GAEAgM,EAASE,QACXwgB,EAAK5oB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDysB,EAAKjW,iBAAiBsF,EACxB,GAtCF,CAuCF,GAAC,CAAAhd,IAAA,6BAAAC,MAED,SAA2BqR,GAAS,IAADyc,EAAA,KAEjC,GADA1tB,KAAK0E,SAAS,CAAE2nB,0BAA0B,IACpB,IAAlBpb,EAAO0D,OAAX,CAGA,IAAAgZ,EAAiE3tB,KAAKmD,MAA9DlG,EAAY0wB,EAAZ1wB,aAAcwN,EAAIkjB,EAAJljB,KAAe4L,GAAFsX,EAAP7f,QAAiB6f,EAARtX,UAAUsG,EAAagR,EAAbhR,cAC3CvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,eAC1D2a,EAAe3c,EAAOtN,KAAI,SAAAnH,GAAE,MAAK,CACrCqxB,sBAAuBrxB,EAAGyW,OAC3B,IACKtV,EAAO,CACX6M,OAAQC,EAAKD,OACbmD,MAAOlD,EAAKkD,MACZoZ,gBAAiBpK,EAAc1J,OAC/B2a,aAAcA,GAEhBpwB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADkhB,EAChBhuB,QAAQC,IAAI,8BAA+B6M,GACoB,OAAhB,OAA/CkhB,EAAAzX,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C6T,EAAiD5T,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACAhE,EAAOtN,KAAI,SAAAnH,GAAE,OAAIA,EAAGyY,OAAO,IAAE8Y,KAAK,MAElCnhB,EAASE,QACX4gB,EAAKhpB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAIrD6sB,EAAKhpB,SAAS,CACZsM,QAASrF,MAAS2J,OAAO,cAE3BoY,EAAKrW,iBAAiBsF,GACxB,GA1CF,CA2CF,GAAC,CAAAhd,IAAA,6BAAAC,MAED,SAA2BouB,GAAQ,IAADC,EAAA,KAIhC,GAHAjuB,KAAK0E,SAAS,CACZ4nB,0BAA0B,IAEvB0B,EAAL,CAGA,IAAAE,EAAiEluB,KAAKmD,MAA9DlG,EAAYixB,EAAZjxB,aAAcwN,EAAIyjB,EAAJzjB,KAAe4L,GAAF6X,EAAPpgB,QAAiBogB,EAAR7X,UAAUsG,EAAauR,EAAbvR,cAC3CvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,eAC1D2a,EAAeI,EAAMrqB,KAAI,SAAAnH,GAAE,MAAK,CACpC2sB,oBAAqB3sB,EAAGyW,OACxB8T,gBAAiBpK,EAAc1J,OAChC,IACKtV,EAAO,CACX6M,OAAQC,EAAKD,OACbojB,aAAcA,GAEhBpwB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADuhB,EAAAC,EAChBtuB,QAAQC,IAAI,8BAA+B6M,GACoB,OAAhB,OAA/CuhB,EAAA9X,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CkU,EAAiDjU,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACkB,OADhBmZ,EACFxhB,EAASiZ,gBAAS,EAAlBuI,EAAoBnZ,SAEpBrI,EAASE,QACXmhB,EAAKvpB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAIrDotB,EAAKvpB,SAAS,CACZsM,QAASrF,MAAS2J,OAAO,cAE3B2Y,EAAK5W,iBAAiBzK,EAASiZ,WAAalJ,GAC9C,GAzCF,CA0CF,GAAC,CAAAhd,IAAA,8BAAAC,MAED,SAA4ByuB,GAAQ,IAADC,EAAA,KAEjC,GADAtuB,KAAK0E,SAAS,CAAE6nB,2BAA2B,IACtC8B,EAAL,CAGA,IAAAE,EAAiEvuB,KAAKmD,MAA9DlG,EAAYsxB,EAAZtxB,aAAcwN,EAAI8jB,EAAJ9jB,KAAe4L,GAAFkY,EAAPzgB,QAAiBygB,EAARlY,UAAUsG,EAAa4R,EAAb5R,cAC3CvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,gBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbgkB,kBAAmBH,EAAMpb,QAE3BzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD6hB,EAChB3uB,QAAQC,IAAI,+BAAgC6M,GACmB,OAAhB,OAA/C6hB,EAAApY,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CwU,EAAiDvU,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACAoZ,EAAMpZ,SAENrI,EAASE,QACXwhB,EAAK5pB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAIrDytB,EAAK5pB,SAAS,CACZsM,QAASrF,MAAS2J,OAAO,cAE3BgZ,EAAKjX,iBAAiBgX,GACxB,GArCF,CAsCF,GAAC,CAAA1uB,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACpB,IAAA8tB,EAA6C1uB,KAAKmD,MAA7BurB,EAAb/R,cAAgC+R,EAAjBvP,kBACvBnf,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,KAErBtD,IAGQ,gBAATA,EACFZ,KAAKmrB,cACa,sBAATvqB,EACTZ,KAAK2rB,oBACa,qBAAT/qB,EACTZ,KAAK2uB,mBACa,uBAAT/tB,GACTZ,KAAK4uB,qBAET,GAAC,CAAAjvB,IAAA,6BAAAC,MAED,SAA2Bwc,GAY3B,GAAC,CAAAzc,IAAA,0BAAAC,MAED,SAAwB2Q,EAAW4F,EAAS0S,EAAOgG,EAAa/R,EAASgS,EAAYC,EAAOC,GAAQ,IAADC,EAAA,KAEjG,GADAjvB,KAAK0E,SAAS,CAAEylB,uBAAuB,IAClC5Z,EAAL,CAGA,IAAA2e,EAAiElvB,KAAKmD,MAA9DsH,EAAIykB,EAAJzkB,KAAMxN,EAAYiyB,EAAZjyB,aAAuBoZ,GAAF6Y,EAAPphB,QAAiBohB,EAAR7Y,UAAUsG,EAAauS,EAAbvS,cAC3CvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,qBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbmD,MAAOlD,EAAKkD,MACZ4C,UAAWA,EACX4F,QAASA,EACT0S,MAAOA,EACPgG,YAAaA,EACb/R,QAASA,EACTgS,WAAYA,EACZC,MAAOA,EACPC,MAAOA,EACPG,MAAO,GACPC,MAAO,IAET5xB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADyiB,EAChBvvB,QAAQC,IAAI,0BAA2B6M,GACwB,OAAhB,OAA/CyiB,EAAAhZ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CoV,EAAiDnV,YAC/Cld,EACEC,EACA,0BACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACA1E,EAAY,IAAMse,GAElBjiB,EAASE,QACXmiB,EAAKvqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDouB,EAAK5X,iBAAiBsF,EACxB,GA5CF,CA6CF,GAAC,CAAAhd,IAAA,8BAAAC,MAED,SAA4BgB,GAAO,IAAD0uB,EAAA,KAChC,GAAK1uB,EAAL,CAIA,IAAA2uB,EAAwDvvB,KAAKmD,MAArDlG,EAAYsyB,EAAZtyB,aAAcwN,EAAI8kB,EAAJ9kB,KAAM4L,EAAQkZ,EAARlZ,SAAUsG,EAAa4S,EAAb5S,cAClCvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,gBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZJ,OAAQ9C,EAAK8C,OACbqb,MAAOne,EAAKme,MACZ4G,QAAS5uB,EACTmmB,gBAAiBpK,EAAc1J,QAEjCzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD6iB,EAChB3vB,QAAQC,IAAI,+BAAgC6M,GACmB,OAAhB,OAA/C6iB,EAAApZ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CwV,EAAiDvV,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACArU,GAEAgM,EAASE,QACXwiB,EAAK5qB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDyuB,EAAKjY,iBAAiBsF,EACxB,GAvCF,MAFE3c,KAAK0E,SAAS,CAAE2iB,2BAA2B,GA0C/C,GAAC,CAAA1nB,IAAA,uBAAAC,MAED,SAAqB8vB,GACnB1vB,KAAK0E,SAAS,CACZiY,cAAe+S,EAAU7J,UACzBnD,WAAYgN,EAAU3J,gBAE1B,GAAC,CAAApmB,IAAA,wBAAAC,MAED,WACEI,KAAKipB,eAAe,QACtB,GAAC,CAAAtpB,IAAA,SAAAC,MAED,WAAU,IAAD+vB,EAAAC,EAAAphB,EAAAqhB,EAAAC,EAAA,KACPphB,EAA8B1O,KAAKT,MAApBmG,GAAFgJ,EAALlD,MAAiBkD,EAAVhJ,YACfqqB,EAOkE/vB,KAAKmD,MAP/DkH,EAAe0lB,EAAf1lB,gBAAiBpN,EAAY8yB,EAAZ9yB,aAAcwN,EAAIslB,EAAJtlB,KAAM1G,EAAUgsB,EAAVhsB,WAAY+J,EAAOiiB,EAAPjiB,QAAS2W,EAAMsL,EAANtL,OAAQzT,EAAO+e,EAAP/e,QACxE2L,EAAaoT,EAAbpT,cAAewC,EAAiB4Q,EAAjB5Q,kBAAmBuD,EAAUqN,EAAVrN,WAAY0B,EAAY2L,EAAZ3L,aAActF,EAAkBiR,EAAlBjR,mBAC5DkR,EAAwBD,EAAxBC,yBAA0B/rB,EAAmB8rB,EAAnB9rB,oBAAqBC,EAAsB6rB,EAAtB7rB,uBAC/C0jB,EAAwBmI,EAAxBnI,yBAA0BsE,EAA0B6D,EAA1B7D,2BAA4BJ,EAAiCiE,EAAjCjE,kCAAmCrM,EAA2BsQ,EAA3BtQ,4BACzF0M,EAA4B4D,EAA5B5D,6BAA8BQ,EAA0BoD,EAA1BpD,2BAA4BD,EAAyBqD,EAAzBrD,0BAC1DH,EAAyBwD,EAAzBxD,0BAA2BF,EAAwB0D,EAAxB1D,yBAA0BC,EAAwByD,EAAxBzD,yBACrDnC,EAAqB4F,EAArB5F,sBAAuB9C,EAAyB0I,EAAzB1I,0BACvBrjB,EAA8B+rB,EAA9B/rB,+BAAgCuhB,EAA2BwK,EAA3BxK,4BAC5BK,EAAoE,OAAtD+J,EAAG7hB,EAAQuI,SAAS0C,MAAK,SAAAvc,GAAE,MAAiB,YAAbA,EAAGyd,KAAmB,UAAC,EAAnD0V,EAAqDzV,UAE5E,OACE9Z,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,OAAQlH,SAAA,CAE3Cg0B,IACArzB,EAAAA,EAAAA,KAACwf,GAAiB,CAChBM,2BAA4Bzc,KAAKyc,6BAGnC0N,IACAxtB,EAAAA,EAAAA,KAAC+f,GAAc,CACbzf,aAAcA,EACd0f,cAAeA,EACfS,wBAAyBpd,KAAKod,0BAGhCnZ,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9BO,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,mCAGzComB,IACA1qB,EAAAA,EAAAA,KAACqhB,GAAkB,CACjBI,4BAA6Bpe,KAAKoe,8BAGpCwJ,IACAjrB,EAAAA,EAAAA,KAAC0mB,GAAiB,CAChB5Y,KAAMA,EACNwU,WAAYnR,EAAQmR,WACpBtC,cAAeA,EACfwC,kBAAmBA,EACnBuD,WAAYA,EACZY,2BAA4BtjB,KAAKsjB,6BAGnC4I,IACAvvB,EAAAA,EAAAA,KAAC+mB,GAAmB,CAClB/G,cAAeA,EACf+F,WAAYA,EACZiB,6BAA8B3jB,KAAK2jB,+BAGrCmI,IACAnvB,EAAAA,EAAAA,KAACinB,GAA0B,CACzBjH,cAAeA,EACf+F,WAAYA,EACZmB,oCAAqC7jB,KAAK6jB,sCAG5CpE,IACA9iB,EAAAA,EAAAA,KAACgiB,GAAoB,CACnBlU,KAAMA,EACNqU,mBAAoBA,EACpBF,8BAA+B5e,KAAK4e,gCAGtC2G,IACA5oB,EAAAA,EAAAA,KAACmnB,GAAoB,CACnBM,aAAcA,EACdJ,gBAAiBlW,EAAQkW,gBACzBK,8BAA+BrkB,KAAKqkB,gCAGtCqI,IACA/vB,EAAAA,EAAAA,KAACqiB,GAAkB,CACjBvU,KAAMA,EACNxN,aAAcA,EACdoZ,SAAUvI,EAAQuI,SAClB4I,WAAYnR,EAAQmR,WACpBC,UAAWpR,EAAQoR,UACnBC,kBAAmBA,EACnBe,4BAA6BlgB,KAAKkgB,8BAGpCyM,IACAhwB,EAAAA,EAAAA,KAAC2kB,GAAmB,CAClB7W,KAAMA,EACNxN,aAAcA,EACdoZ,SAAUvI,EAAQuI,SAClB4I,WAAYnR,EAAQmR,WACpBC,UAAWpR,EAAQoR,UACnBuC,6BAA8BzhB,KAAKyhB,+BAGrC0K,IACAxvB,EAAAA,EAAAA,KAAC+kB,GAAqB,CACpBjX,KAAMA,EACNxN,aAAcA,EACdoZ,SAAUvI,EAAQuI,SAClB4I,WAAYnR,EAAQmR,WACpBC,UAAWpR,EAAQoR,UACnByC,+BAAgC3hB,KAAK2hB,iCAGvC0K,IACA1vB,EAAAA,EAAAA,KAACilB,GAAiB,CAChB3kB,aAAcA,EACdwN,KAAMA,EACNkS,cAAeA,EACf2F,2BAA4BtiB,KAAKsiB,6BAGnCgK,IACA3vB,EAAAA,EAAAA,KAAC8lB,GAAiB,CAChB9F,cAAeA,EACf+F,WAAYA,EACZQ,2BAA4BljB,KAAKkjB,6BAGnCqJ,IACA5vB,EAAAA,EAAAA,KAACwmB,GAAkB,CACjBlmB,aAAcA,EACdwN,KAAMA,EACNkS,cAAeA,EACfyG,4BAA6BpjB,KAAKojB,+BAEtCzmB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEiG,MAAO,GAAIV,gBAAiBZ,EAAM/B,OAAQ3C,UACvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEwG,UAAW,GAAIC,OAAQ,IAAKlB,gBAAiBtB,KAAKqQ,sBAAsBsM,SAEzFvc,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGP,gBAAiB,SAAUtF,SAAA,EACjDoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEwN,iBAAkB,GAAI/G,OAAQ,GAAIU,cAAe,MAAOpB,WAAY,WAAYC,eAAgB,iBAAkB/F,SAAA,EAC/HW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO+vB,WAAWj0B,SAAEyO,EAAKoV,YACtCljB,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO+vB,WAAWj0B,SAAEyO,EAAKylB,cAExC9vB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE0G,OAAQ,EAAG0tB,WAAY,EAAGjtB,cAAe,MAAOnB,eAAgB,iBAAkB/F,SAAA,EAQ/FW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE0G,OAAQ,EAAGZ,KAAM,EAAGqB,cAAe,OAASlH,SAEvD2gB,IACAvc,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAEo0B,WAAY,EAAGpnB,YAAa,EAAGzH,gBAAiBtB,KAAKqQ,sBAAsBsM,GAAgB5a,eAAgB,SAAUD,WAAY,UAC1Jd,QAAS,kBAAM8uB,EAAKprB,SAAS,CAAEwnB,4BAA4B,GAAO,EAAClwB,SAAA,EACnEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkwB,eAAgB,CAAE3vB,MAAO,UAAYsO,cAAe,EAAE/S,SAAE2gB,EAAcxG,SAAW,MACtGxZ,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAM1B,OAAQlC,SAAU,GAAIuzB,cAAe,GAAKthB,cAAe,EAAE/S,SAAE2gB,EAAc1H,WACnItY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO2X,eAAgB9I,cAAe,EAAE/S,SAAE2gB,EAAc2T,mBAKzE3T,GAA6C,MAA5BA,EAAchF,WAC7BvX,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,OAAQlH,SAAA,EACpCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UACjJf,QAAS,kBAAM0E,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,EAAeyJ,KAAM,OAAQmK,IAAK,OAAQ,EAACv0B,SAAA,EACtHW,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,WAAWtH,KAAM,GAAI4B,MAAOC,EAAMxC,YAAanC,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OACxGrF,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,aAG1Cga,EAAcrM,UAAY,IAC1BlQ,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UACjJf,QAAS,kBAAM0E,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,GAAgB,EAAC3gB,SAAA,EAC5FW,EAAAA,EAAAA,KAACkS,EAAAA,QAAa,CAAC1I,KAAK,YAAYtH,KAAM,GAAI4B,MAAOC,EAAMvC,MAAOpC,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OAC1FrF,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,YAC1ChG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEwF,SAAU,WAAYxE,WAAY,eAAgB0E,IAAK,GAAIE,MAAO,IAAK3F,SAAE2gB,EAAcrM,eAIrF,MAAnBsV,IACAxlB,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UACjJqZ,SAAoC,MAA1BuB,EAAc0N,QACxBrpB,QAAS,kBAAM8uB,EAAKU,aAAa,EAACx0B,SAAA,EAClCW,EAAAA,EAAAA,KAAC8zB,GAAAA,QAAW,CAACtqB,KAAK,OAAOtH,KAAM,GAAI4B,MAAiC,MAA1Bkc,EAAc0N,QAAkB3pB,EAAMjC,MAAQiC,EAAM1C,SAAUjC,MAAO,CAAEyG,OAAQ,GAAID,UAAW,MACxI5F,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,gBAc9Cga,GAA6C,MAA5BA,EAAcnM,WAC/BpQ,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UACjJf,QAAS,kBAAM0E,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,EAAeyJ,KAAM,MAAOxB,sBAAuBkL,EAAKlL,uBAAwB,EAAC5oB,SAAA,EAC5JW,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,iBAAiBtH,KAAM,GAAI4B,MAAOC,EAAM1C,SAAUjC,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OAC3GrF,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,aAE1Cga,GAA6C,MAA5BA,EAAcnM,WAC/BpQ,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UACjJf,QAAS,kBAAM8uB,EAAKnM,6BAA6B,aAAa,EAAC3nB,SAAA,EAC/DW,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,iBAAiBtH,KAAM,GAAI4B,MAAOC,EAAM5C,OAAQ/B,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OACzGrF,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE1Cga,GACAvc,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,OAAQlH,SAAA,CAElC2gB,EAAcrM,UAAY,IAC1BlQ,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UACjJf,QAAS,kBAAM0E,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,GAAgB,EAAC3gB,SAAA,EAC5FW,EAAAA,EAAAA,KAACkS,EAAAA,QAAa,CAAC1I,KAAK,YAAYtH,KAAM,GAAI4B,MAAOC,EAAMvC,MAAOpC,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OAC1FrF,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,YAC1ChG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEwF,SAAU,WAAYxE,WAAY,eAAgB0E,IAAK,GAAIE,MAAO,IAAK3F,SAAE2gB,EAAcrM,gBAG1GlQ,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UACjJqZ,SAAoC,MAA1BuB,EAAc0N,QACxBrpB,QAAS,kBAAM8uB,EAAKU,aAAa,EAACx0B,SAAA,EAClCW,EAAAA,EAAAA,KAAC8zB,GAAAA,QAAW,CAACtqB,KAAK,OAAOtH,KAAM,GAAI4B,MAAiC,MAA1Bkc,EAAc0N,QAAkB3pB,EAAMjC,MAAQiC,EAAM1C,SAAUjC,MAAO,CAAEyG,OAAQ,GAAID,UAAW,MACxI5F,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UACjJf,QAAS,kBAAM0E,EAAW0F,SAAS,OAAQ,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,EAAe+F,WAAAA,GAAa,EAAC1mB,SAAA,EACvGW,EAAAA,EAAAA,KAAC+zB,GAAAA,QAAQ,CAACvqB,KAAK,OAAOtH,KAAM,GAAI4B,MAAOC,EAAM3C,SAAUhC,MAAO,CAAEyG,OAAQ,OACxE7F,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,gBAG5C,MAEZvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UACjJf,QAAS,kBAAM8uB,EAAKprB,SAAS,CAAEonB,mCAAmC,GAAO,EAAC9vB,SAAA,EAC1EW,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,SAAStH,KAAM,GAAI4B,MAAOC,EAAMzC,KAAMlC,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OAC/FrF,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,iBAG9CvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,MAAOf,eAAgB,EAAGgT,gBAAiB,EAAGC,gBAAiB,SAAUpZ,SAAA,EACrGW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEiG,MAAO,GAAIQ,OAAQ,GAAIV,WAAY,SAAUC,eAAgB,SAAU2H,iBAAkBhJ,EAAMzC,MAAOjC,UACnHW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO+vB,WAAY,CAAEnzB,SAAU,KAAMd,SAAE2G,EAAAA,QAAAA,IAAS,YAEhEhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO+vB,WAAY,CAAEnzB,SAAU,KAAMd,SAAE2G,EAAAA,QAAAA,IAAS,aAEhEhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEwK,aAAc,GAAIzE,WAAY,WAAYC,eAAgB,UAAW/F,UAClFW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO+vB,WAAY,CAAEnzB,SAAU,KAAMd,SAAE2G,EAAAA,QAAAA,IAAS,iBAGlEhG,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CAAC3K,MAAO,CAAE8F,KAAM,GACzB2c,IAAK,SAAAA,GAAG,OAAIsR,EAAKa,cAAgBnS,CAAG,EACpCoS,oBAAqB,kBAAMd,EAAKa,cAAcE,aAAa,EAC3DlqB,8BAA8B,EAAM3K,SAElC0mB,EAAW9Q,QAAO,SAAApV,GAAE,OAAKA,EAAGomB,SAAS,IAAEjf,KAAI,SAAAkI,GAAI,IAAAilB,EAAA,OAC7C1wB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAAjE,SAAA,CAEkB,MAAnB6P,EAAK8d,YACLvpB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE+F,WAAY,SAAUoB,cAAe,MAAOV,OAAQ,IAAMxG,SAAA,EACvEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGW,OAAQ,EAAGR,MAAO,GAAIV,gBAAiBZ,EAAMjC,MAAO8K,iBAAkB,OAC9F5M,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAMjC,MAAO3B,SAAU,IAAKd,SAAC,gBAC/EW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGW,OAAQ,EAAGR,MAAO,GAAIV,gBAAiBZ,EAAMjC,MAAO8K,iBAAkB,UAGlGnJ,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAAEmH,cAAe,MAAOf,eAAgB,EAAGgT,gBAAiB,EAAGC,gBAAiB0a,EAAKiB,0BAA0BllB,IACtH7K,QAAS,kBAAM8uB,EAAKkB,YAAYnlB,EAAK,EAAC7P,SAAA,EACtCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkN,gBAAiB,GAAIjH,MAAO,GAAIF,WAAY,SAAU4H,iBAAkBhJ,EAAMzC,MAAOjC,UAClGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,IAAKd,SAAE6P,EAAKqb,cAEnE9mB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEkN,gBAAiB,GAAIpH,KAAM,GAAI7F,SAAA,EAC5CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,OAAQlH,SAAA,EACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAK7F,SAAA,EACxBW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,IAAKd,SAAE6P,EAAKyN,WAE/DzN,EAAKolB,UACLt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMzC,MAAOjC,SAAE6P,EAAKolB,cAGxFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,GAAInB,WAAY,YAAc9F,UAC9DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,IAAKd,SAAgB,OAAhB80B,EAAEjlB,EAAKqlB,gBAAS,EAAdJ,EAAgBvV,QAAQ,UAItFmH,EAAW9Q,QAAO,SAAApV,GAAE,OAAIA,EAAGomB,YAAc/W,EAAKoH,MAAM,IAAEtP,KAAI,SAAAijB,GAAG,IAAAuK,EAAA,OAC3D/wB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEwG,UAAW,EAAGW,cAAe,OAAQlH,SAAA,EAClDoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAK7F,SAAA,EACxBoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAIqzB,WAAY,IAAKn0B,SAAA,CAAC,KAAG4qB,EAAItN,YAEhFsN,EAAIqK,UACJt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMzC,MAAOjC,SAAE4qB,EAAIqK,cAGvFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,GAAInB,WAAY,YAAc9F,UAC9DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,IAAKd,SAAE4qB,EAAIsK,UAAyB,OAAhBC,EAAGvK,EAAIsK,gBAAS,EAAbC,EAAe5V,QAAQ,GAAK,SATlDqL,EAAI3T,OAAO8C,WAW9D,YAzCNlK,EAAKoH,OAAO8C,WA8ChB,OAIb3V,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE0G,OAAQ,GAAIyF,aAAc,EAAGhF,cAAe,MAAOnB,eAAgB,WAAYD,WAAY,YAAa9F,SAAA,EACrHW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,OACrDsD,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,IAAKd,SAAA,CAAC,KAAe,MAAb2gB,GAAyB,OAAZiT,EAAbjT,EAAeyU,iBAAF,EAAbxB,EAA2BrU,QAAQ,KAAM,cAExGnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE0G,OAAQ,EAAGS,cAAe,OAASlH,SAAA,CAE3B,MAAnB4pB,IACAxlB,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKX,KAAM,EAAGI,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UAC/If,QAAS,kBAAM8uB,EAAK7G,eAAexE,EAAO,EAACzoB,SAAA,CAE9B,UAAXyoB,GACE9nB,EAAAA,EAAAA,KAACiS,EAAAA,QAAQ,CAACzI,KAAK,UAAUtH,KAAM,GAAI4B,MAAOC,EAAM3C,SAAUhC,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OAEtFrF,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,WAAWtH,KAAM,GAAI4B,MAAOC,EAAM5C,OAAQ/B,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OAEvGrF,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAa,UAAXyoB,EAAqB9hB,EAAAA,QAAAA,IAAS,QAAUA,EAAAA,QAAAA,IAAS,eAGtFvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UACjJf,QAAS,kBAAM0E,EAAW0F,SAAS,QAAS,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc0f,cAAAA,GAAgB,EAAC3gB,SAAA,EACnFW,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,aAAatH,KAAM,GAAI4B,MAAOC,EAAMvC,MAAOpC,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,GAAIqS,UAAW,CAAC,CAAEW,QAAS,eAC/HrY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,eAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKR,MAAO,GAAIC,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UACjJf,QAAS,kBAAM8uB,EAAK1E,aAAa,EAACpvB,SAAA,EAClCW,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,OAAOtH,KAAM,GAAI4B,MAAOC,EAAM1C,SAAUjC,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OACjGrF,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,IAAKX,KAAM,EAAGI,aAAc,EAAGX,gBAAiBZ,EAAM9B,MAAOkD,WAAY,SAAUC,eAAgB,UAC/If,QAAS,kBAAM8uB,EAAKzE,gBAAgB,EAACrvB,SAAA,EACrCW,EAAAA,EAAAA,KAACiS,EAAAA,QAAQ,CAACzI,KAAK,cAActH,KAAM,GAAI4B,MAAOC,EAAMzC,KAAMlC,MAAO,CAAEyG,OAAQ,GAAI2tB,WAAY,MAC3FxzB,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,oBAG9CvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEwN,iBAAkB,GAAI/G,OAAQ,GAAIU,cAAe,MAAOnB,eAAgB,iBAAkB/F,SAAA,EACvGoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAO+vB,WAAWj0B,SAAA,CAAC,cAAsC,OAA3BwS,EAACQ,EAAAA,QAAUC,SAASC,cAAO,EAA1BV,EAA4BW,MAAM,KAAK,OACnFxS,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO+vB,WAAWj0B,UAAM,MAAJyO,GAAoB,OAAhBolB,EAAJplB,EAAMib,qBAAF,EAAJmK,EAAsB1pB,OAAWxD,EAAAA,QAAAA,IAAS,MAAK,IAAIA,EAAAA,QAAAA,IAAS,WAAU,IAAIA,EAAAA,QAAAA,IAAS,oBAGxHhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGP,gBAAiBZ,EAAM9B,OAAQ5C,UACrDoE,EAAAA,EAAAA,MAACkkB,GAAI+M,UAAS,CACZC,cAAe,CACbC,aAAa,EACbC,UAAW,OACXC,gBAAgB,EAChBC,YAAa,CAAEC,QAAS,SACxB31B,SAAA,CAEmB,MAAnB4pB,IACAjpB,EAAAA,EAAAA,KAAC2nB,GAAIsN,OAAM,CAACzrB,KAAK,YACfnK,SAAU,kBACRW,EAAAA,EAAAA,KAACyZ,GAAS,CACRpF,QAASA,EACTvG,KAAMA,EACNxN,aAAcA,EACd8G,WAAYA,EACZ+J,QAASA,EACTuJ,iBAAkByY,EAAKzY,iBACvBC,kBAAmBwY,EAAKxY,mBAAqB,KAGrD3a,EAAAA,EAAAA,KAAC2nB,GAAIsN,OAAM,CAACzrB,KAAK,WACfnK,SAAU,kBACRW,EAAAA,EAAAA,KAACmb,GAAQ,CACPrN,KAAMA,EACNxN,aAAcA,EACdoN,gBAAiBA,EACjBtG,WAAYA,EACZsS,SAAUvI,EAAQuI,SAClB0B,WAAYjK,EAAQiK,WACpBC,QAASlK,EAAQkK,QACjBK,MAAOvK,EAAQuK,MACfG,WAAY1K,EAAQ0K,WACpBW,gBAAiB2W,EAAK3W,gBACtBuL,gBAAiBoL,EAAKpL,gBACtBlK,iBAAkBsV,EAAKtV,kBAAoB,WAM3D,KAACgK,CAAA,CAh+DsB,CAASrjB,EAAAA,WAm+D5BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/B4uB,WAAY,CACVlzB,WAAY,eACZD,SAAU,GACVsF,cAAe,aAEjBguB,eAAgB,CACd7uB,SAAU,WACVE,IAAK,GAAIC,KAAM,EACf3E,WAAY,eACZiF,MAAO,OACPyG,QAAS,EAET1G,eAAgB,SAChBD,WAAY,SACZrB,MAAO,QACP3D,SAAU,GACVwF,UAAW,SACXF,cAAe,aAEjByV,eAAgB,CACdtW,SAAU,WACVK,OAAQ,EAAGF,KAAM,EACjB3E,WAAY,eACZiF,MAAO,OACPiH,gBAAiB,EACjB3H,gBAAiBZ,EAAM1B,OACvB+C,eAAgB,SAChBD,WAAY,SACZrB,MAAO,QACP3D,SAAU,GACVwF,UAAW,SACXF,cAAe,aAEjBW,WAAY,CACVR,UAAW,GACXxF,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAMjC,MACb2D,cAAe,e,6cCniEqB,IAEnByvB,GAAmB,SAAA1yB,IAAAC,EAAAA,EAAAA,SAAAyyB,EAAA1yB,GAAA,IAAAE,EAAAC,GAAAuyB,GAEtC,SAAAA,EAAYtyB,GAAQ,IAADM,EAKgC,OALhCL,EAAAA,EAAAA,SAAA,KAAAqyB,IACjBhyB,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXxC,YAAa,IAEfd,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CAmDC,OAnDAH,EAAAA,EAAAA,SAAAmyB,EAAA,EAAAlyB,IAAA,oBAAAC,MAED,WACA,GAAC,CAAAD,IAAA,eAAAC,MAED,SAAae,GACXX,KAAKT,MAAMuyB,6BAA6BnxB,EAC1C,GAAC,CAAAhB,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACC1C,EAAgBX,KAAKmD,MAArBxC,YAGR,OAFAb,QAAQC,IAAI,2BAGVpD,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,iBAE3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvBC,IAAK,SAAAA,GAASnb,EAAK6a,cAAgBM,CAAK,EACxCC,WAAW,EACX/O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAAC7G,GAAI,OAAKyC,EAAKqB,SAAS,CAAE/D,YAAaC,GAAO,EAC5DoP,gBAAiB,kBAAM3M,EAAK4a,aAAatd,EAAY,EACrDf,MAAOe,KAEThE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPqC,EAAKqB,SAAS,CAAE/D,YAAa,KAC7B0C,EAAK6a,cAAcC,OACrB,EAAEniB,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,gBAIrD7B,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAC9BC,QAAS,kBAAMqC,EAAK4a,aAAatd,EAAY,EAAC3E,UAC9CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,eAEnDhG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMqC,EAAK9D,MAAMuyB,6BAA6B,GAAG,EAAC91B,UAC3DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACkvB,CAAA,CA3DqC,CAAS1wB,EAAAA,WA8D3CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,SACZoG,aAAc,IAEhBoW,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfsC,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,Y,6cCjJyB,IAEnByvB,GAAQ,SAAA5yB,IAAAC,EAAAA,EAAAA,SAAA2yB,EAAA5yB,GAAA,IAAAE,EAAAC,GAAAyyB,GAC3B,SAAAA,EAAYxyB,GAAQ,IAADM,EAWwE,OAXxEL,EAAAA,EAAAA,SAAA,KAAAuyB,IACjBlyB,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACX6uB,aAAc,GACd/0B,aAAc,GACdgH,qBAAqB,EACrBC,uBAAwB,GACxBF,gCAAgC,GAElCnE,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAKiyB,6BAA+BjyB,EAAKiyB,6BAA6B3tB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC1EA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC3F,CAyQC,OAzQAH,EAAAA,EAAAA,SAAAqyB,EAAA,EAAApyB,IAAA,oBAAAC,MAAA,eAAAyE,GAAAC,EAAAA,EAAAA,UAED,YACE,IAAMrH,QAAqBsH,EAAAA,QAAaC,QAAQ,gBAC5CwtB,QAAqBztB,EAAAA,QAAaC,QAAQ,gBAE5CwtB,EADEA,EACap0B,KAAK6G,MAAMutB,GAEX,GAEjBhyB,KAAK0E,SAAS,CACZzH,aAAAA,EACA+0B,aAAAA,GAEJ,IAAC,yBAAA3tB,EAAAM,MAAA,KAAAC,UAAA,EAdA,IAcA,CAAAjF,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACpB,IAAQqxB,EAAiBjyB,KAAKmD,MAAtB8uB,aACRjyB,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,KAErBtD,IAGQ,kBAATA,EACFZ,KAAKkyB,cAAcD,GACD,eAATrxB,GACTZ,KAAKmyB,WAAWF,GAEpB,GAAC,CAAAtyB,IAAA,+BAAAC,MAED,SAA6BgB,GAAO,IAADyC,EAAA,KAEjC,GADArD,KAAK0E,SAAS,CAAE0tB,4BAA4B,IACvCxxB,EAGL,GAAIA,EAAK2Y,SAAS,SAAU,CAE1B,IAAIT,EAAQ,CACVsM,MAAO,UACPjf,KAAM,UACNksB,iBAAkB,UAAYzxB,EAAO,KAEvCZ,KAAKsyB,YAAYxZ,EACnB,MAEEtb,MAAM,uDAAyDoD,EAAM,CACnElD,QAAS,CACP,eAAgB,qCAGjBiP,MAAK,SAAAC,GACJ,GAAKA,EAASpJ,GAGZ,OAAOoJ,EAASC,OAFhB,MAAMD,CAIV,IACCD,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,WAAY6M,GACxBvJ,EAAKivB,YAAY1lB,EACnB,IACCuB,OAAM,SAAAC,GACLtO,QAAQC,IAAI,QAASqO,GACrB/K,EAAKqB,SAAS,CACZV,+BAAgC,kBAEpC,GAEN,GAAC,CAAArE,IAAA,cAAAC,MAED,SAAYiM,GACV,IACI0mB,EADqBvyB,KAAKmD,MAAtB6uB,aAEHnmB,EAAKwmB,kBAMNE,EAAmBtS,MAAK,SAAAzjB,GAAE,OAAKA,EAAG4oB,QAAUvZ,EAAKuZ,KAAK,MACxDmN,EAAqBA,EAAmB3gB,QAAO,SAAApV,GAAE,OAAIA,EAAG4oB,QAAUvZ,EAAKuZ,KAAK,KAE9EmN,EAAmBC,QAAQ3mB,GAC3B7L,KAAK0E,SAAS,CACZstB,aAAcO,EACdt1B,aAAc4O,EAAKwmB,mBAErB9tB,EAAAA,QAAac,QAAQ,eAAgBzH,KAAKC,UAAU00B,IACpDhuB,EAAAA,QAAac,QAAQ,eAAgBwG,EAAKwmB,kBAC1C9tB,EAAAA,QAAac,QAAQ,kBAAmBzH,KAAKC,UAAUgO,KAfrD7L,KAAK0E,SAAS,CACZV,+BAAgC,8BAetC,GAAC,CAAArE,IAAA,aAAAC,MAED,WACEI,KAAK0E,SAAS,CACZ0tB,4BAA4B,GAEhC,GAAC,CAAAzyB,IAAA,eAAAC,MAED,SAAaiM,GACX7L,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAUsI,EAAK1F,KACfvF,KAAM,GACN4C,IAAI,EACJK,QAAQ,EACRH,QAAS,CACP,CAAE9C,KAAM,YAAagD,WAAY,cACjC,CAAEhD,KAAM,eAAgBgD,WAAY,mBAGxCK,qBAAqB,EACrBguB,aAAcpmB,GAElB,GAAC,CAAAlM,IAAA,gBAAAC,MAED,SAAciM,GACZ,IACI0mB,EADqBvyB,KAAKmD,MAAtB6uB,aAERO,EAAqBA,EAAmB3gB,QAAO,SAAApV,GAAE,OAAIA,EAAG4oB,QAAUvZ,EAAKuZ,KAAK,IAC5EtlB,QAAQC,IAAIwyB,GACZvyB,KAAK0E,SAAS,CACZstB,aAAcO,IAEhBhuB,EAAAA,QAAac,QAAQ,eAAgBzH,KAAKC,UAAU00B,GACtD,GAAC,CAAA5yB,IAAA,aAAAC,MAED,SAAWiM,GACT7L,KAAK0E,SAAS,CACZzH,aAAc4O,EAAKwmB,mBAErB9tB,EAAAA,QAAac,QAAQ,eAAgBwG,EAAKwmB,kBAC1C9tB,EAAAA,QAAac,QAAQ,kBAAmBzH,KAAKC,UAAUgO,GACzD,GAAC,CAAAlM,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACCtG,EAAe1F,KAAKT,MAApBmG,WACRC,EAEmF3F,KAAKmD,MAFhFY,EAAU4B,EAAV5B,WAAYiuB,EAAYrsB,EAAZqsB,aAAc/0B,EAAY0I,EAAZ1I,aAChCm1B,EAA0BzsB,EAA1BysB,2BACApuB,EAA8B2B,EAA9B3B,+BAAgCC,EAAmB0B,EAAnB1B,oBAAqBC,EAAsByB,EAAtBzB,uBAGvD,OAFApE,QAAQC,IAAI,kBAAmBiyB,IAG7B5xB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BiI,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9BO,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,mCAGzCmxB,IACAz1B,EAAAA,EAAAA,KAACk1B,GAAmB,CAClBC,6BAA8B9xB,KAAK8xB,gCAEvC1xB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5ChG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkG,2BAIxBzJ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEC,aAAc,IAAKvK,SAAA,EACxDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpB7J,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CACT3K,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAAM3K,SAGlCg2B,EAAaruB,KAAI,SAACkI,EAAMiJ,GAAK,OAC3B1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAEf/E,MAAOmE,GAAO0G,KACd5F,QAAS,kBAAMgL,EAAKymB,aAAa5mB,EAAK,EAAC7P,SAAA,EACvCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAKuZ,OAAS,OACtDzoB,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8G,mBAAmBhL,SAAE6P,EAAKwmB,kBAAoB,UAEpEjyB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,SAAA,EAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAAE6P,EAAK1F,MAAQ,aAClDxJ,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgH,eAAgB,CAAEzG,MAAOC,EAAM3C,WAAY/B,SAAY,MAAV+H,OAAU,EAAVA,EAAYgB,eAEhFpI,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO4G,UAAW,CAAEoB,aAAc,IAAKlM,UACnDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAKmQ,gBAAkB,SAEjE5b,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,SAEtD4N,EAAKwmB,mBAAqBp1B,GACxBN,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAM3C,WAAY/B,SAAE2G,EAAAA,QAAAA,IAAS,aAE/EhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAMzC,OAAQjC,SAAE2G,EAAAA,QAAAA,IAAS,mBApB5EmS,EAAMiB,WAuBM,UAS3BpZ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1BpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEsB,YAAa,IAAK5L,SAAA,EACvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpB7J,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CACT3K,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,QAGlChK,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMgL,EAAK0mB,YAAY,EAAC12B,SAAA,EACjCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,cACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,qBAOxD,KAACovB,CAAA,CAtR0B,CAAS5wB,EAAAA,WAyRhCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,EACNqB,cAAe,OAEjByE,eAAgB,CACd9F,KAAM,EACNqB,cAAe,OAEjBmD,iBAAkB,CAChBxE,KAAM,EACNP,gBAAiBZ,EAAMrC,OAEzBiI,eAAgB,CACdzE,KAAM,GAER4E,cAAe,CACb5E,KAAM,EACNP,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdiB,cAAe,UAMjB+E,UAAW,CACT3G,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,EACRF,UAAW,GACX2F,aAAc,EACdhF,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEV4F,gBAAiB,CACf5F,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBoF,kBAAmB,CACjBzG,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwG,mBAAoB,CAClB1G,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfmI,KAAM,CACJnE,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEX3B,UAAW,CACT5D,cAAe,MACfnB,eAAgB,iBAElBkF,WAAY,CACV9E,eAAgB,EAChBe,cAAe,MACfnB,eAAgB,iBAElBoF,UAAW,CACTjE,cAAe,MACfnB,eAAgB,iBAElB2G,cAAe,CACb7G,KAAM,GAER8G,eAAgB,CACd9G,KAAM,EACNC,WAAY,YAEd8G,cAAe,CACb/G,KAAM,GAERgH,eAAgB,CACdhH,KAAM,EACNC,WAAY,YAEdiF,kBAAmB,CACjBtG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdiK,mBAAoB,CAClBvG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdmK,eAAgB,CACdzG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+E,mBAAoB,CAClB3G,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZqF,cAAe,aAEjB2D,kBAAmB,CACjBlE,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB6E,cAAe,UAEjB8C,gBAAiB,CACfnE,KAAM,EACNoB,kBAAmB,GACnB6F,WAAY,IAEdjG,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBgE,mBAAoB,CAClB7D,UAAW,IAEbyG,UAAW,CACT1H,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBkH,gBAAiB,IAEnBC,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXU,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB/H,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZ6G,yBAA0B,CACxBhI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhBuD,oBAAqB,CACnB9H,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwL,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfoC,oBAAqB,CACnBnI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZiH,qBAAsB,CACpBpI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf6B,cAAe,CACbkC,OAAQ,GACRL,eAAgB,EAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,W,6cCviB6B,IAEnBkyB,GAAiB,SAAAxzB,IAAAC,EAAAA,EAAAA,SAAAuzB,EAAAxzB,GAAA,IAAAE,EAAAC,GAAAqzB,GAEpC,SAAAA,EAAYpzB,GAAQ,IAADM,EAWgC,OAXhCL,EAAAA,EAAAA,SAAA,KAAAmzB,IACjB9yB,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXyvB,SAAUrzB,EAAMqzB,SAASjvB,KAAI,SAAAkI,GAAI,MAAK,CACpCgnB,MAAOhnB,EAAKgnB,MACZC,YAAa,IAAMvzB,EAAMqzB,SAASje,QAAQ4G,QAAQ,GAAGxF,WACtD,KAEHlW,EAAKkzB,4BAA8BlzB,EAAKkzB,4BAA4B5uB,MAAIC,EAAAA,EAAAA,SAAAvE,IACxEA,EAAKmzB,8BAAgCnzB,EAAKmzB,8BAA8B7uB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKozB,kCAAoCpzB,EAAKozB,kCAAkC9uB,MAAIC,EAAAA,EAAAA,SAAAvE,IACpFA,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CAoGC,OApGAH,EAAAA,EAAAA,SAAAizB,EAAA,EAAAhzB,IAAA,8BAAAC,MAED,WAA+B,IAADyD,EAAA,KACpBuvB,EAAa5yB,KAAKmD,MAAlByvB,SACJM,GAAgB,IAAMN,EAASje,QAAQ4G,QAAQ,GAAGxF,WACtD6c,EAASr2B,SAAQ,SAAAsP,GAAI,OAAIxI,EAAK2vB,8BAA8BE,EAAcrnB,EAAKgnB,MAAM,GACvF,GAAC,CAAAlzB,IAAA,oCAAAC,MAED,SAAkCiM,GAAO,IAADG,EAAA,KACjBhM,KAAKmD,MAAlByvB,SACCr2B,SAAQ,SAAAC,GACXA,EAAGq2B,QAAUhnB,EAAKgnB,MACpB7mB,EAAKgnB,8BAA8B,MAAOx2B,EAAGq2B,OAE7C7mB,EAAKgnB,8BAA8B,IAAKx2B,EAAGq2B,MAE/C,GACF,GAAC,CAAAlzB,IAAA,gCAAAC,MAED,SAA8BuzB,EAAQN,GACpC,IAAQD,EAAa5yB,KAAKmD,MAAlByvB,SACJQ,EAAiBR,EACf9d,EAAQ8d,EAASS,WAAU,SAAA72B,GAAE,OAAIA,EAAGq2B,QAAUA,CAAK,IACpDptB,OAAO0tB,GAGVC,EAAete,GAAOge,WAAartB,OAAO0tB,GAAQ5X,QAAQ,GAAGxF,WAF7Dqd,EAAete,GAAOge,WAAa,IAIrC9yB,KAAK0E,SAAS,CACZkuB,SAAUQ,IACT,kBAAMtzB,QAAQC,IAAI,kBAAmB6yB,EAAS,GACnD,GAAC,CAAAjzB,IAAA,eAAAC,MAED,WACE,IAAQgzB,EAAa5yB,KAAKmD,MAAlByvB,SACFU,EAAYV,EAAS7kB,QAAO,SAACwlB,EAAM3M,GAAU,OAAO2M,EAAO9tB,OAAOmhB,EAAIkM,WAAa,GAAG,GAC5FhzB,QAAQC,IAAI,MAAOuzB,GACfV,EAAS3S,MAAK,SAAApU,GAAI,OAAI+mB,EAAS,GAAGE,aAAejnB,EAAKinB,UAAU,KAAmB,MAAdQ,EACvExzB,QAAQC,IAAI,qBAGdC,KAAKT,MAAMi0B,2BAA2BZ,EACxC,GAAC,CAAAjzB,IAAA,SAAAC,MAED,WAAU,IAAD8M,EAAA,KACCmW,EAAuB7iB,KAAKT,MAA5BsjB,mBACA+P,EAAa5yB,KAAKmD,MAAlByvB,SAGR,OAFA9yB,QAAQC,IAAI,yBAGVpD,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,mBACzCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOS,YAAY3E,SAAA,CAAC,qBAAmB6mB,EAAmBlO,OAAO,gBAAcie,EAASje,OAAO,mBAE9GhY,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CAAC3K,MAAOmE,GAAOuzB,cAAcz3B,SAEpC42B,EAASjvB,KAAI,SAAAkI,GAAI,OACfzL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwzB,SAAS13B,SAAA,EAG3BoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyzB,aAC9B3yB,QAAS,kBAAM0L,EAAKumB,kCAAkCpnB,EAAK,EAAC7P,SAAA,EAE5DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0zB,kBAAkB53B,SAAC,aACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO2zB,qBAAqB73B,SAAE6P,EAAKgnB,YAElDzyB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4zB,cAAc93B,SAAA,EAChCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOuP,UACvBkO,aAAa,UACbpW,mBAAmB,EACnB3H,MAAOgzB,EAAS7Z,MAAK,SAAAvc,GAAE,OAAIA,EAAGq2B,QAAUhnB,EAAKgnB,KAAK,IAAEC,WACpDrrB,aAAc,SAAC0rB,GAAM,OAAKzmB,EAAKsmB,8BAA8BG,EAAQtnB,EAAKgnB,MAAM,KAElFl2B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6zB,eAAe/3B,SAAC,WAfjC6P,EAAKgnB,MAiBL,OAIbl2B,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEwB,UAAW,KAC3DvB,QAAS,kBAAM0L,EAAKqmB,6BAA6B,EAAC/2B,UAElDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAC,mBAEzCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAC9BC,QAAS,kBAAM0L,EAAKuR,cAAc,EAACjiB,UAEnCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,eAEnDhG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAM0L,EAAKnN,MAAMi0B,2BAA2B,GAAG,EAACx3B,UAEzDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACgwB,CAAA,CAlHmC,CAASxxB,EAAAA,WAuHzCjB,IAFYgQ,EAAAA,QAAWC,IAAI,UAAU3N,OAE5BpB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAETE,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEb0xB,cAAe,CACbj3B,WAAY,eACZ0D,MAAO,QACP3D,SAAU,IAEZiE,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEbmxB,cAAe,CACbjxB,OAAQ,KAEVkxB,SAAU,CACRlxB,OAAQ,GAERL,eAAgB,EAChBoH,iBAAkB,GAClBrG,cAAe,OAEjBywB,aAAc,CACZ9xB,KAAM,EACNE,eAAgB,UAElB+xB,cAAe,CACbjyB,KAAM,EACNI,aAAc,EACdiB,cAAe,MACf5B,gBAAiBZ,EAAMrC,MACvByD,WAAY,SACZC,eAAgB,YAElB6xB,kBAAmB,CACjB72B,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAMzC,MAEf41B,qBAAsB,CACpB92B,WAAY,eACZD,SAAU,GACV2D,MAAO,SAETgP,UAAW,CACTzN,MAAO,MACPjF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,SAEbyxB,eAAgB,CACdh3B,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTY,kBAAmB,O,4hCCjO6B,IAE/BgxB,GAAK,SAAA90B,IAAAC,EAAAA,EAAAA,SAAA60B,EAAA90B,GAAA,IAAAE,EAAAC,GAAA20B,GAExB,SAAAA,EAAY10B,GAAQ,IAADM,EAmBgC,OAnBhCL,EAAAA,EAAAA,SAAA,KAAAy0B,IACjBp0B,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXyvB,SAAU/yB,EAAKN,MAAM20B,kBAAkBvwB,KAAI,SAAAnH,GAAE,MAAK,CAChDq2B,MAAOr2B,EAAGq2B,MACV5f,OAAQzW,EAAGyW,OACXkhB,aAAc,GACf,IACDtR,mBAAoB,GACpBuR,0BAA0B,EAC1B7O,6BAA6B,GAE/B1lB,EAAKijB,sBAAwBjjB,EAAKijB,sBAAsB3e,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAKw0B,8BAAgCx0B,EAAKw0B,8BAA8BlwB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKy0B,cAAgBz0B,EAAKy0B,cAAcnwB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5CA,EAAK00B,iCAAmC10B,EAAK00B,iCAAiCpwB,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAK20B,mCAAqC30B,EAAK20B,mCAAmCrwB,MAAIC,EAAAA,EAAAA,SAAAvE,IACtFA,EAAK2zB,2BAA6B3zB,EAAK2zB,2BAA2BrvB,MAAIC,EAAAA,EAAAA,SAAAvE,IACtEA,EAAKwkB,8BAAgCxkB,EAAKwkB,8BAA8BlgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CAuQC,OAvQAH,EAAAA,EAAAA,SAAAu0B,EAAA,EAAAt0B,IAAA,oBAAAC,MAED,WAEA,GAAC,CAAAD,IAAA,wBAAAC,MAED,SAAsBiM,GACpB,IAAAlG,EAAyC3F,KAAKmD,MAAtC0f,EAAkBld,EAAlBkd,mBAAoB+P,EAAQjtB,EAARitB,SACpBlQ,EAAe1iB,KAAKT,MAApBmjB,WACR,IAAIkQ,EAAS,GAAGuB,aAAalU,MAAK,SAAA2G,GAAG,OAAIA,EAAI3T,SAAWpH,EAAKoH,MAAM,IAAnE,CAIA,IAAI+P,EAA2BH,EAC/B,GAAKA,EAAmB5C,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAO1D+P,EAA2BA,EAAyBpR,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,QAAUzW,EAAGomB,YAAc/W,EAAKoH,MAAM,QAP7D,CAC7D+P,EAAyBle,KAAK+G,GAC9B,IAAI4oB,EAAa,GACjBA,EAAa/R,EAAW9Q,QAAO,SAAApV,GAAE,OAAIA,EAAGomB,YAAc/W,EAAKoH,MAAM,IACjEnT,QAAQC,IAAI,aAAc00B,GAC1BA,EAAWl4B,SAAQ,SAAAC,GAAE,OAAIwmB,EAAyBle,KAAKtI,EAAG,GAC5D,CAGAwD,KAAK0E,SAAS,CACZme,mBAAoBG,GAbtB,CAeF,GAAC,CAAArjB,IAAA,mCAAAC,MAED,WACE,IAAQ8iB,EAAe1iB,KAAKT,MAApBmjB,WACRlW,EAAyCxM,KAAKmD,MAAtC0f,EAAkBrW,EAAlBqW,mBAAoB+P,EAAQpmB,EAARomB,SACxB5P,EAA2BH,EAC/BH,EAAWnmB,SAAQ,SAAAC,GACbo2B,EAAS,GAAGuB,aAAalU,MAAK,SAAA2G,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,KAAK4P,EAAmB5C,MAAK,SAAA2G,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,KAG7H+P,EAAyBle,KAAKtI,EAChC,IACAwD,KAAK0E,SAAS,CACZme,mBAAoBG,GAExB,GAAC,CAAArjB,IAAA,qCAAAC,MAED,WACEI,KAAK0E,SAAS,CACZme,mBAAoB,IAExB,GAAC,CAAAljB,IAAA,gCAAAC,MAED,WAEoC,IADHI,KAAKmD,MAA5B0f,mBACelO,QAGvB3U,KAAK0E,SAAS,CACZ0vB,0BAA0B,GAE9B,GAAC,CAAAz0B,IAAA,gBAAAC,MAED,WACEI,KAAK0E,SAAS,CACZkuB,SAAU5yB,KAAKT,MAAM20B,kBAAkBvwB,KAAI,SAAAnH,GAAE,MAAK,CAChDq2B,MAAOr2B,EAAGq2B,MACV5f,OAAQzW,EAAGyW,OACXkhB,aAAc,GACf,KAEL,GAAC,CAAAx0B,IAAA,gCAAAC,MAED,SAA8BuoB,EAAS6C,GACrChrB,KAAK0E,SAAS,CACZ6gB,6BAA6B,IAE1B4C,GAGLnoB,KAAKie,aAAakK,EACpB,GAAC,CAAAxoB,IAAA,6BAAAC,MAED,SAA2B80B,GAEzB,GADA50B,QAAQC,IAAI,eAAgB20B,GACvBA,EAAL,CAOA,IAAA/lB,EAAyC3O,KAAKmD,MAAtCyvB,EAAQjkB,EAARikB,SAAU/P,EAAkBlU,EAAlBkU,mBACduQ,EAAiBR,EACrBQ,EAAe72B,SAAQ,SAAAC,GACrBqmB,EAAmBtmB,SAAQ,SAAAqqB,GACzBpqB,EAAG23B,aAAarvB,KAAIjI,GAAAA,GAAC,CAAC,EACjB+pB,GAAG,IACNkM,WAAY4B,EAAa3b,MAAK,SAAAlN,GAAI,OAAIA,EAAKgnB,QAAUr2B,EAAGq2B,KAAK,IAAEC,aAEnE,GACF,IACA9yB,KAAK0E,SAAS,CACZ0vB,0BAA0B,EAC1BvR,mBAAoB,GACpB+P,SAAUQ,GAdZ,MALEpzB,KAAK0E,SAAS,CACZ0vB,0BAA0B,EAC1BvR,mBAAoB,IAmB1B,GAAC,CAAAljB,IAAA,eAAAC,MAED,SAAauoB,GACX,IAAAzZ,EAAkC1O,KAAKT,MAA/BykB,EAAetV,EAAfsV,gBAAiBvZ,EAAIiE,EAAJjE,KACjBmoB,EAAa5yB,KAAKmD,MAAlByvB,SAEJ5O,EAAgBrP,OAAS,IAAMwT,IAAY1d,EAAKib,eAClD1lB,KAAK0E,SAAS,CACZ6gB,6BAA6B,IAKjCvlB,KAAKT,MAAMo1B,sBAAsB/B,EAAUnoB,EAAKib,gBAAkByC,EACpE,GAAC,CAAAxoB,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACPuxB,EAA8F50B,KAAKT,MAAvEod,GAARiY,EAAZ33B,aAAkB23B,EAAJnqB,KAAmBmqB,EAAbjY,eAAkC+F,GAAFkS,EAAjBV,kBAA6BU,EAAVlS,YAAYsB,EAAe4Q,EAAf5Q,gBAC1E7M,EAAgGnX,KAAKmD,MAA7FyvB,EAAQzb,EAARyb,SAAU/P,EAAkB1L,EAAlB0L,mBAAoBuR,EAAwBjd,EAAxBid,yBAA0B7O,EAA2BpO,EAA3BoO,4BAGhE,OAFAzlB,QAAQC,IAAI,aAGVK,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1Bo4B,IACAz3B,EAAAA,EAAAA,KAACg2B,GAAiB,CAChBC,SAAUA,EACV/P,mBAAoBA,EACpB2Q,2BAA4BxzB,KAAKwzB,6BAGnCjO,IACA5oB,EAAAA,EAAAA,KAACmnB,GAAoB,CACnBM,aAAa,gBACbJ,gBAAiBA,EACjBK,8BAA+BrkB,KAAKqkB,iCAExC1nB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,UAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO20B,QAAQ74B,SAAA,EAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAC,WACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE2gB,EAAc1H,WACxD7U,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAE0mB,EAAW/N,OAAO,gBAE3DvU,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMqC,EAAKixB,eAAe,EAACt4B,SAAA,EAEpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,YAElCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMqC,EAAKmxB,oCAAoC,EAACx4B,SAAA,EAEzDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,cAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,YAElCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMqC,EAAKkxB,kCAAkC,EAACv4B,SAAA,EAEvDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,YAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,eAGpCoE,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CAAC3K,MAAO,CAACmE,GAAO40B,gBAAgB94B,SAAA,EACzCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE+M,WAAY,KAEzB4Z,EAAW/e,KAAI,SAAAkI,GAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACfsa,YAAWwX,EAAS,GAAGuB,aAAalU,MAAK,SAAA2G,GAAG,OAAIA,EAAI3T,SAAWpH,EAAKoH,MAAM,MAAKpH,EAAK+W,WACpF7mB,MAAO,CAACmE,GAAOmJ,mBAAoBwZ,EAAmB5C,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,KAAK,CAAE3R,gBAAiBZ,EAAM1C,WAAa40B,EAAS,GAAGuB,aAAalU,MAAK,SAAA2G,GAAG,OAAIA,EAAI3T,SAAWpH,EAAKoH,MAAM,KAAKpH,EAAK+W,YAAc,CAAEvgB,QAAS,KACvOrB,QAAS,kBAAMqC,EAAKyf,sBAAsBjX,EAAK,EAAC7P,SAAA,EAEhDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKqb,cACtF9mB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyJ,yBAAyB3N,SAAA,EAE3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAC/B6P,EAAK+W,UAAY,KAAO,KAAM/W,EAAKyN,YAErCzN,EAAKolB,SAAUt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkJ,iBAAiBpN,SAAE6P,EAAKolB,UAAkB,SAEhFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,oBAdD0C,EAAKoH,OAiBT,QAIzBtW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO60B,aAA4C,IAA9BlS,EAAmBlO,OAAe,CAAErT,gBAAiBZ,EAAM1C,UAAa,CAAEqE,QAAS,KAChI+Y,SAAwC,IAA9ByH,EAAmBlO,OAC7B3T,QAAS,kBAAMqC,EAAKgxB,+BAA+B,EAACr4B,UAEpDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,qBAGhC42B,EAAS,GAAGuB,aAAaxf,SAAW+N,EAAW/N,QAC7ChY,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO60B,aAC9B/zB,QAAS,kBAAMqC,EAAK4a,cAAc,EAACjiB,UAEnCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6C,WAAY,CAAEtC,MAAOC,EAAM3C,WAAY/B,SAAC,qBAG/DW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO60B,aAC9B/zB,QAAS,kBAAMqC,EAAK9D,MAAMo1B,sBAAsB,GAAG,EAAC34B,UAEpDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6C,WAAY,CAAEtC,MAAOC,EAAMzC,OAAQjC,SAAC,iBAKnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,UACjCW,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CAAC3K,MAAOmE,GAAO80B,YACxB7a,YAAY,EACZ8a,eAAgBC,GAChBC,iBAAiB,OAAMn5B,SAGrB42B,EAASjvB,KAAI,SAACijB,EAAK9R,GAAK,OACtB1U,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO20B,QAAQ74B,SAAA,EAG1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOK,iBAAkB,CAAEE,MAAOC,EAAMzC,KAAMoE,QAAS,IAAKrG,SAAA,CAAC,SAAO8Y,EAAQ,EAAE,OAAK8d,EAASje,WAC1GhY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE4qB,EAAIiM,SAC9CzyB,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAE4qB,EAAIuN,aAAaxf,OAAO,gBAEjEvU,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CAAC3K,MAAOmE,GAAO40B,eAAe94B,SAAA,EACvCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE+M,WAAY,KAEzB8d,EAAIuN,aAAaxwB,KAAI,SAAAkI,GAAI,OACvBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOmJ,mBAAmBrN,SAAA,EAGjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKqb,cACtF9mB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyJ,yBAAyB3N,SAAA,EAE3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAC/B6P,EAAK+W,UAAY,KAAO,KAAM/W,EAAKyN,YAErCzN,EAAKolB,SAAUt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkJ,iBAAiBpN,SAAE6P,EAAKolB,UAAkB,SAEhFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAE0E,MAAOC,EAAM3C,UAAW/B,SAAE6P,EAAKinB,cAAkBn2B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAE0E,MAAOC,EAAMrC,OAAQrC,SAAC,cAdpF6P,EAAKoH,OAiBT,SA5BpB2T,EAAIiM,MAgCJ,UAQrB,KAACoB,CAAA,CA7RuB,CAAS9yB,EAAAA,WAgS7B+zB,GAAehlB,EAAAA,QAAWC,IAAI,UAAUnO,MAAQ,EAEhD9B,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,GAER8F,eAAgB,CACd9F,KAAM,GAERgzB,QAAS,CACPhzB,KAAM,EACNG,MAAOkzB,IAETF,YAAa,CACXhzB,MAAO,OACPQ,OAAQ,QAEVsyB,eAAgB,CACdjzB,KAAM,EACNI,aAAc,EACdQ,OAAQ,EACRnB,gBAAiBZ,EAAMpC,OAEzBgC,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEbM,iBAAkB,CAChBM,cAAe,MACfpB,WAAY,SACZC,eAAgB,UAElBc,OAAQ,CACNL,OAAQ,GACRR,MAAO,GACPC,aAAc,EACdQ,OAAQ,EACRnB,gBAAiBZ,EAAMpC,MACvBwD,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVhG,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVsF,cAAe,aAEjB2yB,aAAc,CACZvyB,OAAQ,GACRC,OAAQ,EACRnB,gBAAiBZ,EAAMpC,MACvBwD,WAAY,SACZC,eAAgB,UAElBoH,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB9H,WAAY,SACZC,eAAgB,SAChBC,MAAO,M,6cC7Y6B,IAEnBozB,GAAqB,SAAAj2B,IAAAC,EAAAA,EAAAA,SAAAg2B,EAAAj2B,GAAA,IAAAE,EAAAC,GAAA81B,GAExC,SAAAA,EAAY71B,GAAQ,IAADM,EAIf,OAJeL,EAAAA,EAAAA,SAAA,KAAA41B,IACjBv1B,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXxC,YAAa,IACbd,CACJ,CA2CC,OA3CAH,EAAAA,EAAAA,SAAA01B,EAAA,EAAAz1B,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACC1C,EAAgBX,KAAKmD,MAArBxC,YAGR,OAFAb,QAAQC,IAAI,6BAGVpD,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,wBAE3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvBE,WAAW,EACX/O,YAAY,kBACZC,qBAAqB,wBACrBlI,aAAc,SAAC7G,GAAI,OAAKyC,EAAKqB,SAAS,CAAE/D,YAAaC,GAAO,EAC5DoP,gBAAiB,kBAAM3M,EAAK9D,MAAM81B,+BAA+B10B,EAAY,EAC7Ef,MAAOe,KAEThE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPqC,EAAKqB,SAAS,CAAE/D,YAAa,KAC7BoZ,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,gBAIrD7B,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAC9BC,QAAS,kBAAMqC,EAAK9D,MAAM81B,+BAA+B10B,EAAY,EAAC3E,UACtEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,eAEnDhG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMqC,EAAK9D,MAAM81B,+BAA+B,GAAG,EAACr5B,UAC7DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACyyB,CAAA,CAlDuC,CAASj0B,EAAAA,WAqD7CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,SACZoG,aAAc,IAEhBoW,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfsC,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,Y,6cC7I2C,IAErCgzB,GAAgB,SAAAn2B,IAAAC,EAAAA,EAAAA,SAAAk2B,EAAAn2B,GAAA,IAAAE,EAAAC,GAAAg2B,GAEnC,SAAAA,EAAY/1B,GAAQ,IAADM,EAWgC,OAXhCL,EAAAA,EAAAA,SAAA,KAAA81B,IACjBz1B,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXkc,kBAAmB,GACnBpO,OAAQ,GACR4Q,gBAAiB,GACjB0T,oBAAqB,GACrBhQ,6BAA6B,GAE/B1lB,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAKwkB,8BAAgCxkB,EAAKwkB,8BAA8BlgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CAoKC,OApKAH,EAAAA,EAAAA,SAAA41B,EAAA,EAAA31B,IAAA,oBAAAC,MAED,WAAqB,IAADyD,EAAA,KAClBqL,EAA8C1O,KAAKT,MAA3CtC,EAAYyR,EAAZzR,aAAcwN,EAAIiE,EAAJjE,KAAMkS,EAAajO,EAAbiO,cACxBvP,EAAMnQ,EAAe,aACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,YAAa,KAE3B9P,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAEJ,IAAM4oB,EAAmB5oB,EAASgF,QAAO,SAAApV,GACvC,OAAOA,EAAGyY,UAAY0H,EAAc1H,OACtC,IACA5R,EAAKqB,SAAS,CACZuM,OAAQukB,EACR3T,gBAAiB2T,GAErB,IACCrnB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAA+E,EAAoC3F,KAAKmD,MAAjC8N,EAAMtL,EAANsL,OACJgR,GAD2Btc,EAAfkc,gBACY,IAC5B7hB,KAAK0E,SAAS,CAAE2a,kBAAmBze,IACnC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GAExB6I,EAAwBhR,EACnBrQ,GAMLqhB,EAAwBA,EAAsBrQ,QAAO,SAAA/F,GACnD,OAAOA,EAAKoJ,QAAQpU,cAAc0Y,SAASH,IAAavN,EAAKqL,UAAUrW,cAAc0Y,SAASH,EAChG,IACApZ,KAAK0E,SAAS,CACZmd,gBAAiBI,KATjBjiB,KAAK0E,SAAS,CACZmd,gBAAiBI,GAUvB,GAAC,CAAAtiB,IAAA,gCAAAC,MAED,SAA8BuoB,EAAS6C,GACrC,IAAQuK,EAAwBv1B,KAAKmD,MAA7BoyB,oBACHpN,GAMLnoB,KAAK0E,SAAS,CACZ6gB,6BAA6B,IAE/BvlB,KAAKie,aAAasX,EAAqBpN,IARrCnoB,KAAK0E,SAAS,CACZ6gB,6BAA6B,GAQnC,GAAC,CAAA5lB,IAAA,eAAAC,MAED,SAAaiM,EAAMsc,GACjB,IAAQ1d,EAASzK,KAAKT,MAAdkL,KACRzK,KAAK0E,SAAS,CACZ6wB,oBAAqB1pB,IAEK7L,KAAKT,MAAzBykB,gBACYrP,OAAS,IAAMwT,IAAY1d,EAAKib,eAClD1lB,KAAK0E,SAAS,CACZ6gB,6BAA6B,IAIjCvlB,KAAKT,MAAMk2B,0BAA0B5pB,EAAMpB,EAAKib,gBAAkByC,EACpE,GAAC,CAAAxoB,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACP4oB,EAA2C50B,KAAKT,MAAxCod,EAAaiY,EAAbjY,cAAeqH,EAAe4Q,EAAf5Q,gBACvBxX,EAAoFxM,KAAKmD,MAAjFkc,EAAiB7S,EAAjB6S,kBAAmBwC,EAAerV,EAAfqV,gBAAyB0D,GAAF/Y,EAANyE,OAAmCzE,EAA3B+Y,6BAGpD,OAFAzlB,QAAQC,IAAI,sBAAuB4c,IAGjCvc,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,SAAA,CAExBupB,IACA5oB,EAAAA,EAAAA,KAACmnB,GAAoB,CACnBM,aAAa,aACbJ,gBAAiBA,EACjBK,8BAA+BrkB,KAAKqkB,iCAExCjkB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAC,SAAO2gB,EAAc1H,YAC3DtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,mBAE3CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOmhB,kBAC9BrgB,QAAS,kBAAMgL,EAAKzM,MAAMk2B,0BAA0B,GAAG,EAACz5B,UAExDW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,aAE1CL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAACmR,GAAU,OAAK5M,EAAK0T,wBAAwB9G,EAAW,EACtEhZ,MAAOyf,KAGT1iB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPgL,EAAKtH,SAAS,CAAE2a,kBAAmB,KAAM,kBAAMrT,EAAK0T,wBAAwB,GAAG,IAC/E3F,GAAAA,QAASC,SACX,EAAEhe,UAEFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,iBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAE6lB,EAAgBlN,OAAO,eAEjEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB8E,8BAA8B,EAC9BiP,KAAMiM,EACN/L,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOugB,aACfzf,QAAS,kBAAMgL,EAAKiS,aAAapS,EAAK,EAAC7P,SAAA,EACvCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAKqL,eAEtDva,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4gB,0BAA0B9kB,SAAC,mBAGnDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAKoJ,aAGV7U,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,wBAEpBvkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,mCAGP,SAM/B,KAACkU,CAAA,CAlLkC,CAASn0B,EAAAA,WAqLxCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPQ,OAAQ,MACRlB,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdwc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBof,kBAAmB,CAEjBrf,MAAO,GACPQ,OAAQ,GACRP,aAAc,GACdsH,iBAAkB,EAClBzH,WAAY,SACZC,eAAgB,UAElB0e,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAOC,EAAM1C,SACblB,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+e,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdsL,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,S,6cCjUuB,IAEnBi3B,GAAgB,SAAAv2B,IAAAC,EAAAA,EAAAA,SAAAs2B,EAAAv2B,GAAA,IAAAE,EAAAC,GAAAo2B,GAEnC,SAAAA,EAAYn2B,GAAQ,IAADM,EAKsC,OALtCL,EAAAA,EAAAA,SAAA,KAAAk2B,IACjB71B,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACX6wB,cAAe,GAEjBn0B,EAAK81B,gBAAkB91B,EAAK81B,gBAAgBxxB,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACzD,CAkFC,OAlFAH,EAAAA,EAAAA,SAAAg2B,EAAA,EAAA/1B,IAAA,kBAAAC,MAED,SAAgBsd,GACd,GAAa,SAATA,EACFld,KAAK0E,UAAS,SAACkxB,EAAWr2B,GAAK,MAAM,CACnCy0B,cAAe4B,EAAU5B,cAAgB,EAC1C,SAEE,GAAa,UAAT9W,EAAkB,CACzB,GAAiC,IAA7Bld,KAAKmD,MAAM6wB,cAAqB,OACpCh0B,KAAK0E,UAAS,SAACkxB,EAAWr2B,GAAK,MAAM,CACnCy0B,cAAe4B,EAAU5B,cAAgB,EAC1C,GACH,CACF,GAAC,CAAAr0B,IAAA,qBAAAC,MAED,SAAmBgB,GACb2E,MAAM3E,GACRZ,KAAK0E,SAAS,CAAEsvB,cAAe,IAE/Bh0B,KAAK0E,SAAS,CAAEsvB,cAAevuB,OAAO7E,IAE1C,GAAC,CAAAjB,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACC2wB,EAAkBh0B,KAAKmD,MAAvB6wB,cAGR,OAFAl0B,QAAQC,IAAI,wBAGVpD,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,gBACzCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOS,YAAY3E,SAAC,gDAEnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO21B,gBAAgB75B,SAAA,EAClCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO41B,YAC9B90B,QAAS,kBAAMqC,EAAKsyB,gBAAgB,QAAQ,EAAC35B,UAC7CW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,wBAE1C9D,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO61B,aAAa/5B,UAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAO8zB,cACvBzsB,mBAAiB,EACjBoW,aAAa,UACb/d,MAAoB,MAAbo0B,OAAa,EAAbA,EAAeje,WACtBtO,aAAc,SAACmR,GAAU,OAAKvV,EAAK2yB,mBAAmBpd,EAAW,OAErEjc,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO+1B,YAC9Bj1B,QAAS,kBAAMqC,EAAKsyB,gBAAgB,OAAO,EAAC35B,UAC5CW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAOtH,KAAM,GAAI4B,MAAM,2BAG3CL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAA0B,IAAlBmxB,GAAuB,CAAE1yB,gBAAiBZ,EAAM1C,WACvFgD,QAAS,kBAAMqC,EAAKqB,SAAS,CAAEsvB,cAAe,GAAI,EAACh4B,UACnDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAA0B,IAAlBmxB,GAAuB,CAAE1yB,gBAAiBZ,EAAM3C,WACvFiD,QAAS,kBAAMqC,EAAKqB,SAAS,CAAEsvB,cAAe,GAAI,EAACh4B,UACnDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAA0B,IAAlBmxB,GAAuB,CAAE1yB,gBAAiBZ,EAAMzC,OACvF+C,QAAS,kBAAMqC,EAAKqB,SAAS,CAAEsvB,cAAe,GAAI,EAACh4B,UACnDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,YAGpCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAC9BC,QAAS,kBAAMqC,EAAK9D,MAAM22B,0BAA0BlC,EAAe,OAAO,EAACh4B,UAC3EW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAC,qBAEzCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAC9BC,QAAS,kBAAMqC,EAAK9D,MAAM22B,0BAA0BlC,EAAe,SAAS,EAACh4B,UAC7EW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAC,uBAEzCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMqC,EAAK9D,MAAM22B,0BAA0B,GAAG,EAACl6B,UACxDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAAC+yB,CAAA,CA1FkC,CAASv0B,EAAAA,WA6FxCg1B,GAAYjmB,EAAAA,QAAWC,IAAI,UAAU3N,OAAS,EAE9CtC,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAETE,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEb0xB,cAAe,CACbhyB,MAAO,OACPjF,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEbM,iBAAkB,CAChBd,WAAY,SACZC,eAAgB,SAChBmB,cAAe,MACfgF,aAAc,IAEhBrF,OAAQ,CACNL,OAAQ2zB,GAAY,GACpBn0B,MAAOm0B,GAAY,GACnB1zB,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBT,gBAAiBZ,EAAMrC,MACvB4D,aAAc,GAEhBc,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVsF,cAAe,aAEjByzB,gBAAiB,CACfrzB,OAAQ,GACRU,cAAe,MACfnB,eAAgB,SAChBD,WAAY,UAEdg0B,YAAa,CACXj0B,KAAM,EACNqB,cAAe,MACfnB,eAAgB,WAChBD,WAAY,UAEdi0B,aAAc,CACZl0B,KAAM,EACNE,eAAgB,SAChBD,WAAY,SACZyH,iBAAkB,IAEpB0sB,YAAa,CACXp0B,KAAM,EACNqB,cAAe,MACfnB,eAAgB,aAChBD,WAAY,Y,6cC1MwB,IAEnBs0B,GAAkB,SAAAj3B,IAAAC,EAAAA,EAAAA,SAAAg3B,EAAAj3B,GAAA,IAAAE,EAAAC,GAAA82B,GAErC,SAAAA,EAAY72B,GAAQ,IAADM,EAcgC,OAdhCL,EAAAA,EAAAA,SAAA,KAAA42B,IACjBv2B,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXyvB,SAAUrzB,EAAMqzB,SAASjvB,KAAI,SAAAkI,GAAI,MAAK,CACpCgnB,MAAOhnB,EAAKgnB,MACZ5f,OAAQpH,EAAKoH,OACbojB,OAAQ,IACT,IACDC,QAAS,4BAA8B/2B,EAAMod,cAAcyU,WAAW7V,QAAQ,GAC9EgK,6BAA6B,GAE/B1lB,EAAK02B,oBAAsB12B,EAAK02B,oBAAoBpyB,MAAIC,EAAAA,EAAAA,SAAAvE,IACxDA,EAAK22B,0BAA4B32B,EAAK22B,0BAA0BryB,MAAIC,EAAAA,EAAAA,SAAAvE,IACpEA,EAAKwkB,8BAAgCxkB,EAAKwkB,8BAA8BlgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CA2IC,OA3IAH,EAAAA,EAAAA,SAAA02B,EAAA,EAAAz2B,IAAA,sBAAAC,MAED,SAAoBiM,GAClB,IAAQ8Q,EAAkB3c,KAAKT,MAAvBod,cACAiW,EAAa5yB,KAAKmD,MAAlByvB,SACJQ,EAAiBR,EACf9d,EAAQ8d,EAASS,WAAU,SAAA72B,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAC1DqgB,EAAYV,EAAShhB,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAAElF,QAAO,SAACwlB,EAAM3M,GAAU,OAAO2M,EAAO9tB,OAAOmhB,EAAIyP,OAAS,GAAG,GAC5H/C,GAAa7tB,OAAOkX,EAAcyU,cACpCgC,EAAete,GAAOuhB,QAAU5wB,OAAOkX,EAAcyU,YAAckC,GAAW/X,QAAQ,GAAGxF,WACzF/V,KAAK0E,SAAS,CACZkuB,SAAUQ,IAGhB,GAAC,CAAAzzB,IAAA,4BAAAC,MAED,SAA0BuzB,EAAQN,GAChC,IAAQD,EAAa5yB,KAAKmD,MAAlByvB,SACJQ,EAAiBR,EAErBQ,EADYR,EAASS,WAAU,SAAA72B,GAAE,OAAIA,EAAGq2B,QAAUA,CAAK,KACjCwD,OAASlD,EAC/BnzB,KAAK0E,SAAS,CACZkuB,SAAUQ,IACT,kBAAMtzB,QAAQC,IAAI,kBAAmB6yB,EAAS,GACnD,GAAC,CAAAjzB,IAAA,gCAAAC,MAED,SAA8BuoB,EAAS6C,GACrChrB,KAAK0E,SAAS,CACZ6gB,6BAA6B,IAE1B4C,GAGLnoB,KAAKie,aAAakK,EACpB,GAAC,CAAAxoB,IAAA,eAAAC,MAED,SAAauoB,GACX,IAAAzZ,EAAiD1O,KAAKT,MAA9Cod,EAAajO,EAAbiO,cAAeqH,EAAetV,EAAfsV,gBAAiBvZ,EAAIiE,EAAJjE,KAChCmoB,EAAa5yB,KAAKmD,MAAlByvB,SACFU,EAAYV,EAAS7kB,QAAO,SAACwlB,EAAM3M,GAAU,OAAO2M,EAAO9tB,OAAOmhB,EAAIyP,OAAS,GAAG,GAAG9a,QAAQ,GAEnG,GADAzb,QAAQC,IAAI,YAAauzB,GACrBV,EAAS3S,MAAK,SAAApU,GAAI,OAA4B,IAAxBpG,OAAOoG,EAAKwqB,OAAa,KAAM5wB,OAAO6tB,KAAe7tB,OAAOkX,EAAcyU,YAKlG,OAJAtxB,QAAQC,IAAI,0BACZC,KAAK0E,SAAS,CACZ4xB,QAAS,0CAA4C3Z,EAAcyU,WAAW7V,QAAQ,KAKtFyI,EAAgBrP,OAAS,IAAMwT,IAAY1d,EAAKib,eAClD1lB,KAAK0E,SAAS,CACZ6gB,6BAA6B,IAKjCvlB,KAAKT,MAAMk3B,4BAA4B7D,EAAUnoB,EAAKib,gBAAkByC,EAC1E,GAAC,CAAAxoB,IAAA,eAAAC,MAED,WACE,IAAQ+c,EAAkB3c,KAAKT,MAAvBod,cACAiW,EAAa5yB,KAAKmD,MAAlByvB,SACJQ,EAAiBR,EAEf8D,EAAQjxB,OAAOkX,EAAcyU,WAAawB,EAASje,QAAQ4G,QAAQ,GAEzE6X,EAAe72B,SAAQ,SAACC,EAAIsY,GACtBA,IAAUse,EAAeze,OAAS,EACpCnY,EAAG65B,OAAS5wB,OAAOixB,GAAOnb,QAAQ,GAElC/e,EAAG65B,QAAU1Z,EAAcyU,WAAasF,GAAStD,EAAeze,OAAS,IAAI4G,QAAQ,EAEzF,IAEAvb,KAAK0E,SAAS,CACZkuB,SAAUQ,IACT,kBAAMtzB,QAAQC,IAAI,kBAAmB6yB,EAAS,GACnD,GAAC,CAAAjzB,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACPuxB,EAA2C50B,KAAKT,MAAzBykB,GAAF4Q,EAAbjY,cAA8BiY,EAAf5Q,iBACvBre,EAA2D3F,KAAKmD,MAAxDyvB,EAAQjtB,EAARitB,SAAU0D,EAAO3wB,EAAP2wB,QAAS/Q,EAA2B5f,EAA3B4f,4BAG3B,OAFAzlB,QAAQC,IAAI,0BAGVK,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,SAAA,CAExBupB,IACA5oB,EAAAA,EAAAA,KAACmnB,GAAoB,CACnBM,aAAa,kBACbJ,gBAAiBA,EACjBK,8BAA+BrkB,KAAKqkB,iCAExCjkB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,kBACzCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOS,YAAY3E,SAAEs6B,QAEpC35B,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CAAC3K,MAAOmE,GAAOuzB,cAAcz3B,SAEpC42B,EAASjvB,KAAI,SAAAkI,GAAI,OACfzL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwzB,SAAS13B,SAAA,EAG3BoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyzB,aAC9B3yB,QAAS,kBAAMqC,EAAKkzB,oBAAoB1qB,EAAK,EAAC7P,SAAA,EAE9CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0zB,kBAAkB53B,SAAC,aACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO2zB,qBAAqB73B,SAAE6P,EAAKgnB,YAElDzyB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4zB,cAAc93B,SAAA,EAChCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOuP,UACvBkO,aAAa,UACbpW,mBAAmB,EACnB3H,MAAOgzB,EAAS7Z,MAAK,SAAAvc,GAAE,OAAIA,EAAGq2B,QAAUhnB,EAAKgnB,KAAK,IAAEwD,OACpD5uB,aAAc,SAAC0rB,GAAM,OAAK9vB,EAAKmzB,0BAA0BrD,EAAQtnB,EAAKgnB,MAAM,KAE9El2B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6zB,sBAfjBloB,EAAKgnB,MAiBL,OAIbl2B,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEwB,UAAW,KAC3DvB,QAAS,kBAAMqC,EAAKszB,cAAc,EAAC36B,UACnCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAC,mBAEzCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,eAC/BC,QAAS,kBAAMqC,EAAK4a,cAAc,EAACjiB,UACnCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,eAEnDhG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMqC,EAAK9D,MAAMk3B,4BAA4B,GAAG,EAACz6B,UAC1DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,mBAK3D,KAACyzB,CAAA,CA5JoC,CAASj1B,EAAAA,WAiK1CjB,IAFYgQ,EAAAA,QAAWC,IAAI,UAAU3N,OAE5BpB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAETE,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEb0xB,cAAe,CACbj3B,WAAY,eACZ0D,MAAO,QACP3D,SAAU,IAEZiE,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEbmxB,cAAe,CACbjxB,OAAQ,KAEVkxB,SAAU,CACRlxB,OAAQ,GAERL,eAAgB,EAChBoH,iBAAkB,GAClBrG,cAAe,OAEjBywB,aAAc,CACZ9xB,KAAM,EACNE,eAAgB,UAElB+xB,cAAe,CACbjyB,KAAM,EACNI,aAAc,EACdiB,cAAe,MACf5B,gBAAiBZ,EAAMrC,MACvByD,WAAY,SACZC,eAAgB,YAElB6xB,kBAAmB,CACjB72B,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAMzC,MAEf41B,qBAAsB,CACpB92B,WAAY,eACZD,SAAU,GACV2D,MAAO,SAETgP,UAAW,CACTzN,MAAO,MACPjF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,SAEbyxB,eAAgB,CACdh3B,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTY,kBAAmB,O,6cC5QiB,IAEnB2zB,GAAiB,SAAAz3B,IAAAC,EAAAA,EAAAA,SAAAw3B,EAAAz3B,GAAA,IAAAE,EAAAC,GAAAs3B,GAEpC,SAAAA,EAAYr3B,GAAQ,IAADM,EASsD,OATtDL,EAAAA,EAAAA,SAAA,KAAAo3B,IACjB/2B,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXxC,YAAa,GACb0e,kBAAmB,GACnBwX,eAAgBt3B,EAAMs3B,eACtBC,wBAAyBv3B,EAAMs3B,eAC/BE,sBAAuB,MAEzBl3B,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACzE,CAuHC,OAvHAH,EAAAA,EAAAA,SAAAk3B,EAAA,EAAAj3B,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAQi2B,EAAmB72B,KAAKmD,MAAxB0zB,eACJG,EAAgC,GACpCh3B,KAAK0E,SAAS,CAAE2a,kBAAmBze,IACnC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GAExB4d,EAAgCH,EAC3Bj2B,GAMLo2B,EAAgCA,EAA8BplB,QAAO,SAAA/F,GACnE,OAAOA,EAAKorB,KAAKp2B,cAAc0Y,SAASH,IAAavN,EAAK1F,KAAKtF,cAAc0Y,SAASH,EACxF,IACApZ,KAAK0E,SAAS,CACZoyB,wBAAyBE,KATzBh3B,KAAK0E,SAAS,CACZoyB,wBAAyBE,GAU/B,GAAC,CAAAr3B,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACPsC,EAA2F3F,KAAKmD,MAAxFxC,EAAWgF,EAAXhF,YAAao2B,EAAqBpxB,EAArBoxB,sBAAuBD,EAAuBnxB,EAAvBmxB,wBAAyBzX,EAAiB1Z,EAAjB0Z,kBAGrE,OAFAvf,QAAQC,IAAI,uBAAwB+2B,IAGlCn6B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,oBAE3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvBE,WAAW,EACXd,aAAa,UACbjO,YAAY,aACZC,qBAAqB,wBACrBlI,aAAc,SAAC7G,GAAI,OAAKyC,EAAKqB,SAAS,CAAE/D,YAAaC,GAAO,EAC5DhB,MAAOe,KAEThE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPqC,EAAKqB,SAAS,CAAE/D,YAAa,KAC7BoZ,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,gBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEukB,cAAe,OAC9BlgB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsgB,cAAcxkB,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoe,iBAAkB,CAAE/U,iBAAkB,IAAKvN,SAAA,EAC9DW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAACmR,GAAU,OAAKvV,EAAKqc,wBAAwB9G,EAAW,EACtEhZ,MAAOyf,KAET1iB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPqC,EAAKqB,SAAS,CAAE2a,kBAAmB,KAAM,kBAAMhc,EAAKqc,wBAAwB,GAAG,IAC/E3F,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,gBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAE86B,EAAwBniB,OAAO,eAEzEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB+T,KAAMkhB,EACNhhB,aAAc,SAACjK,EAAMiJ,GAAK,OAAKA,EAAMiB,UAAU,EAC/CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOugB,aAAkC,MAArBsW,OAAqB,EAArBA,EAAuBE,QAASprB,EAAKorB,MAAQ,CAAE31B,gBAAiBZ,EAAM1C,WAClGgD,QAAS,kBAAMqC,EAAKqB,SAAS,CAAEqyB,sBAAuBlrB,GAAQ,EAAC7P,SAAA,EAC/DoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAKorB,UAEtDt6B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4gB,kCAGxBnkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAK1F,UAGV/F,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,wBAEpBvkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,mCAGP,QAIzBzkB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAC9BC,QAAS,kBAAMqC,EAAK9D,MAAM23B,2BAA2Bv2B,EAAao2B,EAAsB,EAAC/6B,UACzFW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,eAEnDhG,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMqC,EAAK9D,MAAM23B,4BAA4B,EAACl7B,UACvDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACi0B,CAAA,CAnImC,CAASz1B,EAAAA,WAsIzCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPQ,OAAQ,MACRlB,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdwc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwc,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBof,kBAAmB,CAEjBrf,MAAO,GACPQ,OAAQ,GACRP,aAAc,GACdsH,iBAAkB,EAClBzH,WAAY,SACZC,eAAgB,UAElB0e,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAOC,EAAM5C,OACbhB,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+e,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdsL,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf8hB,WAAY,CACVxjB,WAAY,eACZ0D,MAAO,QACP3D,SAAU,IAEZ0jB,cAAe,CACb3e,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB4D,aAAc,EACdsH,iBAAkB,EAClBrB,aAAc,GAEhBnH,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,Y,6cC9SqB,IAEf60B,GAAmB,SAAAh4B,IAAAC,EAAAA,EAAAA,SAAA+3B,EAAAh4B,GAAA,IAAAE,EAAAC,GAAA63B,GAEtC,SAAAA,EAAY53B,GAAO,OAAAC,EAAAA,EAAAA,SAAA,KAAA23B,GAAA93B,EAAAI,KAAA,KACXF,EACR,CAwCC,OAxCAG,EAAAA,EAAAA,SAAAy3B,EAAA,EAAAx3B,IAAA,SAAAC,MAED,WAAU,IAADC,EAAA,KACC+yB,EAAa5yB,KAAKT,MAAlBqzB,SAGR,OAFA9yB,QAAQC,IAAI,kBAAmBC,KAAKT,QAGlC5C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAC,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,uBACzCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOS,kBAEtBhE,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CAAC3K,MAAOmE,GAAOuzB,cAAcz3B,SAEpC42B,EAASjvB,KAAI,SAAAkI,GAAI,OACfzL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwzB,SAAS13B,SAAA,EAG3BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyzB,aAAa33B,SAAA,EAC/BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0zB,kBAAkB53B,SAAC,aACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO2zB,qBAAqB73B,SAAE6P,EAAKgnB,YAElDzyB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4zB,cAAc93B,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOuP,UAAUzT,SAAE6P,EAAKulB,WAAavlB,EAAKulB,WAAW7V,QAAQ,GAAK,QAC/E5e,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6zB,sBARjBloB,EAAKoH,OAUL,OAIbtW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOa,cAC9BC,QAAS,kBAAMnB,EAAKN,MAAM63B,6BAA6B,GAAG,EAACp7B,UAE3DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAC,aAKjD,KAACm7B,CAAA,CA5CqC,CAASh2B,EAAAA,WA+C3CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb3B,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEbmxB,cAAe,CACbjxB,OAAQ,KAEVkxB,SAAU,CACRlxB,OAAQ,GAERL,eAAgB,EAChBoH,iBAAkB,GAClBrG,cAAe,OAEjBywB,aAAc,CACZ9xB,KAAM,EACNE,eAAgB,UAElB+xB,cAAe,CACbjyB,KAAM,EACNI,aAAc,EACdiB,cAAe,MACf5B,gBAAiBZ,EAAMrC,MACvByD,WAAY,SACZC,eAAgB,YAElB6xB,kBAAmB,CACjB72B,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAMzC,MAEf41B,qBAAsB,CACpB92B,WAAY,eACZD,SAAU,GACV2D,MAAO,SAETgP,UAAW,CACTzN,MAAO,MACPjF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,SAEbyxB,eAAgB,CACdh3B,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTY,kBAAmB,M,qhBCnJK,IAEtBo0B,GAAQ,WACZ,SAAAA,EAAYC,IAAM93B,EAAAA,EAAAA,SAAA,KAAA63B,GAChB56B,OAAO86B,eAAev3B,KAAM,WAAY,CACtCJ,MAAOI,KAAKw3B,SAASF,IAEzB,CAsIC,OAtIA53B,EAAAA,EAAAA,SAAA23B,EAAA,EAAA13B,IAAA,SAAAC,MACD,WACE,OAAOI,KAAKy3B,QACd,GAAC,CAAA93B,IAAA,UAAAC,MAED,SAAQ83B,EAAGC,EAAGC,GACZ,OAAID,EAAIE,OAAOH,GAAG/iB,OACT+iB,EAAE3hB,WAGF1Z,MAAMs7B,EAAIE,OAAOH,GAAG/iB,OAAS,GAAGoZ,KAAK6J,GAAO,KAAOF,CAE9D,GAAC,CAAA/3B,IAAA,QAAAC,MAED,SAAM83B,GACJ,IA6COI,EA7CHC,EAAW,CAAC,EAAQ,KAAQ,KAAQ,MAAQ,MAAQ,MACtD,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,IACxC,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,KAAQ,MAAQ,KAAQ,KACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,KAAQ,KAAQ,KAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,KAAQ,KAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,KAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,KAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,KACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,IACxC,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,IAAQ,KAAQ,KAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,KAAQ,KAAQ,KAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,MACxC,KAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,KAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,KACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,KACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxC,MAAQ,MAAQ,KAAQ,MAEtBC,EAAM,MAGV,IAAKF,EAAI,EAAGA,EAAIJ,EAAE/iB,OAAQmjB,IAAK,CAE7B,IAAIG,EAAIP,EAAEQ,WAAWJ,GACrB,GAAIG,EAAI,IACN,MAAM,IAAIE,WAGZH,EAAMD,EADiB,KAAlBE,EAAKD,GAAO,IACIA,GAAO,CAC9B,CAEA,OAAoB,OAAL,EAANA,IAAmBjiB,SAAS,IAAIlV,aAC3C,GAAC,CAAAlB,IAAA,WAAAC,MAGD,SAAS03B,GAAO,IAADz3B,EAAA,KAEb,IAAK,IAAIF,KAAO23B,EACU,iBAAbA,EAAK33B,KACd23B,EAAK33B,GAAO23B,EAAK33B,GAAKy4B,QAK1B,IAAMC,EAAI,CACR,CAAEC,GAAI,KAAM14B,MAAO,MACnB,CAAE04B,GAAI,KAAM14B,MAAO,MACnB,CACE04B,GAAI,KAAM14B,MACR,CAAC,CAAE04B,GAAI,KAAM14B,MAAO,aACpB,CAAE04B,GAAI,KAAM14B,MAAO,KACnB,CAAE04B,GAAI,KAAM14B,MAAOi4B,OAAOP,EAAKiB,MAC/B,CAAED,GAAI,KAAM14B,MAAOi4B,QAAQP,EAAKjB,QAAUiB,EAAKkB,SAAW,EAAI,IAC9D,CAAEF,GAAI,KAAM14B,MAAOi4B,OAAOP,EAAKmB,WAEnC,CAAEH,GAAI,KAAM14B,MAAO,QACnB,CAAE04B,GAAI,KAAM14B,MAAO,OACnB,CAAE04B,GAAI,KAAM14B,MAAOi4B,OAAOP,EAAKjB,QAAU,IACzC,CAAEiC,GAAI,KAAM14B,MAAO,MACnB,CAAE04B,GAAI,KAAM14B,MAAOi4B,OAAOP,EAAKoB,SAAW,YAC1C,CAAEJ,GAAI,KAAM14B,MAAO,cAIjB+4B,EAAY,CACdL,GAAI,KAAM14B,MAAO,CAAC,CAChB04B,GAAI,KAAM14B,MAAOi4B,OAAOP,EAAKsB,WAAa,OAI1CtB,EAAKsB,WACPP,EAAEvzB,KAAK6zB,GAGT,IAAIf,EAAMS,EAAEtqB,QAAO,SAAC8qB,EAAOC,GAQzB,OAPIz8B,MAAMC,QAAQw8B,EAAQl5B,SACxBk5B,EAAQl5B,MAAQk5B,EAAQl5B,MAAMmO,QAAO,SAACgrB,EAAGd,GAEvC,OADAc,GAAKd,EAAEK,GAAKz4B,EAAKm5B,QAAQf,EAAEr4B,MAAM+U,OAAOoB,WAAY,GAAKkiB,EAAEr4B,KAE7D,GAAG,KAELi5B,GAASC,EAAQR,GAAKz4B,EAAKm5B,QAAQF,EAAQl5B,MAAM+U,OAAOoB,WAAY,GAAK+iB,EAAQl5B,KAEnF,GAAG,IAQH,OAFAg4B,GAAO,OAAS53B,KAAKg5B,QAAQh5B,KAAKi5B,MAAMrB,EAAM,QAAS,EAIzD,KAACP,CAAA,CA3IW,GA8IOn4B,GAAY,SAAAC,IAAAC,EAAAA,EAAAA,SAAAF,EAAAC,GAAA,IAAAE,EAAAC,GAAAJ,GAE/B,SAAAA,EAAYK,GAAQ,IAAD8D,EAIhB,OAJgB7D,EAAAA,EAAAA,SAAA,KAAAN,IACjBmE,EAAAhE,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXC,MAAO7D,EAAM6D,OACdC,CACH,CA8CC,OA9CA3D,EAAAA,EAAAA,SAAAR,EAAA,EAAAS,IAAA,oBAAAC,MAED,WACE,IAAQ6K,EAASzK,KAAKT,MAAdkL,KACJyuB,EAAS,IAAI7B,GAAS,CACxBkB,IAAK9tB,EAAK8tB,IACVlC,OAAQ5wB,OAAOzF,KAAKT,MAAM6D,MAAMizB,QAChCmC,UAAU,EACVC,OAAQ9sB,MAAS2J,OAAO,YACxBsjB,UAAW54B,KAAKT,MAAM6D,MAAM+1B,UAC5BT,QAASjuB,EAAK2uB,UAGhBp5B,KAAK0E,SAAS,CACZ20B,aAAcH,EAAOI,UAEzB,GAAC,CAAA35B,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACPrG,EAAgC3F,KAAKmD,MAAtBk2B,GAAF1zB,EAALvC,MAAmBuC,EAAZ0zB,cAGf,OAFAv5B,QAAQC,IAAI,kBAAmBC,KAAKT,QAGlC5C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAA,CAAC,IAAEgE,KAAKT,MAAM6D,MAAMizB,WAC5D15B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOS,YAAa,CAAE4B,UAAW,IAAKvG,SAAEgE,KAAKT,MAAMkL,KAAK2uB,cAExEz8B,EAAAA,EAAAA,KAAC48B,GAAAA,QAAM,CACL16B,KAAM,IACNe,MAAOy5B,EACP54B,MAAM,UACN+4B,KAAMC,GACNC,SAAU,MAEZ/8B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOS,YAAa,CAAE4B,UAAW,IAAKvG,SAAC,kBAEvDW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEiB,MAAO,MACvDhB,QAAS,kBAAMgL,EAAKzM,MAAMo6B,uBAAuB,GAAG,EAAC39B,UACrDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAC,mBAKjD,KAACkD,CAAA,CArD8B,CAASiC,EAAAA,WAwDpCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CAKdyB,WAAY,SACZP,SAAU,YAEZjB,cAAe,CACbmC,OAAQ,GACRX,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb3B,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,Y,6cCzP2B,IAErBs3B,GAAG,SAAAz6B,IAAAC,EAAAA,EAAAA,SAAAw6B,EAAAz6B,GAAA,IAAAE,EAAAC,GAAAs6B,GACtB,SAAAA,EAAYr6B,GAAQ,IAADM,EAyEgD,OAzEhDL,EAAAA,EAAAA,SAAA,KAAAo6B,IACjB/5B,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXlG,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjCoN,gBAAiB9K,EAAMiM,MAAMC,OAAOpB,gBACpCI,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBosB,eAAgBt3B,EAAMiM,MAAMC,OAAOqC,QAAQ+oB,eAC3CxgB,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SACrC2N,gBAAiBzkB,EAAMiM,MAAMC,OAAOqC,QAAQkW,gBAC5C/E,WAAY1f,EAAMiM,MAAMC,OAAOqC,QAAQmR,WAEvCtC,cAAepd,EAAMiM,MAAMC,OAAOkR,cAClCkd,SAAUt6B,EAAMiM,MAAMC,OAAO8c,QAE7BwO,sBAAuB,KACvB+C,oBAAqB,GACrB5G,aAAc,IACd6G,IAAKx6B,EAAMiM,MAAMC,OAAOkR,cAAcqd,QAEtCC,sBAAsB,EACtBC,8BAA8B,EAC9BC,yBAAyB,EACzBC,yBAAyB,EACzBC,2BAA2B,EAC3BC,0BAA0B,EAC1BC,4BAA4B,EAC5Bzb,mBAAoB,GACpBW,6BAA6B,EAC7Bzb,gCAAgC,EAChCC,qBAAqB,EACrBC,uBAAwB,GACxBkgB,aAAc,GACd8G,gBAAiB,GACjB3F,6BAA6B,EAE7BiV,WAAW,EACXtG,kBAAmB,GACnBuG,cAAe,GACf/X,WAAY,GAEZyT,UAAW,MAEbt2B,EAAK66B,wBAA0B76B,EAAK66B,wBAAwBv2B,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAK86B,0BAA4B96B,EAAK86B,0BAA0Bx2B,MAAIC,EAAAA,EAAAA,SAAAvE,IACpEA,EAAK+6B,eAAiB/6B,EAAK+6B,eAAez2B,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9CA,EAAKg7B,kBAAoBh7B,EAAKg7B,kBAAkB12B,MAAIC,EAAAA,EAAAA,SAAAvE,IACpDA,EAAKi7B,mBAAqBj7B,EAAKi7B,mBAAmB32B,MAAIC,EAAAA,EAAAA,SAAAvE,IACtDA,EAAKk7B,iBAAmBl7B,EAAKk7B,iBAAiB52B,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAKm7B,oBAAsBn7B,EAAKm7B,oBAAoB72B,MAAIC,EAAAA,EAAAA,SAAAvE,IACxDA,EAAKo7B,oBAAsBp7B,EAAKo7B,oBAAoB92B,MAAIC,EAAAA,EAAAA,SAAAvE,IACxDA,EAAKq7B,kBAAoBr7B,EAAKq7B,kBAAkB/2B,MAAIC,EAAAA,EAAAA,SAAAvE,IACpDA,EAAKs7B,uBAAyBt7B,EAAKs7B,uBAAuBh3B,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9DA,EAAKu7B,6BAA+Bv7B,EAAKu7B,6BAA6Bj3B,MAAIC,EAAAA,EAAAA,SAAAvE,IAC1EA,EAAKw7B,0BAA4Bx7B,EAAKw7B,0BAA0Bl3B,MAAIC,EAAAA,EAAAA,SAAAvE,IACpEA,EAAKy7B,iBAAmBz7B,EAAKy7B,iBAAiBn3B,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAK07B,mBAAqB17B,EAAK07B,mBAAmBp3B,MAAIC,EAAAA,EAAAA,SAAAvE,IACtDA,EAAK27B,gBAAkB37B,EAAK27B,gBAAgBr3B,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAK47B,iBAAmB57B,EAAK47B,iBAAiBt3B,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAK67B,mBAAqB77B,EAAK67B,mBAAmBv3B,MAAIC,EAAAA,EAAAA,SAAAvE,IACtDA,EAAK87B,mBAAqB97B,EAAK87B,mBAAmBx3B,MAAIC,EAAAA,EAAAA,SAAAvE,IACtDA,EAAKw1B,+BAAiCx1B,EAAKw1B,+BAA+BlxB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9EA,EAAK41B,0BAA4B51B,EAAK41B,0BAA0BtxB,MAAIC,EAAAA,EAAAA,SAAAvE,IACpEA,EAAKq2B,0BAA4Br2B,EAAKq2B,0BAA0B/xB,MAAIC,EAAAA,EAAAA,SAAAvE,IACpEA,EAAK42B,4BAA8B52B,EAAK42B,4BAA4BtyB,MAAIC,EAAAA,EAAAA,SAAAvE,IACxEA,EAAK80B,sBAAwB90B,EAAK80B,sBAAsBxwB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAKq3B,2BAA6Br3B,EAAKq3B,2BAA2B/yB,MAAIC,EAAAA,EAAAA,SAAAvE,IACtEA,EAAKu3B,6BAA+Bv3B,EAAKu3B,6BAA6BjzB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC1EA,EAAK+e,8BAAgC/e,EAAK+e,8BAA8Bza,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKwkB,8BAAgCxkB,EAAKwkB,8BAA8BlgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAK85B,uBAAyB95B,EAAK85B,uBAAuBx1B,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9DA,EAAK+7B,iBAAmB/7B,EAAK+7B,iBAAiBz3B,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAKg8B,qBAAuBh8B,EAAKg8B,qBAAqB13B,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnE,CAgoDC,OAhoDAH,EAAAA,EAAAA,SAAAk6B,EAAA,EAAAj6B,IAAA,oBAAAC,MAED,WACEI,KAAK27B,oBACP,GAAC,CAAAh8B,IAAA,0BAAAC,MAED,SAAwBsd,GACtB,IAAQgW,EAAiBlzB,KAAKmD,MAAtB+vB,aAGR,GAAa,QAAThW,EACF,GAA4B,IAAxBgW,EAAave,OAAc,CAC7B,IAAImnB,EAAkB5I,EAAa6I,MAAM,GAAI,GAC7C/7B,KAAK0E,SAAS,CACZwuB,aAAc4I,GAElB,MACE97B,KAAK0E,SAAS,CACZwuB,aAAc,WAGb,GAAa,UAAThW,EACY,MAAjBgW,GACFlzB,KAAK0E,SAAS,CACZwuB,aAAc,WAGb,GAAa,MAAThW,EAAc,CACvB,GAAIgW,EAAave,OAASqnB,EAAe,OACzC,GAAI9I,EAAa+I,QAAQ,KAAO,IAAK,CACnC,IAAIH,EAAkB5I,EAAe,IACrClzB,KAAK0E,SAAS,CACZwuB,aAAc4I,GAElB,CACF,MAAO,GAAa,MAAT5e,EAAc,CACvB,GAAIgW,EAAave,OA5BD,EA4BqB,OACrC,GAAIue,EAAa+I,QAAQ,KAAO,KAC1B/I,EAAa/jB,MAAM,KAAK,GAAGwF,OAAS,EAAG,OAE7C,GAAqB,MAAjBue,EAAsB,CACxB,IAAI4I,EAAkB5I,EAAe,IACrClzB,KAAK0E,SAAS,CACZwuB,aAAc4I,GAElB,CACF,MAAO,GAAa,OAAT5e,EAAe,CACxB,GAAIgW,EAAave,OAvCD,EAuCqB,OACrC,GAAIue,EAAa+I,QAAQ,KAAO,KAC1B/I,EAAa/jB,MAAM,KAAK,GAAGwF,OAAS,EAAG,OAE7C,GAAqB,MAAjBue,EAAsB,CACxB,IAAI4I,EAAkB5I,EAAe,KACrClzB,KAAK0E,SAAS,CACZwuB,aAAc4I,GAElB,CACF,KAAO,CACL,GAAI5I,EAAave,OAlDD,EAkDqB,OACrC,GAAIue,EAAa+I,QAAQ,KAAO,KAC1B/I,EAAa/jB,MAAM,KAAK,GAAGwF,OAAS,EAAG,OAE7C,GAAqB,MAAjBue,EAAsB,CACxB,IAAI4I,EAAkB5I,EAAehW,EACrCld,KAAK0E,SAAS,CACZwuB,aAAc4I,GAElB,MACE97B,KAAK0E,SAAS,CACZwuB,aAAchW,GAGpB,CACF,GAAC,CAAAvd,IAAA,4BAAAC,MAED,SAA0Bsd,GAExB,GAAqB,MAAjBA,EAAKgf,QAAiB,CACxB,IAAAv2B,EAAwC3F,KAAKmD,MAAvBwZ,GAAFhX,EAAZutB,aAA2BvtB,EAAbgX,eAClBwf,EAAqB,GAUzB,OAREA,EADExf,EAAcyf,YAAczf,EAAcqd,QACvB7nB,KAAKsE,MAAMkG,EAAcyf,aAEzBjqB,KAAKsE,MAAMkG,EAAcqd,cAEhDh6B,KAAK0E,SAAS,CACZwuB,aAAciJ,EACdpF,sBAAuB7Z,GAG3B,CACAld,KAAK0E,SAAS,CACZqyB,sBAAuB7Z,IAEzBpd,QAAQC,IAAImd,GACZld,KAAK46B,eAAe1d,EACtB,GAAC,CAAAvd,IAAA,oBAAAC,MAED,WAAqB,IAADyD,EAAA,KAClBmJ,EAAgDxM,KAAKmD,MAA7C+vB,EAAY1mB,EAAZ0mB,aAAc6D,EAAqBvqB,EAArBuqB,sBACEtxB,OAAOytB,GAE1B6D,GAkBiC,MAAlCA,EAAsBmF,SACnBl8B,KAAK67B,yBAEZ77B,KAAK0E,SAAS,CACZob,SAAS,IACR,kBAAMzc,EAAK03B,kBAAkB,IAtB9B/6B,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAO,QACPC,SAAU,yBACV3C,KAAM,iCACN4C,IAAI,EACJK,QAAQ,EACRH,QAAS,IAEXO,qBAAqB,GAc3B,GAAC,CAAAtE,IAAA,uBAAAC,MAED,WACE,IAAA+O,EAAwC3O,KAAKmD,MAArC+vB,EAAYvkB,EAAZukB,aAAcvW,EAAahO,EAAbgO,cAChB0f,EAAkB52B,OAAOytB,GACzBoJ,EAAY72B,OAAO62B,UAAUD,GAGnC,OAFAv8B,QAAQC,IAAI,YAAau8B,EAAW3f,EAAcqd,QAASrd,EAAcyf,gBAEpE32B,OAAO62B,UAAUD,IAAoBA,EAAkB1f,EAAcqd,SAAWqC,EAAkB1f,EAAcyf,eACnHp8B,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAO,QACPC,SAAU,uBACV3C,KAAM,oDACN4C,IAAI,EACJK,QAAQ,EACRH,QAAS,IAEXO,qBAAqB,KAEhB,EAIX,GAAC,CAAAtE,IAAA,qBAAAC,MAED,WAAsB,IAADoM,EAAA,KACnBhM,KAAK0E,SAAS,CACZob,SAAS,IACR,kBAAM9T,EAAKivB,qBAAqB,GACrC,GAAC,CAAAt7B,IAAA,sBAAAC,MAED,SAAoBuoB,GAAU,IAADzb,EAAA,KACnBhH,EAAe1F,KAAKT,MAApBmG,WACRyR,EAAmGnX,KAAKmD,MAAhGlG,EAAYka,EAAZla,aAAcwN,EAAI0M,EAAJ1M,KAAMuZ,EAAe7M,EAAf6M,gBAAiB3N,EAAQc,EAARd,SAAUwgB,EAAc1f,EAAd0f,eAAgBla,EAAaxF,EAAbwF,cAEvE,GAF8FxF,EAAR0iB,SAEzE5Z,MAAK,SAAAzjB,GAAE,OAAIq6B,EAAe9d,MAAK,SAAAlN,GAAI,OAAIA,EAAKorB,OAASz6B,EAAGy6B,MAAwB,MAAhBprB,EAAK0wB,MAAc,MAAM//B,EAAGggC,MAAM,IAC7Gx8B,KAAK0E,SAAS,CACZV,+BAAgC,0BAChC8b,SAAS,SAIb,GAAIkE,EAAgBrP,OAAS,IAAMwT,IAAY1d,EAAKib,eAClD1lB,KAAK0E,SAAS,CACZ0f,aAAc,iBACdmB,6BAA6B,QAHjC,CAQA,IAAInY,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,kBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZoZ,gBAAiBpK,EAAc1J,OAC/BkR,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,WAE3F3mB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,iCAAkC6M,GACiB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,iBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACXJ,EAAKhI,SAAS,CACZob,SAAS,EACT9b,+BAAgC4I,EAASE,QAAQjM,gBAIrD6E,EAAWO,QACb,IACCkI,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ1B,EAAKhI,SAAS,CACZob,SAAS,GAEb,GA3CF,CA4CF,GAAC,CAAAngB,IAAA,oBAAAC,MAED,WAAqB,IAAD6O,EAAA,KAClB8I,EAAwDvX,KAAKmD,MAArDlG,EAAYsa,EAAZta,aAAcwN,EAAI8M,EAAJ9M,KAAM4L,EAAQkB,EAARlB,SAAUsG,EAAapF,EAAboF,cAElCvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,mBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,QAEjCzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADyZ,EAChBvmB,QAAQC,IAAI,0BAA2B6M,GACwB,OAAhB,OAA/CyZ,EAAAhQ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CoM,EAAiDnM,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACX2B,EAAK/J,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrD4N,EAAK/J,SAAS,CACZiY,cAAe/P,EAASiZ,UACxBgU,SAAUjtB,EAAS4b,iBACnBuR,IAAKntB,EAASiZ,UAAUmU,UAE1BvrB,EAAKktB,qBACP,IACCxtB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZK,EAAK/J,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,yBAAAC,MAED,SAAuBiM,GACH,WAAdA,EAAKorB,MACPj3B,KAAK0E,SAAS,CACZu1B,sBAAsB,GAG5B,GAAC,CAAAt6B,IAAA,4BAAAC,MAED,SAA0BiM,GACxB7L,KAAK0E,SAAS,CACZo1B,oBAAqBjuB,EACrBquB,8BAA8B,GAElC,GAAC,CAAAv6B,IAAA,+BAAAC,MAED,SAA6BiM,GAC3B7L,KAAK0E,SAAS,CACZo1B,oBAAqBjuB,IAEvB,IAAInI,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM,MAAOgD,WAAY,wBACxC5D,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAUsI,EAAK1F,KACfvF,KAAM,qBAAuB6E,OAAOoG,EAAK4wB,UAAUlhB,QAAQ,GAAK,IAChE/X,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,GAEzB,GAAC,CAAAtE,IAAA,sBAAAC,MAED,WAAuB,IAAD+a,EAAA,KACpBC,EAA6E5a,KAAKmD,MAA1ElG,EAAY2d,EAAZ3d,aAAcwN,EAAImQ,EAAJnQ,KAAM4L,EAAQuE,EAARvE,SAAUsG,EAAa/B,EAAb+B,cAAemd,EAAmBlf,EAAnBkf,oBAEjD1sB,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,kBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BypB,sBAAuB5C,EAAoB7mB,QAE7CzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADua,EAChBrnB,QAAQC,IAAI,iCAAkC6M,GACiB,OAAhB,OAA/Cua,EAAA9Q,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CkN,EAAiDjN,YAC/Cld,EACEC,EACA,iBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACX6N,EAAKjW,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAKrD8Z,EAAKjW,SAAS,CACZiY,cAAe/P,EAASiZ,UACxBgU,SAAUjtB,EAAS4b,iBACnB0K,aAAc,IACd6G,IAAKntB,EAASiZ,UAAUmU,SAE5B,IACC7rB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZuM,EAAKjW,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,mBAAAC,MAED,WAAoB,IAADqb,EAAA,KACjBC,EAAkHlb,KAAKmD,MAA/GlG,EAAYie,EAAZje,aAAcwN,EAAIyQ,EAAJzQ,KAAM4L,EAAQ6E,EAAR7E,SAAUwgB,EAAc3b,EAAd2b,eAAgBE,EAAqB7b,EAArB6b,sBAAuBpa,EAAazB,EAAbyB,cAAeod,EAAG7e,EAAH6e,IAAK7G,EAAYhY,EAAZgY,aAE7F9lB,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,eAChEnT,QAAQC,IAAI,aAAc0F,OAAOytB,IACjC,IAAMv1B,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZoZ,gBAAiBpK,EAAc1J,OAC/BgkB,KAAMF,EAAsBE,KAC5B0F,OAAQl3B,OAAOytB,GACf0J,SAAUn3B,OAAOkX,EAAcqd,QAAUD,GAAKxe,QAAQ,IAExD/d,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD2a,EAChBznB,QAAQC,IAAI,8BAA+B6M,GACoB,OAAhB,OAA/C2a,EAAAlR,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CsN,EAAiDrN,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACXmO,EAAKvW,SAAS,CACZob,SAAS,EACT9b,+BAAgC4I,EAASE,QAAQjM,gBAKrDoa,EAAKvW,SAAS,CACZob,SAAS,EACTnD,cAAe/P,EAASiZ,UACxBkR,sBAAuB,KACvB8C,SAAUjtB,EAAS4b,iBACnB0K,aAAc,IACd6G,IAAKntB,EAASiZ,UAAUmU,UACvB,WACD/e,EAAK2f,eAAe/D,EAAe9d,MAAK,SAAAvc,GAAE,OAAIA,EAAGy6B,OAASF,EAAsBE,IAAI,KACpFhc,EAAK4hB,uBACP,GACF,IACC1uB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ6M,EAAKvW,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,wBAAAC,MAED,WACE,IAAAkc,EAA0C9b,KAAKmD,MAAvCsH,EAAIqR,EAAJrR,KAAMkS,EAAab,EAAba,cACR7D,EAD+BgD,EAAR+d,SACN9gB,MAAK,SAAAvc,GAAE,MAAgB,WAAZA,EAAGy6B,IAAiB,IAClDne,GACF9Y,KAAK0E,SAAS,CACZu1B,sBAAsB,EACtB6C,mBAAoB,CAClBzG,OAAQvd,EAAM2jB,SAASlhB,QAAQ,GAC/B4d,UAAW1uB,EAAK8C,OAAS,IAAMoP,EAAcogB,QAIrD,GAAC,CAAAp9B,IAAA,iBAAAC,MAED,SAAesd,GACbpd,QAAQC,IAAImd,GACZ,IAAQP,EAAkB3c,KAAKmD,MAAvBwZ,cAGJwW,GAFqBnzB,KAAKmD,MAAtB+vB,aAEKztB,OAAOkX,EAAcqd,UAElC,GAAyB,MAArB9c,EAAK8f,YAQT,OAAQ9f,EAAK+f,WACX,IAAK,IACHn9B,QAAQC,IAAI,UAEZC,KAAK0E,SAAS,CACZq1B,IAAK5G,EACLD,aAAcC,EAAO5X,QAjBX,GAiB4BxF,aAExC,MACF,IAAK,IACHjW,QAAQC,IAAI,UACZozB,EAAShhB,KAAKuC,KAAc,GAATye,GAAe,GAClCnzB,KAAK0E,SAAS,CACZq1B,IAAK5G,EACLD,aAAcC,EAAO5X,QAzBX,GAyB4BxF,aAExC,MACF,IAAK,IACHjW,QAAQC,IAAI,UACZozB,EAAShhB,KAAKsE,MAAe,GAAT0c,GAAe,GACnCnzB,KAAK0E,SAAS,CACZq1B,IAAK5G,EACLD,aAAcC,EAAO5X,QAjCX,GAiC4BxF,aAExC,MACF,IAAK,IACHjW,QAAQC,IAAI,UACZozB,EAAShhB,KAAKsE,MAAe,GAAT0c,GAAe,GACnCnzB,KAAK0E,SAAS,CACZq1B,IAAK5G,EACLD,aAAcC,EAAO5X,QAzCX,GAyC4BxF,aAExC,MACF,IAAK,IACHjW,QAAQC,IAAI,UACZozB,EAAShhB,KAAK+qB,MAAe,GAAT/J,GAAe,GACnCnzB,KAAK0E,SAAS,CACZq1B,IAAK5G,EACLD,aAAcC,EAAO5X,QAjDX,GAiD4BxF,aAExC,MACF,IAAK,IACHjW,QAAQC,IAAI,4BACZ,MACF,IAAK,IACHD,QAAQC,IAAI,iCApDdC,KAAK0E,SAAS,CACZq1B,IAAK5G,EACLD,aAAcC,EAAO5X,QANT,GAM0BxF,YAqD5C,GAAC,CAAApW,IAAA,kBAAAC,MAED,WACEI,KAAK0E,SAAS,CACZ41B,0BAA0B,GAE9B,GAAC,CAAA36B,IAAA,mBAAAC,MAED,WACEI,KAAK0E,SAAS,CACZ01B,yBAAyB,GAE7B,GAAC,CAAAz6B,IAAA,qBAAAC,MAED,WACE,IAAQ+c,EAAkB3c,KAAKmD,MAAvBwZ,cACJjZ,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM,MAAOgD,WAAY,sBACxC5D,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAU,eACV3C,KAAM,0BAA4B+b,EAAc1H,QAAU,KAC1DzR,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,GAEzB,GAAC,CAAAtE,IAAA,mBAAAC,MAED,WACEI,KAAK0E,SAAS,CACZy1B,yBAAyB,GAE7B,GAAC,CAAAx6B,IAAA,qBAAAC,MAED,SAAmBuoB,GAAU,IAADtM,EAAA,KAC1BgM,EAAyE7nB,KAAKmD,MAAtElG,EAAY4qB,EAAZ5qB,aAAcwN,EAAIod,EAAJpd,KAAMuZ,EAAe6D,EAAf7D,gBAAiB3N,EAAQwR,EAARxR,SAAUsG,EAAakL,EAAblL,cAEvD,GAAIqH,EAAgBrP,OAAS,IAAMwT,GAAW1d,EAAKib,eACjD1lB,KAAK0E,SAAS,CACZ0f,aAAc,eACdmB,6BAA6B,QAHjC,CAQA,IAAInY,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,gBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZwW,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,WAE3F3mB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+a,EAChB7nB,QAAQC,IAAI,+BAAgC6M,EAASiZ,WACU,OAAhB,OAA/C8B,EAAAtR,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C0N,EAAiDzN,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACX+O,EAAKnX,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAKrDgb,EAAKnX,SAAS,CACZiY,cAAe/P,EAASiZ,UACxBgU,SAAUjtB,EAAS4b,iBACnBuR,IAAKntB,EAASiZ,UAAUmU,SAE5B,IACC7rB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZyN,EAAKnX,SAAS,CACZob,SAAS,GAEb,GA9CF,CA+CF,GAAC,CAAAngB,IAAA,qBAAAC,MAED,WAAsB,IAADypB,EAAA,KACnBjB,EAA8CpoB,KAAKmD,MAC/CiK,GADQgb,EAAJ3d,KAAkB2d,EAAZnrB,aACW,cADgBmrB,EAAbzL,cAC2B1J,OAAS,sBAChEzV,MAAM4P,GACHT,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,mCAAoC6M,GAC5CA,EAASE,QACXuc,EAAK3kB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDwoB,EAAK3kB,SAAS,CACZ+1B,cAAuB,MAAR7tB,OAAQ,EAARA,EAAUgF,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,OAAS,CAAC,KAEvD,IACC9E,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZib,EAAK3kB,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,mBAAAC,MAED,SAAiBuoB,EAASpI,GAAc,IAADyJ,EAAA,KACrCd,EAAqF1oB,KAAKmD,MAAlFsH,EAAIie,EAAJje,KAAMxN,EAAYyrB,EAAZzrB,aAAc+mB,EAAe0E,EAAf1E,gBAAiB/E,EAAUyJ,EAAVzJ,WAAY5I,EAAQqS,EAARrS,SAAUsG,EAAa+L,EAAb/L,cACnE,GAAIqH,EAAgBrP,OAAS,IAAMwT,GAAW1d,EAAKib,eACjD1lB,KAAK0E,SAAS,CACZ0f,aAAc,cACdmB,6BAA6B,SAIjC,GAAwB,MAAlB9a,EAAKuV,UAAoBf,EAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,eAAbA,EAAGojB,KAAsB,KAAOG,EAArF,CAOA,IAAI3S,EAAMnQ,EAAe,sBACnBU,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZJ,OAAQ9C,EAAK8C,OACb4W,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,WAE3F3mB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADkb,EAChBhoB,QAAQC,IAAI,kCAAmC6M,GACgB,OAAhB,OAA/Ckb,EAAAzR,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C6N,EAAiD5N,YAC/Cld,EACEC,EACA,kBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,SACX0c,EAAK9kB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,eAIvD,IACCsN,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZob,EAAK9kB,SAAS,CACZob,SAAS,GAEb,GAxCF,MALE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,EAC7BX,mBAAoB,cA4C1B,GAAC,CAAAnf,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACfA,EAOQ,wBAATA,GACFZ,KAAKg7B,sBACLh7B,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,MAER,sBAATtD,IACTZ,KAAKk7B,oBACLl7B,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,MAhB1BlE,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,IAiB9B,GAAC,CAAAvE,IAAA,yBAAAC,MAED,SAAuBgB,GAChBA,GACHZ,KAAK0E,SAAS,CACZu1B,sBAAsB,GAI5B,GAAC,CAAAt6B,IAAA,iCAAAC,MAED,SAA+BgB,GAAO,IAADipB,EAAA,KAEnC,GADA7pB,KAAK0E,SAAS,CAAEw1B,8BAA8B,IACzCt5B,EAAL,CAGA,IAAAsoB,EAA6ElpB,KAAKmD,MAA1ElG,EAAYisB,EAAZjsB,aAAcwN,EAAIye,EAAJze,KAAM4L,EAAQ6S,EAAR7S,SAAUsG,EAAauM,EAAbvM,cAAemd,EAAmB5Q,EAAnB4Q,oBAEjD1sB,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,qBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BypB,sBAAuB5C,EAAoB7mB,OAC3CuL,IAAK5d,GAEPpD,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD0b,EAChBxoB,QAAQC,IAAI,oCAAqC6M,GACc,OAAhB,OAA/C0b,EAAAjS,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CqO,EAAiDpO,YAC/Cld,EACEC,EACA,oBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACX+c,EAAKnlB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAKrDgpB,EAAKnlB,SAAS,CACZiY,cAAe/P,EAASiZ,UACxBgU,SAAUjtB,EAAS4b,iBACnB0K,aAAc,IACd6G,IAAKntB,EAASiZ,UAAUmU,SAE5B,IACC7rB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZyb,EAAKnlB,SAAS,CACZob,SAAS,GAEb,GAhDF,CAiDF,GAAC,CAAAngB,IAAA,4BAAAC,MAED,SAA0BuzB,EAAQjW,GAAO,IAAD8M,EAAA,KACtC,GAAKmJ,EAAL,CAIA,IAAA7J,EAAwDtpB,KAAKmD,MAArDwZ,EAAa2M,EAAb3M,cAAe1f,EAAYqsB,EAAZrsB,aAAcwN,EAAI6e,EAAJ7e,KAAM4L,EAAQiT,EAARjT,SAEvCjJ,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,uBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BkqB,WAAYhK,GAEd31B,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADoc,EAChBlpB,QAAQC,IAAI,sCAAuC6M,GACY,OAAhB,OAA/Coc,EAAA3S,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C+O,EAAiD9O,YAC/Cld,EACEC,EACA,mBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACXkd,EAAKtlB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAKxC,SAATqc,EACF8M,EAAKtlB,SAAS,CACZ81B,WAAW,EACX7d,cAAe/P,EAASiZ,UACxBnD,WAAY9V,EAASmZ,eACrBmO,kBAAmBtnB,EAASwwB,eAEZ,WAATlgB,GACT8M,EAAKtlB,SAAS,CACZ21B,2BAA2B,EAC3BD,yBAAyB,EACzBzd,cAAe/P,EAASiZ,UACxBqO,kBAAmBtnB,EAASwwB,cAKlC,IACCjvB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ4b,EAAKtlB,SAAS,CACZob,SAAS,GAEb,GA1DF,MAFE9f,KAAK0E,SAAS,CAAE01B,yBAAyB,GA6D7C,GAAC,CAAAz6B,IAAA,wBAAAC,MAED,SAAsBgzB,EAAUzK,GAAU,IAADoC,EAAA,KAEvC,GADAzqB,QAAQC,IAAI,WAAY6yB,GACnBA,EA+CE,CACL,IAAA9I,EAAwD9pB,KAAKmD,MAArDlG,EAAY6sB,EAAZ7sB,aAAcwN,EAAIqf,EAAJrf,KAAM4L,EAAQyT,EAARzT,SAAUsG,EAAamN,EAAbnN,cAElCvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,wBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZoZ,gBAAiBpK,EAAc1J,OAC/BoqB,iBAAkBzK,EAASjvB,KAAI,SAAAnH,GAAE,MAAK,CACpC8gC,cAAe9gC,EAAGyW,OAClBsqB,gBAAiB/gC,EAAG23B,aAAaxwB,KAAI,SAAAijB,GAAG,MAAK,CAC3C4W,WAAY5W,EAAI3T,OAChB6f,WAAYlM,EAAIkM,WACjB,IACF,IACD3O,UAAWgE,GAAWA,EAAQhE,WAEhC3mB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD2c,EAChBzpB,QAAQC,IAAI,uCAAwC6M,GACW,OAAhB,OAA/C2c,EAAAlT,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CsP,EAAiDrP,YAC/Cld,EACEC,EACA,oBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACXyd,EAAK7lB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrD0pB,EAAK7lB,SAAS,CACZ81B,WAAW,EACXJ,yBAAyB,EACzBzd,cAAe/P,EAASiZ,UACxBgU,SAAUjtB,EAAS4b,iBACnBuR,IAAKntB,EAASiZ,UAAUmU,UAE1BzP,EAAKoR,qBACP,IACCxtB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZmc,EAAK7lB,SAAS,CACZob,SAAS,GAEb,GACJ,KA1Ge,CACb,IAAA2J,EAAwDzpB,KAAKmD,MAArDlG,EAAYwsB,EAAZxsB,aAAcwN,EAAIgf,EAAJhf,KAAM4L,EAAQoT,EAARpT,SAAUsG,EAAa8M,EAAb9M,cAElCvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,mBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,QAEjCzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADwc,EAChBtpB,QAAQC,IAAI,0BAA2B6M,GACwB,OAAhB,OAA/Cwc,EAAA/S,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CmP,EAAiDlP,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACXyd,EAAK7lB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrD0pB,EAAK7lB,SAAS,CACZ81B,WAAW,EACX7d,cAAe/P,EAASiZ,UACxBuU,yBAAyB,IAE3B7P,EAAKoR,qBACP,IACCxtB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZmc,EAAK7lB,SAAS,CACZob,SAAS,GAEb,GACJ,CA4DF,GAAC,CAAAngB,IAAA,8BAAAC,MAED,SAA4BgzB,EAAUzK,GAAU,IAAD0C,EAAA,KAK7C,GAJA/qB,QAAQC,IAAI,WAAY6yB,GACxB5yB,KAAK0E,SAAS,CACZ21B,2BAA2B,IAExBzH,EA6CE,CACL,IAAAxI,EAAwDpqB,KAAKmD,MAArDlG,EAAYmtB,EAAZntB,aAAcwN,EAAI2f,EAAJ3f,KAAM4L,EAAQ+T,EAAR/T,SAAUsG,EAAayN,EAAbzN,cAElCvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,8BAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZoZ,gBAAiBpK,EAAc1J,OAC/BwqB,sBAAuB7K,EAASjvB,KAAI,SAAAnH,GAAE,MAAK,CACzC8gC,cAAe9gC,EAAGyW,OAClByqB,IAAKlhC,EAAG65B,OACT,IACDlS,UAAWgE,GAAWA,EAAQhE,WAEhC3mB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+wB,EAChB79B,QAAQC,IAAI,uCAAwC6M,GACW,OAAhB,OAA/C+wB,EAAAtnB,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C0jB,EAAiDzjB,YAC/Cld,EACEC,EACA,oBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACX+d,EAAKnmB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrDgqB,EAAKnmB,SAAS,CACZiY,cAAe/P,EAASiZ,UACxBgU,SAAUjtB,EAAS4b,iBACnBuR,IAAKntB,EAASiZ,UAAUmU,UAE1BnP,EAAK8Q,qBACP,IACCxtB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZyc,EAAKnmB,SAAS,CACZob,SAAS,GAEb,GACJ,KAnGe,CACb,IAAAmK,EAAwDjqB,KAAKmD,MAArDlG,EAAYgtB,EAAZhtB,aAAcwN,EAAIwf,EAAJxf,KAAM4L,EAAQ4T,EAAR5T,SAAUsG,EAAasN,EAAbtN,cAElCvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,mBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,QAEjCzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADgd,EAChB9pB,QAAQC,IAAI,0BAA2B6M,GACwB,OAAhB,OAA/Cgd,EAAAvT,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C2P,EAAiD1P,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACX+d,EAAKnmB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrDgqB,EAAKnmB,SAAS,CACZiY,cAAe/P,EAASiZ,YAE1BgF,EAAK8Q,qBACP,IACCxtB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZyc,EAAKnmB,SAAS,CACZob,SAAS,GAEb,GACJ,CAuDF,GAAC,CAAAngB,IAAA,4BAAAC,MAED,SAA0ByuB,EAAOlG,GAAU,IAADoD,EAAA,KACxC,GAAK8C,EAAL,CAIA,IAAA7D,EAAwDxqB,KAAKmD,MAArDwZ,EAAa6N,EAAb7N,cAAe1f,EAAYutB,EAAZvtB,aAAcwN,EAAI+f,EAAJ/f,KAAM4L,EAAQmU,EAARnU,SAEvCjJ,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,cAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZJ,OAAQ9C,EAAK8C,OACbqwB,qBAAsBvP,EAAMpb,OAC5BkR,UAAWgE,GAAWA,EAAQhE,WAEhC3mB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADmd,EAChBjqB,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/Cmd,EAAA1T,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C8P,EAAiD7P,YAC/Cld,EACEC,EACA,aACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACAoZ,EAAMpZ,SAENrI,EAASE,QACXye,EAAK7mB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAKrD0qB,EAAK7mB,SAAS,CACZiY,cAAe/P,EAASiZ,UACxBgU,SAAUjtB,EAAS4b,iBACnBuR,IAAKntB,EAASiZ,UAAUmU,QACxBG,yBAAyB,GAE7B,IACChsB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZmd,EAAK7mB,SAAS,CACZob,SAAS,GAEb,GApDF,MAFE9f,KAAK0E,SAAS,CAAEy1B,yBAAyB,GAuD7C,GAAC,CAAAx6B,IAAA,6BAAAC,MAED,SAA2BuzB,EAAQ11B,GAAS,IAADqvB,EAAA,KAEzC,GADA9sB,KAAK0E,SAAS,CAAE41B,0BAA0B,IACrCnH,EAAL,CAGA,IAAAvI,EAAwD5qB,KAAKmD,MAArDlG,EAAY2tB,EAAZ3tB,aAAcwN,EAAImgB,EAAJngB,KAAM4L,EAAQuU,EAARvU,SAAUsG,EAAaiO,EAAbjO,cAElCvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,eAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/B4qB,KAAMp4B,OAAO0tB,GAAQ5X,QAAQ,GAC7B0b,MAAY,MAANx5B,OAAM,EAANA,EAAQw5B,OAAQ,IAExBz5B,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADsd,EAChBpqB,QAAQC,IAAI,8BAA+B6M,GACoB,OAAhB,OAA/Csd,EAAA7T,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CiQ,EAAiDhQ,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACGke,EAAM,KAAU,MAAN11B,OAAM,EAANA,EAAQw5B,OAErBrqB,EAASE,QACXggB,EAAKpoB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAKrDisB,EAAKpoB,SAAS,CACZiY,cAAe/P,EAASiZ,UACxBgU,SAAUjtB,EAAS4b,iBACnB0K,aAAc,IACd6G,IAAKntB,EAASiZ,UAAUmU,SAE5B,IACC7rB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ0e,EAAKpoB,SAAS,CACZob,SAAS,GAEb,GAlDF,CAmDF,GAAC,CAAAngB,IAAA,+BAAAC,MAED,SAA6BgB,GACtBA,GACHZ,KAAK0E,SAAS,CACZ61B,4BAA4B,GAGlC,GAAC,CAAA56B,IAAA,gCAAAC,MAED,SAA8BuoB,EAAS6C,GACXhrB,KAAKmD,MAAvBwZ,cACHwL,GASLnoB,KAAK0E,SAAS,CACZ0f,aAAc,GACd8G,gBAAiB/C,EACjB5C,6BAA6B,IAEf,iBAAZyF,EACFhrB,KAAKu7B,mBAAmBpT,GACH,mBAAZ6C,EACThrB,KAAKi7B,oBAAoB9S,GACJ,gBAAZ6C,GACThrB,KAAK47B,iBAAiBzT,IAlBtBnoB,KAAK0E,SAAS,CACZ0f,aAAc,GACd8G,gBAAiB,GACjB3F,6BAA6B,EAC7BzF,SAAS,GAgBf,GAAC,CAAAngB,IAAA,gCAAAC,MAED,SAA8BgB,GAAO,IAADusB,EAAA,KAClCrC,EAA6F9qB,KAAKmD,MAA1FsH,EAAIqgB,EAAJrgB,KAAMxN,EAAY6tB,EAAZ7tB,aAAc6hB,EAAkBgM,EAAlBhM,mBAAoBzI,EAAQyU,EAARzU,SAAU6U,EAAeJ,EAAfI,gBAAiBvO,EAAamO,EAAbnO,cAC3E,GAAK/b,EAAL,CAMA,IAAIwM,EAAMnQ,EAAe,iBACnBU,EAAO,CACXgQ,MAAOlD,EAAKkD,MACZrD,WAAY1J,EACZgf,MAAOd,GAETthB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+d,EAChB7qB,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/C+d,EAAAtU,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C0Q,EAAiDzQ,YAC/Cld,EACEC,EACA,kBAAoB6hB,EACpBrU,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACArI,EAASpC,QAEToC,EAASE,QACXqgB,EAAKzoB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrDssB,EAAKzoB,SAAS,CACZ+a,6BAA6B,IAEJ,eAAvBX,GACFqO,EAAKyO,iBAAiB1Q,EAAiBte,EAASpC,QAEpD,IACC2D,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ+e,EAAKzoB,SAAS,CACZob,SAAS,GAEb,GA/CF,MAJE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,GAmDnC,GAAC,CAAA9f,IAAA,WAAAC,MAED,SAASk+B,GACP99B,KAAK0E,SAAS,CACZyxB,UAAW2H,EAAEC,YAAYC,OAAOx7B,QAEpC,GAAC,CAAA7C,IAAA,SAAAC,MAED,WAAU,IAAD0tB,EAAA,KACP5e,EAA8B1O,KAAKT,MAApBmG,GAAFgJ,EAALlD,MAAiBkD,EAAVhJ,YACfulB,EASIjrB,KAAKmD,MATDlG,EAAYguB,EAAZhuB,aAAcoN,EAAe4gB,EAAf5gB,gBAAiBI,EAAIwgB,EAAJxgB,KAAMuZ,EAAeiH,EAAfjH,gBAA2BrH,GAAFsO,EAAR5U,SAAuB4U,EAAbtO,eACtEud,EAA4BjP,EAA5BiP,6BAA8BC,EAAuBlP,EAAvBkP,wBAAyBC,EAAuBnP,EAAvBmP,wBAAyBE,EAAwBrP,EAAxBqP,yBAChFD,EAAyBpP,EAAzBoP,0BAA2BE,EAA0BtP,EAA1BsP,2BAA4B9a,EAA2BwL,EAA3BxL,4BAA6Bxb,EAAmBgnB,EAAnBhnB,oBAAqBC,EAAsB+mB,EAAtB/mB,uBACzG+1B,EAAoBhP,EAApBgP,qBAAsB6C,EAAkB7R,EAAlB6R,mBACtB5J,EAAYjI,EAAZiI,aAAc2D,EAAc5L,EAAd4L,eAAgBgD,EAAQ5O,EAAR4O,SAAU9C,EAAqB9L,EAArB8L,sBAAuBgD,EAAG9O,EAAH8O,IAC/DS,EAASvP,EAATuP,UAAWtG,EAAiBjJ,EAAjBiJ,kBAAmBuG,EAAaxP,EAAbwP,cAAe/X,EAAUuI,EAAVvI,WAAY5D,EAAkBmM,EAAlBnM,mBACxCsF,GAAF6G,EAAfC,gBAA6BD,EAAZ7G,cAAcmB,EAA2B0F,EAA3B1F,4BAC/BvhB,EAA8BinB,EAA9BjnB,+BAAgC8b,EAAOmL,EAAPnL,QAChCqW,EAASlL,EAATkL,UAKF,OAFAr2B,QAAQC,IAAI,UAERy6B,GAEA79B,EAAAA,EAAAA,KAACs3B,GAAK,CACJh3B,aAAcA,EACdwN,KAAMA,EACNkS,cAAeA,EACfuX,kBAAmBA,EACnBxR,WAAYA,EACZsB,gBAAiBA,EACjB2Q,sBAAuB30B,KAAK20B,yBAIhCv0B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BiI,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9BO,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,mCAGzCi5B,IACAv9B,EAAAA,EAAAA,KAACy4B,GAAqB,CACpBC,+BAAgCr1B,KAAKq1B,iCAGvC8E,IACAx9B,EAAAA,EAAAA,KAAC24B,GAAgB,CACfr4B,aAAcA,EACdwN,KAAMA,EACNuZ,gBAAiBA,EACjBrH,cAAeA,EACf8Y,0BAA2Bz1B,KAAKy1B,4BAGlC2E,IACAz9B,EAAAA,EAAAA,KAAC+4B,GAAgB,CACfQ,0BAA2Bl2B,KAAKk2B,4BAGlCmE,IACA19B,EAAAA,EAAAA,KAACy5B,GAAkB,CACjB3rB,KAAMA,EACNkS,cAAeA,EACfiW,SAAUsB,EACVlQ,gBAAiBA,EACjByS,4BAA6Bz2B,KAAKy2B,8BAGpC8D,IACA59B,EAAAA,EAAAA,KAACw6B,GAAmB,CAClBxa,cAAeA,EACfiW,SAAUsB,EACVkD,6BAA8Bp3B,KAAKo3B,+BAGrCkD,IACA39B,EAAAA,EAAAA,KAACi6B,GAAiB,CAChBC,eAAgBA,EAChBK,2BAA4Bl3B,KAAKk3B,6BAGnCzX,IACA9iB,EAAAA,EAAAA,KAACgiB,GAAoB,CACnBlU,KAAMA,EACNqU,mBAAoBA,EACpBF,8BAA+B5e,KAAK4e,gCAGtC2G,IACA5oB,EAAAA,EAAAA,KAACmnB,GAAoB,CACnBM,aAAcA,EACdJ,gBAAiBA,EACjBK,8BAA+BrkB,KAAKqkB,gCAGtC4V,IACAt9B,EAAAA,EAAAA,KAACshC,GAAa,CACZxzB,KAAMA,EACNrH,MAAO05B,EACPnD,uBAAwB35B,KAAK25B,0BAEjCv5B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg+B,mBAAmBliC,UACrCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOi+B,OAClBC,SAAU,SAACN,GAAC,OAAKxQ,EAAK+Q,SAASP,EAAE,EAAC9hC,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOo+B,mBACdt9B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOq+B,sBAAuBviC,SAAE2gB,EAAc1H,WAC5DtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOs+B,cAAe,CAAEj8B,UAAW,IAAKvG,SAAE2G,EAAAA,QAAAA,IAAS,cAEnEvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOo+B,mBAAgD,MAA3B3hB,EAAc8hB,UAAqB,CAAEp8B,QAAS,KAClGrB,QAAS,kBAAMssB,EAAKkO,iBAAiB,EACrCpgB,SAAqC,MAA3BuB,EAAc8hB,SAAiBziC,SAAA,EACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,QAAQ1E,MAAO,CAAEyG,OAAQ,OACjE7F,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOs+B,cAAcxiC,SAAE2G,EAAAA,QAAAA,IAAS,cAE/CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOo+B,mBACdt9B,QAAS,kBAAMssB,EAAKsO,kBAAkB,EAAC5/B,SAAA,EACvCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,SAAStH,KAAM,GAAI4B,MAAM,QAAQ1E,MAAO,CAAEyG,OAAQ,OAClE7F,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOs+B,cAAcxiC,SAAE2G,EAAAA,QAAAA,IAAS,eAGlB,MAA3Bga,EAAc8hB,UACZr+B,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOo+B,mBACdt9B,QAAS,kBAAMssB,EAAKoO,oBAAoB,EAAC1/B,SAAA,EACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,WAAWtH,KAAM,GAAI4B,MAAM,QAAQ1E,MAAO,CAAEyG,OAAQ,OACpE7F,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOs+B,cAAcxiC,SAAE2G,EAAAA,QAAAA,IAAS,iBAG/CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOo+B,mBACdt9B,QAAS,kBAAMssB,EAAKmO,kBAAkB,EAACz/B,SAAA,EACvCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,WAAWtH,KAAM,GAAI4B,MAAM,QAAQ1E,MAAO,CAAEyG,OAAQ,OACpE7F,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOs+B,cAAcxiC,SAAE2G,EAAAA,QAAAA,IAAS,kBAIvB,MAA1Bga,EAAc+hB,SAAmB/hB,EAAc0L,YAE7CjoB,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOo+B,mBACdt9B,QAAS,kBAAMssB,EAAKiO,oBAAoB,EAACv/B,SAAA,EACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,aAAatH,KAAM,GAAI4B,MAAM,QAAQ1E,MAAO,CAAEyG,OAAQ,OACtE7F,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOs+B,cAAcxiC,SAAE2G,EAAAA,QAAAA,IAAS,iBAG/CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOo+B,mBAA+C,MAA3B3hB,EAAc8hB,UAAoB,CAAEp8B,QAAS,KAChF+Y,SAAqC,MAA3BuB,EAAc8hB,SACxBz9B,QAAS,kBAAMssB,EAAKgO,kBAAkB,EAACt/B,SAAA,EACvCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,WAAWtH,KAAM,GAAI4B,MAAM,QAAQ1E,MAAO,CAAEyG,OAAQ,OACpE7F,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOs+B,cAAcxiC,SAAE2G,EAAAA,QAAAA,IAAS,wBAKvDvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOy+B,oBAAoB3iC,SAAA,EACtCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0+B,sBAAsB5iC,SAAA,EACxCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2+B,2BAA2B7iC,SAAA,EAC7CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4+B,kBAAkB9iC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6+B,sBAAsB/iC,SAAE2G,EAAAA,QAAAA,IAAS,mBAEvDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4+B,kBAAkB9iC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6+B,sBAAsB/iC,SAAE2G,EAAAA,QAAAA,IAAS,kBAEvDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4+B,kBAAkB9iC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6+B,sBAAsB/iC,SAAE2G,EAAAA,QAAAA,IAAS,sBAEvDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4+B,kBAAkB9iC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6+B,sBAAsB/iC,SAAE2G,EAAAA,QAAAA,IAAS,YAEvDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4+B,kBAAkB9iC,UACpCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAO6+B,sBAAsB/iC,SAAA,CAAE2G,EAAAA,QAAAA,IAAS,QAAQ,IAAEga,EAAcqiB,eAE/EriC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4+B,kBAAkB9iC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6+B,sBAAuB,CAAEt+B,MAAOC,EAAM3C,WAAY/B,SAAE2G,EAAAA,QAAAA,IAAS,mBAEpFhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4+B,kBAAkB9iC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6+B,sBAAuB,CAAEt+B,MAAOC,EAAMzC,OAAQjC,SAAE2G,EAAAA,QAAAA,IAAS,YAEhFhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4+B,kBAAkB9iC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6+B,sBAAsB/iC,SAAE2G,EAAAA,QAAAA,IAAS,gBAEvDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4+B,kBAAkB9iC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6+B,sBAAsB/iC,SAAE2G,EAAAA,QAAAA,IAAS,eAEvDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4+B,kBAAkB9iC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6+B,sBAAsB/iC,SAAE2G,EAAAA,QAAAA,IAAS,kBAGzDvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO++B,2BAA2BjjC,SAAA,EAC7CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg/B,kBAAkBljC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOi/B,sBAAsBnjC,SAAE2gB,EAAcyiB,WAAaziB,EAAcyiB,WAAW7jB,QAAQ,GAAK,YAE/G5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg/B,kBAAkBljC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOi/B,sBAAsBnjC,SAAE2gB,EAAc0iB,UAAY1iB,EAAc0iB,UAAU9jB,QAAQ,GAAK,YAE7G5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg/B,kBAAkBljC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOi/B,sBAAsBnjC,SAAE2gB,EAAc2iB,cAAgB3iB,EAAc2iB,cAAc/jB,QAAQ,GAAK,YAErH5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg/B,kBAAkBljC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOi/B,sBAAsBnjC,SAAE2gB,EAAc4iB,SAAW5iB,EAAc4iB,SAAShkB,QAAQ,GAAK,YAE3G5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg/B,kBAAkBljC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOi/B,sBAAsBnjC,SAAE2gB,EAAckhB,KAAOlhB,EAAckhB,KAAKtiB,QAAQ,GAAK,YAEnG5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg/B,kBAAkBljC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOi/B,sBAAuB,CAAE1+B,MAAOC,EAAM3C,WAAY/B,SAAE2gB,EAAcyU,WAAW7V,QAAQ,IAAM,OAElH5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg/B,kBAAkBljC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOi/B,sBAAuB,CAAE1+B,MAAOC,EAAMzC,OAAQjC,SAAE+9B,EAAIxe,QAAQ,IAAM,OAEzF5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg/B,kBAAkBljC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOi/B,sBAAsBnjC,SAAE2gB,EAAcqd,QAAQze,QAAQ,IAAM,OAElF5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg/B,kBAAkBljC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOi/B,sBAAsBnjC,SAAE2gB,EAAc6iB,OAAOjkB,QAAQ,IAAM,OAEjF5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg/B,kBAAkBljC,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOi/B,sBAAsBnjC,SAAE2gB,EAAc8iB,OAAOlkB,QAAQ,IAAM,aAIrFnb,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CACT3K,MAAO,CAAE2jC,UAAW,IACpBvlB,YAAY,EACZwlB,gCAAgC,EAAM3jC,SAAA,CAEpC2gB,EAAciM,QACdxoB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CACHlE,MAAO,CAAEmH,cAAe,MAAOpB,WAAY,UAAW9F,SAAA,EACtDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAMzC,KAAMkyB,WAAY,GAAI3N,YAAa,IAAKxmB,SAAE2gB,EAAciM,OAAS,OACzHjsB,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAM3C,UAAY/B,SAAE2gB,EAAcxG,SAAW,SAIjGskB,GAAiBA,EAAc92B,KAAI,SAAAkI,GAAI,OACrCzL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CACHlE,MAAO,CAAEmH,cAAe,MAAOrB,KAAM,EAAGC,WAAY,UAAW9F,SAAA,EAC/DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAMzC,KAAMkyB,WAAY,GAAI3N,YAAa,IAAKxmB,SAAE6P,EAAKgnB,SACvGl2B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAO,SAAWzE,SAAE6P,EAAKulB,WAAavlB,EAAKulB,WAAW7V,QAAQ,GAAK,QAHrG1P,EAAKoH,OAAO8C,WAIhB,QAGb3V,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGP,gBAAiBZ,EAAMnC,MAAO0D,aAAc,GAAIjG,SAAA,EACtEoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0/B,kBAAkB5jC,SAAA,EACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2/B,cAAc7jC,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4/B,kBAAkB9jC,SAAC,WAC1EW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6/B,eAAe/jC,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4/B,kBAAkB9jC,SAAC,kBAC3EW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8/B,cAAchkC,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4/B,kBAAkB9jC,SAAC,WAC1EW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+/B,eAAejkC,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4/B,kBAAkB9jC,SAAC,cAC3EW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOggC,mBAEtBvjC,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CACT3K,MAAO,CAAE8F,KAAM,GACf2c,IAAK,SAAAA,GAAG,OAAI8O,EAAK6S,cAAgB3hB,CAAG,EACpCoS,oBAAqB,SAACwP,EAAcC,GAClC/S,EAAK6S,cAActP,YAAY,CAAEyP,UAAU,GAC7C,EACA35B,8BAA8B,EAAM3K,SAElC69B,EAASl2B,KAAI,SAACkI,EAAMiJ,GAAK,OACvB1U,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqgC,eAAevkC,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsgC,WAAWxkC,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOugC,UAAUzkC,SAAE8Y,EAAQ,OACxEnY,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwgC,YAAa1/B,QAAS,kBAAMssB,EAAK6N,uBAAuBtvB,EAAK,EAAC7P,UAC5FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOugC,UAAUzkC,SAAE6P,EAAK1F,UAEvCxJ,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOygC,WAAY3/B,QAAS,kBAAMssB,EAAK+N,0BAA0BxvB,EAAK,EAAC7P,UAC9FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOugC,UAAUzkC,SAAE6P,EAAK2wB,YAEvC7/B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0gC,YAAY5kC,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOugC,UAAUzkC,SAAE6P,EAAK4wB,SAASlhB,QAAQ,QACvF5e,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2gC,UAC9B7/B,QAAS,kBAAMssB,EAAK8N,6BAA6BvvB,EAAK,EAAC7P,UACvDW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMzC,WAXV6W,EAalC,gBAOnB1U,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4gC,oBAAoB9kC,UACtCW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BgP,WAAY,EACZC,KAAMihB,EACNkK,UAAWhK,EACXjhB,aAAc,SAACjK,EAAMiJ,GAAK,OAAKA,EAAMiB,UAAU,EAC/CC,WAAY,SAAA/I,GAAe,IAAZpB,EAAIoB,EAAJpB,KACb,GAAIsqB,EAAW,OACbx5B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAOW,OAAQ2zB,GAAYn6B,UAC9CoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAAC8P,EAAKorB,QAA8B,MAArBF,OAAqB,EAArBA,EAAuBE,MAAO/2B,GAAO8gC,2BAA6B9gC,GAAO+gC,qBAAsBp1B,EAAKorB,KAAO,KAAO,CAAE50B,QAAS,KACnJrB,QAAS,kBAAMssB,EAAKqN,0BAA0B9uB,EAAK,EAAC7P,SAAA,EACpDW,EAAAA,EAAAA,KAACyS,EAAAA,QAAK,CACJrT,MAAO,CAAE8F,KAAM,EAAGkH,YAAa,GAC/BsG,OAAQ,CACN0M,KAAoB,MAAf1R,OAAe,EAAfA,EAAiB2R,gBAAiB,8BAAgCnQ,EAAKorB,KAAO,MAAQprB,EAAKqQ,eAGpGvf,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEwF,SAAU,WAAYE,IAAK,EAAGC,KAAM,EAAGC,MAAO,EAAGC,OAAQ,EAAGE,WAAY,SAAUC,eAAgB,UAAY/F,UAC3HW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO8P,EAAKorB,QAA8B,MAArBF,OAAqB,EAArBA,EAAuBE,MAAO/2B,GAAOghC,sBAAwBhhC,GAAOihC,gBAAgBnlC,SAAE6P,EAAKorB,aAKhI,OAGJt6B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkhC,0BAA0BplC,UAC5CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOmhC,qBAAqBrlC,SAAEk3B,OAE7C9yB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOohC,qBAAqBtlC,SAAA,EACvCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqhC,yBAAyBvlC,UAC3CW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOshC,eAAgBxgC,QAAS,kBAAMssB,EAAKoN,wBAAwB,QAAQ,EAAC1+B,UACnGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOuhC,QAAQzlC,SAAC,eAKjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwhC,2BAA2B1lC,SAAA,EAC7CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,SAAA,EACvBW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,IAAI,EAAC1+B,UAC7FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,SAErCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,IAAI,EAAC1+B,UAC7FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,SAErCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,IAAI,EAAC1+B,UAC7FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,SAErCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,IAAI,EAAC1+B,UAC7FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,YAGvCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,SAAA,EACvBW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,IAAI,EAAC1+B,UAC7FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,SAErCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,IAAI,EAAC1+B,UAC7FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,SAErCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,IAAI,EAAC1+B,UAC7FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,SAErCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,IAAI,EAAC1+B,UAC7FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,YAGvCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,SAAA,EACvBW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,IAAI,EAAC1+B,UAC7FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,SAErCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,IAAI,EAAC1+B,UAC7FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,SAErCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,IAAI,EAAC1+B,UAC7FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,SAErCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyhC,aAAc3gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,KAAK,EAAC1+B,UAC9FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0hC,cAAc5lC,SAAC,gBAIzCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2hC,0BAA0B7lC,SAAA,EAC5CW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO4hC,mBAAoB9gC,QAAS,kBAAMssB,EAAKoN,wBAAwB,MAAM,EAAC1+B,UAErGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOuhC,QAAQzlC,SAAC,UAKF,IAA1B2gB,EAAcqd,SAAkBjD,GAU/Bp6B,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO6hC,eAAgBjiB,GAAW,CAAEzd,QAAS,KACrE+Y,SAAU0E,EACV9e,QAAS,kBAAMssB,EAAKuN,mBAAmB,EAAC7+B,UAExCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOuhC,QAAQzlC,SAAC,aAb/BW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO8hC,gBAAiBliB,GAAW,CAAEzd,QAAS,KACtE+Y,SAAU0E,EACV9e,QAAS,kBAAMssB,EAAKwN,oBAAoB,EAAC9+B,UAEzCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOuhC,QAAQzlC,SAAC,wBAmB/C,KAAC49B,CAAA,CA3sDqB,CAASz4B,EAAAA,WAgtD3BjB,IAFagQ,EAAAA,QAAWC,IAAI,UAAU3N,OAE7BpB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,MACvBoK,QAAS,GAEX3C,cAAe,CACbjE,KAAM,GAER8F,eAAgB,CACd9F,KAAM,GAERq8B,mBAAoB,CAElBr8B,KAAM,GAER88B,oBAAqB,CACnB98B,KAAM,EACNY,OAAQ,GAEVq+B,oBAAqB,CACnBj/B,KAAM,GAERy/B,qBAAsB,CACpBz/B,KAAM,EACNqB,cAAe,OAEjBq+B,yBAA0B,CACxB1/B,KAAM,GAER6/B,2BAA4B,CAC1B7/B,KAAM,EACNqB,cAAe,OAEjB2+B,0BAA2B,CACzBhgC,KAAM,GAERs8B,OAAQ,CACNt8B,KAAM,EACNqB,cAAe,OAEjBk+B,0BAA2B,CACzBv/B,KAAM,EACNqB,cAAe,MACfnB,eAAgB,SAChBD,WAAY,UAEd88B,sBAAuB,CACrB78B,eAAgB,gBAChBmB,cAAe,MAEfqG,iBAAkB,GAClBhH,UAAW,GACX2F,aAAc,IAEhB22B,2BAA4B,CAC1B/8B,WAAY,cAGdm9B,2BAA4B,CAC1Bn9B,WAAY,YAGdg9B,kBAAmB,CACjBt8B,OAAQ,GACRT,eAAgB,YAGlBm9B,kBAAmB,CACjB18B,OAAQ,GACRT,eAAgB,YAElBg9B,sBAAuB,CACrBhiC,WAAY,eACZqF,cAAe,YACf3B,MAAO,SAET0+B,sBAAuB,CACrBpiC,WAAY,eACZD,SAAU,GACV2D,MAAO,SAETkhC,aAAc,CACZ9/B,KAAM,EACNY,OAAQ,EACRw/B,YAAa,QACbC,YAAa,EACbjgC,aAAc,EACdH,WAAY,SACZC,eAAgB,UAElB+/B,mBAAoB,CAClBjgC,KAAM,EACNY,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBkgC,YAAa,QACbC,YAAa,EACbjgC,aAAc,EACdX,gBAAiBZ,EAAMlC,OAEzBujC,eAAgB,CACdlgC,KAAM,EACNY,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBkgC,YAAa,QACbC,YAAa,EACbjgC,aAAc,EACdX,gBAAiBZ,EAAM3C,UAEzBikC,gBAAiB,CACfngC,KAAM,EACNY,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBT,gBAAiBZ,EAAM1C,SACvBiE,aAAc,EACdigC,YAAa,EACbD,YAAa,SAEfT,eAAgB,CACd3/B,KAAM,EACNY,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBkgC,YAAa,QACbC,YAAa,EACbjgC,aAAc,EACdX,gBAAiBZ,EAAMzC,MAEzBgjC,qBAAsB,CACpBp/B,KAAM,EACNY,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBkgC,YAAa,QACbC,YAAa,EACbjgC,aAAc,GAEhB++B,2BAA4B,CAC1Bn/B,KAAM,EACNY,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBT,gBAAiB,QACjB2gC,YAAa,QACbC,YAAa,EACbjgC,aAAc,GAEhBq8B,mBAAoB,CAClBz8B,KAAM,EACNY,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBT,gBAAiBZ,EAAMnC,MACvB0D,aAAc,GAEhBs8B,qBAAsB,CACpBxhC,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACftF,SAAU,IAEZ0hC,cAAe,CACbzhC,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACftF,SAAU,IAEZ2kC,QAAS,CACP1kC,WAAY,eACZ0D,MAAO,SAETmhC,cAAe,CACb7kC,WAAY,eACZ0D,MAAO,QACP3D,SAAU,IAEZqkC,gBAAiB,CACfpkC,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEb4+B,sBAAuB,CACrBnkC,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEb++B,qBAAsB,CACpBtkC,WAAY,eACZ0D,MAAO,QACP3D,SAAU,IAEZ8iC,kBAAmB,CACjBp9B,OAAQ,GAERU,cAAe,MACfqG,iBAAkB,GAEpB44B,cAAe,CACbtgC,KAAM,GAERg+B,cAAe,CACbh+B,KAAM,EACNE,eAAgB,SAChBD,WAAY,SAEZ2H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwhC,eAAgB,CACdl+B,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfo4B,cAAe,CACbn+B,KAAM,EACNE,eAAgB,SAEhB6F,YAAa,IAEfq4B,eAAgB,CACdp+B,KAAM,EACNE,eAAgB,SAChBD,WAAY,WACZyE,aAAc,IAEhB25B,aAAc,CACZl+B,MAAO,GACPF,WAAY,SACZC,eAAgB,UAElB+9B,kBAAmB,CACjBr/B,MAAOC,EAAMjC,MACb1B,WAAY,gBAEdyjC,WAAY,CACV3+B,KAAM,EACNE,eAAgB,SAChBD,WAAY,SAEZ2H,iBAAkB,EAClBC,iBAAkB,SAEpBg3B,YAAa,CACX7+B,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEf+4B,WAAY,CACV9+B,KAAM,EACNE,eAAgB,SAEhB6F,YAAa,IAEfg5B,YAAa,CACX/+B,KAAM,EACNE,eAAgB,SAChBD,WAAY,WACZyE,aAAc,IAEhBs6B,UAAW,CACT7+B,MAAO,GACPF,WAAY,SACZC,eAAgB,UAElB0+B,UAAW,CACThgC,MAAO,QACP1D,WAAY,eACZD,SAAU,IAEZyjC,eAAgB,CACdj/B,gBAAiBZ,EAAMlC,MACvB0E,cAAe,MACfqG,iBAAkB,EAClBrB,aAAc,EACdoB,UAAW,GACXL,gBAAiB,M,ydCj/DmB,IAEnBm5B,GAAkB,SAAAjjC,IAAAC,EAAAA,EAAAA,SAAAgjC,EAAAjjC,GAAA,IAAAE,EAAAC,GAAA8iC,GAErC,SAAAA,EAAY7iC,GAAQ,IAADM,EAUgC,OAVhCL,EAAAA,EAAAA,SAAA,KAAA4iC,IACjBviC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXkV,MAAO9Y,EAAM8Y,MACbgqB,eAAgB9iC,EAAM8Y,MAEtBgH,kBAAmB,IAGrBxf,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CAuGC,OAvGAH,EAAAA,EAAAA,SAAA0iC,EAAA,EAAAziC,IAAA,oBAAAC,MAED,WACA,GAAC,CAAAD,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAA+E,EAAkC3F,KAAKmD,MAA/BkV,EAAK1S,EAAL0S,MAAOgqB,EAAc18B,EAAd08B,eACXC,EAAuB,GAC3BtiC,KAAK0E,SAAS,CAAE2a,kBAAmBze,IACnC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GACxBtZ,QAAQC,IAAI,YAAasiC,GAEzBC,EAAuBjqB,EAClBzX,GAML0hC,EAAuBA,EAAqB1wB,QAAO,SAAA/F,GACjD,OAAOA,EAAK0M,OAAO1X,cAAc0Y,SAASH,IAAavN,EAAKyN,SAASzY,cAAc0Y,SAASH,EAC9F,IACApZ,KAAK0E,SAAS,CACZ29B,eAAgBC,KAThBtiC,KAAK0E,SAAS,CACZ29B,eAAgBC,GAUtB,GAAC,CAAA3iC,IAAA,eAAAC,MAED,SAAaiM,GACX7L,KAAKT,MAAMgjC,4BAA4B12B,EACzC,GAAC,CAAAlM,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACPmJ,EACIxM,KAAKmD,MADDkc,EAAiB7S,EAAjB6S,kBAAmBgjB,EAAc71B,EAAd61B,eAI3B,OAFAviC,QAAQC,IAAI,+BAAgCC,KAAKmD,QAG/CxG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,qBAE3CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOmhB,kBAC9BrgB,QAAS,kBAAMqC,EAAK9D,MAAMgjC,6BAA6B,EAACvmC,UACxDW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,aAE1CL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAACmR,GAAU,OAAKvV,EAAKqc,wBAAwB9G,EAAW,EACtEhZ,MAAOyf,KAET1iB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPqC,EAAKqB,SAAS,CAAE2a,kBAAmB,KAAM,kBAAMhc,EAAKqc,wBAAwB,GAAG,IAC/E3F,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,iBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAEqmC,EAAe1tB,OAAO,eAEhEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB+T,KAAMysB,EACNvsB,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOugB,aACfzf,QAAS,kBAAMqC,EAAK4a,aAAapS,EAAK,EAAC7P,SAAA,EACvCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAK0M,YAEtD5b,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,4BAGtBlkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAKyN,cAGVlZ,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,qBAAqBllB,UACvCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkhB,0BAA2B,CAAE3gB,MAAOC,EAAM3C,WAAY/B,SAAA,CAAC,OAAK6P,EAAK22B,SAAW,UAEnG7lC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,4BAGtBxkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,qBAEH,QAM/B,KAACmhB,CAAA,CApHoC,CAASjhC,EAAAA,WAuH1CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPQ,OAAQ,MACRlB,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdwc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBof,kBAAmB,CAEjBrf,MAAO,GACPQ,OAAQ,GACRP,aAAc,GACdsH,iBAAkB,EAClBzH,WAAY,SACZC,eAAgB,UAElB0e,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAOC,EAAM5C,OACbhB,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+e,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdsL,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,S,6cC1PyB,IAErBgkC,GAAK,SAAAtjC,IAAAC,EAAAA,EAAAA,SAAAqjC,EAAAtjC,GAAA,IAAAE,EAAAC,GAAAmjC,GAExB,SAAAA,EAAYljC,GAAQ,IAADM,EAyBkD,OAzBlDL,EAAAA,EAAAA,SAAA,KAAAijC,IACjB5iC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjC6Q,QAASvO,EAAMiM,MAAMC,OAAOqC,QAC5BuI,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SACrCsG,cAAepd,EAAMiM,MAAMC,OAAOkR,cAElC+lB,SAAS,EACT9pB,WAAY,GACZ+pB,UAAW,GACXC,kBAAmB,KACnBzjB,kBAAmB,KACnBkjB,eAAgB9iC,EAAMiM,MAAMC,OAAOqC,QAAQuK,MAAMzG,QAAO,SAAAixB,GAAI,MAAsB,MAAlBA,EAAKrf,QAAgB,IAErFsf,2BAA2B,EAC3B9+B,gCAAgC,EAChCqjB,2BAA2B,GAG7BxnB,EAAKkjC,WAAa,KAClBljC,EAAK0iC,4BAA8B1iC,EAAK0iC,4BAA4Bp+B,MAAIC,EAAAA,EAAAA,SAAAvE,IACxEA,EAAKue,4BAA8Bve,EAAKue,4BAA4Bja,MAAIC,EAAAA,EAAAA,SAAAvE,IACxEA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACrE,CAmqBC,OAnqBAH,EAAAA,EAAAA,SAAA+iC,EAAA,EAAA9iC,IAAA,oBAAAC,MAED,WACE,IAAA8O,EAA8B1O,KAAKT,MAApBmG,GAAFgJ,EAALlD,MAAiBkD,EAAVhJ,YACfC,EAAuD3F,KAAKmD,MAAxCwC,EAAZ1I,aAAkB0I,EAAJ8E,KAAa9E,EAAPmI,QAAsBnI,EAAbgX,eAElB3c,KAAKqX,mBAExBrX,KAAKiL,IAAMvF,EAAWwF,YACpB,QACAlL,KAAKmL,SAAShH,KAAKnE,MAEvB,GAAC,CAAAL,IAAA,WAAAC,MAED,WACE,IAAA4M,EAAuDxM,KAAKmD,MAAxCqJ,EAAZvP,aAAkBuP,EAAJ/B,KAAa+B,EAAPsB,QAAsBtB,EAAbmQ,eAClB3c,KAAKqX,kBAC1B,GAAC,CAAA1X,IAAA,uBAAAC,MAED,WACEI,KAAKiL,KACP,GAAC,CAAAtL,IAAA,WAAAC,MAED,WAAY,IAADyD,EAAA,MACTvD,QAAQC,IAAI,UAEQC,KAAKmD,MAAjBu/B,SAEN5iC,QAAQC,IAAI,qBAKSC,KAAKmD,MAApByV,WAOR5Y,KAAK0E,SAAS,CACZi+B,UAAW,KACV,WAEDt/B,EAAK0/B,WAAa,KAElB1/B,EAAK2/B,QACP,IAZEljC,QAAQC,IAAI,oBAahB,GAAC,CAAAJ,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACPlM,QAAQC,IAAI,QAEMC,KAAKT,MAAfiM,MAAR,IACAmD,EAAwC3O,KAAKmD,MAArCu/B,EAAO/zB,EAAP+zB,QAASj4B,EAAIkE,EAAJlE,KAAMxN,EAAY0R,EAAZ1R,aAEvB,GAAIylC,EACF5iC,QAAQC,IAAI,0BAMd,GAAIC,KAAK+iC,YACJ/iC,KAAK+iC,WAAW5P,OAAS,IAAMnzB,KAAK+iC,WAAWE,WAClDnjC,QAAQC,IAAI,yBAFd,CAOA,IAAMmjC,EAAYljC,KAAK+iC,WAClB/iC,KAAK+iC,WAAW5P,OAAS,EAC1B,EAGJnzB,KAAK0E,SAAS,CACZg+B,SAAS,IACR,WACD,IAAIt1B,EAAMnQ,EAAe,iBACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,QAAS7C,EAAKkD,OAC5BlC,EAAO6B,OAAO,SAAU7C,EAAKD,QAC7BiB,EAAO6B,OAAO,cAAetB,EAAK7I,MAAMyV,YACxCnN,EAAO6B,OAAO,OAAQ41B,GAAa,GACnCz3B,EAAO6B,OAAO,OAAQ,IAEtBF,GAAQ,IAAM3B,EACd3L,QAAQC,IAAIqN,GACZ5P,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAEJ,IAAMu2B,EAAav2B,EAASw2B,eACpBx2B,EAASw2B,QACjBp3B,EAAK+2B,WAAan2B,EAIlB,IACMy2B,EADer3B,EAAK7I,MAAMw/B,UACHW,OAAO,GAEpCD,EAAQv+B,KAAIH,MAAZ0+B,GAAOz1B,EAAAA,EAAAA,SAASu1B,IAIhBn3B,EAAKtH,SAAS,CACZi+B,UAAWU,EACXX,SAAS,GAEb,IACCv0B,OAAM,SAAAC,GACLtO,QAAQC,IAAI,gBAAiBqO,GAE7BpC,EAAKtH,SAAS,CACZg+B,SAAS,GAEb,GAEJ,GArDA,CAsDF,GAAC,CAAA/iC,IAAA,eAAAC,MAED,SAAagB,GAAO,IAAD8L,EAAA,KACTkM,EAAe5Y,KAAKmD,MAApByV,WAEJhY,EAAK+T,OAASiE,EAAWjE,OAAS,EAEpC3U,KAAK0E,SAAS,CACZkU,WAAYhY,EAAK2iC,QAAQ3qB,EAAY,MACpC,WACDlM,EAAK82B,gBAAgBC,OACrB/2B,EAAKg3B,UACP,IAGA1jC,KAAK0E,SAAS,CACZkU,WAAYhY,GAGlB,GAAC,CAAAjB,IAAA,gBAAAC,MAED,WACEI,KAAK0E,SAAS,CACZi+B,UAAW,GACX/pB,WAAY,KAEd5Y,KAAK+iC,WAAa,KAClB/iC,KAAKwjC,gBAAgBrlB,OACvB,GAAC,CAAAxe,IAAA,mBAAAC,MAED,WAAoB,IAAD6O,EAAA,KACT/I,EAAe1F,KAAKT,MAApBmG,WACRyR,EAA8DnX,KAAKmD,MAA3DlG,EAAYka,EAAZla,aAEJmQ,GAF4B+J,EAAVpT,WAAoBoT,EAARd,SAExBpZ,EAAe,cAFgCka,EAAbwF,cAEW1J,QACvDzV,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACCA,EAASiZ,UAIdpX,EAAK/J,SAAS,CACZiY,cAAe/P,EAASiZ,UACxBnD,WAAY9V,EAASmZ,eACrB4d,WAAY/2B,EAASg3B,gBACrBd,2BAA2B,IAP3Bp9B,EAAWO,QASf,GACJ,GAAC,CAAAtG,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACGZ,KAAKT,MAApBmG,YACRm+B,EAAAA,GAAAA,SAAY7jC,KAAKmD,OACjBnD,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,KAErBtD,IAGQ,kBAATA,EACFZ,KAAK8jC,gBACa,kBAATljC,GACTZ,KAAK+jC,gBAET,GAAC,CAAApkC,IAAA,8BAAAC,MAED,SAA4BiM,GAAO,IAAD8N,EAAAgB,EAAA,KAChC,GAAK9O,EAAL,CAOA,IAAA0L,EAAoFvX,KAAKmD,MAAjFlG,EAAYsa,EAAZta,aAAcwN,EAAI8M,EAAJ9M,KAAe4L,GAAFkB,EAAPzJ,QAAiByJ,EAARlB,UAAUsG,EAAapF,EAAboF,cAAeimB,EAAiBrrB,EAAjBqrB,kBACxDhd,EAA4D,OAA9CjM,EAAGtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,YAAbA,EAAGyd,KAAmB,UAAC,EAA3CN,EAA6CO,UAChE9M,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,eAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BkI,eAAgBtP,EAAKoH,OACrB+wB,YAAapB,EAAkB3vB,OAC/B+T,YAA0C,MAA5BrK,EAAchF,WAAwC,MAAnBiO,EAAsB,IAAQjjB,EAAAA,QAAAA,IAAS,YAAW,KAAO,GAC1GgV,UAAWgF,EAAchF,WAE3Bna,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADyZ,EAChBvmB,QAAQC,IAAI,8BAA+B6M,GACoB,OAAhB,OAA/CyZ,EAAAhQ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CoM,EAAiDnM,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd2tB,EAAkBz8B,KAClB0F,EAAKyN,UAEL1M,EAASE,QACX6N,EAAKjW,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrD8Z,EAAKtD,kBACP,GAvCF,MALErX,KAAK0E,SAAS,CACZk+B,kBAAmB,KACnBE,2BAA2B,GA4CjC,GAAC,CAAAnjC,IAAA,8BAAAC,MAED,SAA4BgB,GAAO,IAADqa,EAAA,KAChC,GAAKra,EAAL,CAIA,IAAAga,EAAwD5a,KAAKmD,MAArDlG,EAAY2d,EAAZ3d,aAAcwN,EAAImQ,EAAJnQ,KAAM4L,EAAQuE,EAARvE,SAAUsG,EAAa/B,EAAb+B,cAClCvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,gBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZJ,OAAQ9C,EAAK8C,OACbqb,MAAOne,EAAKme,MACZ4G,QAAS5uB,EACTmmB,gBAAiBpK,EAAc1J,QAEjCzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADua,EAChBrnB,QAAQC,IAAI,+BAAgC6M,GACmB,OAAhB,OAA/Cua,EAAA9Q,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CkN,EAAiDjN,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACArU,GAEAgM,EAASE,QACXmO,EAAKvW,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDoa,EAAK5D,kBACP,GAvCF,MAFErX,KAAK0E,SAAS,CAAE2iB,2BAA2B,GA0C/C,GAAC,CAAA1nB,IAAA,qBAAAC,MAED,SAAmBiM,GACjB,IAAInI,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM,MAAOgD,WAAY,kBACxC5D,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAU,eACV3C,KAAK,UAAWiL,EAAK1F,KAAI,IACzB3C,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,EACrB2+B,kBAAmB/2B,GAEvB,GAAC,CAAAlM,IAAA,qBAAAC,MAED,SAAmBiM,GACjB,IAAInI,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM,MAAOgD,WAAY,kBACxC5D,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAU,eACV3C,KAAK,UAAWiL,EAAKyN,SAAQ,IAC7B9V,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,EACrBkb,kBAAmBtT,GAEvB,GAAC,CAAAlM,IAAA,qBAAAC,MAED,SAAmBiM,GACjB7L,KAAK0E,SAAS,CACZo+B,2BAA2B,EAC3BF,kBAAmB/2B,GAEvB,GAAC,CAAAlM,IAAA,gBAAAC,MAED,WAAiB,IAADic,EAAA,KACdX,EAAoFlb,KAAKmD,MAAjFlG,EAAYie,EAAZje,aAAcwN,EAAIyQ,EAAJzQ,KAAe4L,GAAF6E,EAAPpN,QAAiBoN,EAAR7E,UAAUusB,EAAiB1nB,EAAjB0nB,kBAAmBjmB,EAAazB,EAAbyB,cAE9DvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,gBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BgxB,qBAAsBrB,EAAkB3vB,QAE1CzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD2a,EAChBznB,QAAQC,IAAI,+BAAgC6M,GACmB,OAAhB,OAA/C2a,EAAAlR,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CsN,EAAiDrN,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd2tB,EAAkBz8B,MAElByG,EAASE,QACX+O,EAAKnX,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAIrDgb,EAAKnX,SAAS,CACZk+B,kBAAmB,OAErB/mB,EAAKxE,mBACP,GACJ,GAAC,CAAA1X,IAAA,gBAAAC,MAED,WAAiB,IAADypB,EAAA,KACdvN,EAAoF9b,KAAKmD,MAAjFlG,EAAY6e,EAAZ7e,aAAcwN,EAAIqR,EAAJrR,KAAe4L,GAAFyF,EAAPhO,QAAiBgO,EAARzF,UAAU8I,EAAiBrD,EAAjBqD,kBAAmBxC,EAAab,EAAba,cAE9DvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,gBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BkW,oBAAqBhK,EAAkBlM,QAEzCzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+a,EAChB7nB,QAAQC,IAAI,+BAAgC6M,GACmB,OAAhB,OAA/C+a,EAAAtR,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/C0N,EAAiDzN,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdkK,EAAkB7F,UAElB1M,EAASE,QACXuc,EAAK3kB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAIrDwoB,EAAK3kB,SAAS,CACZya,kBAAmB,OAErBkK,EAAKhS,mBACP,GACJ,GAAC,CAAA1X,IAAA,SAAAC,MAED,WAAU,IAAD4pB,EAAA,KACC9jB,EAAe1F,KAAKT,MAApBmG,WACRmiB,EAII7nB,KAAKmD,MAJDsH,EAAIod,EAAJpd,KAAMxN,EAAY4qB,EAAZ5qB,aAAc6Q,EAAO+Z,EAAP/Z,QAAS6O,EAAakL,EAAblL,cAAegnB,EAAU9b,EAAV8b,WAAYjhB,EAAUmF,EAAVnF,WAC9DggB,EAAO7a,EAAP6a,QAASC,EAAS9a,EAAT8a,UAAW/pB,EAAUiP,EAAVjP,WACpBypB,EAAcxa,EAAdwa,eACAS,EAAyBjb,EAAzBib,0BAA2Bzb,EAAyBQ,EAAzBR,0BAA2BrjB,EAA8B6jB,EAA9B7jB,+BAAgCC,EAAmB4jB,EAAnB5jB,oBAAqBC,EAAsB2jB,EAAtB3jB,uBAE7GpE,QAAQC,IAAI,WAAY4iC,GAAaA,EAAU,IAC/C,IAAMuB,EAAQlkC,KAAK+iC,WACf/iC,KAAK+iC,WAAWoB,cAChB,EAEJ,OACE/jC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BqrB,IACA1qB,EAAAA,EAAAA,KAACqhB,GAAkB,CACjBI,4BAA6Bpe,KAAKoe,8BAGpC0kB,IACAnmC,EAAAA,EAAAA,KAACylC,GAAkB,CACjB/pB,MAAOgqB,EACPE,4BAA6BviC,KAAKuiC,8BAGpCt+B,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9BO,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3Cb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,kBAIhDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEC,aAAc,IAAKvK,SAAA,EACxDoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAE2G,EAAAA,QAAAA,IAAS,SAAS,KAAe,MAAbga,OAAa,EAAbA,EAAe1H,UAAW,QACrFtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE2G,EAAAA,QAAAA,IAAS,eAErDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOuG,cAAe,CAAE5E,KAAM,IAAK7F,SAAA,EAC/CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,WAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6J,qBAAqB/N,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,kBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8J,oBAAoBhO,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkkC,yBAGtBznC,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAM+tB,EACN7tB,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmJ,oBAC/BrI,QAAS,kBAAMwoB,EAAK6a,mBAAmBx4B,EAAK,EAAC7P,SAAA,EAC7CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKqb,cACtFvqB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyJ,yBAAyB3N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAK1F,UAGVxJ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAAC,IAC/B6P,EAAKy4B,UAAYz4B,EAAKy4B,SAAS/oB,QAAQ,SAG7C5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAAC,IAC/B6P,EAAKqlB,WAAarlB,EAAKqlB,UAAU3V,QAAQ,SAG/C5e,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOqkC,uBAC9BvjC,QAAS,kBAAMwoB,EAAKgb,mBAAmB34B,EAAK,EAAC7P,UAC7CW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMzC,WAEhC,QAIzBtB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOuG,cAAe,CAAE5E,KAAM,IAAK7F,SAAA,EAC/CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,WAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6J,qBAAqB/N,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,kBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8J,oBAAoBhO,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkkC,yBAGtBznC,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAM8M,EACN5M,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAA/I,GAAA,IAAGpB,EAAIoB,EAAJpB,KAAI,OACjBzL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOmJ,oBAAoBrN,SAAA,EACvCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKqb,cACtF9mB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyJ,yBAAyB3N,SAAA,EAC3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAC/B6P,EAAK+W,UAAY,KAAO,KAAM/W,EAAKyN,YAErCzN,EAAKolB,SAAUt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkJ,iBAAiBpN,SAAE6P,EAAKolB,UAAkB,SAEhFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAAC,IAC/B6P,EAAKy4B,UAAYz4B,EAAKy4B,SAAS/oB,QAAQ,SAG7C5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAAC,IAC/B6P,EAAKqlB,WAAarlB,EAAKqlB,UAAU3V,QAAQ,SAG/C5e,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOqkC,uBAC9BnpB,WAA8B,MAAlBvP,EAAK2X,UAAsC,MAAlB3X,EAAK2X,UAC1CxiB,QAAS,kBAAMwoB,EAAKib,mBAAmB54B,EAAK,EAAC7P,UAExB,MAAlB6P,EAAK2X,UAAsC,MAAlB3X,EAAK2X,YAC/B7mB,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,MAAMtH,KAAM,GAAI4B,MAAOC,EAAMzC,WAG5C,QAIbtB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1BpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEsB,YAAa,IAAK5L,SAAA,EACvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+H,UAAUjM,SAAA,EAC5BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOiI,oBACvBqW,IAAK,SAACpb,GAAYomB,EAAKga,gBAAkBpgC,CAAO,EAChD2M,aAAa,EACb0O,WAAW,EACX/O,YAAY,oBACZC,qBAAqB,wBACrB/P,MAAOgZ,EACP5I,gBAAiB,kBAAMwZ,EAAKka,UAAU,EACtCj8B,aAAc,SAAA7G,GAAI,OAAI4oB,EAAKkb,aAAa9jC,EAAK,EAC7C43B,UAAWkK,KAEb/lC,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOkI,gBAC9BpH,QAAS,kBAAMwoB,EAAKmb,eAAe,EAAC3oC,UACpCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,cAGnD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqI,mBAAmBvM,UACrCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAE2G,EAAAA,QAAAA,IAAS,aAAc,CAAEgS,OAAQguB,EAAUhuB,OAAQuvB,MAAAA,WAG/FvnC,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CAEP1Z,MAAO,CAAE8F,KAAM,GACf+T,KAAM+sB,EACNh8B,8BAA8B,EAC9BmP,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAAsE,GAAA,IAAGzO,EAAIyO,EAAJzO,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO0G,MACfwU,UAAWuB,GAA8C,OAAhB,MAAbA,OAAa,EAAbA,EAAenM,WAC3CxP,QAAS,kBAAMwoB,EAAKpL,4BAA4BvS,EAAK+4B,MAAM,EAAC5oC,SAAA,EAC5DoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwI,cAAc1M,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6G,kBAAmB,CAAEtG,MAAOC,EAAMzC,OAAQjC,SAAE6P,EAAK+4B,WAExEjoC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyI,eAAe3M,UACjCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAO8G,mBAAmBhL,SAAA,CAAE6P,EAAKg5B,MAAM,MAAIh5B,EAAKi5B,gBAAgBC,oBAAeC,EAAW,CAAEC,sBAAuB,EAAGC,sBAAuB,aAG9JvoC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,UAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAChC6P,EAAK1F,UAGVxJ,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6G,kBAAmB,CAAEtG,MAAOC,EAAM3C,WAAY/B,SAAE6P,EAAKs5B,SAC1ExoC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,UAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0I,cAAc5M,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAKu5B,eAGhC,EAErBC,sBAAuB,GACvBC,aAAc,kBAAM9b,EAAKwZ,QAAQ,EACjCuC,WAAY,KAjCPrB,OAoCTvnC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU8Z,GAA8C,OAAhB,MAAbA,OAAa,EAAbA,EAAenM,aAAsB,CAAEnO,QAAS,KAC1G+Y,UAAWuB,GAA8C,OAAhB,MAAbA,OAAa,EAAbA,EAAenM,WAC3CxP,QAAS,kBAAMwoB,EAAK9kB,SAAS,CAAE2iB,2BAA2B,GAAO,EAACrrB,SAAA,EAClEW,EAAAA,EAAAA,KAACiS,EAAAA,QAAQ,CAACzI,KAAK,kBAAkBtH,KAAM,GAAI4B,MAAO,QAAS1E,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OACvFrF,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6C,YAAY/G,SAAE2G,EAAAA,QAAAA,IAAS,iBAE9CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAAyB,QAAhB/D,EAAAA,QAASC,KAAiB4d,GAA8C,OAAhB,MAAbA,OAAa,EAAbA,EAAenM,aAAsB,CAAEnO,QAAS,KACnI+Y,SAA0B,QAAhBtc,EAAAA,QAASC,KAAiB4d,GAA8C,OAAhB,MAAbA,OAAa,EAAbA,EAAenM,WACpExP,QAAS,kBAAM0E,EAAW0F,SAAS,OAAQ,CAAEX,KAAAA,EAAMxN,aAAAA,EAAc6Q,QAAAA,EAAS6O,cAAAA,GAAgB,EAAC3gB,SAAA,EAC3FW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,UACL1F,MAAO,QACP5B,KAAM,GACN9C,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,OAE9BrF,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6C,YAAY/G,SAAE2G,EAAAA,QAAAA,IAAS,yBAO1D,KAAC8/B,CAAA,CA/rBuB,CAASthC,EAAAA,WAksB7BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,EACNqB,cAAe,OAEjByE,eAAgB,CACd9F,KAAM,EACNqB,cAAe,OAEjBmD,iBAAkB,CAChBxE,KAAM,EACNP,gBAAiBZ,EAAMrC,OAEzBiI,eAAgB,CACdzE,KAAM,GAER4E,cAAe,CACb5E,KAAM,EACNP,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdiB,cAAe,SACfqf,SAAU,OACVzgB,WAAY,UACZC,eAAgB,SAChBG,SAAU,UAEZ+F,UAAW,CACT3G,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,EACRF,UAAW,GACX2F,aAAc,EACdhF,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEV4F,gBAAiB,CACf5F,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBoF,kBAAmB,CACjBzG,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwG,mBAAoB,CAClB1G,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfmI,KAAM,CACJnE,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEX3B,UAAW,CACT5D,cAAe,OAEjB+D,WAAY,CACV9E,eAAgB,GAElBgF,UAAW,CACTjE,cAAe,OAEjBwF,cAAe,CACb7G,KAAM,GAER8G,eAAgB,CACd9G,KAAM,EACNC,WAAY,YAEd8G,cAAe,CACb/G,KAAM,GAERgH,eAAgB,CACdhH,KAAM,EACNC,WAAY,YAEdiF,kBAAmB,CACjBtG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdiK,mBAAoB,CAClBvG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdmK,eAAgB,CACdzG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+E,mBAAoB,CAClB3G,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdgJ,kBAAmB,CACjBlE,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB6E,cAAe,UAEjB8C,gBAAiB,CACfnE,KAAM,EACNoB,kBAAmB,GACnB6F,WAAY,IAEdjG,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBgE,mBAAoB,CAClB7D,UAAW,IAEbyG,UAAW,CACT1H,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBkH,gBAAiB,IAEnBC,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXU,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzB+lC,uBAAwB,CACtBviC,MAAO,GACPF,WAAY,SACZC,eAAgB,UAElByH,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB/H,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZ6G,yBAA0B,CACxBhI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB69B,mBAAoB,CAClBpiC,MAAO,GACPF,WAAY,SACZC,eAAgB,UAElB+H,oBAAqB,CACnB9H,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwL,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfoC,oBAAqB,CACnBnI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZiH,qBAAsB,CACpBpI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf6B,cAAe,CACbkC,OAAQ,GACRD,UAAW,GACXT,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,W,6cCr9BqD,IAE3C+kC,GAAQ,SAAArmC,IAAAC,EAAAA,EAAAA,SAAAomC,EAAArmC,GAAA,IAAAE,EAAAC,GAAAkmC,GAE3B,SAAAA,EAAYjmC,GAAQ,IAADM,EAkBgD,OAlBhDL,EAAAA,EAAAA,SAAA,KAAAgmC,IACjB3lC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjC8qB,iBAAkBxoB,EAAMiM,MAAMC,OAAOsc,iBACrCE,oBAAqB1oB,EAAMiM,MAAMC,OAAOwc,oBACxCjE,gBAAiBzkB,EAAMiM,MAAMC,OAAOqC,QAAQkW,gBAC5C3N,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SAErCkP,6BAA6B,EAE7B2e,MAAO3kC,EAAMiM,MAAMC,OAAOsc,iBAAiBha,QAAO,SAACwlB,EAAM3M,GAAU,OAAO2M,EAAO3M,EAAI6e,SAAU,GAAG,GAAGV,oBAAeC,EAAW,CAAEC,sBAAuB,EAAGC,sBAAuB,IAClLryB,QAAS,MAEXhT,EAAKwkB,8BAAgCxkB,EAAKwkB,8BAA8BlgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAElFA,EAAK6lC,qBAAuB7lC,EAAK6lC,qBAAqBvhC,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnE,CAwRC,OAxRAH,EAAAA,EAAAA,SAAA8lC,EAAA,EAAA7lC,IAAA,oBAAAC,MAED,WAEA,GAAC,CAAAD,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,gCAAAC,MAED,SAA8BuoB,EAAS6C,GAChC7C,GAMLnoB,KAAK0E,SAAS,CACZ6gB,6BAA6B,IAE/BvlB,KAAK0lC,qBAAqBvd,IARxBnoB,KAAK0E,SAAS,CACZ6gB,6BAA6B,GAQnC,GAAC,CAAA5lB,IAAA,uBAAAC,MAED,SAAqBuoB,GAAU,IAAD9kB,EAAA,KACpBqC,EAAe1F,KAAKT,MAApBmG,WACRC,EAAiG3F,KAAKmD,MAA9FlG,EAAY0I,EAAZ1I,aAAcwN,EAAI9E,EAAJ8E,KAAM4L,EAAQ1Q,EAAR0Q,SAAU0R,EAAgBpiB,EAAhBoiB,iBAAkBE,EAAmBtiB,EAAnBsiB,oBAAqBjE,EAAere,EAAfqe,gBAC7E,GAAgC,IAA5B+D,EAAiBpT,OAGrB,GAAIqP,EAAgBrP,OAAS,IAAMwT,IAAY1d,EAAKib,eAClD1lB,KAAK0E,SAAS,CACZ6gB,6BAA6B,QAFjC,CAMA,IAAInY,EAAMnQ,EAAe,sBACnBU,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZJ,OAAQ9C,EAAK8C,OACbo4B,eAAgB5d,EAAiB,GAAG6d,UACpCzhB,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,UACzF0hB,OAAQ9d,EAAiBpkB,KAAI,SAAAnH,GAAE,OAAIA,EAAGyW,OAAO8C,WAAa,KAAO1S,EAAKF,MAAM3G,EAAGyW,SAAW,IAAI,IAAE8a,KAAK,KACrG+X,UAAW7d,EAAoBtkB,KAAI,SAAAnH,GAAE,OAAIA,EAAGyW,OAAO8C,WAAa,KAAO1S,EAAKF,MAAM3G,EAAGyW,SAAW,IAAI,IAAE8a,KAAK,MAE7GvwB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,kCAAmC6M,GACgB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,kBACAwN,EAAKoV,SACLjT,EAASE,QACT,GACA,GACA,IAEAF,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrD6E,EAAWO,QACb,GAvCF,CAwCF,GAAC,CAAAtG,IAAA,eAAAC,MAED,SAAaiM,EAAMjL,GAAO,IAADmlC,EAAA/5B,EAAA,KACvBQ,EAAkDxM,KAAKmD,MAA/C4kB,EAAgBvb,EAAhBub,iBAAkBE,EAAmBzb,EAAnByb,oBACpBnP,EAAQiP,EAAiBhP,MAAK,SAAAvc,GAAE,OAAIA,EAAGy6B,OAASprB,EAAKorB,IAAI,IAC/Dj3B,KAAK0E,UAAQqhC,EAAA,IAAAl4B,EAAAA,EAAAA,SAAAk4B,EACVl6B,EAAKoH,OAASrS,IAAIiN,EAAAA,EAAAA,SAAAk4B,EAClBjtB,EAAM7F,OAASgV,EAAoBrW,QAAO,SAAApV,GAAE,OAAIA,EAAGy6B,OAASprB,EAAKorB,MAAQz6B,EAAGyW,SAAWpH,EAAKoH,MAAM,IAAElF,QAAO,SAACwlB,EAAM/2B,GACjH,OAAO+2B,GAAQvnB,EAAK7I,MAAM3G,EAAGyW,SAAW,GAAKzW,EAAGwpC,OAClD,GAAGvgC,OAAO7E,GAAQiL,EAAKm6B,UAAQD,GAEnC,GAAC,CAAApmC,IAAA,aAAAC,MAED,SAAWiM,GACT,IAAA8C,EAA2D3O,KAAKmD,MAAxD0P,EAAOlE,EAAPkE,QACFiG,GAD2BnK,EAAhBoZ,iBAAqCpZ,EAAnBsZ,oBACDlP,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAWJ,CAAO,KACrD,UAAThH,EACF7L,KAAK0kC,aAAa5rB,EAAO,KACgB,IAAhCrT,OAAOzF,KAAKmD,MAAM0P,KAC3B7S,KAAK0E,UAAQmJ,EAAAA,EAAAA,SAAC,CAAC,EAAEgF,EAAUhH,IAC3B7L,KAAK0kC,aAAa5rB,EAAOjN,IAEzB7L,KAAK0kC,aAAa5rB,GAAQ9Y,KAAKmD,MAAM0P,IAAY,IAAMhH,EAE3D,GAAC,CAAAlM,IAAA,SAAAC,MAED,WAAU,IAADymB,EAAA3Z,EAAA,KACChH,EAAe1F,KAAKT,MAApBmG,WACRyR,EAEqBnX,KAAKmD,MAFlBkT,EAAQc,EAARd,SAAU0R,EAAgB5Q,EAAhB4Q,iBAAkBE,EAAmB9Q,EAAnB8Q,oBAAqBjE,EAAe7M,EAAf6M,gBAAiBuB,EAA2BpO,EAA3BoO,4BACxEvhB,EAA8BmT,EAA9BnT,+BACAkgC,EAAK/sB,EAAL+sB,MAAOrxB,EAAOsE,EAAPtE,QACHozB,EAA0E,OAArD5f,EAAGhQ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,mBAAbA,EAAGyd,KAA0B,UAAC,EAAlDoM,EAAoDnM,UAGlF,OAFApa,QAAQC,IAAI,cAAe8S,IAGzBzS,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BgI,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,mCAGzCskB,IACA5oB,EAAAA,EAAAA,KAACmnB,GAAoB,CACnBM,aAAa,gBACbJ,gBAAiBA,EACjBK,8BAA+BrkB,KAAKqkB,iCAExC1nB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOgmC,eAAelqC,UACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,UACvBoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,iBAItCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOimC,gBAAgBnqC,SAAA,EAClCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,qBACzCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAE+rB,EAAiBpT,OAAO,yBAGrC,MAA1BsxB,IACA7lC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkmC,QAAQpqC,SAAA,EAC1BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOmmC,YAAYrqC,SAAC,WACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOomC,iBAAiBtqC,SAAEkoC,QAG3C9jC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6J,qBAAqB/N,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,kBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8J,oBAAoBhO,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,oBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,iBAGnCW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf+T,KAAMmS,EACNphB,8BAA8B,EAC9BmP,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAAAyU,EAAAA,SAAA,CAAA7Y,SAAA,EACEoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOmJ,mBAAqB5D,OAAOiH,EAAKvJ,MAAM0I,EAAKoH,SAAW,GAAGsI,QAAQ,MAAQ1P,EAAK45B,UAAY55B,EAAK06B,UAAUhrB,QAAQ,IAAM0M,EAAoBhI,MAAK,SAAAzjB,GAAE,OAAIA,EAAGy6B,OAASprB,EAAKorB,IAAI,KAA+B,MAA1BgP,GAAkC,CAAE3kC,gBAAiBZ,EAAMzC,OAAQjC,SAAA,EACvQW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAC1CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKoX,YAE3CtmB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyJ,yBAAyB3N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKorB,UAGVt6B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAK1F,UAGVxJ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,SAEd,MAA1BiqC,GAAiChe,EAAoBhI,MAAK,SAAA2G,GAAG,OAAIA,EAAIqQ,OAASprB,EAAKorB,IAAI,KACtFt6B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOiJ,cAAe,CAAE5C,aAAc,KAAMvK,UACtD0Q,EAAKvJ,MAAM0I,EAAKoH,SAAW,GAAG8xB,oBAAeC,EAAW,CAAEC,sBAAuB,EAAGC,sBAAuB,OAG/GvoC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOiJ,cAAe,CAAE5C,aAAc,KAAMvK,SACvD6P,EAAK45B,UAAUV,oBAAeC,EAAW,CAAEC,sBAAuB,EAAGC,sBAAuB,WAMrGjd,EAAoBrW,QAAO,SAAApV,GAAE,OAAIA,EAAGy6B,OAASprB,EAAKorB,IAAI,IAAEtzB,KAAI,SAAAnH,GAAE,OAC5D4D,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CACHlE,MAAO,CAACmE,GAAOmJ,oBAAoBrN,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAC1CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,mBAEtBxM,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyJ,yBAAyB3N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,mBAGtBxM,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAKE,eAAgB,UAAW/F,UACnDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/BQ,EAAGgqC,aAGR7pC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,IAAO7F,UAC1BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO4zB,cAAe,CAAEtR,YAAa,IAAM3P,IAAYrW,EAAGyW,QAAU,CAAE3R,gBAAiBZ,EAAM3C,WAAY/B,UACrHW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOuP,UAAWoD,IAAYrW,EAAGyW,QAAU,CAAExS,MAAO,UACrEkd,aAAa,UACbpW,mBAAmB,EACnB3H,MAAO8M,EAAKvJ,MAAM3G,EAAGyW,SAAW,IAChCxL,aAAc,SAAA7G,GAAI,OAAI8L,EAAKg4B,aAAaloC,EAAIoE,EAAK,EACjDgZ,QAAS,kBAAMlN,EAAKhI,SAAS,CAAEmO,QAASrW,EAAGyW,QAAS,SAI1DtW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOiJ,cAAe,CAAE5C,aAAc,KAAMvK,UACtDQ,EAAGwpC,QAAUvgC,OAAOiH,EAAKvJ,MAAM3G,EAAGyW,SAAW,IAAI8xB,oBAAeC,EAAW,CAAEC,sBAAuB,EAAGC,sBAAuB,UA3B3H1oC,EAAGyW,OAAO8C,WA8Bd,MAGV,QAIT3V,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOumC,gBAAgBzqC,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAK7F,UACxBoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0L,EAAKg5B,sBAAsB,EAAC1pC,SAAA,EAC3CW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,MACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,oBAGpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAAjE,SAED6W,IACAlW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACPG,KAAM,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,QAAS,KAC7DC,eAAe,EACflP,8BAA8B,EAC9BgP,WAAY,EACZG,aAAc,SAACjK,EAAMiJ,GAAK,OAAKA,EAAMiB,UAAU,EAC/CC,WAAY,SAAA/I,GAAA,IAAGpB,EAAIoB,EAAJpB,KAAI,OACjBlP,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAI,EAAGkH,YAAa,GAAI/M,UAC3CW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE0G,OAAQ,IAAKZ,KAAM,EAAGC,WAAY,SAAUC,eAAgB,SAAUT,gBAAiB,QAASW,aAAc,GACvIjB,QAAS,kBAAM0L,EAAKuD,WAAWpE,EAAK,EAAC7P,SAE1B,UAAT6P,GACElP,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQ1F,MAAM,QAAQ5B,KAAM,MAE5ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAE0E,MAAO,QAAS1D,WAAY,eAAgBD,SAAU,IAAMd,SAAE6P,OAG9E,WAQvB,KAAC25B,CAAA,CA7S0B,CAASrkC,EAAAA,WAgThCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzB6nC,eAAgB,CACdrkC,KAAM,EACNqB,cAAe,MACfuF,QAAS,IAEX09B,gBAAiB,CACftkC,KAAM,EACNM,eAAgB,GAChBF,aAAc,EACdX,gBAAiBZ,EAAMnC,OAEzBkoC,eAAgB,CACd5kC,KAAM,EACN4G,QAAS,IAEXJ,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjB4G,oBAAqB,CACnB9H,MAAO,IACPF,WAAY,SACZC,eAAgB,UAElBgI,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,UAElBiI,oBAAqB,CACnBnI,KAAM,EACNE,eAAgB,UAElBkI,qBAAsB,CACpBjI,MAAO,IACPF,WAAY,WACZC,eAAgB,SAChBwE,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf0K,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAETqzB,cAAe,CACbjyB,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB4D,aAAc,EAEdF,eAAgB,SAChBD,WAAY,YAEd2N,UAAW,CACTxM,kBAAmB,GACnBpB,KAAM,EACNG,MAAO,OACPM,UAAW,QACX7B,MAAO,QACP1D,WAAY,gBAEdsM,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,IACPF,WAAY,SACZC,eAAgB,UAElB4H,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,UAElB6H,wBAAyB,CACvB/H,KAAM,EACNE,eAAgB,UAElB8H,yBAA0B,CACxB7H,MAAO,IACPF,WAAY,WACZC,eAAgB,SAChBwE,aAAc,IAEhB1D,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjB9B,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb8jC,QAAS,CACPjkC,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBukC,iBAAkB,CAChBvpC,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,SACbuE,UAAW,UAEb+jC,YAAa,CACXtpC,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAMzC,KACbqE,UAAW,Y,6cClcyB,IAEnBokC,GAAO,SAAAvnC,IAAAC,EAAAA,EAAAA,SAAAsnC,EAAAvnC,GAAA,IAAAE,EAAAC,GAAAonC,GAE1B,SAAAA,EAAYnnC,GAAQ,IAADM,EAawE,OAbxEL,EAAAA,EAAAA,SAAA,KAAAknC,IACjB7mC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aAEjC+G,gCAAgC,EAChCC,qBAAqB,EACrBC,uBAAwB,GACxB6f,SAAU,GACVjE,SAAS,GAEXjgB,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC3F,CAmUC,OAnUAH,EAAAA,EAAAA,SAAAgnC,EAAA,EAAA/mC,IAAA,oBAAAC,MAED,WAAqB,IAADyD,EAAA,KAClBsC,EAA+B3F,KAAKmD,MAA5BsH,EAAI9E,EAAJ8E,KACJ2C,EADsBzH,EAAZ1I,aACW,eACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,QAAS7C,EAAK8C,QAE5B/P,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,WAAY6M,GACpBA,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAKrDwC,EAAKqB,SAAS,CACZqf,SAAUnX,IACT,kBAAMvJ,EAAKsjC,eAAe,GAC/B,IACCx4B,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,oBAAAC,MAED,SAAkBiM,GAAO,IAADG,EAAA,KACtBQ,EAAmCxM,KAAKmD,MAAhClG,EAAYuP,EAAZvP,aAAc8mB,EAAQvX,EAARuX,SAElB6iB,EAAkB7iB,EACtB6iB,EAAgB7tB,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAAEzC,UAAY,UAClExQ,KAAK0E,SAAS,CACZqf,SAAU6iB,IAGZ,IAAIx5B,EAAMnQ,EAAe,gBAAkB4O,EAAKoH,OAChDzV,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAEJ,GADA9M,QAAQC,IAAI,eAAgB6M,GACxBA,EAASE,QACXd,EAAKtH,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,oBAFrD,CAOA,IAAIgmC,EAAiB9iB,EACE,OAAnBnX,EAASk6B,MACXD,EAAe9tB,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAAEzC,UAAY,SAEjEq2B,EAAe9tB,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAAEzC,UAAY,UAEnExE,EAAKtH,SAAS,CACZqf,SAAU8iB,GATZ,CAWF,IACC14B,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZpC,EAAKtH,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,qBAAAC,MAED,WACE,IAAI8D,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM,MAAOgD,WAAY,kBACxC5D,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAU,oBACV3C,KAAM,6BACN4C,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,GAEzB,GAAC,CAAAtE,IAAA,qBAAAC,MAED,WACE,IAAI8D,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM,MAAOgD,WAAY,kBACxC5D,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAU,oBACV3C,KAAM,qCACN4C,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,GAEzB,GAAC,CAAAtE,IAAA,gBAAAC,MAED,WAAiB,IAAD8M,EAAA,KACdiC,EAA+B3O,KAAKmD,MAA5BlG,EAAY0R,EAAZ1R,aAAcwN,EAAIkE,EAAJlE,KAClB2C,EAAMnQ,EAAe,mBACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU7C,EAAKD,QAC7BiB,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,QAAS7C,EAAKkD,OAC5BlC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAE7B/P,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,+BAAgC6M,GACxCA,EAASE,SACXJ,EAAKhI,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,eAIvD,IACCsN,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ1B,EAAKhI,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,gBAAAC,MAED,WAAiB,IAAD6O,EAAA,KACOzO,KAAKmD,MAAlB4gB,SACCxnB,SAAQ,SAAAC,GAAE,OAAIiS,EAAKs4B,kBAAkBvqC,EAAG,GACnD,GAAC,CAAAmD,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACpBZ,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,KAErBtD,IAGQ,kBAATA,EACFZ,KAAKgnC,gBACa,kBAATpmC,GACTZ,KAAK2mC,gBAET,GAAC,CAAAhnC,IAAA,SAAAC,MAED,WAAU,IAAD+a,EAAA,KACCjV,EAAe1F,KAAKT,MAApBmG,WACRyR,EACmFnX,KAAKmD,MADhF4gB,EAAQ5M,EAAR4M,SACN/f,GADuBmT,EAAP2I,QACc3I,EAA9BnT,gCAAgCC,EAAmBkT,EAAnBlT,oBAAqBC,EAAsBiT,EAAtBjT,uBAGvD,OAFApE,QAAQC,IAAI,gBAGVK,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BiI,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9BO,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3Cb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5ChG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkG,2BAIxBzJ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEC,aAAc,IAAKvK,SAAA,EACxDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpB7J,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,EAAGG,MAAO,QACzB4T,KAAMmO,EACNjO,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAsB,IAAnBiQ,EAAIjQ,EAAJiQ,KACb,GADwBjQ,EAALkZ,MACP,IAAM,EAChB,OACE1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAO0G,KACd5F,QAAS,kBAAM2Z,EAAKosB,kBAAkBl7B,EAAK,EAAC7P,SAAA,EAC5CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwI,cAAc1M,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAKsY,eAE/CxnB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyI,eAAe3M,UACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,mBAAoB,CAAEvG,MAA0B,YAAnBoL,EAAK2E,UAA0B9P,EAAM3C,SAA8B,WAAnB8N,EAAK2E,UAAyB9P,EAAM5C,OAAS4C,EAAMzC,OAAQjC,SACvI,WAAnB6P,EAAK2E,UAAyB7N,EAAAA,QAAAA,IAAS,UAA+B,YAAnBkJ,EAAK2E,UAA0B7N,EAAAA,QAAAA,IAAS,WAAakJ,EAAK2E,kBAIpH7T,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,UAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAChC6P,EAAK1F,UAGV/F,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0I,iBAEpBjM,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2I,eAAe7M,UACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkH,mBAAmBpL,SAAE6P,EAAKo7B,mBAM1D,QAGJtqC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1BpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEsB,YAAa,IAAK5L,SAAA,EACvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpB7J,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,EAAGG,MAAO,QACzB4T,KAAMmO,EACNjO,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAA/I,GAAsB,IAAnBpB,EAAIoB,EAAJpB,KACb,GADwBoB,EAAL6H,MACP,EACV,OACE1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAEf/E,MAAOmE,GAAO0G,KACd5F,QAAS,kBAAM2Z,EAAKosB,kBAAkBl7B,EAAK,EAAC7P,SAAA,EAC5CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwI,cAAc1M,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAKsY,eAE/CxnB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyI,eAAe3M,UACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,mBAAoB,CAAEvG,MAA0B,YAAnBoL,EAAK2E,UAA0B9P,EAAM3C,SAA8B,WAAnB8N,EAAK2E,UAAyB9P,EAAM5C,OAAS4C,EAAMzC,OAAQjC,SACvI,WAAnB6P,EAAK2E,UAAyB7N,EAAAA,QAAAA,IAAS,UAA+B,YAAnBkJ,EAAK2E,UAA0B7N,EAAAA,QAAAA,IAAS,WAAakJ,EAAK2E,kBAIpH7T,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,UAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAChC6P,EAAK1F,UAGV/F,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0I,iBAEpBjM,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2I,eAAe7M,UACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkH,mBAAmBpL,SAAE6P,EAAKo7B,mBAtB7Cp7B,EAAKoH,OA4BlB,QAGJtW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM2Z,EAAKusB,oBAAoB,EAAClrC,SAAA,EACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERuB,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAA,CAAC,QAAM2G,EAAAA,QAAAA,IAAS,cAEjDvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM2Z,EAAKwsB,oBAAoB,EAACnrC,SAAA,EACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,UACL1F,MAAM,QACN5B,KAAM,MAERuB,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAA,CAAE2G,EAAAA,QAAAA,IAAS,QAAQ,IAAEA,EAAAA,QAAAA,IAAS,uBAO3E,KAAC+jC,CAAA,CAnVyB,CAASvlC,EAAAA,WAsV/BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,EACNqB,cAAe,OAEjByE,eAAgB,CACd9F,KAAM,EACNqB,cAAe,OAEjBmD,iBAAkB,CAChBxE,KAAM,EACNP,gBAAiBZ,EAAMrC,OAEzBiI,eAAgB,CACdzE,KAAM,GAER4E,cAAe,CACb5E,KAAM,EACNP,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdiB,cAAe,SACfqf,SAAU,OACVzgB,WAAY,UACZC,eAAgB,SAChBG,SAAU,UAEZ+F,UAAW,CACT3G,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,EACRF,UAAW,GACX2F,aAAc,EACdhF,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEV4F,gBAAiB,CACf5F,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBoF,kBAAmB,CACjBzG,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwG,mBAAoB,CAClB1G,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfmI,KAAM,CACJnE,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEX3B,UAAW,CACT5D,cAAe,OAEjB+D,WAAY,CACV9E,eAAgB,GAElBgF,UAAW,CACTjE,cAAe,OAEjBwF,cAAe,CACb7G,KAAM,GAER8G,eAAgB,CACd9G,KAAM,EACNC,WAAY,YAEd8G,cAAe,CACb/G,KAAM,GAERgH,eAAgB,CACdhH,KAAM,EACNC,WAAY,YAEdiF,kBAAmB,CACjBtG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdiK,mBAAoB,CAClBvG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZqF,cAAe,aAEjB8E,eAAgB,CACdzG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+E,mBAAoB,CAClB3G,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdgJ,kBAAmB,CACjBlE,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB6E,cAAe,UAEjB8C,gBAAiB,CACfnE,KAAM,EACNoB,kBAAmB,GACnB6F,WAAY,IAEdjG,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBgE,mBAAoB,CAClB7D,UAAW,IAEbyG,UAAW,CACT1H,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBkH,gBAAiB,IAEnBC,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXU,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB/H,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZ6G,yBAA0B,CACxBhI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhBuD,oBAAqB,CACnB9H,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwL,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfoC,oBAAqB,CACnBnI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZiH,qBAAsB,CACpBpI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf6B,cAAe,CACbkC,OAAQ,GACRL,eAAgB,EAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,W,6cC7lB6B,IAEnB2mC,GAAgB,SAAAjoC,IAAAC,EAAAA,EAAAA,SAAAgoC,EAAAjoC,GAAA,IAAAE,EAAAC,GAAA8nC,GAEnC,SAAAA,EAAY7nC,GAAQ,IAADM,EAQsC,OARtCL,EAAAA,EAAAA,SAAA,KAAA4nC,IACjBvnC,EAAAR,EAAAI,KAAA,KAAMF,IAED4D,MAAQ,CACXkkC,WAAY9nC,EAAM8nC,WAAa17B,IAAOpM,EAAM8nC,YAAY/xB,OAAO,cAAgB3J,IAAO,IAAIogB,MAAQzW,OAAO,cACzGgyB,OAAO,GAETznC,EAAK8f,eAAiB9f,EAAK8f,eAAexb,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9CA,EAAK81B,gBAAkB91B,EAAK81B,gBAAgBxxB,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACzD,CAuEC,OAvEAH,EAAAA,EAAAA,SAAA0nC,EAAA,EAAAznC,IAAA,iBAAAC,MAED,SAAeynC,GACbrnC,KAAK0E,SAAS,CACZ2iC,WAAAA,EACAC,MAAO37B,IAAO07B,EAAY,cAAc,GAAME,WAElD,GAAC,CAAA5nC,IAAA,kBAAAC,MAED,SAAgBsd,GACd,IAAQmqB,EAAernC,KAAKmD,MAApBkkC,WACR,GAAa,SAATnqB,EAAiB,CACnB,IAAIsqB,EAAmB77B,IAAO07B,GAAYI,IAAI,EAAG,QAAQnyB,OAAO,cAEhEtV,KAAK0E,SAAS,CACZ2iC,WAAYG,EACZF,MAAO37B,IAAO67B,EAAkB,cAAc,GAAMD,WAExD,MACK,GAAa,UAATrqB,EAAkB,CACzB,IAAIsqB,EAAmB77B,IAAO07B,GAAYK,SAAS,EAAG,QAAQpyB,OAAO,cACrEtV,KAAK0E,SAAS,CACZ2iC,WAAYG,EACZF,MAAO37B,IAAO67B,EAAkB,cAAc,GAAMD,WAExD,CACF,GAAC,CAAA5nC,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACPsC,EAA8B3F,KAAKmD,MAA3BkkC,EAAU1hC,EAAV0hC,WAAYC,EAAK3hC,EAAL2hC,MAGpB,OAFAxnC,QAAQC,IAAI,sBAAuBC,KAAKT,QAGtC5C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,mBAE3CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwzB,SAAS13B,SAAA,EAC3BW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOynC,cAC9B3mC,QAAS,kBAAMqC,EAAKsyB,gBAAgB,QAAQ,EAAC35B,UAC7CW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,wBAE1C9D,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0nC,eAAe5rC,UACjCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOuP,WAAY63B,GAAS,CAAE7mC,MAAOC,EAAMzC,OAC5D0f,aAAa,UACb/d,MAAOynC,EACP5/B,aAAc,SAAC4/B,GAAU,OAAKhkC,EAAKsc,eAAe0nB,EAAW,OAGjE1qC,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2nC,cAC9B7mC,QAAS,kBAAMqC,EAAKsyB,gBAAgB,OAAO,EAAC35B,UAC5CW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAOtH,KAAM,GAAI4B,MAAM,2BAG3C9D,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAACE,QAAS,kBAAMqC,EAAKqB,SAAS,CAAE2iC,WAAY17B,MAAS2J,OAAO,cAAegyB,OAAO,GAAO,EAACtrC,UACzGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOS,YAAY3E,SAAC,kBAEnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEwB,UAAW,KAAO+kC,GAAS,CAAEjlC,QAAS,KACtF+Y,UAAWksB,EACXtmC,QAAS,kBAAMqC,EAAK9D,MAAMuoC,0BAA0BT,EAAYhkC,EAAK9D,MAAMwoC,SAAS,EAAC/rC,UACrFW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAC,UAEzCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOa,cAAe,CAAEO,gBAAiBZ,EAAMzC,OACvE+C,QAAS,kBAAMqC,EAAK9D,MAAMuoC,0BAA0B,GAAG,EAAC9rC,UACxDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAE2G,EAAAA,QAAAA,IAAS,kBAK3D,KAACykC,CAAA,CAlFkC,CAASjmC,EAAAA,WAqFxCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPV,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb3B,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEbvB,cAAe,CACbyB,OAAQ,GACRlB,gBAAiBZ,EAAMlC,MACvBsD,WAAY,SACZC,eAAgB,SAChBU,OAAQ,GAEVvB,kBAAmB,CACjBnE,WAAY,eACZ0D,MAAO,QACP2B,cAAe,YACfE,UAAW,UAEboxB,SAAU,CACRlxB,OAAQ,GACRR,MAAO,OACPG,eAAgB,EAChBe,cAAe,MACfnB,eAAgB,UAElB4lC,cAAe,CACb3lC,MAAO,IACPQ,OAAQ,GACRV,WAAY,SACZC,eAAgB,UAElB6lC,eAAgB,CACd/lC,KAAM,EACNmB,SAAU,GACVhB,MAAO,IACPC,aAAc,EACdX,gBAAiBZ,EAAMrC,MACvByD,WAAY,SACZC,eAAgB,UAElB8lC,cAAe,CACb7lC,MAAO,IACPQ,OAAQ,GACRV,WAAY,SACZC,eAAgB,UAElB0N,UAAW,CACTzN,MAAO,MACPjF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,Y,6cC7KyB,IAEnB0lC,GAAM,SAAA7oC,IAAAC,EAAAA,EAAAA,SAAA4oC,EAAA7oC,GAAA,IAAAE,EAAAC,GAAA0oC,GAEzB,SAAAA,EAAYzoC,GAAQ,IAADM,EAwBwE,OAxBxEL,EAAAA,EAAAA,SAAA,KAAAwoC,IACjBnoC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjC+mB,gBAAiBzkB,EAAMiM,MAAMC,OAAOqC,QAAQkW,gBAC5C/E,WAAY1f,EAAMiM,MAAMC,OAAOqC,QAAQmR,WAEvCgpB,eAAgB,GAChBC,eAAgBv8B,MAAS2J,OAAO,cAChC6yB,aAAcx8B,MAAS2J,OAAO,cAC9B8yB,cAAe,GACftpB,mBAAoB,GACpBW,6BAA6B,EAC7B8F,6BAA6B,EAC7B8iB,yBAAyB,EACzBrkC,gCAAgC,GAElCnE,EAAKyoC,gBAAkBzoC,EAAKyoC,gBAAgBnkC,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAK0oC,mBAAqB1oC,EAAK0oC,mBAAmBpkC,MAAIC,EAAAA,EAAAA,SAAAvE,IACtDA,EAAK2oC,kBAAoB3oC,EAAK2oC,kBAAkBrkC,MAAIC,EAAAA,EAAAA,SAAAvE,IACpDA,EAAKioC,0BAA4BjoC,EAAKioC,0BAA0B3jC,MAAIC,EAAAA,EAAAA,SAAAvE,IACpEA,EAAK+e,8BAAgC/e,EAAK+e,8BAA8Bza,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKwkB,8BAAgCxkB,EAAKwkB,8BAA8BlgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC3F,CA0YC,OA1YAH,EAAAA,EAAAA,SAAAsoC,EAAA,EAAAroC,IAAA,oBAAAC,MAED,WACA,GAAC,CAAAD,IAAA,kBAAAC,MAED,SAAgBsd,GACd,IAAAvX,EAAyC3F,KAAKmD,MAAtC+kC,EAAcviC,EAAduiC,eAAgBC,EAAYxiC,EAAZwiC,aACxBnoC,KAAK0E,SAAS,CACZ2jC,yBAAyB,EACzBI,iBAAkBvrB,EAClBwrB,mBAA6B,aAATxrB,EAAsBgrB,EAAiBC,GAE/D,GAAC,CAAAxoC,IAAA,qBAAAC,MAED,SAAmB+oC,EAAQ5oB,GAAc,IAAD1c,EAAA,KACtCmJ,EAAyExM,KAAKmD,MAAtElG,EAAYuP,EAAZvP,aAAcwN,EAAI+B,EAAJ/B,KAAMwU,EAAUzS,EAAVyS,WAAYipB,EAAc17B,EAAd07B,eAAgBC,EAAY37B,EAAZ27B,aACxD,GAAwB,MAAlB19B,EAAKuV,UAAoBf,EAAWgB,MAAK,SAAAzjB,GAAE,OAAIA,EAAGojB,QAAU+oB,CAAM,KAAO5oB,EAA/E,CAOA/f,KAAK0E,SAAS,CACZujC,eAAgBU,IAElB7oC,QAAQC,IAAI,UACZ,IAAIqN,EAAMnQ,EAAe,oBACnBU,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZJ,OAAQ9C,EAAK8C,OACbq7B,WAAYD,EACZT,eAAAA,EACAC,aAAAA,GAEFroC,QAAQC,IAAI,OAAQpC,EAAMyP,GAC1B5P,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,gCAAiC6M,GACzCA,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAKrDwC,EAAKqB,SAAS,CACZ0jC,cAAex7B,GAEnB,IACCuB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GA3CF,MALE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,EAC7BX,mBAAoB6pB,GA+C1B,GAAC,CAAAhpC,IAAA,oBAAAC,MAED,SAAkBuoB,GAAU,IAADnc,EAAA,KACzB2C,EAA8F3O,KAAKmD,MAA3FsH,EAAIkE,EAAJlE,KAAMxN,EAAY0R,EAAZ1R,aAAc+mB,EAAerV,EAAfqV,gBAAiBikB,EAAct5B,EAAds5B,eAAgBC,EAAcv5B,EAAdu5B,eAAgBC,EAAYx5B,EAAZw5B,aAE7E,GAAKF,EAIL,GAAIjkB,EAAgBrP,OAAS,IAAMwT,GAAW1d,EAAKib,eACjD1lB,KAAK0E,SAAS,CACZ6gB,6BAA6B,QAFjC,CAOA,IAAInY,EAAMnQ,EAAe,0BACnBU,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZJ,OAAQ9C,EAAK8C,OACbq7B,WAAYX,EACZ9jB,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,UACzF+jB,eAAAA,EACAC,aAAAA,GAEF3qC,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,sCAAuC6M,GAC/CA,EAASE,QACXd,EAAKtH,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAKrDmL,EAAKtH,SAAS,CACZ0jC,cAAex7B,GAEnB,IACCuB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZpC,EAAKtH,SAAS,CACZob,SAAS,GAEb,GAxCF,CAyCF,GAAC,CAAAngB,IAAA,4BAAAC,MAED,SAA0BgB,EAAMsc,GAAO,IAADxQ,EAAA,KAIpC,GAHA1M,KAAK0E,SAAS,CACZ2jC,yBAAyB,IAEtBznC,EAAL,CAGA,IAAAuW,EAA6EnX,KAAKmD,MAA1ElG,EAAYka,EAAZla,aAAcwN,EAAI0M,EAAJ1M,KAAMw9B,EAAc9wB,EAAd8wB,eAExBY,EAFsD1xB,EAAd+wB,eAGxCY,EAHoE3xB,EAAZgxB,aAK/C,WAATjrB,EACF4rB,EAAqBn9B,IAAO/K,GAAM0U,OAAO,cAEzCuzB,EAAuBl9B,IAAO/K,GAAM0U,OAAO,cAG7CtV,KAAK0E,SAAS,CACZwjC,eAAgBW,EAChBV,aAAcW,IAGhB,IAAI17B,EAAMnQ,EAAe,oBACnBU,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZJ,OAAQ9C,EAAK8C,OACbq7B,WAAYX,EACZC,eAAgBW,EAChBV,aAAcW,GAEhBhpC,QAAQC,IAAI,OAAQpC,EAAMyP,GAC1B5P,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,WAAY6M,GACpBA,EAASE,QACXJ,EAAKhI,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAKrD6L,EAAKhI,SAAS,CACZ0jC,cAAex7B,GAEnB,IACCuB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ1B,EAAKhI,SAAS,CACZob,SAAS,GAEb,GAvDF,CAwDF,GAAC,CAAAngB,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,gCAAAC,MAED,SAA8BuoB,EAAS6C,GACrChrB,KAAK0E,SAAS,CACZ6gB,6BAA6B,IAE1B4C,GAGLnoB,KAAKwoC,kBAAkBrgB,EACzB,GAAC,CAAAxoB,IAAA,gCAAAC,MAED,SAA8BgB,GAAO,IAAD6N,EAAA,KAClC8I,EAAmDvX,KAAKmD,MAAhDsH,EAAI8M,EAAJ9M,KAAMxN,EAAYsa,EAAZta,aAAc6hB,EAAkBvH,EAAlBuH,mBAC5B,GAAKle,EAAL,CAMA,IAAIwM,EAAMnQ,EAAe,iBACnBU,EAAO,CACXgQ,MAAOlD,EAAKkD,MACZrD,WAAY1J,EACZgf,MAAOd,GAETthB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,6BAA8B6M,GACtCA,EAASE,QACX2B,EAAK/J,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrD4N,EAAK/J,SAAS,CACZ+a,6BAA6B,IAE/BhR,EAAK85B,mBAAmBzpB,EAAoBlS,EAASpC,QACvD,IACC2D,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZK,EAAK/J,SAAS,CACZob,SAAS,GAEb,GAnCF,MAJE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,GAuCnC,GAAC,CAAA9f,IAAA,SAAAC,MAED,WAAU,IAAD+a,EAAA,KACCjV,EAAe1F,KAAKT,MAApBmG,WACRkV,EAI+D5a,KAAKmD,MAJ5DsH,EAAImQ,EAAJnQ,KAAMuZ,EAAepJ,EAAfoJ,gBACZikB,EAAcrtB,EAAdqtB,eAAgBG,EAAaxtB,EAAbwtB,cAAetpB,EAAkBlE,EAAlBkE,mBAC/BopB,EAActtB,EAAdstB,eAAgBC,EAAYvtB,EAAZutB,aAAcO,EAAkB9tB,EAAlB8tB,mBAAoBD,EAAgB7tB,EAAhB6tB,iBAClDzkC,EAA8B4W,EAA9B5W,+BAAgCqkC,EAAuBztB,EAAvBytB,wBAChC9iB,EAA2B3K,EAA3B2K,4BAA6B9F,EAA2B7E,EAA3B6E,4BAG/B,OAFA3f,QAAQC,IAAI,eAGVK,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BgI,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,mCAGzConC,IACA1rC,EAAAA,EAAAA,KAACyqC,GAAgB,CACfC,WAAYqB,EACZX,SAAUU,EACVX,0BAA2B9nC,KAAK8nC,4BAGlCviB,IACA5oB,EAAAA,EAAAA,KAACmnB,GAAoB,CACnBM,aAAa,eACbJ,gBAAiBA,EACjBK,8BAA+BrkB,KAAKqkB,gCAGtC5E,IACA9iB,EAAAA,EAAAA,KAACgiB,GAAoB,CACnBlU,KAAMA,EACNqU,mBAAoBA,EACpBF,8BAA+B5e,KAAK4e,iCAExCjiB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOgmC,eAAelqC,UACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,SAAA,EACvBoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO8I,UAA8B,eAAnBi/B,GAAmC,CAAE3mC,gBAAiB,UAChFN,QAAS,kBAAM2Z,EAAK4tB,mBAAmB,aAAa,EAACvsC,SAAA,EAErDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgJ,cAAkC,eAAnB++B,GAAmC,CAAExnC,MAAOC,EAAMrC,QAASrC,SAAC,aAChGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgJ,cAAkC,eAAnB++B,GAAmC,CAAExnC,MAAOC,EAAMrC,QAASrC,SAAC,gBAElGW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO8I,UAA8B,eAAnBi/B,GAAmC,CAAE3mC,gBAAiB,UAChFN,QAAS,kBAAM2Z,EAAK4tB,mBAAmB,aAAa,EAACvsC,SAAA,EAErDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgJ,cAAc,CAAsB,eAAnB++B,GAAmC,CAAExnC,MAAOC,EAAMrC,QAASrC,SAAC,aAClGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgJ,cAAc,CAAsB,eAAnB++B,GAAmC,CAAExnC,MAAOC,EAAMrC,QAASrC,SAAC,eAEpGW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO8I,UAA8B,eAAnBi/B,GAAmC,CAAE3mC,gBAAiB,UAChFN,QAAS,kBAAM2Z,EAAK4tB,mBAAmB,aAAa,EAACvsC,SAAA,EAErDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgJ,cAAkC,eAAnB++B,GAAmC,CAAExnC,MAAOC,EAAMrC,QAASrC,SAAC,aAChGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgJ,cAAkC,eAAnB++B,GAAmC,CAAExnC,MAAOC,EAAMrC,QAASrC,SAAC,mBAElGW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOimC,gBAAgBnqC,SAAA,EAClCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE2G,EAAAA,QAAAA,IAAS,cACnDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,MAAOpB,WAAY,UAAW9F,SAAA,EAC1DW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAEyG,OAAQ,GAAIT,eAAgB,SAAUT,gBAAiB,QAChFN,QAAS,kBAAM2Z,EAAK2tB,gBAAgB,WAAW,EAACtsC,UAChDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAEksC,OAEzCvrC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAC,eACtCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAEyG,OAAQ,GAAIT,eAAgB,SAAUT,gBAAiB,QAChFN,QAAS,kBAAM2Z,EAAK2tB,gBAAgB,SAAS,EAACtsC,UAC9CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAEmsC,UAG3CxrC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOK,iBAAkB,CAAEE,MAAOC,EAAMzC,KAAMoE,QAAS,IAAKrG,SACpD,eAAnBisC,EACC,kBAEmB,eAAnBA,EACE,iBAEmB,eAAnBA,EACE,qBACE,UAIVG,GACEzrC,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CAAC3K,MAAOmE,GAAO6oC,gBACxBpiC,8BAA8B,EAAM3K,SAElCosC,EAAczkC,KAAI,SAACkI,EAAMiJ,GAAK,OAC5B1U,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8oC,oBAAoBhtC,SAAA,EAGtCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+oC,gBAAgBjtC,UAClCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgpC,oBAAoBltC,SAAE6P,EAAKs9B,iBAEjDxsC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkpC,iBAAiBptC,UACnCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOmpC,qBAAqBrtC,SAAE6P,EAAKy9B,SAElD3sC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqpC,gBAAgBvtC,UAClCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOspC,oBAAoBxtC,SAAE6P,EAAK49B,IAAM59B,EAAK49B,IAAI1E,oBAAeC,EAAW,CAAEC,sBAAuB,EAAGC,sBAAuB,IAAO,WAT/Ir5B,EAAKoH,OAWL,MAIX,SAGRtW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOumC,eAAezqC,UACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,UACvBoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAASolC,GAAkB,CAAE5lC,QAAS,KACrE+Y,UAAW6sB,EACXjnC,QAAS,kBAAM2Z,EAAK6tB,mBAAmB,EAACxsC,SAAA,EACxCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,UACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,oBAMtD,KAACqlC,CAAA,CArawB,CAAS7mC,EAAAA,WAwa9BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzB6nC,eAAgB,CACdrkC,KAAM,EACNqB,cAAe,MACfuF,QAAS,IAEX09B,gBAAiB,CACftkC,KAAM,EACNM,eAAgB,GAChBF,aAAc,EACdX,gBAAiBZ,EAAMnC,MACvBuD,WAAY,UAEd2kC,eAAgB,CACd5kC,KAAM,EACNqB,cAAe,MACfuF,QAAS,IAEX5F,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjB9B,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb0G,UAAW,CACThH,MAAO,OACPV,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBS,OAAQ,IAEV0G,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXsgC,gBAAiB,CACflnC,KAAM,EACNG,MAAO,IACP0nC,oBAAqB,EACrBC,qBAAsB,EACtBroC,gBAAiBZ,EAAMpC,MACvBmK,QAAS,IAEXugC,oBAAqB,CACnBxmC,OAAQ,GACRU,cAAe,OAEjB+lC,gBAAiB,CACfjnC,MAAO,KAETonC,iBAAkB,CAChBpnC,MAAO,IAETunC,gBAAiB,CACfvnC,MAAO,IACPF,WAAY,YAEdonC,oBAAqB,CACnBnsC,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf4qC,qBAAsB,CACpBtsC,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf+qC,oBAAqB,CACnBzsC,WAAY,eACZ0D,MAAOC,EAAMjC,S,6cCphBmB,IAEfmrC,GAAO,SAAAzqC,IAAAC,EAAAA,EAAAA,SAAAwqC,EAAAzqC,GAAA,IAAAE,EAAAC,GAAAsqC,GAE1B,SAAAA,EAAYrqC,GAAQ,IAADM,EA8BkE,OA9BlEL,EAAAA,EAAAA,SAAA,KAAAoqC,IACjB/pC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXlG,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjCwN,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBuZ,gBAAiBzkB,EAAMiM,MAAMC,OAAOqC,QAAQkW,gBAE5CikB,eAAgB,SAChBn6B,QAAS,GACT+7B,iBAAkB,GAClBC,SAAU,GACVC,eAAgB,GAChBC,QAAS,GACTpxB,WAAY,GACZqxB,cAAe,GAEfvsC,QAAS,GACTwsC,KAAM,GAENxB,mBAAoB/8B,IAAO,IAAIogB,MAAQzW,OAAO,cAE9CiQ,6BAA6B,GAE/B1lB,EAAKyoC,gBAAkBzoC,EAAKyoC,gBAAgBnkC,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAKsqC,kBAAoBtqC,EAAKsqC,kBAAkBhmC,MAAIC,EAAAA,EAAAA,SAAAvE,IACpDA,EAAKuqC,mBAAqBvqC,EAAKuqC,mBAAmBjmC,MAAIC,EAAAA,EAAAA,SAAAvE,IACtDA,EAAKwqC,mBAAqBxqC,EAAKwqC,mBAAmBlmC,MAAIC,EAAAA,EAAAA,SAAAvE,IACtDA,EAAKyqC,cAAgBzqC,EAAKyqC,cAAcnmC,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5CA,EAAK0qC,iBAAmB1qC,EAAK0qC,iBAAiBpmC,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAKioC,0BAA4BjoC,EAAKioC,0BAA0B3jC,MAAIC,EAAAA,EAAAA,SAAAvE,IACpEA,EAAKwkB,8BAAgCxkB,EAAKwkB,8BAA8BlgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACrF,CA4vBC,OA5vBAH,EAAAA,EAAAA,SAAAkqC,EAAA,EAAAjqC,IAAA,oBAAAC,MAED,WAAqB,IAADyD,EAAA,KAClBsC,EAAmD3F,KAAKmD,MAAhDlG,EAAY0I,EAAZ1I,aAAcwN,EAAI9E,EAAJ8E,KAAMi+B,EAAkB/iC,EAAlB+iC,mBACxBt7B,EAAMnQ,EAAe,aACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,gBAAiBo7B,GAE/BlrC,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,SAAU6M,GAGtBvJ,EAAKqB,SAAS,CACZoJ,QAASlB,EACTi9B,iBAAkBj9B,GAEtB,IACCuB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,kBAAAC,MAED,WACEI,KAAK0E,SAAS,CACZ2jC,yBAAyB,GAE7B,GAAC,CAAA1oC,IAAA,oBAAAC,MAED,WAAqB,IAADoM,EAAA,KAClBQ,EAA8CxM,KAAKmD,MAA3ClG,EAAYuP,EAAZvP,aAAcwN,EAAI+B,EAAJ/B,KAAMw/B,EAAaz9B,EAAby9B,cAO5B,GANAjqC,KAAK0E,SAAS,CACZqlC,eAAgB,GAChBC,QAAS,GACTE,KAAM,GACNxsC,QAAS,KAENusC,EAAL,CAGA,IAAI78B,EAAMnQ,EAAe,sBACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,cAAe28B,GAE7BzsC,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,UAAW6M,GAGvBZ,EAAKtH,SAAS,CACZoJ,QAASlB,EAAS49B,WAClBX,iBAAkBj9B,EAAS49B,WAC3BV,SAAUl9B,EAAS69B,cACnBT,QAAS,IAEb,IACC77B,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZpC,EAAKtH,SAAS,CACZob,SAAS,GAEb,GA5BF,CA6BF,GAAC,CAAAngB,IAAA,4BAAAC,MAED,SAA0BgB,EAAMwlB,GAAO,IAAD1Z,EAAA,KAQpC,GAPA1M,KAAK0E,SAAS,CACZ2jC,yBAAyB,EACzB0B,eAAgB,GAChBC,QAAS,GACTE,KAAM,GACNxsC,QAAS,KAENkD,EAAL,CAGA,IAAA+N,EAA+C3O,KAAKmD,MAA5ClG,EAAY0R,EAAZ1R,aAAcwN,EAAIkE,EAAJlE,KAAMw9B,EAAct5B,EAAds5B,eACxB76B,EAAMnQ,EAERmQ,GADqB,WAAnB66B,EACK,aACqB,SAAnBA,EACF,WACqB,aAAnBA,EACF,eAEA,gBAET,IAAMx8B,EAAS,IAAI4B,gBACbg6B,EAAsB,SAATjhB,EACjBza,IAAO/K,GAAM8mC,SAAS,EAAG,QAAQpyB,OAAO,cAC7B,UAAT8Q,EACAza,IAAO/K,GAAM6mC,IAAI,EAAG,QAAQnyB,OAAO,cACjC3J,IAAO/K,GAAM0U,OAAO,cAC1B7J,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,gBAAiB+5B,GAC/Bj6B,GAAQ,IAAM3B,EACdjO,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,UAAW6M,GAGA,aAAnBq7B,EACFv7B,EAAKhI,SAAS,CACZoJ,QAASlB,EAAS49B,WAClBX,iBAAkBj9B,EAAS49B,WAC3BV,SAAUl9B,EAAS69B,cACnB/B,mBAAoBrB,EACpB2C,QAAS,KAGXt9B,EAAKhI,SAAS,CACZoJ,QAASlB,EACTi9B,iBAAkBj9B,EAClBk9B,SAAU,GACVpB,mBAAoBrB,EACpB2C,QAAS,IAGf,IACC77B,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ1B,EAAKhI,SAAS,CACZob,SAAS,GAEb,GAtDF,CAuDF,GAAC,CAAAngB,IAAA,qBAAAC,MAED,SAAmBsd,GAAO,IAADzO,EAAA,KACvB0I,EAAmDnX,KAAKmD,MAAhDlG,EAAYka,EAAZla,aAAcwN,EAAI0M,EAAJ1M,KAAMi+B,EAAkBvxB,EAAlBuxB,mBAW5B,GATA1oC,KAAK0E,SAAS,CACZslC,QAAS,GACTD,eAAgB,GAChB9B,eAAgB/qB,EAChBgtB,KAAM,GACNxsC,QAAS,KAIE,cAATwf,EAAJ,CAQA,IAAI9P,EAAMnQ,EAERmQ,GADW,WAAT8P,EACK,aACW,SAATA,EACF,WACW,aAATA,EACF,eAEA,gBAET,IAAMzR,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,gBAAiBo7B,GAC/Bt7B,GAAQ,IAAM3B,EACdjO,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,UAAW6M,GACnBA,EAASE,QACXhN,QAAQC,IAAI6M,EAASE,SAIV,aAAToQ,EACFzO,EAAK/J,SAAS,CACZoJ,QAASlB,EAAS49B,WAClBX,iBAAkBj9B,EAAS49B,WAC3BV,SAAUl9B,EAAS69B,gBAGrBh8B,EAAK/J,SAAS,CACZoJ,QAASlB,EACTi9B,iBAAkBj9B,EAClBk9B,SAAU,IAGhB,IACC37B,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZK,EAAK/J,SAAS,CACZob,SAAS,GAEb,GAhDF,MALE9f,KAAK0E,SAAS,CACZoJ,QAAS,GACT+7B,iBAAkB,IAoDxB,GAAC,CAAAlqC,IAAA,qBAAAC,MAED,SAAmBiM,GAAO,IAAD8O,EAAA,KACvBpD,EAAyCvX,KAAKmD,MAAtClG,EAAYsa,EAAZta,aAAcgrC,EAAc1wB,EAAd0wB,eACtBjoC,KAAK0E,SAAS,CACZqlC,eAAgBl+B,IAElB,IAAIuB,EAAMnQ,EACV6C,QAAQC,IAAI,OAAQkoC,EAAgBp8B,GAElCuB,GADqB,WAAnB66B,EACK,cAAgBp8B,EAAKoH,OAAS,SACT,SAAnBg1B,EACF,YAAcp8B,EAAKoH,OAAS,SACP,aAAnBg1B,GAAoD,cAAnBA,EACnC,gBAAkBp8B,EAAKoH,OAAS,UAEhC,iBAAmBpH,EAAKoH,OAAS,QAE1CzV,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,UAAW6M,GAGA,aAAnBq7B,GAAoD,cAAnBA,EACnCttB,EAAKjW,SAAS,CACZslC,QAASp9B,EAAS89B,aAClBR,KAAMt9B,EAAS+9B,YACfjtC,QAASkP,EAAS49B,aAGpB7vB,EAAKjW,SAAS,CACZslC,QAASp9B,GAGf,IACCuB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZuM,EAAKjW,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,gBAAAC,MAED,SAAcuoB,GAAU,IAADlN,EAAA,KACrBL,EAAgF5a,KAAKmD,MAA7ElG,EAAY2d,EAAZ3d,aAAcwN,EAAImQ,EAAJnQ,KAAMuZ,EAAepJ,EAAfoJ,gBAAiB+lB,EAAcnvB,EAAdmvB,eAAgB9B,EAAcrtB,EAAdqtB,eAE7D,GAAK8B,EAIL,GAAI/lB,EAAgBrP,OAAS,IAAMwT,IAAY1d,EAAKib,eAClD1lB,KAAK0E,SAAS,CACZ6gB,6BAA6B,QAFjC,CAOA,IAAInY,EAAMnQ,EAGRmQ,GADqB,WAAnB66B,EACK,cAAgB8B,EAAe92B,OAAS,WACnB,SAAnBg1B,EACF,YAAc8B,EAAe92B,OAAS,WACjB,aAAnBg1B,GAAoD,cAAnBA,EACnC,gBAAkB8B,EAAe92B,OAAS,WAE1C,iBAAmB82B,EAAe92B,OAAS,WAEpDnT,QAAQC,IAAI,QAAS0K,EAAKib,gBAC1B,IAAM/nB,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZwW,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,WAE3F3mB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,0BAA2B6M,EAIzC,IACCuB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ6M,EAAKvW,SAAS,CACZob,SAAS,GAEb,GAxCF,CAyCF,GAAC,CAAAngB,IAAA,mBAAAC,MAED,SAAiBgB,GACf,IAAAsa,EAA4Dlb,KAAKmD,MAAzD2K,EAAOoN,EAAPpN,QAAuCg8B,GAAd5uB,EAAhB2uB,iBAA4B3uB,EAAVtC,WAAoBsC,EAAR4uB,UAC3Cc,EAAyB,GAC7B5qC,KAAK0E,SAAS,CACZkU,WAAYhY,EACZmpC,eAAgB,GAChBC,QAAS,GACTE,KAAM,GACNxsC,QAAS,KAEX,IAAI0b,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GAExBwxB,EAAyB98B,EAEpBlN,GAMLgqC,EAAyBA,EAAuBh5B,QAAO,SAAA/F,GAErD,IAAIg/B,EAAKf,EAASl4B,QAAO,SAAApV,GAAE,OAAIA,EAAGigC,WAAah3B,OAAO2T,EAAS,IAC3D0xB,EAAKhB,EAASl4B,QAAO,SAAApV,GAAE,OAAIA,EAAGy6B,KAAKp2B,cAAc0Y,SAASH,EAAS,IAEvE,OAAOvN,EAAKgnB,MAAMhyB,cAAc0Y,SAASH,IACpCvN,EAAKoJ,QAAQpU,cAAc0Y,SAASH,IACpCvN,EAAKk/B,aAAalqC,cAAc0Y,SAASH,IACzCyxB,EAAG5qB,MAAK,SAAAzjB,GAAE,OAAIA,EAAGq2B,QAAUhnB,EAAKgnB,KAAK,KACrCiY,EAAG7qB,MAAK,SAAAzjB,GAAE,OAAIA,EAAGq2B,QAAUhnB,EAAKgnB,KAAK,GAC5C,IACA7yB,KAAK0E,SAAS,CACZmlC,iBAAkBe,KAjBlB5qC,KAAK0E,SAAS,CACZmlC,iBAAkBe,GAkBxB,GAAC,CAAAjrC,IAAA,gCAAAC,MAED,SAA8BuoB,EAAS6C,GACrChrB,KAAK0E,SAAS,CACZ6gB,6BAA6B,IAE1B4C,GAGLnoB,KAAKsqC,cAAcniB,EACrB,GAAC,CAAAxoB,IAAA,SAAAC,MAED,WAAU,IAADic,EAAA,KACCnW,EAAe1F,KAAKT,MAApBmG,WACRoW,EAG4D9b,KAAKmD,MAHzD6gB,EAAelI,EAAfkI,gBAAiBikB,EAAcnsB,EAAdmsB,eAAyB4B,GAAF/tB,EAAPhO,QAAyBgO,EAAhB+tB,kBAAkBG,EAAOluB,EAAPkuB,QAASpxB,EAAUkD,EAAVlD,WAAYqxB,EAAanuB,EAAbmuB,cACvFF,EAAcjuB,EAAdiuB,eAAgBrB,EAAkB5sB,EAAlB4sB,mBAChBwB,EAAIpuB,EAAJouB,KAAMxsC,EAAOoe,EAAPpe,QACN6nB,EAA2BzJ,EAA3ByJ,4BAA6B8iB,EAAuBvsB,EAAvBusB,wBAI/B,OAFAvoC,QAAQC,IAAI,eAGVK,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BqsC,IACA1rC,EAAAA,EAAAA,KAACyqC,GAAgB,CACfC,WAAYqB,EACZZ,0BAA2B9nC,KAAK8nC,4BAGlCviB,IACA5oB,EAAAA,EAAAA,KAACmnB,GAAoB,CACnBM,aAAa,UACbJ,gBAAiBA,EACjBK,8BAA+BrkB,KAAKqkB,iCAExCjkB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5CvC,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CACT3K,MAAOmE,GAAOkG,mBACdqR,sBAAsB,EACtB9Q,8BAA8B,EAAM3K,SAAA,EACpCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO8I,UAA8B,WAAnBi/B,GAA+B,CAAE3mC,gBAAiB,UAC5EN,QAAS,kBAAM6a,EAAKuuB,mBAAmB,SAAS,EAACpuC,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgJ,cAAkC,WAAnB++B,GAA+B,CAAExnC,MAAOC,EAAMrC,QAASrC,SAAC,cAE9FW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OAOpB7J,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO8I,UAA8B,aAAnBi/B,GAAiC,CAAE3mC,gBAAiB,UAC9EN,QAAS,kBAAM6a,EAAKuuB,mBAAmB,WAAW,EAACpuC,UACnDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgJ,cAAkC,aAAnB++B,GAAiC,CAAExnC,MAAOC,EAAMrC,QAASrC,SAAC,gBAEhGW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO8I,UAA8B,cAAnBi/B,GAAkC,CAAE3mC,gBAAiB,UAC/EN,QAAS,kBAAM6a,EAAKuuB,mBAAmB,YAAY,EAACpuC,SAAA,EACpDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgJ,cAAkC,cAAnB++B,GAAkC,CAAExnC,MAAOC,EAAMrC,QAASrC,SAAC,cAC/FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgJ,cAAe,CAAEzI,MAAOC,EAAMzC,OAAQjC,SAAC,qBAE9DW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpB7J,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO8I,UAA8B,cAAnBi/B,GAAkC,CAAE3mC,gBAAiB,UAC/EN,QAAS,kBAAM6a,EAAKuuB,mBAAmB,YAAY,EAACpuC,UACpDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgJ,cAAkC,cAAnB++B,GAAkC,CAAExnC,MAAOC,EAAMrC,QAASrC,SAAC,kBAEjGW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1B7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEC,aAAc,IAAKvK,SAAA,EACxDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,CAEX,cAAnBisC,GACE7nC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+H,UAAUjM,SAAA,EAC5BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOiI,oBACvBuH,YAAY,oBACZC,qBAAqB,wBACrB/P,MAAOgZ,EACPnR,aAAc,SAACmR,GAAU,OAAKiD,EAAK0uB,iBAAiB3xB,EAAW,KAGjEjc,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOkI,gBAC9BpH,QAAS,WACP6a,EAAKnX,SAAS,CAAEkU,WAAY,KAAM,kBAAMiD,EAAK0uB,iBAAiB,GAAG,IACjExwB,GAAAA,QAASC,SACX,EAAEhe,UAEFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,cAInD4B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+H,UAAUjM,SAAA,EAC5BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOiI,oBACvBuH,YAAY,oBACZC,qBAAqB,wBACrB/P,MAAOqqC,EACPxiC,aAAc,SAAC7G,GAAI,OAAKib,EAAKnX,SAAS,CAAEulC,cAAerpC,GAAO,KAGhEjE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOkI,gBAC9BpH,QAAS,WACP6a,EAAKsuB,oBACLpwB,GAAAA,QAASC,SACX,EAAEhe,UAEFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,UAAUtH,KAAM,GAAI4B,MAAOC,EAAMlC,cAIzD4B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,CAEX,cAAnBisC,IACA7nC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,OAAQlH,SAAA,EAC7CW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE8F,KAAM,GAAKE,eAAgB,SAAUD,WAAY,UAC1Ed,QAAS,kBAAM6a,EAAKisB,0BAA0BY,EAAoB,OAAO,EAAC1sC,UAC1EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,aAAatH,KAAM,GAAI4B,MAAOC,EAAMjC,WAEtD9B,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOoI,kBAC9BtH,QAAS,kBAAM6a,EAAKysB,iBAAiB,EAACtsC,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAE0sC,OAE1C/rC,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE8F,KAAM,GAAKE,eAAgB,SAAUD,WAAY,UAC1Ed,QAAS,kBAAM6a,EAAKisB,0BAA0BY,EAAoB,QAAQ,EAAC1sC,UAC3EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,cAActH,KAAM,GAAI4B,MAAOC,EAAMjC,cAI3D9B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqI,mBAAmBvM,UACrCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAE6tC,EAAiBl1B,OAAO,iBAGpEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf+T,KAAMi0B,EACN/zB,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO0G,KAAMmjC,EAAe92B,SAAWpH,EAAKoH,QAAU,CAAE3R,gBAAiBZ,EAAM1C,WACvFgD,QAAS,kBAAM6a,EAAKwuB,mBAAmBx+B,EAAK,EAAC7P,SAAA,EAE7CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwI,cAAc1M,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAKoJ,aAE/CtY,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyI,eAAe3M,UACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8G,mBAAmBhL,SAAE6P,EAAKk/B,qBAGlDpuC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,UAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAChC6P,EAAKgnB,WAGVzyB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0I,iBAEpBjM,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2I,eAAe7M,UACjCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOkH,mBAAmBpL,SAAA,CAAqB,cAAnBisC,GAAkCt8B,IAAOE,EAAKm/B,YAAY11B,OAAO,eAAgB3J,IAAOE,EAAKm/B,YAAY11B,OAAO,mBAG5I,QAIzB3Y,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1BpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEsB,YAAa,IAAK5L,SAAA,EACvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,MAEC,aAAnByhC,GAAoD,cAAnBA,GAC/B7nC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE+tC,GAAkBA,EAAe90B,SAAkB,OAC1FtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE+tC,EAAiBA,EAAelX,MAAQ,UAEpFzyB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,WAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6J,qBAAqB/N,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,YAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8J,oBAAoBhO,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAGnCW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf+T,KAAMo0B,EACNl0B,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAA/I,GAAA,IAAGpB,EAAIoB,EAAJpB,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmJ,oBAAoBrN,SAAA,EACnDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKqb,cACtF9mB,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyJ,yBAAyB3N,SAAA,EACvDoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAC/B6P,EAAK+W,UAAY,KAAO,KAAM/W,EAAKyN,YAErCzN,EAAKolB,SAAUt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkJ,iBAAiBpN,SAAE6P,EAAKolB,UAAkB,SAEhFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKy4B,UAAYz4B,EAAKy4B,SAAS/oB,QAAQ,QAG5C5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKqlB,WAAarlB,EAAKqlB,UAAU3V,QAAQ,SAG7B,KAGvBnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,WAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO6J,qBAAsB,CAAElI,KAAM,KAAM7F,UACvDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,iBAGnCW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf+T,KAAMs0B,EACNp0B,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAAsE,GAAA,IAAGzO,EAAIyO,EAAJzO,KAAMiJ,EAAKwF,EAALxF,MAAK,OACxB1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmJ,oBAAoBrN,SAAA,EACnDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE8Y,EAAQ,OACzF1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOyJ,yBAA0B,CAAE9H,KAAM,KAAM7F,SAAA,EACvEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKorB,OAGNprB,EAAK2wB,SACL7/B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOiJ,cAAe,CAAE1I,MAAOC,EAAM3C,WAAY/B,SAC5D6P,EAAK2wB,aAIZ7/B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAK4wB,UAAY,IAAM5wB,EAAK4wB,SAASlhB,QAAQ,SAGjC,KAGvBnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,SAAA,EACvBoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAE0B,EAAQ0hC,YAAc1hC,EAAQ0hC,WAAW7jB,QAAQ,WAGrFnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAE0B,EAAQ2hC,WAAa3hC,EAAQ2hC,UAAU9jB,QAAQ,WAGnFnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,kBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAE0B,EAAQ4hC,eAAiB5hC,EAAQ4hC,cAAc/jB,QAAQ,WAG3Fnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgK,UAAW,CAAEzJ,MAAO,UAAWzE,SAAC,aAEvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgK,UAAW,CAAEzJ,MAAO,UAAWzE,SAAE0B,EAAQ0zB,YAAc1zB,EAAQ0zB,WAAW7V,QAAQ,iBAM/Gnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOI,cAC9BU,QAAS,kBAAM6a,EAAKnX,SAAS,CAAEqlC,eAAgB,GAAIC,QAAS,IAAK,EAAChuC,SAAA,EAClEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE+tC,GAAkBA,EAAe90B,SAAkB,OAC1FtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE+tC,EAAiBA,EAAelX,MAAQ,SAG/D,cAAnBoV,GACE7nC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO6J,qBAAsB,CAAElI,KAAM,IAAK7F,UACtDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,sBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO+J,qBAAsB,CAAEpI,KAAM,IAAK7F,UACtDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,iBAInCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,WAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6J,qBAAqB/N,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,YAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8J,oBAAoBhO,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAqB,SAAnBisC,GAA6B,aAE/DtrC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAqB,SAAnBisC,GAA6B,eAKhD,cAAnBA,GACEtrC,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf+T,KAAMo0B,EACNl0B,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAAi1B,GAAA,IAAGp/B,EAAIo/B,EAAJp/B,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmJ,oBAAoBrN,SAAA,EACnDW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyJ,yBAAyB3N,UACvDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKorB,UAGVt6B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAAC,IAC/B6P,EAAK45B,WAAa55B,EAAK45B,UAAUV,oBAAeC,EAAW,CAAEC,sBAAuB,EAAGC,sBAAuB,WAGnG,KAIvBvoC,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf+T,KAAMo0B,EACNl0B,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAAk1B,GAAA,IAAGr/B,EAAIq/B,EAAJr/B,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmJ,oBAAoBrN,SAAA,EACnDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKqb,cACtF9mB,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyJ,yBAAyB3N,SAAA,EACvDoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAC/B6P,EAAK+W,UAAY,KAAO,KAAM/W,EAAKyN,YAErCzN,EAAKolB,SAAUt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkJ,iBAAiBpN,SAAE6P,EAAKolB,UAAkB,SAEhFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CACZ,SAAnBisC,GAA6B,IAAKp8B,EAAKy4B,UAAYz4B,EAAKy4B,SAAS/oB,QAAQ,SAG9E5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CACZ,SAAnBisC,GAA6B,IAAKp8B,EAAKqlB,WAAarlB,EAAKqlB,UAAU3V,QAAQ,UAG/D,QAMjC5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAASknC,GAAkB,CAAE1nC,QAAS,KACrE+Y,UAAW2uB,EACX/oC,QAAS,kBAAM6a,EAAKyuB,eAAe,EAACtuC,SAAA,EACpCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,UACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,yBAOxD,KAACinC,CAAA,CA7xByB,CAASzoC,EAAAA,WAgyB/BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,EACNqB,cAAe,OAEjByE,eAAgB,CACd9F,KAAM,EACNqB,cAAe,OAEjBmD,iBAAkB,CAChBxE,KAAM,EACNP,gBAAiBZ,EAAMrC,OAEzBiI,eAAgB,CACdzE,KAAM,GAER4E,cAAe,CACb5E,KAAM,EACNP,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdiB,cAAe,SACfqf,SAAU,OACVzgB,WAAY,UACZC,eAAgB,SAChBG,SAAU,UAEZ+F,UAAW,CACT3G,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,EACRF,UAAW,GACX2F,aAAc,EACdhF,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEV4F,gBAAiB,CACf5F,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBoF,kBAAmB,CACjBzG,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwG,mBAAoB,CAClB1G,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfmI,KAAM,CACJnE,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEX3B,UAAW,CACT5D,cAAe,OAEjB+D,WAAY,CACV9E,eAAgB,GAElBgF,UAAW,CACTjE,cAAe,OAEjBwF,cAAe,CACb7G,KAAM,GAER8G,eAAgB,CACd9G,KAAM,EACNC,WAAY,YAEd8G,cAAe,CACb/G,KAAM,GAERgH,eAAgB,CACdhH,KAAM,EACNC,WAAY,YAEdiF,kBAAmB,CACjBtG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdiK,mBAAoB,CAClBvG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdmK,eAAgB,CACdzG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+E,mBAAoB,CAClB3G,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdgJ,kBAAmB,CACjBlE,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB6E,cAAe,UAEjB8C,gBAAiB,CACfnE,KAAM,EACNoB,kBAAmB,GACnB6F,WAAY,IAEdjG,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBgE,mBAAoB,CAClB7D,UAAW,IAEbyG,UAAW,CACT1H,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBS,OAAQ,IAEV0G,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXU,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB/H,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZ6G,yBAA0B,CACxBhI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhBuD,oBAAqB,CACnB9H,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwL,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfoC,oBAAqB,CACnBnI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZiH,qBAAsB,CACpBpI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf6B,cAAe,CACbkC,OAAQ,GACRL,eAAgB,EAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,W,6cCtiCqD,IAE3C0qC,GAAU,SAAAhsC,IAAAC,EAAAA,EAAAA,SAAA+rC,EAAAhsC,GAAA,IAAAE,EAAAC,GAAA6rC,GAE7B,SAAAA,EAAY5rC,GAAQ,IAADM,EAyBwE,OAzBxEL,EAAAA,EAAAA,SAAA,KAAA2rC,IACjBtrC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjC6Q,QAASvO,EAAMiM,MAAMC,OAAOqC,QAC5BuI,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SACrCsG,cAAepd,EAAMiM,MAAMC,OAAOkR,cAClC+F,WAAYnjB,EAAMiM,MAAMC,OAAOiX,WAE/BG,mBAAoB,GACpBuoB,cAAe7rC,EAAMiM,MAAMC,OAAOiX,WAAW9Q,QAAO,SAAApV,GAAE,MAAsB,MAAlBA,EAAG+mB,UAAkB,IAE/Evf,gCAAgC,GAElCnE,EAAKijB,sBAAwBjjB,EAAKijB,sBAAsB3e,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAKwrC,YAAcxrC,EAAKwrC,YAAYlnC,MAAIC,EAAAA,EAAAA,SAAAvE,IACxCA,EAAKyrC,mBAAqBzrC,EAAKyrC,mBAAmBnnC,MAAIC,EAAAA,EAAAA,SAAAvE,IACtDA,EAAK0rC,sBAAwB1rC,EAAK0rC,sBAAsBpnC,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAK2rC,iBAAmB3rC,EAAK2rC,iBAAiBrnC,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAK4rC,eAAiB5rC,EAAK4rC,eAAetnC,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9CA,EAAK6rC,cAAgB7rC,EAAK6rC,cAAcvnC,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5CA,EAAK8rC,gBAAkB9rC,EAAK8rC,gBAAgBxnC,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAK+rC,kBAAoB/rC,EAAK+rC,kBAAkBznC,MAAIC,EAAAA,EAAAA,SAAAvE,IAEpDA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC3F,CA0SC,OA1SAH,EAAAA,EAAAA,SAAAyrC,EAAA,EAAAxrC,IAAA,wBAAAC,MAED,SAAsBiM,GACpB/L,QAAQC,IAAI,gBAAiB8L,GAC7B,IAAAlG,EAA0D3F,KAAKmD,MAApBuf,GAAjB/c,EAAlBkd,mBAAiCld,EAAbylC,cAAyBzlC,EAAV+c,YAEvCM,EAA2B,GAC/BA,EAAyBle,KAAK+G,GAC9B,IAAI4oB,EAAa,GACjBA,EAAa/R,EAAW9Q,QAAO,SAAApV,GAAE,OAAIA,EAAGomB,YAAc/W,EAAKoH,MAAM,IACjEnT,QAAQC,IAAI,aAAc00B,GAC1BA,EAAWl4B,SAAQ,SAAAC,GAAE,OAAIwmB,EAAyBle,KAAKtI,EAAG,IAE1DwD,KAAK0E,SAAS,CACZme,mBAAoBG,GAExB,GAAC,CAAArjB,IAAA,cAAAC,MAED,WACEI,KAAK0E,SAAS,CACZ0mC,cAAeprC,KAAKmD,MAAMuf,WAAW9Q,QAAO,SAAApV,GAAE,MAAsB,MAAlBA,EAAG+mB,UAAkB,IACvEV,mBAAoB,IAExB,GAAC,CAAAljB,IAAA,qBAAAC,MAED,WACE,IAAA4M,EAA8CxM,KAAKmD,MAA3CioC,EAAa5+B,EAAb4+B,cAAevoB,EAAkBrW,EAAlBqW,mBACvB,GAAkC,IAA9BA,EAAmBlO,OAAvB,CACA,IAAIk3B,EAAsBT,EACpBt2B,EAAQ+2B,EAAoB5P,QAAQ4P,EAAoB9yB,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAW4P,EAAmB,GAAG5P,MAAM,KACnH44B,EAAoB/2B,GAAO6U,UAAY,IACvC3pB,KAAK0E,SAAS,CACZ0mC,cAAeS,GAL0B,CAO7C,GAAC,CAAAlsC,IAAA,wBAAAC,MAED,WACE,IAAA+O,EAA8C3O,KAAKmD,MAA3CioC,EAAaz8B,EAAby8B,cAAevoB,EAAkBlU,EAAlBkU,mBACvB,GAAkC,IAA9BA,EAAmBlO,OAAvB,CACA,IAAIk3B,EAAsBT,EACpBt2B,EAAQ+2B,EAAoB5P,QAAQ4P,EAAoB9yB,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAW4P,EAAmB,GAAG5P,MAAM,KACnH44B,EAAoB/2B,GAAO6U,UAAY,IACvC3pB,KAAK0E,SAAS,CACZ0mC,cAAeS,GAL0B,CAO7C,GAAC,CAAAlsC,IAAA,iBAAAC,MAED,WAAkB,IAADksC,EAAAzoC,EAAA,KACf8T,EAA8CnX,KAAKmD,MAA3C0f,EAAkB1L,EAAlB0L,mBACJgpB,EADqC10B,EAAbi0B,cAE5BvoB,EAAmBtmB,SAAQ,SAAAC,GACzBqvC,EAAsBA,EAAoBj6B,QAAO,SAAAgV,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,GAClF,KACA64B,EAAAD,GAAoBrZ,QAAO7tB,MAAAmnC,GAAAl+B,EAAAA,EAAAA,SAAIiV,IAC/B7iB,KAAK0E,SAAS,CACZ0mC,cAAeS,IACd,kBAAMxoC,EAAKstB,cAAcob,eAAe,CAAEzL,UAAU,EAAM0L,OAAQ,GAAI,GAC3E,GAAC,CAAArsC,IAAA,gBAAAC,MAED,WAAiB,IAADqsC,EACd10B,EAA8CvX,KAAKmD,MAA3C0f,EAAkBtL,EAAlBsL,mBAAoBuoB,EAAa7zB,EAAb6zB,cACxBS,EAAsBT,EACtBt2B,EAAQs2B,EAAcnP,QAAQmP,EAAcryB,MAAK,SAAA6N,GAAG,OAAIA,EAAI3T,SAAW4P,EAAmB,GAAG5P,MAAM,KACvG,GAAc,IAAV6B,EAAJ,CACA+N,EAAmBtmB,SAAQ,SAAAC,GACzBqvC,EAAsBA,EAAoBj6B,QAAO,SAAAgV,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,GAClF,IACA,IAAIi5B,EAAcp3B,EAAQ,EACtBs2B,EAAcc,GAAatpB,YAC7BspB,EAAcd,EAAcnP,QAAQmP,EAAcryB,MAAK,SAAA6N,GAAG,OAAIA,EAAI3T,SAAWm4B,EAAct2B,EAAQ,GAAG8N,SAAS,OAEjHqpB,EAAAJ,GAAoBvI,OAAM3+B,MAAAsnC,EAAA,CAACC,EAAa,GAACC,QAAAv+B,EAAAA,EAAAA,SAAKiV,KAC9C7iB,KAAK0E,SAAS,CACZ0mC,cAAeS,GAVM,CAYzB,GAAC,CAAAlsC,IAAA,kBAAAC,MAED,WAAmB,IAADwsC,EAChBxxB,EAA8C5a,KAAKmD,MAA3C0f,EAAkBjI,EAAlBiI,mBAAoBuoB,EAAaxwB,EAAbwwB,cACxBS,EAAsBT,EACtBt2B,EAAQs2B,EAAcnP,QAAQmP,EAAcryB,MAAK,SAAA6N,GAAG,OAAIA,EAAI3T,SAAW4P,EAAmB,GAAG5P,MAAM,KACvG,GAAI6B,IAAUs2B,EAAcz2B,OAASkO,EAAmBlO,OAAxD,CACAkO,EAAmBtmB,SAAQ,SAAAC,GACzBqvC,EAAsBA,EAAoBj6B,QAAO,SAAAgV,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,GAClF,IACA,IAAIi5B,EAAcp3B,EAAQ,EAC1B,GAAI+2B,EAAoB5rB,MAAK,SAAAzjB,GAAE,OAAIA,EAAGomB,YAAcipB,EAAoB/2B,GAAO7B,MAAM,IAAG,CACtF,IAAIo5B,EAAOjB,EAAcx5B,QAAO,SAAApV,GAAE,OAAIA,EAAGomB,YAAcipB,EAAoB/2B,GAAO7B,MAAM,IAAE0B,OAC1F7U,QAAQC,IAAI,OAAQssC,GACpBH,GAAeG,CACjB,EACAD,EAAAP,GAAoBvI,OAAM3+B,MAAAynC,EAAA,CAACF,EAAa,GAACC,QAAAv+B,EAAAA,EAAAA,SAAKiV,KAC9C7iB,KAAK0E,SAAS,CACZ0mC,cAAeS,GAZqD,CAcxE,GAAC,CAAAlsC,IAAA,oBAAAC,MAED,WAAqB,IAAD0sC,EAAAtgC,EAAA,KAClBkP,EAA8Clb,KAAKmD,MAA3C0f,EAAkB3H,EAAlB2H,mBACJgpB,EADqC3wB,EAAbkwB,cAE5BvoB,EAAmBtmB,SAAQ,SAAAC,GACzBqvC,EAAsBA,EAAoBj6B,QAAO,SAAAgV,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,GAClF,KACAq5B,EAAAT,GAAoB/mC,KAAIH,MAAA2nC,GAAA1+B,EAAAA,EAAAA,SAAIiV,IAC5B7iB,KAAK0E,SAAS,CACZ0mC,cAAeS,IACd,kBAAM7/B,EAAK2kB,cAAcE,aAAa,GAC3C,GAAC,CAAAlxB,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,mBAAAC,MAED,WAAoB,IAAD8M,EAAA,KACThH,EAAe1F,KAAKT,MAApBmG,WACRoW,EAAmF9b,KAAKmD,MAAhFlG,EAAY6e,EAAZ7e,aAAcwN,EAAIqR,EAAJrR,KAAM4L,EAAQyF,EAARzF,SAAUsG,EAAab,EAAba,cAAe+F,EAAU5G,EAAV4G,WAAY0oB,EAAatvB,EAAbsvB,cAG7DiB,EAAO3pB,EAAW9Q,QAAO,SAAApV,GAAE,MAAsB,MAAlBA,EAAG+mB,UAAkB,IAAE5O,OAC1D7U,QAAQC,IAAI,OAAQssC,GAEpB,IAAIj/B,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,cAC1D2a,EAAewd,EAAcznC,KAAI,SAACnH,EAAIsY,GAAK,MAChD,CACCqU,oBAAqB3sB,EAAGyW,OACxBgQ,OAAQzmB,EAAGymB,OACXspB,UAAWz3B,EAAQ,EAAIu3B,EACvB1iB,UAAWntB,EAAGmtB,UACf,IAEKhsB,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/B2a,aAAcA,GAEhBpwB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,mBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACA,IAEArI,EAASE,QACXJ,EAAKhI,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrD6E,EAAWO,QACb,GACJ,GAAC,CAAAtG,IAAA,SAAAC,MAED,WAAU,IAAD6O,EAAA,KACC/I,EAAe1F,KAAKT,MAApBmG,WACRmiB,EACqC7nB,KAAKmD,MADlCwZ,EAAakL,EAAblL,cAA2ByuB,GAAFvjB,EAAVnF,WAAyBmF,EAAbujB,eAAevoB,EAAkBgF,EAAlBhF,mBAChD7e,EAA8B6jB,EAA9B7jB,+BAEF,OADAlE,QAAQC,IAAI,gBAAiB8iB,EAAoBuoB,IAE/ChrC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BgI,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3CtE,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOgmC,eAAelqC,UACjCoE,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CAAC3K,MAAO,CAAE8F,KAAM,GACzB4V,sBAAsB,EACtB9Q,8BAA8B,EAAM3K,SAAA,EACpCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAO1F,MAAM,QAAQ5B,KAAM,MAC3ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5CvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMyN,EAAK48B,aAAa,EAACrvC,SAAA,EAClCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,UAAUtH,KAAM,GAAI4B,MAAM,WAC1C9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,aAG/B6mB,EAAmB,GAMkB,MAApCA,EAAmB,GAAG8G,WACpBvpB,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMyN,EAAK88B,uBAAuB,EAACvvC,SAAA,EAC5CW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,WACxC9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,qBAGlCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMyN,EAAK68B,oBAAoB,EAACtvC,SAAA,EACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,WACxC9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,kBAfpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO2C,OAAQ,CAAER,QAAS,KAAOrG,SAAA,EAC7CW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,WACxC9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,kBAgBtCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAMyN,EAAK+8B,kBAAkB,EAACxvC,SAAA,EACvCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAOtH,KAAM,GAAI4B,MAAOC,EAAM3C,YAC9CpB,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6C,WAAY,CAAEtC,MAAOC,EAAM3C,WAAY/B,SAAC,qBAInEoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOimC,gBAAgBnqC,SAAA,EAClCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAE2G,EAAAA,QAAAA,IAAS,SAAS,IAAEga,EAAc1H,YACzEtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE2G,EAAAA,QAAAA,IAAS,oBAErDhG,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf2c,IAAK,SAAAA,GAAG,OAAI/P,EAAKkiB,cAAgBnS,CAAG,EACpC7X,8BAA8B,EAC9BiP,KAAMw1B,EACNt1B,aAAc,SAACjK,GAAI,OAAKA,EAAKoH,OAAO8C,UAAU,EAC9CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAWjQ,EAALkZ,MAAK,OACxB1U,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAAjE,SAAA,CAEkB,MAAnB6P,EAAK8d,YACLhtB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOssC,mBAAmBxwC,UACrCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOiJ,cAAe,CAAE1I,MAAOC,EAAMzC,OAAQjC,SAAC,sBAGhEoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACfsa,WAAUvP,EAAK+W,UACf7mB,MAAO,CAACmE,GAAOmJ,mBAAoBwZ,EAAmB5C,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,KAAK,CAAE3R,gBAAiBZ,EAAM1C,UAAY6N,EAAK+W,WAAa,CAAEvgB,QAAS,KACjKrB,QAAS,kBAAMyN,EAAKqU,sBAAsBjX,EAAK,EAAC7P,SAAA,EAChDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKqb,cACtF9mB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyJ,yBAAyB3N,SAAA,EAC3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAC/B6P,EAAK+W,WAAa,KAAM/W,EAAKyN,YAG9BzN,EAAKolB,UACLt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkJ,iBAAiBpN,SAAE6P,EAAKolB,cAGhDt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,uBAInB,QAIbxM,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOumC,eAAezqC,UACjCoE,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CAAC3K,MAAO,CAAE8F,KAAM,GACzB4V,sBAAsB,EACtB9Q,8BAA8B,EAAM3K,SAAA,EACpCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAsC,IAA9BggB,EAAmBlO,OAAe,KAAO,CAAEtS,QAAS,KAC3F+Y,SAAwC,IAA9ByH,EAAmBlO,OAC7B3T,QAAS,kBAAMyN,EAAKg9B,gBAAgB,EAACzvC,SAAA,EACrCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,UAAUtH,KAAM,GAAI4B,MAAM,WAC1C9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,YAElCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAsC,IAA9BggB,EAAmBlO,OAAe,KAAO,CAAEtS,QAAS,KAC3F+Y,SAAwC,IAA9ByH,EAAmBlO,OAC7B3T,QAAS,kBAAMyN,EAAKi9B,eAAe,EAAC1vC,SAAA,EACpCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,KAAKtH,KAAM,GAAI4B,MAAM,WACrC9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,cAElCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAsC,IAA9BggB,EAAmBlO,OAAe,KAAO,CAAEtS,QAAS,KAC3F+Y,SAAwC,IAA9ByH,EAAmBlO,OAC7B3T,QAAS,kBAAMyN,EAAKk9B,iBAAiB,EAAC3vC,SAAA,EACtCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAOtH,KAAM,GAAI4B,MAAM,WACvC9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,cAElCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAsC,IAA9BggB,EAAmBlO,OAAe,KAAO,CAAEtS,QAAS,KAC3F+Y,SAAwC,IAA9ByH,EAAmBlO,OAC7B3T,QAAS,kBAAMyN,EAAKm9B,mBAAmB,EAAC5vC,SAAA,EACxCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,YAAYtH,KAAM,GAAI4B,MAAM,WAC5C9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,qBAO5C,KAACmvC,CAAA,CAtU4B,CAAShqC,EAAAA,WAyUlCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzB6nC,eAAgB,CACdrkC,KAAM,EACNqB,cAAe,MACfuF,QAAS,IAEX09B,gBAAiB,CACftkC,KAAM,EACNM,eAAgB,GAChBF,aAAc,EACdX,gBAAiBZ,EAAMnC,OAEzBkoC,eAAgB,CACd5kC,KAAM,EACNqB,cAAe,MACfuF,QAAS,IAEXJ,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBL,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjB9B,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEb6G,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB9H,WAAY,SACZC,eAAgB,SAChBC,MAAO,IAETwqC,mBAAoB,CAClB3qC,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACdpG,WAAY,SACZC,eAAgB,Y,6cC/asB,IAErB0qC,GAAQ,SAAAttC,IAAAC,EAAAA,EAAAA,SAAAqtC,EAAAttC,GAAA,IAAAE,EAAAC,GAAAmtC,GAE3B,SAAAA,EAAYltC,GAAQ,IAADM,EA0BgC,OA1BhCL,EAAAA,EAAAA,SAAA,KAAAitC,IACjB5sC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjCylB,WAAYnjB,EAAMiM,MAAMC,OAAOiX,WAC/B/F,cAAepd,EAAMiM,MAAMC,OAAOkR,cAElCsC,WAAY1f,EAAMiM,MAAMC,OAAOqC,QAAQmR,WACvC5I,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SAErCpF,OAAQ,GACR4Q,gBAAiB,GACjB0T,oBAAqB,GACrB1S,mBAAoB,GACpBjK,WAAY,GAEZ6G,6BAA6B,EAC7Bzb,gCAAgC,GAElCnE,EAAK6sC,wBAA0B7sC,EAAK6sC,wBAAwBvoC,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAK8sC,qBAAuB9sC,EAAK8sC,qBAAqBxoC,MAAIC,EAAAA,EAAAA,SAAAvE,IAC1DA,EAAKijB,sBAAwBjjB,EAAKijB,sBAAsB3e,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAK0qC,iBAAmB1qC,EAAK0qC,iBAAiBpmC,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAK+e,8BAAgC/e,EAAK+e,8BAA8Bza,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CA6YC,OA7YAH,EAAAA,EAAAA,SAAA+sC,EAAA,EAAA9sC,IAAA,oBAAAC,MAED,WAAqB,IAADyD,EAAA,KAClBsC,EAA8C3F,KAAKmD,MAA3ClG,EAAY0I,EAAZ1I,aAAcwN,EAAI9E,EAAJ8E,KAAMkS,EAAahX,EAAbgX,cACxBvP,EAAMnQ,EAAe,aACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,YAAa,KAE3B9P,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAEJvJ,EAAKqB,SAAS,CACZuM,OAAQrE,EAASgF,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,SAAW0J,EAAc1J,MAAM,IAChE4O,gBAAiBjV,EAASgF,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,SAAW0J,EAAc1J,MAAM,KAE7E,IACC9E,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,2BAAAC,MAED,WAEE,OAAkC,IADHI,KAAKmD,MAA5B0f,mBACelO,OACd,aAEA,cAEX,GAAC,CAAAhV,IAAA,uBAAAC,MAED,WACE,IAAA4M,EAA2CxM,KAAKmD,MAAxC0f,EAAkBrW,EAAlBqW,mBAAoBH,EAAUlW,EAAVkW,WAEM,IAA9BG,EAAmBlO,OACrB3U,KAAK0E,SAAS,CACZme,mBAAoBH,IAGtB1iB,KAAK0E,SAAS,CACZme,mBAAoB,IAG1B,GAAC,CAAAljB,IAAA,0BAAAC,MAED,SAAwBiM,GACtB7L,KAAK0E,SAAS,CACZ6wB,oBAAqB1pB,GAEzB,GAAC,CAAAlM,IAAA,wBAAAC,MAED,SAAsBiM,GACpB/L,QAAQC,IAAI,qBAAsB8L,GAClC,IAAA8C,EAA2C3O,KAAKmD,MAAxC0f,EAAkBlU,EAAlBkU,mBAAoBH,EAAU/T,EAAV+T,WAExBM,EAA2BH,EAE/B,GAAKA,EAAmB5C,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAO1D+P,EAA2BA,EAAyBpR,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,QAAUzW,EAAGomB,YAAc/W,EAAKoH,MAAM,QAP7D,CAC7D+P,EAAyBle,KAAK+G,GAC9B,IAAI4oB,EAAa,GACjBA,EAAa/R,EAAW9Q,QAAO,SAAApV,GAAE,OAAIA,EAAGomB,YAAc/W,EAAKoH,MAAM,IACjEnT,QAAQC,IAAI,aAAc00B,GAC1BA,EAAWl4B,SAAQ,SAAAC,GAAE,OAAIwmB,EAAyBle,KAAKtI,EAAG,GAC5D,CAGAwD,KAAK0E,SAAS,CACZme,mBAAoBG,GAExB,GAAC,CAAArjB,IAAA,eAAAC,MAED,SAAamgB,GAAc,IAAD/T,EAAA,KAChBtG,EAAe1F,KAAKT,MAApBmG,WACRyR,EAA6GnX,KAAKmD,MAA1GwZ,EAAaxF,EAAbwF,cAAekG,EAAkB1L,EAAlB0L,mBAAoB0S,EAAmBpe,EAAnBoe,oBAAqB9qB,EAAI0M,EAAJ1M,KAAMxN,EAAYka,EAAZla,aAAcgiB,EAAU9H,EAAV8H,WAAY5I,EAAQc,EAARd,SAEhG,GAAkC,IAA9BwM,EAAmBlO,QAAiB4gB,EAIxC,GAAwB,MAAlB9qB,EAAKuV,UAAoBf,EAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,kBAAbA,EAAGojB,KAAyB,KAAOG,EAAxF,CAQA,IAAI6sB,EAAY/pB,EAAmBjR,QAAO,SAAApV,GAAE,OAAKA,EAAGomB,SAAS,IAAEjf,KAAI,SAAAnH,GAAE,OAAIA,EAAGyW,MAAM,IAAElF,QAAO,SAACwlB,EAAM/2B,GAAS,OAAO+2B,EAAO/2B,EAAK,GAAK,GAAG,IACtIsD,QAAQC,IAAI,YAAa6sC,GAEzB,IAAIx/B,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,kBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbqiC,oBAAqBlwB,EAAc1J,OACnCub,kBAAmB+G,EAAoBtiB,OACvC65B,qBAAsBF,EACtB7sB,YAAaA,GAEfviB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,iCAAkC6M,GACiB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,iBACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACAsgB,EAAoBtgB,SAEpBrI,EAASE,QACXd,EAAKtH,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrD6E,EAAWO,QACb,GAzCF,MAJEjG,KAAK0E,SAAS,CACZ+a,6BAA6B,GA6CnC,GAAC,CAAA9f,IAAA,mBAAAC,MAED,SAAiBgB,GACf,IAAA2W,EAAgDvX,KAAKmD,MAA7C8N,EAAMsG,EAANtG,OACJgR,GAD2B1K,EAAfsK,gBAA2BtK,EAAVqB,WACL,IAC5B5Y,KAAK0E,SAAS,CAAEkU,WAAYhY,IAC5B,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GAExB6I,EAAwBhR,EAEnBrQ,GAMLqhB,EAAwBA,EAAsBrQ,QAAO,SAAA/F,GACnD,OAAOA,EAAKoJ,QAAQpU,cAAc0Y,SAASH,IAAavN,EAAKqL,UAAUrW,cAAc0Y,SAASH,EAChG,IACApZ,KAAK0E,SAAS,CACZmd,gBAAiBI,KATjBjiB,KAAK0E,SAAS,CACZmd,gBAAiBI,GAUvB,GAAC,CAAAtiB,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,gCAAAC,MAED,SAA8BgB,GAAO,IAAD8L,EAAA,KAClCkO,EAA6E5a,KAAKmD,MAA1EsH,EAAImQ,EAAJnQ,KAAMxN,EAAY2d,EAAZ3d,aAAcoZ,EAAQuE,EAARvE,SAAUsG,EAAa/B,EAAb+B,cAAkC/B,EAAnB2a,oBACrD,GAAK30B,EAAL,CAMA,IAAIwM,EAAMnQ,EAAe,iBACnBU,EAAO,CACXgQ,MAAOlD,EAAKkD,MACZrD,WAAY1J,EACZgf,MAAO,iBAETpiB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADyZ,EAChBvmB,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/CyZ,EAAAhQ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CoM,EAAiDnM,YAC/Cld,EACEC,EACA,+BACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACArI,EAASpC,QAEToC,EAASE,QACXJ,EAAKhI,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrD6L,EAAKhI,SAAS,CACZ+a,6BAA6B,IAE/B/S,EAAKuR,aAAarR,EAASpC,QAC7B,IACC2D,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ1B,EAAKhI,SAAS,CACZob,SAAS,GAEb,GA7CF,MAJE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,GAiDnC,GAAC,CAAA9f,IAAA,SAAAC,MAED,WAAU,IAAD6O,EAAA,KACC/I,EAAe1F,KAAKT,MAApBmG,WACRwV,EACkElb,KAAKmD,MAD/Duf,EAAUxH,EAAVwH,WAAYjY,EAAIyQ,EAAJzQ,KAAM8qB,EAAmBra,EAAnBqa,oBAAqB1T,EAAe3G,EAAf2G,gBAAiBjJ,EAAUsC,EAAVtC,WAAYiK,EAAkB3H,EAAlB2H,mBAC1EpD,EAA2BvE,EAA3BuE,4BAA6Bzb,EAA8BkX,EAA9BlX,+BAG/B,OAFAlE,QAAQC,IAAI,gBAGVK,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1ByjB,IACA9iB,EAAAA,EAAAA,KAACgiB,GAAoB,CACnBlU,KAAMA,EACNqU,mBAAmB,eACnBF,8BAA+B5e,KAAK4e,gCAGtC5a,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3Cb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,kBAIhDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEC,aAAc,IAAKvK,SAAA,EACxDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO+H,UAAW,CAAE3G,gBAAiBZ,EAAMnC,MAAOuD,WAAY,SAAUC,eAAgB,WAAY/F,UAChHW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CACfE,QAAS,kBAAMyN,EAAKk+B,sBAAsB,EAAC3wC,UAE3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAEgE,KAAK+sC,kCAGzC3sC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,WAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6J,qBAAqB/N,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,YAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8J,oBAAoBhO,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAGnCW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAM8M,EACN5M,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOmJ,mBAAoBwZ,EAAmB5C,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,KAAK,CAAE3R,gBAAiBZ,EAAM1C,UAAY6N,EAAK+W,WAAa,CAAEvgB,QAAS,KACjKrB,QAAS,kBAAMyN,EAAKqU,sBAAsBjX,EAAK,EAC/CuP,WAAUvP,EAAK+W,UAAyB5mB,SAAA,EAExCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKqb,cACtF9mB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyJ,yBAAyB3N,SAAA,EAE3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAC/B6P,EAAK+W,UAAY,KAAO,KAAM/W,EAAKyN,YAErCzN,EAAKolB,SAAUt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkJ,iBAAiBpN,SAAE6P,EAAKolB,UAAkB,SAEhFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKy4B,UAAYz4B,EAAKy4B,SAAS/oB,QAAQ,QAG5C5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKqlB,WAAarlB,EAAKqlB,UAAU3V,QAAQ,SAG7B,QAIzB5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1BpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEsB,YAAa,IAAK5L,SAAA,EACvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+H,UAAUjM,SAAA,EAC5BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOiI,oBACvBuH,YAAY,oBACZC,qBAAqB,wBACrB/P,MAAOgZ,EACPnR,aAAc,SAACmR,GAAU,OAAKnK,EAAK87B,iBAAiB3xB,EAAW,KAGjEjc,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOkI,gBAC9BpH,QAAS,WACPyN,EAAK/J,SAAS,CAAEkU,WAAY,KAAM,kBAAMnK,EAAK87B,iBAAiB,GAAG,IACjExwB,GAAAA,QAASC,SACX,EAAEhe,UAEFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,cAGnD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOmI,cAAe,CAAEtG,eAAgB,WAAY/F,UAChEoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAE6lB,EAAgBlN,OAAO,eAEjEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAMiM,EACN/L,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAA/I,GAAA,IAAGpB,EAAIoB,EAAJpB,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO0G,KAAM2uB,EAAoBtgB,UAAYpJ,EAAKoJ,SAAW,CAAE3T,gBAAiBZ,EAAM1C,WAC9FgD,QAAS,kBAAMyN,EAAKi+B,wBAAwB7gC,EAAK,EAAC7P,SAAA,EAElDoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwI,cAAc1M,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAKqL,eAE/Cva,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyI,eAAe3M,UACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,mBAAoBuuB,EAAoBtgB,UAAYpJ,EAAKoJ,QAAU,CAAExU,MAAO,SAAY,CAAEA,MAAOC,EAAM1C,WAAYhC,SAAC,mBAG7IW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,UAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAChC6P,EAAKoJ,aAGV7U,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0I,iBAEpBjM,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2I,sBAGL,QAIzBlM,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAU0yB,GAAqD,IAA9B1S,EAAmBlO,SAAiB,CAAEtS,QAAS,KAC/GrB,QAAS,kBAAMyN,EAAKwP,cAAc,EAClC7C,UAAWma,GAAqD,IAA9B1S,EAAmBlO,OAAa3Y,SAAA,EAElEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,SACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,0BAOxD,KAAC8pC,CAAA,CA1a0B,CAAStrC,EAAAA,WA6ahCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,EACNqB,cAAe,OAEjByE,eAAgB,CACd9F,KAAM,EACNqB,cAAe,OAEjBmD,iBAAkB,CAChBxE,KAAM,EACNP,gBAAiBZ,EAAMrC,OAEzBiI,eAAgB,CACdzE,KAAM,GAER4E,cAAe,CACb5E,KAAM,EACNP,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdiB,cAAe,SACfqf,SAAU,OACVzgB,WAAY,UACZC,eAAgB,SAChBG,SAAU,UAEZ+F,UAAW,CACT3G,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,EACRF,UAAW,GACX2F,aAAc,EACdhF,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEV4F,gBAAiB,CACf5F,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBoF,kBAAmB,CACjBzG,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwG,mBAAoB,CAClB1G,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfmI,KAAM,CACJnE,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEX3B,UAAW,CACT5D,cAAe,OAEjB+D,WAAY,CACV9E,eAAgB,GAElBgF,UAAW,CACTjE,cAAe,OAEjBwF,cAAe,CACb7G,KAAM,GAER8G,eAAgB,CACd9G,KAAM,EACNC,WAAY,YAEd8G,cAAe,CACb/G,KAAM,GAERgH,eAAgB,CACdhH,KAAM,EACNC,WAAY,YAEdiF,kBAAmB,CACjBtG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdiK,mBAAoB,CAClBvG,MAAOC,EAAM3C,SACbjB,SAAU,GACVC,WAAY,gBAEdmK,eAAgB,CACdzG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+E,mBAAoB,CAClB3G,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdgJ,kBAAmB,CACjBlE,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB6E,cAAe,UAEjB8C,gBAAiB,CACfnE,KAAM,EACNoB,kBAAmB,GACnB6F,WAAY,IAEdjG,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBgE,mBAAoB,CAClB7D,UAAW,IAEbyG,UAAW,CACT1H,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBkH,gBAAiB,IAEnBC,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXU,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB/H,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZ6G,yBAA0B,CACxBhI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhBuD,oBAAqB,CACnB9H,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwL,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfoC,oBAAqB,CACnBnI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZiH,qBAAsB,CACpBpI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,S,6cCjqBuB,IAEnBuuC,GAAkB,SAAA7tC,IAAAC,EAAAA,EAAAA,SAAA4tC,EAAA7tC,GAAA,IAAAE,EAAAC,GAAA0tC,GAErC,SAAAA,EAAYztC,GAAQ,IAADM,EAWgC,OAXhCL,EAAAA,EAAAA,SAAA,KAAAwtC,IACjBntC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXkc,kBAAmB,GACnB4tB,QAAS1tC,EAAM0tC,QACfC,iBAAkB3tC,EAAM0tC,QACxBE,eAAgB,GAEhB5rB,QAAS,IAEX1hB,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnD,CAsHC,OAtHAH,EAAAA,EAAAA,SAAAstC,EAAA,EAAArtC,IAAA,oBAAAC,MAED,WACA,GAAC,CAAAD,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAA+E,EAAsC3F,KAAKmD,MAAnC8pC,EAAOtnC,EAAPsnC,QACJG,GAD6BznC,EAAhBunC,iBACY,IAC7BltC,KAAK0E,SAAS,CAAE2a,kBAAmBze,IACnC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GACxBtZ,QAAQC,IAAI,YAAaC,KAAKmD,MAAM+pC,kBAEpCE,EAAyBH,EACpBrsC,GAMLwsC,EAAyBA,EAAuBx7B,QAAO,SAAA/F,GACrD,OAAOA,EAAKwhC,SAASxsC,cAAc0Y,SAASH,IAAavN,EAAK1F,KAAKtF,cAAc0Y,SAASH,EAC5F,IACApZ,KAAK0E,SAAS,CACZwoC,iBAAkBE,KATlBptC,KAAK0E,SAAS,CACZwoC,iBAAkBE,GAUxB,GAAC,CAAAztC,IAAA,eAAAC,MAED,SAAaiM,GACX,IAAQ0V,EAAYvhB,KAAKmD,MAAjBoe,QACJC,EAAkB3V,EACtB2V,EAAgBD,QAAUA,EAE1BvhB,KAAKT,MAAM+tC,4BAA4B9rB,EACzC,GAAC,CAAA7hB,IAAA,SAAAC,MAED,WAAU,IAADyD,EAAA,KACPmJ,EAAyDxM,KAAKmD,MAAtDkc,EAAiB7S,EAAjB6S,kBAAmB6tB,EAAgB1gC,EAAhB0gC,iBAAkB3rB,EAAO/U,EAAP+U,QAG7C,OAFAzhB,QAAQC,IAAI,+BAAgCC,KAAKmD,QAG/CxG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,UAC1BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAC,qBAE3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOme,iBAAkB,CAAEnW,aAAc,KAAMlM,UAC3DW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,UACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,gBACZC,qBAAqB,wBACrBlI,aAAc,SAAC8Z,GAAO,OAAKle,EAAKqB,SAAS,CAAE6c,QAAAA,GAAU,EACrD3hB,MAAO2hB,SAIbnhB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOmhB,kBAC9BrgB,QAAS,kBAAMqC,EAAK9D,MAAM+tC,4BAA4B,GAAG,EAACtxC,UAE1DW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,aAE1CL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOoe,iBAAiBtiB,SAAA,EACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAACmR,GAAU,OAAKvV,EAAKqc,wBAAwB9G,EAAW,EACtEhZ,MAAOyf,KAGT1iB,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPqC,EAAKqB,SAAS,CAAE2a,kBAAmB,KAAM,kBAAMhc,EAAKqc,wBAAwB,GAAG,IAC/E3F,GAAAA,QAASC,SACX,EAAEhe,UAEFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,iBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAEkxC,EAAiBv4B,OAAO,eAElEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB+T,KAAMs3B,EACNp3B,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOugB,aACfzf,QAAS,kBAAMqC,EAAK4a,aAAapS,EAAK,EAAC7P,SAAA,EACvCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAKwhC,cAEtD1wC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4gB,kCAGxBnkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAK1F,UAGV/F,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,wBAEpBvkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,mCAGP,QAM/B,KAAC4rB,CAAA,CApIoC,CAAS7rC,EAAAA,WAuI1CjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiB,kBACjBC,SAAU,WACVC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACd2B,MAAO,MACPQ,OAAQ,MACRlB,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,YAEZjB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAET4d,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdwc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdsH,iBAAkB,EAClBrG,cAAe,MACfrB,KAAM,GAER0c,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBof,kBAAmB,CAEjBrf,MAAO,GACPQ,OAAQ,GACRP,aAAc,GACdsH,iBAAkB,EAClBzH,WAAY,SACZC,eAAgB,UAElB0e,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAOC,EAAM5C,OACbhB,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+e,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdsL,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,S,6cCzQyB,IAErB8uC,GAAI,SAAApuC,IAAAC,EAAAA,EAAAA,SAAAmuC,EAAApuC,GAAA,IAAAE,EAAAC,GAAAiuC,GAEvB,SAAAA,EAAYhuC,GAAQ,IAADM,EAsCkD,OAtClDL,EAAAA,EAAAA,SAAA,KAAA+tC,IACjB1tC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjCoZ,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SAErCvI,QAAS,GACT+7B,iBAAkB,GAClBC,SAAU,GACVC,eAAgB,GAChBC,QAAS,GACTtsC,QAAS,GACTkb,WAAY,GAEZ8vB,mBAAoB/8B,IAAO,IAAIogB,MAAQzW,OAAO,cAE9Ck4B,2BAA2B,EAC3BnF,yBAAyB,EACzB9iB,6BAA6B,EAC7B9F,6BAA6B,EAC7Bzb,gCAAgC,EAEhC8b,SAAS,EACTsG,KAAM,OACNqnB,eAAgB,IAElB5tC,EAAKwqC,mBAAqBxqC,EAAKwqC,mBAAmBlmC,MAAIC,EAAAA,EAAAA,SAAAvE,IACtDA,EAAK6tC,WAAa7tC,EAAK6tC,WAAWvpC,MAAIC,EAAAA,EAAAA,SAAAvE,IACtCA,EAAK8tC,gBAAkB9tC,EAAK8tC,gBAAgBxpC,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAK+tC,kBAAoB/tC,EAAK+tC,kBAAkBzpC,MAAIC,EAAAA,EAAAA,SAAAvE,IACpDA,EAAK0qC,iBAAmB1qC,EAAK0qC,iBAAiBpmC,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAKyoC,gBAAkBzoC,EAAKyoC,gBAAgBnkC,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAKioC,0BAA4BjoC,EAAKioC,0BAA0B3jC,MAAIC,EAAAA,EAAAA,SAAAvE,IACpEA,EAAKytC,4BAA8BztC,EAAKytC,4BAA4BnpC,MAAIC,EAAAA,EAAAA,SAAAvE,IACxEA,EAAKwkB,8BAAgCxkB,EAAKwkB,8BAA8BlgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAK+e,8BAAgC/e,EAAK+e,8BAA8Bza,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACrE,CAisBC,OAjsBAH,EAAAA,EAAAA,SAAA6tC,EAAA,EAAA5tC,IAAA,oBAAAC,MAED,WAAqB,IAADyD,EAAA,KAClBsC,EAAmD3F,KAAKmD,MAAhDlG,EAAY0I,EAAZ1I,aAAcwN,EAAI9E,EAAJ8E,KAAMi+B,EAAkB/iC,EAAlB+iC,mBACxBt7B,EAAMnQ,EAAe,eACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,gBAAiBo7B,GAE/BlrC,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,WAAY6M,GAExBvJ,EAAKqB,SAAS,CACZoJ,QAASlB,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IAC9Dq5B,iBAAkBj9B,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IACvEs5B,SAAUl9B,EAAS69B,eAEvB,IACCt8B,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,qBAAAC,MAED,SAAmBiM,GAAO,IAADG,EAAA,KACf/O,EAAiB+C,KAAKmD,MAAtBlG,aACR+C,KAAK0E,SAAS,CACZqlC,eAAgBl+B,IAElB,IAAIuB,EAAMnQ,EAAe,gBAAkB4O,EAAKoH,OAAS,UACzDnT,QAAQC,IAAI,OAAQ8L,GACpBrO,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,UAAW6M,GAEvBZ,EAAKtH,SAAS,CACZslC,QAASp9B,EAAS89B,aAClBR,KAAMt9B,EAAS+9B,YACfjtC,QAASkP,EAAS49B,YAEtB,IACCr8B,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZpC,EAAKtH,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,mBAAAC,MAED,SAAiBgB,GACf,IAAA4L,EAA4DxM,KAAKmD,MAAzD2K,EAAOtB,EAAPsB,QAAuCg8B,GAAdt9B,EAAhBq9B,iBAA4Br9B,EAAVoM,WAAoBpM,EAARs9B,UAC3Cc,EAAyB,GAC7B5qC,KAAK0E,SAAS,CAAEkU,WAAYhY,IAC5B,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GAExBwxB,EAAyB98B,EAEpBlN,GAMLgqC,EAAyBA,EAAuBh5B,QAAO,SAAA/F,GAErD,IAAIg/B,EAAKf,EAASl4B,QAAO,SAAApV,GAAE,OAAIA,EAAGigC,WAAah3B,OAAO2T,EAAS,IAC3D0xB,EAAKhB,EAASl4B,QAAO,SAAApV,GAAE,OAAIA,EAAGy6B,KAAKp2B,cAAc0Y,SAASH,EAAS,IAEvE,OAAOvN,EAAKgnB,MAAMhyB,cAAc0Y,SAASH,IACpCvN,EAAKoJ,QAAQpU,cAAc0Y,SAASH,IACpCyxB,EAAG5qB,MAAK,SAAAzjB,GAAE,OAAIA,EAAGq2B,QAAUhnB,EAAKgnB,KAAK,KACrCiY,EAAG7qB,MAAK,SAAAzjB,GAAE,OAAIA,EAAGq2B,QAAUhnB,EAAKgnB,KAAK,GAC5C,IACA7yB,KAAK0E,SAAS,CACZmlC,iBAAkBe,KAhBlB5qC,KAAK0E,SAAS,CACZmlC,iBAAkBe,GAiBxB,GAAC,CAAAjrC,IAAA,kBAAAC,MAED,WACEI,KAAK0E,SAAS,CACZ2jC,yBAAyB,GAE7B,GAAC,CAAA1oC,IAAA,4BAAAC,MAED,SAA0BgB,EAAMwlB,GAAO,IAAD1Z,EAAA,KAQpC,GAPA1M,KAAK0E,SAAS,CACZ2jC,yBAAyB,EACzB0B,eAAgB,GAChBrsC,QAAS,GACTssC,QAAS,GACTE,KAAM,KAEHtpC,EAAL,CAGA,IAAA+N,EAA+B3O,KAAKmD,MAA5BlG,EAAY0R,EAAZ1R,aAAcwN,EAAIkE,EAAJlE,KAChB48B,EAAsB,SAATjhB,EACjBza,IAAO/K,GAAM8mC,SAAS,EAAG,QAAQpyB,OAAO,cAC7B,UAAT8Q,EACAza,IAAO/K,GAAM6mC,IAAI,EAAG,QAAQnyB,OAAO,cACjC3J,IAAO/K,GAAM0U,OAAO,cACtBlI,EAAMnQ,EAAe,eACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,gBAAiB+5B,GAE/B7pC,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,WAAY6M,GACpBA,EAASE,QACXhN,QAAQC,IAAI6M,EAASE,SAIvBJ,EAAKhI,SAAS,CACZoJ,QAASlB,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IAC9Dq5B,iBAAkBj9B,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IACvEs5B,SAAUl9B,EAAS69B,cACnB/B,mBAAoBrB,GAExB,IACCl5B,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ1B,EAAKhI,SAAS,CACZob,SAAS,GAEb,GArCF,CAsCF,GAAC,CAAAngB,IAAA,gCAAAC,MAED,SAA8BuoB,EAAS6C,GACrC,IAAQmiB,EAAmBntC,KAAKmD,MAAxBgqC,eACRntC,KAAK0E,SAAS,CACZ6gB,6BAA6B,EAC7B2F,gBAAiB/C,IAEdA,GAGLnoB,KAAK0tC,WAAWP,EAAgBhlB,EAClC,GAAC,CAAAxoB,IAAA,gCAAAC,MAED,SAA8BgB,GAAO,IAAD6N,EAAA,KAClC0I,EAA8FnX,KAAKmD,MAA3FsH,EAAI0M,EAAJ1M,KAAMxN,EAAYka,EAAZla,aAAcoZ,EAAQc,EAARd,SAAUyI,EAAkB3H,EAAlB2H,mBAAoBoM,EAAe/T,EAAf+T,gBAAiBiiB,EAAch2B,EAAdg2B,eAC3E,GAAKvsC,EAAL,CAMA,IAAIwM,EAAMnQ,EAAe,iBACnBU,EAAO,CACXgQ,MAAOlD,EAAKkD,MACZrD,WAAY1J,EACZgf,MAAOd,GAETthB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,kBAAoB6hB,EACpBrU,EAAKoV,SACLjT,EAASE,QACT,GACA,GACAF,EAASpC,QAEToC,EAASE,QACX2B,EAAK/J,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrD4N,EAAK/J,SAAS,CACZ+a,6BAA6B,IAE/BhR,EAAKi/B,WAAWP,EAAgBjiB,EAAiBte,EAASpC,QAC5D,IACC2D,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZK,EAAK/J,SAAS,CACZob,SAAS,GAEb,GA7CF,MAJE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,GAiDnC,GAAC,CAAA9f,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACpB,IAAQ8E,EAAe1F,KAAKT,MAApBmG,WACmB1F,KAAKmD,MAAxBsqC,eACRztC,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,KAErBtD,GAGQ,iBAATA,GACF8E,EAAWO,QAEf,GAAC,CAAAtG,IAAA,8BAAAC,MAED,SAA4BgB,GAC1BZ,KAAK0E,SAAS,CAAE8oC,2BAA2B,IACtC5sC,IAGLZ,KAAK0E,SAAS,CACZyoC,eAAgBvsC,IAElBZ,KAAK0tC,WAAW9sC,GAClB,GAAC,CAAAjB,IAAA,oBAAAC,MAED,WACEI,KAAK0E,SAAS,CACZ0hB,KAAM,WAERpmB,KAAK0tC,YACP,GAAC,CAAA/tC,IAAA,kBAAAC,MAED,WACEI,KAAK0E,SAAS,CACZ0hB,KAAM,SAERpmB,KAAK0tC,YACP,GAAC,CAAA/tC,IAAA,aAAAC,MAED,SAAWiM,EAAMsc,EAASpI,GAAc,IAADpF,EAAA,KACrCpD,EAAoFvX,KAAKmD,MAAjFlG,EAAYsa,EAAZta,aAAcwN,EAAI8M,EAAJ9M,KAAM4L,EAAQkB,EAARlB,SAAU0zB,EAAcxyB,EAAdwyB,eAAgBrB,EAAkBnxB,EAAlBmxB,mBAAoBtiB,EAAI7O,EAAJ6O,KAE1E,GAAK2jB,EAIL,GAAKl+B,EAOL,GAAI7L,KAAKT,MAAMiM,MAAMC,OAAOqC,QAAQkW,gBAAgBrP,OAAS,IAAMwT,IAAY1d,EAAKib,eAClF1lB,KAAK0E,SAAS,CACZ6gB,6BAA6B,SAKjC,GAAKxF,EAAL,CASA/f,KAAK0E,SAAS,CACZob,SAAS,IAGX,IAAI1S,EAAM,GACNzP,EAAO,GACE,WAATyoB,GACFhZ,EAAMnQ,EAAe,0BACrBU,EAAO,CACL6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZ2vB,cAAeyM,EAAe92B,OAC9Bo6B,SAAUxhC,EAAKwhC,SACfttB,YAAaA,EACboE,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,UACzF0pB,cAAenF,EACfnnB,QAAS1V,EAAK0V,SAEhBzhB,QAAQC,IAAI,OAAQpC,KAEpByP,EAAMnQ,EAAe,mBACrBU,EAAO,CACL6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZ2vB,cAAeyM,EAAe92B,OAC9Bo6B,SAAUxhC,EAAKwhC,SACfttB,YAAaA,EACboE,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,UACzF0pB,cAAenF,EACfnnB,QAAS1V,EAAK0V,SAEhBzhB,QAAQC,IAAI,OAAQpC,IAGtBH,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADyZ,EAChBvmB,QAAQC,IAAI,+BAAgC6M,GACmB,OAAhB,OAA/CyZ,EAAAhQ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CoM,EAAiDnM,YAC/Cld,EACEC,EACS,WAATmpB,EAAoB,iBAAmB,eACvC3b,EAAKoV,SACLjT,EAASE,QACC,WAATsZ,GAAsBxZ,EAASE,QAAwC,GAA7BF,EAASiZ,UAAU5Q,QAC9D,GACA80B,EAAe92B,OAAS,IAAM82B,EAAe90B,SAE7CrI,EAASE,QACX6N,EAAKjW,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,cACjDif,SAAS,IAKA,WAATsG,GACFzL,EAAKpb,MAAMiM,MAAMC,OAAOkZ,qBAAqB/X,GAC7C+N,EAAKjW,SAAS,CACZR,uBAAwB,CACtBZ,MAAO,QACPC,SAAU,kBACV3C,KAAM,+CAAiDgM,EAASiZ,UAAU5Q,QAC1EzR,IAAI,EACJK,QAAQ,EACRH,QAAS,CAAC,CAAE9C,KAAM,KAAMgD,WAAY,kBAEtCK,qBAAqB,EACrBwpC,eAAgB7gC,EAChBkT,SAAS,KAGXnF,EAAKjW,SAAS,CACZR,uBAAwB,CACtBZ,MAAO,QACPC,SAAU,kBACV3C,KAAM,8BACN4C,IAAI,EACJK,QAAQ,EACRH,QAAS,IAEXO,qBAAqB,EACrB6J,QAASlB,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IAC9Dq5B,iBAAkBj9B,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IACvEs5B,SAAUl9B,EAAS69B,cACnBV,eAAgB,GAChBrsC,QAAS,GACTssC,QAAS,GACTE,KAAM,GACNpqB,SAAS,GAGf,IACC3R,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZuM,EAAKjW,SAAS,CACZob,SAAS,GAEb,GA9GF,MALE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,EAC7BX,mBAAoB,qBAhBtB9e,KAAK0E,SAAS,CACZ8oC,2BAA2B,GAiIjC,GAAC,CAAA7tC,IAAA,SAAAC,MAED,WAAU,IAADqb,EAAA,KACCvV,EAAe1F,KAAKT,MAApBmG,WACRkV,EAGe5a,KAAKmD,MAHZsH,EAAImQ,EAAJnQ,KAAeo/B,GAAFjvB,EAAP9M,QAAyB8M,EAAhBivB,kBAAkBG,EAAOpvB,EAAPovB,QAASE,EAAItvB,EAAJsvB,KAAMxsC,EAAOkd,EAAPld,QAASkb,EAAUgC,EAAVhC,WAAYmxB,EAAcnvB,EAAdmvB,eAAgBrB,EAAkB9tB,EAAlB8tB,mBAC3FL,EAAuBztB,EAAvBytB,wBAAyB9iB,EAA2B3K,EAA3B2K,4BAA6B9F,EAA2B7E,EAA3B6E,4BAA6Bzb,EAA8B4W,EAA9B5W,+BACnFwpC,EAAyB5yB,EAAzB4yB,0BAA2BvpC,EAAmB2W,EAAnB3W,oBAAqBC,EAAsB0W,EAAtB1W,uBAAwB4a,EAAkBlE,EAAlBkE,mBACxEgB,EAAOlF,EAAPkF,QAGF,OAFAhgB,QAAQC,IAAI,eAGVK,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BiI,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9B+pC,IACA7wC,EAAAA,EAAAA,KAACqwC,GAAkB,CACjBC,QAASjtC,KAAKT,MAAMiM,MAAMC,OAAOqC,QAAQm/B,QACzCK,4BAA6BttC,KAAKstC,8BAGpC/nB,IACA5oB,EAAAA,EAAAA,KAACmnB,GAAoB,CACnBM,aAAa,eACbJ,gBAAiBhkB,KAAKT,MAAMiM,MAAMC,OAAOqC,QAAQkW,gBACjDK,8BAA+BrkB,KAAKqkB,gCAGtCgkB,IACA1rC,EAAAA,EAAAA,KAACyqC,GAAgB,CACfC,WAAYqB,EACZZ,0BAA2B9nC,KAAK8nC,4BAGlC9jC,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,mCAGzCwe,IACA9iB,EAAAA,EAAAA,KAACgiB,GAAoB,CACnBlU,KAAMA,EACNqU,mBAAoBA,EACpBF,8BAA+B5e,KAAK4e,iCAExCxe,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,kBAIhDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEC,aAAc,IAAKvK,SAAA,EACxDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+H,UAAUjM,SAAA,EAC5BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOiI,oBACvBuH,YAAY,oBACZC,qBAAqB,wBACrB/P,MAAOgZ,EACPnR,aAAc,SAACmR,GAAU,OAAKqC,EAAKsvB,iBAAiB3xB,EAAW,KAGjEjc,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOkI,gBAC9BpH,QAAS,WACPia,EAAKvW,SAAS,CAAEkU,WAAY,KAAM,kBAAMqC,EAAKsvB,iBAAiB,GAAG,IACjExwB,GAAAA,QAASC,SACX,EAAEhe,UAEFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,cAGnD4B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,OAAQlH,SAAA,EAC7CW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE8F,KAAM,GAAKE,eAAgB,SAAUD,WAAY,UAC1Ed,QAAS,kBAAMia,EAAK6sB,0BAA0BY,EAAoB,OAAO,EAAC1sC,UAC1EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,aAAatH,KAAM,GAAI4B,MAAOC,EAAMjC,WAEtD9B,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOoI,kBAC9BtH,QAAS,kBAAMia,EAAKqtB,iBAAiB,EAACtsC,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAE0sC,OAE1C/rC,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE8F,KAAM,GAAKE,eAAgB,SAAUD,WAAY,UAC1Ed,QAAS,kBAAMia,EAAK6sB,0BAA0BY,EAAoB,QAAQ,EAAC1sC,UAC3EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,cAActH,KAAM,GAAI4B,MAAOC,EAAMjC,cAGzD9B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqI,mBAAmBvM,UACrCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAE6tC,EAAiBl1B,OAAO,iBAGpEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAMi0B,EACN/zB,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO0G,KAAMmjC,EAAe92B,SAAWpH,EAAKoH,QAAU,CAAE3R,gBAAiBZ,EAAM1C,WACvFgD,QAAS,kBAAMia,EAAKovB,mBAAmBx+B,EAAK,EAAC7P,SAAA,EAE7CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwI,cAAc1M,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAKoJ,aAE/CtY,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyI,eAAe3M,UACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8G,mBAAmBhL,SAAE6P,EAAKk/B,qBAGlDpuC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,UAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAChC6P,EAAKgnB,WAGVzyB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0I,iBAEpBjM,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2I,eAAe7M,UACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkH,mBAAmBpL,SAAE2P,IAAOE,EAAKm/B,YAAY11B,OAAO,kBAG3D,QAIzB3Y,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1BpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEsB,YAAa,IAAK5L,SAAA,EACvDoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE+tC,EAAiBA,EAAe90B,QAAU,OACjFtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE+tC,EAAiBA,EAAelX,MAAQ,UAEpFl2B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOuG,cAAe,CAAE5E,KAAM,IAAK7F,SAAA,EAC/CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,WAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6J,qBAAqB/N,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,YAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8J,oBAAoBhO,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAGnCW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAMo0B,EACNl0B,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAA/I,GAAA,IAAGpB,EAAIoB,EAAJpB,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmJ,oBAAoBrN,SAAA,EACnDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKqb,cACtF9mB,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyJ,yBAAyB3N,SAAA,EAEvDoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAC/B6P,EAAK+W,UAAY,KAAO,KAAM/W,EAAKyN,YAErCzN,EAAKolB,SAAUt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkJ,iBAAiBpN,SAAE6P,EAAKolB,UAAkB,SAEhFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAAC,IAC/B6P,EAAKy4B,UAAYz4B,EAAKy4B,SAAS/oB,QAAQ,SAG7C5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAAC,IAC/B6P,EAAKqlB,WAAarlB,EAAKqlB,UAAU3V,QAAQ,UAG9B,QAIzB5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,WAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO6J,qBAAsB,CAAElI,KAAM,KAAM7F,UACvDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,iBAGnCW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAMs0B,EACNp0B,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAAsE,GAAA,IAAGzO,EAAIyO,EAAJzO,KAAMiJ,EAAKwF,EAALxF,MAAK,OACxB1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmJ,oBAAoBrN,SAAA,EACnDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE8Y,EAAQ,OACzF1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOyJ,yBAA0B,CAAE9H,KAAM,KAAM7F,SAAA,EAEvEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKorB,OAGNprB,EAAK2wB,SACL7/B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOiJ,cAAe,CAAE1I,MAAOC,EAAM3C,WAAY/B,SAC5D6P,EAAK2wB,aAIZ7/B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAK4wB,UAAY,IAAM5wB,EAAK4wB,SAASlhB,QAAQ,SAGjC,QAIzB5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOuG,cAAe,CAAE5E,KAAM,EAAGP,gBAAiB,SAAUtF,UACxEoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGG,MAAO,QAAShG,SAAA,EACtCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAE0B,EAAQ0hC,YAAc1hC,EAAQ0hC,WAAW7jB,QAAQ,WAGrFnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAE0B,EAAQ2hC,WAAa3hC,EAAQ2hC,UAAU9jB,QAAQ,WAGnFnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,kBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAE0B,EAAQ4hC,eAAiB5hC,EAAQ4hC,cAAc/jB,QAAQ,WAG3Fnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgK,UAAW,CAAEzJ,MAAO,UAAWzE,SAAC,aAEvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgK,UAAW,CAAEzJ,MAAO,UAAWzE,SAAE0B,EAAQ0zB,YAAc1zB,EAAQ0zB,WAAW7V,QAAQ,gBAK/G5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAUknC,GAAkBjqB,IAAY,CAAEzd,QAAS,KAClFrB,QAAS,kBAAMia,EAAK0yB,iBAAiB,EACrCvyB,UAAW2uB,GAAkBjqB,EAAQ9jB,SAAA,EAErCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,aACL1F,MAAOC,EAAMzC,KACbY,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6C,WAAY,CAAEtC,MAAOC,EAAMzC,OAAQjC,SAAE2G,EAAAA,QAAAA,IAAS,cAErEvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAUknC,GAAkBjqB,IAAY,CAAEzd,QAAS,KAClFrB,QAAS,kBAAMia,EAAK2yB,mBAAmB,EACvCxyB,UAAW2uB,GAAkBjqB,EAAQ9jB,SAAA,EAErCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,aACL1F,MAAOC,EAAM3C,SACbc,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6C,WAAY,CAAEtC,MAAOC,EAAM3C,WAAY/B,SAAE2G,EAAAA,QAAAA,IAAS,yBAOrF,KAAC4qC,CAAA,CA1uBsB,CAASpsC,EAAAA,WA6uB5BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,EACNqB,cAAe,OAEjByE,eAAgB,CACd9F,KAAM,EACNqB,cAAe,OAEjBmD,iBAAkB,CAChBxE,KAAM,EACNP,gBAAiBZ,EAAMrC,OAEzBiI,eAAgB,CACdzE,KAAM,GAER4E,cAAe,CACb5E,KAAM,EACNP,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdiB,cAAe,SACfqf,SAAU,OACVzgB,WAAY,UACZC,eAAgB,SAChBG,SAAU,UAEZ+F,UAAW,CACT3G,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,EACRF,UAAW,GACX2F,aAAc,EACdhF,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEV4F,gBAAiB,CACf5F,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBoF,kBAAmB,CACjBzG,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwG,mBAAoB,CAClB1G,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfmI,KAAM,CACJnE,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEX3B,UAAW,CACT5D,cAAe,OAEjB+D,WAAY,CACV9E,eAAgB,GAElBgF,UAAW,CACTjE,cAAe,OAEjBwF,cAAe,CACb7G,KAAM,GAER8G,eAAgB,CACd9G,KAAM,EACNC,WAAY,YAEd8G,cAAe,CACb/G,KAAM,GAERgH,eAAgB,CACdhH,KAAM,EACNC,WAAY,YAEdiF,kBAAmB,CACjBtG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdiK,mBAAoB,CAClBvG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdmK,eAAgB,CACdzG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+E,mBAAoB,CAClB3G,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdgJ,kBAAmB,CACjBlE,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB6E,cAAe,UAEjB8C,gBAAiB,CACfnE,KAAM,EACNoB,kBAAmB,GACnB6F,WAAY,IAEdjG,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBgE,mBAAoB,CAClB7D,UAAW,IAEbyG,UAAW,CACT1H,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBkH,gBAAiB,IAEnBC,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXU,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB/H,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZ6G,yBAA0B,CACxBhI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhBuD,oBAAqB,CACnB9H,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwL,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfoC,oBAAqB,CACnBnI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZiH,qBAAsB,CACpBpI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf6B,cAAe,CACbkC,OAAQ,GACRD,UAAW,GACXT,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,W,6cCl/B+B,IAErBqtC,GAAO,SAAA3uC,IAAAC,EAAAA,EAAAA,SAAA0uC,EAAA3uC,GAAA,IAAAE,EAAAC,GAAAwuC,GAE1B,SAAAA,EAAYvuC,GAAQ,IAADM,EA8BkD,OA9BlDL,EAAAA,EAAAA,SAAA,KAAAsuC,IACjBjuC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjCoZ,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SAErCvI,QAAS,GACT+7B,iBAAkB,GAClBC,SAAU,GACVC,eAAgB,GAChBC,QAAS,GACTtsC,QAAS,GACTkb,WAAY,GAEZ8vB,mBAAoB/8B,IAAO,IAAIogB,MAAQzW,OAAO,cAE9C+yB,yBAAyB,EACzB9iB,6BAA6B,EAC7BvhB,gCAAgC,EAEhC8b,SAAS,EACT2tB,eAAgB,IAElB5tC,EAAKwqC,mBAAqBxqC,EAAKwqC,mBAAmBlmC,MAAIC,EAAAA,EAAAA,SAAAvE,IACtDA,EAAK0qC,iBAAmB1qC,EAAK0qC,iBAAiBpmC,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAKyoC,gBAAkBzoC,EAAKyoC,gBAAgBnkC,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAKioC,0BAA4BjoC,EAAKioC,0BAA0B3jC,MAAIC,EAAAA,EAAAA,SAAAvE,IACpEA,EAAKwkB,8BAAgCxkB,EAAKwkB,8BAA8BlgB,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACrE,CAkiBC,OAliBAH,EAAAA,EAAAA,SAAAouC,EAAA,EAAAnuC,IAAA,oBAAAC,MAED,WAAqB,IAADyD,EAAA,KAClBsC,EAAmD3F,KAAKmD,MAAhDlG,EAAY0I,EAAZ1I,aAAcwN,EAAI9E,EAAJ8E,KAAMi+B,EAAkB/iC,EAAlB+iC,mBACxBt7B,EAAMnQ,EAAe,uBACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,gBAAiBo7B,GAE/BlrC,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,WAAY6M,GAGxBvJ,EAAKqB,SAAS,CACZoJ,QAASlB,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IAC9Dq5B,iBAAkBj9B,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IACvEs5B,SAAUl9B,EAAS69B,eAEvB,IACCt8B,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ/K,EAAKqB,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,qBAAAC,MAED,SAAmBiM,GAAO,IAADG,EAAA,KACf/O,EAAiB+C,KAAKmD,MAAtBlG,aACR+C,KAAK0E,SAAS,CACZqlC,eAAgBl+B,IAElB,IAAIuB,EAAMnQ,EAAe,gBAAkB4O,EAAKoH,OAAS,UAEzDzV,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAEJZ,EAAKtH,SAAS,CACZslC,QAASp9B,EAAS89B,aAClBR,KAAMt9B,EAAS+9B,YACfjtC,QAASkP,EAAS49B,YAEtB,IACCr8B,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZpC,EAAKtH,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,mBAAAC,MAED,SAAiBgB,GACf,IAAA4L,EAA4DxM,KAAKmD,MAAzD2K,EAAOtB,EAAPsB,QAAuCg8B,GAAdt9B,EAAhBq9B,iBAA4Br9B,EAAVoM,WAAoBpM,EAARs9B,UAC3Cc,EAAyB,GAC7B5qC,KAAK0E,SAAS,CAAEkU,WAAYhY,IAC5B,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GAExBwxB,EAAyB98B,EAEpBlN,GAMLgqC,EAAyBA,EAAuBh5B,QAAO,SAAA/F,GAErD,IAAIg/B,EAAKf,EAASl4B,QAAO,SAAApV,GAAE,OAAIA,EAAGigC,WAAah3B,OAAO2T,EAAS,IAC3D0xB,EAAKhB,EAASl4B,QAAO,SAAApV,GAAE,OAAIA,EAAGy6B,KAAKp2B,cAAc0Y,SAASH,EAAS,IAEvE,OAAOvN,EAAKgnB,MAAMhyB,cAAc0Y,SAASH,IACpCvN,EAAKoJ,QAAQpU,cAAc0Y,SAASH,IACpCyxB,EAAG5qB,MAAK,SAAAzjB,GAAE,OAAIA,EAAGq2B,QAAUhnB,EAAKgnB,KAAK,KACrCiY,EAAG7qB,MAAK,SAAAzjB,GAAE,OAAIA,EAAGq2B,QAAUhnB,EAAKgnB,KAAK,GAC5C,IACA7yB,KAAK0E,SAAS,CACZmlC,iBAAkBe,KAhBlB5qC,KAAK0E,SAAS,CACZmlC,iBAAkBe,GAiBxB,GAAC,CAAAjrC,IAAA,kBAAAC,MAED,WACEI,KAAK0E,SAAS,CACZ2jC,yBAAyB,GAE7B,GAAC,CAAA1oC,IAAA,4BAAAC,MAED,SAA0BgB,EAAMwlB,GAAO,IAAD1Z,EAAA,KAQpC,GAPA1M,KAAK0E,SAAS,CACZ2jC,yBAAyB,EACzB0B,eAAgB,GAChBrsC,QAAS,GACTssC,QAAS,GACTE,KAAM,KAEHtpC,EAAL,CAGA,IAAA+N,EAA+B3O,KAAKmD,MAA5BlG,EAAY0R,EAAZ1R,aAAcwN,EAAIkE,EAAJlE,KAChB48B,EAAsB,SAATjhB,EACjBza,IAAO/K,GAAM8mC,SAAS,EAAG,QAAQpyB,OAAO,cAC7B,UAAT8Q,EACAza,IAAO/K,GAAM6mC,IAAI,EAAG,QAAQnyB,OAAO,cACjC3J,IAAO/K,GAAM0U,OAAO,cACtBlI,EAAMnQ,EAAe,uBACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7B9B,EAAO6B,OAAO,gBAAiB+5B,GAE/B7pC,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACJ9M,QAAQC,IAAI,WAAY6M,GACpBA,EAASE,QACXhN,QAAQC,IAAI6M,EAASE,SAIvBJ,EAAKhI,SAAS,CACZoJ,QAASlB,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IAC9Dq5B,iBAAkBj9B,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IACvEs5B,SAAUl9B,EAAS69B,cACnB/B,mBAAoBrB,GAExB,IACCl5B,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ1B,EAAKhI,SAAS,CACZob,SAAS,GAEb,GArCF,CAsCF,GAAC,CAAAngB,IAAA,gCAAAC,MAED,SAA8BuoB,EAAS6C,GACrC,IAAQmiB,EAAmBntC,KAAKmD,MAAxBgqC,eACRntC,KAAK0E,SAAS,CACZ6gB,6BAA6B,EAC7B2F,gBAAiB/C,IAEdA,GAGLnoB,KAAK0tC,WAAWP,EAAgBhlB,EAClC,GAAC,CAAAxoB,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACGZ,KAAKT,MAApBmG,WACmB1F,KAAKmD,MAAxBsqC,eACRztC,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,IAK5B,GAAC,CAAAvE,IAAA,qBAAAC,MAED,SAAmBuoB,GAAU,IAAD1Z,EAAA,KAC1B0I,EAA6EnX,KAAKmD,MAA1ElG,EAAYka,EAAZla,aAAcwN,EAAI0M,EAAJ1M,KAAM4L,EAAQc,EAARd,SAAU0zB,EAAc5yB,EAAd4yB,eAAgBrB,EAAkBvxB,EAAlBuxB,mBAEtD,GAAKqB,EAIL,GAAI/pC,KAAKT,MAAMiM,MAAMC,OAAOqC,QAAQkW,gBAAgBrP,OAAS,IAAMwT,IAAY1d,EAAKib,eAClF1lB,KAAK0E,SAAS,CACZ6gB,6BAA6B,QAFjC,CAQAvlB,KAAK0E,SAAS,CACZob,SAAS,IAGX,IAAI1S,EACAzP,EACJyP,EAAMnQ,EAAe,yBACrBU,EAAO,CACL6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZ2vB,cAAeyM,EAAe92B,OAC9BkR,UAAY1Z,EAAKib,gBAAkBjb,EAAKib,eAAevB,WAAegE,GAAWA,EAAQhE,UACzF0pB,cAAenF,GAEjB5oC,QAAQC,IAAI,OAAQpC,GACpBH,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,kCAAmC6M,GACgB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,kBACAwN,EAAKoV,SACLjT,EAASE,QACT,GACA,GACAi9B,EAAe92B,QAEfrG,EAASE,QACX2B,EAAK/J,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,cACjDif,SAAS,IAKbrR,EAAK/J,SAAS,CACZR,uBAAwB,CACtBZ,MAAO,QACPC,SAAU,kBACV3C,KAAM,iCACN4C,IAAI,EACJK,QAAQ,EACRH,QAAS,IAEXO,qBAAqB,EACrB6J,QAASlB,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IAC9Dq5B,iBAAkBj9B,EAAS49B,WAAW54B,QAAO,SAAApV,GAAE,MAAqB,MAAjBA,EAAGgU,SAAiB,IACvEs5B,SAAUl9B,EAAS69B,cACnBV,eAAgB,GAChBrsC,QAAS,GACTssC,QAAS,GACTE,KAAM,GACNpqB,SAAS,GAEb,IACC3R,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZK,EAAK/J,SAAS,CACZob,SAAS,GAEb,GAzEF,CA0EF,GAAC,CAAAngB,IAAA,SAAAC,MAED,WAAU,IAAD+a,EAAA,KACCjV,EAAe1F,KAAKT,MAApBmG,WACR6R,EAGevX,KAAKmD,MAHG0mC,GAAXtyB,EAAJ9M,KAAa8M,EAAPzJ,QAAyByJ,EAAhBsyB,kBAAkBG,EAAOzyB,EAAPyyB,QAASE,EAAI3yB,EAAJ2yB,KAAMxsC,EAAO6Z,EAAP7Z,QAASkb,EAAUrB,EAAVqB,WAAYmxB,EAAcxyB,EAAdwyB,eAAgBrB,EAAkBnxB,EAAlBmxB,mBAC3FL,EAAuB9wB,EAAvB8wB,wBAAyB9iB,EAA2BhO,EAA3BgO,4BAA6BvhB,EAA8BuT,EAA9BvT,+BACtDC,EAAmBsT,EAAnBtT,oBAAqBC,EAAsBqT,EAAtBrT,uBACrB4b,EAAOvI,EAAPuI,QAIF,OAFAhgB,QAAQC,IAAI,eAGVK,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BiI,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9B8hB,IACA5oB,EAAAA,EAAAA,KAACmnB,GAAoB,CACnBM,aAAa,eACbJ,gBAAiBhkB,KAAKT,MAAMiM,MAAMC,OAAOqC,QAAQkW,gBACjDK,8BAA+BrkB,KAAKqkB,gCAGtCgkB,IACA1rC,EAAAA,EAAAA,KAACyqC,GAAgB,CACfC,WAAYqB,EACZZ,0BAA2B9nC,KAAK8nC,4BAGlC9jC,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3Cb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,kBAIhDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEC,aAAc,IAAKvK,SAAA,EACxDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+H,UAAUjM,SAAA,EAC5BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOiI,oBACvBuH,YAAY,oBACZC,qBAAqB,wBACrB/P,MAAOgZ,EACPnR,aAAc,SAACmR,GAAU,OAAK+B,EAAK4vB,iBAAiB3xB,EAAW,KAGjEjc,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOkI,gBAC9BpH,QAAS,WACP2Z,EAAKjW,SAAS,CAAEkU,WAAY,KAAM,kBAAM+B,EAAK4vB,iBAAiB,GAAG,IACjExwB,GAAAA,QAASC,SACX,EAAEhe,UAEFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,cAGnD4B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,OAAQlH,SAAA,EAC7CW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE8F,KAAM,GAAKE,eAAgB,SAAUD,WAAY,UAC1Ed,QAAS,kBAAM2Z,EAAKmtB,0BAA0BY,EAAoB,OAAO,EAAC1sC,UAC1EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,aAAatH,KAAM,GAAI4B,MAAOC,EAAMjC,WAEtD9B,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOoI,kBAC9BtH,QAAS,kBAAM2Z,EAAK2tB,iBAAiB,EAACtsC,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAE0sC,OAE1C/rC,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE8F,KAAM,GAAKE,eAAgB,SAAUD,WAAY,UAC1Ed,QAAS,kBAAM2Z,EAAKmtB,0BAA0BY,EAAoB,QAAQ,EAAC1sC,UAC3EW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,cAActH,KAAM,GAAI4B,MAAOC,EAAMjC,cAGzD9B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqI,mBAAmBvM,UACrCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAE6tC,EAAiBl1B,OAAO,iBAGpEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAMi0B,EACN/zB,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAO0G,KAAMmjC,EAAe92B,SAAWpH,EAAKoH,QAAU,CAAE3R,gBAAiBZ,EAAM1C,WACvFgD,QAAS,kBAAM2Z,EAAK0vB,mBAAmBx+B,EAAK,EAAC7P,SAAA,EAE7CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwI,cAAc1M,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAKoJ,aAE/CtY,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyI,eAAe3M,UACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8G,mBAAmBhL,SAAE6P,EAAKk/B,qBAGlDpuC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,UAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAChC6P,EAAKgnB,WAGVzyB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0I,iBAEpBjM,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2I,eAAe7M,UACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkH,mBAAmBpL,SAAE2P,IAAOE,EAAKm/B,YAAY11B,OAAO,kBAG3D,QAIzB3Y,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1BpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEsB,YAAa,IAAK5L,SAAA,EACvDoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE+tC,EAAiBA,EAAe90B,QAAU,OACjFtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE+tC,EAAiBA,EAAelX,MAAQ,UAEpFl2B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOuG,cAAe,CAAE5E,KAAM,IAAK7F,SAAA,EAC/CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,WAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6J,qBAAqB/N,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,YAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8J,oBAAoBhO,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAGnCW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAMo0B,EACNl0B,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAA/I,GAAA,IAAGpB,EAAIoB,EAAJpB,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmJ,oBAAoBrN,SAAA,EACnDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKqb,cACtF9mB,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyJ,yBAAyB3N,SAAA,EAEvDoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAC/B6P,EAAK+W,UAAY,KAAO,KAAM/W,EAAKyN,YAErCzN,EAAKolB,SAAUt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkJ,iBAAiBpN,SAAE6P,EAAKolB,UAAkB,SAEhFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAAC,IAC/B6P,EAAKy4B,UAAYz4B,EAAKy4B,SAAS/oB,QAAQ,SAG7C5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAAC,IAC/B6P,EAAKqlB,WAAarlB,EAAKqlB,UAAU3V,QAAQ,UAG9B,QAIzB5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,WAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO6J,qBAAsB,CAAElI,KAAM,KAAM7F,UACvDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,iBAGnCW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAMs0B,EACNp0B,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAAsE,GAAA,IAAGzO,EAAIyO,EAAJzO,KAAMiJ,EAAKwF,EAALxF,MAAK,OACxB1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmJ,oBAAoBrN,SAAA,EACnDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsJ,wBAAwBxN,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE8Y,EAAQ,OACzF1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOyJ,yBAA0B,CAAE9H,KAAM,KAAM7F,SAAA,EAEvEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKorB,OAGNprB,EAAK2wB,SACL7/B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOiJ,cAAe,CAAE1I,MAAOC,EAAM3C,WAAY/B,SAC5D6P,EAAK2wB,aAIZ7/B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAK4wB,UAAY,IAAM5wB,EAAK4wB,SAASlhB,QAAQ,SAGjC,QAIzB5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOuG,cAAe,CAAE5E,KAAM,EAAGP,gBAAiB,SAAUtF,UACxEoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGG,MAAO,QAAShG,SAAA,EACtCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAE0B,EAAQ0hC,YAAc1hC,EAAQ0hC,WAAW7jB,QAAQ,WAGrFnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAE0B,EAAQ2hC,WAAa3hC,EAAQ2hC,UAAU9jB,QAAQ,WAGnFnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,kBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAE0B,EAAQ4hC,eAAiB5hC,EAAQ4hC,cAAc/jB,QAAQ,WAG3Fnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,GAAIrG,cAAe,OAAQlH,SAAA,EACnEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgK,UAAW,CAAEzJ,MAAO,UAAWzE,SAAC,aAEvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,SAAUD,WAAY,YAAa9F,UACzEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgK,UAAW,CAAEzJ,MAAO,UAAWzE,SAAE0B,EAAQ0zB,YAAc1zB,EAAQ0zB,WAAW7V,QAAQ,gBAK/G5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,SAAUknC,GAAkBjqB,IAAY,CAAEzd,QAAS,KAClF+Y,UAAW2uB,GAAkBjqB,EAC7B9e,QAAS,kBAAM2Z,EAAKozB,oBAAoB,EAAC/xC,SAAA,EACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAOC,EAAM3C,SACbc,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6C,WAAY,CAAEtC,MAAOC,EAAM3C,WAAY/B,SAAE2G,EAAAA,QAAAA,IAAS,yBAOrF,KAACmrC,CAAA,CAnkByB,CAAS3sC,EAAAA,WAskB/BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,EACNqB,cAAe,OAEjByE,eAAgB,CACd9F,KAAM,EACNqB,cAAe,OAEjBmD,iBAAkB,CAChBxE,KAAM,EACNP,gBAAiBZ,EAAMrC,OAEzBiI,eAAgB,CACdzE,KAAM,GAER4E,cAAe,CACb5E,KAAM,EACNP,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdiB,cAAe,SACfqf,SAAU,OACVzgB,WAAY,UACZC,eAAgB,SAChBG,SAAU,UAEZ+F,UAAW,CACT3G,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,EACRF,UAAW,GACX2F,aAAc,EACdhF,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEV4F,gBAAiB,CACf5F,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBoF,kBAAmB,CACjBzG,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwG,mBAAoB,CAClB1G,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfmI,KAAM,CACJnE,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEX3B,UAAW,CACT5D,cAAe,OAEjB+D,WAAY,CACV9E,eAAgB,GAElBgF,UAAW,CACTjE,cAAe,OAEjBwF,cAAe,CACb7G,KAAM,GAER8G,eAAgB,CACd9G,KAAM,EACNC,WAAY,YAEd8G,cAAe,CACb/G,KAAM,GAERgH,eAAgB,CACdhH,KAAM,EACNC,WAAY,YAEdiF,kBAAmB,CACjBtG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdiK,mBAAoB,CAClBvG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdmK,eAAgB,CACdzG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+E,mBAAoB,CAClB3G,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdgJ,kBAAmB,CACjBlE,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB6E,cAAe,UAEjB8C,gBAAiB,CACfnE,KAAM,EACNoB,kBAAmB,GACnB6F,WAAY,IAEdjG,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBgE,mBAAoB,CAClB7D,UAAW,IAEbyG,UAAW,CACT1H,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBkH,gBAAiB,IAEnBC,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXU,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB/H,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZ6G,yBAA0B,CACxBhI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhBuD,oBAAqB,CACnB9H,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwL,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfoC,oBAAqB,CACnBnI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZiH,qBAAsB,CACpBpI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf6B,cAAe,CACbkC,OAAQ,GACRD,UAAW,GACXT,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,W,6cC90BqD,IAE3CutC,GAAK,SAAA7uC,IAAAC,EAAAA,EAAAA,SAAA4uC,EAAA7uC,GAAA,IAAAE,EAAAC,GAAA0uC,GAExB,SAAAA,EAAYzuC,GAAQ,IAADM,EA8DwE,OA9DxEL,EAAAA,EAAAA,SAAA,KAAAwuC,IACjBnuC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjC0f,cAAepd,EAAMiM,MAAMC,OAAOkR,cAClCyJ,KAAM7mB,EAAMiM,MAAMC,OAAO2a,KACzBtY,QAASvO,EAAMiM,MAAMC,OAAOqC,QAC5BuI,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SACrC43B,WAAY1uC,EAAMiM,MAAMC,OAAOqC,QAAQmgC,WACvCC,oBAAqB3uC,EAAMiM,MAAMC,OAAOqC,QAAQmgC,WAEhDE,WAAwC,QAA5B5uC,EAAMiM,MAAMC,OAAO2a,KAAkB7mB,EAAMiM,MAAMC,OAAOkR,cAAcyxB,UAAY,EAAM7uC,EAAMiM,MAAMC,OAAOkR,cAAcnH,KAAO,EAC5I64B,WAAwC,QAA5B9uC,EAAMiM,MAAMC,OAAO2a,KAAiB,KAC5C,CACAwC,MAAOrpB,EAAMiM,MAAMC,OAAOkR,cAAciM,OAAS,GACjDzS,QAAS5W,EAAMiM,MAAMC,OAAOkR,cAAcxG,SAAW,GACrDm4B,QAAS/uC,EAAMiM,MAAMC,OAAOkR,cAAc2xB,SAAW,GACrDzxB,SAAUtd,EAAMiM,MAAMC,OAAOkR,cAAcE,UAAY,GACvD0xB,OAAQhvC,EAAMiM,MAAMC,OAAOkR,cAAc4xB,QAAU,GACnDnS,YAAa78B,EAAMiM,MAAMC,OAAOkR,cAAcyf,aAAe,GAC7DoS,QAASjvC,EAAMiM,MAAMC,OAAOkR,cAAc6xB,SAAW,IAEzDC,qBAAsB,GACtBC,0BAA2B,GAC3BC,oBAAqB,GACrBC,uBAAwB,GACxBC,wBAAyB,GACzBC,mCAAoC,GACpCC,4BAA6B,GAE7BC,WAAY,GACZC,kBAAmB,GAEnBC,cAA2C,QAA5B3vC,EAAMiM,MAAMC,OAAO2a,KAAiB,GAC/C,CACA2C,SAAUxpB,EAAMiM,MAAMC,OAAOkR,cAAcoM,UAAY,IAE3DomB,oBAAqB,GAErBC,mBAAgD,QAA5B7vC,EAAMiM,MAAMC,OAAO2a,KAAiB,IAAO7mB,EAAMiM,MAAMC,OAAOkR,cAAcC,cAAgB,GAChHyyB,kBAA+C,QAA5B9vC,EAAMiM,MAAMC,OAAO2a,KAAiB,GAAM7mB,EAAMiM,MAAMC,OAAOkR,cAAcI,aAAe,GAC7GuyB,aAA0C,QAA5B/vC,EAAMiM,MAAMC,OAAO2a,KAAiB,GAAM7mB,EAAMiM,MAAMC,OAAOkR,cAAcK,WAAa,GACtGuyB,aAA0C,QAA5BhwC,EAAMiM,MAAMC,OAAO2a,KAAiB,GAAM7mB,EAAMiM,MAAMC,OAAOkR,cAAcM,WAAa,GACtGuyB,aAA0C,QAA5BjwC,EAAMiM,MAAMC,OAAO2a,KAAiB,GAAM7mB,EAAMiM,MAAMC,OAAOkR,cAAc8yB,WAAa,GACtGC,aAA0C,QAA5BnwC,EAAMiM,MAAMC,OAAO2a,KAAiB,GAAM7mB,EAAMiM,MAAMC,OAAOkR,cAAcgzB,WAAa,GAEtGC,UAAWrwC,EAAMiM,MAAMC,OAAO8kB,KAAO,MACrC+F,QAAS,IAEXz2B,EAAK81B,gBAAkB91B,EAAK81B,gBAAgBxxB,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAKgwC,eAAiBhwC,EAAKgwC,eAAe1rC,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9CA,EAAKiwC,gBAAkBjwC,EAAKiwC,gBAAgB3rC,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAKkwC,eAAiBlwC,EAAKkwC,eAAe5rC,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9CA,EAAKmwC,eAAiBnwC,EAAKmwC,eAAe7rC,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9CA,EAAKowC,gBAAkBpwC,EAAKowC,gBAAgB9rC,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAKqwC,gBAAkBrwC,EAAKqwC,gBAAgB/rC,MAAIC,EAAAA,EAAAA,SAAAvE,IAChDA,EAAK6f,wBAA0B7f,EAAK6f,wBAAwBvb,MAAIC,EAAAA,EAAAA,SAAAvE,IAChEA,EAAKswC,oBAAsBtwC,EAAKswC,oBAAoBhsC,MAAIC,EAAAA,EAAAA,SAAAvE,IACxDA,EAAKuwC,uBAAyBvwC,EAAKuwC,uBAAuBjsC,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9DA,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAE1CA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC3F,CA42BC,OA52BAH,EAAAA,EAAAA,SAAAsuC,EAAA,EAAAruC,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,eAAAC,MAED,WAAgB,IAADyD,EAAA,KACLqC,EAAgB1F,KAAKT,MAArBmG,WACRC,EACgF3F,KAAKmD,MAD7EijB,EAAIzgB,EAAJygB,KAAM3b,EAAI9E,EAAJ8E,KAAMxN,EAAY0I,EAAZ1I,aAAc0f,EAAahX,EAAbgX,cAAetG,EAAQ1Q,EAAR0Q,SAAU83B,EAAUxoC,EAAVwoC,WAAYE,EAAU1oC,EAAV0oC,WAAYa,EAAavpC,EAAbupC,cAAeN,EAAsBjpC,EAAtBipC,uBAAwBQ,EAAkBzpC,EAAlBypC,mBACxHC,EAAiB1pC,EAAjB0pC,kBAAmBC,EAAY3pC,EAAZ2pC,aAAcC,EAAY5pC,EAAZ4pC,aAAcC,EAAY7pC,EAAZ6pC,aAAcE,EAAY/pC,EAAZ+pC,aAC/D,GAAKvB,GAA6B,IAAfA,EAAnB,CAGA,IAAI/gC,EAAMnQ,EAAe,cAAgB0f,EAAc1J,QAAmB,QAATmT,EAAiB,uBAAyB,sBACrGzoB,EAAO,CACX6M,OAAQC,EAAKD,OACbmD,MAAOlD,EAAKkD,MACZgb,YAAa,IACbnT,IAAK24B,EAELh4B,QAAmB,MAAVk4B,GAAAA,EAAYzlB,MAAkB,MAAVylB,OAAU,EAAVA,EAAYl4B,QAAUy4B,EACnD/lB,MAAiB,MAAVwlB,OAAU,EAAVA,EAAYxxB,SACnBiM,gBAAiB,GACjBC,SAAUmmB,EAAcnmB,SACxB8F,YAAaugB,EACbtgB,WAAYugB,EACZtgB,MAAOugB,EACPtgB,MAAOugB,EACPpgB,MAAOqgB,EACPpgB,MAAOsgB,GAETlyC,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,kCAAmC6M,GACgB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACS,QAATmpB,EAAiB,aAAe,aAChC3b,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACU,MAAVo5B,GAAAA,EAAYzlB,MAAkB,MAAVylB,OAAU,EAAVA,EAAYl4B,QAAUy4B,GAE1ChiC,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIxC,QAATulB,EACF/iB,EAAK9D,MAAMiM,MAAMC,OAAOmZ,wBAExBlf,EAAWO,QAEf,GAlDF,CAmDF,GAAC,CAAAtG,IAAA,sBAAAC,MAED,SAAoBsd,EAAMtc,GAAO,IAADoL,EAAA,KACjB,eAATkR,EACFld,KAAK0E,SAAS,CACZ2qC,kBAAmBzuC,IAClB,kBAAMoL,EAAKokC,wBAAwB,IACpB,UAATlzB,EACTld,KAAK0E,SAAS,CACZ4qC,aAAc1uC,IACb,kBAAMoL,EAAKokC,wBAAwB,IACpB,UAATlzB,EACTld,KAAK0E,SAAS,CACZ6qC,aAAc3uC,IACb,kBAAMoL,EAAKokC,wBAAwB,IACpB,UAATlzB,EACTld,KAAK0E,SAAS,CACZ8qC,aAAc5uC,IACb,kBAAMoL,EAAKokC,wBAAwB,IACpB,UAATlzB,GACTld,KAAK0E,SAAS,CACZgrC,aAAc9uC,IACb,kBAAMoL,EAAKokC,wBAAwB,GAE1C,GAAC,CAAAzwC,IAAA,yBAAAC,MAED,WACE,IAAA4M,EAAsFxM,KAAKmD,MAAnFksC,EAAiB7iC,EAAjB6iC,kBAAmBC,EAAY9iC,EAAZ8iC,aAAcC,EAAY/iC,EAAZ+iC,aAAcC,EAAYhjC,EAAZgjC,aAAcE,EAAYljC,EAAZkjC,aACjEL,GAAqBC,GAAgBC,GAAgBC,GAAgBE,EACvE1vC,KAAK0E,SAAS,CACZ0qC,mBAAoB,MAGtBpvC,KAAK0E,SAAS,CACZ0qC,mBAAoB,KAG1B,GAAC,CAAAzvC,IAAA,kBAAAC,MAED,SAAgBsd,GACd,GAAa,SAATA,EACFld,KAAK0E,UAAS,SAACkxB,EAAWr2B,GAAK,MAAM,CACnC4uC,WAAYvY,EAAUuY,WAAa,EACpC,SAEE,GAAa,UAATjxB,EAAkB,CACzB,GAA8B,IAA1Bld,KAAKmD,MAAMgrC,WAAkB,OACjCnuC,KAAK0E,UAAS,SAACkxB,EAAWr2B,GAAK,MAAM,CACnC4uC,WAAYvY,EAAUuY,WAAa,EACpC,GACH,CACF,GAAC,CAAAxuC,IAAA,kBAAAC,MAED,SAAgBgB,GACV2E,MAAM3E,GACRZ,KAAK0E,SAAS,CAAEypC,WAAY,IAE5BnuC,KAAK0E,SAAS,CAAEypC,WAAY1oC,OAAO7E,IAEvC,GAAC,CAAAjB,IAAA,iBAAAC,MAED,SAAesd,GACWhN,EAAAA,QAAWC,IAAI,UAAUnO,MAEpC,QAATkb,EACFld,KAAK0E,SAAS,CACZkrC,UAAW,QAEK,QAAT1yB,EACTld,KAAK0E,SAAS,CACZkrC,UAAW,QAEK,WAAT1yB,EACTld,KAAK0E,SAAS,CACZkrC,UAAW,WAEK,aAAT1yB,GACTld,KAAK0E,SAAS,CACZkrC,UAAW,YAGjB,GAAC,CAAAjwC,IAAA,kBAAAC,MAED,WACE,IAAQgwC,EAAc5vC,KAAKmD,MAAnBysC,UACgB1/B,EAAAA,QAAWC,IAAI,UAAUnO,MACjD,GAAkB,QAAd4tC,EACF5vC,KAAK0E,SAAS,CACZkrC,UAAW,aAER,GAAkB,QAAdA,EACT5vC,KAAK0E,SAAS,CACZkrC,UAAW,gBAER,GAAkB,WAAdA,EACT5vC,KAAK0E,SAAS,CACZkrC,UAAW,kBAER,GAAkB,aAAdA,EACT,MAEJ,GAAC,CAAAjwC,IAAA,kBAAAC,MAED,WACE,IAAQgwC,EAAc5vC,KAAKmD,MAAnBysC,UACgB1/B,EAAAA,QAAWC,IAAI,UAAUnO,MAC/B,QAAd4tC,IAEqB,QAAdA,EACT5vC,KAAK0E,SAAS,CACZkrC,UAAW,QAEU,WAAdA,EACT5vC,KAAK0E,SAAS,CACZkrC,UAAW,QAEU,aAAdA,GACT5vC,KAAK0E,SAAS,CACZkrC,UAAW,WAGjB,GAAC,CAAAjwC,IAAA,kBAAAC,MAED,WAAmB,IAAD8M,EAAA,KAChBiC,EACoH3O,KAAKmD,MADjHlG,EAAY0R,EAAZ1R,aAAcwN,EAAIkE,EAAJlE,KAAe4L,GAAF1H,EAAPb,QAAiBa,EAAR0H,UAAUsG,EAAahO,EAAbgO,cAA2B8xB,GAAF9/B,EAAV0/B,WAAgC1/B,EAApB8/B,sBAAsBC,EAAyB//B,EAAzB+/B,0BAA2BE,EAAsBjgC,EAAtBigC,uBACzHD,EAAmBhgC,EAAnBggC,oBAAqBI,EAA2BpgC,EAA3BogC,4BAA6BF,EAAuBlgC,EAAvBkgC,wBAAyBC,EAAkCngC,EAAlCmgC,mCACzE1hC,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,cAC5DtV,EAAO,CACTopB,gBAAiBpK,EAAc1J,QAE7Bw7B,IACF9wC,EAAKirB,MAAQ6lB,GAEXC,IACF/wC,EAAK0yC,WAAa3B,GAEhBE,IACFjxC,EAAKwY,QAAUy4B,GAEbD,IACFhxC,EAAK2yC,KAAO3B,GAEVI,IACFpxC,EAAK4yC,aAAexB,GAElBF,IACFlxC,EAAKkf,SAAWgyB,EAChBlxC,EAAK6yC,oBAAsB1B,GAE7BhvC,QAAQC,IAAI,uBAAwBpC,GACpCH,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADyZ,EAChBvmB,QAAQC,IAAI,kBAAmB6M,GACgC,OAAhB,OAA/CyZ,EAAAhQ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CoM,EAAiDnM,YAC/Cld,EACEC,EACA,aACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,SAEdrI,EAASE,QACXJ,EAAKhI,SAAS,CACZ4xB,QAAS,uBAKb5pB,EAAKhI,SAAS,CACZ4xB,QAAS1pB,EAAS+H,OAAS,uBAC3Bq6B,WAAYpiC,GAEhB,IACCuB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ1B,EAAKhI,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,iBAAAC,MAED,SAAeiM,GAAO,IAAD4C,EAAA,KACnBzO,KAAK0E,SAAS,CACZuqC,kBAAmBpjC,IAErB,IAAAsL,EAAiEnX,KAAKmD,MAA9DlG,EAAYka,EAAZla,aAAcwN,EAAI0M,EAAJ1M,KAAe4L,GAAFc,EAAPrJ,QAAiBqJ,EAARd,UAAUsG,EAAaxF,EAAbwF,cAC3CvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,aAC5DtV,EAAO,CACTopB,gBAAiBpK,EAAc1J,OAC/Bw9B,eAAgB5kC,EAAK4kC,eACrBtqC,KAAM0F,EAAK1F,KACXuqC,aAAc7kC,EAAK6kC,aACnBH,aAAc1kC,EAAK8kC,aACnBC,eAAgB/kC,EAAK+kC,gBAEvB9wC,QAAQC,IAAI,sBAAuB8L,GACnCrO,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADua,EAChBrnB,QAAQC,IAAI,kBAAmB6M,GACgC,OAAhB,OAA/Cua,EAAA9Q,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CkN,EAAiDjN,YAC/Cld,EACEC,EACA,YACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACApJ,EAAK4kC,eAAiB,IAAM5kC,EAAK1F,MAEjCyG,EAASE,QACX2B,EAAK/J,SAAS,CACZ4xB,QAAS,2BAKb7nB,EAAK/J,SAAS,CACZ2pC,WAAY,CACVzlB,MAAOhc,EAASiZ,UAAU+C,OAAS,GACnCzS,QAASvJ,EAASiZ,UAAU1P,SAAW,GACvC0G,SAAUjQ,EAASiZ,UAAUhJ,UAAY,GACzCuf,YAAaxvB,EAASiZ,UAAUuW,aAAe,GAC/CmS,OAAQ3hC,EAASiZ,UAAU0oB,QAAU,GACrCD,QAAS1hC,EAASiZ,UAAUyoB,SAAW,GACvCE,QAAS5hC,EAASiZ,UAAU2oB,SAAW,IAEzClY,QAAS,wBAEb,IACCnoB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZK,EAAK/J,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,iBAAAC,MAED,WAAkB,IAAD+a,EAAA,KACfpD,EAAiEvX,KAAKmD,MAA9DlG,EAAYsa,EAAZta,aAAcwN,EAAI8M,EAAJ9M,KAAe4L,GAAFkB,EAAPzJ,QAAiByJ,EAARlB,UAAUsG,EAAapF,EAAboF,cAC3CvP,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,wBAEhEzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UANF,CAAC,KAQT8O,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD2a,EAChBznB,QAAQC,IAAI,kBAAmB6M,GACgC,OAAhB,OAA/C2a,EAAAlR,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CsN,EAAiDrN,YAC/Cld,EACEC,EACA,YACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACA,IAEArI,EAASE,QACX6N,EAAKjW,SAAS,CACZ4xB,QAAS1pB,EAASE,UAKtB6N,EAAKjW,SAAS,CACZ2pC,WAAY,CACVzlB,MAAOhc,EAASiZ,UAAU+C,OAAS,GACnCzS,QAASvJ,EAASiZ,UAAU1P,SAAW,GACvC0G,SAAUjQ,EAASiZ,UAAUhJ,UAAY,GACzCuf,YAAaxvB,EAASiZ,UAAUuW,aAAe,GAC/CmS,OAAQ3hC,EAASiZ,UAAU0oB,QAAU,GACrCD,QAAS1hC,EAASiZ,UAAUyoB,SAAW,GACvCE,QAAS5hC,EAASiZ,UAAU2oB,SAAW,IAEzClY,QAAS,eAEb,IACCnoB,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZuM,EAAKjW,SAAS,CACZob,SAAS,GAEb,GACJ,GAAC,CAAAngB,IAAA,0BAAAC,MAED,SAAwBgB,GACtB,IAAAga,EAA4C5a,KAAKmD,MAAzC8qC,EAAUrzB,EAAVqzB,WAAYC,EAAmBtzB,EAAnBszB,oBAChB2C,EAA4B,GAChC7wC,KAAK0E,SAAS,CAAEyqC,oBAAqBvuC,IACrC,IAAIwY,EAAWxY,EAAKC,cACpBf,QAAQC,IAAI,WAAYqZ,GACxBtZ,QAAQC,IAAI,YAAamuC,GAEzB2C,EAA4B5C,EACvBrtC,GAMLiwC,EAA4BA,EAA0Bj/B,QAAO,SAAA/F,GAC3D,OAAOA,EAAKkd,SAASloB,cAAc0Y,SAASH,IAAavN,EAAK1F,KAAKtF,cAAc0Y,SAASH,EAC5F,IACApZ,KAAK0E,SAAS,CACZwpC,oBAAqB2C,KATrB7wC,KAAK0E,SAAS,CACZwpC,oBAAqB2C,GAU3B,GAAC,CAAAlxC,IAAA,SAAAC,MAED,WAAU,IAADqb,EAAA,KACCvV,EAAe1F,KAAKT,MAApBmG,WACRwV,EAK8Clb,KAAKmD,MAL3CijB,EAAIlL,EAAJkL,KAAMzJ,EAAazB,EAAbyB,cAAe3Y,EAA8BkX,EAA9BlX,+BAC3BmqC,EAAUjzB,EAAVizB,WAAYE,EAAUnzB,EAAVmzB,WAAYI,EAAoBvzB,EAApBuzB,qBAAsBC,EAAyBxzB,EAAzBwzB,0BAA2BK,EAA2B7zB,EAA3B6zB,4BACzEF,EAAuB3zB,EAAvB2zB,wBAAyBC,EAAkC5zB,EAAlC4zB,mCAAoCF,EAAsB1zB,EAAtB0zB,uBAC7DM,GADwGh0B,EAAnByzB,oBACxEzzB,EAAbg0B,eAAeC,EAAmBj0B,EAAnBi0B,oBAAqBH,EAAU9zB,EAAV8zB,WAAYC,EAAiB/zB,EAAjB+zB,kBAChDG,EAAkBl0B,EAAlBk0B,mBAAoBC,EAAiBn0B,EAAjBm0B,kBAAmBC,EAAYp0B,EAAZo0B,aAAcC,EAAYr0B,EAAZq0B,aAAcC,EAAYt0B,EAAZs0B,aAAcE,EAAYx0B,EAAZw0B,aACjFpZ,EAAOpb,EAAPob,QAASsZ,EAAS10B,EAAT00B,UAAW1B,EAAmBhzB,EAAnBgzB,oBACtBpuC,QAAQC,IAAI,uBAEZ,IAAM+wC,EAAkB5gC,EAAAA,QAAWC,IAAI,UAAUnO,MAAQ,EAAI,EAC7D,OACE5B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOC,QAAQnE,SAAA,CAExBgI,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3Cb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOG,eAAerE,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOI,cAActE,SAAA,EAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAA,CAAE2G,EAAAA,QAAAA,IAAS,SAAS,IAAEga,EAAc1H,YACzEtY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAW,QAAToqB,EAAiBzjB,EAAAA,QAAAA,IAAS,QAAUA,EAAAA,QAAAA,IAAS,WACvFhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOS,YAAY3E,SAAEs6B,GAAoB,gCAExDl2B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6wC,cAAc/0C,SAAA,EAChCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmd,aAA4B,QAAduyB,GAAuB,CAAEtuC,gBAAiB,UACvFN,QAAS,kBAAMia,EAAK40B,eAAe,MAAM,EAAC7zC,SAAA,CAEzB,OAAfmyC,GACExxC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6d,aAA4B,QAAd6xB,GAAuB,CAAEnvC,MAAOC,EAAMrC,QAASrC,SAC/EmyC,KAGHxxC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6d,aAA4B,QAAd6xB,GAAuB,CAAEnvC,MAAOC,EAAMrC,QAASrC,SAAC,SAIvFW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO4d,QAAuB,QAAd8xB,GAAuB,CAAEnvC,MAAOC,EAAMrC,QAASrC,SAAC,YAIhFoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmd,aAA4B,QAAduyB,GAAuB,CAAEtuC,gBAAiB,UACvFN,QAAS,kBAAMia,EAAK40B,eAAe,MAAM,EAAC7zC,SAAA,CAE9B,MAAVqyC,GAAAA,EAAYzlB,OACVjsB,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6d,aAA4B,QAAd6xB,GAAuB,CAAEnvC,MAAOC,EAAMrC,QAASrC,SACrE,MAAVqyC,OAAU,EAAVA,EAAYzlB,SAGfjsB,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6d,aAA4B,QAAd6xB,GAAuB,CAAEnvC,MAAOC,EAAMrC,QAASrC,SAAC,SAIvFW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO4d,QAAuB,QAAd8xB,GAAuB,CAAEnvC,MAAOC,EAAMrC,QAASrC,SAAC,YAIhFoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmd,aAA4B,WAAduyB,GAA0B,CAAEtuC,gBAAiB,UAC1FN,QAAS,kBAAMia,EAAK40B,eAAe,SAAS,EAAC7zC,SAAA,CAE3CkzC,EAAcnmB,UACZpsB,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6d,aAA4B,WAAd6xB,GAA0B,CAAEnvC,MAAOC,EAAMrC,QAASrC,SAClFkzC,EAAcnmB,YAGjBpsB,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6d,aAA4B,WAAd6xB,GAA0B,CAAEnvC,MAAOC,EAAMrC,QAASrC,SAAC,SAI1FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO4d,QAAuB,WAAd8xB,GAA0B,CAAEnvC,MAAOC,EAAMrC,QAASrC,SAAC,eAInFoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAOmd,aAA4B,aAAduyB,GAA4B,CAAEtuC,gBAAiB,UAC5FN,QAAS,kBAAMia,EAAK40B,eAAe,WAAW,EAAC7zC,SAAA,CAEtB,MAAvBozC,GACEzyC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6d,aAA4B,aAAd6xB,GAA4B,CAAEnvC,MAAOC,EAAMrC,QAASrC,SAAC,SAIxFW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO6d,aAA4B,aAAd6xB,GAA4B,CAAEnvC,MAAOC,EAAMrC,QAASrC,SAAC,QAI5FW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO4d,QAAuB,aAAd8xB,GAA4B,CAAEnvC,MAAOC,EAAMrC,QAASrC,SAAC,mBAMvE,QAAd4zC,GACExvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO8wC,WAAY,CAAEhvC,MAAO8uC,IAAmB90C,SAAA,EAC3DoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO21B,gBAAgB75B,SAAA,EAClCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO41B,YAC9B90B,QAAS,kBAAMia,EAAK0a,gBAAgB,QAAQ,EAAC35B,UAC7CW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,wBAE1C9D,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO61B,aAAa/5B,UAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOiuC,WACvB5mC,mBAAiB,EACjBoW,aAAa,UACb/d,MAAiB,MAAVuuC,OAAU,EAAVA,EAAYp4B,WACnBtO,aAAc,SAACmR,GAAU,OAAKqC,EAAKg2B,gBAAgBr4B,EAAW,OAElEjc,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO+1B,YAC9Bj1B,QAAS,kBAAMia,EAAK0a,gBAAgB,OAAO,EAAC35B,UAC5CW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAOtH,KAAM,GAAI4B,MAAM,2BAG3CL,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,IAAfsrC,GAAoB,CAAE7sC,gBAAiBZ,EAAM1C,WACpFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,GAAI,EAACnyC,UAChDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,IAAfsrC,GAAoB,CAAE7sC,gBAAiBZ,EAAM1C,WACpFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,GAAI,EAACnyC,UAChDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,IAAfsrC,GAAoB,CAAE7sC,gBAAiBZ,EAAM1C,WACpFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,GAAI,EAACnyC,UAChDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,IAAfsrC,GAAoB,CAAE7sC,gBAAiBZ,EAAM1C,WACpFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,GAAI,EAACnyC,UAChDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,YAGpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,IAAfsrC,GAAoB,CAAE7sC,gBAAiBZ,EAAM1C,WACpFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,GAAI,EAACnyC,UAChDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,IAAfsrC,GAAoB,CAAE7sC,gBAAiBZ,EAAM1C,WACpFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,GAAI,EAACnyC,UAChDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,IAAfsrC,GAAoB,CAAE7sC,gBAAiBZ,EAAM1C,WACpFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,GAAI,EAACnyC,UAChDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,IAAfsrC,GAAoB,CAAE7sC,gBAAiBZ,EAAM1C,WACpFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,GAAI,EAACnyC,UAChDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,YAGpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0C,iBAAiB5G,SAAA,EACnCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,IAAfsrC,GAAoB,CAAE7sC,gBAAiBZ,EAAM1C,WACpFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,GAAI,EAACnyC,UAChDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,SAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,KAAfsrC,GAAqB,CAAE7sC,gBAAiBZ,EAAM1C,WACrFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,IAAK,EAACnyC,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,UAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,KAAfsrC,GAAqB,CAAE7sC,gBAAiBZ,EAAM1C,WACrFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,IAAK,EAACnyC,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,UAElCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,OAAuB,KAAfsrC,GAAqB,CAAE7sC,gBAAiBZ,EAAM1C,WACrFgD,QAAS,kBAAMia,EAAKvW,SAAS,CAAEypC,WAAY,IAAK,EAACnyC,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAC,eAKxB,QAAd4zC,GACEjzC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO8wC,WAAY,CAAEhvC,MAAO8uC,IAAmB90C,SAExDgzC,GAAoC,IAAtBA,EAAWr6B,QACxBvU,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsgB,cAAcxkB,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,UACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoe,iBAAkB,CAAE/U,iBAAkB,EAAGxH,eAAgB,kBAAoB/F,UAChGW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,kBAAMia,EAAKvW,SAAS,CAAEsqC,WAAY,IAAK,EAAChzC,UAEjDW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,iBAI9C9D,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAEgzC,EAAWr6B,OAAO,eAE5DhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB8E,8BAA8B,EAC9BiP,KAAMo5B,EACNl5B,aAAc,SAACjK,EAAMiJ,GAAK,OAAKA,EAAMiB,UAAU,EAC/CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOugB,YAAa5U,EAAK4kC,iBAAmBxB,EAAkBwB,gBAAkB,CAAEnvC,gBAAiBZ,EAAM1C,WACjHgD,QAAS,kBAAMia,EAAK80B,eAAelkC,EAAK,EAAC7P,SAAA,EACzCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAK4kC,oBAEtD9zC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO4gB,0BAA2BjV,EAAK4kC,iBAAmBxB,EAAkBwB,gBAAkB,CAAEhwC,MAAO,UAAWzE,SAAA,CAAE6P,EAAKqlC,oBAAoB,IAAErlC,EAAK+kC,wBAGtKj0C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAK1F,UAGV/F,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,qBAAqBllB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOixC,yBAAyBn1C,SAAE6P,EAAK8kC,kBAEtDh0C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,0BAA0BplB,SAAE6P,EAAK6kC,aAAe7kC,EAAK6kC,aAAe,aAG3E,QAKzBtwC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqd,mBAAmBvhB,SAAA,EACrCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,SAAA,EAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOud,SACvB/N,YAAY,SACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAACgnC,GAAoB,OAAKxzB,EAAKvW,SAAS,CAAE+pC,qBAAAA,GAAuB,EAC/E7uC,MAAO6uC,EACPz+B,gBAAiB,kBAAMiL,EAAK60B,iBAAiB,KAE/CnzC,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOud,SACvB/N,YAAY,WACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAACinC,GAAyB,OAAKzzB,EAAKvW,SAAS,CAAEgqC,0BAAAA,GAA4B,EACzF9uC,MAAO8uC,EACP1+B,gBAAiB,kBAAMiL,EAAK60B,iBAAiB,QAGjD1vC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,SAAA,EAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOud,SACvB/N,YAAY,WACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAACmnC,GAAsB,OAAK3zB,EAAKvW,SAAS,CAAEkqC,uBAAAA,GAAyB,EACnFhvC,MAAOgvC,EACP5+B,gBAAiB,kBAAMiL,EAAK60B,iBAAiB,KAE/CnzC,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOud,SAAU,CAAEzb,MAAO,KAC3C2N,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAACqnC,GAAkC,OAAK7zB,EAAKvW,SAAS,CAAEoqC,mCAAAA,GAAqC,EAC3GlvC,MAAOkvC,KAETnyC,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOud,SAAU,CAAEzb,MAAO,MAC3C0N,YAAY,YACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAAConC,GAAuB,OAAK5zB,EAAKvW,SAAS,CAAEmqC,wBAAAA,GAA0B,EACrFjvC,MAAOivC,EACP7+B,gBAAiB,kBAAMiL,EAAK60B,iBAAiB,QAGjD1vC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,SAAA,EAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOud,SACvB/N,YAAY,YACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAACsnC,GAA2B,OAAK9zB,EAAKvW,SAAS,CAAEqqC,4BAAAA,GAA8B,EAC7FnvC,MAAOmvC,EACP/+B,gBAAiB,kBAAMiL,EAAK60B,iBAAiB,KAE/CnzC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGC,WAAY,WAAYC,eAAgB,UAAW/F,UACzEW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAEkH,kBAAmB,GAAIT,OAAQ,GAAIC,OAAQ,EAAGR,aAAc,GAAIX,gBAAiBZ,EAAMzC,KAAM6D,WAAY,SAAUC,eAAgB,UAC5Jf,QAAS,kBAAMia,EAAK+0B,gBAAgB,EAACh0C,UACrCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAIsF,cAAe,YAAa3B,MAAO,SAAUzE,SAAE2G,EAAAA,QAAAA,IAAS,oBAIvHvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,SAAA,EAC/BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOkxC,cAAe,CAAEtvC,WAAY,eAAgB9F,SAAA,EAChEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOmxC,YAAYr1C,SAAC,YACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOoxC,WAAWt1C,UAAY,MAAVqyC,OAAU,EAAVA,EAAYzlB,QAAS,UAExDxoB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkxC,cAAcp1C,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOmxC,YAAYr1C,SAAC,eACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOoxC,WAAWt1C,UAAY,MAAVqyC,OAAU,EAAVA,EAAYG,UAAW,UAE1DpuC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkxC,cAAcp1C,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOmxC,YAAYr1C,SAAC,cACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOoxC,WAAWt1C,UAAY,MAAVqyC,OAAU,EAAVA,EAAYC,UAAW,aAG5DluC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,SAAA,EAC/BoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOkxC,cAAe,CAAEtvC,WAAY,eAAgB9F,SAAA,EAChEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOmxC,YAAYr1C,SAAC,cACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOoxC,WAAWt1C,UAAY,MAAVqyC,OAAU,EAAVA,EAAYl4B,UAAW,UAE1D/V,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkxC,cAAcp1C,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOmxC,YAAYr1C,SAAC,oBACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOoxC,WAAWt1C,UAAY,MAAVqyC,OAAU,EAAVA,EAAYE,SAAU,UAEzDnuC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkxC,cAAcp1C,SAAA,EAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOmxC,YAAYr1C,SAAC,gBACjCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOoxC,WAAWt1C,UAAY,MAAVqyC,OAAU,EAAVA,EAAYjS,cAAe,iBAO1D,WAAdwT,GACEjzC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO8wC,WAAY,CAAEhvC,MAAO8uC,IAAmB90C,UAC3DoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsgB,cAAcxkB,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOme,iBAAiBriB,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoe,iBAAkB,CAAE/U,iBAAkB,IAAKvN,SAAA,EAC9DW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOqe,sBACvB7O,YAAY,oBACZC,qBAAqB,wBACrBlI,aAAc,SAAC0nC,GAAmB,OAAKl0B,EAAKyE,wBAAwByvB,EAAoB,EACxFvvC,MAAOuvC,KAETxyC,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOwe,uBAC9B1d,QAAS,WACPia,EAAKvW,SAAS,CAAEyqC,oBAAqB,GAAID,cAAe,KAAM,kBAAMj0B,EAAKyE,wBAAwB,GAAG,IACpG3F,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,gBAIrD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAEkyC,EAAoBv5B,OAAO,eAErEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAC,CAAE8F,KAAM,IAChB8E,8BAA8B,EAC9BiP,KAAMs4B,EACNp4B,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAA/I,GAAA,IAAGpB,EAAIoB,EAAJpB,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOugB,aACfzf,QAAS,kBAAMia,EAAKvW,SAAS,CAC3BwqC,cAAerjC,EACfsjC,oBAAqBtjC,EAAKkd,UAC1B,EAAC/sB,SAAA,EACHoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwgB,iBAAiB1kB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOygB,qBAAqB3kB,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO0gB,yBAAyB5kB,SAAE6P,EAAKkd,cAEtDpsB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2gB,sBAAsB7kB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO4gB,kCAGxBnkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6gB,kBAAkB/kB,UACpCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO8gB,sBAAsBhlB,SACvC6P,EAAK1F,UAGV/F,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+gB,iBAAiBjlB,SAAA,EACnCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOghB,wBAEpBvkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOihB,sBAAsBnlB,UACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkhB,mCAGP,UAM3BzkB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO8wC,WAAY,CAAEhvC,MAAO8uC,IAAmB90C,UAC3DoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqd,mBAAmBvhB,SAAA,EACrCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,UAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOud,SACvB/N,YAAY,cACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAAC7G,GAAI,OAAKqa,EAAKk1B,oBAAoB,aAAcvvC,EAAK,EACpEhB,MAAOyvC,OAGX1yC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,UAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOud,SAAU,CAAEzb,MAAO,MAC3C0N,YAAY,QACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAAC7G,GAAI,OAAKqa,EAAKk1B,oBAAoB,QAASvvC,EAAK,EAC/DhB,MAAO0vC,OAGX3yC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,UAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOud,SAAU,CAAEzb,MAAO,MAC3C0N,YAAY,QACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAAC7G,GAAI,OAAKqa,EAAKk1B,oBAAoB,QAASvvC,EAAK,EAC/DhB,MAAO2vC,OAGX5yC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,UAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOud,SAAU,CAAEzb,MAAO,MAC3C0N,YAAY,QACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAAC7G,GAAI,OAAKqa,EAAKk1B,oBAAoB,QAASvvC,EAAK,EAC/DhB,MAAO4vC,OAGX7yC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsd,aAAaxhB,UAC/BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAACmE,GAAOud,SAAU,CAAEzb,MAAO,MAC3C0N,YAAY,QACZC,qBAAqB,wBACrB+N,gBAAgB,OAChB5N,aAAa,MACbC,aAAa,EACbtI,aAAc,SAAC7G,GAAI,OAAKqa,EAAKk1B,oBAAoB,QAASvvC,EAAK,EAC/DhB,MAAO8vC,YAMvBtvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqxC,wBAAwBv1C,SAAA,EAC1CoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOsxC,uBACdxwC,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,WACxC9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SACnC2G,EAAAA,QAAAA,IAAS,eAGdvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOsxC,uBACdxwC,QAAS,kBAAMia,EAAKi1B,iBAAiB,EAACl0C,SAAA,EACtCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAOtH,KAAM,GAAI4B,MAAM,WACvC9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAC,aAIzCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOsxC,uBACdxwC,QAAS,kBAAMia,EAAKg1B,iBAAiB,EAACj0C,SAAA,EACtCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,WACxC9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAAC,aAIzCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAOsxC,uBACdxwC,QAAS,kBAAMia,EAAKgD,cAAc,EAACjiB,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAe,QAATigB,EAAiB,aAAe,OAAQvnB,KAAM,GAAI4B,MAAM,WACzE9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgB,kBAAkBlF,SAC1B,QAAToqB,EAAiBzjB,EAAAA,QAAAA,IAAS,QAAUA,EAAAA,QAAAA,IAAS,qBAO5D,KAACqrC,CAAA,CA76BuB,CAAS7sC,EAAAA,WAg7B7Bg1B,GAAYjmB,EAAAA,QAAWC,IAAI,UAAU3N,OAAS,EAE9CtC,GAASkB,EAAAA,QAAWC,OAAO,CAC/BlB,QAAS,CACPmB,gBAAiBZ,EAAMpC,MACvBuD,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElB1B,eAAgB,CACdwB,KAAM,EACN4vC,SAAU,MACVnwC,gBAAiBZ,EAAMpC,MACvB2D,aAAc,EACdC,SAAU,SACVX,SAAU,WACVO,WAAY,UAEdxB,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAETE,YAAa,CACX4B,UAAW,GACXxF,WAAY,eACZ0D,MAAO,QACP6B,UAAW,UAEb6rC,WAAY,CACVnsC,MAAO,OACPjF,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbM,iBAAkB,CAChBd,WAAY,SACZC,eAAgB,SAChBmB,cAAe,OAEjBL,OAAQ,CACNL,OAAQ2zB,GAAY,GACpBn0B,MAAOm0B,GAAY,GACnB1zB,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBT,gBAAiBZ,EAAMrC,MACvB4D,aAAc,GAEhBc,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVsF,cAAe,aAEjByzB,gBAAiB,CACfrzB,OAAQ,GACRU,cAAe,MACfnB,eAAgB,SAChBD,WAAY,UAEdg0B,YAAa,CACXj0B,KAAM,EACNqB,cAAe,MACfnB,eAAgB,WAChBD,WAAY,SACZ0gB,YAAa,IAEfuT,aAAc,CACZl0B,KAAM,EACNE,eAAgB,SAChBD,WAAY,UAEdm0B,YAAa,CACXp0B,KAAM,EACNqB,cAAe,MACfnB,eAAgB,aAChBD,WAAY,SACZquB,WAAY,IAEdqhB,uBAAwB,CACtB3vC,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwvC,wBAAyB,CACvB/uC,OAAQ,IACRD,UAAW,GACXjB,gBAAiBZ,EAAMnC,MACvB2E,cAAe,MACfT,OAAQ,EACRT,MAAO,QAETd,kBAAmB,CACjBnE,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP8B,UAAW,EACXH,cAAe,aAEjB4uC,WAAY,CACVnvC,KAAM,EACNE,eAAgB,SAChBD,WAAY,UAEdivC,cAAe,CACbvuC,OAAQ,GACRU,cAAe,MACfpB,WAAY,SACZC,eAAgB,UAElBsb,aAAc,CACZ/b,gBAAiBZ,EAAMrC,MACvB2D,MAAO,IACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,GACdO,OAAQ,GACR+G,iBAAkB,GAEpBuU,QAAS,CACPhhB,SAAU,GACVC,WAAY,eACZ0D,MAAO,SAETsd,aAAc,CACZjhB,SAAU,GACVC,WAAY,eACZ0D,MAAO,SAET4H,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRX,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf4f,iBAAkB,CAChB7b,OAAQ,GACRU,cAAe,MACfpB,WAAY,UAEdyb,mBAAoB,CAClBhb,UAAW,GACXP,MAAO,IACPF,WAAY,UAEd0b,aAAc,CACZhb,OAAQ,GACRR,MAAO,IACPkB,cAAe,OAEjBua,SAAU,CACRnc,gBAAiBZ,EAAMrC,MACvB4D,aAAc,EACdxB,MAAO,QACP1D,WAAY,eACZD,SAAU,GACV2F,OAAQ,EACRQ,kBAAmB,GACnBjB,MAAO,KAETsc,iBAAkB,CAChBhd,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,GACRS,cAAe,MACfrB,KAAM,EACNC,WAAY,UAEdyc,sBAAuB,CACrB1c,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEVkc,uBAAwB,CACtBlc,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhByvC,2BAA4B,CAC1B50C,SAAU,GACVC,WAAY,eACZ0D,MAAO,QACP2B,cAAe,aAEjBuvC,uBAAwB,CACtB7vC,WAAY,SACZC,eAAgB,SAChBS,OAAQ,KAEV4uC,cAAe,CACbtvC,WAAY,WACZW,OAAQ,EACRT,MAAO,IAAM,GAEfsvC,WAAY,CACVx0C,SAAU,GACVC,WAAY,eACZ0D,MAAO,SAET4wC,YAAa,CACXhvC,QAAS,GACTvF,SAAU,GACVC,WAAY,eACZ0D,MAAO,SAETggB,YAAa,CACX5e,KAAM,EACNY,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEXiY,iBAAkB,CAChBxd,cAAe,OAEjB6d,kBAAmB,CACjB5e,eAAgB,GAElB8e,iBAAkB,CAChB/d,cAAe,OAEjByd,qBAAsB,CACpB9e,KAAM,GAERgf,sBAAuB,CACrBhf,KAAM,EACNC,WAAY,YAEdof,qBAAsB,CACpBrf,KAAM,GAERsf,sBAAuB,CACrBtf,KAAM,EACNC,WAAY,YAEd8e,yBAA0B,CACxBngB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEd+jB,0BAA2B,CACzBrgB,MAAOC,EAAM1C,SACblB,SAAU,GACVC,WAAY,gBAEdikB,sBAAuB,CACrBvgB,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX8uC,yBAA0B,CACxB1wC,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdqkB,0BAA2B,CACzB3gB,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdyjB,cAAe,CACb3e,KAAM,EACNU,UAAW,GACXP,MAAO,IACPV,gBAAiBZ,EAAMrC,MACvB4D,aAAc,K,6cCztCwB,IAErB2vC,GAAI,SAAAzyC,IAAAC,EAAAA,EAAAA,SAAAwyC,EAAAzyC,GAAA,IAAAE,EAAAC,GAAAsyC,GACvB,SAAAA,EAAYryC,GAAQ,IAADsyC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAzyC,EA0BkD,OA1BlDL,EAAAA,EAAAA,SAAA,KAAAoyC,IACjB/xC,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjC6Q,QAASvO,EAAMiM,MAAMC,OAAOqC,QAC5BuI,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SACrCmC,WAAYjZ,EAAMiM,MAAMC,OAAOqC,QAAQ0K,WACvCkO,KAAMnnB,EAAMiM,MAAMC,OAAOqC,QAAQ4Y,KACjC/J,cAAepd,EAAMiM,MAAMC,OAAOkR,cAClCmK,aAAcvnB,EAAMiM,MAAMC,OAAOqb,aACjC3H,kBAAmB5f,EAAMiM,MAAMC,OAAO0T,kBAEtCmH,iBAAkB/mB,EAAMiM,MAAMC,OAAOqC,QAAQ0K,WAAW5G,QAAO,SAAApV,GAAE,QAAMA,EAAG+pB,OAAO5Y,OAASnR,EAAG+pB,OAAO5Y,QAAUpO,EAAMiM,MAAMC,OAAOhB,KAAKkD,QAAkC,MAAxBnR,EAAG+pB,OAAOC,SAAiB,IAE3K1G,SAAS,EACTxG,SAAU/Z,EAAMiM,MAAMC,OAAO0T,kBAAwD,OAAvC0yB,EAAGtyC,EAAMiM,MAAMC,OAAO0T,wBAAiB,EAApC0yB,EAAsCv4B,SAAW/Z,EAAMiM,MAAMC,OAAOqb,aAAaxN,SAClIi5B,UAA8C,OAApCT,EAAAvyC,EAAMiM,MAAMC,OAAO0T,oBAA2B,OAAV4yB,EAApCD,EAAsC5qB,eAAF,EAApC6qB,EAAgDh8B,aAAc,IACxE4B,UAA0D,MAA/CpY,EAAMiM,MAAMC,OAAOqb,aAAaG,WAAqB,IAAO1nB,EAAMiM,MAAMC,OAAO0T,mBAAyD,OAApC6yB,EAAAzyC,EAAMiM,MAAMC,OAAO0T,wBAAiB,EAApC6yB,EAAsCr6B,YAAa,KAAwC,OAAhCs6B,EAAA1yC,EAAMiM,MAAMC,OAAOkR,oBAAa,EAAhCs1B,EAAkCt6B,YAAa,IACzNgS,UAAWpqB,EAAMiM,MAAMC,OAAO0T,kBAAoB5f,EAAMiM,MAAMC,OAAO0T,kBAAkBwK,UAAY,IAEnG6oB,SAAUjzC,EAAMiM,MAAMC,OAAO0T,mBAAyD,OAApC+yB,EAAA3yC,EAAMiM,MAAMC,OAAO0T,wBAAiB,EAApC+yB,EAAsCjhB,UAAW,GAAsD,MAA/C1xB,EAAMiM,MAAMC,OAAOqb,aAAaG,YAAsG,OAAhB,OAAhCkrB,EAAA5yC,EAAMiM,MAAMC,OAAOkR,oBAAa,EAAhCw1B,EAAkCx6B,YAA2G,OAAhB,OAAtEy6B,EAAA7yC,EAAMiM,MAAMC,OAAOqC,QAAQuI,SAAS0C,MAAK,SAAAvc,GAAE,MAAiB,YAAbA,EAAGyd,KAAmB,UAAC,EAAtEm4B,EAAwEl4B,WAAnK,IAAOvX,EAAAA,QAAAA,IAAS,YAAW,KAA4L,GACnX8vC,YAAgD,OAApCJ,EAAA9yC,EAAMiM,MAAMC,OAAO0T,oBAA6B,OAAZmzB,EAApCD,EAAsCI,iBAAF,EAApCH,EAAkDnjC,MAAM,OAAQ,IAG9EtP,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACrE,CAsaC,OAtaAH,EAAAA,EAAAA,SAAAkyC,EAAA,EAAAjyC,IAAA,oBAAAC,MAED,WACEE,QAAQC,IAAI,aAAcC,KAAKmD,MAAM2jB,aAAc9mB,KAAKmD,MAAMgc,kBAChE,GAAC,CAAAxf,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACpB,IAAA+E,EAA6C3F,KAAKmD,MAA7BwC,EAAbgX,cAAgChX,EAAjBwZ,kBACvBnf,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,IAK5B,GAAC,CAAAvE,IAAA,gBAAAC,MAED,SAAcgB,IACPA,GAAQ2E,MAAM3E,GACjBZ,KAAK0E,SAAS,CACZ6tC,SAAU,MAGZvyC,KAAK0E,SAAS,CACZ6tC,SAAU3xC,GAGhB,GAAC,CAAAjB,IAAA,cAAAC,MAED,SAAYsd,GACV,IAAQq1B,EAAavyC,KAAKmD,MAAlBovC,SACJG,EAAiBjtC,OAAO8sC,GAC5B,GAAa,SAATr1B,EACFld,KAAK0E,SAAS,CACZ6tC,UAAWG,EAAiB,GAAG38B,kBAG9B,GAAa,UAATmH,EAAkB,CACzB,GAAIw1B,GAAkB,EAAG,OACzB1yC,KAAK0E,SAAS,CACZ6tC,UAAWG,EAAiB,GAAG38B,YAEnC,CACF,GAAC,CAAApW,IAAA,oBAAAC,MAED,WACE,IAAA4M,EAAgCxM,KAAKmD,MAA7BwU,EAASnL,EAATmL,UACJg7B,EADuBnmC,EAARgmC,SAED,MAAd76B,GACFg7B,EAAiBA,EAAepP,QAAQ,IAAI5gC,EAAAA,QAAAA,IAAS,YAAW,KAAM,IACtEgwC,EAAiB,IAAIhwC,EAAAA,QAAAA,IAAS,YAAW,KAAOgwC,EAChD3yC,KAAK0E,SAAS,CACZiT,UAAW,IACX66B,SAAUG,MAGZA,EAAiBA,EAAepP,QAAQ,IAAI5gC,EAAAA,QAAAA,IAAS,YAAW,KAAM,IACtE3C,KAAK0E,SAAS,CACZiT,UAAW,IACX66B,SAAUG,IAGhB,GAAC,CAAAhzC,IAAA,oBAAAC,MAED,WACE,IAAQ+pB,EAAc3pB,KAAKmD,MAAnBwmB,UACR3pB,KAAK0E,SAAS,CACZilB,UAAyB,MAAdA,EAAoB,IAAM,KAEzC,GAAC,CAAAhqB,IAAA,mBAAAC,MAED,SAAiBiM,GACf7L,KAAK0E,SAAS,CACZkuC,kBAAmB/mC,GAEvB,GAAC,CAAAlM,IAAA,aAAAC,MAED,SAAWiM,GACT,IAAA8C,EAAoD3O,KAAKmD,MAAjDqvC,EAAQ7jC,EAAR6jC,SAAUI,EAAiBjkC,EAAjBikC,kBAAmBH,EAAU9jC,EAAV8jC,WACjCE,EAAiBH,EACjBK,EAAmBJ,EAEkB,MAArCG,EAAkBrsB,OAAOusB,QAEvBL,EAAWxyB,MAAK,SAAAzjB,GAAE,OAAIA,IAAOqP,EAAKoH,OAAO8C,UAAU,KACrD48B,EAAiBA,EAAepP,QAAQ,IAAM13B,EAAK1F,KAAO,KAAM,IAChE0sC,EAAmBA,EAAiBjhC,QAAO,SAAAgV,GAAG,OAAIA,IAAQ/a,EAAKoH,OAAO8C,UAAU,MAEhF48B,GAAkB,IAAM9mC,EAAK1F,KAAO,KACpC0sC,EAAiB/tC,KAAK+G,EAAKoH,OAAO8C,cAIpC68B,EAAkBG,SAASx2C,SAAQ,SAAAC,GACjCm2C,EAAiBA,EAAepP,QAAQ,IAAM/mC,EAAG2J,KAAO,KAAM,IAC9D0sC,EAAmBA,EAAiBjhC,QAAO,SAAAgV,GAAG,OAAIA,IAAQpqB,EAAGyW,OAAO8C,UAAU,GAChF,IACK08B,EAAWxyB,MAAK,SAAAzjB,GAAE,OAAIA,IAAOqP,EAAKoH,OAAO8C,UAAU,MACtD48B,GAAkB,IAAM9mC,EAAK1F,KAAO,KACpC0sC,EAAiB/tC,KAAK+G,EAAKoH,OAAO8C,cAGtC/V,KAAK0E,SAAS,CACZ8tC,SAAUG,EACVF,WAAYI,GAEhB,GAAC,CAAAlzC,IAAA,WAAAC,MAED,WAAY,IAADyD,EAAA,KACDqC,EAAe1F,KAAKT,MAApBmG,WACRyR,EACuFnX,KAAKmD,MADpFlG,EAAYka,EAAZla,aAAcwN,EAAI0M,EAAJ1M,KAAMkS,EAAaxF,EAAbwF,cAAemK,EAAY3P,EAAZ2P,aAAc3H,EAAiBhI,EAAjBgI,kBAAmBuH,EAAIvP,EAAJuP,KAAerQ,GAAFc,EAAPrJ,QAAiBqJ,EAARd,UAAUmC,EAAUrB,EAAVqB,WACnG8N,EAAgBnP,EAAhBmP,iBAAkBhN,EAAQnC,EAARmC,SAAUk5B,EAAQr7B,EAARq7B,SAAUD,EAAQp7B,EAARo7B,SAAU56B,EAASR,EAATQ,UAAWgS,EAASxS,EAATwS,UAAW8oB,EAAUt7B,EAAVs7B,WAGxE,GAAK91B,EAOL,GAAgC,MAA5BA,EAAcnM,UAOlB,GAAIgI,EAAW5G,QAAO,SAAApV,GAAE,MAA0B,MAAtBA,EAAG+pB,OAAOE,UAAoBH,EAAiBrG,MAAK,SAAA2G,GAAG,OAAIA,EAAIL,OAAOM,QAAUrqB,EAAG+pB,OAAOM,KAAK,KAAKH,EAAKzG,MAAK,SAAA2G,GAAG,OAAIA,EAAIrO,SAAWuO,EAAavO,QAAUqO,EAAIC,QAAUrqB,EAAG+pB,OAAOM,KAAK,IAAE,IAAE5G,MAAK,SAAAzjB,GAAE,OAAKA,EAAGu2C,SAAS9yB,MAAK,SAAA2G,GAAG,OAAI6rB,EAAWxyB,MAAK,SAAAzjB,GAAE,OAAIA,IAAOoqB,EAAI3T,OAAO8C,UAAU,GAAC,GAAC,IAC9S/V,KAAK0E,SAAS,CACZV,+BAAgC,6BAChC8b,SAAS,SAKb,GAAIX,EAAmB,CAErB,IAAI/R,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,eAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BkW,oBAAqBhK,EAAkBlM,OACvC+T,YAAawrB,EACbtrB,SAAUqrB,EACV56B,UAAWA,EACX86B,WAAYA,EAAW1kB,KAAK,KAC5BzU,SAAUA,EACVqQ,UAAWA,GAEbnsB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAC+C,OAAhB,OAA/CA,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdqE,GAEJxZ,QAAQC,IAAI,8BAA+B6M,GACvCA,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,cACjDif,SAAS,IAIbpa,EAAWO,QACb,GACJ,KAAO,CAEL,IAAImH,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,eAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbuc,gBAAiBpK,EAAc1J,OAC/BkI,eAAgB2L,EAAa7T,OAC7B+T,YAAawrB,EACbtrB,SAAUqrB,EACV56B,UAAWA,EACX86B,WAAYA,EAAW1kB,KAAK,KAC5BzU,SAAUA,EACVqQ,UAAWA,GAEbnsB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADyZ,EAC+C,OAAhB,OAA/CA,EAAAhQ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CoM,EAAiDnM,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdqE,EACAi5B,GAEJzyC,QAAQC,IAAI,8BAA+B6M,GACvCA,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,cACjDif,SAAS,IAIbpa,EAAWO,QACb,GACJ,MAnGEjG,KAAK0E,SAAS,CACZV,+BAAgC,qBAChC8b,SAAS,SATX9f,KAAK0E,SAAS,CACZV,+BAAgC,gBAChC8b,SAAS,GAyGf,GAAC,CAAAngB,IAAA,SAAAC,MAED,WAAU,IAADozC,EAAAC,EAAAC,EAAAC,EAAAhsB,EAAAnb,EAAA,KACP0C,EAA8B1O,KAAKT,MAA3BmG,EAAUgJ,EAAVhJ,WACR6R,GADyB7I,EAALlD,MAK+DxL,KAAKmD,OAJhF2c,EAAOvI,EAAPuI,QACNrV,EAAI8M,EAAJ9M,KAAM4L,EAAQkB,EAARlB,SAAUyQ,EAAYvP,EAAZuP,aAA6B3H,GAAF5H,EAAboF,cAAgCpF,EAAjB4H,mBAAmBrR,EAAOyJ,EAAPzJ,QAAS4Y,EAAInP,EAAJmP,KAAMlO,EAAUjB,EAAViB,WAAYo6B,EAAiBr7B,EAAjBq7B,kBAC3FtsB,EAAgB/O,EAAhB+O,iBACAhN,EAAQ/B,EAAR+B,SAAUk5B,EAAQj7B,EAARi7B,SAAUD,EAAQh7B,EAARg7B,SAAU56B,EAASJ,EAATI,UAAWgS,EAASpS,EAAToS,UAAW8oB,EAAUl7B,EAAVk7B,WACpDzuC,EAA8BuT,EAA9BvT,+BAAgCC,EAAmBsT,EAAnBtT,oBAAqBC,EAAsBqT,EAAtBrT,uBAEvD,OACE9D,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,MAAO5B,gBAAiB,mBAAoBtF,SAAA,CAE/EiI,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9BO,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3CtE,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEiG,MAAO,OACtBrF,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAK7F,UACxBW,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CAAC0sC,sBAAuB,CAAE19B,SAAU,EAAG5T,WAAY,WAAYC,eAAgB,UACxF4E,8BAA8B,EAAM3K,SAEjB,MAAjB42C,OAAiB,EAAjBA,EAAmBG,SAASpvC,KAAI,SAAAkI,GAAI,IAAAiP,EAAA,OAClC1a,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAA8B/E,MAAO,CAACmE,GAAOmzC,UAAW,CAAE5wC,OAAQ,IAAMgwC,EAAWxyB,MAAK,SAAAzjB,GAAE,OAAIA,IAAOqP,EAAKoH,OAAO8C,UAAU,KAAK,CAAEzU,gBAAiBZ,EAAM1C,WACxKgD,QAAS,kBAAMgL,EAAKsnC,WAAWznC,EAAK,EAAC7P,SAAA,EACrCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOqzC,QAAQv3C,SAAE6P,EAAK1F,OAEd,IAAnB0F,EAAKyP,YACLlb,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEwF,SAAU,WAAYE,KAAM,GAAIE,MAAO,GAAI5E,WAAY,eAAgB0D,MAAOC,EAAM3C,SAAUjB,SAAU,IAAMd,SAAA,CAAE6P,EAAKyP,UAAY,EAAI,GAAK,IAAmB,OAAhBR,EAAEjP,EAAKyP,gBAAS,EAAdR,EAAgBS,QAAQ,QALnK1P,EAAKoH,OAAO8C,WAOhB,SAK3BpZ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,UACvBoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,MAAOuF,QAAS,GAAIzM,SAAA,EACzDoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGY,OAAQ,EAAGnB,gBAAiBZ,EAAMpC,MAAO2D,aAAc,GAAKjG,SAAA,EAClFoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGY,OAAQ,EAAGyF,aAAc,EAAG5G,gBAAiBZ,EAAMlC,OAAQxC,SAAA,EACjFoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE+F,WAAY,SAAUS,UAAW,IAAMvG,SAAA,EACpDoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,MAAOpB,WAAY,SAAUC,eAAgB,UAAW/F,SAAA,EACpFoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAMzC,KAAMnB,SAAU,IAAMd,SAAA,CAAE8qB,EAAavO,OAAO,QACpGnY,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAM3C,SAAUjB,SAAU,IAAMd,SAAA,CAAC,MAAoB,MAAjBmjB,GAA4B,OAAX6zB,EAAjB7zB,EAAmB7D,gBAAF,EAAjB03B,EAA8Bz3B,QAAQ,MAA4B,OAA1B03B,EAAInsB,EAAaxL,gBAAS,EAAtB23B,EAAwB13B,QAAQ,WAEpK5e,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,MAAOjF,WAAY,eAAgB0D,MAAO,QAAS3D,SAAU,GAAIwF,UAAW,SAAUW,kBAAmB,IAC9Iu1B,SAA6B,MAAlB/tB,EAAKuV,UAAoBlS,EAAQmR,WAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,aAAbA,EAAGojB,KAAoB,KAAgC,IAA3BkH,EAAaxL,UAC3Gk4B,WAAS,EACTC,cAAY,EACZ7zC,MAAO0Z,EACP7R,aAAc,SAAA7G,GAAI,OAAIoL,EAAKtH,SAAS,CAAE4U,SAAU1Y,GAAO,QAG3DR,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwzC,WAAW13C,SAAA,EAC7BW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyzC,gBAC9B3yC,QAAS,kBAAMgL,EAAK4nC,YAAY,QAAQ,EAAC53C,UACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,wBAE1C9D,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2zC,iBAAiB73C,UACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAO4zC,aACvBl0C,MAAO2yC,EACP50B,aAAa,UACblW,aAAc,SAAA7G,GAAI,OAAIoL,EAAK+nC,cAAcnzC,EAAK,OAGlDjE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO8zC,gBAC9BhzC,QAAS,kBAAMgL,EAAK4nC,YAAY,OAAO,EAAC53C,UACxCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAOtH,KAAM,GAAI4B,MAAM,2BAG3C9D,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAO+zC,kBACvBT,WAAW,EACX9jC,YAAY,iDACZC,qBAAqB,wBACrB/P,MAAO4yC,EACP/qC,aAAc,SAAA7G,GAAI,OAAIoL,EAAKtH,SAAS,CAAE8tC,SAAU5xC,GAAO,KAEzDR,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CAAC3K,MAAO,CAAE8F,KAAM,GACzB8E,8BAA8B,EAAM3K,SAAA,EAE9B,MAAJ0qB,OAAI,EAAJA,EAAM9U,QAAO,SAAApV,GAAE,OAAIA,EAAG+b,SAAWuO,EAAavO,MAAM,IAAE5D,QAAS,IAC/DvU,EAAAA,EAAAA,MAAAyU,EAAAA,SAAA,CAAA7Y,SAAA,EACEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEyG,OAAQ,GAAIT,eAAgB,SAAUD,WAAY,SAAUR,gBAAiBZ,EAAMpC,OAAStC,UACzGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEqG,cAAe,YAAarF,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMhC,OAAS1C,SAAC,sBAE9GW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg0C,aAAal4C,SAEzB,MAAJ0qB,GAAqD,OAAjDwsB,EAAJxsB,EAAM9U,QAAO,SAAApV,GAAE,OAAIA,EAAG+b,SAAWuO,EAAavO,MAAM,MAAqE,OAApE46B,EAArDD,EAAuDvvC,KAAI,SAAAkI,GAAI,OAAI2M,EAAWO,MAAK,SAAAvc,GAAE,OAAIA,EAAG+pB,OAAOM,QAAUhb,EAAKgb,KAAK,GAAC,UAApH,EAAJssB,EAA2HxvC,KAAI,SAAAkI,GAAI,OACjIlP,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAqC/E,MAAO,CAACmE,GAAOmzC,UAAmC,MAAxBxnC,EAAK0a,OAAOE,SAAmB,CAAEnlB,gBAAiBZ,EAAMzC,OACtI+C,QAAS,kBAAMgL,EAAKmoC,iBAAiBtoC,EAAK,EAAC7P,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOqzC,QAAQv3C,SAAE6P,EAAK0a,OAAOpgB,QAFrB0F,EAAK0a,OAAOtT,OAAO8C,WAGvB,UAM7BpZ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEyG,OAAQ,GAAIT,eAAgB,SAAUD,WAAY,SAAUR,gBAAiBZ,EAAMpC,OAAStC,UACzGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEqG,cAAe,YAAarF,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMhC,OAAS1C,SAAC,sBAE9GW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg0C,aAAal4C,SAEb,MAAhBsqB,OAAgB,EAAhBA,EAAkB3iB,KAAI,SAAAkI,GAAI,OACxBlP,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAqC/E,MAAO,CAACmE,GAAOmzC,UAAmC,MAAxBxnC,EAAK0a,OAAOE,SAAmB,CAAEnlB,gBAAiBZ,EAAMzC,OACtI+C,QAAS,kBAAMgL,EAAKmoC,iBAAiBtoC,EAAK,EAAC7P,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOqzC,QAAQv3C,SAAE6P,EAAK0a,OAAOpgB,QAFrB0F,EAAK0a,OAAOtT,OAAO8C,WAGvB,aAO7B3V,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEyG,OAAQ,IAAKC,OAAQ,EAAGF,UAAW,EAAGW,cAAe,MAAO5B,gBAAiB,SAAUtF,SAAA,EACpGoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAAE8F,KAAM,EAAGC,WAAY,SAAUC,eAAgB,UACxDqZ,SAAU0E,EACV9e,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,SAC/C7B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMlC,MAAO4D,cAAe,aAAcpG,SACvG2G,EAAAA,QAAAA,IAAS,eAGdvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAAE8F,KAAM,EAAGC,WAAY,SAAUC,eAAgB,UACxDqZ,SAAU0E,EACV9e,QAAS,kBAAMgL,EAAKtH,SAAS,CAAEob,SAAS,IAAQ,kBAAM9T,EAAK6R,UAAU,GAAC,EAAC7hB,SAAA,EACvEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,SAC/C7B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMlC,OAAQxC,SAAC,iBAMrFW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEoG,eAAgB,EAAGH,MAAO,KAAOhG,UAC9CoE,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CAAC3K,MAAO,CAAE8F,KAAM,GACzB8E,8BAA8B,EAC9B8Q,sBAAsB,EAAMzb,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,EAAGT,OAAQ,GAAIC,OAAQ,MAEzDrC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAA+B,MAAdqW,EAAoBjX,EAAMnC,MAAQmC,EAAMzC,KAAMgE,aAAc,EAAGQ,OAAQ,GACnM2Y,SAAsC,MAA5B0L,EAAaG,WACvBjmB,QAAS,kBAAMgL,EAAKooC,mBAAmB,EAACp4C,SAAA,EACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBuF,UAAW,SAAU7B,MAAO,QAAS2B,cAAe,aAAcpG,SAAgB,MAAd2b,EAAoBhV,EAAAA,QAAAA,IAAS,UAAYA,EAAAA,QAAAA,IAAS,eACjKhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBuF,UAAW,SAAU7B,MAAO,QAAS3D,SAAU,IAAKd,SAAC,kBAGpC,OAAhB,OAA5CmrB,EAAA9Q,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,aAAbA,EAAGyd,KAAoB,UAAC,EAA5CkN,EAA8CjN,YAC5C9Z,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAA+B,MAAdqoB,EAAoBjpB,EAAMnC,MAAQmC,EAAM1C,SAAUiE,aAAc,EAAGQ,OAAQ,GACvM2Y,SAA4C,OAAjB,MAAjB+D,OAAiB,EAAjBA,EAAmBoE,YAC7BviB,QAAS,kBAAMgL,EAAKqoC,mBAAmB,EAACr4C,SAAA,EACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBuF,UAAW,SAAU7B,MAAO,QAAS2B,cAAe,YAAatF,SAAU,IAAKd,SAAgB,MAAd2tB,EAAoBhnB,EAAAA,QAAAA,IAAS,MAAQA,EAAAA,QAAAA,IAAS,UAC3KhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBuF,UAAW,SAAU7B,MAAO,SAAUzE,SAAC,mBAGpFW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,EAAGT,OAAQ,GAAIC,OAAQ,MAG7D9F,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAAiB,QAASW,aAAc,EAAGQ,OAAQ,GAC9J2Y,SAAU0E,EACV9e,QAAS,kBAAMgL,EAAKtH,SAAS,CAAEob,SAAS,IAAQ,kBAAM9T,EAAK6R,UAAU,GAAC,EAAC7hB,UACvEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,WAEjD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,EAAGT,OAAQ,GAAIC,OAAQ,MAEzD9F,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAAiBZ,EAAMnC,MAAO0D,aAAc,EAAGQ,OAAQ,GAClKzB,QAAS,kBAAMgL,EAAK4nC,YAAY,OAAO,EAAC53C,UACxCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAOtH,KAAM,GAAI4B,MAAM,aAEzC9D,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAAiBZ,EAAMnC,MAAO0D,aAAc,EAAGQ,OAAQ,GAClKzB,QAAS,kBAAMgL,EAAK4nC,YAAY,QAAQ,EAAC53C,UACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,aAE1C9D,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,EAAGT,OAAQ,GAAIC,OAAQ,MAEzD9F,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAAiB,QAASW,aAAc,EAAGQ,OAAQ,GAC9J2Y,SAAU0E,EACV9e,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,UACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,sBAQ/D,KAACozC,CAAA,CAlcsB,CAASzwC,EAAAA,WAsc5BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/B4yC,kBAAmB,CACjBl3C,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IACRlB,gBAAiBZ,EAAMnC,OAEzBm1C,WAAY,CACVlxC,OAAQ,GACRU,cAAe,MACfnB,eAAgB,SAChBD,WAAY,UAEd6xC,gBAAiB,CACf9xC,KAAM,EACNqB,cAAe,MACfnB,eAAgB,WAChBD,WAAY,SACZ0gB,YAAa,IAEfqxB,iBAAkB,CAChBhyC,KAAM,EACNE,eAAgB,SAChBD,WAAY,UAEdkyC,gBAAiB,CACfnyC,KAAM,EACNqB,cAAe,MACfnB,eAAgB,aAChBD,WAAY,SACZquB,WAAY,IAEd2jB,aAAc,CACZ/2C,WAAY,eACZD,SAAU,GACVkF,MAAO,OACPvB,MAAO,QACP6B,UAAW,UAEb4xC,aAAc,CACZzrC,QAAS,EACTvF,cAAe,MACfqf,SAAU,OACVxgB,eAAgB,SAChBT,gBAAiBZ,EAAMlC,OAEzB60C,UAAW,CACTpwC,kBAAmB,GACnBqG,UAAW,GACXvH,eAAgB,SAChBE,aAAc,GACdX,gBAAiBZ,EAAMpC,MACvBmE,OAAQ,GAEV8wC,QAAS,CACPx2C,WAAY,eACZ0D,MAAO,QACP3D,SAAU,M,6cCpgB4B,IAErBw3C,GAAI,SAAAn1C,IAAAC,EAAAA,EAAAA,SAAAk1C,EAAAn1C,GAAA,IAAAE,EAAAC,GAAAg1C,GAEvB,SAAAA,EAAY/0C,GAAQ,IAADM,EAWgD,OAXhDL,EAAAA,EAAAA,SAAA,KAAA80C,IACjBz0C,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXlG,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjCwN,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBkS,cAAepd,EAAMiM,MAAMC,OAAOkR,cAClCtG,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SAErCk+B,oBAAqB,KACrBC,UAAU,GAEZ30C,EAAK40C,qBAAuB50C,EAAK40C,qBAAqBtwC,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACnE,CA2FC,OA3FAH,EAAAA,EAAAA,SAAA40C,EAAA,EAAA30C,IAAA,oBAAAC,MAAA,eAAAyE,GAAAC,EAAAA,EAAAA,UAED,YACE,IAAQowC,SAAiBC,EAAe,eAAAC,2BAAhCF,OACR10C,KAAK0E,SAAS,CAAE6vC,oBAAgC,YAAXG,GACvC,IAAC,yBAAArwC,EAAAM,MAAA,KAAAC,UAAA,EALA,IAKA,CAAAjF,IAAA,uBAAAC,MAED,SAAAhE,GAAsC,IAADyH,EAAA,KAAd6Z,EAAIthB,EAAJshB,KAAMtH,EAAIha,EAAJga,KACnBlQ,EAAe1F,KAAKT,MAApBmG,WACRC,EAAkE3F,KAAKmD,MAA/DlG,EAAY0I,EAAZ1I,aAAcwN,EAAI9E,EAAJ8E,KAAM4L,EAAQ1Q,EAAR0Q,SAAUsG,EAAahX,EAAbgX,cAClCk4B,GADyDlvC,EAAR6uC,SACpC5+B,GACG,QAAhB9W,EAAAA,QAASC,IACE,mBAATme,GACqB,MAAnBtH,EAAKk/B,OAAO,KACdD,EAAaj/B,EAAKmmB,MAAM,IAI9B/7B,KAAK0E,SAAS,CAAE8vC,UAAU,IAAQ,WAChC,IAAIpnC,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,gBAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZJ,OAAQ9C,EAAK8C,OACbqb,MAAOne,EAAKme,MACZ4G,QAASqlB,EACT9tB,gBAAiBpK,EAAc1J,QAEjCzV,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GACJ,GAAKA,EAASpJ,GAIZ,OAAOoJ,EAASC,OAFhB,MADAxJ,EAAKqB,SAAS,CAAE8vC,UAAU,IACpB5nC,CAIV,IACCD,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,+BAAgC6M,GACmB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,eACAwN,EAAKoV,SACLjT,EAASE,QACI,MAAb6P,OAAa,EAAbA,EAAe1H,QACf,GACA4/B,GAEJnvC,EAAWO,QACb,IACCkI,OAAM,SAAAC,GACLtO,QAAQC,IAAI,UAAWnC,KAAKC,UAAUuQ,GACxC,GACJ,GACF,GAAC,CAAAzO,IAAA,SAAAC,MAED,WACE,IAAA8O,EAA8B1O,KAAKT,MAA3BmG,EAAUgJ,EAAVhJ,WACR8G,GADyBkC,EAALlD,MACsBxL,KAAKmD,OAAlBqxC,GAAFhoC,EAAnB+nC,oBAA6B/nC,EAARgoC,UAS7B,OACEp0C,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,SAAA,EACvBW,EAAAA,EAAAA,KAACg4C,EAAAA,eAAc,CACbI,iBAAkBP,EAAW,KAAOx0C,KAAKy0C,qBACzC14C,MAAO,CAAE8F,KAAM,MAEjBzB,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO80C,WAC9Bh0C,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAOtH,KAAM,GAAI4B,MAAM,WACvC9D,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5ChG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+0C,cAAcj5C,UAChCW,EAAAA,EAAAA,KAACiS,EAAAA,QAAQ,CAACzI,KAAK,cAAc1F,MAAO+zC,EAAW,MAAQ,QAAS31C,KAAM,UAI9E,KAACy1C,CAAA,CAzGsB,CAASnzC,EAAAA,WA6G5B+zC,GAAchlC,EAAAA,QAAWC,IAAI,UAAUnO,MACvCmzC,GAAejlC,EAAAA,QAAWC,IAAI,UAAU3N,OAExCtC,GAASkB,EAAAA,QAAWC,OAAO,CAC/B4zC,cAAe,CACb1zC,SAAU,WACVI,MAAOuzC,GAAc,EAAI,IACzBzzC,IAAK0zC,GAAe,EAAI,IACxB9yC,QAAS,GACTL,MAAO,IACPQ,OAAQ,IACRV,WAAY,SACZC,eAAgB,UAElBizC,WAAY,CACVzzC,SAAU,WACVG,KAAM,GACND,IAAK,GACLO,MAAO,IACPQ,OAAQ,IACRV,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBc,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,e,6cCxIqB,IAEnBgzC,GAAK,SAAAj2C,IAAAC,EAAAA,EAAAA,SAAAg2C,EAAAj2C,GAAA,IAAAE,EAAAC,GAAA81C,GAExB,SAAAA,EAAY71C,GAAQ,IAADM,EAawE,OAbxEL,EAAAA,EAAAA,SAAA,KAAA41C,IACjBv1C,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjC0f,cAAepd,EAAMiM,MAAMC,OAAOkR,cAElC04B,KAAM,GACNC,YAAW/1C,EAAMiM,MAAMC,OAAOkR,cAC9B44B,UAAU,EAEVhwB,6BAA6B,GAE/B1lB,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC3F,CAmMC,OAnMAH,EAAAA,EAAAA,SAAA01C,EAAA,EAAAz1C,IAAA,oBAAAC,MAED,WACEI,KAAK0jC,UACP,GAAC,CAAA/jC,IAAA,WAAAC,MAED,WAAY,IAADyD,EAAA,KACTsC,EAAmE3F,KAAKmD,MAAhElG,EAAY0I,EAAZ1I,aAAcwN,EAAI9E,EAAJ8E,KAAMkS,EAAahX,EAAbgX,cAAe24B,EAAS3vC,EAAT2vC,UAAWC,EAAQ5vC,EAAR4vC,SAClDnoC,EAAMnQ,EAAe,gBACnBwO,EAAS,IAAI4B,gBACnBkoC,GAAY9pC,EAAO6B,OAAO,OAAQ7C,EAAKoV,UACvCy1B,GAAa7pC,EAAO6B,OAAO,OAAQqP,EAAc1H,SAEjDzX,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACAA,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDwC,EAAKqB,SAAS,CACZ2wC,KAAMzoC,GAEV,GACJ,GAAC,CAAAjN,IAAA,SAAAC,MAED,WAAU,IAADoM,EAAA,KACPQ,EAAyExM,KAAKmD,MAAtElG,EAAYuP,EAAZvP,aAAcwN,EAAI+B,EAAJ/B,KAAMkS,EAAanQ,EAAbmQ,cAAe24B,EAAS9oC,EAAT8oC,UAAWC,EAAQ/oC,EAAR+oC,SAAUF,EAAI7oC,EAAJ6oC,KAEhE,KAAIA,EAAK1gC,OAAS,IAAlB,CACA,IAAIvH,EAAMnQ,EAAe,gBACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU+nC,EAAKA,EAAK1gC,OAAS,GAAG1B,QAC9CsiC,GAAY9pC,EAAO6B,OAAO,OAAQ7C,EAAKoV,UACvCy1B,GAAa7pC,EAAO6B,OAAO,OAAQqP,EAAc1H,SAEjDzX,MADA4P,GAAQ,IAAM3B,EACH,CACThO,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACAA,EAASE,QACXd,EAAKtH,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrDmL,EAAKtH,SAAS,CACZ2wC,KAAK,GAADlJ,QAAAv+B,EAAAA,EAAAA,SAAMynC,IAAIznC,EAAAA,EAAAA,SAAKhB,KAEvB,GArB0B,CAsB9B,GAAC,CAAAjN,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,gBAAAC,MAED,WAAiB,IAAD8M,EAAA,KACN4oC,EAAct1C,KAAKmD,MAAnBmyC,UACRt1C,KAAK0E,SAAS,CACZ4wC,WAAYA,IACX,kBAAM5oC,EAAKg3B,UAAU,GAC1B,GAAC,CAAA/jC,IAAA,eAAAC,MAED,WAAgB,IAAD6O,EAAA,KACL8mC,EAAav1C,KAAKmD,MAAlBoyC,SACRv1C,KAAK0E,SAAS,CACZ6wC,UAAWA,IACV,kBAAM9mC,EAAKi1B,UAAU,GAC1B,GAAC,CAAA/jC,IAAA,SAAAC,MAED,WAAU,IAAD+a,EAAA,KACCjV,EAAe1F,KAAKT,MAApBmG,WACRiJ,EAEqC3O,KAAKmD,MAFlCsH,EAAIkE,EAAJlE,KAAMkS,EAAahO,EAAbgO,cACZ04B,EAAI1mC,EAAJ0mC,KAAME,EAAQ5mC,EAAR4mC,SAAUD,EAAS3mC,EAAT2mC,UAChBtxC,EAA8B2K,EAA9B3K,+BAGF,OAFAlE,QAAQC,IAAI,aAGVK,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BgI,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3CtE,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOgmC,eAAelqC,UACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,UACvBoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAO1F,MAAM,QAAQ5B,KAAM,MAC3ClC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,kBAIhDvC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOimC,gBAAgBnqC,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOI,cAAeU,QAAS,kBAAM2Z,EAAK66B,SAASzJ,eAAe,CAAEzL,UAAU,EAAM0L,OAAQ,GAAI,EAAChwC,SAAA,EACxHW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,iBAAiBvE,SAAE2G,EAAAA,QAAAA,IAAS,aAChDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOM,oBAAoBxE,SAAE2G,EAAAA,QAAAA,IAAS,YACnDhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOK,uBAEtB5D,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf2c,IAAK,SAAAA,GAAG,OAAI7D,EAAK66B,SAAWh3B,CAAG,EAC/B7X,8BAA8B,EAC9BiP,KAAMy/B,EACNhQ,sBAAuB,GACvBC,aAAc,kBAAM3qB,EAAKqoB,QAAQ,EACjCltB,aAAc,SAACjK,GAAI,OAAKA,EAAKoH,OAAO8C,UAAU,EAC9CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAWjQ,EAALkZ,MAAK,OACxB1U,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CACT3K,MAAO,CAAEuN,UAAW,GAAIL,gBAAiB,GACzCmqC,sBAAuB,CAAEtxC,WAAY,UACrCqY,YAAU,EACVs7B,wBAAwB,EACxB9V,gCAAgC,EAAM3jC,SAAA,EACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOw1C,UAAW,CAAEpzC,UAAW,QAASN,MAAO,GAAIvB,MAAOC,EAAMjC,QAASzC,SAAE2P,IAAOE,EAAKm/B,YAAY11B,OAAO,UACxH3Y,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOw1C,UAAW,CAAEvlB,WAAY,KAAOn0B,SAAE2P,IAAOE,EAAKm/B,YAAY11B,OAAO,YACtFlV,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEiG,MAAO,GAAIuH,iBAAkB,EAAGzH,WAAY,UAAY9F,SAAA,CAErD,gBAAd6P,EAAK3O,OACLP,EAAAA,EAAAA,KAAC+zB,GAAAA,QAAQ,CAACvqB,KAAK,OAAOtH,KAAM,GAAI4B,MAAOC,EAAM3C,SAAUhC,MAAO,CAAEo0B,WAAY,KAG9D,eAAdtkB,EAAK3O,OACLP,EAAAA,EAAAA,KAAC8zB,GAAAA,QAAW,CAACtqB,KAAK,OAAOtH,KAAM,GAAI4B,MAAOC,EAAM1C,SAAUjC,MAAO,CAAC,IAGpD,mBAAd8P,EAAK3O,OACLP,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,iBAAiBtH,KAAM,GAAI4B,MAAOC,EAAMzC,KAAMlC,MAAO,CAAC,IAGrE,oBAAd8P,EAAK3O,OACLP,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,YAAYtH,KAAM,GAAI4B,MAAOC,EAAM3C,SAAUhC,MAAO,CAAC,KAGnE,eAAd8P,EAAK3O,MAAuC,iBAAd2O,EAAK3O,MAA0C,mBAAd2O,EAAK3O,OAA8B2O,EAAKzO,QACxGT,EAAAA,EAAAA,KAAC6a,GAAAA,QAAsB,CAACrR,KAAK,iBAAiBtH,KAAM,GAAI4B,MAAOC,EAAM1C,SAAUjC,MAAO,CAAC,QAG3FqE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOw1C,UAAW,CAAEj1C,MAAOC,EAAMjC,QAASzC,SAAA,CAAE6P,EAAK1O,KAAK,QACpER,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOw1C,UAAW,CAAEvlB,WAAY,EAAG1vB,MAAOC,EAAMzC,OAAQjC,SAAE6P,EAAK3O,OAE3E2O,EAAKvO,OACL8C,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOw1C,UAAW,CAAEvlB,WAAY,EAAG1vB,MAAOC,EAAM3C,WAAY/B,SAAA,CAAC,IAAE6P,EAAKvO,KAAK,OAGvFuO,EAAKtO,OACL6C,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOw1C,UAAW,CAAEvlB,WAAY,EAAG1vB,MAAOC,EAAM5C,SAAU9B,SAAA,CAAC,IAAM6P,EAAKtO,KAAK,OAGzFsO,EAAKxO,OACL+C,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOw1C,UAAW,CAAEvlB,WAAY,EAAG1vB,MAAOC,EAAM1C,WAAYhC,SAAA,CAAC,IAAE6P,EAAKxO,QAGlFwO,EAAKzO,OACLgD,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOw1C,UAAW,CAAEvlB,WAAY,EAAG1vB,MAAOC,EAAMvC,QAASnC,SAAA,CAAC,IAAE6P,EAAKzO,KAAK,SAE3E,QAInBT,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOumC,eAAezqC,UACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,SAAA,EACvBoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAC/B7B,QAAS,kBAAM2Z,EAAKg7B,cAAc,EAAC35C,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,QACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAYgM,cAAe,EAAE/S,SAAEu5C,EAAW9qC,EAAKoV,SAAcld,EAAAA,QAAAA,IAAS,OAAM,IAAIA,EAAAA,QAAAA,IAAS,cAE/GvC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAC/BuY,UAAWuB,EACX3b,QAAS,kBAAM2Z,EAAKi7B,eAAe,EAAC55C,SAAA,EACpCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,aACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAEs5C,EAAe3yC,EAAAA,QAAAA,IAAS,SAAQ,IAAIga,EAAc1H,QAAetS,EAAAA,QAAAA,IAAS,OAAM,IAAIA,EAAAA,QAAAA,IAAS,qBAM1I,KAACyyC,CAAA,CAnNuB,CAASj0C,EAAAA,WAsN7BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzB6nC,eAAgB,CACdrkC,KAAM,EACNqB,cAAe,MACfuF,QAAS,IAEX09B,gBAAiB,CACftkC,KAAM,EACNM,eAAgB,GAChBF,aAAc,EACdX,gBAAiBZ,EAAMnC,OAEzBkoC,eAAgB,CACd5kC,KAAM,EACNqB,cAAe,MACfuF,QAAS,IAEXJ,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBL,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjB9B,cAAe,CACb6B,eAAgB,GAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,GACTC,UAAW,UAEb9B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP6B,UAAW,UAEbozC,UAAW,CACT34C,WAAY,eACZ0D,MAAO,QACP3D,SAAU,M,6cCpR4C,IAErC+4C,GAAQ,SAAA12C,IAAAC,EAAAA,EAAAA,SAAAy2C,EAAA12C,GAAA,IAAAE,EAAAC,GAAAu2C,GAE3B,SAAAA,EAAYt2C,GAAQ,IAADM,EAgCwE,OAhCxEL,EAAAA,EAAAA,SAAA,KAAAq2C,IACjBh2C,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjC6Q,QAASvO,EAAMiM,MAAMC,OAAOqC,QAE5BmR,WAAY1f,EAAMiM,MAAMC,OAAOqC,QAAQmR,WACvC5I,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SACrCgC,MAAO,GACPgqB,eAAgB,GAChB1pB,SAAU,GAEVm9B,SAAU,GACVl9B,WAAY,GACZH,YAAa,MAEbs9B,gCAAgC,EAChC/xC,gCAAgC,EAChCC,qBAAqB,EACrBC,uBAAwB,GAExB4b,SAAS,GAEXjgB,EAAKm2C,iBAAmBn2C,EAAKm2C,iBAAiB7xC,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAKo2C,oBAAsBp2C,EAAKo2C,oBAAoB9xC,MAAIC,EAAAA,EAAAA,SAAAvE,IACxDA,EAAKq2C,uBAAyBr2C,EAAKq2C,uBAAuB/xC,MAAIC,EAAAA,EAAAA,SAAAvE,IAC9DA,EAAKoe,aAAepe,EAAKoe,aAAa9Z,MAAIC,EAAAA,EAAAA,SAAAvE,IAC1CA,EAAKs2C,iBAAmBt2C,EAAKs2C,iBAAiBhyC,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAK0qC,iBAAmB1qC,EAAK0qC,iBAAiBpmC,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAK+e,8BAAgC/e,EAAK+e,8BAA8Bza,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC3F,CAmeC,OAneAH,EAAAA,EAAAA,SAAAm2C,EAAA,EAAAl2C,IAAA,oBAAAC,MAED,WACEI,KAAKiZ,QACLjZ,KAAKo2C,WACP,GAAC,CAAAz2C,IAAA,QAAAC,MAED,WAAS,IAADyD,EAAA,KACNsC,EAAgC3F,KAAKmD,MAA7BlG,EAAY0I,EAAZ1I,aAAcwN,EAAI9E,EAAJ8E,KAClB2C,EAAMnQ,EAAe,qBACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7BH,GAAQ,IAAM3B,EACd3L,QAAQC,IAAIqN,GACZ5P,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACAA,EAASE,QACXhN,QAAQC,IAAI6M,EAASE,SAErBzJ,EAAKqB,SAAS,CACZiU,SAAU/L,GAGhB,GACJ,GAAC,CAAAjN,IAAA,YAAAC,MAED,WAAa,IAADoM,EAAA,KACVQ,EAAgCxM,KAAKmD,MAA7BlG,EAAYuP,EAAZvP,aAAcwN,EAAI+B,EAAJ/B,KAClB2C,EAAMnQ,EAAe,YACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7BH,GAAQ,IAAM3B,EACd3L,QAAQC,IAAIqN,GACZ5P,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACAA,EAASE,QACXhN,QAAQC,IAAI6M,EAASE,SAErBd,EAAKtH,SAAS,CACZ2T,OAAKzK,EAAAA,EAAAA,SAAM,IAAIsK,IAAItL,EAASjJ,KAAI,SAAAwU,GAAC,MAAI,CAACA,EAAEI,OAAQJ,EAAE,KAAGjK,UACrDm0B,gBAAcz0B,EAAAA,EAAAA,SAAM,IAAIsK,IAAItL,EAASjJ,KAAI,SAAAwU,GAAC,MAAI,CAACA,EAAEI,OAAQJ,EAAE,KAAGjK,WAGpE,GACJ,GAAC,CAAAvO,IAAA,mBAAAC,MAED,SAAiBiM,GACf,IAAA8C,EAAsC3O,KAAKmD,MAA5B2yC,GAAFnnC,EAAL0J,MAAe1J,EAARmnC,UAAUn9B,EAAQhK,EAARgK,SACzB,IAAIm9B,EAAS71B,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAAjD,CAGE,IAAIojC,EAAiBP,EACjBQ,EAAazqC,EACXiN,EAAgB,MAARH,OAAQ,EAARA,EAAUI,MAAK,SAAAvc,GAAE,OAAIA,EAAG2e,iBAAmBtP,EAAKoH,MAAM,IACpEqjC,EAAW9lC,WAAiB,MAALsI,OAAK,EAALA,EAAOtI,YAAa,IAC3C6lC,EAAevxC,KAAKwxC,GACpBt2C,KAAK0E,SAAS,CACZoxC,SAAUO,GAEd,CACF,GAAC,CAAA12C,IAAA,sBAAAC,MAED,SAAoBiM,GAClB,IAAAsL,EAA4BnX,KAAKmD,MAC7BkzC,GADSl/B,EAALkB,MAAelB,EAAR2+B,UAEfO,EAAiBA,EAAezkC,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IACtEjT,KAAK0E,SAAS,CACZoxC,SAAUO,GAEd,GAAC,CAAA12C,IAAA,eAAAC,MAED,WACE,IAAQk2C,EAAa91C,KAAKmD,MAAlB2yC,SACJpyC,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM,MAAOgD,WAAY,qBACxC5D,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAU,cACV3C,KAAM,UAAYk1C,EAASnhC,OAAS,UACpCnR,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,GAEzB,GAAC,CAAAtE,IAAA,mBAAAC,MAED,SAAiBmgB,GAAc,IAADrT,EAAA,KACpBhH,EAAe1F,KAAKT,MAApBmG,WACR6R,EAA+DvX,KAAKmD,MAA5DsH,EAAI8M,EAAJ9M,KAAM4L,EAAQkB,EAARlB,SAAU4I,EAAU1H,EAAV0H,WAAYhiB,EAAYsa,EAAZta,aAAc64C,EAAQv+B,EAARu+B,SAClD,GAAwB,MAAlBrrC,EAAKuV,UAAoBf,EAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,eAAbA,EAAGojB,KAAsB,KAAOG,EAArF,CAOA,IAKMw2B,EALeT,EAASnyC,KAAI,SAAAnH,GAAE,MAAK,CACvCyW,OAAQzW,EAAGyW,OACXujC,aAA+B,MAAjBh6C,EAAGgU,UAAoB,IAAM,IAC5C,IAEsCzC,QAAO,SAACwlB,EAAM/2B,GAAS,OAAO+2B,EAAO/2B,EAAGyW,OAAS,IAAMzW,EAAGg6C,aAAe,GAAK,GAAG,IAEpHppC,EAAMnQ,EAAe,sBACnBU,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZH,OAAQ9C,EAAK8C,OACbgpC,gBAAiBA,GAGnBv2C,KAAK0E,SAAS,CACZob,SAAS,IAGXtiB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,mCACmD,OAAhB,OAA/C4Z,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT,GACA,GACAgpC,EAASnyC,KAAI,SAAAnH,GAAE,MAAK,CAClB+b,OAAQ/b,EAAG+b,OACXi+B,aAA+B,MAAjBh6C,EAAGgU,UAAoB,IAAM,IAC5C,IAAGzC,QAAO,SAACwlB,EAAM/2B,GAAS,OAAO+2B,EAAO/2B,EAAG+b,OAAS,IAAM/b,EAAGg6C,aAAe,GAAK,GAAG,KAErF5pC,EAASE,QACXJ,EAAKhI,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,cACjDif,SAAS,IAIbpa,EAAW0F,SAAS,QAAS,CAAEM,KAAM,IAAIqgB,MAC3C,IACC5d,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ1B,EAAKhI,SAAS,CACZob,SAAS,GAEb,GA3DF,MAJE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,GAgEnC,GAAC,CAAA9f,IAAA,mBAAAC,MAED,SAAiBgB,GACf,IAAAga,EAA8C5a,KAAKmD,MAA3CkV,EAAKuC,EAALvC,MACJiqB,GADyB1nB,EAAdynB,eAA0BznB,EAAVhC,WACJ,IAC3B5Y,KAAK0E,SAAS,CACZkU,WAAYhY,EACZ6X,YAAa,QAEf,IAAIW,EAAWxY,EAAKC,cAEpByhC,EAAuBjqB,EAElBzX,GAML0hC,EAAuBA,EAAqB1wB,QAAO,SAAA/F,GACjD,OAAOA,EAAKyN,SAASzY,cAAc0Y,SAASH,IAAavN,EAAK0M,OAAO1X,cAAc0Y,SAASH,EAC9F,IACApZ,KAAK0E,SAAS,CACZ29B,eAAgBC,KAThBtiC,KAAK0E,SAAS,CACZ29B,eAAgBC,GAUtB,GAAC,CAAA3iC,IAAA,yBAAAC,MAED,WACE,IAAAsb,EAAyClb,KAAKmD,MAAtCsV,EAAWyC,EAAXzC,YAAaJ,EAAK6C,EAAL7C,MAAOM,EAAQuC,EAARvC,SACR,kBAAhBF,EACFzY,KAAK0E,SAAS,CACZ29B,eAAgBhqB,EAChBO,WAAY,GACZH,YAAa,QAEU,QAAhBA,GACTzY,KAAK0E,SAAS,CACZ29B,eAAgBhqB,EAAMzG,QAAO,SAAApV,GAAE,OAAImc,EAASsH,MAAK,SAAA2G,GAAG,OAAIA,EAAIzL,iBAAmB3e,EAAGyW,QAA4B,MAAlB2T,EAAIpW,SAAiB,GAAC,IAClHoI,WAAY,GACZH,YAAa,iBAGnB,GAAC,CAAA9Y,IAAA,gCAAAC,MAED,SAA8BgB,GAAO,IAAD6N,EAAA,KAClCqN,EAAyC9b,KAAKmD,MAAtCsH,EAAIqR,EAAJrR,KAAMxN,EAAY6e,EAAZ7e,aAAcoZ,EAAQyF,EAARzF,SAC5B,GAAKzV,EAAL,CAMA,IAAIwM,EAAMnQ,EAAe,iBACnBU,EAAO,CACXgQ,MAAOlD,EAAKkD,MACZrD,WAAY1J,EACZgf,MAAO,cAETpiB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADyZ,EAChBvmB,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/CyZ,EAAAhQ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CoM,EAAiDnM,YAC/Cld,EACEC,EACA,4BACAwN,EAAKoV,SACLjT,EAASE,QACT,GACA,GACAF,EAASpC,QAEToC,EAASE,QACX2B,EAAK/J,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrD4N,EAAK/J,SAAS,CACZ+a,6BAA6B,IAE/BhR,EAAK0nC,iBAAiBvpC,EAASpC,QACjC,IACC2D,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZK,EAAK/J,SAAS,CACZob,SAAS,GAEb,GA7CF,MAJE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,GAiDnC,GAAC,CAAA9f,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACpBZ,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,KAErBtD,GAGQ,qBAATA,GACFZ,KAAKm2C,kBAET,GAAC,CAAAx2C,IAAA,aAAAC,MAED,SAAWiM,GAAO,IAAD8O,EAAA,KACPhC,EAAa3Y,KAAKmD,MAAlBwV,SACFG,EAAgB,MAARH,OAAQ,EAARA,EAAUI,MAAK,SAAAvc,GAAE,OAAIA,EAAG2e,iBAAmBtP,EAAKoH,MAAM,IAEpE,OACE7S,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAO0G,KACd5F,QAAS,kBAAM2Z,EAAKq7B,iBAAiBnqC,EAAK,EAAC7P,SAAA,EAC3CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwI,cAAc1M,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAK0M,YAE/C5b,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyI,eAAe3M,SAEV,OAAhB,MAAL8c,OAAK,EAALA,EAAOtI,YACL7T,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,mBAAoB,CAAEvG,MAAOC,EAAMzC,OAAQjC,SAAC,cAEjEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,mBAAoB,CAAEvG,MAAOC,EAAM3C,WAAY/B,SAAC,iBAI7EW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,UAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAChC6P,EAAKyN,cAGVlZ,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0I,cAAc5M,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAM3C,WAAY/B,SAAA,CAAC,OAAK6P,EAAK22B,SAAW,UAE5F7lC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2I,eAAe7M,UACjCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOkH,mBAAmBpL,SAAA,CAAC,IAAE6P,EAAKyP,UAAUC,QAAQ,aAK3E,GAAC,CAAA5b,IAAA,SAAAC,MAED,WAAU,IAADqb,EAAA,KACCvV,EAAe1F,KAAKT,MAApBmG,WACRmiB,EAEe7nB,KAAKmD,MAFZsH,EAAIod,EAAJpd,KAAM43B,EAAcxa,EAAdwa,eAAgByT,EAAQjuB,EAARiuB,SAAUl9B,EAAUiP,EAAVjP,WAAYH,EAAWoP,EAAXpP,YAClDgH,EAA2BoI,EAA3BpI,4BAA6Bzb,EAA8B6jB,EAA9B7jB,+BAAgCC,EAAmB4jB,EAAnB5jB,oBAAqBC,EAAsB2jB,EAAtB3jB,uBAClF4b,EAAO+H,EAAP/H,QAGF,OAFAhgB,QAAQC,IAAI,gBAGVK,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BiI,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9BO,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,mCAGzCwe,IACA9iB,EAAAA,EAAAA,KAACgiB,GAAoB,CACnBlU,KAAMA,EACNqU,mBAAmB,aACnBF,8BAA+B5e,KAAK4e,iCAExCxe,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5ChG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkG,2BAIxBzJ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEC,aAAc,IAAKvK,SAAA,EACxDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+H,UAAUjM,SAAA,EAC5BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOiI,oBACvBuH,YAAY,oBACZC,qBAAqB,wBACrB/P,MAAOgZ,EACPnR,aAAc,SAACmR,GAAU,OAAKqC,EAAKsvB,iBAAiB3xB,EAAW,KAEjEjc,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOkI,gBAC9BpH,QAAS,WACPia,EAAKvW,SAAS,CAAEkU,WAAY,KAAM,kBAAMqC,EAAKsvB,iBAAiB,GAAG,IACjExwB,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,cAGnD4B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOoI,kBAC9BtH,QAAS,kBAAMia,EAAKi7B,wBAAwB,EAACl6C,UAE7CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAEyc,OAE1C9b,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqI,mBAAmBvM,UACrCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAEqmC,EAAe1tB,OAAO,kBAGlEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf+T,KAAMysB,EACN17B,8BAA8B,EAC9BmP,aAAc,SAACjK,EAAMiJ,GAAK,OAAKA,EAAMiB,UAAU,EAC/CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OAAOoP,EAAKjF,WAAWnK,EAAK,QAGnDlP,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1BpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEsB,YAAa,IAAK5L,SAAA,EACvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO+H,UAAW,CAAE3G,gBAAiBZ,EAAMnC,WAEzD6B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO6J,qBAAsB,CAAElI,KAAM,IAAK7F,UACtDoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAA,CAAE85C,EAASnhC,OAAO,iBAElDhY,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAO+J,qBAAsB,CAAEpI,KAAM,IAAK7F,UACtDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,qBAGnCW,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CAAC3K,MAAO,CAAE8F,KAAM,GACzB8E,8BAA8B,EAAM3K,SAElC85C,EACEA,EAASnyC,KAAI,SAACkI,EAAMiJ,GAAK,OACvB1U,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAEf/E,MAAOmE,GAAO0G,KACd5F,QAAS,kBAAMia,EAAKg7B,oBAAoBpqC,EAAK,EAAC7P,SAAA,EAC9CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwI,cAAc1M,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAK0M,YAE/C5b,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyI,eAAe3M,SAEZ,MAAnB6P,EAAK2E,WACH7T,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,mBAAoB,CAAEvG,MAAOC,EAAM3C,WAAY/B,SAAC,YAErEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,mBAAoB,CAAEvG,MAAOC,EAAMzC,OAAQjC,SAAC,mBAIzEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,UAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAChC6P,EAAKyN,cAGVlZ,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0I,cAAc5M,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAM3C,WAAY/B,SAAA,CAAC,OAAK6P,EAAK22B,SAAW,UAE5F7lC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2I,eAAe7M,UACjCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOkH,mBAAmBpL,SAAA,CAAC,IAAE6P,EAAKyP,UAAUC,QAAQ,aA1BhEzG,EA6BY,IAEnB,WAIVnY,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAASid,GAA+B,IAApBg2B,EAASnhC,SAAiB,CAAEtS,QAAS,KACxF+Y,SAAU0E,GAA+B,IAApBg2B,EAASnhC,OAC9B3T,QAAS,kBAAMia,EAAKgD,cAAc,EAACjiB,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,QACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,wBAOxD,KAACkzC,CAAA,CAtgB0B,CAAS10C,EAAAA,WAygBhCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,EACNqB,cAAe,OAEjByE,eAAgB,CACd9F,KAAM,EACNqB,cAAe,OAEjBmD,iBAAkB,CAChBxE,KAAM,EACNP,gBAAiBZ,EAAMrC,OAEzBiI,eAAgB,CACdzE,KAAM,GAER4E,cAAe,CACb5E,KAAM,EACNP,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdiB,cAAe,SACfqf,SAAU,OACVzgB,WAAY,UACZC,eAAgB,SAChBG,SAAU,UAEZ+F,UAAW,CACT3G,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,EACRF,UAAW,GACX2F,aAAc,EACdhF,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEV4F,gBAAiB,CACf5F,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBoF,kBAAmB,CACjBzG,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwG,mBAAoB,CAClB1G,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfmI,KAAM,CACJnE,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEX3B,UAAW,CACT5D,cAAe,OAEjB+D,WAAY,CACV9E,eAAgB,GAElBgF,UAAW,CACTjE,cAAe,OAEjBwF,cAAe,CACb7G,KAAM,GAER8G,eAAgB,CACd9G,KAAM,EACNC,WAAY,YAEd8G,cAAe,CACb/G,KAAM,GAERgH,eAAgB,CACdhH,KAAM,EACNC,WAAY,YAEdiF,kBAAmB,CACjBtG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdiK,mBAAoB,CAClBvG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdmK,eAAgB,CACdzG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+E,mBAAoB,CAClB3G,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdgJ,kBAAmB,CACjBlE,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB6E,cAAe,UAEjB8C,gBAAiB,CACfnE,KAAM,EACNoB,kBAAmB,GACnB6F,WAAY,IAEdjG,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBgE,mBAAoB,CAClB7D,UAAW,IAEbyG,UAAW,CACT1H,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBkH,gBAAiB,IAEnBC,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXU,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB/H,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZ6G,yBAA0B,CACxBhI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhBuD,oBAAqB,CACnB9H,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwL,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfoC,oBAAqB,CACnBnI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZiH,qBAAsB,CACpBpI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf6B,cAAe,CACbkC,OAAQ,GACRL,eAAgB,EAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,W,6cC5wB+C,IAErCg2C,GAAK,SAAAt3C,IAAAC,EAAAA,EAAAA,SAAAq3C,EAAAt3C,GAAA,IAAAE,EAAAC,GAAAm3C,GAExB,SAAAA,EAAYl3C,GAAQ,IAADM,EA6BwE,OA7BxEL,EAAAA,EAAAA,SAAA,KAAAi3C,IACjB52C,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjC6Q,QAASvO,EAAMiM,MAAMC,OAAOqC,QAE5BmR,WAAY1f,EAAMiM,MAAMC,OAAOqC,QAAQmR,WACvC5I,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SACrCgC,MAAO,GACPgqB,eAAgB,GAChB1pB,SAAU,GAEVC,WAAY,GACZH,YAAa,MAEbqO,aAAc,KACdtW,UAAW,GACXkmC,gBAAiB,GACjBl7B,WAAY,GAEZsE,SAAS,GAGXjgB,EAAKq2C,uBAAyBr2C,EAAKq2C,uBAAuB/xC,MAAIC,EAAAA,EAAAA,SAAAvE,IAE9DA,EAAK0qC,iBAAmB1qC,EAAK0qC,iBAAiBpmC,MAAIC,EAAAA,EAAAA,SAAAvE,IAClDA,EAAK+e,8BAAgC/e,EAAK+e,8BAA8Bza,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5EA,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC3F,CA4eC,OA5eAH,EAAAA,EAAAA,SAAA+2C,EAAA,EAAA92C,IAAA,oBAAAC,MAED,WAEEI,KAAKiZ,QACLjZ,KAAKo2C,WACP,GAAC,CAAAz2C,IAAA,QAAAC,MAED,WAAS,IAADyD,EAAA,KACNsC,EAAgC3F,KAAKmD,MAA7BlG,EAAY0I,EAAZ1I,aAAcwN,EAAI9E,EAAJ8E,KAClB2C,EAAMnQ,EAAe,qBACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7BH,GAAQ,IAAM3B,EACd3L,QAAQC,IAAIqN,GACZ5P,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACAA,EAASE,QACXhN,QAAQC,IAAI6M,EAASE,SAErBzJ,EAAKqB,SAAS,CACZiU,SAAU/L,GAGhB,GACJ,GAAC,CAAAjN,IAAA,YAAAC,MAED,WAAa,IAADoM,EAAA,KACVQ,EAAgCxM,KAAKmD,MAA7BlG,EAAYuP,EAAZvP,aAAcwN,EAAI+B,EAAJ/B,KAClB2C,EAAMnQ,EAAe,YACnBwO,EAAS,IAAI4B,gBACnB5B,EAAO6B,OAAO,QAAS7C,EAAKiD,OAC5BjC,EAAO6B,OAAO,SAAU7C,EAAK8C,QAC7BH,GAAQ,IAAM3B,EACd3L,QAAQC,IAAIqN,GACZ5P,MAAM4P,EAAK,CACT3P,OAAQ,QAEPkP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GACAA,EAASE,QACXhN,QAAQC,IAAI6M,EAASE,SAErBd,EAAKtH,SAAS,CACZ2T,OAAKzK,EAAAA,EAAAA,SAAM,IAAIsK,IAAItL,EAASjJ,KAAI,SAAAwU,GAAC,MAAI,CAACA,EAAEI,OAAQJ,EAAE,KAAGjK,UACrDm0B,gBAAcz0B,EAAAA,EAAAA,SAAM,IAAIsK,IAAItL,EAASjJ,KAAI,SAAAwU,GAAC,MAAI,CAACA,EAAEI,OAAQJ,EAAE,KAAGjK,WAGpE,GACJ,GAAC,CAAAvO,IAAA,eAAAC,MAED,SAAaiM,GAAO,IAAD8qC,EAAAC,EAAAC,EACTl+B,EAAa3Y,KAAKmD,MAAlBwV,SACR3Y,KAAK0E,SAAS,CACZoiB,aAAcjb,EACd2E,WAAmB,MAARmI,GAAuD,OAA/Cg+B,EAARh+B,EAAUI,MAAK,SAAAvc,GAAE,OAAIA,EAAG2e,iBAAmBtP,EAAKoH,MAAM,UAA9C,EAAR0jC,EAAyDnmC,YAAa,IACjFkmC,iBAAyB,MAAR/9B,GAAuD,OAA/Ci+B,EAARj+B,EAAUI,MAAK,SAAAvc,GAAE,OAAIA,EAAG2e,iBAAmBtP,EAAKoH,MAAM,UAA9C,EAAR2jC,EAAyDF,kBAAmB,IAC7Fl7B,YAAoB,MAAR7C,GAAuD,OAA/Ck+B,EAARl+B,EAAUI,MAAK,SAAAvc,GAAE,OAAIA,EAAG2e,iBAAmBtP,EAAKoH,MAAM,UAA9C,EAAR4jC,EAAyDr7B,WAAWzF,aAAc,KAElG,GAAC,CAAApW,IAAA,iBAAAC,MAED,WAEoB,MADII,KAAKmD,MAAnBqN,UAENxQ,KAAK0E,SAAS,CAAE8L,UAAW,MAE3BxQ,KAAK0E,SAAS,CAAE8L,UAAW,KAE/B,GAAC,CAAA7Q,IAAA,uBAAAC,MAED,WAE0B,MADII,KAAKmD,MAAzBuzC,gBAEN12C,KAAK0E,SAAS,CAAEgyC,gBAAiB,MAEjC12C,KAAK0E,SAAS,CAAEgyC,gBAAiB,KAErC,GAAC,CAAA/2C,IAAA,WAAAC,MAED,WACE,IAAQknB,EAAiB9mB,KAAKmD,MAAtB2jB,aACJpjB,EAAU,GACdA,EAAQoB,KAAK,CAAElE,KAAM,MAAOgD,WAAY,gBACxC5D,KAAK0E,SAAS,CACZR,uBAAwB,CACtBZ,MAAOX,EAAAA,QAAAA,IAAS,UAChBY,SAAU,aACV3C,KAAM,SAAWkmB,EAAaxN,SAAW,IACzC9V,IAAI,EACJK,QAAQ,EACRH,QAASA,GAEXO,qBAAqB,GAEzB,GAAC,CAAAtE,IAAA,cAAAC,MAED,SAAYmgB,GAAc,IAADrT,EAAA,KAEvBiC,GADuB3O,KAAKT,MAApBmG,WAEmD1F,KAAKmD,OADxDsH,EAAIkE,EAAJlE,KAAM4L,EAAQ1H,EAAR0H,SAAsBpZ,GAAF0R,EAAVsQ,WAAwBtQ,EAAZ1R,cAClC6pB,EAAYnY,EAAZmY,aAActW,EAAS7B,EAAT6B,UAAWgL,EAAU7M,EAAV6M,WAAYk7B,EAAe/nC,EAAf+nC,gBAQnCtpC,EAAMnQ,EAAe,4BACnBU,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZH,OAAQ9C,EAAK8C,OACb4N,eAAgB2L,EAAa7T,OAC7BzC,UAAWA,EACXkmC,gBAAiBA,EACjBl7B,WAAYA,GAAc,KAG5Bxb,KAAK0E,SAAS,CACZob,SAAS,IAGXtiB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,8BACmD,OAAhB,OAA/C4Z,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,aACAwN,EAAKoV,SACLjT,EAASE,QACT,GACAga,EAAaxN,UACZkC,GAAc,KAAO,IAAMhL,EAAY,IAAMkmC,GAE9C9pC,EAASE,QACXJ,EAAKhI,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,cACjDif,SAAS,IAIbpT,EAAKhI,SAAS,CACZob,SAAS,EACTrH,YAAa,MACbJ,OAAKzK,EAAAA,EAAAA,SAAM,IAAIsK,IAAItL,EAASjJ,KAAI,SAAAwU,GAAC,MAAI,CAACA,EAAEI,OAAQJ,EAAE,KAAGjK,UACrDm0B,gBAAcz0B,EAAAA,EAAAA,SAAM,IAAIsK,IAAItL,EAASjJ,KAAI,SAAAwU,GAAC,MAAI,CAACA,EAAEI,OAAQJ,EAAE,KAAGjK,YAC7D,kBAAMxB,EAAKuM,OAAO,GACvB,IACC9K,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZ1B,EAAKhI,SAAS,CACZob,SAAS,GAEb,GAEJ,GAAC,CAAAngB,IAAA,mBAAAC,MAED,SAAiBgB,GACf,IAAAuW,EAA8CnX,KAAKmD,MAA3CkV,EAAKlB,EAALkB,MACJiqB,GADyBnrB,EAAdkrB,eAA0BlrB,EAAVyB,WACJ,IAC3B5Y,KAAK0E,SAAS,CACZkU,WAAYhY,EACZ6X,YAAa,QAEf,IAAIW,EAAWxY,EAAKC,cAEpByhC,EAAuBjqB,EAElBzX,GAML0hC,EAAuBA,EAAqB1wB,QAAO,SAAA/F,GACjD,OAAOA,EAAKyN,SAASzY,cAAc0Y,SAASH,IAAavN,EAAK0M,OAAO1X,cAAc0Y,SAASH,EAC9F,IACApZ,KAAK0E,SAAS,CACZ29B,eAAgBC,KAThBtiC,KAAK0E,SAAS,CACZ29B,eAAgBC,GAUtB,GAAC,CAAA3iC,IAAA,yBAAAC,MAED,WACE,IAAA2X,EAAyDvX,KAAKmD,MAAtDsV,EAAWlB,EAAXkB,YAAaJ,EAAKd,EAALc,MAAuBM,GAAFpB,EAAd8qB,eAAwB9qB,EAARoB,UACxB,iBAAhBF,EACFzY,KAAK0E,SAAS,CACZ29B,eAAgBhqB,EAChBO,WAAY,GACZH,YAAa,QAEU,QAAhBA,GACTzY,KAAK0E,SAAS,CACZ29B,eAAgBhqB,EAAMzG,QAAO,SAAApV,GAAE,OAAY,MAARmc,OAAQ,EAARA,EAAUsH,MAAK,SAAA2G,GAAG,OAAIA,EAAIzL,iBAAmB3e,EAAGyW,MAAM,GAAC,IAC1F2F,WAAY,GACZH,YAAa,gBAGnB,GAAC,CAAA9Y,IAAA,gCAAAC,MAED,SAA8BgB,GAAO,IAAD6N,EAAA,KAClCmM,EAAyC5a,KAAKmD,MAAtCsH,EAAImQ,EAAJnQ,KAAMxN,EAAY2d,EAAZ3d,aAAcoZ,EAAQuE,EAARvE,SAC5B,GAAKzV,EAAL,CAMA,IAAIwM,EAAMnQ,EAAe,iBACnBU,EAAO,CACXgQ,MAAOlD,EAAKkD,MACZrD,WAAY1J,EACZgf,MAAO,cAETpiB,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADyZ,EAChBvmB,QAAQC,IAAI,6BAA8B6M,GACqB,OAAhB,OAA/CyZ,EAAAhQ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CoM,EAAiDnM,YAC/Cld,EACEC,EACA,4BACAwN,EAAKoV,SACLjT,EAASE,QACT,GACA,GACAF,EAASpC,QAEToC,EAASE,QACX2B,EAAK/J,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,iBAKrD4N,EAAK/J,SAAS,CACZ+a,6BAA6B,IAE/BhR,EAAKqoC,YAAYlqC,EAASpC,QAC5B,IACC2D,OAAM,SAAAC,GACLtO,QAAQC,IAAIqO,GAEZK,EAAK/J,SAAS,CACZob,SAAS,GAEb,GA7CF,MAJE9f,KAAK0E,SAAS,CACZ+a,6BAA6B,GAiDnC,GAAC,CAAA9f,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACpBZ,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,KAErBtD,GAGQ,gBAATA,GACFZ,KAAK82C,aAET,GAAC,CAAAn3C,IAAA,aAAAC,MAED,SAAWiM,GAAO,IAAD8O,EAAA,KACPhC,EAAa3Y,KAAKmD,MAAlBwV,SACFG,EAAgB,MAARH,OAAQ,EAARA,EAAUI,MAAK,SAAAvc,GAAE,OAAIA,EAAG2e,iBAAmBtP,EAAKoH,MAAM,IAEpE,OACE7S,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAOmE,GAAO0G,KACd5F,QAAS,kBAAM2Z,EAAKo8B,aAAalrC,EAAK,EAAC7P,SAAA,EACvCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4G,UAAU9K,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwI,cAAc1M,UAChCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6G,kBAAkB/K,SAAE6P,EAAK0M,YAE/C5b,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyI,eAAe3M,SAEV,OAAhB,MAAL8c,OAAK,EAALA,EAAOtI,YACL7T,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,mBAAoB,CAAEvG,MAAOC,EAAMzC,OAAQjC,SAAC,cAEjEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO8G,mBAAoB,CAAEvG,MAAOC,EAAM3C,WAAY/B,SAAC,iBAI7EW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+G,WAAWjL,UAC7BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgH,eAAelL,SAChC6P,EAAKyN,cAGVlZ,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0I,cAAc5M,UAChCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOkH,mBAAoB,CAAE3G,MAAOC,EAAM3C,WAAY/B,SAAA,CAAC,OAAK6P,EAAK22B,SAAW,UAE5F7lC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2I,eAAe7M,UACjCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOkH,mBAAmBpL,SAAA,CAAC,IAAE6P,EAAKyP,UAAUC,QAAQ,YAGrEnb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOiH,UAAUnL,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0I,cAAc5M,SAE7B8c,GAA+B,KAAjB,MAALA,OAAK,EAALA,EAAO0C,cACjBpb,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAM5C,OAAQhB,SAAU,IAAKd,SAAA,CAAC,SAAO8c,EAAM0C,WAAW,WAAS1C,EAAM2C,iBAG3H9e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2I,eAAe7M,SAE9B8c,GAAoC,OAAtB,MAALA,OAAK,EAALA,EAAO49B,kBACft2C,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAMhC,MAAO5B,SAAU,IAAKd,SAAA,CAAC,iBAAaW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAMzC,KAAMnB,SAAU,IAAKd,SAAC,YAE1KW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAMhC,MAAO5B,SAAU,IAAKd,SAAC,cAM7F,GAAC,CAAA2D,IAAA,SAAAC,MAED,WAAU,IAADqb,EAAA,KACCvV,EAAe1F,KAAKT,MAApBmG,WACRwV,EAEsDlb,KAAKmD,MAFnDsH,EAAIyQ,EAAJzQ,KAAM43B,EAAcnnB,EAAdmnB,eAAgBvb,EAAY5L,EAAZ4L,aAAclO,EAAUsC,EAAVtC,WAAYH,EAAWyC,EAAXzC,YACtDgH,EAA2BvE,EAA3BuE,4BAA6Bzb,EAA8BkX,EAA9BlX,+BAAgCC,EAAmBiX,EAAnBjX,oBAAqBC,EAAsBgX,EAAtBhX,uBAClF4b,EAAO5E,EAAP4E,QAAStP,EAAS0K,EAAT1K,UAAWkmC,EAAex7B,EAAfw7B,gBAAiBl7B,EAAUN,EAAVM,WAGvC,OAFA1b,QAAQC,IAAI,gBAGVK,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BiI,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9BO,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,mCAGzCwe,IACA9iB,EAAAA,EAAAA,KAACgiB,GAAoB,CACnBlU,KAAMA,EACNqU,mBAAmB,aACnBF,8BAA+B5e,KAAK4e,iCAExCxe,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO2C,OAC9B7B,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,cAE5ChG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkG,2BAIxBzJ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEC,aAAc,IAAKvK,SAAA,EACxDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+H,UAAUjM,SAAA,EAC5BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOiI,oBACvBuH,YAAY,oBACZC,qBAAqB,wBACrB/P,MAAOgZ,EACPnR,aAAc,SAACmR,GAAU,OAAKqC,EAAKsvB,iBAAiB3xB,EAAW,KAEjEjc,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOkI,gBAC9BpH,QAAS,WACPia,EAAKvW,SAAS,CAAEkU,WAAY,KAAM,kBAAMqC,EAAKsvB,iBAAiB,GAAG,IACjExwB,GAAAA,QAASC,SACX,EAAEhe,UACFW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,cAGnD4B,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOoI,kBAC9BtH,QAAS,kBAAMia,EAAKi7B,wBAAwB,EAACl6C,UAE7CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAEyc,OAE1C9b,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOqI,mBAAmBvM,UACrCoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOsI,kBAAkBxM,SAAA,CAAEqmC,EAAe1tB,OAAO,kBAGlEhY,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf+T,KAAMysB,EACN17B,8BAA8B,EAC9BmP,aAAc,SAACjK,EAAMiJ,GAAK,OAAKA,EAAMiB,UAAU,EAC/CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OAAOoP,EAAKjF,WAAWnK,EAAK,QAGnDlP,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1BpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEsB,YAAa,IAAK5L,SAAA,EACvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,MAElBsgB,IACA1mB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGP,gBAAiBZ,EAAMnC,MAAO0D,aAAc,GAAIjG,SAAA,EACtEoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE+F,WAAY,SAAUS,UAAW,IAAMvG,SAAA,EACpDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAMzC,KAAMnB,SAAU,IAAMd,SAAE8qB,EAAavO,UAC7F5b,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAO,QAAS3D,SAAU,GAAIwF,UAAW,SAAUW,kBAAmB,IAAMjH,SAAE8qB,EAAaxN,eAExIlZ,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO82C,eAAeh7C,SAAA,EACjCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwzB,SAAS13B,SAAA,EAC3BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyzB,aAAa33B,UAC/BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO+2C,iBAAiBj7C,SAAC,cAExCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO4zB,cAC9B9yB,QAAS,kBAAMia,EAAKi8B,gBAAgB,EAACl7C,UACrCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOi3C,kBAAmB,CAAE12C,MAAqB,MAAd+P,EAAoB9P,EAAM3C,SAAW2C,EAAMzC,OAAQjC,SAAgB,MAAdwU,EAAoB,SAAW,mBAGzIpQ,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwzB,SAAS13B,SAAA,EAC3BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyzB,aAAa33B,UAC/BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO+2C,iBAAiBj7C,SAAC,oBAExCW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO4zB,cAC9B9yB,QAAS,kBAAMia,EAAKm8B,sBAAsB,EAACp7C,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOi3C,kBAAmB,CAAE12C,MAA2B,MAApBi2C,EAA0Bh2C,EAAM3C,SAAW2C,EAAMzC,OAAQjC,SAAsB,MAApB06C,EAA0B,KAAO,cAGjJt2C,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwzB,SAAS13B,SAAA,EAC3BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyzB,aAAa33B,UAC/BW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO+2C,iBAAiBj7C,SAAC,aAExCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4zB,cAAc93B,UAChCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOuP,UACvBkO,aAAa,UACbpW,mBAAmB,EACnB3H,MAAO4b,EACP/T,aAAc,SAAA7G,GAAI,OAAIqa,EAAKvW,SAAS,CAAE8W,WAAY5a,GAAO,gBAOrEjE,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO2C,QAASikB,GAAgB,CAAEzkB,QAAS,KACnE+Y,SAAU0E,IAAYgH,EACtB9lB,QAAS,kBAAMia,EAAK4C,UAAU,EAAC7hB,SAAA,EAC/BW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,QACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO6C,WAAW/G,SAAE2G,EAAAA,QAAAA,IAAS,wBAOxD,KAAC8zC,CAAA,CA5gBuB,CAASt1C,EAAAA,WA+gB7BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,EACNqB,cAAe,OAEjByE,eAAgB,CACd9F,KAAM,EACNqB,cAAe,OAEjBmD,iBAAkB,CAChBxE,KAAM,EACNP,gBAAiBZ,EAAMrC,OAEzBiI,eAAgB,CACdzE,KAAM,GAER4E,cAAe,CACb5E,KAAM,EACNP,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdiB,cAAe,SACfqf,SAAU,OACVzgB,WAAY,UACZC,eAAgB,SAChBG,SAAU,UAEZ+F,UAAW,CACT3G,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,EACRF,UAAW,GACX2F,aAAc,EACdhF,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEV4F,gBAAiB,CACf5F,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBoF,kBAAmB,CACjBzG,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwG,mBAAoB,CAClB1G,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfmI,KAAM,CACJnE,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEX3B,UAAW,CACT5D,cAAe,OAEjB+D,WAAY,CACV9E,eAAgB,GAElBgF,UAAW,CACTjE,cAAe,OAEjBwF,cAAe,CACb7G,KAAM,GAER8G,eAAgB,CACd9G,KAAM,EACNC,WAAY,YAEd8G,cAAe,CACb/G,KAAM,GAERgH,eAAgB,CACdhH,KAAM,EACNC,WAAY,YAEdiF,kBAAmB,CACjBtG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdiK,mBAAoB,CAClBvG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdmK,eAAgB,CACdzG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+E,mBAAoB,CAClB3G,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdgJ,kBAAmB,CACjBlE,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB6E,cAAe,UAEjB8C,gBAAiB,CACfnE,KAAM,EACNoB,kBAAmB,GACnB6F,WAAY,IAEdjG,OAAQ,CACNvB,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBgB,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBgE,mBAAoB,CAClB7D,UAAW,IAEbyG,UAAW,CACT1H,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBkH,gBAAiB,IAEnBC,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXU,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB/H,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZ6G,yBAA0B,CACxBhI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhBuD,oBAAqB,CACnB9H,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwL,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfoC,oBAAqB,CACnBnI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZiH,qBAAsB,CACpBpI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf6B,cAAe,CACbkC,OAAQ,GACRL,eAAgB,EAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,SAETu2C,eAAgB,CACdz0C,UAAW,GACXgH,iBAAkB,GAEpBmqB,SAAU,CACRxwB,cAAe,MACfV,OAAQ,GACRC,OAAQ,GAEVkxB,aAAc,CACZ9xB,KAAM,EACN+F,YAAa,GACb7F,eAAgB,UAElB+xB,cAAe,CACbjyB,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB4D,aAAc,EAEdF,eAAgB,SAChBD,WAAY,YAEdm1C,iBAAkB,CAChBx2C,MAAO,QACP1D,WAAY,eACZD,SAAU,IAEZq6C,kBAAmB,CACjBl0C,kBAAmB,GACnBxC,MAAO,QACP1D,WAAY,eACZD,SAAU,IAEZ2S,UAAW,CACTxM,kBAAmB,GACnBpB,KAAM,EACNG,MAAO,OACPM,UAAW,QACX7B,MAAO,QACP1D,WAAY,eACZD,SAAU,M,6cC7zBkD,IAE3Cu6C,GAAI,SAAAl4C,IAAAC,EAAAA,EAAAA,SAAAi4C,EAAAl4C,GAAA,IAAAE,EAAAC,GAAA+3C,GAEvB,SAAAA,EAAY93C,GAAQ,IAADM,EA0BwE,OA1BxEL,EAAAA,EAAAA,SAAA,KAAA63C,IACjBx3C,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjC6Q,QAASvO,EAAMiM,MAAMC,OAAOqC,QAC5B6O,cAAepd,EAAMiM,MAAMC,OAAOkR,cAClC+F,WAAYnjB,EAAMiM,MAAMC,OAAOiX,WAE/B40B,YAAa/3C,EAAMiM,MAAMC,OAAOqC,QAAQwpC,YACxCC,SAAUh4C,EAAMiM,MAAMC,OAAOqC,QAAQypC,SACrCt4B,WAAY1f,EAAMiM,MAAMC,OAAOqC,QAAQmR,WACvC5I,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SAErC+uB,OAAQ,GACRviB,mBAAoB,GACpB20B,iBAAkB,GAClBC,mBAAoB,KAEpB1B,gCAAgC,EAChC/xC,gCAAgC,EAChCC,qBAAqB,EACrBC,uBAAwB,IAG1BrE,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAC5DA,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CAC3F,CAqWC,OArWAH,EAAAA,EAAAA,SAAA23C,EAAA,EAAA13C,IAAA,oBAAAC,MAED,WACA,GAAC,CAAAD,IAAA,UAAAC,MAED,WACEma,GAAAA,QAASC,UACTha,KAAK0E,SAAS,CACZ+yC,mBAAoB,KACpBD,iBAAkB,GAClB30B,mBAAoB,GACpBuiB,OAAQ,IAEZ,GAAC,CAAAzlC,IAAA,cAAAC,MAED,WACE,IAAA+F,EAAyD3F,KAAKmD,MAAtCwC,EAAhB6xC,iBAAoC7xC,EAAlBkd,mBAA0Bld,EAANy/B,OAc9CplC,KAAK6d,UACP,GAAC,CAAAle,IAAA,oBAAAC,MAED,SAAkBiM,GAChB,IAOO6rC,EAPPlrC,EAAyCxM,KAAKmD,MAAtCs0C,EAAkBjrC,EAAlBirC,mBAAoBF,EAAQ/qC,EAAR+qC,UACN,MAAlBE,OAAkB,EAAlBA,EAAoBxkC,WAAe,MAAJpH,OAAI,EAAJA,EAAMoH,QACvCjT,KAAK0E,SAAS,CACZ+yC,mBAAoB,KACpBrS,OAAQ,GACRoS,iBAAkB,KAGpBx3C,KAAK0E,SAAS,CACZ+yC,mBAAoB5rC,EACpBu5B,OAAQv5B,EAAK1F,KACbqxC,kBAA+B,OAAbE,EAAA7rC,EAAK8rC,eAAQ,EAAbD,EAAevoC,MAAM,KAAKxL,KAAI,SAAAnH,GAAE,OAAI+6C,EAASx+B,MAAK,SAAA6N,GAAG,OAAIA,EAAI4b,UAAYhmC,CAAE,GAAC,MAAK,IAGzG,GAAC,CAAAmD,IAAA,mBAAAC,MAED,SAAiBiM,GACf,IAAQgX,EAAwB7iB,KAAKmD,MAA7B0f,mBACJG,EAA2BH,EAC3BA,EAAmB5C,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IACzD+P,EAA2BH,EAAmBjR,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAEpF+P,EAAyBle,KAAK+G,GAEhC7L,KAAK0E,SAAS,CACZme,mBAAoBG,GAExB,GAAC,CAAArjB,IAAA,iBAAAC,MAED,SAAeiM,GACb,IAAQ2rC,EAAqBx3C,KAAKmD,MAA1Bq0C,iBACJI,EAAyBJ,EACzBA,EAAiBv3B,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IACvD2kC,EAAyBJ,EAAiB5lC,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAEhF2kC,EAAuB9yC,KAAK+G,GAE9B7L,KAAK0E,SAAS,CACZ8yC,iBAAkBI,GAEtB,GAAC,CAAAj4C,IAAA,oBAAAC,MAED,WACE,IAAA+O,EAAuC3O,KAAKmD,MAApCq0C,EAAgB7oC,EAAhB6oC,iBAAkBD,EAAQ5oC,EAAR4oC,SACrBA,EAASt3B,MAAK,SAAAzjB,GAAE,OAAKg7C,EAAiBv3B,MAAK,SAAA2G,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,GAAC,IAK9EjT,KAAK0E,SAAS,CACZ8yC,iBAAkBD,IALpBv3C,KAAK0E,SAAS,CACZ8yC,iBAAkB,IAOxB,GAAC,CAAA73C,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACpBZ,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,KAErBtD,GAGQ,aAATA,GACFZ,KAAK6d,UAET,GAAC,CAAAle,IAAA,WAAAC,MAED,WAAY,IAADyD,EAAA,KACDqC,EAAe1F,KAAKT,MAApBmG,WACRyR,EACuEnX,KAAKmD,MADpElG,EAAYka,EAAZla,aAAcwN,EAAI0M,EAAJ1M,KAAMkS,EAAaxF,EAAbwF,cAAwBtG,GAAFc,EAAPrJ,QAAiBqJ,EAARd,UAClDohC,EAAkBtgC,EAAlBsgC,mBAAoB50B,EAAkB1L,EAAlB0L,mBAAoB20B,EAAgBrgC,EAAhBqgC,iBAAkBpS,EAAMjuB,EAANiuB,OACxDh4B,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,YAC1DtV,EAAO,CACX6M,OAAQC,EAAKD,OACbkD,MAAOjD,EAAKiD,MACZC,MAAOlD,EAAKkD,MACZoZ,gBAAiBpK,EAAc1J,OAC/BmyB,OAAQA,EACRuS,SAAUH,EAAiB7zC,KAAI,SAAAnH,GAAE,OAAIA,EAAGgmC,OAAO,IAAEzU,KAAK,KACtD+e,qBAAsBjqB,EAAmBlf,KAAI,SAAAnH,GAAE,OAAIA,EAAGyW,MAAM,IAAE8a,KAAK,KACnE+Y,MAAyB,MAAlB2Q,OAAkB,EAAlBA,EAAoB3Q,OAE7BhnC,QAAQC,IAAIpC,GACZH,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAChB7Z,QAAQC,IAAI,2BAA4B6M,GACuB,OAAhB,OAA/C+M,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACd,GACAmwB,EAAS,KAAOviB,EAAmBlf,KAAI,SAAAnH,GAAE,OAAIA,EAAG+b,MAAM,IAAEwV,KAAK,KAA7DqX,MAAiFoS,EAAiB7zC,KAAI,SAAAnH,GAAE,OAAIA,EAAGgmC,OAAO,IAAEzU,KAAK,KAAO,KAEpInhB,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,gBAIrD6E,EAAWO,QACb,GACJ,GAAC,CAAAtG,IAAA,SAAAC,MAED,WAAU,IAADi4C,EAAA7rC,EAAA,KACCtG,EAAe1F,KAAKT,MAApBmG,WACR6R,EAGIvX,KAAKmD,MAHKiiC,GAAF7tB,EAAJ9M,KAAY8M,EAAN6tB,QAAQmS,EAAQhgC,EAARggC,SAAUD,EAAW//B,EAAX+/B,YAAa50B,EAAUnL,EAAVmL,WAC3C+0B,EAAkBlgC,EAAlBkgC,mBAAoB50B,EAAkBtL,EAAlBsL,mBAAoB20B,EAAgBjgC,EAAhBigC,iBACxCxzC,EAA8BuT,EAA9BvT,+BAAgCC,EAAmBsT,EAAnBtT,oBAAqBC,EAAsBqT,EAAtBrT,uBAGvD,OACE9D,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0F,UAAU5J,SAAA,CAE1BiI,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9BO,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3Cb,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4F,cAAc9J,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,SAAA,EAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO43C,eAC9B92C,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,OACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO63C,mBAAmB/7C,SAAE2G,EAAAA,QAAAA,IAAS,cAEpDhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOkG,2BAIxBzJ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEC,aAAc,IAAKvK,SAAA,EACxDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+H,UAAUjM,SAAA,EAC5BW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAOiI,oBACvBuH,YAAY,gBACZC,qBAAqB,wBACrB/P,MAAOwlC,EACP39B,aAAc,SAAC7G,GAAI,OAAKoL,EAAKtH,SAAS,CAAE0gC,OAAQxkC,GAAO,KAEzDjE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOkI,gBAC9BpH,QAAS,kBAAMgL,EAAKnH,SAAS,EAAC7I,UAC9BW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,cAGnD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,UAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6J,qBAAqB/N,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,cAGnCW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,EAAG0H,iBAAkB,KACpC5C,8BAA8B,EAC9BiP,KAAM0hC,EACN3hC,WAAY,EACZG,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OACjBlP,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOmJ,mBAAoB,CAAEE,iBAAkB,MAAyB,MAAlBkuC,OAAkB,EAAlBA,EAAoBxkC,WAAe,MAAJpH,OAAI,EAAJA,EAAMoH,SAAU,CAAE3R,gBAAiBZ,EAAM1C,WACtIgD,QAAS,kBAAMgL,EAAKgsC,kBAAkBnsC,EAAK,EAAC7P,UAC5CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyJ,yBAAyB3N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAK1F,UAGO,QAIzBxJ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,eAI1BpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyH,eAAe3L,SAAA,EACjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmG,iBAAiBrK,UACnCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOoG,eAAgB,CAAEsB,YAAa,IAAK5L,SAAA,EACvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO4J,oBAAoB9N,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,WAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6J,qBAAqB/N,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,YAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8J,oBAAoBhO,UACtCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,aAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,UACvCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,gBAGnCW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAM8M,EACN5M,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CC,WAAY,SAAA/I,GAAA,IAAGpB,EAAIoB,EAAJpB,KAAI,OACjBzL,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOmJ,mBAAoBwZ,EAAmB5C,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,KAAK,CAAE3R,gBAAiBZ,EAAM1C,UAAY6N,EAAK+W,WAAa,CAAEvgB,QAAS,KACjK+Y,WAAUvP,EAAK+W,UACf5hB,QAAS,kBAAMgL,EAAKisC,iBAAiBpsC,EAAK,EAAC7P,SAAA,EAC3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOsJ,wBAA0C,MAAjBqC,EAAK6b,SAAmB,CAAEhe,iBAAkBhJ,EAAM3C,WAAY/B,UAACW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAE6P,EAAKqb,cACtJ9mB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyJ,yBAAyB3N,SAAA,EAC3CoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAA,CAC/B6P,EAAK+W,UAAY,KAAO,KAAM/W,EAAKyN,YAErCzN,EAAKolB,SAAUt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkJ,iBAAiBpN,SAAE6P,EAAKolB,UAAkB,SAEhFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO0J,wBAAwB5N,UAC1CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKy4B,UAAYz4B,EAAKy4B,SAAS/oB,QAAQ,QAG5C5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2J,yBAAyB7N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKqlB,WAAarlB,EAAKqlB,UAAU3V,QAAQ,SAG7B,QAIzB5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,OACpBpG,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOuG,cAAczK,SAAA,EAChCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOmI,cAAcrM,SAAA,EAChCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE6L,YAAa,GAAI9F,WAAY,SAAUC,eAAgB,UAAY/F,UAChFW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOgK,UAAUlO,SAAC,mBAEjCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO+J,qBAAqBjO,SAErCw7C,EAAiB7iC,OAAS,GACxBhY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgK,UAAW,CAAEzJ,MAAO,UAAWzE,SAAC,YAEzB,IAA5Bw7C,EAAiB7iC,QACfhY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgK,UAAW,CAAEzJ,MAAO,UAAWzE,SAAU,MAARu7C,GAAgE,OAAxDM,EAARN,EAAUx+B,MAAK,SAAAvc,GAAE,OAAIA,EAAGgmC,UAAYgV,EAAiB,GAAGhV,OAAO,UAAvD,EAARqV,EAAkEK,WAExHv7C,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAOgK,UAAW,CAAEzJ,MAAO,UAAWzE,SAAC,YAI/DW,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE8F,KAAM,GACf8E,8BAA8B,EAC9BiP,KAAM2hC,EACNzhC,aAAc,SAAAjK,GAAI,OAAIA,EAAKoH,OAAO8C,UAAU,EAC5CoiC,qBACEx7C,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOmJ,oBAAqBkuC,EAASt3B,MAAK,SAAAzjB,GAAE,OAAKg7C,EAAiBv3B,MAAK,SAAA2G,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,GAAC,KAAK,CAAE3R,gBAAiBZ,EAAM1C,WAC7IgD,QAAS,kBAAMgL,EAAKosC,mBAAmB,EAACp8C,UACxCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOyJ,yBAAyB3N,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAAC,yBAMzCga,WAAY,SAAAsE,GAAA,IAAGzO,EAAIyO,EAAJzO,KAAI,OACjBlP,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CACf/E,MAAO,CAACmE,GAAOmJ,mBAAoBmuC,EAAiBv3B,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,KAAK,CAAE3R,gBAAiBZ,EAAM1C,WACtHgD,QAAS,kBAAMgL,EAAKqsC,eAAexsC,EAAK,EAAC7P,UACzCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAACmE,GAAOyJ,yBAA0B,CAAEzG,cAAe,MAAOnB,eAAgB,gBAAiBwE,aAAc,GAAIzE,WAAY,WAAY9F,SAAA,EAChJW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAKqsC,WAERv7C,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOiJ,cAAcnN,SAC/B6P,EAAK22B,cAGO,QAIzB7lC,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAOsG,YAGxB7J,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO6F,kBAAkB/J,UACpCW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO8F,gBAAgBhK,UAClCoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAACmE,GAAO43C,gBAAgD,IAA9Bj1B,EAAmBlO,QAA4C,IAA5B6iC,EAAiB7iC,SAAkBywB,IAAW,CAAE/iC,QAAS,KAC7I+Y,SAAyC,IAA9ByH,EAAmBlO,QAA4C,IAA5B6iC,EAAiB7iC,SAAkBywB,EACjFpkC,QAAS,kBAAMgL,EAAKssC,aAAa,EAACt8C,SAAA,EAClCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CACRC,KAAK,kBACL1F,MAAM,QACN5B,KAAM,MAERlC,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO63C,mBAAmB/7C,SAAE2G,EAAAA,QAAAA,IAAS,sBAOhE,KAAC00C,CAAA,CAlYsB,CAASl2C,EAAAA,WAqY5BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNqB,cAAe,MACf5B,gBAAiBZ,EAAMrC,OAEzByH,cAAe,CACbjE,KAAM,EACNqB,cAAe,OAEjByE,eAAgB,CACd9F,KAAM,EACNqB,cAAe,OAEjBmD,iBAAkB,CAChBxE,KAAM,EACNP,gBAAiBZ,EAAMrC,OAEzBiI,eAAgB,CACdzE,KAAM,GAER4E,cAAe,CACb5E,KAAM,EACNP,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdiB,cAAe,SACfqf,SAAU,OACVzgB,WAAY,UACZC,eAAgB,SAChBG,SAAU,UAEZ+F,UAAW,CACT3G,gBAAiBZ,EAAMrC,MACvBmE,OAAQ,GACRP,aAAc,IACdQ,OAAQ,EACRF,UAAW,GACX2F,aAAc,EACdhF,cAAe,OAEjBiF,oBAAqB,CACnBtG,KAAM,EACN9E,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IAEV4F,gBAAiB,CACf5F,OAAQ,GACRR,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChBE,aAAc,IAEhBoG,cAAe,CACb7F,OAAQ,GACRC,OAAQ,EACRS,cAAe,OAEjBoF,kBAAmB,CACjBzG,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElBwG,mBAAoB,CAClB1G,KAAM,EACNC,WAAY,SACZC,eAAgB,UAElByG,kBAAmB,CACjBzL,WAAY,eACZ0D,MAAOC,EAAMjC,OAEfmI,KAAM,CACJnE,OAAQ,EACRF,UAAW,EACX2F,aAAc,GACd5G,gBAAiBZ,EAAMlC,MACvB0E,cAAe,SACfuF,QAAS,IAEX3B,UAAW,CACT5D,cAAe,OAEjB+D,WAAY,CACV9E,eAAgB,GAElBgF,UAAW,CACTjE,cAAe,OAEjBwF,cAAe,CACb7G,KAAM,GAER8G,eAAgB,CACd9G,KAAM,EACNC,WAAY,YAEd8G,cAAe,CACb/G,KAAM,GAERgH,eAAgB,CACdhH,KAAM,EACNC,WAAY,YAEdiF,kBAAmB,CACjBtG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdiK,mBAAoB,CAClBvG,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdmK,eAAgB,CACdzG,MAAO,QACP3D,SAAU,GACVC,WAAY,eACZsF,QAAS,IAEX+E,mBAAoB,CAClB3G,MAAO,QACP3D,SAAU,GACVC,WAAY,gBAEdgJ,kBAAmB,CACjBlE,KAAM,EACNP,gBAAiBZ,EAAMrC,MACvB6E,cAAe,UAEjB8C,gBAAiB,CACfnE,KAAM,EACNoB,kBAAmB,GACnB6F,WAAY,IAEdgvC,eAAgB,CACdx2C,gBAAiB,cACjBW,aAAc,GACd8G,YAAa,EACbjH,WAAY,SACZC,eAAgB,UAElBg2C,mBAAoB,CAClBt3C,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBQ,iBAAkB,CAChBK,kBAAmB,GACnBnB,WAAY,SACZC,eAAgB,SAChBmB,cAAe,OAEjBL,OAAQ,CACNL,OAAQ,IACRR,MAAO,IACPS,OAAQ,EACRX,WAAY,SACZC,eAAgB,SAChBT,gBAAiBZ,EAAMrC,MACvB4D,aAAc,GAEhBc,WAAY,CACVtC,MAAO,QACP1D,WAAY,eACZD,SAAU,GACVyF,UAAW,GACXH,cAAe,aAEjBgE,mBAAoB,CAClB7D,UAAW,IAEbyG,UAAW,CACT1H,gBAAiBZ,EAAMnC,MACvB0D,aAAc,EACdH,WAAY,SACZC,eAAgB,SAChBkH,gBAAiB,IAEnBC,cAAe,CACbnM,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,UAEbkE,IAAK,CACHiC,QAAS,GAEXU,cAAe,CACbpM,WAAY,eACZ0D,MAAO,SAET2I,iBAAkB,CAChBrM,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAM3C,UAEfsL,mBAAoB,CAClBxH,KAAM,EACNqB,cAAe,MACfoG,UAAW,GACXL,gBAAiB,EACjBM,iBAAkB,EAClBrB,aAAc,EACd5G,gBAAiBZ,EAAMlC,OAEzBgL,wBAAyB,CACvBxH,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkB,SAEpBC,yBAA0B,CACxB9H,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfgC,wBAAyB,CACvB/H,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZ6G,yBAA0B,CACxBhI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhBuD,oBAAqB,CACnB9H,MAAO,GACPF,WAAY,SACZC,eAAgB,SAChB0H,iBAAkB,EAClBC,iBAAkBhJ,EAAMnC,OAE1BwL,qBAAsB,CACpBlI,KAAM,EACNE,eAAgB,SAChB6F,YAAa,IAEfoC,oBAAqB,CACnBnI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,IAEZiH,qBAAsB,CACpBpI,KAAM,EACNC,WAAY,WACZC,eAAgB,SAChBiB,SAAU,GACVuD,aAAc,IAEhB2D,UAAW,CACTnN,WAAY,eACZ0D,MAAOC,EAAMjC,OAEf6B,cAAe,CACbkC,OAAQ,GACRL,eAAgB,EAChBL,WAAY,SACZC,eAAgB,UAElBxB,iBAAkB,CAChB6B,cAAe,YACfrF,WAAY,eACZD,SAAU,GACV2D,MAAO,QACP4B,QAAS,IAEX7B,oBAAqB,CACnBzD,WAAY,eACZD,SAAU,GACV2D,MAAO,W,4hCCnqB+B,IAErB83C,GAAK,SAAAp5C,IAAAC,EAAAA,EAAAA,SAAAm5C,EAAAp5C,GAAA,IAAAE,EAAAC,GAAAi5C,GACxB,SAAAA,EAAYh5C,GAAQ,IAADsyC,EAAAC,EAAAC,EAAAC,EAAAC,EAAApyC,EA4BkD,OA5BlDL,EAAAA,EAAAA,SAAA,KAAA+4C,IACjB14C,EAAAR,EAAAI,KAAA,KAAMF,IACD4D,MAAQ,CACXsH,KAAMlL,EAAMiM,MAAMC,OAAOhB,KACzBxN,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjC8G,WAAYxE,EAAMiM,MAAMC,OAAO1H,WAC/B+J,QAASvO,EAAMiM,MAAMC,OAAOqC,QAC5BuI,SAAU9W,EAAMiM,MAAMC,OAAOqC,QAAQuI,SACrCmC,WAAYjZ,EAAMiM,MAAMC,OAAOqC,QAAQ0K,WACvCkO,KAAMnnB,EAAMiM,MAAMC,OAAOqC,QAAQ4Y,KACjC/J,cAAepd,EAAMiM,MAAMC,OAAOkR,cAClCmK,aAAcvnB,EAAMiM,MAAMC,OAAOqb,aACjC3H,kBAAmB5f,EAAMiM,MAAMC,OAAO0T,kBACtCuD,WAAYnjB,EAAMiM,MAAMC,OAAOiX,WAE/B4D,iBAAkB/mB,EAAMiM,MAAMC,OAAOqC,QAAQ0K,WAAW5G,QAAO,SAAApV,GAAE,QAAMA,EAAG+pB,OAAO5Y,OAASnR,EAAG+pB,OAAO5Y,QAAUpO,EAAMiM,MAAMC,OAAOhB,KAAKkD,QAAkC,MAAxBnR,EAAG+pB,OAAOC,SAAiB,IAC3KgyB,YAAaj5C,EAAMiM,MAAMC,OAAOqC,QAAQ0qC,YAAY5mC,QAAO,SAAApV,GAAE,OAAIA,EAAGi8C,YAAcl5C,EAAMiM,MAAMC,OAAOqb,aAAavO,MAAM,IACxHkc,WAAYl1B,EAAMiM,MAAMC,OAAOqC,QAAQ2mB,WAAW7iB,QAAO,SAAApV,GAAE,OAAIA,EAAGi8C,YAAcl5C,EAAMiM,MAAMC,OAAOqb,aAAavO,MAAM,IACtHmgC,mBAAoB,GACpBC,kBAAmB,KAEnB74B,SAAS,EACTxG,SAAU/Z,EAAMiM,MAAMC,OAAO0T,kBAAwD,OAAvC0yB,EAAGtyC,EAAMiM,MAAMC,OAAO0T,wBAAiB,EAApC0yB,EAAsCv4B,SAAW/Z,EAAMiM,MAAMC,OAAOqb,aAAaxN,SAClIi5B,UAA8C,OAApCT,EAAAvyC,EAAMiM,MAAMC,OAAO0T,oBAA2B,OAAV4yB,EAApCD,EAAsC5qB,eAAF,EAApC6qB,EAAgDh8B,aAAc,IACxE4B,UAAWpY,EAAMiM,MAAMC,OAAO0T,mBAAyD,OAApC6yB,EAAAzyC,EAAMiM,MAAMC,OAAO0T,wBAAiB,EAApC6yB,EAAsCr6B,YAAa,KAAwC,OAAhCs6B,EAAA1yC,EAAMiM,MAAMC,OAAOkR,oBAAa,EAAhCs1B,EAAkCt6B,YAAa,KAG/J9X,EAAKoB,iCAAmCpB,EAAKoB,iCAAiCkD,MAAIC,EAAAA,EAAAA,SAAAvE,IAClFA,EAAK4D,sBAAwB5D,EAAK4D,sBAAsBU,MAAIC,EAAAA,EAAAA,SAAAvE,IAAOA,CACrE,CA+fC,OA/fAH,EAAAA,EAAAA,SAAA64C,EAAA,EAAA54C,IAAA,oBAAAC,MAED,WACEE,QAAQC,IAAI,cAAeC,KAAKmD,MAAMsxB,WAAYz0B,KAAKmD,MAAMu1C,oBAC7D14C,KAAK44C,qBACP,GAAC,CAAAj5C,IAAA,sBAAAC,MAED,WACE,IAAA+F,EAAsD3F,KAAKmD,MAAnDsxB,EAAU9uB,EAAV8uB,WAAY/R,EAAU/c,EAAV+c,WAAYvD,EAAiBxZ,EAAjBwZ,kBAC5B05B,EAAmB15B,EAA8B,MAAVuD,OAAU,EAAVA,EAAY9Q,QAAO,SAAApV,GAAE,OAAIA,EAAGomB,YAAczD,EAAkBlM,MAAM,IAAI,GAC7G6lC,EAAmBrkB,EAAW9wB,KAAI,SAAAnH,GAAE,IAAAu8C,EAAAC,EAAAC,EAAA,OAAAp8C,GAAAA,GAAA,GACnCL,GAAE,IACLg2C,UAAoB,MAAV9vB,GAA0D,OAAhDq2B,EAAVr2B,EAAY3J,MAAK,SAAA6N,GAAG,OAAIA,EAAIsyB,kBAAoB18C,EAAGyW,MAAM,UAA/C,EAAV8lC,EAA4D9nB,UAAW,GACjFwhB,YAAsB,MAAV/vB,GAA0D,OAAhDs2B,EAAVt2B,EAAY3J,MAAK,SAAA6N,GAAG,OAAIA,EAAIsyB,kBAAoB18C,EAAGyW,MAAM,MAAa,OAAZgmC,EAA1DD,EAA4DvG,iBAAlD,EAAVwG,EAAwE9pC,MAAM,OAAQ,IAAE,IAElGgqC,EAA2BL,EAAiBlnC,QAAO,SAAApV,GAAE,OAAIq8C,EAAiB54B,MAAK,SAAA2G,GAAG,OAAIA,EAAIsyB,kBAAoB18C,EAAGyW,MAAM,GAAC,IAC5HjT,KAAK0E,SAAS,CACZ+vB,WAAYqkB,EACZJ,mBAAoBS,GAExB,GAAC,CAAAx5C,IAAA,sBAAAC,MAED,SAAoBgB,GAClB,IAAA4L,EAA0CxM,KAAKmD,MAAvCsxB,EAAUjoB,EAAVioB,WAAYkkB,EAAiBnsC,EAAjBmsC,kBAChBG,EAAmBrkB,EACvBqkB,EAAiB//B,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAW0lC,EAAkB1lC,MAAM,IAAEu/B,SAAW5xC,EAC/EZ,KAAK0E,SAAS,CACZ+vB,WAAYqkB,GAEhB,GAAC,CAAAn5C,IAAA,mBAAAC,MAED,SAAiBiM,GACf,IAAQ6sC,EAAuB14C,KAAKmD,MAA5Bu1C,mBACJS,EAA2BT,EAC3BA,EAAmBz4B,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,KACzDkmC,EAA2BT,EAAmB9mC,QAAO,SAAApV,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IACpFjT,KAAK0E,SAAS,CACZg0C,mBAAoBS,EACpBR,kBAAmB,KACnB/F,kBAAmB,SAGrBuG,EAAyBr0C,KAAK+G,GAC9B7L,KAAK0E,SAAS,CACZg0C,mBAAoBS,EACpBR,kBAAmB9sC,EACnB+mC,kBAAmB,OAGzB,GAAC,CAAAjzC,IAAA,mCAAAC,MAED,SAAiCgB,GAC1BA,GACHZ,KAAK0E,SAAS,CACZV,gCAAgC,GAGtC,GAAC,CAAArE,IAAA,wBAAAC,MAED,SAAsBgB,GACpB,IAAA+N,EAA6C3O,KAAKmD,MAA7BwL,EAAbgO,cAAgChO,EAAjBwQ,kBACvBnf,KAAK0E,SAAS,CACZT,qBAAqB,EACrBC,uBAAwB,IAK5B,GAAC,CAAAvE,IAAA,gBAAAC,MAED,SAAcgB,IACPA,GAAQ2E,MAAM3E,GACjBZ,KAAK0E,SAAS,CACZ6tC,SAAU,MAGZvyC,KAAK0E,SAAS,CACZ6tC,SAAU3xC,GAGhB,GAAC,CAAAjB,IAAA,cAAAC,MAED,SAAYsd,GACV,IAAQq1B,EAAavyC,KAAKmD,MAAlBovC,SACJG,EAAiBjtC,OAAO8sC,GAC5B,GAAa,SAATr1B,EACFld,KAAK0E,SAAS,CACZ6tC,UAAWG,EAAiB,GAAG38B,kBAG9B,GAAa,UAATmH,EAAkB,CACzB,GAAIw1B,GAAkB,EAAG,OACzB1yC,KAAK0E,SAAS,CACZ6tC,UAAWG,EAAiB,GAAG38B,YAEnC,CACF,GAAC,CAAApW,IAAA,oBAAAC,MAED,WACE,IAAAuX,EAAkCnX,KAAKmD,MAA/BwU,EAASR,EAATQ,UACJmhC,EADyB3hC,EAAVsd,WAGD,MAAd9c,GACFmhC,EAAiBv8C,SAAQ,SAAAC,GACvBA,EAAGg2C,SAAWh2C,EAAGg2C,SAASjP,QAAQ,IAAI5gC,EAAAA,QAAAA,IAAS,YAAW,KAAM,IAChEnG,EAAGg2C,SAAW,IAAI7vC,EAAAA,QAAAA,IAAS,YAAW,KAAOnG,EAAGg2C,QAClD,IACAxyC,KAAK0E,SAAS,CACZiT,UAAW,IACX8c,WAAYqkB,MAGdA,EAAiBv8C,SAAQ,SAAAC,GACvBA,EAAGg2C,SAAWh2C,EAAGg2C,SAASjP,QAAQ,IAAI5gC,EAAAA,QAAAA,IAAS,YAAW,KAAM,GAClE,IACA3C,KAAK0E,SAAS,CACZiT,UAAW,IACX8c,WAAYqkB,IAGlB,GAAC,CAAAn5C,IAAA,mBAAAC,MAED,SAAiBiM,GACf7L,KAAK0E,SAAS,CACZkuC,kBAAmB/mC,GAEvB,GAAC,CAAAlM,IAAA,aAAAC,MAED,SAAWiM,GACT,IAAA0L,EAA6DvX,KAAKmD,MAA1DyvC,EAAiBr7B,EAAjBq7B,kBAAmB+F,EAAiBphC,EAAjBohC,kBAAmBlkB,EAAUld,EAAVkd,WAC1Cke,EAAiBle,EAAW1b,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAW0lC,EAAkB1lC,MAAM,IAAEu/B,SAC/EK,EAAmBpe,EAAW1b,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAW0lC,EAAkB1lC,MAAM,IAAEw/B,WAE5C,MAArCG,EAAkBrsB,OAAOusB,QAEvBre,EAAW1b,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAW0lC,EAAkB1lC,MAAM,IAAEw/B,WAAWxyB,MAAK,SAAAzjB,GAAE,OAAIA,IAAOqP,EAAKoH,OAAO8C,UAAU,KACnH48B,EAAiBA,EAAepP,QAAQ,IAAM13B,EAAK1F,KAAO,KAAM,IAChE0sC,EAAmBA,EAAiBjhC,QAAO,SAAAgV,GAAG,OAAIA,IAAQ/a,EAAKoH,OAAO8C,UAAU,MAEhF48B,GAAkB,IAAM9mC,EAAK1F,KAAO,KACpC0sC,EAAiB/tC,KAAK+G,EAAKoH,OAAO8C,cAIpC68B,EAAkBG,SAASx2C,SAAQ,SAAAC,GACjCm2C,EAAiBA,EAAepP,QAAQ,IAAM/mC,EAAG2J,KAAO,KAAM,IAC9D0sC,EAAmBA,EAAiBjhC,QAAO,SAAAgV,GAAG,OAAIA,IAAQpqB,EAAGyW,OAAO8C,UAAU,GAChF,IACK0e,EAAW1b,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAW0lC,EAAkB1lC,MAAM,IAAEw/B,WAAWxyB,MAAK,SAAAzjB,GAAE,OAAIA,IAAOqP,EAAKoH,OAAO8C,UAAU,MACpH48B,GAAkB,IAAM9mC,EAAK1F,KAAO,KACpC0sC,EAAiB/tC,KAAK+G,EAAKoH,OAAO8C,cAItC,IAAI+iC,EAAmBrkB,EACvBqkB,EAAiB//B,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAW0lC,EAAkB1lC,MAAM,IAAEu/B,SAAWG,EAC/EmG,EAAiB//B,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAW0lC,EAAkB1lC,MAAM,IAAEw/B,WAAaI,EACjF7yC,KAAK0E,SAAS,CACZ+vB,WAAYqkB,GAEhB,GAAC,CAAAn5C,IAAA,WAAAC,MAED,WAAY,IAADyD,EAAA,KACDqC,EAAe1F,KAAKT,MAApBmG,WACRkV,EAEqC5a,KAAKmD,MAFlClG,EAAY2d,EAAZ3d,aAAcwN,EAAImQ,EAAJnQ,KAAMkS,EAAa/B,EAAb+B,cAAemK,EAAYlM,EAAZkM,aAAc3H,EAAiBvE,EAAjBuE,kBAAmBuH,EAAI9L,EAAJ8L,KAAerQ,GAAFuE,EAAP9M,QAAiB8M,EAARvE,UAAUmC,EAAUoC,EAAVpC,WACnG8N,EAAgB1L,EAAhB0L,iBAAkBkyB,EAAW59B,EAAX49B,YAAa/jB,EAAU7Z,EAAV6Z,WAAYikB,EAAkB99B,EAAlB89B,mBAC3Cp/B,EAAQsB,EAARtB,SAAUi5B,EAAQ33B,EAAR23B,SAAU56B,EAASiD,EAATjD,UAGtB,GAAKgF,EAQL,GAAgC,MAA5BA,EAAcnM,UAQlB,GAAIgoC,EAAYv4B,MAAK,SAAAzjB,GAAE,OAAKk8C,EAAmB9mC,QAAO,SAAAgV,GAAG,OAAIA,EAAIwyB,UAAY58C,EAAG48C,OAAO,IAAEzkC,OAASnY,EAAG68C,eAAiBX,EAAmB9mC,QAAO,SAAAgV,GAAG,OAAIA,EAAIwyB,UAAY58C,EAAG48C,OAAO,IAAEzkC,OAASnY,EAAG88C,aAAa,IAC1Mt5C,KAAK0E,SAAS,CACZV,+BAAgC,gBAChC8b,SAAS,SAKb,GAAI44B,EAAmBz4B,MAAK,SAAAs5B,GAAG,OAAI/gC,EAAW5G,QAAO,SAAApV,GAAE,MAA0B,MAAtBA,EAAG+pB,OAAOE,UAAoBH,EAAiBrG,MAAK,SAAA2G,GAAG,OAAIA,EAAIL,OAAOM,QAAUrqB,EAAG+pB,OAAOM,KAAK,KAAKH,EAAKzG,MAAK,SAAA2G,GAAG,OAAIA,EAAIrO,SAAWghC,EAAIhhC,QAAUqO,EAAIC,QAAUrqB,EAAG+pB,OAAOM,KAAK,IAAE,IAAE5G,MAAK,SAAAzjB,GAAE,OAAKA,EAAGu2C,SAAS9yB,MAAK,SAAA2G,GAAG,OAAI2yB,EAAI9G,WAAWxyB,MAAK,SAAAzjB,GAAE,OAAIA,IAAOoqB,EAAI3T,OAAO8C,UAAU,GAAC,GAAC,GAAC,IACzU/V,KAAK0E,SAAS,CACZV,+BAAgC,6BAChC8b,SAAS,SAKb,GAAIX,EAAmB,CAErB,IAAI/R,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,gBAC1DtV,EAAO,CACXopB,gBAAiBpK,EAAc1J,OAC/BkW,oBAAqBhK,EAAkBlM,OACvCzI,OAAQC,EAAKD,OACb2Q,eAAgB2L,EAAa7T,OAC7BiU,SAAUqrB,EACV56B,UAAWA,EACX2B,SAAUA,EACVsU,aAAc8qB,EAAmB/0C,KAAI,SAAAnH,GAAE,MAAK,CAC1Cg9C,iBAAkBhB,EAAYz/B,MAAK,SAAA6N,GAAG,OAAIA,EAAIwyB,UAAY58C,EAAG48C,OAAO,IAAEnmC,OACtEimC,gBAAiB18C,EAAGyW,OACpB+T,YAAayN,EAAW1b,MAAK,SAAA6N,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,IAAEu/B,SAC9DC,WAAYhe,EAAW1b,MAAK,SAAA6N,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,IAAEw/B,WAAW1kB,KAAK,KAE7E7G,SAAUqrB,EACV56B,UAAWA,EACZ,KAEHna,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAAD+M,EAC+C,OAAhB,OAA/CA,EAAAtD,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CN,EAAiDO,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdqE,GAEJxZ,QAAQC,IAAI,8BAA+B6M,GACvCA,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,cACjDif,SAAS,IAIbpa,EAAWO,QACb,GACJ,KAAO,CAEL,IAAImH,EAAMnQ,EAAe,cAAgB0f,EAAc1J,OAAS,gBAC1DtV,EAAO,CACXopB,gBAAiBpK,EAAc1J,OAC/BzI,OAAQC,EAAKD,OACb2Q,eAAgB2L,EAAa7T,OAC7BiU,SAAUqrB,EACV56B,UAAWA,EACX2B,SAAUA,EACVsU,aAAc8qB,EAAmB/0C,KAAI,SAAAnH,GAAE,MAAK,CAC1Cg9C,iBAAkBhB,EAAYz/B,MAAK,SAAA6N,GAAG,OAAIA,EAAIwyB,UAAY58C,EAAG48C,OAAO,IAAEnmC,OACtEimC,gBAAiB18C,EAAGyW,OACpB+T,YAAayN,EAAW1b,MAAK,SAAA6N,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,IAAEu/B,SAC9DC,WAAYhe,EAAW1b,MAAK,SAAA6N,GAAG,OAAIA,EAAI3T,SAAWzW,EAAGyW,MAAM,IAAEw/B,WAAW1kB,KAAK,KAE7E7G,SAAUqrB,EACV56B,UAAWA,EACZ,KAEHna,MAAM4P,EAAK,CACT3P,OAAQ,OACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAUF,KAEpBgP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,IAChCF,MAAK,SAAAC,GAAa,IAADyZ,EAC+C,OAAhB,OAA/CA,EAAAhQ,EAAS0C,MAAK,SAAAvc,GAAE,MAAiB,gBAAbA,EAAGyd,KAAuB,UAAC,EAA/CoM,EAAiDnM,YAC/Cld,EACEC,EACA,cACAwN,EAAKoV,SACLjT,EAASE,QACT6P,EAAc1H,QACdqE,GAEJxZ,QAAQC,IAAI,8BAA+B6M,GACvCA,EAASE,QACXzJ,EAAKqB,SAAS,CACZV,+BAAgC4I,EAASE,QAAQjM,cACjDif,SAAS,IAIbpa,EAAWO,QACb,GACJ,MAxHEjG,KAAK0E,SAAS,CACZV,+BAAgC,qBAChC8b,SAAS,SAVX9f,KAAK0E,SAAS,CACZV,+BAAgC,gBAChC8b,SAAS,GA+Hf,GAAC,CAAAngB,IAAA,SAAAC,MAED,WAAU,IAADszC,EAAAC,EAAAnnC,EAAA,KACP0C,EAA8B1O,KAAKT,MAA3BmG,EAAUgJ,EAAVhJ,WACRwV,GADyBxM,EAALlD,MAM+DxL,KAAKmD,OALhF2c,EAAO5E,EAAP4E,QAAS/b,EAAUmX,EAAVnX,WACf0G,EAAIyQ,EAAJzQ,KAAMqc,EAAY5L,EAAZ4L,aAAiChZ,GAAFoN,EAAjBiE,kBAA0BjE,EAAPpN,SAAS4Y,EAAIxL,EAAJwL,KAAMlO,EAAU0C,EAAV1C,WAAYo6B,EAAiB13B,EAAjB03B,kBAClEtsB,EAAgBpL,EAAhBoL,iBACAhN,EAAQ4B,EAAR5B,SAAUi5B,EAAQr3B,EAARq3B,SAAU56B,EAASuD,EAATvD,UACpB6gC,EAAWt9B,EAAXs9B,YAAa/jB,EAAUvZ,EAAVuZ,WAAgCkkB,GAAFz9B,EAAlBw9B,mBAAqCx9B,EAAjBy9B,mBAC7C30C,EAA8BkX,EAA9BlX,+BAAgCC,EAAmBiX,EAAnBjX,oBAAqBC,EAAsBgX,EAAtBhX,uBAEvD,OACE9D,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,MAAO5B,gBAAiB,mBAAoBtF,SAAA,CAE/EiI,IACAtH,EAAAA,EAAAA,KAACuC,GAAY,CACXkE,MAAOc,EACPT,sBAAuBzD,KAAKyD,wBAG9BO,IACArH,EAAAA,EAAAA,KAACkJ,EAAuB,CACtBjF,KAAMoD,EACN/C,iCAAkCjB,KAAKiB,oCAE3CtE,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEiG,MAAO,OACtBrF,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAK7F,SAEtB28C,IACAh8C,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGM,eAAgB,GAAIguB,WAAY,EAAG7uB,gBAAiBZ,EAAMpC,MAAO2D,aAAc,GAAKjG,UAC1GoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGY,OAAQ,EAAGnB,gBAAiBZ,EAAMlC,OAAQxC,SAAA,EAChEoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE+F,WAAY,SAAUK,eAAgB,IAAMnG,SAAA,EACzDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAMzC,KAAMnB,SAAU,IAAMd,SAAE28C,EAAkBpgC,UAClG5b,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CACXgB,WAAY,eACZ0D,MAAO,QACP3D,SAAU,GACVwF,UAAW,SACXW,kBAAmB,IAClB8L,cAAe,EAAE/S,SAAE28C,EAAkBr/B,eAE1C3c,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAO+zC,kBACvBT,WAAW,EACX9jC,YAAY,iDACZC,qBAAqB,wBACrB/P,MAAO60B,EAAW1b,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAW0lC,EAAkB1lC,MAAM,IAAEu/B,SACrE/qC,aAAc,SAAA7G,GAAI,OAAIoL,EAAKytC,oBAAoB74C,EAAK,KAEtDjE,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEyG,OAAQ,GAAIT,eAAgB,SAAUD,WAAY,SAAUR,gBAAiBZ,EAAMpC,OAAStC,UACzGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEqG,cAAe,YAAarF,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMhC,OAAS1C,SAAC,gBAE9GW,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CAAC3K,MAAO,CAAE8F,KAAM,GACzB8E,8BAA8B,EAAM3K,UACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOg0C,aAAal4C,SAAA,CAEzB,MAAJ0qB,GAAgG,OAA5FwsB,EAAJxsB,EAAM9U,QAAO,SAAApV,GAAE,OAAIA,EAAG+b,SAAWuO,EAAavO,QAAU/b,EAAG+b,UAA4B,MAAjBogC,OAAiB,EAAjBA,EAAmBpgC,OAAM,MAAqE,OAApE46B,EAAhGD,EAAkGvvC,KAAI,SAAAkI,GAAI,OAAI2M,EAAWO,MAAK,SAAAvc,GAAE,OAAIA,EAAG+pB,OAAOM,QAAUhb,EAAKgb,KAAK,GAAC,UAA/J,EAAJssB,EAAsKxvC,KAAI,SAAAkI,GAAI,OAC5KlP,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAqC/E,MAAO,CAACmE,GAAOmzC,UAAmC,MAAxBxnC,EAAK0a,OAAOE,SAAmB,CAAEnlB,gBAAiBZ,EAAMzC,OACtI+C,QAAS,kBAAMgL,EAAKmoC,iBAAiBtoC,EAAK,EAAC7P,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOqzC,QAAQv3C,SAAE6P,EAAK0a,OAAOpgB,QAFrB0F,EAAK0a,OAAOtT,OAAO8C,WAGvB,IAIL,MAAhBuQ,OAAgB,EAAhBA,EAAkB3iB,KAAI,SAAAkI,GAAI,OACxBlP,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAqC/E,MAAO,CAACmE,GAAOmzC,UAAmC,MAAxBxnC,EAAK0a,OAAOE,SAAmB,CAAEnlB,gBAAiBZ,EAAMzC,OACtI+C,QAAS,kBAAMgL,EAAKmoC,iBAAiBtoC,EAAK,EAAC7P,UAC3CW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOqzC,QAAQv3C,SAAE6P,EAAK0a,OAAOpgB,QAFrB0F,EAAK0a,OAAOtT,OAAO8C,WAGvB,UAK3BpZ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEyG,OAAQ,GAAIT,eAAgB,SAAUD,WAAY,SAAUR,gBAAiBZ,EAAMpC,OAAStC,UACzGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEqG,cAAe,YAAarF,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMhC,OAAS1C,SAAC,wBAE9GW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGP,gBAAiBZ,EAAMlC,OAAQxC,UACrDW,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CACT0sC,sBAAuB,CAAE19B,SAAU,EAAG5T,WAAY,WAAYC,eAAgB,UAC9E4E,8BAA8B,EAAM3K,SAEjB,MAAjB42C,OAAiB,EAAjBA,EAAmBG,SAASpvC,KAAI,SAAAkI,GAAI,IAAA6tC,EAAA5+B,EAAA,OAClC1a,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAA8B/E,MAAO,CAACmE,GAAOmzC,UAAW,CAAE5wC,OAAQ,KAAmE,OAA7Di3C,EAAAjlB,EAAW1b,MAAK,SAAAvc,GAAE,OAAIA,EAAGyW,SAAW0lC,EAAkB1lC,MAAM,UAAC,EAA7DymC,EAA+DjH,WAAWxyB,MAAK,SAAAzjB,GAAE,OAAIA,IAAOqP,EAAKoH,OAAO8C,UAAU,MAAK,CAAEzU,gBAAiBZ,EAAM1C,WACvOgD,QAAS,kBAAMgL,EAAKsnC,WAAWznC,EAAK,EAAC7P,SAAA,EACrCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOqzC,QAAQv3C,SAAE6P,EAAK1F,OAEd,IAAnB0F,EAAKyP,YACLlb,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEwF,SAAU,WAAYE,KAAM,GAAIE,MAAO,GAAI5E,WAAY,eAAgB0D,MAAOC,EAAM3C,SAAUjB,SAAU,IAAMd,SAAA,CAAE6P,EAAKyP,UAAY,EAAI,GAAK,IAAmB,OAAhBR,EAAEjP,EAAKyP,gBAAS,EAAdR,EAAgBS,QAAQ,QALnK1P,EAAKoH,OAAO8C,WAOhB,gBASnCpZ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,UACvBoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,MAAOuF,QAAS,GAAIzM,SAAA,EACzDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGY,OAAQ,EAAGnB,gBAAiBZ,EAAMpC,MAAO2D,aAAc,GAAKjG,UAClFoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGY,OAAQ,EAAGyF,aAAc,EAAG5G,gBAAiBZ,EAAMlC,OAAQxC,SAAA,EACjFoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE+F,WAAY,SAAUS,UAAW,IAAMvG,SAAA,EACpDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAMzC,KAAMnB,SAAU,IAAMd,SAAE8qB,EAAavO,UAC7F5b,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAO,CAAEyG,OAAQ,GAAIR,MAAO,MAAOjF,WAAY,eAAgB0D,MAAO,QAAS3D,SAAU,GAAIwF,UAAW,SAAUW,kBAAmB,IAC9Iu1B,SAA6B,MAAlB/tB,EAAKuV,UAAoBlS,EAAQmR,WAAWgB,MAAK,SAAAzjB,GAAE,MAAiB,aAAbA,EAAGojB,KAAoB,IACzF4zB,WAAS,EACTC,cAAY,EACZ7zC,MAAO0Z,EACP7R,aAAc,SAAA7G,GAAI,OAAIoL,EAAKtH,SAAS,CAAE4U,SAAU1Y,GAAO,QAG3DR,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAOmE,GAAOwzC,WAAW13C,SAAA,EAC7BW,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAOyzC,gBAC9B3yC,QAAS,kBAAMgL,EAAK4nC,YAAY,QAAQ,EAAC53C,UACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,wBAE1C9D,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAOmE,GAAO2zC,iBAAiB73C,UACnCW,EAAAA,EAAAA,KAAC2K,EAAAA,QAAS,CAACvL,MAAOmE,GAAO4zC,aACvBl0C,MAAO2yC,EACP50B,aAAa,UACblW,aAAc,SAAA7G,GAAI,OAAIoL,EAAK+nC,cAAcnzC,EAAK,OAGlDjE,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAOmE,GAAO8zC,gBAC9BhzC,QAAS,kBAAMgL,EAAK4nC,YAAY,OAAO,EAAC53C,UACxCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAOtH,KAAM,GAAI4B,MAAM,2BAG3C9D,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CACT3K,MAAO,CAAE8F,KAAM,EAAGP,gBAAiBZ,EAAMpC,MAAOgiB,cAAe,GAC/D3Z,8BAA8B,EAAM3K,SAElCw8C,EAAY70C,KAAI,SAAAnH,GAAE,OAChB4D,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAAjE,SAAA,EACHW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEyG,OAAQ,GAAIT,eAAgB,SAAUD,WAAY,UAAY9F,UAC3EoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEqG,cAAe,YAAarF,WAAY,eAAgBD,SAAU,GAAI2D,MAAO,SAAWzE,SAAA,CAAEQ,EAAGm9C,UAAU,KAACh9C,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMzC,MAAQjC,SAAC,QAAU,IAAEQ,EAAG88C,cAAc,KAAC38C,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMzC,MAAQjC,SAAC,QAAU,IAAEQ,EAAG68C,oBAEpU18C,EAAAA,EAAAA,KAAC8Y,GAAAA,QAAQ,CACP1Z,MAAO,CAAE0G,QAAS,KAClBkE,8BAA8B,EAC9BiP,KAAM6e,EAAW7iB,QAAO,SAAAgV,GAAG,OAAIA,EAAIwyB,UAAY58C,EAAG48C,OAAO,IACzDzjC,WAAY5R,EAAWkB,SACvB6Q,aAAc,SAACjK,EAAMiJ,GAAK,OAAKjJ,EAAKoH,OAAO8C,UAAU,EACrDC,WAAY,SAAApa,GAAA,IAAGiQ,EAAIjQ,EAAJiQ,KAAI,OAAOG,EAAK4tC,gBAAgB/tC,EAAK,MAV7CrP,EAAGyW,OAAO8C,WAYd,YAMjBpZ,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEoG,eAAgB,EAAGH,MAAO,KAAOhG,UAC9CoE,EAAAA,EAAAA,MAACsG,EAAAA,QAAU,CAAC3K,MAAO,CAAE8F,KAAM,GACzB8E,8BAA8B,EAC9B8Q,sBAAsB,EAAMzb,SAAA,EAC5BW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,EAAGT,OAAQ,GAAIC,OAAQ,MAEzDrC,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAA+B,MAAdqW,EAAoBjX,EAAMnC,MAAQmC,EAAMzC,KAAMgE,aAAc,EAAGQ,OAAQ,GACnMzB,QAAS,kBAAMgL,EAAKooC,mBAAmB,EAACp4C,SAAA,EACxCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBuF,UAAW,SAAU7B,MAAO,QAAS2B,cAAe,aAAcpG,SAAgB,MAAd2b,EAAoBhV,EAAAA,QAAAA,IAAS,UAAYA,EAAAA,QAAAA,IAAS,eACjKhG,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBuF,UAAW,SAAU7B,MAAO,QAAS3D,SAAU,IAAKd,SAAC,mBAElGW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,EAAGT,OAAQ,GAAIC,OAAQ,MAEzD9F,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAAiB,QAASW,aAAc,EAAGQ,OAAQ,GAC9J2Y,SAAU0E,EACV9e,QAAS,kBAAMgL,EAAKtH,SAAS,CAAEob,SAAS,IAAQ,kBAAM9T,EAAK6R,UAAU,GAAC,EAAC7hB,UACvEW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,WAEjD7B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,EAAGT,OAAQ,GAAIC,OAAQ,MAEzD9F,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAAiBZ,EAAMnC,MAAO0D,aAAc,EAAGQ,OAAQ,GAClKzB,QAAS,kBAAMgL,EAAK4nC,YAAY,OAAO,EAAC53C,UACxCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,OAAOtH,KAAM,GAAI4B,MAAM,aAEzC9D,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAAiBZ,EAAMnC,MAAO0D,aAAc,EAAGQ,OAAQ,GAClKzB,QAAS,kBAAMgL,EAAK4nC,YAAY,QAAQ,EAAC53C,UACzCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAM,aAE1C9D,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,EAAGT,OAAQ,GAAIC,OAAQ,MAEzD9F,EAAAA,EAAAA,KAACmE,EAAAA,QAAgB,CAAC/E,MAAO,CAAE+F,WAAY,SAAUmB,kBAAmB,EAAGlB,eAAgB,SAAUS,OAAQ,GAAIlB,gBAAiB,QAASW,aAAc,EAAGQ,OAAQ,GAC9J2Y,SAAU0E,EACV9e,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,UACnCW,EAAAA,EAAAA,KAACuJ,EAAAA,QAAS,CAACC,KAAK,QAAQtH,KAAM,GAAI4B,MAAOC,EAAMlC,sBAQ/D,GAAC,CAAAmB,IAAA,kBAAAC,MAED,SAAgBiM,GAAO,IAADguC,EAAAntC,EAAA,KACpBoP,EAA2C9b,KAAKmD,MAAxCY,EAAU+X,EAAV/X,WACF+U,EADgCgD,EAAlB48B,mBACaz4B,MAAK,SAAAzjB,GAAE,OAAIA,EAAGyW,SAAWpH,EAAKoH,MAAM,IAErE,OACEtW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAIkC,EAAWkB,UAAWjJ,UAC7CoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAEyG,OAAQ,GAAIiG,QAAS,GAAIhG,OAAQ,IAAKnB,gBAAiBwX,EAAQpY,EAAM1C,SAAW0C,EAAMlC,OAC/GwC,QAAS,kBAAM0L,EAAKotC,iBAAiBjuC,EAAK,EAAC7P,SAAA,EAC3CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAI7F,UACvBW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAO,SAAYsO,cAAe,EAAE/S,SAAE6P,EAAKyN,cAExFlZ,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,MAAOnB,eAAgB,iBAAkB/F,SAAA,EACrEW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAO,QAAS3D,SAAU,OACrEsD,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAC,CAAEgB,WAAY,eAAgBD,SAAU,GAAI2D,MAAmC,IAA5BgF,OAAOoG,EAAKkuC,YAAoB,cAAgBjhC,EAAQ,QAAUpY,EAAM3C,WAAY/B,SAAA,CAAC,IAAiB,OAAhB69C,EAAChuC,EAAKkuC,iBAAU,EAAfF,EAAiBt+B,QAAQ,aAK3L,KAACg9B,CAAA,CA7hBuB,CAASp3C,EAAAA,WAiiB7BjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/B4yC,kBAAmB,CACjBl3C,WAAY,eACZD,SAAU,GACV2D,MAAO,QACPwC,kBAAmB,GACnBT,OAAQ,IACRlB,gBAAiBZ,EAAMnC,OAEzBm1C,WAAY,CACVlxC,OAAQ,GACRU,cAAe,MACfnB,eAAgB,SAChBD,WAAY,UAEd6xC,gBAAiB,CACf9xC,KAAM,EACNqB,cAAe,MACfnB,eAAgB,WAChBD,WAAY,SACZ0gB,YAAa,IAEfqxB,iBAAkB,CAChBhyC,KAAM,EACNE,eAAgB,SAChBD,WAAY,UAEdkyC,gBAAiB,CACfnyC,KAAM,EACNqB,cAAe,MACfnB,eAAgB,aAChBD,WAAY,SACZquB,WAAY,IAEd2jB,aAAc,CACZ/2C,WAAY,eACZD,SAAU,GACVkF,MAAO,OACPvB,MAAO,QACP6B,UAAW,UAEb4xC,aAAc,CACZzrC,QAAS,EACTvF,cAAe,MACfqf,SAAU,OACVxgB,eAAgB,SAChBT,gBAAiBZ,EAAMlC,OAEzB60C,UAAW,CACTpwC,kBAAmB,GACnBqG,UAAW,GACXvH,eAAgB,SAChBE,aAAc,GACdX,gBAAiBZ,EAAMpC,MACvBmE,OAAQ,GAEV8wC,QAAS,CACPx2C,WAAY,eACZ0D,MAAO,QACP3D,SAAU,M,6cC9lBsB,IAEfk9C,GAAS,SAAA76C,IAAAC,EAAAA,EAAAA,SAAA46C,EAAA76C,GAAA,IAAAE,EAAAC,GAAA06C,GAC5B,SAAAA,EAAYz6C,GAAQ,IAADM,EAWf,OAXeL,EAAAA,EAAAA,SAAA,KAAAw6C,IACjBn6C,EAAAR,EAAAI,KAAA,KAAMF,IAqCR06C,kBAAoB,SAAArkC,GAClB9V,QAAQC,IAAI,2BAA4B6V,GACxC/V,EAAK6E,SAAS,CACZ+F,KAAMmL,EAAKnL,KACXkS,cAAe/G,EAAK+G,cACpB+F,WAAY9M,EAAK8M,YAErB,EA3CE7iB,EAAKsD,MAAQ,CACXlG,aAAcsC,EAAMiM,MAAMC,OAAOxO,aACjCoN,gBAAiB9K,EAAMiM,MAAMC,OAAOpB,gBACpCtG,WAAYxE,EAAMiM,MAAMC,OAAO1H,WAE/BiN,QAASrF,MAAS2J,OAAO,YACzB7K,KAAM,KACNkS,cAAe,KACf+F,WAAY,IACZ7iB,CACJ,CAwMC,OAxMAH,EAAAA,EAAAA,SAAAs6C,EAAA,EAAAr6C,IAAA,oBAAAC,MAED,WACE,IAAA+F,EAAwC3F,KAAKmD,MAArCkH,EAAe1E,EAAf0E,gBAAiBtG,EAAU4B,EAAV5B,WAEX,MAAVA,GAAAA,EAAYqB,aACdyf,EAAAA,EAAOC,QAASC,EAAAA,GAAAA,SACd1a,EAAgB2R,eAAegJ,UAAU,EAAG3a,EAAgB2R,eAAeiJ,YAAY,aAAe,aACtG,CACEC,MAAO,CACL1a,OAAQzG,EAAWqB,WACnB+f,UAAW9a,EAAgB+a,SAIjCP,EAAAA,EAAOC,OAAOo1B,GAAG,mBAAoBl6C,KAAKi6C,mBAE9C,GAAC,CAAAt6C,IAAA,uBAAAC,MAED,WACMilB,EAAAA,EAAOC,SACTD,EAAAA,EAAOC,OAAOq1B,IAAI,mBAAoBn6C,KAAKi6C,mBAC3Cp1B,EAAAA,EAAOC,OAAOQ,QAElB,GAAC,CAAA3lB,IAAA,wBAAAC,MAWD,SAAsBiM,GACpB,OAAKA,EACDA,EAAKyE,UAAkB5P,EAAMvC,MACV,MAAnB0N,EAAK0E,UAA0B7P,EAAMtC,QAClB,MAAnByN,EAAK2E,UACA9P,EAAM5C,OACe,MAAnB+N,EAAK2E,UACP9P,EAAM3C,SACe,MAAnB8N,EAAK2E,UACP9P,EAAM1C,SACe,MAAnB6N,EAAK2E,UACP9P,EAAMzC,KACe,MAAnB4N,EAAK2E,UACP9P,EAAMxC,iBADR,EAXWwC,EAAM9B,KAc1B,GAAC,CAAAe,IAAA,yBAAAC,MAGD,SAAuBiM,GACrB,MAAuB,MAAnBA,EAAK8L,UAWAhV,EAAAA,QAAAA,IAAS,GAAGkJ,EAAK2E,WAAaiX,EAAE,WAVhB,MAAnB5b,EAAK0E,UACA5N,EAAAA,QAAAA,IAAS,SACY,MAAnBkJ,EAAK0E,UACY,MAAtB1E,EAAK+Q,aACAja,EAAAA,QAAAA,IAAS,WAAa,MAEtBA,EAAAA,QAAAA,IAAS,gBAJb,CAUX,GAAC,CAAAhD,IAAA,4BAAAC,MAED,SAA0BiM,GACxB,MAAqB,MAAjBA,EAAK6b,QACAhnB,EAAM3C,SAES,MAApB8N,EAAK0X,WACA7iB,EAAM1C,SAER0C,EAAM5C,MACf,GAAC,CAAA6B,IAAA,SAAAC,MAED,WAAU,IAADgwB,EAAAphB,EAAAnL,EAAA,KACPqL,EAA8B1O,KAAKT,MAApBmG,GAAFgJ,EAALlD,MAAiBkD,EAAVhJ,YACf8G,EACuCxM,KAAKmD,MADpCkH,EAAemC,EAAfnC,gBAA6B2G,GAAFxE,EAAVzI,WAAmByI,EAAPwE,SACnCvG,EAAI+B,EAAJ/B,KAAMkS,EAAanQ,EAAbmQ,cAAe+F,EAAUlW,EAAVkW,WAEvB,OACEtiB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGqB,cAAe,OAAQlH,SAAA,EAC7CW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEiG,MAAO,GAAIV,gBAAiBZ,EAAM/B,OAAQ3C,UACvDW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEwG,UAAW,GAAIC,OAAQ,IAAKlB,gBAAiBtB,KAAKqQ,sBAAsBsM,SAEzFvc,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGP,gBAAiB,SAAUtF,SAAA,EACjDoE,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CAAC/E,MAAO,CAAEwN,iBAAkB,GAAI/G,OAAQ,GAAIU,cAAe,MAAOpB,WAAY,WAAYC,eAAgB,iBACzHf,QAAS,kBAAM0E,EAAWO,QAAQ,EAACjK,SAAA,EACnCW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO+vB,WAAWj0B,SAAM,MAAJyO,OAAI,EAAJA,EAAMoV,YACvCljB,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO+vB,WAAWj0B,SAAM,MAAJyO,OAAI,EAAJA,EAAMylB,cAEzC9vB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE0G,OAAQ,EAAG0tB,WAAY,EAAGjtB,cAAe,MAAOnB,eAAgB,iBAAkB/F,SAAA,EAC/FW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE0G,OAAQ,EAAGZ,KAAM,EAAGqB,cAAe,OAASlH,SAEvD2gB,IACAvc,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEo0B,WAAY,EAAGpnB,YAAa,EAAGzH,gBAAiBtB,KAAKqQ,sBAAsBsM,GAAgB5a,eAAgB,SAAUD,WAAY,UAAW9F,SAAA,EAEzJW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAOkwB,eAAgBrhB,cAAe,EAAE/S,SAAE2gB,EAAcxG,SAAW,MAChFxZ,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAM1B,OAAQlC,SAAU,GAAIuzB,cAAe,GAAKthB,cAAe,EAAE/S,SAAE2gB,EAAc1H,WACnItY,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO2X,eAAgB9I,cAAe,EAAE/S,SAAE2gB,EAAc2T,oBAI3E3zB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE0G,OAAQ,EAAGD,OAAQ,WAGpCpC,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,MAAOf,eAAgB,EAAGgT,gBAAiB,EAAGC,gBAAiB,SAAUpZ,SAAA,EACrGW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEiG,MAAO,GAAIQ,OAAQ,GAAIV,WAAY,SAAUC,eAAgB,SAAU2H,iBAAkBhJ,EAAMzC,MAAOjC,UACnHW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO+vB,WAAY,CAAEnzB,SAAU,KAAMd,SAAE2G,EAAAA,QAAAA,IAAS,YAEhEhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGE,eAAgB,UAAW/F,UACjDW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO+vB,WAAY,CAAEnzB,SAAU,KAAMd,SAAE2G,EAAAA,QAAAA,IAAS,aAEhEhG,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEwK,aAAc,GAAIzE,WAAY,WAAYC,eAAgB,UAAW/F,UAClFW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAACmE,GAAO+vB,WAAY,CAAEnzB,SAAU,KAAMd,SAAE2G,EAAAA,QAAAA,IAAS,iBAGlEhG,EAAAA,EAAAA,KAAC+J,EAAAA,QAAU,CAAC3K,MAAO,CAAE8F,KAAM,GACzB2c,IAAK,SAAAA,GAAG,OAAInb,EAAKstB,cAAgBnS,CAAG,EACpCoS,oBAAqB,kBAAMvtB,EAAKstB,cAAcE,aAAa,EAC3DlqB,8BAA8B,EAAM3K,SAElC0mB,EAAW9Q,QAAO,SAAApV,GAAE,OAAKA,EAAGomB,SAAS,IAAEjf,KAAI,SAAAkI,GAAI,IAAAilB,EAAA,OAC7C1wB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAAjE,SAAA,CAEkB,MAAnB6P,EAAK8d,YACLvpB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE+F,WAAY,SAAUoB,cAAe,MAAOV,OAAQ,IAAMxG,SAAA,EACvEW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGW,OAAQ,EAAGR,MAAO,GAAIV,gBAAiBZ,EAAMjC,MAAO8K,iBAAkB,OAC9F5M,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgB0D,MAAOC,EAAMjC,MAAO3B,SAAU,IAAKd,SAAC,gBAC/EW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGW,OAAQ,EAAGR,MAAO,GAAIV,gBAAiBZ,EAAMjC,MAAO8K,iBAAkB,UAGlGnJ,EAAAA,EAAAA,MAACU,EAAAA,QAAgB,CACf/E,MAAO,CAAEmH,cAAe,MAAOf,eAAgB,EAAGgT,gBAAiB,EAAGC,gBAAiB/R,EAAK0tB,0BAA0BllB,IAAS7P,SAAA,EAE/HW,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkN,gBAAiB,GAAIjH,MAAO,GAAIF,WAAY,SAAU4H,iBAAkBhJ,EAAMzC,MAAOjC,UAClGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,IAAKd,SAAE6P,EAAKqb,cAEnE9mB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEkN,gBAAiB,GAAIpH,KAAM,GAAI7F,SAAA,EAC5CoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEmH,cAAe,OAAQlH,SAAA,EACpCoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAK7F,SAAA,EACxBW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,IAAKd,SAAE6P,EAAKyN,WAE/DzN,EAAKolB,UACLt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMzC,MAAOjC,SAAE6P,EAAKolB,cAGxFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,GAAInB,WAAY,YAAc9F,UAC9DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,IAAKd,SAAgB,OAAhB80B,EAAEjlB,EAAKqlB,gBAAS,EAAdJ,EAAgBvV,QAAQ,UAItFmH,EAAW9Q,QAAO,SAAApV,GAAE,OAAIA,EAAGomB,YAAc/W,EAAKoH,MAAM,IAAEtP,KAAI,SAAAijB,GAAG,IAAAuK,EAAA,OAC3D/wB,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEwG,UAAW,EAAGW,cAAe,OAAQlH,SAAA,EAClDoE,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,GAAK7F,SAAA,EACxBoE,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAIqzB,WAAY,IAAKn0B,SAAA,CAAC,KAAG4qB,EAAItN,YAEhFsN,EAAIqK,UACJt0B,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,GAAI2D,MAAOC,EAAMzC,MAAOjC,SAAE4qB,EAAIqK,cAGvFt0B,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAEkH,kBAAmB,GAAInB,WAAY,YAAc9F,UAC9DW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,IAAKd,SAAE4qB,EAAIsK,UAAyB,OAAhBC,EAAGvK,EAAIsK,gBAAS,EAAbC,EAAe5V,QAAQ,GAAK,SATlDqL,EAAI3T,OAAO8C,WAW9D,YAzCNlK,EAAKoH,OAAO8C,WA8ChB,OAIb3V,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAE0G,OAAQ,GAAIyF,aAAc,EAAGhF,cAAe,MAAOnB,eAAgB,WAAYD,WAAY,YAAa9F,SAAA,EACrHW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,OACrDsD,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAO,CAAEgB,WAAY,eAAgBD,SAAU,IAAKd,SAAA,CAAC,KAAe,MAAb2gB,GAAyB,OAAZiT,EAAbjT,EAAeyU,iBAAF,EAAbxB,EAA2BrU,QAAQ,KAAM,cAExG5e,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE0G,OAAQ,EAAGS,cAAe,UAGzC9C,EAAAA,EAAAA,MAACH,EAAAA,QAAI,CAAClE,MAAO,CAAEwN,iBAAkB,GAAI/G,OAAQ,GAAIU,cAAe,MAAOnB,eAAgB,iBAAkB/F,SAAA,EACvGW,EAAAA,EAAAA,KAAChB,EAAAA,QAAI,CAACI,MAAOmE,GAAO+vB,WAAWj0B,SAAE2P,MAAS2J,OAAO,YACjDlV,EAAAA,EAAAA,MAACzE,EAAAA,QAAI,CAACI,MAAOmE,GAAO+vB,WAAWj0B,SAAA,CAAC,cAAsC,OAA3BwS,EAACQ,EAAAA,QAAUC,SAASC,cAAO,EAA1BV,EAA4BW,MAAM,KAAK,aAGvFxS,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,CAAClE,MAAO,CAAE8F,KAAM,EAAGP,gBAAiBZ,EAAMrC,OAAQrC,UACrDW,EAAAA,EAAAA,KAACyS,EAAAA,QAAK,CACJrT,MAAO,CAAE8F,KAAM,GACfwN,OAAQ,CACN0M,IAAK1R,EAAgB2R,eAAhB3R,+CAAuFA,EAAgB+a,MAAQ,+BAAiCpU,GAEvJzB,WAAW,cAKrB,KAACyqC,CAAA,CArN2B,CAAS74C,EAAAA,WAwNjCjB,GAASkB,EAAAA,QAAWC,OAAO,CAC/B4uB,WAAY,CACVlzB,WAAY,eACZD,SAAU,GACVsF,cAAe,aAEjBguB,eAAgB,CACd7uB,SAAU,WACVE,IAAK,GAAIC,KAAM,EACf3E,WAAY,eACZiF,MAAO,OACPiH,gBAAiB,EAEjBlH,eAAgB,SAChBD,WAAY,SACZrB,MAAO,QACP3D,SAAU,GACVwF,UAAW,SACXF,cAAe,aAEjByV,eAAgB,CACdtW,SAAU,WACVK,OAAQ,EAAGF,KAAM,EACjB3E,WAAY,eACZiF,MAAO,OACPiH,gBAAiB,EACjB3H,gBAAiBZ,EAAM1B,OACvB+C,eAAgB,SAChBD,WAAY,SACZrB,MAAO,QACP3D,SAAU,GACVwF,UAAW,SACXF,cAAe,aAEjBW,WAAY,CACVR,UAAW,GACXxF,WAAY,eACZD,SAAU,GACV2D,MAAOC,EAAMjC,MACb2D,cAAe,e,6cCrOnB,IAAMg4C,IAAQC,EAAAA,EAAAA,WAEOC,GAAG,SAAAn7C,IAAAC,EAAAA,EAAAA,SAAAk7C,EAAAn7C,GAAA,IAAAE,EAAAC,GAAAg7C,GAAA,SAAAA,IAAA,IAAAz6C,GAAAL,EAAAA,EAAAA,SAAA,KAAA86C,GAAA,QAAAC,EAAA31C,UAAA+P,OAAA6lC,EAAA,IAAAn+C,MAAAk+C,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAA71C,UAAA61C,GAIrB,OAJqB56C,EAAAR,EAAAI,KAAAkF,MAAAtF,EAAA,OAAA8sC,OAAAqO,KAEtBr3C,MAAQ,CACN2c,SAAS,GACVjgB,CAAA,CAkFA,OAlFAH,EAAAA,EAAAA,SAAA46C,EAAA,EAAA36C,IAAA,oBAAAC,MAAA,eAAAyE,GAAAC,EAAAA,EAAAA,UAED,YAGE,IAAMo2C,EAAU,CACd,IAAOC,EAAQ,OACf,IAAOA,EAAQ,MACf,GAAMA,EAAQ,OACd,GAAMA,EAAQ,QAGV5uC,QAAsBxH,EAAAA,QAAaC,QAAQ,kBAE3C7B,EAAAA,QAAAA,KAAU,CACdoJ,cAAeA,GAAiB,KAChC2uC,QAAAA,UAIIE,EAAKC,UAAU,CAEnB,eAAgBF,EAAQ,SAGN,QAAhB77C,EAAAA,QAASC,IACX41C,EAAe,eAAAmG,sBACZnuC,MAAK,SAAAC,GACJ,MAAwB,YAApBA,EAAS8nC,OAA6BC,EAAe,eAAAC,0BAClD7nC,QAAQguC,QAAQnuC,EACzB,IAGJ5M,KAAK0E,SAAS,CAAEob,SAAS,GAE3B,IAAC,yBAAAzb,EAAAM,MAAA,KAAAC,UAAA,EAnCA,IAmCA,CAAAjF,IAAA,SAAAC,MAED,WAGE,OAFoBI,KAAKmD,MAAjB2c,SAEYnjB,EAAAA,EAAAA,KAACsD,EAAAA,QAAI,KAGvBG,EAAAA,EAAAA,MAAC46C,EAAAA,QAAmB,CAAAh/C,SAAA,EAClBW,EAAAA,EAAAA,KAACs+C,EAAAA,QAAS,CAACC,QAAM,KACjB96C,EAAAA,EAAAA,MAACg6C,GAAM/oB,UAAS,CACdC,cAAe,CACbC,aAAa,EACbC,UAAW,OACXC,gBAAgB,GAChBz1B,SAAA,EACFW,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,QAAQg1C,UAAWhxC,GAAOzG,QAASyG,GAAMixC,qBAC5Dz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,WAAWg1C,UAAWppB,GAAUruB,QAASquB,GAASqpB,qBACrEz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,aAAag1C,UAAWr3C,GAAYJ,QAASI,GAAWs3C,qBAC3Ez+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,YAAYg1C,UAAWnB,GAAWt2C,QAASs2C,GAAUoB,qBACxEz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,OAAOg1C,UAAW32B,GAAM9gB,QAAS8gB,GAAK42B,qBACzDz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,MAAMg1C,UAAWvhB,GAAKl2B,QAASk2B,GAAIwhB,qBACtDz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,QAAQg1C,UAAWlnB,GAAOvwB,QAASuwB,GAAMmnB,qBAC5Dz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,OAAOg1C,UAAW5N,GAAM7pC,QAAS6pC,GAAK6N,qBACzDz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,UAAUg1C,UAAWrN,GAASpqC,QAASoqC,GAAQsN,qBAClEz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,WAAWg1C,UAAW1O,GAAU/oC,QAAS+oC,GAAS2O,qBACrEz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,aAAag1C,UAAWhQ,GAAYznC,QAASynC,GAAWiQ,qBAC3Ez+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,UAAUg1C,UAAWvR,GAASlmC,QAASkmC,GAAQwR,qBAClEz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,SAASg1C,UAAWnT,GAAQtkC,QAASskC,GAAOoT,qBAC/Dz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,UAAUg1C,UAAWzU,GAAShjC,QAASgjC,GAAQ0U,qBAClEz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,WAAWg1C,UAAW3V,GAAU9hC,QAAS8hC,GAAS4V,qBACrEz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,QAAQg1C,UAAW1Y,GAAO/+B,QAAS++B,GAAM2Y,qBAC5Dz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,OAAOg1C,UAAW7G,GAAM5wC,QAAS4wC,GAAK8G,qBACzDz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,QAAQg1C,UAAW/F,GAAO1xC,QAAS0xC,GAAMgG,qBAC5Dz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,WAAWg1C,UAAWtF,GAAUnyC,QAASmyC,GAASuF,qBACrEz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,QAAQg1C,UAAW1E,GAAO/yC,QAAS+yC,GAAM2E,qBAC5Dz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,QAAQg1C,UAAWnN,GAAOtqC,QAASsqC,GAAMoN,qBAC5Dz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,OAAOg1C,UAAW9D,GAAM3zC,QAAS2zC,GAAK+D,qBACzDz+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,OAAOg1C,UAAWvJ,GAAMluC,QAAS,CAClD23C,aAAc,uBAEhB1+C,EAAAA,EAAAA,KAACy9C,GAAMxoB,OAAM,CAACzrB,KAAK,QAAQg1C,UAAW5C,GAAO70C,QAAS,CACpD23C,aAAc,2BAKxB,KAACf,CAAA,CAtFqB,CAASn5C,EAAAA,WAyFlBC,EAAAA,QAAWC,OAAO,CAC/BuE,UAAW,CACT/D,KAAM,EACNP,gBAAiB,OACjBQ,WAAY,SACZC,eAAgB,W,kBCnIpB,IAAI4B,EAAM,CACT,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,IACX,aAAc,IACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,QAAS,MACT,WAAY,MACZ,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,gBAAiB,MACjB,aAAc,MACd,gBAAiB,MACjB,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,UAAW,MACX,aAAc,MACd,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,KACX,aAAc,KACd,UAAW,MACX,OAAQ,MACR,UAAW,MACX,WAAY,KACZ,cAAe,KACf,UAAW,MACX,aAAc,MACd,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,YAAa,MACb,eAAgB,MAChB,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,KACR,UAAW,KACX,QAAS,MACT,WAAY,MACZ,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,UAAW,MACX,aAAc,MACd,QAAS,MACT,WAAY,MACZ,OAAQ,MACR,UAAW,MACX,QAAS,MACT,WAAY,MACZ,QAAS,KACT,aAAc,MACd,gBAAiB,MACjB,WAAY,KACZ,UAAW,KACX,aAAc,KACd,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,UAAW,MACX,OAAQ,MACR,YAAa,MACb,eAAgB,MAChB,UAAW,MACX,OAAQ,MACR,UAAW,MACX,aAAc,MACd,gBAAiB,MACjB,OAAQ,MACR,UAAW,MACX,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,MACd,UAAW,MACX,aAAc,OAIf,SAAS23C,EAAeC,GACvB,IAAIjjB,EAAKkjB,EAAsBD,GAC/B,OAAOE,EAAoBnjB,EAC5B,CACA,SAASkjB,EAAsBD,GAC9B,IAAIE,EAAoBztC,EAAErK,EAAK43C,GAAM,CACpC,IAAIzd,EAAI,IAAI4d,MAAM,uBAAyBH,EAAM,KAEjD,MADAzd,EAAE6d,KAAO,mBACH7d,CACP,CACA,OAAOn6B,EAAI43C,EACZ,CACAD,EAAertC,KAAO,WACrB,OAAOxR,OAAOwR,KAAKtK,EACpB,EACA23C,EAAeP,QAAUS,EACzBI,EAAOC,QAAUP,EACjBA,EAAehjB,GAAK,K,48XClShBwjB,EAA2B,CAAC,EAGhC,SAASL,EAAoBM,GAE5B,IAAIC,EAAeF,EAAyBC,GAC5C,QAAqB/W,IAAjBgX,EACH,OAAOA,EAAaH,QAGrB,IAAID,EAASE,EAAyBC,GAAY,CACjDzjB,GAAIyjB,EACJE,QAAQ,EACRJ,QAAS,CAAC,GAUX,OANAK,EAAoBH,GAAUt8C,KAAKm8C,EAAOC,QAASD,EAAQA,EAAOC,QAASJ,GAG3EG,EAAOK,QAAS,EAGTL,EAAOC,OACf,CAGAJ,EAAoBU,EAAID,E,MC5BxB,IAAIE,EAAW,GACfX,EAAoBY,EAAI,CAACC,EAAQC,EAAUC,EAAIC,KAC9C,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAAS7kB,EAAI,EAAGA,EAAIskB,EAASznC,OAAQmjB,IAAK,CAGzC,IAFA,IAAKykB,EAAUC,EAAIC,GAAYL,EAAStkB,GACpC8kB,GAAY,EACPC,EAAI,EAAGA,EAAIN,EAAS5nC,OAAQkoC,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAahgD,OAAOwR,KAAKwtC,EAAoBY,GAAGS,OAAOn9C,GAAS87C,EAAoBY,EAAE18C,GAAK48C,EAASM,MAC9IN,EAASjZ,OAAOuZ,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbR,EAAS9Y,OAAOxL,IAAK,GACrB,IAAIilB,EAAIP,SACExX,IAAN+X,IAAiBT,EAASS,EAC/B,CACD,CACA,OAAOT,CAnBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAI3kB,EAAIskB,EAASznC,OAAQmjB,EAAI,GAAKskB,EAAStkB,EAAI,GAAG,GAAK2kB,EAAU3kB,IAAKskB,EAAStkB,GAAKskB,EAAStkB,EAAI,GACrGskB,EAAStkB,GAAK,CAACykB,EAAUC,EAAIC,EAqBjB,C,KCzBdhB,EAAoB9jB,EAAKikB,IACxB,IAAIoB,EAASpB,GAAUA,EAAOqB,WAC7B,IAAOrB,EAAiB,QACxB,IAAM,EAEP,OADAH,EAAoBh0B,EAAEu1B,EAAQ,CAAEE,EAAGF,IAC5BA,CAAM,E,MCNd,IACIG,EADAC,EAAW3gD,OAAO4gD,eAAkBz2B,GAASnqB,OAAO4gD,eAAez2B,GAASA,GAASA,EAAa,UAQtG60B,EAAoB6B,EAAI,SAAS19C,EAAOwmB,GAEvC,GADU,EAAPA,IAAUxmB,EAAQI,KAAKJ,IAChB,EAAPwmB,EAAU,OAAOxmB,EACpB,GAAoB,kBAAVA,GAAsBA,EAAO,CACtC,GAAW,EAAPwmB,GAAaxmB,EAAMq9C,WAAY,OAAOr9C,EAC1C,GAAW,GAAPwmB,GAAoC,oBAAfxmB,EAAM+M,KAAqB,OAAO/M,CAC5D,CACA,IAAI29C,EAAK9gD,OAAO4E,OAAO,MACvBo6C,EAAoBsB,EAAEQ,GACtB,IAAIC,EAAM,CAAC,EACXL,EAAiBA,GAAkB,CAAC,KAAMC,EAAS,CAAC,GAAIA,EAAS,IAAKA,EAASA,IAC/E,IAAI,IAAItkB,EAAiB,EAAP1S,GAAYxmB,EAAyB,iBAAXk5B,KAAyBqkB,EAAelhB,QAAQnD,GAAUA,EAAUskB,EAAStkB,GACxHr8B,OAAOghD,oBAAoB3kB,GAASv8B,SAASoD,GAAS69C,EAAI79C,GAAO,IAAOC,EAAMD,KAI/E,OAFA69C,EAAa,QAAI,IAAM,EACvB/B,EAAoBh0B,EAAE81B,EAAIC,GACnBD,CACR,C,KCxBA9B,EAAoBh0B,EAAI,CAACo0B,EAAS6B,KACjC,IAAI,IAAI/9C,KAAO+9C,EACXjC,EAAoBztC,EAAE0vC,EAAY/9C,KAAS87C,EAAoBztC,EAAE6tC,EAASl8C,IAC5ElD,OAAO86B,eAAeskB,EAASl8C,EAAK,CAAEg+C,YAAY,EAAMxtC,IAAKutC,EAAW/9C,IAE1E,ECND87C,EAAoBmC,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO79C,MAAQ,IAAI89C,SAAS,cAAb,EAChB,CAAE,MAAOhgB,GACR,GAAsB,kBAAXigB,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBtC,EAAoBztC,EAAI,CAAC4Y,EAAKo3B,IAAUvhD,OAAOwhD,UAAUC,eAAez+C,KAAKmnB,EAAKo3B,GCClFvC,EAAoBsB,EAAKlB,IACH,qBAAXsC,QAA0BA,OAAOC,aAC1C3hD,OAAO86B,eAAeskB,EAASsC,OAAOC,YAAa,CAAEx+C,MAAO,WAE7DnD,OAAO86B,eAAeskB,EAAS,aAAc,CAAEj8C,OAAO,GAAO,ECL9D67C,EAAoB4C,IAAOzC,IAC1BA,EAAO0C,MAAQ,GACV1C,EAAO5/C,WAAU4/C,EAAO5/C,SAAW,IACjC4/C,GCHRH,EAAoBpjB,EAAI,K,MCKxB,IAAIkmB,EAAkB,CACrB,IAAK,GAaN9C,EAAoBY,EAAEQ,EAAK2B,GAA0C,IAA7BD,EAAgBC,GAGxD,IAAIC,EAAuB,CAACC,EAA4B9oC,KACvD,IAGImmC,EAAUyC,GAHTjC,EAAUoC,EAAaC,GAAWhpC,EAGhBkiB,EAAI,EAC3B,GAAGykB,EAASt8B,MAAMqY,GAAgC,IAAxBimB,EAAgBjmB,KAAa,CACtD,IAAIyjB,KAAY4C,EACZlD,EAAoBztC,EAAE2wC,EAAa5C,KACrCN,EAAoBU,EAAEJ,GAAY4C,EAAY5C,IAGhD,GAAG6C,EAAS,IAAItC,EAASsC,EAAQnD,EAClC,CAEA,IADGiD,GAA4BA,EAA2B9oC,GACrDkiB,EAAIykB,EAAS5nC,OAAQmjB,IACzB0mB,EAAUjC,EAASzkB,GAChB2jB,EAAoBztC,EAAEuwC,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAO/C,EAAoBY,EAAEC,EAAO,EAGjCuC,EAAqBC,KAAsB,gBAAIA,KAAsB,iBAAK,GAC9ED,EAAmBtiD,QAAQkiD,EAAqBt6C,KAAK,KAAM,IAC3D06C,EAAmB/5C,KAAO25C,EAAqBt6C,KAAK,KAAM06C,EAAmB/5C,KAAKX,KAAK06C,G,KC7CvF,IAAIE,EAAsBtD,EAAoBY,OAAErX,EAAW,CAAC,MAAM,IAAOyW,EAAoB,SAC7FsD,EAAsBtD,EAAoBY,EAAE0C,E","sources":["assets/utility.js","assets/theme.js","src/OverlayProcedureMessage.js","src/OverlayLanguage.js","src/OverlayAlert.js","src/Preference.js","src/Login.js","src/MainTableFloor.js","src/MainTable.js","src/MainMenu.js","src/OverlayAutoLogout.js","src/OverlayDeposit.js","src/OverlayScanBarcode.js","src/OverlayRequestAccess.js","src/OverlayChangePrice.js","src/OverlayLineDiscount.js","src/OverlayHeaderDiscount.js","src/OverlayMergeTable.js","src/OverlaySplitTable.js","src/OverlayChangeTable.js","src/OverlayReviseItem.js","src/OverlayTableActions.js","src/OverlayAdditionalFunctions.js","src/OverlayChoosePrinter.js","src/Main.js","src/OverlayServiceEntry.js","src/Register.js","src/OverlaySplitItems.js","src/Split.js","src/OverlayInputReference.js","src/OverlayMergeBill.js","src/OverlaySplitBill.js","src/OverlaySplitAmount.js","src/OverlayUpdateTips.js","src/OverlayViewSplitted.js","src/OverlayPaynow.js","src/Pos.js","src/OverlaySettleAdhoc.js","src/Adhoc.js","src/Dayclose.js","src/Printer.js","src/OverlayEnterDate.js","src/Report.js","src/Reprint.js","src/Resequence.js","src/Transfer.js","src/OverlayVoidReceipt.js","src/Void.js","src/Collect.js","src/Table.js","src/Menu.js","src/Scan.js","src/Trace.js","src/Activate.js","src/Limit.js","src/Fire.js","src/Combo.js","src/Secondary.js","App.js","node_modules/moment/locale|sync|/^/.*$","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import React, { useRef, useMemo, useEffect, useState, useCallback } from 'react';\nimport * as RN from 'react-native';\n// import ThemeContext from '../ThemeContext';\n\n// text wrapper for custom style text component\nexport function Text({ style, children, ...rest }) {\n\n  // const themeContext = useContext(ThemeContext);\n\n  let styleObject = style;\n  // convert array to object\n  if (Array.isArray(style)) {\n    styleObject = {};\n    style.forEach(el => {\n      styleObject = Object.assign(styleObject, el);\n    })\n  }\n\n  return (\n    // override font size\n    <RN.Text style={{ ...styleObject, fontSize: (styleObject?.fontSize || 14), fontFamily: (styleObject?.fontFamily || 'varela-round') }} {...rest}>\n      {children}\n    </RN.Text>\n  );\n};\n\nexport function debug(serviceEntry, msg1, msg2, msg3, msg4, msg5, msg6) {\n  fetch(serviceEntry + 'api/debug/', {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n    body: JSON.stringify({\n      msg1, // action\n      msg2, // user name\n      msg3, // error\n      msg4, // target id (table)\n      msg5, // detail name (tableItem)\n      msg6, // additional info (other)\n    }),\n  })\n}","import { Platform } from 'react-native';\r\n\r\nconst theme = {\r\n  vacant: '#30BEAE', // hsl(173, 60%, 47%)\r\n  reserved: '#FFB86F', // hsl(30, 100%, 72%)\r\n  occupied: '#2A79A8', //\thsl(202, 60%, 41%)\r\n  paid: '#E84855', // hsl(355, 78%, 60%)\r\n  unavailable: '#424549',\r\n  adhoc: '#7a4988', // hsl(287, 30%, 41%)\r\n  deposit: '#d65c91', // hsl(334, 60%, 60%)\r\n  grey1: '#23272A',\r\n  grey2: '#2C2F33',\r\n  grey3: '#36393E',\r\n  grey4: '#424549',\r\n  grey5: '#99aab5',\r\n\r\n  grey7: '#E3E5E8',\r\n  grey8: '#EBEDEF',\r\n  grey9: '#F2F3F5',\r\n\r\n  size: Platform.OS === 'web' ? 5 : 4,\r\n\r\n  black8: '#000000', // cc is 0.8, aa is not\r\n  white8: '#ffffffcc',\r\n}\r\n\r\nexport default theme;","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayproceduremessage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>WARNING</Text>\r\n            <Text style={[styles.overlaySubtitleText, { color: theme.paid }]}>Procedure Message</Text>\r\n            <Text style={styles.overlayText}>{this.props.text.toUpperCase()}</Text>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromProcedureMessage('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 3,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Feather, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayLanguage extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlaylanguage', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Language  </Text>\r\n            {/* <Text style={styles.overlayText}>Select a message for the chef</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('en')}>\r\n              <Text style={{ marginTop: 5, color: 'white', fontFamily: 'varela-round', fontSize: 24 }}>Aa</Text>\r\n              <Text style={[styles.buttonText,]}>ENGLISH</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zhs')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={[styles.buttonText,]}></Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('zht')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={styles.buttonText}></Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromLanguage('ja')}>\r\n              <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 24 }}></Text>\r\n              <Text style={styles.buttonText}></Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromLanguage('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { input } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{input?.title}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{input?.subtitle}</Text>\r\n            <Text style={styles.overlayText}>{input?.text}</Text>\r\n          </View>\r\n          {\r\n            input?.ok &&\r\n            <TouchableOpacity style={styles.overlayOption}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>OK</Text>\r\n            </TouchableOpacity>\r\n          }\r\n          {\r\n            input?.options ?\r\n              input?.options.map(el =>\r\n                <TouchableOpacity style={styles.overlayOption}\r\n                  key={el.handleText}\r\n                  onPress={() => this.props.handleUpdateFromAlert(el.handleText)}>\r\n                  <Text style={styles.overlayOptionText}>{el.text}</Text>\r\n                </TouchableOpacity>\r\n              )\r\n              : null\r\n          }\r\n          {\r\n            input?.cancel &&\r\n            <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n              onPress={() => this.props.handleUpdateFromAlert('')}>\r\n              <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n            </TouchableOpacity>\r\n          }\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Preference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // tcolsize: '',\r\n      // mcolsize: '',\r\n      // pcolsize: '',\r\n      // mquick: '',\r\n      // dsecondary: '',\r\n      // usecondary: '',\r\n      // rpartition: '',\r\n      preference: null,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n      this.setState({\r\n        preference\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doReset') {\r\n      this.doReset();\r\n    }\r\n  }\r\n\r\n  doPressReset() {\r\n    let options = [];\r\n    options.push({ text: intl.get('yes'), handleText: 'doReset' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: `${intl.get('reset')} ${intl.get('preference')}`,\r\n        text: 'Reset all to factory preset?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doReset() {\r\n    let preference = {\r\n      tcolsize: Platform.OS === 'web' ? 5 : 4,\r\n      mcolsize: Platform.OS === 'web' ? 3 : 2,\r\n      pcolsize: Platform.OS === 'web' ? 5 : 3,\r\n      mquick: 'Y',\r\n      dsecondary: 'N',\r\n      usecondary: '',\r\n      // rpartition: 0.33,\r\n    };\r\n    this.setState({ preference })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n  }\r\n\r\n  doTcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.tcolsize < 8) {\r\n      preferenceUpdate.tcolsize = preferenceUpdate.tcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.tcolsize = 3;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mcolsize < 6) {\r\n      preferenceUpdate.mcolsize = preferenceUpdate.mcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.mcolsize = 1;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doPcolsize() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.pcolsize < 7) {\r\n      preferenceUpdate.pcolsize = preferenceUpdate.pcolsize + 1;\r\n    } else {\r\n      preferenceUpdate.pcolsize = 2;\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doMquick() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.mquick === 'Y') {\r\n      preferenceUpdate.mquick = 'N';\r\n    } else {\r\n      preferenceUpdate.mquick = 'Y';\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doDsecondary() {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    if (preferenceUpdate.dsecondary === 'N') {\r\n      preferenceUpdate.dsecondary = 'Y';\r\n    } else {\r\n      preferenceUpdate.dsecondary = 'N';\r\n    }\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doUsecondary(text) {\r\n    const { preference } = this.state;\r\n    let preferenceUpdate = preference;\r\n    preferenceUpdate.usecondary = text;\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  doRpartition(text) {\r\n    const { preference } = this.state;\r\n\r\n    if (isNaN(text)) return;\r\n\r\n    let preferenceUpdate = preference;\r\n    preferenceUpdate.rpartition = Number(text);\r\n    this.setState({\r\n      preference: preferenceUpdate,\r\n    })\r\n    AsyncStorage.setItem('preference', JSON.stringify(preferenceUpdate))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render preference', preference);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doTcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>TCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>3-8</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Table</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.tcolsize === 5) || (Platform.OS !== 'web' && preference?.tcolsize === 4)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doPcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>PCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>2-7</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for POS</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.pcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.pcolsize === 5) || (Platform.OS !== 'web' && preference?.pcolsize === 3)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n                  <View\r\n                    style={styles.grid}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>USECONDARY</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>TEXT</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Secondary Display User</Text>\r\n                      <TextInput style={[styles.gridSecondText, { width: 100, color: theme.reserved, textAlign: 'right' }]}\r\n                        selectTextOnFocus\r\n                        defaultValue={preference?.usecondary || ''}\r\n                        onChangeText={(text) => this.doUsecondary(text)}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        !preference?.usecondary ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </View>\r\n\r\n                  {/* <View\r\n                    style={styles.grid}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>RPARTITION</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>0 &#60; X &#60; 1</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Partition Ratio</Text>\r\n                      <TextInput style={[styles.gridSecondText, { width: 100, color: theme.reserved, textAlign: 'right' }]}\r\n                        selectTextOnFocus\r\n                        defaultValue={preference?.rpartition.toString()}\r\n                        onChangeText={(text) => this.doRpartition(text)}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        Number(preference?.rpartition) === 0.33 ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </View> */}\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMcolsize()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MCOLSIZE</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>1-6</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Number of Columns for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mcolsize}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        ((Platform.OS === 'web' && preference?.mcolsize === 3) || (Platform.OS !== 'web' && preference?.mcolsize === 2)) ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doMquick()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>MQUICK</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>Y/N</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Quick Select for Menu</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.mquick}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        preference?.mquick === 'Y' ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={styles.grid}\r\n                    onPress={() => this.doDsecondary()}>\r\n                    <View style={styles.gridFirst}>\r\n                      <Text style={styles.gridFirstLeftText}>DSECONDARY</Text>\r\n                      <Text style={[styles.gridFirstRightText]}>Y/N</Text>\r\n                    </View>\r\n                    <View style={styles.gridSecond}>\r\n                      <Text style={styles.gridSecondText}>Acting Secondary Display</Text>\r\n                      <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.dsecondary}</Text>\r\n                    </View>\r\n                    <View style={styles.gridThird}>\r\n                      <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                      {\r\n                        preference?.dsecondary === 'N' ?\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.vacant }]}>{intl.get('default')}</Text>\r\n                          :\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('preference')}</Text>\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressReset()}>\r\n                <AntDesign\r\n                  name='warning'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reset')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialIcons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, Platform, Dimensions } from 'react-native';\r\nimport * as Linking from 'expo-linking';\r\nimport Constants from 'expo-constants';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text, debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport Logo from '../assets/logo-small-light.png';\r\nimport moment from 'moment';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayLanguage from './OverlayLanguage';\r\nimport Preference from './Preference';\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      preference: null,\r\n      language: '-',\r\n      serviceEntry: '',\r\n      serviceEntryObj: null,\r\n      accessCode: '',\r\n      password: '',\r\n      userId: '',\r\n      home: null,\r\n\r\n      dev: false,\r\n      // dev: true,\r\n    };\r\n\r\n    this.handleUpdateFromLanguage = this.handleUpdateFromLanguage.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { navigation } = this.props;\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const language = await AsyncStorage.getItem('language');\r\n    let preference = await AsyncStorage.getItem('preference');\r\n\r\n    if (preference) {\r\n      preference = JSON.parse(preference);\r\n    }\r\n    preference = {\r\n      tcolsize: preference?.tcolsize || (Platform.OS === 'web' ? 5 : 4),\r\n      mcolsize: preference?.mcolsize || (Platform.OS === 'web' ? 3 : 2),\r\n      pcolsize: preference?.pcolsize || (Platform.OS === 'web' ? 5 : 3),\r\n      mquick: preference?.mquick || 'Y',\r\n      dsecondary: preference?.dsecondary || 'N',\r\n      usecondary: preference?.usecondary || '',\r\n      // rpartition: preference?.rpartition || 0.33,\r\n    };\r\n    AsyncStorage.setItem('preference', JSON.stringify(preference))\r\n\r\n    console.log('mounting service', serviceEntry)\r\n    let serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (serviceEntryObj) {\r\n      serviceEntryObj = JSON.parse(serviceEntryObj);\r\n    } else {\r\n      serviceEntryObj = null;\r\n    }\r\n    this.setState({\r\n      preference,\r\n      serviceEntry,\r\n      language: language || 'en',\r\n      serviceEntryObj,\r\n    })\r\n    // secondary display only\r\n    if (preference.dsecondary === 'Y') {\r\n      navigation.navigate('Secondary', {\r\n        preference,\r\n        serviceEntry,\r\n        serviceEntryObj,\r\n      });\r\n    }\r\n    // dev only\r\n    if (this.state.dev) {\r\n      this.setState({\r\n        accessCode: 'qwe'\r\n      }, () => this.doSubmitAccessCode())\r\n    }\r\n  }\r\n\r\n  async didFocus() {\r\n    const { route } = this.props;\r\n    let preference = await AsyncStorage.getItem('preference');\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    const serviceEntryObj = await AsyncStorage.getItem('serviceEntryObj');\r\n    if (preference) {\r\n      this.setState({ preference: JSON.parse(preference) })\r\n    }\r\n    if (serviceEntryObj) {\r\n      this.setState({ serviceEntryObj: JSON.parse(serviceEntryObj) })\r\n    }\r\n    this.setState({ serviceEntry })\r\n    if (route.params?.sync && (moment(route.params.sync).diff(moment(), 'seconds') > -1)) {\r\n      this.doSubmitAccessCode();\r\n    } else {\r\n      if (!this.state.dev) {\r\n        this.setState({\r\n          accessCode: ''\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  handleUpdateFromLanguage(item) {\r\n    this.setState({\r\n      overlayLanguageVisible: false,\r\n    })\r\n    if (!item) {\r\n      return;\r\n    }\r\n    intl.options.currentLocale = item;\r\n    AsyncStorage.setItem('language', item);\r\n    this.setState({\r\n      language: item,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressDownload() {\r\n    Alert.alert(\r\n      `Download latest bistro app?`,\r\n      '',\r\n      [\r\n        {\r\n          text: 'Cancel',\r\n        },\r\n        {\r\n          text: 'Ok',\r\n          onPress: () => this.doDownload()\r\n        },\r\n      ],\r\n    );\r\n  }\r\n\r\n  doDownload() {\r\n    if (Platform.OS === 'ios') {\r\n      Linking.openURL(`itms-apps://itunes.apple.com/app/id6443468946`);\r\n    }\r\n  }\r\n\r\n  doSubmitPassword() {\r\n    const { serviceEntry, userId, password } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      userId: userId,\r\n      password: password,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  doSubmitAccessCode() {\r\n    const { serviceEntry, accessCode } = this.state;\r\n    let link = serviceEntry + 'api/login-shop';\r\n    let body = {\r\n      accessCode: accessCode,\r\n    };\r\n    this.doLogIn(link, body);\r\n  }\r\n\r\n  async doLogIn(link, body) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry } = this.state;\r\n\r\n    fetch(link, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post login', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          throw response;\r\n        }\r\n        this.setState({\r\n          home: response,\r\n        });\r\n        return Promise.all([\r\n          AsyncStorage.setItem('home', JSON.stringify(response)),\r\n          response,\r\n        ]);\r\n      })\r\n      .then(([response, home]) => {// do parallel chain\r\n\r\n        let promiseArray = [];\r\n\r\n        let url = serviceEntry + 'api/sections';\r\n        let params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        let promiseObject = { url: url, nameString: 'sections' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/tablemas';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'tablemas' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/foldergrps';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'foldergrps' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/folders';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'folders' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/menus';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'menus' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mods';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('locId', home.locId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'mods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/mod-bundles';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('locId', home.locId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'modBundles' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-items';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboItems' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/combo-groups';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'comboGroups' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/payment-methods';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'paymentMethods' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/vip-sources';\r\n        promiseObject = { url: url, nameString: 'vipSources' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/discounts';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'discounts' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/returns';\r\n        promiseObject = { url: url, nameString: 'returns' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/settings';\r\n        params = new URLSearchParams();\r\n        params.append('appCode', 'RESTMENU');\r\n        params.append('orgId', home.orgId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'settings' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/privileges';\r\n        params = new URLSearchParams();\r\n        params.append('userId', home.userId);\r\n        params.append('locId', home.locId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'privileges' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/cashier-printers';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'cashierPrinters' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kottype';\r\n        params = new URLSearchParams();\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kottypes' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        url = serviceEntry + 'api/kitchenmsgs';\r\n        params = new URLSearchParams();\r\n        params.append('orgId', home.orgId);\r\n        params.append('shopId', home.shopId);\r\n        url += ('?' + params);\r\n        promiseObject = { url: url, nameString: 'kitchenmsgs' };\r\n        promiseArray.push(promiseObject);\r\n\r\n        return Promise.all([\r\n          ...promiseArray.map(el =>\r\n            fetch(el.url)\r\n              .then(response => response.json())\r\n              .then(response => {\r\n                console.log('fetching', el.nameString, response);\r\n                return ({ [el.nameString]: response });\r\n              })\r\n          )\r\n        ]);\r\n      })\r\n      .then(response => {\r\n        const masters = response.reduce((o, item) => ({ ...o, [Object.keys(item)[0]]: Object.values(item)[0] }), {});\r\n        console.log('masters', masters);\r\n        navigation.navigate('Main', {\r\n          masters,\r\n          home: this.state.home,\r\n          serviceEntryObj: this.state.serviceEntryObj,\r\n          serviceEntry: this.state.serviceEntry,\r\n          preference: this.state.preference\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log('error', error);\r\n        this.setState({\r\n          accessCode: '',\r\n        })\r\n      });\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { accessCode } = this.state;\r\n    let accessCodeUpdate = accessCode + item;\r\n    this.setState({ accessCode: accessCodeUpdate });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { preference, serviceEntryObj, serviceEntry, language, userId, password, accessCode,\r\n      overlayProcedureMessageVisible, overlayLanguageVisible } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayLanguageVisible &&\r\n          <OverlayLanguage\r\n            handleUpdateFromLanguage={this.handleUpdateFromLanguage} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ flex: 1, backgroundColor: 'white', }}>\r\n          <View style={{ flex: 2, }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <View>\r\n                <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.paid }}\r\n                  onPress={() => navigation.navigate('Register')}>\r\n                  <Ionicons name='ios-globe' size={24} color={theme.grey1} style={{ height: 24, width: 24, marginTop: -2 }} />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ marginHorizontal: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.reserved }}\r\n                  onPress={() => navigation.navigate('Preference')}>\r\n                  <MaterialIcons name=\"miscellaneous-services\" size={24} color={theme.grey1} />\r\n                </TouchableOpacity>\r\n                {\r\n                  Platform.OS === 'ios' &&\r\n                  <TouchableOpacity style={{ margin: 20, height: 36, width: 36, borderRadius: 18, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.occupied }}\r\n                    onPress={() => this.doPressDownload()}>\r\n                    <AntDesign name=\"clouddownload\" size={24} color={theme.grey1} />\r\n                  </TouchableOpacity>\r\n                }\r\n              </View>\r\n\r\n            </View>\r\n            <View style={{ margin: 20, alignItems: 'flex-end', justifyContent: 'flex-end', }}>\r\n              <Text style={{ color: theme.paid }}>{serviceEntryObj?.name || 'Entry'}</Text>\r\n              <Text style={{ fontSize: 10, marginBottom: 5, color: theme.occupied }} numberOfLines={1}>{serviceEntry}</Text>\r\n              <Text style={{ fontSize: 18 }}>AN EXTENSION OF THE EPB SYSTEM</Text>\r\n              <Text style={{ fontSize: 18 }}>VERSION {Constants.manifest.version?.split('.')[0]}</Text>\r\n            </View>\r\n          </View>\r\n          <Image\r\n            style={{ flex: 1, width: '100%', }}\r\n            source={Logo}\r\n            resizeMode='contain'\r\n          />\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: theme.grey1, justifyContent: 'center', alignItems: 'center' }}>\r\n          <TouchableOpacity style={{ position: 'absolute', right: 20, top: 20, minHeight: 40, alignItems: 'flex-end' }}\r\n            onPress={() => this.setState({ overlayLanguageVisible: true })}>\r\n            <Text style={{ color: 'white', textTransform: 'uppercase' }}>{language === 'ja' ? '' : language === 'zhs' ? '' : language === 'zht' ? '' : 'EN'}</Text>\r\n            <Text style={{ color: 'white', fontSize: 10 }}>LANGUAGE  </Text>\r\n          </TouchableOpacity>\r\n          <View style={styles.textInputContainer}>\r\n            <TextInput style={styles.textInput}\r\n              placeholder={intl.get('accesscode')}\r\n              placeholderTextColor='white'\r\n              placeholderStyle={{ textTransform: 'uppercase' }}\r\n              onChangeText={text => this.setState({ accessCode: text })}\r\n              value={accessCode}\r\n              secureTextEntry\r\n              autoComplete='off'\r\n              autoCorrect={false}\r\n              onSubmitEditing={() => this.doSubmitAccessCode()}\r\n            />\r\n          </View>\r\n\r\n          <View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('1')}>\r\n                <Text style={styles.buttonText}>1</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('2')}>\r\n                <Text style={styles.buttonText}>2</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('3')}>\r\n                <Text style={styles.buttonText}>3</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('4')}>\r\n                <Text style={styles.buttonText}>4</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('5')}>\r\n                <Text style={styles.buttonText}>5</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('6')}>\r\n                <Text style={styles.buttonText}>6</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressKey('7')}>\r\n                <Text style={styles.buttonText}>7</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('8')}>\r\n                <Text style={styles.buttonText}>8</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('9')}>\r\n                <Text style={styles.buttonText}>9</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.setState({ accessCode: '' })}>\r\n                <AntDesign name='close' color='white' size={24} />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button]}\r\n                onPress={() => this.doPressKey('0')}>\r\n                <Text style={styles.buttonText}>0</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey1 }]}\r\n                onPress={() => this.doSubmitAccessCode()}>\r\n                <AntDesign name='enter' color='white' size={24} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').width / 16;\r\n\r\nconst styles = StyleSheet.create({\r\n  textInputContainer: {\r\n    width: '80%',\r\n    marginTop: 20,\r\n    marginBottom: 20,\r\n    height: 60,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n  },\r\n  textInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n    paddingHorizontal: 20,\r\n    borderRadius: 100,\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    // height: keyHeight - 10,\r\n    // width: keyHeight - 10,\r\n    height: 48,\r\n    width: 48,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'black',\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","\r\nimport React, { useRef, useMemo, useEffect, useState, useCallback } from 'react';\r\nimport { AntDesign, MaterialCommunityIcons, Feather, Ionicons } from '@expo/vector-icons';\r\nimport { Dimensions, StyleSheet, View, TouchableOpacity, Platform, Text, FlatList } from 'react-native';\r\nimport { Gesture, GestureDetector, GestureHandlerRootView } from 'react-native-gesture-handler';\r\nimport Animated, { useAnimatedStyle, useSharedValue, withSpring, } from 'react-native-reanimated';\r\nimport theme from '../assets/theme';\r\nimport moment from 'moment';\r\n\r\nconst platformTiles = Platform.OS === 'web' ? 8 : 6;\r\n\r\nconst doTranslateTableColor = (item) => {\r\n  if (!item) return theme.grey9;\r\n  if (item.adhocItem) return theme.adhoc;\r\n  if (item.transType !== 'A') return theme.deposit;\r\n  if (item.statusFlg === 'A') {\r\n    return theme.vacant;\r\n  } else if (item.statusFlg === 'B') {\r\n    return theme.reserved;\r\n  } else if (item.statusFlg === 'C') {\r\n    return theme.occupied;\r\n  } else if (item.statusFlg === 'D') {\r\n    return theme.paid;\r\n  } else if (item.statusFlg === 'E') {\r\n    return theme.unavailable;\r\n  }\r\n}\r\n\r\nexport default function MainTableFloor({ refresh, tables, handleUpdateFromMainTableFloor }) {\r\n  const translateX = useSharedValue(0);\r\n  const translateY = useSharedValue(0);\r\n  const scale = useSharedValue(1);\r\n  const context = useSharedValue({ x: 0, y: 0, scale: 1 });\r\n\r\n  const tileSize = 40;\r\n  const floorTables = tables.filter(el => !(el.xaxis === 0 && el.yaxis === 0));\r\n  const infoTables = floorTables.filter(el => el.statusFlg === 'C' || el.statusFlg === 'D');\r\n  const tempTables = tables.filter(el => el.xaxis === 0 && el.yaxis === 0);\r\n\r\n  const minX = floorTables.reduce((min, el) => Math.min(el.xaxis, min), floorTables[0]?.xaxis || 0);\r\n  const maxX = floorTables.reduce((max, el) => Math.max(el.xaxis + el.width, max), (floorTables[0]?.xaxis + floorTables[0]?.width) || 0);\r\n\r\n  const minY = floorTables.reduce((min, el) => Math.min(el.yaxis, min), floorTables[0]?.yaxis || 0);\r\n  const maxY = floorTables.reduce((max, el) => Math.max(el.yaxis + el.height, max), (floorTables[0]?.yaxis + floorTables[0]?.width) || 0);\r\n\r\n  // const floorWidth = Math.max((maxX - minX) * tileSize, 16 * tileSize);\r\n  const floorWidth = (maxX - minX) * tileSize;\r\n  const floorHeight = (maxY - minY) * tileSize;\r\n\r\n  const [focused, setFocused] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setFocused(null);\r\n  }, [refresh]);\r\n\r\n  const doPressTable = (item, focused) => {\r\n    if (item.recKey === focused?.recKey) {\r\n      handleUpdateFromMainTableFloor(item, true);\r\n      setFocused(null);\r\n    } else {\r\n      handleUpdateFromMainTableFloor(item, false);\r\n      setFocused(item);\r\n    }\r\n  }\r\n\r\n  // console.log(minX, maxX, minY, maxY, floorTables, tables, floorWidth);\r\n\r\n  const gesturePinch = Gesture.Pinch()\r\n    .onStart(() => {\r\n      context.value = { ...context.value, scale: scale.value };\r\n    })\r\n    .onUpdate((event) => {\r\n      scale.value = context.value.scale * event.scale;\r\n    })\r\n\r\n  const gesturePan = Gesture.Pan()\r\n    .onStart(() => {\r\n      context.value = { ...context.value, x: translateX.value, y: translateY.value };\r\n    })\r\n    .onUpdate((event) => {\r\n      translateX.value = event.translationX + context.value.x;\r\n      translateY.value = event.translationY + context.value.y;\r\n    })\r\n\r\n  const gesture = Gesture.Simultaneous(gesturePinch, gesturePan);\r\n\r\n  const rStyle = useAnimatedStyle(() => {\r\n    return {\r\n      transform: [{ translateX: translateX.value }, { translateY: translateY.value }, { scale: scale.value }]\r\n    }\r\n  })\r\n\r\n  // return;\r\n  return (\r\n    <GestureHandlerRootView style={{ flex: 1 }}>\r\n      <GestureDetector gesture={gesture}>\r\n        <View style={{ flex: 1, backgroundColor: 'rgba(0,0,0,0.9)', justifyContent: 'center', alignItems: 'center' }}>\r\n          <Animated.View style={[rStyle, { height: floorHeight + Math.ceil(tempTables.length / platformTiles) * 2 * tileSize, alignItems: 'center', }]}>\r\n            <View style={{ height: floorHeight, width: floorWidth, }}>\r\n              {\r\n                floorTables.map(item =>\r\n                  <View key={item.recKey}\r\n                    style={{ position: 'absolute', left: (item.xaxis - minX) * tileSize, top: Number((item.yaxis - minY) * tileSize), width: item.width * tileSize, height: Number(item.height * tileSize) }}>\r\n                    {\r\n                      // top and bottom chairs\r\n                      (item.width > item.height && item.shape === 'A') &&\r\n                      <>\r\n                        <View style={{ position: 'absolute', top: -1, left: 0, right: 0, height: 2, flexDirection: 'row', }}>\r\n                          {\r\n                            [...Array(item.width)].map((el, index) =>\r\n                              <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: 'white', borderRadius: 2, }}>\r\n\r\n                              </View>)\r\n                          }\r\n                        </View>\r\n                        <View style={{ position: 'absolute', bottom: -1, left: 0, right: 0, height: 2, flexDirection: 'row', }}>\r\n                          {\r\n                            [...Array(item.width)].map((el, index) =>\r\n                              <View key={index} style={{ flex: 1 / item.width, marginHorizontal: 10, backgroundColor: 'white', borderRadius: 2, }}>\r\n\r\n                              </View>)\r\n                          }\r\n                        </View>\r\n                      </>\r\n                    }\r\n                    {\r\n                      // left and right chairs\r\n                      (item.width < item.height && item.shape === 'A') &&\r\n                      <>\r\n                        <View style={{ position: 'absolute', left: -1, top: 0, bottom: 0, width: 2, }}>\r\n                          {\r\n                            [...Array(item.height)].map((el, index) =>\r\n                              <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: 'white', borderRadius: 2, }}>\r\n\r\n                              </View>)\r\n                          }\r\n                        </View>\r\n                        <View style={{ position: 'absolute', right: -1, top: 0, bottom: 0, width: 2, }}>\r\n                          {\r\n                            [...Array(item.height)].map((el, index) =>\r\n                              <View key={index} style={{ flex: 1 / item.height, marginVertical: 10, backgroundColor: 'white', borderRadius: 2, }}>\r\n\r\n                              </View>)\r\n                          }\r\n                        </View>\r\n                      </>\r\n                    }\r\n                    {\r\n                      item.shape === 'B' ?\r\n                        <TouchableOpacity style={{ flex: 1, alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? tileSize * item.height : 0 }}\r\n                          onPress={() => doPressTable(item, focused)}>\r\n                          <View style={{ height: Math.sqrt(0.5) * (item.width * tileSize - 6), width: Math.sqrt(0.5) * (item.width * tileSize - 6), backgroundColor: focused?.recKey === item.recKey ? 'white' : doTranslateTableColor(item), transform: [{ rotateZ: '45deg' }], justifyContent: 'center', alignItems: 'center', borderRadius: 3 }}>\r\n                            <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 14, transform: [{ rotateZ: '-45deg' }] }}>{item.tableId}</Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                        :\r\n                        <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.recKey === item.recKey ? 'white' : doTranslateTableColor(item), alignItems: 'center', justifyContent: 'center', borderRadius: item.shape === 'C' ? tileSize * item.height : 3, }}\r\n                          onPress={() => doPressTable(item, focused)}>\r\n                          <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 14 }}>{item.tableId}</Text>\r\n                        </TouchableOpacity>\r\n                    }\r\n                  </View>\r\n                )\r\n              }\r\n              {\r\n                infoTables.map(item =>\r\n                  <View key={item.recKey}\r\n                    pointerEvents='none'\r\n                    style={{ position: 'absolute', left: (item.xaxis - minX) * tileSize, top: Number((item.yaxis - minY) * tileSize) }}>\r\n                    <View style={{ borderLeftWidth: 3, borderLeftColor: focused?.recKey === item.recKey ? 'white' : doTranslateTableColor(item), position: 'absolute', top: item.shape === 'B' ? 0 : item.shape === 'C' ? -7 : -12, left: item.shape === 'B' ? 0 : item.shape === 'C' ? -7 : -12, backgroundColor: 'rgba(0,0,0,0.4)', padding: 3, borderRadius: 3, minWidth: 38 }}>\r\n                      <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 10, }}>{item.seatTime && moment(item.seatTime).format('HH:mm')}</Text>\r\n                      <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 10, }}><Feather color='white' name='users' size={10} /> {item.pax}</Text>\r\n                    </View>\r\n                  </View>\r\n                )\r\n              }\r\n            </View>\r\n            <FlatList\r\n              style={{ flexGrow: 0, overflow: 'visible', width: tempTables.length > (platformTiles - 1) ? 2 * platformTiles * tileSize : 2 * tempTables.length * tileSize, }}\r\n              numColumns={platformTiles}\r\n              data={tempTables}\r\n              showsVerticalScrollIndicator={false}\r\n              scrollEnabled={false}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) =>\r\n                <View style={{ width: 2 * tileSize, height: 2 * tileSize }}>\r\n                  <TouchableOpacity style={{ flex: 1, margin: 3, backgroundColor: focused?.recKey === item.recKey ? 'white' : doTranslateTableColor(item), alignItems: 'center', justifyContent: 'center', borderRadius: 3, }}\r\n                    onPress={() => doPressTable(item, focused)}>\r\n                    {\r\n                      item.openorderRecKey &&\r\n                      <Text style={{ paddingHorizontal: 3, textAlign: 'center', fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }} numberOfLines={1}>{item.openorderRecKey}</Text>\r\n                    }\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 14, }}>{item.tableId}</Text>\r\n                    {\r\n                      item.vipName?.length > 0 &&\r\n                      <Text style={{ paddingHorizontal: 3, textAlign: 'center', fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }} numberOfLines={1}>{item.vipName}</Text>\r\n                    }\r\n                  </TouchableOpacity>\r\n                  {\r\n                    (item.statusFlg === 'C' || item.statusFlg === 'D') &&\r\n                    <View pointerEvents='none'\r\n                      style={{ borderLeftWidth: 3, borderLeftColor: focused?.recKey === item.recKey ? 'white' : doTranslateTableColor(item), position: 'absolute', top: item.shape === 'B' ? 0 : item.shape === 'C' ? -7 : -12, left: item.shape === 'B' ? 0 : item.shape === 'C' ? -7 : -12, backgroundColor: 'rgba(0,0,0,0.4)', padding: 3, borderRadius: 3, minWidth: 38 }}>\r\n                      <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 10, }}>{item.seatTime && moment(item.seatTime).format('HH:mm')}</Text>\r\n                      <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 10, }}><Feather color='white' name='users' size={10} /> {item.pax}</Text>\r\n                    </View>\r\n                  }\r\n                </View>\r\n              }\r\n            />\r\n          </Animated.View>\r\n        </View>\r\n      </GestureDetector>\r\n    </GestureHandlerRootView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: 400, height: 400,\r\n    backgroundColor: '#fff',\r\n    overflow: 'hidden',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, MaterialCommunityIcons, Feather, Ionicons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, Text, TextInput, Alert, FlatList, ScrollView, Platform } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport moment from 'moment';\r\nimport MainTableFloor from './MainTableFloor';\r\n\r\nexport default class MainTable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      preference: props.preference,\r\n      settings: props.masters.settings,\r\n      sections: props.masters.sections || [],\r\n      tablemas: props.masters.tablemas,\r\n      tables: [],\r\n\r\n      selectedSection: null,\r\n\r\n      floor: true,\r\n    };\r\n\r\n    this.handleUpdateFromMainTableFloor = this.handleUpdateFromMainTableFloor.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.doRefresh(true);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.refresh && prevProps.refresh !== this.props.refresh) {\r\n      console.log('componentDidUpdate', prevProps.refresh, this.props.refresh)\r\n      this.doRefresh();\r\n    }\r\n  }\r\n\r\n  async doRefresh(initial) {\r\n    const { sections, selectedSection } = this.state;\r\n    if (initial) {\r\n      await this.doPressFloor();\r\n    } else {\r\n      await this.doPressSection(selectedSection);\r\n    }\r\n  }\r\n\r\n  async doPressFloor() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: null,\r\n        });\r\n      })\r\n  }\r\n\r\n  async doPressSection(item) {\r\n    const { serviceEntry, home } = this.state;\r\n\r\n    if (!item) {\r\n      this.doPressFloor();\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n\r\n    if (item?.sectionId === 'OCCUPIED') {\r\n      params.append('statusFlg', 'C');\r\n    } else if (item?.sectionId === 'VACANT') {\r\n      params.append('statusFlg', 'A');\r\n    } else if (item?.sectionId === 'RESERVED') {\r\n      params.append('statusFlg', 'B');\r\n    } else if (item?.sectionId === 'PAID') {\r\n      params.append('statusFlg', 'D');\r\n    } else {\r\n      params.append('sectionId', item.sectionId)\r\n    }\r\n\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          tables: response,\r\n          selectedSection: { sectionId: item.sectionId },\r\n        });\r\n      })\r\n  }\r\n\r\n  handleUpdateFromMainTableFloor(item, focused) {\r\n    const { tables, selectedSection } = this.state;\r\n    if (focused) {\r\n      this.doPressFocusedTable(item);\r\n      return;\r\n    }\r\n    this.doPressSection(selectedSection)\r\n    this.props.handlePressTable(item);\r\n  }\r\n\r\n  doPressFocusedTable(item) {\r\n    if (item.statusFlg === 'A') {\r\n      this.props.handleActionTable(item, 'OPEN')\r\n    } else if (item.statusFlg === 'C') {\r\n      this.props.handleActionTable(item, 'EDIT')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { preference, sections, settings, tables, selectedSection, floor } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, overflow: 'hidden' }}>\r\n          <MainTableFloor\r\n            key={selectedSection?.sectionId || 'FLOOR'}\r\n            refresh={this.props.refresh}\r\n            tables={tables}\r\n            handleUpdateFromMainTableFloor={this.handleUpdateFromMainTableFloor}\r\n          />\r\n          {\r\n            selectedSection &&\r\n            <TouchableOpacity style={{ position: 'absolute', right: 0, top: 0, margin: 10, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey1, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.props.handleActionTable(selectedSection, 'CREATE')}>\r\n              <MaterialCommunityIcons name=\"apps-box\" size={28} color='white' style={{ height: 28, width: 28 }} />\r\n              <Text style={{ marginTop: 10, fontFamily: 'varela-round', fontSize: 10, color: 'white', textTransform: 'uppercase' }}>{intl.get('new')}</Text>\r\n            </TouchableOpacity>\r\n          }\r\n        </View>\r\n        <View style={{ marginVertical: 5, width: 130, }}>\r\n          <TouchableOpacity\r\n            style={{ width: 120, alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 80, borderRadius: 5, margin: 5 }}\r\n            onPress={() => this.doPressFloor()}>\r\n            <MaterialCommunityIcons name=\"mapbox\" size={30} color=\"white\" style={{ height: 28 }} />\r\n            <Text style={{ marginTop: 10, fontFamily: 'varela-round', color: 'white', fontSize: 10, textTransform: 'uppercase' }}>{intl.get('all')}</Text>\r\n          </TouchableOpacity>\r\n          <ScrollView\r\n            style={{ flex: 1, }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              sections.map((item, index) => (\r\n                <TouchableOpacity key={index}\r\n                  activeOpacity={1}\r\n                  style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, width: 120, backgroundColor: selectedSection?.sectionId === item.sectionId ? 'white' : theme.grey1, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doPressSection(item)}>\r\n                  {\r\n                    item.orderType === 'B' &&\r\n                    <Text style={{ fontFamily: 'varela-round', fontSize: 12, textAlign: 'center', color: theme.paid, textTransform: 'uppercase' }}>{intl.get('takeaway')}</Text>\r\n                  }\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: selectedSection?.sectionId === item.sectionId ? 'black' : theme.grey9 }}>{item.name}</Text>\r\n                </TouchableOpacity>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n\r\n      </View >\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  textInput: {\r\n    color: 'white',\r\n    height: 60,\r\n    borderRadius: 30,\r\n    width: '90%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 120,\r\n    textAlign: 'center',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n  },\r\n  onetwo: {\r\n    position: 'absolute', top: '0', left: '0', height: '12.5%', width: '12.5%',\r\n  },\r\n  tableLowerBand: {\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons, MaterialIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Image, TextInput, Alert, ScrollView, FlatList, Platform, Keyboard } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Text } from '../assets/utility';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class MainMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      serviceEntryObj: props.serviceEntryObj,\r\n      preference: props.preference,\r\n\r\n      settings: props.settings,\r\n      foldergrps: props.foldergrps,\r\n      folders: props.folders,\r\n      uniqueFolders: [...new Map(props.folders.map(v => [v.folderId, v])).values()],\r\n      menus: props.menus,\r\n      uniqueMenus: [...new Map(props.menus.map(v => [v.menuId, v])).values()],\r\n      modBundles: props.modBundles,\r\n\r\n      displayMode: '',\r\n      displays: [],\r\n      limiteds: [],\r\n\r\n      searchText: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount mainmenu')\r\n    const { foldergrps, folders, menus } = this.state;\r\n\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    if (folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === foldergrps[0].foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: foldergrps[0],\r\n      displays,\r\n      displayMode,\r\n    }, () => this.doGet());\r\n  }\r\n\r\n  doGet() {\r\n    // real time fast changing data\r\n    const { serviceEntry, home, selectedFoldergrp } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    selectedFoldergrp && params.append('foldergrpId', selectedFoldergrp.foldergrpId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doPressFoldergrp(item) {\r\n    const { folders, menus, } = this.state;\r\n    let displayMode = '';\r\n    let displays = [];\r\n\r\n    if (folders.filter(el => el.foldergrpId === item.foldergrpId).length === 1) {\r\n      let found = folders.find(el => el.foldergrpId === item.foldergrpId);\r\n      displayMode = 'MENU';\r\n      displays = menus.filter(el => el.folderId === found.folderId && el.foldergrpId === found.foldergrpId);\r\n    } else {\r\n      displayMode = 'FOLDER';\r\n      displays = folders.filter(el => el.foldergrpId === item.foldergrpId);\r\n    }\r\n\r\n    this.setState({\r\n      selectedFoldergrp: item,\r\n      displays,\r\n      displayMode,\r\n      searchText: '',\r\n    }, () => this.doGet());\r\n  }\r\n\r\n  doPressFolder(item) {\r\n    const { menus } = this.state;\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId),\r\n    })\r\n  }\r\n\r\n  doPressMenu(item, quick) {\r\n    this.props.handlePressMenu(item, quick);\r\n  }\r\n\r\n  doSearchText(text) {\r\n    const { menus, foldergrps } = this.state;\r\n    this.setState({ searchText: text });\r\n    if (!text) {\r\n      this.setState({\r\n        displayMode: 'MENU',\r\n        displays: '',\r\n      })\r\n      return;\r\n    }\r\n\r\n    let caseText = text.toUpperCase();\r\n    let displaysUpdate = menus.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      displayMode: 'MENU',\r\n      displays: displaysUpdate,\r\n      selectedFoldergrp: null,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { preference, settings, displayMode, displays, foldergrps, folders, uniqueFolders, uniqueMenus, menus, modBundles,\r\n      searchText,\r\n      selectedFoldergrp } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: theme.grey1, padding: 5 }}>\r\n        <View style={{ flex: 1 }}>\r\n          <View style={{ marginHorizontal: 10, marginTop: -5, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontSize: 10, color: theme.white8 }}><Text style={{ fontSize: 10, color: theme.paid }}>{uniqueMenus.length}</Text> MENU <Text style={{ fontSize: 10, color: theme.reserved }}>{uniqueFolders.length}</Text> FOLDER <Text style={{ fontSize: 10, color: theme.reserved }}>{foldergrps.length}</Text> FOLDERGRP <Text style={{ fontSize: 10, color: theme.vacant }}>{modBundles.length}</Text> MODIFIER</Text>\r\n          </View>\r\n          <View style={styles.searchBox}>\r\n            <TextInput style={styles.searchBoxInputValue}\r\n              placeholder={`${intl.get('enter')?.toUpperCase()} ${intl.get('search')?.toUpperCase()} ${intl.get('text')?.toUpperCase()}`}\r\n              placeholderTextColor='rgba(255,255,255,0.2)'\r\n              value={searchText}\r\n              onFocus={() => this.setState({ selectedFoldergrp: null }, () => this.doGet())}\r\n              onChangeText={(text) => this.doSearchText(text)} />\r\n            <TouchableOpacity style={styles.searchBoxButton}\r\n              onPress={() => {\r\n                this.doPressFoldergrp(foldergrps[0]);\r\n                Keyboard.dismiss();\r\n              }}>\r\n              <AntDesign name='close' size={24} color={theme.grey4} />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5 }}>\r\n            {\r\n              displayMode === 'MENU' ?\r\n                (\r\n                  settings.find(el => el.setId === 'POSMODE')?.setString === 'A' ?\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.mcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenu(item)}\r\n                    />\r\n                    :\r\n                    <FlatList\r\n                      key={'MENU' + selectedFoldergrp?.foldergrpId}\r\n                      style={{ flex: 1, padding: 2.5 }}\r\n                      showsVerticalScrollIndicator={false}\r\n                      numColumns={preference.pcolsize}\r\n                      horizontal={false}\r\n                      data={displays}\r\n                      keyExtractor={(item, index) => item.recKey.toString()}\r\n                      renderItem={({ item }) => this.renderMenuB(item)}\r\n                    />\r\n                )\r\n                :\r\n                <FlatList\r\n                  key={'FOLDER' + selectedFoldergrp?.foldergrpId}\r\n                  style={{ flex: 1, padding: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  numColumns={preference.mcolsize}\r\n                  horizontal={false}\r\n                  data={displays}\r\n                  keyExtractor={(item, index) => item.recKey.toString()}\r\n                  renderItem={({ item }) => this.renderFolder(item)}\r\n                />\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={{ marginVertical: 5, width: 130, }}>\r\n          <TouchableOpacity\r\n            style={{ width: 120, alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 80, borderRadius: 5, margin: 5 }}\r\n            onPress={() => this.props.handlePressAdhoc()}>\r\n            <MaterialIcons name=\"extension\" size={28} color={'white'} style={{ height: 28, width: 28 }} />\r\n            <Text style={{ marginTop: 10, fontFamily: 'varela-round', fontSize: 10, color: 'white', textTransform: 'uppercase' }}>{intl.get('adhoc')}</Text>\r\n          </TouchableOpacity>\r\n          <ScrollView style={{ flex: 1, }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              foldergrps.map((item, index) => (\r\n                <TouchableOpacity key={index}\r\n                  activeOpacity={1}\r\n                  style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'white' : theme.grey1, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doPressFoldergrp(item)}>\r\n                  {\r\n                    (moment(item.startTime, 'HH:mm:ss').format('HH:mm') !== '00:00' || moment(item.endTime, 'HH:mm:ss').format('HH:mm') !== '23:59') &&\r\n                    <Text style={{ fontSize: 12, textAlign: 'center', color: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'black' : theme.reserved }}>{moment(item.startTime, 'HH:mm:ss').format('HH:mm')}~{moment(item.endTime, 'HH:mm:ss').format('HH:mm')}</Text>\r\n                  }\r\n                  <Text style={{ textAlign: 'center', color: item.foldergrpId === selectedFoldergrp?.foldergrpId ? 'black' : 'white' }}>{item.name}</Text>\r\n                </TouchableOpacity>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderFolder(item) {\r\n    const { preference, menus } = this.state;\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <TouchableOpacity\r\n          style={{ margin: 2.5, height: 90, backgroundColor: 'black', alignItems: 'center', justifyContent: 'center' }}\r\n          onPress={() => this.doPressFolder(item)}>\r\n          <Text style={{ color: theme.paid, fontSize: 12 }}>{item.folderId}</Text>\r\n          <Text style={{ color: 'white', paddingHorizontal: 10, textAlign: 'center', fontSize: 16 }}>{item.name}</Text>\r\n          <Text style={{ color: theme.vacant }}>{menus.filter(el => el.folderId === item.folderId && el.foldergrpId === item.foldergrpId).length}</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenu(item) {\r\n    const { preference, limiteds, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.mcolsize }}>\r\n        <View style={[{ margin: 2.5, flexDirection: 'row', height: 90, backgroundColor: theme.grey4, }, found?.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n          {\r\n            preference.mquick === 'Y' &&\r\n            <TouchableOpacity\r\n              style={{ width: 50, backgroundColor: theme.grey3, justifyContent: 'center', alignItems: 'center' }}\r\n              disabled={found?.statusFlg === 'B'}\r\n              onPress={() => this.doPressMenu(item, true)}>\r\n              <AntDesign name=\"check\" size={18} color={theme.grey1} />\r\n              {/* {\r\n                serviceEntry === 'https://www.epbrowser.com:8090/fnb-ws/' &&\r\n                <Image\r\n                  style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0 }}\r\n                  source={{\r\n                    uri: 'http://203.208.248.200:9090/image-proxy-epbsg/ASP/EPBSG/NORMAL/Shell/picture/' + item.stkId + '.jpg'\r\n                    // uri: imageEntry + item.menuId + '.jpg'\r\n                  }}\r\n                />\r\n              } */}\r\n            </TouchableOpacity>\r\n          }\r\n          <TouchableOpacity\r\n            style={{ flex: 1 }}\r\n            disabled={found?.statusFlg === 'B'}\r\n            onPress={() => this.doPressMenu(item)}>\r\n            <View style={{ flex: 1, padding: 10 }}>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: 'white', fontSize: 12, }}></Text>\r\n                <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n              </View>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{(found && found?.serveLimit !== 0) ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                <Text style={{ color: theme.paid, fontSize: 12, }}>{item.menuId}</Text>\r\n              </View>\r\n            </View>\r\n          </TouchableOpacity>\r\n          {\r\n            searchText.length > 0 &&\r\n            <Text style={{ position: 'absolute', top: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n          }\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderMenuB(item) {\r\n    const { preference, limiteds, serviceEntryObj, searchText, foldergrps, folders } = this.state;\r\n\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / (preference.pcolsize) }}>\r\n        <TouchableOpacity style={{ margin: 2.5, }}\r\n          disabled={found?.statusFlg === 'B'}\r\n          onPress={() => this.doPressMenu(item)}>\r\n          <View style={{ backgroundColor: theme.grey3 }}>\r\n            <Image\r\n              style={{ aspectRatio: 1 }}\r\n              source={{\r\n                uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.urlAddr + '&t=' + item.lastupdate\r\n              }}\r\n            />\r\n            {\r\n              searchText.length > 0 &&\r\n              <Text style={{ position: 'absolute', bottom: 0, left: 0, paddingHorizontal: 5, backgroundColor: 'black', color: 'white', fontSize: 10 }} numberOfLines={1}>{foldergrps.find(el => el.foldergrpId === item.foldergrpId)?.name} &gt; {folders.find(el => el.folderId === item.folderId)?.name}</Text>\r\n            }\r\n          </View>\r\n          <View style={[{ flexDirection: 'row', height: 70, backgroundColor: theme.grey4, }, found?.statusFlg === 'B' && { opacity: 0.2 }]}>\r\n            <View\r\n              style={{ flex: 1 }}>\r\n              <View style={{ flex: 1, padding: 10 }}>\r\n                <View style={{ flex: 1 }}>\r\n                  <Text style={{ color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n                </View>\r\n                <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                  <Text style={{ color: theme.vacant, fontSize: 12, textTransform: 'uppercase' }}>{(found && found?.serveLimit !== 0) ? `${Number(found.serveLimit - found.serveCount)} ${intl.get('left')}` : ' '}</Text>\r\n                  <Text style={[{ color: theme.reserved, fontSize: 12, }, Number(item.listPrice) === 0 && { color: 'white' }]}>${item.listPrice?.toFixed(2)}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  searchBox: {\r\n    margin: 10,\r\n    // marginTop: 25,\r\n    marginBottom: 5,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    backgroundColor: 'black',\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n    borderRadius: 100,\r\n  },\r\n  searchBoxButton: {\r\n    position: 'absolute',\r\n    right: 0,\r\n    top: 0,\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayAutoLogout extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      timer: 5,\r\n    };\r\n    this.countdown = () => { };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let initialTimer = 5;\r\n    this.countdown = setInterval(() => {\r\n      initialTimer -= 1;\r\n      this.setState({\r\n        timer: initialTimer,\r\n      });\r\n      if (initialTimer === 0) {\r\n        clearInterval(this.countdown);\r\n        this.props.handleUpdateFromAutoLogout(initialTimer);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.countdown);\r\n  }\r\n\r\n  render() {\r\n    const { timer } = this.state;\r\n    console.log('in overlayautologout', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Auto Logout</Text>\r\n            <Text style={styles.overlayText}>{timer}</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromAutoLogout('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, TextInput,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayDeposit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      homeDelivery: props.selectedTable.homeDelivery === 'Y' ? 'Y' : 'N',\r\n      vipName: props.selectedTable.vipName || '',\r\n      vipPhone: props.selectedTable.vipPhone || '',\r\n      dlyDate: props.selectedTable.dlyDate ? moment(props.selectedTable.dlyDate).format('YYYY-MM-DD') : '',\r\n      dpostalcode: props.selectedTable.dpostalcode || '',\r\n      daddress1: props.selectedTable.daddress1 || '',\r\n      daddress2: props.selectedTable.daddress2 || '',\r\n    }\r\n  }\r\n\r\n  doPressDelivery(type) {\r\n    this.setState({ homeDelivery: type })\r\n  }\r\n\r\n  doChangePostal(text) {\r\n    this.setState({ dpostalcode: text })\r\n    if (text.length === 6) {\r\n      const { serviceEntry } = this.state;\r\n      let url = serviceEntry + 'api/epbsggeo';\r\n      const params = new URLSearchParams();\r\n      params.append('postal', text);\r\n      url += ('?' + params);\r\n      fetch(url, {\r\n        method: 'GET'\r\n      })\r\n        .then(response => {\r\n          if (response.ok) return response.json();\r\n        })\r\n        .then(response => {\r\n          if (response?.address) {\r\n            this.setState({\r\n              daddress1: response.address || '',\r\n            });\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    this.props.handleUpdateFromDeposit('G', vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2)\r\n  }\r\n\r\n  render() {\r\n    const { vipName, vipPhone, homeDelivery, dlyDate, dpostalcode, daddress1, daddress2 } = this.state;\r\n    console.log('in overlayDeposit', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Deposit Info</Text>\r\n            <View style={{ flexDirection: 'row', marginTop: 20 }}>\r\n              <View style={{ flex: 1, alignItems: 'flex-end', }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'Y' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('N')}>\r\n                  <Text style={{ color: homeDelivery === 'Y' ? 'white' : 'black', fontFamily: 'varela-round' }}>Self Collect</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1, }}>\r\n                <TouchableOpacity style={[styles.tabContainer, { backgroundColor: homeDelivery === 'N' ? theme.grey1 : 'white' }]}\r\n                  onPress={() => this.doPressDelivery('Y')}>\r\n                  <Text style={{ color: homeDelivery === 'N' ? 'white' : 'black', fontFamily: 'varela-round' }}>Delivery</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n            <View style={styles.vipInputsContainer}>\r\n              <View style={styles.vipInputsRow}>\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='NAME'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipName: text })}\r\n                  value={vipName}\r\n                />\r\n                <TextInput style={styles.vipInput}\r\n                  placeholder='PHONE'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  keyboardType='numeric'\r\n                  textContentType='none'\r\n                  autoComplete='off'\r\n                  autoCorrect={false}\r\n                  onChangeText={text => this.setState({ vipPhone: text })}\r\n                  value={vipPhone}\r\n                />\r\n              </View>\r\n              {\r\n                homeDelivery === 'Y' ?\r\n                  <>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='POSTAL'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.doChangePostal(text)}\r\n                        value={dpostalcode}\r\n                      />\r\n                      <TextInput style={styles.vipInput}\r\n                        placeholder='DLY DATE'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                        onChangeText={text => this.setState({ dlyDate: text })}\r\n                        value={dlyDate}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 1'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress1: text })}\r\n                        value={daddress1}\r\n                      />\r\n                    </View>\r\n                    <View style={styles.vipInputsRow}>\r\n                      <TextInput style={[styles.vipInput, { flex: 1 }]}\r\n                        placeholder='ADDR 2'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        textContentType='none'\r\n                        autoComplete='off'\r\n                        autoCorrect={false}\r\n                        onChangeText={text => this.setState({ daddress2: text })}\r\n                        value={daddress2}\r\n                      />\r\n                    </View>\r\n                  </>\r\n                  :\r\n                  <View style={[styles.vipInputsRow, { justifyContent: 'flex-end' }]}>\r\n                    <TextInput style={styles.vipInput}\r\n                      placeholder='DLY DATE'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      textContentType='none'\r\n                      autoComplete='off'\r\n                      autoCorrect={false}\r\n                      onFocus={() => dlyDate === '' && this.setState({ dlyDate: moment().format('YYYY-MM-DD') })}\r\n                      onChangeText={text => this.setState({ dlyDate: text })}\r\n                      value={dlyDate}\r\n                    />\r\n                  </View>\r\n              }\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.grey4 }]}\r\n            onPress={() => this.doSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromDeposit('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    height: '90%',\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginBottom: 20,\r\n    marginHorizontal: 5,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayScanBarcode extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.scanTextInput.focus();\r\n    this.setState({\r\n      overlayText: ''\r\n    });\r\n    this.props.handleUpdateFromScanBarcode(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayscanbarcode');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Scan Barcode</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='ENTER BARCODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromScanBarcode('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayRequestAccess extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.scanTextInput.focus();\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.setState({\r\n      overlayText: ''\r\n    }, () => this.scanTextInput.focus());\r\n    this.props.handleUpdateFromRequestAccess(overlayText);\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { overlayText } = this.state;\r\n    let overlayTextUpdate = overlayText;\r\n    if (item === 'CLEAR') {\r\n      this.setState({ overlayText: '' });\r\n    } else if (item === 'ENTER') {\r\n      this.handleSubmit(overlayText);\r\n    } else {\r\n      this.setState({ overlayText: overlayTextUpdate + item })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { home, requestedPrivilege } = this.props;\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayrequestaccess');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Request Access</Text>\r\n            <Text style={styles.overlayText}>Grant temporary {requestedPrivilege} privilege to {home.userId}?</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                secureTextEntry={true}\r\n                autoFocus={true}\r\n                placeholder='ENTER ACCESS CODE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ width: 135, marginBottom: 20, alignSelf: 'center' }}\r\n            data={['1', '2', '3', '4', '5', '6', '7', '8', '9', 'CLEAR', '0', 'ENTER']}\r\n            scrollEnabled={false}\r\n            showsVerticalScrollIndicator={false}\r\n            numColumns={3}\r\n            keyExtractor={(item, index) => index.toString()}\r\n            renderItem={({ item }) => (\r\n              <View style={{ flex: 1 / 3, aspectRatio: 1 }}>\r\n                <TouchableOpacity style={{ margin: 2.5, flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: 'black', borderRadius: 5, }}\r\n                  onPress={() => this.doPressKey(item)}>\r\n                  {\r\n                    item === 'CLEAR' ?\r\n                      <AntDesign name='close' color='white' size={18} />\r\n                      : item === 'ENTER' ?\r\n                        <AntDesign name='enter' color='white' size={18} />\r\n                        :\r\n                        <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 18, }}>{item}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n          {/* <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity> */}\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromRequestAccess('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 2,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChangePrice extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n      selectedTableItem: props.selectedTableItem,\r\n\r\n      availableDiscounts: props.discounts,\r\n      overlaySearchText: '',\r\n      overlayText: '',\r\n      discountSelected: false,\r\n      selectedDiscount: '',\r\n      validatePass: true,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleValidate(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleValidate(superUserId) {\r\n    const { home, privileges, overlayText, selectedDiscount, selectedTableItem } = this.state;\r\n    if (!overlayText) {\r\n      this.setState({\r\n        validatePass: false,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'CHANGEPRICE') || selectedTableItem.listPrice === 0) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'CHANGEPRICE',\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromChangePrice(overlayText, selectedDiscount || '-', superUserId);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, overlayText, discountSelected, availableDiscounts, discounts,\r\n      selectedDiscount, validatePass, overlayProcedureMessageVisible,\r\n      overlayRequestAccessVisible, requestedPrivilege } = this.state;\r\n    console.log('in overlaychangeprice, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Price</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={[styles.overlaySearchBoxInput, validatePass ? null : { color: theme.paid }]}\r\n                placeholder='ENTER PRICE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text, validatePass: true })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          {\r\n            discountSelected ?\r\n              <View style={{ flex: 1 }}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <TouchableOpacity style={styles.overlaySearchBox}\r\n                    onPress={() => this.setState({\r\n                      overlaySearchText: '',\r\n                      selectedDiscount: '',\r\n                      discountSelected: false,\r\n                    })}>\r\n                    <Text style={styles.selectText}>{selectedDiscount.discId}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={{ paddingBottom: 5 }}></View>\r\n              </View>\r\n              :\r\n              <View style={styles.selectWrapper}>\r\n                <View style={styles.searchBoxWrapper}>\r\n                  <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                    <TextInput style={styles.overlaySearchBoxInput}\r\n                      placeholder='ENTER SEARCH TEXT'\r\n                      placeholderTextColor='rgba(255,255,255,0.2)'\r\n                      onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                      value={overlaySearchText}\r\n                    />\r\n                    <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                      onPress={() => {\r\n                        this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                        Keyboard.dismiss()\r\n                      }}>\r\n                      <AntDesign name='close' size={24} color={theme.grey4} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={[{ flex: 1 }]}\r\n                  data={availableDiscounts}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.overlayGrid]}\r\n                      onPress={() => this.setState({\r\n                        discountSelected: true,\r\n                        selectedDiscount: item,\r\n                        validatePass: true,\r\n                      })}>\r\n                      <View style={styles.overlayGridFirst}>\r\n                        <View style={styles.overlayGridFirstLeft}>\r\n                          <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                        </View>\r\n                        <View style={styles.overlayGridFirstRight}>\r\n                          <Text style={styles.overlayGridFirstRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.overlayGridSecond}>\r\n                        <Text style={styles.overlayGridSecondText}>\r\n                          {item.discName}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.overlayGridThird}>\r\n                        <View style={styles.overlayGridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.overlayGridThirdRight}>\r\n                          <Text style={styles.overlayGridThirdRightText}></Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n          }\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleValidate()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromChangePrice('', '')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayLineDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      discounts: props.discounts,\r\n      privileges: props.privileges,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'LINEDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access LINEDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'LINEDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromLineDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlaylinediscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='LINEDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Line Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromLineDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayHeaderDiscount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      settings: props.settings,\r\n      privileges: props.privileges,\r\n      discounts: props.discounts,\r\n\r\n      availableDiscounts: props.discounts,\r\n\r\n      overlaySearchText: '',\r\n      selectedDiscount: '',\r\n      remarks: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { discounts, availableDiscounts } = this.state;\r\n    let availableDiscountsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableDiscounts);\r\n\r\n    availableDiscountsUpdate = discounts;\r\n    if (!text) {\r\n      this.setState({\r\n        availableDiscounts: availableDiscountsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableDiscountsUpdate = availableDiscountsUpdate.filter(item => {\r\n      return item.discId.toUpperCase().includes(caseText) || item.discName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableDiscounts: availableDiscountsUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedDiscount } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'HEADERDISC',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access HEADERDISC',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(selectedDiscount, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(item, superUserId) {\r\n    const { home, privileges, remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'HEADERDISC')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        selectedDiscount: item,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromHeaderDiscount(itemWithRemarks, superUserId);\r\n  }\r\n\r\n  render() {\r\n    const { home, overlaySearchText, availableDiscounts, remarks,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in overlayheaderdiscount, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='HEADERDISC'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Header Discount</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromHeaderDiscount('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableDiscounts.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableDiscounts}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.discId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.discName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayMergeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      mergeTables: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTable = this.handleSelectTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log('tablesForFilter', response);\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.tableFlg !== 'Y'),\r\n          availableTables: response.filter(el => el.tableFlg !== 'Y'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTable(item) {\r\n    const { mergeTables } = this.state;\r\n    let mergeTablesUpdate = mergeTables;\r\n    if (!mergeTables.some(el => el.tableId === item.tableId)) {\r\n      mergeTablesUpdate.push(item);\r\n    } else {\r\n      mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    }\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { mergeTables } = this.state;\r\n    const mergeTablesUpdate = mergeTables;\r\n    mergeTablesUpdate = mergeTablesUpdate.filter(el => el.tableId !== item.tableId);\r\n    this.setState({\r\n      mergeTables: mergeTablesUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTables, tables, mergeTables } = this.state;\r\n    console.log('in overlaymergetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {mergeTables.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTable(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.tableId}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeTable([])}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.vacant }]}\r\n            onPress={() => this.props.handleUpdateFromMergeTable(mergeTables)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n      tableItems: props.tableItems,\r\n\r\n      overlaySearchText: '',\r\n      availableTableItems: props.tableItems.filter(el => !el.refRecKey),\r\n      selectedTableItems: [],\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tableItems } = this.state;\r\n    let availableTableItemsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTableItems);\r\n\r\n    availableTableItemsUpdate = tableItems.filter(el => !el.refRecKey);\r\n    if (!text) {\r\n      this.setState({\r\n        availableTableItems: availableTableItemsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTableItemsUpdate = availableTableItemsUpdate.filter(item => {\r\n      return item.menuId.toUpperCase().includes(caseText) || item.menuName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTableItems: availableTableItemsUpdate\r\n    });\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    const { selectedTableItems } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItemsUpdate.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handlePressSelection(item) {\r\n    const { selectedTableItems } = this.state;\r\n    const selectedTableItemsUpdate = selectedTableItems;\r\n    selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, overlaySearchText, availableTableItems, selectedTableItems } = this.state;\r\n    console.log('in overlaysplittable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Table</Text>\r\n          </View>\r\n          <View style={styles.selectionContainer}>\r\n            {selectedTableItems.map(item =>\r\n              <TouchableOpacity\r\n                key={item.recKey}\r\n                style={[styles.modalAvailableMod]}\r\n                onPress={() => this.handleSelectTableItem(item)}\r\n              >\r\n                <Text style={[styles.modalAvailableModText]}>{item.lineNo}</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromSplitTable('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTableItems.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTableItems}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={styles.overlayGrid}\r\n                onPress={() => this.handleSelectTableItem(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.menuId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>{item.lineNo}</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.menuName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitTable(selectedTableItems)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  selectionContainer: {\r\n    height: 35,\r\n    paddingBottom: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  modalAvailableMod: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    height: 30,\r\n    backgroundColor: theme.grey1,\r\n    marginRight: 5,\r\n    marginBottom: 5,\r\n  },\r\n  modalAvailableModText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n    fontSize: 20,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nexport default class OverlayChangeTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.home,\r\n      serviceEntry: props.serviceEntry,\r\n      selectedTable: props.selectedTable,\r\n\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'A');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.tableFlg === 'Y'),\r\n          availableTables: response.filter(el => el.tableFlg !== 'Y'),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableTables);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableTables, tables, selectedTable } = this.state;\r\n    console.log('in overlaychangetable, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Change Table</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChangeTable('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.props.handleUpdateFromChangeTable(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>VACANT</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayReviseItem extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, selectedTableItem, tableItems } = this.props;\r\n    console.log('in overlayreviseitem', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reviseitem')}</Text>\r\n            <Text style={styles.overlayText}>{selectedTableItem.menuName.toUpperCase()}</Text>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('voidItem')}>\r\n              <AntDesign\r\n                name='close'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('remove')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('duplicateItem')}>\r\n              <AntDesign\r\n                name='copy1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('duplicate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.confirmFlg === 'Y' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.confirmFlg === 'Y'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineBreak')}>\r\n              <AntDesign\r\n                name='minus'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linebreak')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('editItem')}>\r\n              <AntDesign\r\n                name='edit'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, !(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X') && { opacity: 0.2 }]}\r\n              disabled={!(selectedTableItem.menuType === 'S' || selectedTableItem.menuType === 'X')}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('revertItem')}>\r\n              <AntDesign\r\n                name='man'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('revert')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0) && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N' && selectedTableItem.listPrice !== 0}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('changePrice')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('changeprice')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItem.discFlg === 'N' && { opacity: 0.2 }]}\r\n              disabled={selectedTableItem.discFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromReviseItem('lineDiscount')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('linedisc')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromReviseItem('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayTableActions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, tableItems } = this.props;\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('table')} {intl.get('action')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.orderType === 'B' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.orderType === 'B' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('openTable')}>\r\n              <AntDesign name='appstore-o' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('editTable')}>\r\n              <AntDesign name='edit' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.orderType === 'B' || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.orderType === 'B' || selectedTable.statusFlg !== 'A'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('reserveTable')}>\r\n              <AntDesign name='calendar' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('reserve')}</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              (selectedTable?.orderType !== 'B' && selectedTable?.statusFlg === 'A') ?\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg !== 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('disableTable')}>\r\n                  <MaterialCommunityIcons name='cancel' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('disable')}</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg === 'A') && { opacity: 0.2 }]}\r\n                  disabled={!selectedTable || selectedTable.statusFlg === 'A'}\r\n                  onPress={() => this.props.handleUpdateFromTableActions('resetTable')}>\r\n                  <AntDesign name='reload1' color='white' size={32} />\r\n                  <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('mergeTable')}>\r\n              <AntDesign name='menufold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('mergetable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('splitTable')}>\r\n              <AntDesign name='menuunfold' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('splittable')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C' || selectedTable.tableFlg === 'N'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('changeTable')}>\r\n              <AntDesign name='swap' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('changetable')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewResequence')}>\r\n              <AntDesign name='bars' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('resequence')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('viewTransfer')}>\r\n              <AntDesign name='export' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('transferitems')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('headerDiscount')}>\r\n              <AntDesign name='exception1' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('headerdisc')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n              disabled={!selectedTable || selectedTable.statusFlg !== 'C'}\r\n              onPress={() => this.props.handleUpdateFromTableActions('printBill')}>\r\n              <AntDesign name='book' color='white' size={32} />\r\n              <Text style={styles.buttonText}>{intl.get('printbill')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromTableActions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayAdditionalFunctions extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    console.log('in overlayadditionalfunctions', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('additionalfunctions')}</Text>\r\n            {/* <Text style={styles.overlayText}>Select an operation</Text> */}\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReprint')}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewVoid')}>\r\n              <AntDesign\r\n                name='exception1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('voidreceipts')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewCollect')}>\r\n              <AntDesign\r\n                name='gift'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('collection')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('openDrawer')}>\r\n              <AntDesign\r\n                name='laptop'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('opendrawer')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('logOut')}>\r\n              <AntDesign\r\n                name='doubleleft'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('logout')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewTrace')}>\r\n              <AntDesign\r\n                name='eyeo'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewPrinters')}>\r\n              <AntDesign\r\n                name='fork'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('testprint')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, { backgroundColor: theme.grey2 }]}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('syncMasters')}>\r\n              <AntDesign\r\n                name='retweet'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('syncmasters')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewActivate')}>\r\n              <AntDesign\r\n                name='bulb1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('activate')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewLimit')}>\r\n              <AntDesign\r\n                name='staro'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('limited')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewDayclose')}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('dayend')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.props.handleUpdateFromAdditionalFunctions('viewReports')}>\r\n              <AntDesign\r\n                name='solution1'\r\n                color='white'\r\n                size={32}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('reports')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, marginTop: 20 }]}\r\n            onPress={() => this.props.handleUpdateFromAdditionalFunctions('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    minWidth: '50%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayChoosePrinter extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      printers: props.cashierPrinters,\r\n      availablePrinters: props.cashierPrinters,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { printers, availablePrinters } = this.state;\r\n    let availablePrintersUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availablePrinters);\r\n\r\n    availablePrintersUpdate = printers;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePrinters: availablePrintersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePrintersUpdate = availablePrintersUpdate.filter(item => {\r\n      return item.iomodelId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePrinters: availablePrintersUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { printPurpose } = this.props;\r\n    const { overlaySearchText, availablePrinters, printers } = this.state;\r\n    console.log('in overlaychooseprinter, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{printPurpose}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{printPurpose === 'DEFAULT PRINTER' ? intl.get('default') : intl.get('choose')} {intl.get('printer')}</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromChoosePrinter('')}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availablePrinters.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            // numColumns={3}\r\n            data={availablePrinters}\r\n            keyExtractor={(item, index) => index}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.props.handleUpdateFromChoosePrinter(item, printPurpose)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.iomodelId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid, }]}\r\n            onPress={() => this.props.handleUpdateFromChoosePrinter('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, StatusBar, ScrollView, TouchableOpacity, Text, Alert, Platform, Dimensions } from 'react-native';\r\nimport { AntDesign, Ionicons, Entypo, MaterialCommunityIcons, Fontisto, FontAwesome, MaterialIcons } from '@expo/vector-icons';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport { debug } from '../assets/utility';\r\nimport io from 'socket.io-client';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport Constants from 'expo-constants';\r\nimport theme from '../assets/theme';\r\nimport MainTable from './MainTable';\r\nimport MainMenu from './MainMenu';\r\n\r\nimport OverlayAutoLogout from './OverlayAutoLogout';\r\nimport OverlayDeposit from './OverlayDeposit';\r\nimport OverlayScanBarcode from './OverlayScanBarcode';\r\nimport OverlayChangePrice from './OverlayChangePrice';\r\nimport OverlayLineDiscount from './OverlayLineDiscount';\r\nimport OverlayHeaderDiscount from './OverlayHeaderDiscount';\r\nimport OverlayMergeTable from './OverlayMergeTable';\r\nimport OverlaySplitTable from './OverlaySplitTable';\r\nimport OverlayChangeTable from './OverlayChangeTable';\r\nimport OverlayReviseItem from './OverlayReviseItem';\r\nimport OverlayTableActions from './OverlayTableActions';\r\nimport OverlayAdditionalFunctions from './OverlayAdditionalFunctions';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nconst Tab = createBottomTabNavigator();\r\n\r\nexport default class Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      selectedTable: null,\r\n      selectedTableItem: null,\r\n      tableItems: [],\r\n      printPurpose: '',\r\n      requestedPrivilege: '',\r\n\r\n      screen: 'TABLE',\r\n      refresh: null,\r\n    };\r\n\r\n    this.handlePressTable = this.handlePressTable.bind(this);\r\n    this.handleActionTable = this.handleActionTable.bind(this);\r\n    this.handlePressMenu = this.handlePressMenu.bind(this);\r\n    this.handlePressScan = this.handlePressScan.bind(this);\r\n    this.handlePressAdhoc = this.handlePressAdhoc.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromAutoLogout = this.handleUpdateFromAutoLogout.bind(this);\r\n    this.handleUpdateFromDeposit = this.handleUpdateFromDeposit.bind(this);\r\n    this.handleUpdateFromScanBarcode = this.handleUpdateFromScanBarcode.bind(this);\r\n    this.handleUpdateFromReviseItem = this.handleUpdateFromReviseItem.bind(this);\r\n    this.handleUpdateFromTableActions = this.handleUpdateFromTableActions.bind(this);\r\n    this.handleUpdateFromAdditionalFunctions = this.handleUpdateFromAdditionalFunctions.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromHeaderDiscount = this.handleUpdateFromHeaderDiscount.bind(this);\r\n    this.handleUpdateFromLineDiscount = this.handleUpdateFromLineDiscount.bind(this);\r\n    this.handleUpdateFromChangePrice = this.handleUpdateFromChangePrice.bind(this);\r\n    this.handleUpdateFromMergeTable = this.handleUpdateFromMergeTable.bind(this);\r\n    this.handleUpdateFromSplitTable = this.handleUpdateFromSplitTable.bind(this);\r\n    this.handleUpdateFromChangeTable = this.handleUpdateFromChangeTable.bind(this);\r\n\r\n    this.handleUpdateFromVoid = this.handleUpdateFromVoid.bind(this);\r\n    this.handleUpdateFromTable = this.handleUpdateFromTable.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntryObj, preference, home, selectedTable, tableItems } = this.state;\r\n\r\n    if (preference?.usecondary) {\r\n      global.socket = io(\r\n        serviceEntryObj.restServiceUrl.substring(0, serviceEntryObj.restServiceUrl.lastIndexOf(\"/gateway\")) + '/socket.io',\r\n        {\r\n          query: {\r\n            userId: home.userId,\r\n            serviceId: serviceEntryObj.epbId,\r\n          }\r\n        },\r\n      );\r\n    }\r\n\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n    this.doChooseDefaultPrinter();\r\n    // temp\r\n    // this.handlePressTable({ recKey: 381386 })\r\n  }\r\n\r\n  didFocus() {\r\n    const { selectedTable } = this.state;\r\n    if (selectedTable) {\r\n      this.handlePressTable(selectedTable);\r\n    }\r\n    this.setState({\r\n      refresh: moment().format('HH:mm:ss'),\r\n    })\r\n    console.log('focused')\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n\r\n    if (global.socket) {\r\n      global.socket.close();\r\n    }\r\n  }\r\n\r\n  doChooseDefaultPrinter() {\r\n    const { home, masters } = this.state;\r\n    if (masters.cashierPrinters.length > 1) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'DEFAULT PRINTER',\r\n      });\r\n    } else if (masters.cashierPrinters.length === 1) {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = masters.cashierPrinters?.[0];\r\n      this.setState({\r\n        home: homeUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  async handlePressTable(item) {\r\n    if (!item?.recKey) return;\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, preference, settings } = this.state;\r\n\r\n    const settingPOSMODE = settings.find(el => el.setId === 'POSMODE')?.setString;\r\n    let url = serviceEntry + 'api/tables/' + item.recKey;\r\n    return fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // hide paid or reset takeaway tables\r\n        if (!response.opentable) {\r\n          this.doClearTable();\r\n          return;\r\n        }\r\n        if (settingPOSMODE === 'B' && (response.opentable.statusFlg === 'A' || response.opentable.statusFlg === 'D')) {\r\n          this.doClearTable();\r\n          return;\r\n        }\r\n        // faster navigation for takeaway tables, disabled currently, in conjunction with MainTable press\r\n        // if (response.opentable.orderType === 'B') {\r\n        //   this.doToggleScreen('TABLE');\r\n        // }\r\n\r\n        // emit to secondary display\r\n        if (global.socket) {\r\n          global.socket.emit('participate-room', {\r\n            home: this.state.home,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            users: preference.usecondary.split(','),\r\n          })\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  handleActionTable(item, action) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (action === 'CREATE') {\r\n      this.doCreateTable(item);\r\n    } else if (action === 'OPEN') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (action === 'EDIT') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    }\r\n  }\r\n\r\n  handlePressMenu(item, quick) {\r\n    const { navigation } = this.props;\r\n    const { home, preference, serviceEntry, settings, masters, selectedTable } = this.state;\r\n    const settingPOSMODE = settings.find(el => el.setId === 'POSMODE')?.setString;\r\n    const globalModBundles = masters.modBundles.filter(el => (!el.modmas.locId || el.modmas.locId === home.locId) && el.modmas.globalFlg === 'Y');\r\n    console.log(item)\r\n    // no opentable, bistro mode\r\n    if (!selectedTable && settingPOSMODE === 'A') {\r\n      if (item.menuType === 'O') {\r\n        navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      } else {\r\n        navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      }\r\n      return;\r\n    }\r\n    // no opentable, pos mode\r\n    if (!selectedTable && settingPOSMODE === 'B') {\r\n      this.doCreateTable(masters.sections[0], item);\r\n      return;\r\n    }\r\n    // combo\r\n    if (item.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // compulsory modifier\r\n    if (globalModBundles.some(el => el.modmas.mustFlg === 'Y') || masters.mods.some(el => el.menuId === item.menuId && (masters.modBundles.find(obj => obj.modmas.modId === el.modId)?.modmas.mustFlg === 'Y'))) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n      return;\r\n    }\r\n    // normal\r\n    if (!quick) {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: item });\r\n    } else {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: item.recKey,\r\n        restmenuMod: item.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((selectedTable.orderType === 'B' && settingPOSMODE === 'A') ? `*${intl.get('takeaway')}  ` : ''),\r\n        orderQty: '1',\r\n        orderType: item.serviceFlg === 'N' ? 'B' : selectedTable.orderType,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              item.menuName,\r\n              '1',\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          this.handlePressTable(selectedTable);\r\n        })\r\n    }\r\n  }\r\n\r\n  handlePressScan(camera) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, selectedTable } = this.state;\r\n    if (!selectedTable) return;\r\n    if (camera) {\r\n      if (Platform.OS !== 'web') {\r\n        navigation.navigate('Scan', { home, serviceEntry, masters, selectedTable })\r\n      }\r\n    } else {\r\n      this.setState({\r\n        overlayScanBarcodeVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressAdhoc() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, selectedTable } = this.state;\r\n\r\n    navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })\r\n    // create seperate action tree for settingPOSMODE === 'B'\r\n  }\r\n\r\n  doClearTable() {\r\n    // emit to secondary display\r\n    if (global.socket) {\r\n      global.socket.emit('participate-room', {\r\n        home: this.state.home,\r\n        selectedTable: null,\r\n        tableItems: [],\r\n        users: this.state.preference.usecondary.split(','),\r\n      })\r\n    }\r\n    this.setState({\r\n      selectedTable: null,\r\n      tableItems: [],\r\n    });\r\n  }\r\n\r\n  doCreateTable(section, item) {\r\n    const { navigation } = this.props;\r\n    const { preference, serviceEntry, home, settings, masters } = this.state;\r\n    let url = serviceEntry + 'api/insert-opentable';\r\n    const body = {\r\n      userId: home.userId,\r\n      sectionId: section.sectionId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Create Table',\r\n            home.userName,\r\n            response.message,\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('MainMenu')\r\n        // emit to secondary display\r\n        if (global.socket) {\r\n          global.socket.emit('participate-room', {\r\n            home: this.state.home,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            users: preference.usecondary.split(','),\r\n          })\r\n        }\r\n        this.setState({\r\n          screen: 'MENU',\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          refresh: moment().format('HH:mm:ss'),\r\n        }, () => {\r\n          if (item) {\r\n            if (item.menuType === 'O') {\r\n              navigation.navigate('Combo', { home, serviceEntry, preference, masters, selectedTable: response.opentable, selectedMenu: item });\r\n            } else {\r\n              navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable: response.opentable, selectedMenu: item });\r\n            }\r\n          }\r\n        });\r\n      })\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.transType !== 'A') return theme.deposit;\r\n    if (item.statusFlg === 'A') {\r\n      return theme.vacant;\r\n    } else if (item.statusFlg === 'B') {\r\n      return theme.reserved;\r\n    } else if (item.statusFlg === 'C') {\r\n      return theme.occupied;\r\n    } else if (item.statusFlg === 'D') {\r\n      return theme.paid;\r\n    } else if (item.statusFlg === 'E') {\r\n      return theme.unavailable;\r\n    }\r\n  }\r\n\r\n  // not in use\r\n  doTranslateTableStatus(item) {\r\n    if (item.orderType === 'B') {\r\n      if (item.transType === 'A') {\r\n        return intl.get('sales');\r\n      } else if (item.transType === 'G') {\r\n        if (item.homeDelivery === 'Y') {\r\n          return intl.get('deposit') + 'DLY';\r\n        } else {\r\n          return intl.get('deposit');\r\n        }\r\n      }\r\n    } else {\r\n      return intl.get(`${item.statusFlg}`).d('Unknown');\r\n    }\r\n  }\r\n\r\n  doTranslateTableItemColor(item) {\r\n    if (item.fireFlg === 'Y') {\r\n      return theme.reserved;\r\n    }\r\n    if (item.confirmFlg === 'Y') {\r\n      return theme.occupied;\r\n    }\r\n    return theme.vacant;\r\n  }\r\n\r\n  doToggleScreen(item) {\r\n    const { navigation } = this.props;\r\n    const { settings } = this.state;\r\n    if (item === 'MENU' && settings.find(el => el.setId === 'POSMODE')?.setString === 'A') {\r\n      this.setState({\r\n        screen: 'TABLE',\r\n        refresh: moment().format('HH:mm:ss'),\r\n      })\r\n      navigation.navigate('MainTable')\r\n    } else {\r\n      this.setState({ screen: 'MENU' })\r\n      navigation.navigate('MainMenu')\r\n    }\r\n  }\r\n\r\n  doPressItem(item) {\r\n    this.setState({\r\n      selectedTableItem: item,\r\n      overlayReviseItemVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartDayclose(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, settings, } = this.state;\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'DAYCLOSE')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'DAYCLOSE',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/start-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Dayclose',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Dayclose', { home, serviceEntry, masters, dayclosePayments: response.posDayCloseAmt, daycloseSubPayments: response.posDayCloseAmtDtl })\r\n      })\r\n  }\r\n\r\n  doPressTransType() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: intl.get('sales'), handleText: 'doTransTypeSales' });\r\n    options.push({ text: intl.get('deposit'), handleText: 'doTransTypeDeposit' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Transaction Type',\r\n        text: 'Select transaction type for ' + selectedTable.tableId,\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doStartPayment(printer, superUserId) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, masters, settings,\r\n      selectedTable, tableItems, } = this.state;\r\n\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'SELECT AN ORDER',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n      });\r\n      return;\r\n    }\r\n    if (!tableItems || tableItems.length === 0) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'NO TABLE ITEMS',\r\n      });\r\n      return;\r\n    }\r\n    if (selectedTable.refTableId) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'TABLE ALREADY MERGED ' + selectedTable.refTableId,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'PAYMENT')) && !superUserId) {\r\n      this.setState({\r\n        requestedPrivilege: 'PAYMENT',\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          pospays: response.opentablePospays,\r\n        }, () => navigation.navigate('Pos', { home, serviceEntry, serviceEntryObj, masters, selectedTable: response.opentable, pospays: response.opentablePospays }));\r\n      })\r\n  }\r\n\r\n  doChangeTableStatus(newStatus) {\r\n    const { home, serviceEntry, selectedTable, masters, settings } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table-status';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: newStatus,\r\n      pax: '',\r\n      vipId: '',\r\n      vipName: '',\r\n      phone: '',\r\n      reservationTime: '',\r\n      sourceId: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table-status successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table Status',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            newStatus,\r\n          );\r\n        if (response.message) {\r\n          if (response.message === 'Table Not Found') {\r\n            this.doClearTable();\r\n            this.doToggleScreen('MENU')\r\n          } else {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n          }\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doRevertTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/revert-adhoc';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post revert-adhoc successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Revert Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n          refresh: moment().format('HH:mm:ss'),\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doDuplicateTableItem() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/duplicate-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post duplicate-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Duplicate Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: '',\r\n        });\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doUpdateLineBreak() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    })\r\n    let newLineBreak = 'Y';\r\n    if (selectedTableItem.lineBreak === 'Y') {\r\n      newLineBreak = 'N';\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-line-break';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      lineBreak: newLineBreak,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-line-break successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Break',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  doPrintBill(printer) {\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    if (!selectedTable || selectedTable?.statusFlg !== 'C') return;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'PRINT BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/print-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Print Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  doOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, masters, settings } = this.state;\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n        printPurpose: 'OPEN DRAWER',\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n  }\r\n\r\n  doTransTypeSales() {\r\n    const { selectedTable } = this.state;\r\n    this.handleUpdateFromDeposit('A', selectedTable.vipName, selectedTable.vipPhone, selectedTable.homeDelivery, selectedTable.dlyDate ? moment(selectedTable.dlyDate).format('YYYY-MM-DD') : '', selectedTable.dpostalcode, selectedTable.daddress1, selectedTable.daddress2)\r\n  }\r\n\r\n  doTransTypeDeposit() {\r\n    this.setState({\r\n      overlayDepositVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressSend() {\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (!selectedTable || selectedTable.sendFlg !== 'Y') {\r\n      console.log('no selectedTable or sendFlg is N');\r\n      return;\r\n    }\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doSendOrder' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Send Order',\r\n        text: 'Send order for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  doSendOrder(printer) {\r\n    const { serviceEntry, home, selectedTable, masters, settings } = this.state;\r\n\r\n    // section-based print order\r\n    let printOrder = masters.sections.find(el => el.sectionId === selectedTable.sectionId)?.printOrderFlg === 'Y';\r\n\r\n    if (masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter && printOrder) {\r\n      this.setState({\r\n        printPurpose: 'SEND ORDER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/send-order';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: printOrder && ((home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId)),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post send-order successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Send Order',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n        });\r\n      })\r\n  }\r\n\r\n  doEditTableItem(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, preference,\r\n      tableItems, selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayReviseItemVisible: false,\r\n    });\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'EDITITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n    if (selectedTableItem?.menuType === 'O') {\r\n      navigation.navigate('Combo', { home, serviceEntry, masters, preference, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem, tableItems })\r\n    } else {\r\n      navigation.navigate('Menu', { home, serviceEntry, masters, selectedTable, selectedMenu: masters.menus.find(el => el.menuId === selectedTableItem.menuId), selectedTableItem })\r\n    }\r\n  }\r\n\r\n  doDeleteTableItem(superUserId) {\r\n    const { serviceEntry, home, selectedTableItem, selectedTable, masters, settings, privileges } = this.state;\r\n\r\n    if (selectedTableItem.confirmFlg === 'Y') {\r\n      // special scenario all personnel need double confirm\r\n      if (!(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'VOIDITEM')) && !superUserId) {\r\n        this.setState({\r\n          overlayRequestAccessVisible: true,\r\n          requestedPrivilege: 'VOIDITEM',\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Item',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(response.opentable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable, home } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'SEND ORDER') {\r\n      this.doSendOrder(printer);\r\n    } else if (purpose === 'PRINT BILL') {\r\n      this.doPrintBill(printer);\r\n    } else if (purpose === 'START PAYMENT') {\r\n      this.doStartPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.doOpenDrawer(printer);\r\n    } else if (purpose === 'DEFAULT PRINTER') {\r\n      let homeUpdate = home;\r\n      homeUpdate.defaultPrinter = printer;\r\n      this.setState({\r\n        home: homeUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, masters, settings, requestedPrivilege, selectedPrinter,\r\n      selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable?.tableId,\r\n            selectedTableItem?.menuName,\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.doOpenDrawer(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'PAYMENT') {\r\n          this.doStartPayment(selectedPrinter, response.userId);\r\n        } else if (requestedPrivilege === 'DAYCLOSE') {\r\n          this.doStartDayclose(response.userId);\r\n        } else if (requestedPrivilege === 'VOIDITEM') {\r\n          this.doDeleteTableItem(response.userId);\r\n        } else if (requestedPrivilege === 'EDITITEM') {\r\n          this.doEditTableItem(response.userId);\r\n        }\r\n      })\r\n  }\r\n\r\n  handleUpdateFromAdditionalFunctions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayAdditionalFunctionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewReprint') {\r\n      navigation.navigate('Reprint', { home, serviceEntry, masters });\r\n    } else if (text === 'viewVoid') {\r\n      navigation.navigate('Void', { home, serviceEntry, masters, handleUpdateFromVoid: this.handleUpdateFromVoid });\r\n    } else if (text === 'viewCollect') {\r\n      navigation.navigate('Collect', { home, serviceEntry, masters, });\r\n    } else if (text === 'viewDayclose') {\r\n      this.doStartDayclose();\r\n    } else if (text === 'viewReports') {\r\n      navigation.navigate('Report', { home, serviceEntry, masters });\r\n    } else if (text === 'openDrawer') {\r\n      this.doOpenDrawer();\r\n    } else if (text === 'viewPrinters') {\r\n      navigation.navigate('Printer', { home, serviceEntry });\r\n    } else if (text === 'viewActivate') {\r\n      navigation.navigate('Activate', { home, serviceEntry, masters });\r\n    } else if (text === 'logOut') {\r\n      navigation.goBack();\r\n    } else if (text === 'syncMasters') {\r\n      navigation.navigate('Login', { sync: new Date() });\r\n    } else if (text === 'viewTrace') {\r\n      navigation.navigate('Trace', { home, serviceEntry, selectedTable });\r\n    } else if (text === 'viewLimit') {\r\n      navigation.navigate('Limit', { home, serviceEntry, masters });\r\n    }\r\n  }\r\n\r\n  async handleUpdateFromTableActions(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable, tableItems } = this.state;\r\n\r\n    this.setState({\r\n      overlayTableActionsVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'viewResequence') {\r\n      navigation.navigate('Resequence', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'viewTransfer') {\r\n      navigation.navigate('Transfer', { home, serviceEntry, masters, tableItems, selectedTable });\r\n    } else if (text === 'headerDiscount') {\r\n      this.setState({\r\n        overlayHeaderDiscountVisible: true,\r\n      })\r\n    } else if (text === 'printBill') {\r\n      this.doPrintBill();\r\n    } else if (text === 'openTable') {\r\n      await this.handlePressTable(selectedTable)\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable });\r\n    } else if (text === 'editTable') {\r\n      navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT' });\r\n    } else if (text === 'resetTable') {\r\n      this.doChangeTableStatus('A');\r\n    } else if (text === 'reserveTable') {\r\n      this.doChangeTableStatus('B');\r\n    } else if (text === 'disableTable') {\r\n      this.doChangeTableStatus('E');\r\n    } else if (text === 'mergeTable') {\r\n      this.setState({\r\n        overlayMergeTableVisible: true,\r\n      });\r\n    } else if (text === 'splitTable') {\r\n      this.setState({\r\n        overlaySplitTableVisible: true,\r\n      });\r\n    } else if (text === 'changeTable') {\r\n      this.setState({\r\n        overlayChangeTableVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromReviseItem(text) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, masters, selectedTable, selectedTableItem } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'voidItem') {\r\n      let options = [];\r\n      options.push({ text: 'Yes', handleText: 'doDeleteTableItem' });\r\n      this.setState({\r\n        overlayReviseItemVisible: false,\r\n        overlayAlertInputValue: {\r\n          title: intl.get('action'),\r\n          subtitle: 'Remove Item',\r\n          text: 'Remove ' + selectedTableItem.menuName + ' ?',\r\n          ok: false,\r\n          cancel: true,\r\n          options: options,\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n    } else if (text === 'editItem') {\r\n      this.doEditTableItem();\r\n    } else if (text === 'revertItem') {\r\n      this.doRevertTableItem();\r\n    } else if (text === 'changePrice') {\r\n      this.setState({\r\n        overlayChangePriceVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineDiscount') {\r\n      this.setState({\r\n        overlayLineDiscountVisible: true,\r\n        overlayReviseItemVisible: false,\r\n      })\r\n    } else if (text === 'lineBreak') {\r\n      this.doUpdateLineBreak();\r\n    } else if (text === 'duplicateItem') {\r\n      this.doDuplicateTableItem();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromLineDiscount(text, superUserId) {\r\n    this.setState({ overlayLineDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/line-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post line-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Line Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromHeaderDiscount(text, superUserId) {\r\n    this.setState({ overlayHeaderDiscountVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/header-discount';\r\n    const body = {\r\n      userId: home.userId,\r\n      discId: text.discId,\r\n      disc: text.discNum,\r\n      opentableRecKey: selectedTable.recKey,\r\n      superUserId: superUserId,\r\n      remarks: text.remarks,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post header-discount successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Header Discount',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text.discId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangePrice(text, item, superUserId) {\r\n    this.setState({ overlayChangePriceVisible: false });\r\n    if (!text && !item) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedTableItem } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-price';\r\n    const body = {\r\n      userId: home.userId,\r\n      price: text,\r\n      discId: item.discId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-price successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Price',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromMergeTable(tables) {\r\n    this.setState({ overlayMergeTableVisible: false });\r\n    if (tables.length === 0) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-table';\r\n    const itemPayloads = tables.map(el => ({\r\n      mergedOpentableRecKey: el.recKey,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            tables.map(el => el.tableId).join(','),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromSplitTable(items) {\r\n    this.setState({\r\n      overlaySplitTableVisible: false,\r\n    });\r\n    if (!items) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/split-table';\r\n    const itemPayloads = items.map(el => ({\r\n      opentableItemRecKey: el.recKey,\r\n      opentableRecKey: selectedTable.recKey,\r\n    }));\r\n    const body = {\r\n      userId: home.userId,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post split-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Split Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.opentable?.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(response.opentable || selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromChangeTable(table) {\r\n    this.setState({ overlayChangeTableVisible: false });\r\n    if (!table) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/change-table';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKeyTo: table.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post change-table successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Change Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            table.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          refresh: moment().format('HH:mm:ss'),\r\n        })\r\n        this.handlePressTable(table);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSendOrder') {\r\n      this.doSendOrder();\r\n    } else if (text === 'doDeleteTableItem') {\r\n      this.doDeleteTableItem();\r\n    } else if (text === 'doTransTypeSales') {\r\n      this.doTransTypeSales();\r\n    } else if (text === 'doTransTypeDeposit') {\r\n      this.doTransTypeDeposit();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAutoLogout(timer) {\r\n    // if (!timer) {\r\n    //   this.setState({\r\n    //     overlayAutoLogoutVisible: false,\r\n    //   });\r\n    //   this.doAutoLogout();\r\n    // }\r\n    // if (timer === 0) {\r\n    //   this.setState({\r\n    //     toLogin: true,\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  handleUpdateFromDeposit(transType, vipName, phone, deliveryFlg, dlyDate, postalCode, addr1, addr2) {\r\n    this.setState({ overlayDepositVisible: false });\r\n    if (!transType) {\r\n      return;\r\n    }\r\n    const { home, serviceEntry, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-table-info';\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      transType: transType,\r\n      vipName: vipName,\r\n      phone: phone,\r\n      deliveryFlg: deliveryFlg,\r\n      dlyDate: dlyDate,\r\n      postalCode: postalCode,\r\n      addr1: addr1,\r\n      addr2: addr2,\r\n      addr3: '',\r\n      addr4: '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post deposit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Transaction Type',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            transType + ',' + deliveryFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable)\r\n      })\r\n  }\r\n\r\n  handleUpdateFromScanBarcode(text) {\r\n    if (!text) {\r\n      this.setState({ overlayScanBarcodeVisible: false });\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      vipId: home.vipId,\r\n      barcode: text,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post scan-barcode successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Scan Barcode',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable(selectedTable);\r\n      })\r\n  }\r\n\r\n  handleUpdateFromVoid(tableInfo) {\r\n    this.setState({\r\n      selectedTable: tableInfo.opentable,\r\n      tableItems: tableInfo.opentableItems,\r\n    });\r\n  }\r\n\r\n  handleUpdateFromTable() {\r\n    this.doToggleScreen('TABLE');\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntryObj, serviceEntry, home, preference, masters, screen, refresh,\r\n      selectedTable, selectedTableItem, tableItems, printPurpose, requestedPrivilege,\r\n      overlayAutoLogoutVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayReviseItemVisible, overlayTableActionsVisible, overlayAdditionalFunctionsVisible, overlayRequestAccessVisible,\r\n      overlayHeaderDiscountVisible, overlayLineDiscountVisible, overlayChangePriceVisible,\r\n      overlayChangeTableVisible, overlayMergeTableVisible, overlaySplitTableVisible,\r\n      overlayDepositVisible, overlayScanBarcodeVisible,\r\n      overlayProcedureMessageVisible, overlayChoosePrinterVisible } = this.state;\r\n    const settingPOSMODE = masters.settings.find(el => el.setId === 'POSMODE')?.setString;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        {\r\n          overlayAutoLogoutVisible &&\r\n          <OverlayAutoLogout\r\n            handleUpdateFromAutoLogout={this.handleUpdateFromAutoLogout} />\r\n        }\r\n        {\r\n          overlayDepositVisible &&\r\n          <OverlayDeposit\r\n            serviceEntry={serviceEntry}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromDeposit={this.handleUpdateFromDeposit} />\r\n        }\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayScanBarcodeVisible &&\r\n          <OverlayScanBarcode\r\n            handleUpdateFromScanBarcode={this.handleUpdateFromScanBarcode} />\r\n        }\r\n        {\r\n          overlayReviseItemVisible &&\r\n          <OverlayReviseItem\r\n            home={home}\r\n            privileges={masters.privileges}\r\n            selectedTable={selectedTable}\r\n            selectedTableItem={selectedTableItem}\r\n            tableItems={tableItems}\r\n            handleUpdateFromReviseItem={this.handleUpdateFromReviseItem} />\r\n        }\r\n        {\r\n          overlayTableActionsVisible &&\r\n          <OverlayTableActions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromTableActions={this.handleUpdateFromTableActions} />\r\n        }\r\n        {\r\n          overlayAdditionalFunctionsVisible &&\r\n          <OverlayAdditionalFunctions\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromAdditionalFunctions={this.handleUpdateFromAdditionalFunctions} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayChangePriceVisible &&\r\n          <OverlayChangePrice\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            selectedTableItem={selectedTableItem}\r\n            handleUpdateFromChangePrice={this.handleUpdateFromChangePrice} />\r\n        }\r\n        {\r\n          overlayLineDiscountVisible &&\r\n          <OverlayLineDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromLineDiscount={this.handleUpdateFromLineDiscount} />\r\n        }\r\n        {\r\n          overlayHeaderDiscountVisible &&\r\n          <OverlayHeaderDiscount\r\n            home={home}\r\n            serviceEntry={serviceEntry}\r\n            settings={masters.settings}\r\n            privileges={masters.privileges}\r\n            discounts={masters.discounts}\r\n            handleUpdateFromHeaderDiscount={this.handleUpdateFromHeaderDiscount} />\r\n        }\r\n        {\r\n          overlayMergeTableVisible &&\r\n          <OverlayMergeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeTable={this.handleUpdateFromMergeTable} />\r\n        }\r\n        {\r\n          overlaySplitTableVisible &&\r\n          <OverlaySplitTable\r\n            selectedTable={selectedTable}\r\n            tableItems={tableItems}\r\n            handleUpdateFromSplitTable={this.handleUpdateFromSplitTable} />\r\n        }\r\n        {\r\n          overlayChangeTableVisible &&\r\n          <OverlayChangeTable\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromChangeTable={this.handleUpdateFromChangeTable} />\r\n        }\r\n        <View style={{ width: 10, backgroundColor: theme.grey8 }}>\r\n          <View style={{ marginTop: 30, height: 100, backgroundColor: this.doTranslateTableColor(selectedTable) }}></View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{home.userName}</Text>\r\n            <Text style={styles.footerText}>{home.locName}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, marginLeft: 0, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            {/* {\r\n              selectedTable &&\r\n              <TouchableOpacity style={{ margin: 3, marginLeft: 0, marginRight: 0, width: 23, backgroundColor: this.doTranslateTableColor(selectedTable) }}\r\n                onPress={() => this.doClearTable()}>\r\n\r\n              </TouchableOpacity>\r\n            } */}\r\n            <View style={{ margin: 3, flex: 1, flexDirection: 'row', }}>\r\n              {\r\n                selectedTable &&\r\n                <TouchableOpacity style={{ marginLeft: 0, aspectRatio: 1, backgroundColor: this.doTranslateTableColor(selectedTable), justifyContent: 'center', alignItems: 'center' }}\r\n                  onPress={() => this.setState({ overlayTableActionsVisible: true })}>\r\n                  <Text style={[styles.tableUpperBand, { color: 'white' }]} numberOfLines={1}>{selectedTable.vipName || ''}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 24, letterSpacing: 1 }} numberOfLines={1}>{selectedTable.tableId}</Text>\r\n                  <Text style={styles.tableLowerBand} numberOfLines={1}>{selectedTable.sectionName}</Text>\r\n                </TouchableOpacity>\r\n              }\r\n            </View>\r\n            {\r\n              selectedTable && selectedTable.orderType === 'B' ?\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'EDIT', tab: 'VIP' })}>\r\n                    <MaterialCommunityIcons name=\"apps-box\" size={28} color={theme.unavailable} style={{ height: 28, width: 28 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('edit')}</Text>\r\n                  </TouchableOpacity>\r\n                  {\r\n                    selectedTable.adhocItem > 0 &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                      <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                      <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {\r\n                    settingPOSMODE === 'A' &&\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      disabled={selectedTable.sendFlg !== 'Y'}\r\n                      onPress={() => this.doPressSend()}>\r\n                      <FontAwesome name=\"send\" size={22} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 25, marginTop: 3 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  {/* <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                    <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28, }} />\r\n                    <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                  </TouchableOpacity> */}\r\n                  {/* <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => this.doPressTransType()}>\r\n                    <MaterialCommunityIcons name=\"water\" size={32} color={theme.deposit} style={{ height: 28, width: 32 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('type')}</Text>\r\n                  </TouchableOpacity> */}\r\n                </View>\r\n                : selectedTable && selectedTable.statusFlg === 'A' ?\r\n                  <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                    onPress={() => navigation.navigate('Table', { home, serviceEntry, masters, selectedTable, mode: 'NEW', handleUpdateFromTable: this.handleUpdateFromTable })}>\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n                    <Text style={styles.buttonText}>{intl.get('open')}</Text>\r\n                  </TouchableOpacity>\r\n                  : selectedTable && selectedTable.statusFlg === 'D' ?\r\n                    <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                      onPress={() => this.handleUpdateFromTableActions('resetTable')}>\r\n                      <MaterialCommunityIcons name=\"checkbox-blank\" size={26} color={theme.vacant} style={{ height: 28, width: 26 }} />\r\n                      <Text style={styles.buttonText}>{intl.get('reset')}</Text>\r\n                    </TouchableOpacity>\r\n                    : selectedTable ?\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        {\r\n                          selectedTable.adhocItem > 0 &&\r\n                          <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                            onPress={() => navigation.navigate('Adhoc', { home, serviceEntry, masters, selectedTable })}>\r\n                            <MaterialIcons name=\"extension\" size={28} color={theme.adhoc} style={{ height: 28, width: 28 }} />\r\n                            <Text style={styles.buttonText}>{intl.get('adhoc')}</Text>\r\n                            <Text style={{ position: 'absolute', fontFamily: 'varela-round', top: 10, right: 10 }}>{selectedTable.adhocItem}</Text>\r\n                          </TouchableOpacity>\r\n                        }\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          disabled={selectedTable.sendFlg !== 'Y'}\r\n                          onPress={() => this.doPressSend()}>\r\n                          <FontAwesome name=\"send\" size={22} color={selectedTable.sendFlg !== 'Y' ? theme.grey5 : theme.occupied} style={{ height: 25, marginTop: 3 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('send')}</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                          onPress={() => navigation.navigate('Fire', { home, serviceEntry, masters, selectedTable, tableItems })}>\r\n                          <Fontisto name=\"fire\" size={24} color={theme.reserved} style={{ height: 28 }} />\r\n                          <Text style={styles.buttonText}>{intl.get('fire')}</Text>\r\n                        </TouchableOpacity>\r\n                      </View>\r\n                      : null\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.setState({ overlayAdditionalFunctionsVisible: true })}>\r\n              <MaterialCommunityIcons name=\"clover\" size={28} color={theme.paid} style={{ height: 28, width: 28 }} />\r\n              <Text style={styles.buttonText}>{intl.get('func')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: 'white' }}>\r\n            <View style={{ width: 50, height: 20, alignItems: 'center', justifyContent: 'center', borderRightColor: theme.paid }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('qty')}</Text>\r\n            </View>\r\n            <View style={{ flex: 1, justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('desc')}</Text>\r\n            </View>\r\n            <View style={{ paddingRight: 10, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('total')}</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            onContentSizeChange={() => this.scrollViewRef.scrollToEnd()}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              tableItems.filter(el => !el.refRecKey).map(item => (\r\n                <View key={item.recKey.toString()}>\r\n                  {\r\n                    item.lineBreak === 'Y' &&\r\n                    <View style={{ alignItems: 'center', flexDirection: 'row', height: 20, }}>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                      <Text style={{ fontFamily: 'varela-round', color: theme.grey5, fontSize: 12 }}>LINE BREAK</Text>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                    </View>\r\n                  }\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: this.doTranslateTableItemColor(item), }}\r\n                    onPress={() => this.doPressItem(item)}>\r\n                    <View style={{ paddingVertical: 10, width: 50, alignItems: 'center', borderRightColor: theme.paid }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.orderQty}</Text>\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, flex: 1 }}>\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.menuName}</Text>\r\n                          {\r\n                            item.menuMod &&\r\n                            <Text style={{ fontFamily: 'varela-round', fontSize: 16, color: theme.paid }}>{item.menuMod}</Text>\r\n                          }\r\n                        </View>\r\n                        <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.lineTotal?.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      {\r\n                        tableItems.filter(el => el.refRecKey === item.recKey).map(obj =>\r\n                          <View style={{ marginTop: 5, flexDirection: 'row' }} key={obj.recKey.toString()}>\r\n                            <View style={{ flex: 1, }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14, marginLeft: 10 }}>- {obj.menuName}</Text>\r\n                              {\r\n                                obj.menuMod &&\r\n                                <Text style={{ fontFamily: 'varela-round', fontSize: 14, color: theme.paid }}>{obj.menuMod}</Text>\r\n                              }\r\n                            </View>\r\n                            <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14 }}>{obj.lineTotal ? obj.lineTotal?.toFixed(2) : ''}</Text>\r\n                            </View>\r\n                          </View>\r\n                        )\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <View style={{ margin: 10, marginBottom: 0, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'baseline' }}>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 10 }}></Text>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 28 }}>${selectedTable?.grandTotal?.toFixed(2) || '0.00'}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, flexDirection: 'row', }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n                onPress={() => this.doToggleScreen(screen)}>\r\n                {\r\n                  screen === 'TABLE' ?\r\n                    <Ionicons name=\"md-book\" size={26} color={theme.reserved} style={{ height: 28, width: 26 }} />\r\n                    :\r\n                    <MaterialCommunityIcons name=\"apps-box\" size={28} color={theme.vacant} style={{ height: 28, width: 28 }} />\r\n                }\r\n                <Text style={styles.buttonText}>{screen === 'TABLE' ? intl.get('menu') : intl.get('table')}</Text>\r\n              </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => navigation.navigate('Trace', { home, serviceEntry, selectedTable })}>\r\n              <MaterialCommunityIcons name=\"navigation\" size={28} color={theme.adhoc} style={{ height: 28, width: 28, transform: [{ rotateZ: '180deg' }] }} />\r\n              <Text style={styles.buttonText}>{intl.get('trace')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, width: 50, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doPrintBill()}>\r\n              <MaterialCommunityIcons name=\"book\" size={26} color={theme.occupied} style={{ height: 28, width: 26 }} />\r\n              <Text style={styles.buttonText}>{intl.get('bill')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={{ margin: 3, height: 100, flex: 1, borderRadius: 5, backgroundColor: theme.grey9, alignItems: 'center', justifyContent: 'center', }}\r\n              onPress={() => this.doStartPayment()}>\r\n              <Ionicons name=\"print-sharp\" size={27} color={theme.paid} style={{ height: 28, marginLeft: 1 }} />\r\n              <Text style={styles.buttonText}>{intl.get('payment')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>EPB BISTRO {Constants.manifest.version?.split('.')[0]}</Text>\r\n            <Text style={styles.footerText}>{home?.defaultPrinter?.name || `${intl.get('no')} ${intl.get('default')} ${intl.get('printer')}`}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ flex: 2, backgroundColor: theme.grey9 }}>\r\n          <Tab.Navigator\r\n            screenOptions={{\r\n              headerShown: false,\r\n              animation: 'none',\r\n              gestureEnabled: false,\r\n              tabBarStyle: { display: 'none' },\r\n            }}>\r\n            {\r\n              settingPOSMODE === 'A' &&\r\n              <Tab.Screen name=\"MainTable\"\r\n                children={() =>\r\n                  <MainTable\r\n                    refresh={refresh}\r\n                    home={home}\r\n                    serviceEntry={serviceEntry}\r\n                    preference={preference}\r\n                    masters={masters}\r\n                    handlePressTable={this.handlePressTable}\r\n                    handleActionTable={this.handleActionTable} />\r\n                } />\r\n            }\r\n            <Tab.Screen name=\"MainMenu\"\r\n              children={() =>\r\n                <MainMenu\r\n                  home={home}\r\n                  serviceEntry={serviceEntry}\r\n                  serviceEntryObj={serviceEntryObj}\r\n                  preference={preference}\r\n                  settings={masters.settings}\r\n                  foldergrps={masters.foldergrps}\r\n                  folders={masters.folders}\r\n                  menus={masters.menus}\r\n                  modBundles={masters.modBundles}\r\n                  handlePressMenu={this.handlePressMenu}\r\n                  handlePressScan={this.handlePressScan}\r\n                  handlePressAdhoc={this.handlePressAdhoc} />\r\n              } />\r\n          </Tab.Navigator>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  footerText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableUpperBand: {\r\n    position: 'absolute',\r\n    top: 10, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    padding: 5,\r\n    // backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'black',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableLowerBand: {\r\n    position: 'absolute',\r\n    bottom: 0, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonText: {\r\n    marginTop: 10,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: theme.grey5,\r\n    textTransform: 'uppercase'\r\n  }\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayServiceEntry extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleSubmit(overlayText) {\r\n    this.props.handleUpdateFromServiceEntry(overlayText);\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayserviceentry');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Register</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                ref={ref => { this.scanTextInput = ref; }}\r\n                autoFocus={true}\r\n                placeholder='EPB ID OR IP:PORT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.handleSubmit(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  this.scanTextInput.focus()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromServiceEntry('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, Platform,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayServiceEntry from './OverlayServiceEntry';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      savedEntries: [],\r\n      serviceEntry: '',\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromServiceEntry = this.handleUpdateFromServiceEntry.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const serviceEntry = await AsyncStorage.getItem('serviceEntry');\r\n    let savedEntries = await AsyncStorage.getItem('savedEntries');\r\n    if (savedEntries) {\r\n      savedEntries = JSON.parse(savedEntries);\r\n    } else {\r\n      savedEntries = [];\r\n    }\r\n    this.setState({\r\n      serviceEntry,\r\n      savedEntries,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doDeleteEntry') {\r\n      this.doDeleteEntry(selectedItem);\r\n    } else if (text === 'doSetEntry') {\r\n      this.doSetEntry(selectedItem);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromServiceEntry(text) {\r\n    this.setState({ overlayServiceEntryVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text.includes(':8085')) {\r\n      // assume local\r\n      let found = {\r\n        epbId: 'IP:PORT',\r\n        name: 'IP:PORT',\r\n        bistroServiceUrl: 'http://' + text + '/',\r\n      }\r\n      this.doSaveEntry(found);\r\n    } else {\r\n      // EPB ID\r\n      fetch('http://203.208.248.199:9090/beacon/api/locate?epbId=' + text, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('response', response);\r\n          this.doSaveEntry(response);\r\n        })\r\n        .catch(error => {\r\n          console.log('error', error);\r\n          this.setState({\r\n            overlayProcedureMessageVisible: 'INVALID EPB ID',\r\n          })\r\n        });\r\n    }\r\n  }\r\n\r\n  doSaveEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    if (!item.bistroServiceUrl) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING BISTRO SERVICE URL',\r\n      })\r\n      return;\r\n    }\r\n    if (savedEntriesUpdate.some(el => (el.epbId === item.epbId))) {\r\n      savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    }\r\n    savedEntriesUpdate.unshift(item);\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  doPressAdd() {\r\n    this.setState({\r\n      overlayServiceEntryVisible: true,\r\n    })\r\n  }\r\n\r\n  doPressEntry(item) {\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: '',\r\n        ok: false,\r\n        cancel: true,\r\n        options: [\r\n          { text: 'SET ENTRY', handleText: 'doSetEntry' },\r\n          { text: 'DELETE ENTRY', handleText: 'doDeleteEntry' }\r\n        ],\r\n      },\r\n      overlayAlertVisible: true,\r\n      selectedItem: item,\r\n    });\r\n  }\r\n\r\n  doDeleteEntry(item) {\r\n    const { savedEntries } = this.state;\r\n    let savedEntriesUpdate = savedEntries;\r\n    savedEntriesUpdate = savedEntriesUpdate.filter(el => el.epbId !== item.epbId)\r\n    console.log(savedEntriesUpdate)\r\n    this.setState({\r\n      savedEntries: savedEntriesUpdate,\r\n    })\r\n    AsyncStorage.setItem('savedEntries', JSON.stringify(savedEntriesUpdate))\r\n  }\r\n\r\n  doSetEntry(item) {\r\n    this.setState({\r\n      serviceEntry: item.bistroServiceUrl,\r\n    })\r\n    AsyncStorage.setItem('serviceEntry', item.bistroServiceUrl)\r\n    AsyncStorage.setItem('serviceEntryObj', JSON.stringify(item))\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { preference, savedEntries, serviceEntry,\r\n      overlayServiceEntryVisible,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('render register', savedEntries);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayServiceEntryVisible &&\r\n          <OverlayServiceEntry\r\n            handleUpdateFromServiceEntry={this.handleUpdateFromServiceEntry} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n\r\n                  {\r\n                    savedEntries.map((item, index) =>\r\n                      <TouchableOpacity\r\n                        key={index.toString()}\r\n                        style={styles.grid}\r\n                        onPress={() => this.doPressEntry(item)}>\r\n                        <View style={styles.gridFirst}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.epbId || '-'}</Text>\r\n                          <Text style={styles.gridFirstRightText}>{item.bistroServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridSecond}>\r\n                          <Text style={styles.gridSecondText}>{item.name || 'IP:PORT'}</Text>\r\n                          <Text style={[styles.gridSecondText, { color: theme.reserved }]}>{preference?.tcolsize}</Text>\r\n                        </View>\r\n                        <View style={[styles.gridFirst, { marginBottom: 5 }]}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.restServiceUrl || '-'}</Text>\r\n                        </View>\r\n                        <View style={styles.gridThird}>\r\n                          <Text style={[styles.gridThirdRightText, { color: theme.paid }]}></Text>\r\n                          {\r\n                            item.bistroServiceUrl === serviceEntry ?\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>{intl.get('active')}</Text>\r\n                              :\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.paid }]}>{intl.get('inactive')}</Text>\r\n                          }\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    )\r\n                  }\r\n\r\n\r\n\r\n\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <ScrollView\r\n                  style={{ flex: 1, }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.doPressAdd()}>\r\n                <AntDesign\r\n                  name='pluscircleo'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('add')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    // flexWrap: 'wrap',\r\n    // alignItems: 'stretch',\r\n    // justifyContent: 'center',\r\n    // overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitItems extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        percentage: (100 / props.receipts.length).toFixed(0).toString(),\r\n      })),\r\n    };\r\n    this.handleFillPercentagesEvenly = this.handleFillPercentagesEvenly.bind(this);\r\n    this.handleSetPercentageForReceipt = this.handleSetPercentageForReceipt.bind(this);\r\n    this.handleSetFullPercentageForReceipt = this.handleSetFullPercentageForReceipt.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillPercentagesEvenly() {\r\n    const { receipts } = this.state;\r\n    let numberString = (100 / receipts.length).toFixed(0).toString();\r\n    receipts.forEach(item => this.handleSetPercentageForReceipt(numberString, item.docId));\r\n  }\r\n\r\n  handleSetFullPercentageForReceipt(item) {\r\n    const { receipts } = this.state;\r\n    receipts.forEach(el => {\r\n      if (el.docId === item.docId) {\r\n        this.handleSetPercentageForReceipt('100', el.docId);\r\n      } else {\r\n        this.handleSetPercentageForReceipt('0', el.docId);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSetPercentageForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.docId === docId);\r\n    if (!Number(number)) {\r\n      receiptsUpdate[index].percentage = '0';\r\n    } else {\r\n      receiptsUpdate[index].percentage = Number(number).toFixed(0).toString();\r\n    }\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdate2', receipts));\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.percentage); }, 0);\r\n    console.log('agg', aggregate);\r\n    if (receipts.some(item => receipts[0].percentage !== item.percentage) && aggregate !== 100) {\r\n      console.log('validation failed');\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromSplitItems(receipts);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTableItems } = this.props;\r\n    const { receipts } = this.state;\r\n    console.log('in overlaysplititems');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Item(s)</Text>\r\n            <Text style={styles.overlayText}>You are splitting {selectedTableItems.length} item(s) for {receipts.length} receipts</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleSetFullPercentageForReceipt(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).percentage}\r\n                      onChangeText={(number) => this.handleSetPercentageForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}>%</Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.handleFillPercentagesEvenly()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>Fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.handleSubmit()}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitItems('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlaySplitItems from './OverlaySplitItems';\r\n\r\nexport default class Split extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n      selectedTableItems: [],\r\n      overlaySplitItemsVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSplitSelectedTableItems = this.handleSplitSelectedTableItems.bind(this);\r\n    this.handleUndoAll = this.handleUndoAll.bind(this);\r\n    this.handleSelectAllUnsplitTableItems = this.handleSelectAllUnsplitTableItems.bind(this);\r\n    this.handleDeselectAllUnsplitTableItems = this.handleDeselectAllUnsplitTableItems.bind(this);\r\n    this.handleUpdateFromSplitItems = this.handleUpdateFromSplitItems.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    const { selectedTableItems, receipts } = this.state;\r\n    const { tableItems } = this.props;\r\n    if (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey)) {\r\n      return;\r\n    }\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSelectAllUnsplitTableItems() {\r\n    const { tableItems } = this.props;\r\n    const { selectedTableItems, receipts } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    tableItems.forEach(el => {\r\n      if (receipts[0].receiptItems.some(obj => obj.recKey === el.recKey) || selectedTableItems.some(obj => obj.recKey === el.recKey)) {\r\n        return;\r\n      }\r\n      selectedTableItemsUpdate.push(el);\r\n    });\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleDeselectAllUnsplitTableItems() {\r\n    this.setState({\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleSplitSelectedTableItems() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlaySplitItemsVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUndoAll() {\r\n    this.setState({\r\n      receipts: this.props.availableReceipts.map(el => ({\r\n        docId: el.docId,\r\n        recKey: el.recKey,\r\n        receiptItems: [],\r\n      })),\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleUpdateFromSplitItems(distribution) {\r\n    console.log('distribution', distribution);\r\n    if (!distribution) {\r\n      this.setState({\r\n        overlaySplitItemsVisible: false,\r\n        selectedTableItems: [],\r\n      });\r\n      return;\r\n    }\r\n    const { receipts, selectedTableItems } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    receiptsUpdate.forEach(el => {\r\n      selectedTableItems.forEach(obj => {\r\n        el.receiptItems.push({\r\n          ...obj,\r\n          percentage: distribution.find(item => item.docId === el.docId).percentage\r\n        });\r\n      })\r\n    })\r\n    this.setState({\r\n      overlaySplitItemsVisible: false,\r\n      selectedTableItems: [],\r\n      receipts: receiptsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplit(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { serviceEntry, home, selectedTable, availableReceipts, tableItems, cashierPrinters } = this.props;\r\n    const { receipts, selectedTableItems, overlaySplitItemsVisible, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in split');\r\n    \r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlaySplitItemsVisible &&\r\n          <OverlaySplitItems\r\n            receipts={receipts}\r\n            selectedTableItems={selectedTableItems}\r\n            handleUpdateFromSplitItems={this.handleUpdateFromSplitItems} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY ITEM'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.wrapper}>\r\n            <View style={styles.overlayHeader}>\r\n              <Text style={styles.overlayTitleText}>TABLE</Text>\r\n              <Text style={styles.overlaySubtitleText}>{selectedTable.tableId}</Text>\r\n              <Text style={styles.overlayTitleText}>{tableItems.length} ITEMS</Text>\r\n            </View>\r\n            <View style={styles.buttonsContainer}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleUndoAll()}\r\n              >\r\n                <Text style={styles.buttonText}>Undo</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleDeselectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Deselect</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handleSelectAllUnsplitTableItems()}\r\n              >\r\n                <Text style={styles.buttonText}>Select</Text>\r\n                <Text style={styles.buttonText}>All</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <ScrollView style={[styles.itemsContainer]}>\r\n              <View style={{ paddingTop: 5 }}></View>\r\n              {\r\n                tableItems.map(item => (\r\n                  <TouchableOpacity key={item.recKey}\r\n                    disabled={(receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) ? true : false}\r\n                    style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, (receipts[0].receiptItems.some(obj => obj.recKey === item.recKey) || item.refRecKey) && { opacity: 0.2 }]}\r\n                    onPress={() => this.handleSelectTableItem(item)}\r\n                  >\r\n                    <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                    <View style={styles.tableItemSecondContainer}\r\n                    >\r\n                      <Text style={styles.tableItemText}>\r\n                        {item.refRecKey ? '- ' : null}{item.menuName}\r\n                      </Text>\r\n                      {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                    </View>\r\n                    <View style={styles.tableItemThirdContainer}>\r\n                      <Text style={styles.tableItemText}>\r\n                      </Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                ))\r\n              }\r\n            </ScrollView>\r\n            <TouchableOpacity style={[styles.actionButton, selectedTableItems.length !== 0 ? { backgroundColor: theme.occupied } : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleSplitSelectedTableItems()}\r\n            >\r\n              <Text style={styles.buttonText}>Split Selected</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              receipts[0].receiptItems.length === tableItems.length ?\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.handleSubmit()}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm Split</Text>\r\n                </TouchableOpacity>\r\n                :\r\n                <TouchableOpacity style={styles.actionButton}\r\n                  onPress={() => this.props.handleUpdateFromSplit('')}\r\n                >\r\n                  <Text style={[styles.buttonText, { color: theme.paid }]}>Quit</Text>\r\n                </TouchableOpacity>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <ScrollView style={styles.splitScroll}\r\n            horizontal={true}\r\n            snapToInterval={wrapperWidth}\r\n            decelerationRate='fast'\r\n          >\r\n            {\r\n              receipts.map((obj, index) => (\r\n                <View style={styles.wrapper}\r\n                  key={obj.docId}\r\n                >\r\n                  <View style={styles.overlayHeader}>\r\n                    <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>SPLIT {index + 1} OF {receipts.length}</Text>\r\n                    <Text style={styles.overlaySubtitleText}>{obj.docId}</Text>\r\n                    <Text style={styles.overlayTitleText}>{obj.receiptItems.length} ITEMS</Text>\r\n                  </View>\r\n                  <ScrollView style={styles.itemsContainer}>\r\n                    <View style={{ paddingTop: 5 }}></View>\r\n                    {\r\n                      obj.receiptItems.map(item => (\r\n                        <TouchableOpacity key={item.recKey}\r\n                          style={styles.tableItemContainer}\r\n                        // onPress={() => this.handleSelectTableItem(item)}\r\n                        >\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <View style={styles.tableItemSecondContainer}\r\n                          >\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </View>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              <Text style={{ color: theme.reserved }}>{item.percentage}</Text><Text style={{ color: theme.grey1 }}> %</Text>\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst wrapperWidth = Dimensions.get('window').width / 3;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 2,\r\n  },\r\n  wrapper: {\r\n    flex: 1,\r\n    width: wrapperWidth,\r\n  },\r\n  splitScroll: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  itemsContainer: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  button: {\r\n    height: 72,\r\n    width: 72,\r\n    borderRadius: 5,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textTransform: 'uppercase',\r\n  },\r\n  actionButton: {\r\n    height: 72,\r\n    margin: 5,\r\n    backgroundColor: theme.grey2,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayInputReference extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { overlayText } = this.state;\r\n    console.log('in overlayinputreference');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Input Reference</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                placeholder='ENTER REFERENCE'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                onSubmitEditing={() => this.props.handleUpdateFromInputReference(overlayText)}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromInputReference(overlayText)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromInputReference('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 30,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\n\r\nexport default class OverlayMergeBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      tables: '',\r\n      availableTables: '',\r\n      selectedTargetTable: '',\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.props;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        const filteredResponse = response.filter(el => {\r\n          return el.tableId !== selectedTable.tableId;\r\n        });\r\n        this.setState({\r\n          tables: filteredResponse,\r\n          availableTables: filteredResponse,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { tables, availableTables } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTargetTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleSubmit(selectedTargetTable, printer);\r\n  }\r\n\r\n  handleSubmit(item, printer) {\r\n    const { home } = this.props;\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    });\r\n    const { cashierPrinters } = this.props;\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    this.props.handleUpdateFromMergeBill(item, home.defaultPrinter || printer);\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { overlaySearchText, availableTables, tables, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaymergebill', selectedTable);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='MERGE BILL'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>TABLE {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Merge Bill</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromMergeBill('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            showsVerticalScrollIndicator={false}\r\n            data={availableTables}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.sectionId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}>OCCUPIED</Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.tableId}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, TextInput,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitBill extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayNumber: 2,\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayNumber === 2) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayNumber: prevState.overlayNumber - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleNumberChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayNumber: 2 })\r\n    } else {\r\n      this.setState({ overlayNumber: Number(text) })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { overlayNumber } = this.state;\r\n    console.log('in overlaysplitbill');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Bill</Text>\r\n            <Text style={styles.overlayText}>Enter the number of bills to split into</Text>\r\n          </View>\r\n          <View style={styles.adjustContainer}>\r\n            <TouchableOpacity style={styles.adjustFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.adjustSecond}>\r\n              <TextInput style={styles.overlayNumber}\r\n                selectTextOnFocus\r\n                keyboardType='numeric'\r\n                value={overlayNumber?.toString()}\r\n                onChangeText={(searchText) => this.handleNumberChange(searchText)} />\r\n            </View>\r\n            <TouchableOpacity style={styles.adjustThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View style={styles.buttonsContainer}>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 2 && { backgroundColor: theme.occupied }]}\r\n              onPress={() => this.setState({ overlayNumber: 2 })}>\r\n              <Text style={styles.buttonText}>2</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 3 && { backgroundColor: theme.reserved }]}\r\n              onPress={() => this.setState({ overlayNumber: 3 })}>\r\n              <Text style={styles.buttonText}>3</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, overlayNumber === 4 && { backgroundColor: theme.paid }]}\r\n              onPress={() => this.setState({ overlayNumber: 4 })}>\r\n              <Text style={styles.buttonText}>4</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'ITEM')}>\r\n            <Text style={styles.overlayOptionText}>Split By Item</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromSplitBill(overlayNumber, 'AMOUNT')}>\r\n            <Text style={styles.overlayOptionText}>Split By Amount</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitBill('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n    marginBottom: 30,\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginHorizontal: 20,\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySplitAmount extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      receipts: props.receipts.map(item => ({\r\n        docId: item.docId,\r\n        recKey: item.recKey,\r\n        amount: '0',\r\n      })),\r\n      warning: 'Total amount to split is ' + props.selectedTable.grandTotal.toFixed(2),\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleFillRemainder = this.handleFillRemainder.bind(this);\r\n    this.handleSetAmountForReceipt = this.handleSetAmountForReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleFillRemainder(item) {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    const index = receipts.findIndex(el => el.recKey === item.recKey);\r\n    const aggregate = receipts.filter(el => el.recKey !== item.recKey).reduce((init, obj) => { return init + Number(obj.amount); }, 0);\r\n    if (aggregate <= Number(selectedTable.grandTotal)) {\r\n      receiptsUpdate[index].amount = (Number(selectedTable.grandTotal) - aggregate).toFixed(2).toString();\r\n      this.setState({\r\n        receipts: receiptsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSetAmountForReceipt(number, docId) {\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n    let index = receipts.findIndex(el => el.docId === docId);\r\n    receiptsUpdate[index].amount = number;\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleSubmit(printer);\r\n  }\r\n\r\n  handleSubmit(printer) {\r\n    const { selectedTable, cashierPrinters, home } = this.props;\r\n    const { receipts } = this.state;\r\n    const aggregate = receipts.reduce((init, obj) => { return init + Number(obj.amount); }, 0).toFixed(2);\r\n    console.log('aggregate', aggregate);\r\n    if (receipts.some(item => Number(item.amount) === 0) || (Number(aggregate) !== Number(selectedTable.grandTotal))) {\r\n      console.log('validation failed');\r\n      this.setState({\r\n        warning: 'Ensure numbers are valid and add up to ' + selectedTable.grandTotal.toFixed(2),\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.handleUpdateFromSplitAmount(receipts, home.defaultPrinter || printer);\r\n  }\r\n\r\n  doFillEvenly() {\r\n    const { selectedTable } = this.props;\r\n    const { receipts } = this.state;\r\n    let receiptsUpdate = receipts;\r\n\r\n    const equal = Number(selectedTable.grandTotal / receipts.length).toFixed(2);\r\n\r\n    receiptsUpdate.forEach((el, index) => {\r\n      if (index !== receiptsUpdate.length - 1) {\r\n        el.amount = Number(equal).toFixed(2);\r\n      } else {\r\n        el.amount = (selectedTable.grandTotal - equal * (receiptsUpdate.length - 1)).toFixed(2);\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      receipts: receiptsUpdate\r\n    }, () => console.log('receiptsUpdated', receipts));\r\n  }\r\n\r\n  render() {\r\n    const { selectedTable, cashierPrinters } = this.props;\r\n    const { receipts, warning, overlayChoosePrinterVisible } = this.state;\r\n    console.log('in overlaysplitamount');\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='SPLIT BY AMOUNT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Split Amount</Text>\r\n            <Text style={styles.overlayText}>{warning}</Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.docId}\r\n                >\r\n                  <TouchableOpacity style={styles.inputRowLeft}\r\n                    onPress={() => this.handleFillRemainder(item)}\r\n                  >\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.inputRowRight}>\r\n                    <TextInput style={styles.textInput}\r\n                      keyboardType='numeric'\r\n                      selectTextOnFocus={true}\r\n                      value={receipts.find(el => el.docId === item.docId).amount}\r\n                      onChangeText={(number) => this.handleSetAmountForReceipt(number, item.docId)}\r\n                    />\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }]}\r\n            onPress={() => this.doFillEvenly()}>\r\n            <Text style={styles.overlayOptionText}>fill evenly</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption,]}\r\n            onPress={() => this.handleSubmit()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromSplitAmount('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayNumber: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayUpdateTips extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlayText: '',\r\n      overlaySearchText: '',\r\n      paymentMethods: props.paymentMethods,\r\n      availablePaymentMethods: props.paymentMethods,\r\n      selectedPaymentMethod: null,\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { paymentMethods } = this.state;\r\n    let availablePaymentMethodsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availablePaymentMethodsUpdate = paymentMethods;\r\n    if (!text) {\r\n      this.setState({\r\n        availablePaymentMethods: availablePaymentMethodsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availablePaymentMethodsUpdate = availablePaymentMethodsUpdate.filter(item => {\r\n      return item.pmId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availablePaymentMethods: availablePaymentMethodsUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { overlayText, selectedPaymentMethod, availablePaymentMethods, overlaySearchText } = this.state;\r\n    console.log('in overlayupdatetips', availablePaymentMethods);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Update Tips</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                autoFocus={true}\r\n                keyboardType='numeric'\r\n                placeholder='ENTER TIPS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(text) => this.setState({ overlayText: text })}\r\n                value={overlayText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlayText: '' })\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={{ paddingBottom: 10 }}></View>\r\n          <View style={styles.selectWrapper}>\r\n            <View style={styles.searchBoxWrapper}>\r\n              <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                <TextInput style={styles.overlaySearchBoxInput}\r\n                  placeholder='ENTER SEARCH TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                  value={overlaySearchText}\r\n                />\r\n                <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                  onPress={() => {\r\n                    this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                    Keyboard.dismiss()\r\n                  }}>\r\n                  <AntDesign name='close' size={24} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.searchBoxInfo}>\r\n              <Text style={styles.searchBoxInfoText}>{availablePaymentMethods.length} ITEMS</Text>\r\n            </View>\r\n            <FlatList\r\n              style={[{ flex: 1 }]}\r\n              data={availablePaymentMethods}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => (\r\n                <TouchableOpacity\r\n                  style={[styles.overlayGrid, selectedPaymentMethod?.pmId === item.pmId && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.setState({ selectedPaymentMethod: item, })}>\r\n                  <View style={styles.overlayGridFirst}>\r\n                    <View style={styles.overlayGridFirstLeft}>\r\n                      <Text style={styles.overlayGridFirstLeftText}>{item.pmId}</Text>\r\n                    </View>\r\n                    <View style={styles.overlayGridFirstRight}>\r\n                      <Text style={styles.overlayGridFirstRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={styles.overlayGridSecond}>\r\n                    <Text style={styles.overlayGridSecondText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridThird}>\r\n                    <View style={styles.overlayGridThirdLeft}>\r\n                    </View>\r\n                    <View style={styles.overlayGridThirdRight}>\r\n                      <Text style={styles.overlayGridThirdRightText}></Text>\r\n                    </View>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              )}\r\n            />\r\n          </View>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips(overlayText, selectedPaymentMethod)}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('submit')}</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromUpdateTips()}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  selectText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 16,\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity, ScrollView,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class OverlayViewSplitted extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { receipts } = this.props;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>VIEW</Text>\r\n            <Text style={styles.overlaySubtitleText}>Splitted Receipts</Text>\r\n            <Text style={styles.overlayText}></Text>\r\n          </View>\r\n          <ScrollView style={styles.overlayScroll}>\r\n            {\r\n              receipts.map(item => (\r\n                <View style={styles.inputRow}\r\n                  key={item.recKey}\r\n                >\r\n                  <View style={styles.inputRowLeft}>\r\n                    <Text style={styles.inputRowTitleText}>RECEIPT</Text>\r\n                    <Text style={styles.inputRowSubtitleText}>{item.docId}</Text>\r\n                  </View>\r\n                  <View style={styles.inputRowRight}>\r\n                    <Text style={styles.textInput}>{item.grandTotal ? item.grandTotal.toFixed(2) : null}</Text>\r\n                    <Text style={styles.percentageText}></Text>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <TouchableOpacity style={styles.overlayOption}\r\n            onPress={() => this.props.handleUpdateFromViewSplitted('')}\r\n          >\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  overlayScroll: {\r\n    height: 280, // 4 times of (60 + 10) inputRow class\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    // backgroundColor: 'white',\r\n    marginVertical: 5,\r\n    marginHorizontal: 40,\r\n    flexDirection: 'row',\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    borderRadius: 5,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  inputRowTitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n  },\r\n  inputRowSubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'right',\r\n  },\r\n  percentageText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    paddingHorizontal: 10,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport QRCode from 'react-native-qrcode-svg';\r\nimport Paynow from '../assets/paynow.png';\r\nimport moment from 'moment';\r\n\r\nclass PaynowQR {\r\n  constructor(opts) {\r\n    Object.defineProperty(this, 'qrstring', {\r\n      value: this.generate(opts)\r\n    });\r\n  }\r\n  output() {\r\n    return this.qrstring;\r\n  }\r\n\r\n  padLeft(s, n, str) {\r\n    if (n < String(s).length) {\r\n      return s.toString();\r\n    }\r\n    else {\r\n      return Array(n - String(s).length + 1).join(str || '0') + s;\r\n    }\r\n  }\r\n\r\n  crc16(s) {\r\n    var crcTable = [0x0000, 0x1021, 0x2042, 0x3063, 0x4084, 0x50a5,\r\n      0x60c6, 0x70e7, 0x8108, 0x9129, 0xa14a, 0xb16b,\r\n      0xc18c, 0xd1ad, 0xe1ce, 0xf1ef, 0x1231, 0x0210,\r\n      0x3273, 0x2252, 0x52b5, 0x4294, 0x72f7, 0x62d6,\r\n      0x9339, 0x8318, 0xb37b, 0xa35a, 0xd3bd, 0xc39c,\r\n      0xf3ff, 0xe3de, 0x2462, 0x3443, 0x0420, 0x1401,\r\n      0x64e6, 0x74c7, 0x44a4, 0x5485, 0xa56a, 0xb54b,\r\n      0x8528, 0x9509, 0xe5ee, 0xf5cf, 0xc5ac, 0xd58d,\r\n      0x3653, 0x2672, 0x1611, 0x0630, 0x76d7, 0x66f6,\r\n      0x5695, 0x46b4, 0xb75b, 0xa77a, 0x9719, 0x8738,\r\n      0xf7df, 0xe7fe, 0xd79d, 0xc7bc, 0x48c4, 0x58e5,\r\n      0x6886, 0x78a7, 0x0840, 0x1861, 0x2802, 0x3823,\r\n      0xc9cc, 0xd9ed, 0xe98e, 0xf9af, 0x8948, 0x9969,\r\n      0xa90a, 0xb92b, 0x5af5, 0x4ad4, 0x7ab7, 0x6a96,\r\n      0x1a71, 0x0a50, 0x3a33, 0x2a12, 0xdbfd, 0xcbdc,\r\n      0xfbbf, 0xeb9e, 0x9b79, 0x8b58, 0xbb3b, 0xab1a,\r\n      0x6ca6, 0x7c87, 0x4ce4, 0x5cc5, 0x2c22, 0x3c03,\r\n      0x0c60, 0x1c41, 0xedae, 0xfd8f, 0xcdec, 0xddcd,\r\n      0xad2a, 0xbd0b, 0x8d68, 0x9d49, 0x7e97, 0x6eb6,\r\n      0x5ed5, 0x4ef4, 0x3e13, 0x2e32, 0x1e51, 0x0e70,\r\n      0xff9f, 0xefbe, 0xdfdd, 0xcffc, 0xbf1b, 0xaf3a,\r\n      0x9f59, 0x8f78, 0x9188, 0x81a9, 0xb1ca, 0xa1eb,\r\n      0xd10c, 0xc12d, 0xf14e, 0xe16f, 0x1080, 0x00a1,\r\n      0x30c2, 0x20e3, 0x5004, 0x4025, 0x7046, 0x6067,\r\n      0x83b9, 0x9398, 0xa3fb, 0xb3da, 0xc33d, 0xd31c,\r\n      0xe37f, 0xf35e, 0x02b1, 0x1290, 0x22f3, 0x32d2,\r\n      0x4235, 0x5214, 0x6277, 0x7256, 0xb5ea, 0xa5cb,\r\n      0x95a8, 0x8589, 0xf56e, 0xe54f, 0xd52c, 0xc50d,\r\n      0x34e2, 0x24c3, 0x14a0, 0x0481, 0x7466, 0x6447,\r\n      0x5424, 0x4405, 0xa7db, 0xb7fa, 0x8799, 0x97b8,\r\n      0xe75f, 0xf77e, 0xc71d, 0xd73c, 0x26d3, 0x36f2,\r\n      0x0691, 0x16b0, 0x6657, 0x7676, 0x4615, 0x5634,\r\n      0xd94c, 0xc96d, 0xf90e, 0xe92f, 0x99c8, 0x89e9,\r\n      0xb98a, 0xa9ab, 0x5844, 0x4865, 0x7806, 0x6827,\r\n      0x18c0, 0x08e1, 0x3882, 0x28a3, 0xcb7d, 0xdb5c,\r\n      0xeb3f, 0xfb1e, 0x8bf9, 0x9bd8, 0xabbb, 0xbb9a,\r\n      0x4a75, 0x5a54, 0x6a37, 0x7a16, 0x0af1, 0x1ad0,\r\n      0x2ab3, 0x3a92, 0xfd2e, 0xed0f, 0xdd6c, 0xcd4d,\r\n      0xbdaa, 0xad8b, 0x9de8, 0x8dc9, 0x7c26, 0x6c07,\r\n      0x5c64, 0x4c45, 0x3ca2, 0x2c83, 0x1ce0, 0x0cc1,\r\n      0xef1f, 0xff3e, 0xcf5d, 0xdf7c, 0xaf9b, 0xbfba,\r\n      0x8fd9, 0x9ff8, 0x6e17, 0x7e36, 0x4e55, 0x5e74,\r\n      0x2e93, 0x3eb2, 0x0ed1, 0x1ef0];\r\n\r\n    var crc = 0xFFFF;\r\n    var j, i;\r\n\r\n    for (i = 0; i < s.length; i++) {\r\n\r\n      let c = s.charCodeAt(i);\r\n      if (c > 255) {\r\n        throw new RangeError();\r\n      }\r\n      j = (c ^ (crc >> 8)) & 0xFF;\r\n      crc = crcTable[j] ^ (crc << 8);\r\n    }\r\n\r\n    return ((crc ^ 0) & 0xFFFF).toString(16).toUpperCase();\r\n  }\r\n\r\n\r\n  generate(opts) {\r\n\r\n    for (let key in opts) {\r\n      if (typeof opts[key] == 'string') {\r\n        opts[key] = opts[key].trim();\r\n      }\r\n    }\r\n\r\n\r\n    const p = [\r\n      { id: '00', value: '01' },                    // ID 00: Payload Format Indicator (Fixed to '01')\r\n      { id: '01', value: '12' },                    // ID 01: Point of Initiation Method 11: static, 12: dynamic\r\n      {\r\n        id: '26', value:                            // ID 26: Merchant Account Info Template\r\n          [{ id: '00', value: 'SG.PAYNOW' },\r\n          { id: '01', value: '2' },                 // 0 for mobile, 2 for UEN. 1 is not used.\r\n          { id: '02', value: String(opts.uen) },            // PayNow UEN (Company Unique Entity Number)\r\n          { id: '03', value: String(!opts.amount || opts.editable ? 1 : 0) },       // 1 = Payment amount is editable, 0 = Not Editable\r\n          { id: '04', value: String(opts.expiry) }]         // Expiry date (YYYYMMDD)\r\n      },\r\n      { id: '52', value: '0000' },                  // ID 52: Merchant Category Code (not used)\r\n      { id: '53', value: '702' },                   // ID 53: Currency. SGD is 702\r\n      { id: '54', value: String(opts.amount || 0) },  // ID 54: Transaction Amount\r\n      { id: '58', value: 'SG' },                    // ID 58: 2-letter Country Code (SG)\r\n      { id: '59', value: String(opts.company || 'COMPANY') },          // ID 59: Company Name\r\n      { id: '60', value: 'Singapore' }             // ID 60: Merchant City\r\n\r\n    ]\r\n\r\n    let otherdata = {\r\n      id: '62', value: [{                         // ID 62: Additional data fields\r\n        id: '01', value: String(opts.refNumber || '')           // ID 01: Bill Number\r\n      }]\r\n    };\r\n\r\n    if (opts.refNumber) {\r\n      p.push(otherdata);\r\n    }\r\n\r\n    let str = p.reduce((final, current) => {\r\n      if (Array.isArray(current.value)) { //nest loop\r\n        current.value = current.value.reduce((f, c) => {\r\n          f += c.id + this.padLeft(c.value.length.toString(), 2) + c.value;\r\n          return f\r\n        }, \"\")\r\n      }\r\n      final += current.id + this.padLeft(current.value.length.toString(), 2) + current.value;\r\n      return final\r\n    }, \"\")\r\n\r\n    // Here we add \"6304\" to the previous string\r\n    // ID 63 (Checksum) 04 (4 characters)\r\n    // Do a CRC16 of the whole string including the \"6304\"\r\n    // then append it to the end.\r\n    str += '6304' + this.padLeft(this.crc16(str + '6304'), 4);\r\n\r\n    return str;\r\n\r\n  }\r\n}\r\n\r\nexport default class OverlayAlert extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: props.input,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home } = this.props;\r\n    let qrcode = new PaynowQR({\r\n      uen: home.uen,           //Required: UEN of company\r\n      amount: Number(this.props.input.amount),               //Specify amount of money to pay.\r\n      editable: false,             //Whether or not to allow editing of payment amount. Defaults to false if amount is specified\r\n      expiry: moment().format('YYYYMMDD'),         //Set an expiry date for the Paynow QR code (YYYYMMDD). If omitted, defaults to 5 years from current time.\r\n      refNumber: this.props.input.reference,   //Reference number for Paynow Transaction. Useful if you need to track payments for recouncilation.\r\n      company: home.orgName   //Company name to embed in the QR code. Optional.               \r\n    });\r\n\r\n    this.setState({\r\n      qrcodeString: qrcode.output(),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { input, qrcodeString } = this.state;\r\n    console.log('in overlayalert', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlaySubtitleText}>${this.props.input.amount}</Text>\r\n            <Text style={[styles.overlayText, { marginTop: 0 }]}>{this.props.home.orgName}</Text>\r\n          </View>\r\n          <QRCode\r\n            size={300}\r\n            value={qrcodeString}\r\n            color='#761972'\r\n            logo={Paynow}\r\n            logoSize={80}\r\n          />\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={[styles.overlayText, { marginTop: 5 }]}>Thank you!</Text>\r\n          </View>\r\n          <TouchableOpacity style={[styles.overlayOption, { width: 400 }]}\r\n            onPress={() => this.props.handleUpdateFromPaynow('')}>\r\n            <Text style={styles.overlayOptionText}>CONTINUE</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    // width: '40%',\r\n    // backgroundColor: theme.grey2,\r\n    // borderRadius: 5,\r\n    // overflow: 'hidden',\r\n    alignItems: 'center',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    margin: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Dimensions, FlatList, ScrollView, Platform, Text, Image } from 'react-native';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport Split from './Split';\r\nimport OverlayInputReference from './OverlayInputReference';\r\nimport OverlayMergeBill from './OverlayMergeBill';\r\nimport OverlaySplitBill from './OverlaySplitBill';\r\nimport OverlaySplitAmount from './OverlaySplitAmount';\r\nimport OverlayUpdateTips from './OverlayUpdateTips';\r\nimport OverlayViewSplitted from './OverlayViewSplitted';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayPaynow from './OverlayPaynow';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Pos extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      home: props.route.params.home,\r\n      paymentMethods: props.route.params.masters.paymentMethods,\r\n      settings: props.route.params.masters.settings,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedTable: props.route.params.selectedTable,\r\n      payments: props.route.params.pospays,\r\n\r\n      selectedPaymentMethod: null,\r\n      selectedPaymentItem: '',\r\n      numberString: '0',\r\n      pay: props.route.params.selectedTable.balance,\r\n\r\n      overlayPaynowVisible: false,\r\n      overlayInputReferenceVisible: false,\r\n      overlayMergeBillVisible: false,\r\n      overlaySplitBillVisible: false,\r\n      overlaySplitAmountVisible: false,\r\n      overlayUpdateTipsVisible: false,\r\n      overlayViewSplittedVisible: false,\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printPurpose: '',\r\n      selectedPrinter: '',\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      splitting: false,\r\n      availableReceipts: [],\r\n      splitReceipts: [],\r\n      tableItems: [],\r\n\r\n      keyHeight: null,\r\n    };\r\n    this.handleBuildNumberString = this.handleBuildNumberString.bind(this);\r\n    this.handleSelectPaymentMethod = this.handleSelectPaymentMethod.bind(this);\r\n    this.handleRounding = this.handleRounding.bind(this);\r\n    this.handleEnterButton = this.handleEnterButton.bind(this);\r\n    this.handleFinishButton = this.handleFinishButton.bind(this);\r\n    this.handleAddPayment = this.handleAddPayment.bind(this);\r\n    this.handleDeletePayment = this.handleDeletePayment.bind(this);\r\n    this.handleFinishPayment = this.handleFinishPayment.bind(this);\r\n    this.handleUnsplitBill = this.handleUnsplitBill.bind(this);\r\n    this.handlePressPaymentItem = this.handlePressPaymentItem.bind(this);\r\n    this.handlePressDeletePaymentItem = this.handlePressDeletePaymentItem.bind(this);\r\n    this.handlePressPaymentItemRef = this.handlePressPaymentItemRef.bind(this);\r\n    this.handlePressMerge = this.handlePressMerge.bind(this);\r\n    this.handlePressUnmerge = this.handlePressUnmerge.bind(this);\r\n    this.handlePressTips = this.handlePressTips.bind(this);\r\n    this.handlePressSplit = this.handlePressSplit.bind(this);\r\n    this.handlePressUnsplit = this.handlePressUnsplit.bind(this);\r\n    this.handleViewSplitted = this.handleViewSplitted.bind(this);\r\n    this.handleUpdateFromInputReference = this.handleUpdateFromInputReference.bind(this);\r\n    this.handleUpdateFromMergeBill = this.handleUpdateFromMergeBill.bind(this);\r\n    this.handleUpdateFromSplitBill = this.handleUpdateFromSplitBill.bind(this);\r\n    this.handleUpdateFromSplitAmount = this.handleUpdateFromSplitAmount.bind(this);\r\n    this.handleUpdateFromSplit = this.handleUpdateFromSplit.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromUpdateTips = this.handleUpdateFromUpdateTips.bind(this);\r\n    this.handleUpdateFromViewSplitted = this.handleUpdateFromViewSplitted.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromPaynow = this.handleUpdateFromPaynow.bind(this);\r\n    this.handleOpenDrawer = this.handleOpenDrawer.bind(this);\r\n    this.handleValidateAmount = this.handleValidateAmount.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleViewSplitted()\r\n  }\r\n\r\n  handleBuildNumberString(type) {\r\n    const { numberString } = this.state;\r\n    const maxLength = 7;\r\n\r\n    if (type === 'DEL') {\r\n      if (numberString.length !== 1) {\r\n        let newNumberString = numberString.slice(0, -1);\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === 'CLEAR') {\r\n      if (numberString !== '0') {\r\n        this.setState({\r\n          numberString: '0'\r\n        });\r\n      }\r\n    } else if (type === '.') {\r\n      if (numberString.length > maxLength - 2) return;\r\n      if (numberString.indexOf('.') < '0') {\r\n        let newNumberString = numberString + '.';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '0') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '0';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else if (type === '00') {\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 0) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + '00';\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      }\r\n    } else { // 9, 8, 7, 6, 5, 4, 3, 2, 1\r\n      if (numberString.length > maxLength) return;\r\n      if (numberString.indexOf('.') > '0') {\r\n        if (numberString.split(\".\")[1].length > 1) return;\r\n      };\r\n      if (numberString !== '0') {\r\n        let newNumberString = numberString + type;\r\n        this.setState({\r\n          numberString: newNumberString\r\n        });\r\n      } else {\r\n        this.setState({\r\n          numberString: type\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSelectPaymentMethod(type) {\r\n    // early exit memberson\r\n    if (type.refType === 'P') {\r\n      const { numberString, selectedTable } = this.state;\r\n      let numberStringUpdate = '';\r\n      if (selectedTable.vipPtsMoney < selectedTable.balance) {\r\n        numberStringUpdate = Math.floor(selectedTable.vipPtsMoney);\r\n      } else {\r\n        numberStringUpdate = Math.floor(selectedTable.balance);\r\n      }\r\n      this.setState({\r\n        numberString: numberStringUpdate,\r\n        selectedPaymentMethod: type,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedPaymentMethod: type,\r\n    });\r\n    console.log(type);\r\n    this.handleRounding(type);\r\n  }\r\n\r\n  handleEnterButton() {\r\n    const { numberString, selectedPaymentMethod } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const decimal = 2;\r\n    if (!selectedPaymentMethod) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Missing Payment Method',\r\n          text: 'Please select a payment method',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      })\r\n      return;\r\n    }\r\n    // if (numberStringVal === 0) {\r\n    //   return;\r\n    // }\r\n    // early exit memberson\r\n    if (selectedPaymentMethod.refType === 'P') {\r\n      if (!this.handleValidateAmount()) return;\r\n    }\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleAddPayment());\r\n  }\r\n\r\n  handleValidateAmount() {\r\n    const { numberString, selectedTable } = this.state;\r\n    const numberStringVal = Number(numberString);\r\n    const isInteger = Number.isInteger(numberStringVal);\r\n    console.log('isInteger', isInteger, selectedTable.balance, selectedTable.vipPtsMoney);\r\n\r\n    if (!Number.isInteger(numberStringVal) || numberStringVal > selectedTable.balance || numberStringVal > selectedTable.vipPtsMoney) {\r\n      this.setState({\r\n        overlayAlertInputValue: {\r\n          title: 'ALERT',\r\n          subtitle: 'Inappropriate Amount',\r\n          text: 'Enter an integer less than balance and redeemable',\r\n          ok: true,\r\n          cancel: false,\r\n          options: [],\r\n        },\r\n        overlayAlertVisible: true,\r\n      });\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  handleFinishButton() {\r\n    this.setState({\r\n      loading: true,\r\n    }, () => this.handleFinishPayment());\r\n  }\r\n\r\n  handleFinishPayment(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, cashierPrinters, settings, paymentMethods, selectedTable, payments } = this.state;\r\n\r\n    if (payments.some(el => paymentMethods.find(item => item.pmId === el.pmId && item.refFlg === 'Y') && !el.payRef)) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK PAYMENT REFERENCE',\r\n        loading: false,\r\n      });\r\n      return;\r\n    }\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'FINISH PAYMENT',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUnsplitBill() {\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unsplit successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unsplit Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n        this.handleViewSplitted();\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPaymentItem(item) {\r\n    if (item.pmId === 'PAYNOW') {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressPaymentItemRef(item) {\r\n    this.setState({\r\n      selectedPaymentItem: item,\r\n      overlayInputReferenceVisible: true,\r\n    });\r\n  }\r\n\r\n  handlePressDeletePaymentItem(item) {\r\n    this.setState({\r\n      selectedPaymentItem: item,\r\n    });\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleDeletePayment' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: item.name,\r\n        text: 'Delete payment of ' + Number(item.payMoney).toFixed(2) + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleDeletePayment() {\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-payment';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAddPayment() {\r\n    const { serviceEntry, home, settings, paymentMethods, selectedPaymentMethod, selectedTable, pay, numberString } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/add-payment';\r\n    console.log('here debug', Number(numberString));\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      pmId: selectedPaymentMethod.pmId,\r\n      payAmt: Number(numberString),\r\n      roundAmt: Number(selectedTable.balance - pay).toFixed(2),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post add-payment successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Add Payment',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            loading: false,\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          loading: false,\r\n          selectedTable: response.opentable,\r\n          selectedPaymentMethod: null,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        }, () => {\r\n          this.handleRounding(paymentMethods.find(el => el.pmId === selectedPaymentMethod.pmId))\r\n          this.handleAfterAddPayment();\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleAfterAddPayment() {\r\n    const { home, selectedTable, payments } = this.state;\r\n    const found = payments.find(el => el.pmId === 'PAYNOW');\r\n    if (found) {\r\n      this.setState({\r\n        overlayPaynowVisible: true,\r\n        overlayPaynowInput: {\r\n          amount: found.payMoney.toFixed(2),\r\n          reference: home.shopId + '-' + selectedTable.docNo,\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  handleRounding(type) {\r\n    console.log(type);\r\n    const { selectedTable } = this.state;\r\n    const { numberString } = this.state;\r\n    const decimal = 2;\r\n    let number = Number(selectedTable.balance);\r\n\r\n    if (type.roundingFlg === 'N') {\r\n      this.setState({\r\n        pay: number,\r\n        numberString: number.toFixed(decimal).toString(),\r\n      });\r\n      return;\r\n    }\r\n\r\n    switch (type.roundType) {\r\n      case '0': // 4 down 5 up\r\n        console.log('case 0');\r\n        // number = Math.round(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '1': // ceiling\r\n        console.log('case 1');\r\n        number = Math.ceil(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '2': // floor 5\r\n        console.log('case 2');\r\n        number = Math.floor(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '3': // floor\r\n        console.log('case 3');\r\n        number = Math.floor(number * 10) / 10;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '4': // closest 5\r\n        console.log('case 4');\r\n        number = Math.round(number * 20) / 20;\r\n        this.setState({\r\n          pay: number,\r\n          numberString: number.toFixed(decimal).toString(),\r\n        });\r\n        break;\r\n      case '5':\r\n        console.log('legacy case 5 not in use');\r\n        break;\r\n      case '6':\r\n        console.log('legacy case 6 not in use');\r\n        break;\r\n    }\r\n  }\r\n\r\n  handlePressTips() {\r\n    this.setState({\r\n      overlayUpdateTipsVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSplit() {\r\n    this.setState({\r\n      overlaySplitBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnsplit() {\r\n    const { selectedTable } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUnsplitBill' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Unsplit Bill',\r\n        text: 'Unsplit Bill for Table ' + selectedTable.tableId + ' ?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressMerge() {\r\n    this.setState({\r\n      overlayMergeBillVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressUnmerge(printer) {\r\n    const { serviceEntry, home, cashierPrinters, settings, selectedTable } = this.state;\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'UNMERGE BILL',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unmerge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post unmerge-bill successful', response.opentable);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Unmerge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleViewSplitted() {\r\n    const { home, serviceEntry, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/splitted-receipts';\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('get splitted-receipts successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          splitReceipts: response?.filter(el => el.recKey > 0),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOpenDrawer(printer, superUserId) {\r\n    const { home, serviceEntry, cashierPrinters, privileges, settings, selectedTable } = this.state;\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        printPurpose: 'OPEN DRAWER',\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'OPENDRAWER')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'OPENDRAWER',\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/open-cashdrawer';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post open-cashdrawer successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Open Cashdrawer',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n      return;\r\n    }\r\n    if (text === 'handleDeletePayment') {\r\n      this.handleDeletePayment();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    } else if (text === 'handleUnsplitBill') {\r\n      this.handleUnsplitBill();\r\n      this.setState({\r\n        overlayAlertVisible: false,\r\n        overlayAlertInputValue: '',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromPaynow(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayPaynowVisible: false,\r\n      });\r\n      return;\r\n    }\r\n  }\r\n\r\n  handleUpdateFromInputReference(text) {\r\n    this.setState({ overlayInputReferenceVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable, selectedPaymentItem } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/payment-reference';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentablePospayRecKey: selectedPaymentItem.recKey,\r\n      ref: text,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post payment-reference successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Payment Reference',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplitBill(number, type) {\r\n    if (!number) {\r\n      this.setState({ overlaySplitBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/start-split-receipt';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      splitCount: number,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post start-split-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Start Split Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'ITEM') {\r\n          this.setState({\r\n            splitting: true,\r\n            selectedTable: response.opentable,\r\n            tableItems: response.opentableItems,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else if (type === 'AMOUNT') {\r\n          this.setState({\r\n            overlaySplitAmountVisible: true,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            availableReceipts: response.receiptmases,\r\n          });\r\n        } else {\r\n\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromSplit(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            selectedTable: response.opentable,\r\n            overlaySplitBillVisible: false,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceipts: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          itemPercentages: el.receiptItems.map(obj => ({\r\n            itemRecKey: obj.recKey,\r\n            percentage: obj.percentage,\r\n          }))\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            splitting: false,\r\n            overlaySplitBillVisible: false,\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromSplitAmount(receipts, printer) {\r\n    console.log('receipts', receipts);\r\n    this.setState({\r\n      overlaySplitAmountVisible: false,\r\n    });\r\n    if (!receipts) {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/unsplit-receipt';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post unsplit successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Unsplit Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    } else {\r\n      const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/finish-split-receipt-byamt';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        splittedReceiptsByamt: receipts.map(el => ({\r\n          receiptRecKey: el.recKey,\r\n          amt: el.amount,\r\n        })),\r\n        iomodelId: printer && printer.iomodelId,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          console.log('post finish-split-receipt successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Finish Split Bill',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n            );\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            })\r\n            return;\r\n          }\r\n          // to state\r\n          this.setState({\r\n            selectedTable: response.opentable,\r\n            payments: response.opentablePospays,\r\n            pay: response.opentable.balance,\r\n          });\r\n          this.handleViewSplitted();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          // to state\r\n          this.setState({\r\n            loading: false\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromMergeBill(table, printer) {\r\n    if (!table) {\r\n      this.setState({ overlayMergeBillVisible: false });\r\n      return;\r\n    }\r\n    const { selectedTable, serviceEntry, home, settings } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/merge-bill';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      opentableRecKeyGuest: table.recKey,\r\n      iomodelId: printer && printer.iomodelId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post merge-bill successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Merge Bill',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            table.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          pay: response.opentable.balance,\r\n          overlayMergeBillVisible: false,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromUpdateTips(number, method) {\r\n    this.setState({ overlayUpdateTipsVisible: false });\r\n    if (!number) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-tips';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      tips: Number(number).toFixed(2),\r\n      pmId: method?.pmId || '',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-tips successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Tips',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            `${number},${method?.pmId}`,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          payments: response.opentablePospays,\r\n          numberString: '0',\r\n          pay: response.opentable.balance,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromViewSplitted(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayViewSplittedVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedTable } = this.state;\r\n    if (!printer) {\r\n      this.setState({\r\n        printPurpose: '',\r\n        selectedPrinter: '',\r\n        overlayChoosePrinterVisible: false,\r\n        loading: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      printPurpose: '',\r\n      selectedPrinter: printer,\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (purpose === 'UNMERGE BILL') {\r\n      this.handlePressUnmerge(printer);\r\n    } else if (purpose === 'FINISH PAYMENT') {\r\n      this.handleFinishPayment(printer);\r\n    } else if (purpose === 'OPEN DRAWER') {\r\n      this.handleOpenDrawer(printer);\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege, settings, selectedPrinter, selectedTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        if (requestedPrivilege === 'OPENDRAWER') {\r\n          this.handleOpenDrawer(selectedPrinter, response.userId);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  doLayout(e) {\r\n    this.setState({\r\n      keyHeight: e.nativeEvent.layout.height,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntry, serviceEntryObj, home, cashierPrinters, settings, selectedTable,\r\n      overlayInputReferenceVisible, overlayMergeBillVisible, overlaySplitBillVisible, overlayUpdateTipsVisible,\r\n      overlaySplitAmountVisible, overlayViewSplittedVisible, overlayRequestAccessVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      overlayPaynowVisible, overlayPaynowInput,\r\n      numberString, paymentMethods, payments, selectedPaymentMethod, pay,\r\n      splitting, availableReceipts, splitReceipts, tableItems, requestedPrivilege,\r\n      selectedPrinter, printPurpose, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible, loading,\r\n      keyHeight,\r\n    } = this.state;\r\n\r\n    console.log('in pos');\r\n\r\n    if (splitting) {\r\n      return (\r\n        <Split\r\n          serviceEntry={serviceEntry}\r\n          home={home}\r\n          selectedTable={selectedTable}\r\n          availableReceipts={availableReceipts}\r\n          tableItems={tableItems}\r\n          cashierPrinters={cashierPrinters}\r\n          handleUpdateFromSplit={this.handleUpdateFromSplit} />\r\n      );\r\n    }\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayInputReferenceVisible &&\r\n          <OverlayInputReference\r\n            handleUpdateFromInputReference={this.handleUpdateFromInputReference} />\r\n        }\r\n        {\r\n          overlayMergeBillVisible &&\r\n          <OverlayMergeBill\r\n            serviceEntry={serviceEntry}\r\n            home={home}\r\n            cashierPrinters={cashierPrinters}\r\n            selectedTable={selectedTable}\r\n            handleUpdateFromMergeBill={this.handleUpdateFromMergeBill} />\r\n        }\r\n        {\r\n          overlaySplitBillVisible &&\r\n          <OverlaySplitBill\r\n            handleUpdateFromSplitBill={this.handleUpdateFromSplitBill} />\r\n        }\r\n        {\r\n          overlaySplitAmountVisible &&\r\n          <OverlaySplitAmount\r\n            home={home}\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromSplitAmount={this.handleUpdateFromSplitAmount} />\r\n        }\r\n        {\r\n          overlayViewSplittedVisible &&\r\n          <OverlayViewSplitted\r\n            selectedTable={selectedTable}\r\n            receipts={availableReceipts}\r\n            handleUpdateFromViewSplitted={this.handleUpdateFromViewSplitted} />\r\n        }\r\n        {\r\n          overlayUpdateTipsVisible &&\r\n          <OverlayUpdateTips\r\n            paymentMethods={paymentMethods}\r\n            handleUpdateFromUpdateTips={this.handleUpdateFromUpdateTips} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose={printPurpose}\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayPaynowVisible &&\r\n          <OverlayPaynow\r\n            home={home}\r\n            input={overlayPaynowInput}\r\n            handleUpdateFromPaynow={this.handleUpdateFromPaynow} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.leftFirstContainer}>\r\n            <View style={styles.rowOf5}\r\n              onLayout={(e) => this.doLayout(e)}>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => navigation.goBack()}>\r\n                <Text style={[styles.headerKeyTextTableId,]}>{selectedTable.tableId}</Text>\r\n                <Text style={[styles.headerKeyText, { marginTop: 0 }]}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.headerKeyContainer, (selectedTable.splitFlg === 'Y') && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressTips()}\r\n                disabled={selectedTable.splitFlg === 'Y'}>\r\n                <AntDesign name='like2' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('tips')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                style={styles.headerKeyContainer}\r\n                onPress={() => this.handleOpenDrawer()}>\r\n                <AntDesign name='laptop' size={24} color='white' style={{ height: 30 }} />\r\n                <Text style={styles.headerKeyText}>{intl.get('drawer')}</Text>\r\n              </TouchableOpacity>\r\n              {\r\n                selectedTable.splitFlg === 'Y' ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnsplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unsplit')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressSplit()}>\r\n                    <AntDesign name='switcher' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('splitbill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n              {\r\n                selectedTable.hostFlg === 'Y' || selectedTable.refTableId\r\n                  ?\r\n                  <TouchableOpacity\r\n                    style={styles.headerKeyContainer}\r\n                    onPress={() => this.handlePressUnmerge()}>\r\n                    <AntDesign name='menuunfold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('unmerge')}</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity\r\n                    style={[styles.headerKeyContainer, selectedTable.splitFlg === 'Y' && { opacity: 0.2 }]}\r\n                    disabled={selectedTable.splitFlg === 'Y'}\r\n                    onPress={() => this.handlePressMerge()}>\r\n                    <AntDesign name='menufold' size={24} color='white' style={{ height: 30 }} />\r\n                    <Text style={styles.headerKeyText}>{intl.get('mergebill')}</Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n          <View style={styles.leftSecondContainer}>\r\n            <View style={styles.tableSummaryContainer}>\r\n              <View style={styles.tableSummaryTitleContainer}>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('beforedisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('totaldisc')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('servicecharge')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tax')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tips')} {selectedTable.tipsPmId}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.reserved }]}>{intl.get('grandtotal')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={[styles.tableSummaryTitleText, { color: theme.paid }]}>{intl.get('pay')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('balance')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('tender')}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryTitle}>\r\n                  <Text style={styles.tableSummaryTitleText}>{intl.get('change')}</Text>\r\n                </View>\r\n              </View>\r\n              <View style={styles.tableSummaryValueContainer}>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.beforeDisc ? selectedTable.beforeDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalDisc ? selectedTable.totalDisc.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.serviceCharge ? selectedTable.serviceCharge.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.totalTax ? selectedTable.totalTax.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tips ? selectedTable.tips.toFixed(2) : '0.00'}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.reserved }]}>{selectedTable.grandTotal.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={[styles.tableSummaryValueText, { color: theme.paid }]}>{pay.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.balance.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.tender.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n                <View style={styles.tableSummaryValue}>\r\n                  <Text style={styles.tableSummaryValueText}>{selectedTable.change.toFixed(2) || 0.00}</Text>\r\n                </View>\r\n              </View>\r\n            </View>\r\n            <ScrollView\r\n              style={{ maxHeight: 30, }}\r\n              horizontal={true}\r\n              showsHorizontalScrollIndicator={false}>\r\n              {\r\n                selectedTable.vipId &&\r\n                <View\r\n                  style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{selectedTable.vipId || '-'}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.reserved, }}>{selectedTable.vipName || '-'}</Text>\r\n                </View>\r\n              }\r\n              {\r\n                splitReceipts && splitReceipts.map(item =>\r\n                  <View key={item.recKey.toString()}\r\n                    style={{ flexDirection: 'row', flex: 1, alignItems: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, marginLeft: 20, marginRight: 10 }}>{item.docId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', }}>{item.grandTotal ? item.grandTotal.toFixed(2) : '-'}</Text>\r\n                  </View>)\r\n              }\r\n            </ScrollView>\r\n            <View style={{ flex: 1, backgroundColor: theme.grey3, borderRadius: 5 }}>\r\n              <View style={styles.paymentsContainer}>\r\n                <View style={styles.paymentsFirst}><Text style={styles.paymentsTitleText}>No.</Text></View>\r\n                <View style={styles.paymentsSecond}><Text style={styles.paymentsTitleText}>Payment ID</Text></View>\r\n                <View style={styles.paymentsThird}><Text style={styles.paymentsTitleText}>Ref</Text></View>\r\n                <View style={styles.paymentsFourth}><Text style={styles.paymentsTitleText}>Amount</Text></View>\r\n                <View style={styles.paymentsZero}></View>\r\n              </View>\r\n              <ScrollView\r\n                style={{ flex: 1 }}\r\n                ref={ref => this.posScrollView = ref}\r\n                onContentSizeChange={(contentWidth, contentHeight) => {\r\n                  this.posScrollView.scrollToEnd({ animated: true });\r\n                }}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  payments.map((item, index) => (\r\n                    <View style={styles.datumContainer} key={index}>\r\n                      <View style={styles.datumFirst}><Text style={styles.datumText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={styles.datumSecond} onPress={() => this.handlePressPaymentItem(item)}>\r\n                        <Text style={styles.datumText}>{item.name}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.datumThird} onPress={() => this.handlePressPaymentItemRef(item)}>\r\n                        <Text style={styles.datumText}>{item.payRef}</Text>\r\n                      </TouchableOpacity>\r\n                      <View style={styles.datumFourth}><Text style={styles.datumText}>{item.payMoney.toFixed(2)}</Text></View>\r\n                      <TouchableOpacity style={styles.datumZero}\r\n                        onPress={() => this.handlePressDeletePaymentItem(item)}>\r\n                        <AntDesign name='close' size={18} color={theme.paid} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  ))\r\n                }\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.rightFirstContainer}>\r\n            <FlatList\r\n              style={{ flex: 3 }}\r\n              showsVerticalScrollIndicator={false}\r\n              numColumns={5}\r\n              data={paymentMethods}\r\n              extraData={selectedPaymentMethod}\r\n              keyExtractor={(item, index) => index.toString()}\r\n              renderItem={({ item }) => {\r\n                if (keyHeight) return (\r\n                  <View style={{ flex: 1 / 5, height: keyHeight }}>\r\n                    <TouchableOpacity\r\n                      style={[item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyContainer : styles.functionKeyContainer, item.pmId ? null : { opacity: 0.2 },]}\r\n                      onPress={() => this.handleSelectPaymentMethod(item)}>\r\n                      <Image\r\n                        style={{ flex: 1, aspectRatio: 1 }}\r\n                        source={{\r\n                          uri: serviceEntryObj?.restServiceUrl + 'epbm/api/image/stock?stkId=' + item.pmId + '&t=' + item.lastupdate\r\n                        }}\r\n                      />\r\n                      <View style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, alignItems: 'center', justifyContent: 'center', }}>\r\n                        <Text style={item.pmId === selectedPaymentMethod?.pmId ? styles.activeFunctionKeyText : styles.functionKeyText}>{item.pmId}</Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )\r\n              }}\r\n            />\r\n          </View>\r\n          <View style={styles.rightFirstNumberContainer}>\r\n            <Text style={styles.rightFirstNumberText}>{numberString}</Text>\r\n          </View>\r\n          <View style={styles.rightSecondContainer}>\r\n            <View style={styles.rightSecondLeftContainer}>\r\n              <TouchableOpacity style={styles.clearContainer} onPress={() => this.handleBuildNumberString('CLEAR')}>\r\n                <Text style={styles.keyText}>\r\n                  CLEAR\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={styles.rightSecondMiddleContainer}>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('7')}>\r\n                  <Text style={styles.keyNumberText}>7</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('4')}>\r\n                  <Text style={styles.keyNumberText}>4</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('1')}>\r\n                  <Text style={styles.keyNumberText}>1</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('0')}>\r\n                  <Text style={styles.keyNumberText}>0</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('8')}>\r\n                  <Text style={styles.keyNumberText}>8</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('5')}>\r\n                  <Text style={styles.keyNumberText}>5</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('2')}>\r\n                  <Text style={styles.keyNumberText}>2</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('.')}>\r\n                  <Text style={styles.keyNumberText}>.</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n              <View style={{ flex: 1 }}>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('9')}>\r\n                  <Text style={styles.keyNumberText}>9</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('6')}>\r\n                  <Text style={styles.keyNumberText}>6</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('3')}>\r\n                  <Text style={styles.keyNumberText}>3</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={styles.keyContainer} onPress={() => this.handleBuildNumberString('00')}>\r\n                  <Text style={styles.keyNumberText}>00</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={styles.rightSecondRightContainer}>\r\n              <TouchableOpacity style={styles.backspaceContainer} onPress={() => this.handleBuildNumberString('DEL')}>\r\n                {/* <Ionicons name='ios-arrow-round-back' size={48} color='white' /> */}\r\n                <Text style={styles.keyText}>\r\n                  DEL\r\n                </Text>\r\n              </TouchableOpacity>\r\n              {\r\n                (selectedTable.balance === 0 && !selectedPaymentMethod) ?\r\n                  <TouchableOpacity style={[styles.finishContainer, loading && { opacity: 0.2 }]}\r\n                    disabled={loading}\r\n                    onPress={() => this.handleFinishButton()}>\r\n                    {/* <Ionicons name='ios-arrow-up' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      FINISH\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={[styles.enterContainer, loading && { opacity: 0.2 }]}\r\n                    disabled={loading}\r\n                    onPress={() => this.handleEnterButton()}>\r\n                    {/* <Ionicons name='ios-return-left' size={48} color='white' /> */}\r\n                    <Text style={styles.keyText}>\r\n                      ENTER\r\n                    </Text>\r\n                  </TouchableOpacity>\r\n              }\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight2 = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n    padding: 5,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n  },\r\n  leftFirstContainer: {\r\n    // backgroundColor: 'blue',\r\n    flex: 1,\r\n  },\r\n  leftSecondContainer: {\r\n    flex: 7,\r\n    margin: 5,\r\n  },\r\n  rightFirstContainer: {\r\n    flex: 3,\r\n  },\r\n  rightSecondContainer: {\r\n    flex: 4,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondLeftContainer: {\r\n    flex: 1,\r\n  },\r\n  rightSecondMiddleContainer: {\r\n    flex: 3,\r\n    flexDirection: 'row',\r\n  },\r\n  rightSecondRightContainer: {\r\n    flex: 1,\r\n  },\r\n  rowOf5: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightFirstNumberContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tableSummaryContainer: {\r\n    justifyContent: 'space-between',\r\n    flexDirection: 'row',\r\n    // backgroundColor: 'brown',\r\n    marginHorizontal: 60,\r\n    marginTop: 10,\r\n    marginBottom: 20,\r\n  },\r\n  tableSummaryTitleContainer: {\r\n    alignItems: 'flex-start',\r\n    // backgroundColor: 'green'\r\n  },\r\n  tableSummaryValueContainer: {\r\n    alignItems: 'flex-end',\r\n    // backgroundColor: 'blue'\r\n  },\r\n  tableSummaryTitle: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n    // backgroundColor:'red'\r\n  },\r\n  tableSummaryValue: {\r\n    height: 30,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  tableSummaryTitleText: {\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n    color: 'white',\r\n  },\r\n  tableSummaryValueText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n  },\r\n  keyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backspaceContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  enterContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.reserved,\r\n  },\r\n  finishContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.occupied,\r\n    borderRadius: 5,\r\n    borderWidth: 2,\r\n    borderColor: 'white',\r\n  },\r\n  clearContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.paid,\r\n  },\r\n  functionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  activeFunctionKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'white',\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyContainer: {\r\n    flex: 1,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n  },\r\n  headerKeyTextTableId: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 24,\r\n  },\r\n  headerKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    fontSize: 12,\r\n  },\r\n  keyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  keyNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n  },\r\n  functionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  activeFunctionKeyText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'black',\r\n    textAlign: 'center',\r\n  },\r\n  rightFirstNumberText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 64,\r\n  },\r\n  paymentsContainer: {\r\n    height: 30,\r\n    // backgroundColor: 'white',\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n  },\r\n  dataContainer: {\r\n    flex: 1,\r\n  },\r\n  paymentsFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  paymentsSecond: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsThird: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  paymentsFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  paymentsZero: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paymentsTitleText: {\r\n    color: theme.grey5,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  datumFirst: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    // backgroundColor: 'blue',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  datumSecond: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  datumThird: {\r\n    flex: 4,\r\n    justifyContent: 'center',\r\n    // backgroundColor: 'blue',\r\n    paddingLeft: 10,\r\n  },\r\n  datumFourth: {\r\n    flex: 2,\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n    paddingRight: 10,\r\n  },\r\n  datumZero: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  datumText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  datumContainer: {\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'row',\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlaySettleAdhoc extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menus: props.menus,\r\n      availableMenus: props.menus,\r\n\r\n      overlaySearchText: '',\r\n    };\r\n\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { menus, availableMenus } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', availableMenus);\r\n\r\n    availableMenusUpdate = menus;\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuId.toUpperCase().includes(caseText) || item.menuName.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handleSubmit(item) {\r\n    this.props.handleUpdateFromSettleAdhoc(item);\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableMenus,\r\n    } = this.state;\r\n    console.log('in overlaysettleadhoc, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Settle Adhoc</Text>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromSettleAdhoc()}>\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              />\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}>\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableMenus}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.menuId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.menuName}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                    <Text style={[styles.overlayGridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n  Platform,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport OverlaySettleAdhoc from './OverlaySettleAdhoc';\r\nimport OverlayScanBarcode from './OverlayScanBarcode';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Adhoc extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      working: false,\r\n      searchText: '',\r\n      artifacts: [],\r\n      selectedAdhocItem: null,\r\n      selectedTableItem: null,\r\n      availableMenus: props.route.params.masters.menus.filter(menu => menu.menuType === 'X'),\r\n\r\n      overlaySettleAdhocVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayScanBarcodeVisible: false,\r\n    };\r\n\r\n    this.pageObject = null;\r\n    this.handleUpdateFromSettleAdhoc = this.handleUpdateFromSettleAdhoc.bind(this);\r\n    this.handleUpdateFromScanBarcode = this.handleUpdateFromScanBarcode.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n\r\n    if (selectedTable) this.handlePressTable();\r\n\r\n    this.sub = navigation.addListener(\r\n      'focus',\r\n      this.didFocus.bind(this)\r\n    );\r\n  }\r\n\r\n  didFocus() {\r\n    const { serviceEntry, home, masters, selectedTable } = this.state;\r\n    if (selectedTable) this.handlePressTable();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.sub();\r\n  }\r\n\r\n  doReload() {\r\n    console.log('reload');\r\n\r\n    const { working } = this.state;\r\n    if (working) {\r\n      console.log('currently working');\r\n      // early return\r\n      return;\r\n    }\r\n\r\n    const { searchText } = this.state;\r\n    if (!searchText) {\r\n      console.log('search text empty');\r\n      // early return\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      artifacts: [] // reset  \r\n    }, () => {\r\n      // reset\r\n      this.pageObject = null;\r\n      // load\r\n      this.doLoad();\r\n    });\r\n  }\r\n\r\n  doLoad() {\r\n    console.log('load');\r\n\r\n    const { route } = this.props;\r\n    const { working, home, serviceEntry } = this.state;\r\n\r\n    if (working) {\r\n      console.log('currently working');\r\n      // early return\r\n      return;\r\n    }\r\n\r\n    // check page\r\n    if (this.pageObject\r\n      && this.pageObject.number + 1 === this.pageObject.totalPages) { // last page reached\r\n      console.log('last page reached');\r\n      // early return\r\n      return;\r\n    }\r\n\r\n    const pageIndex = this.pageObject\r\n      ? (this.pageObject.number + 1) // next page\r\n      : 0; // fresh page\r\n\r\n    // mark\r\n    this.setState({\r\n      working: true\r\n    }, () => {\r\n      let url = serviceEntry + 'api/search-sku';\r\n      const params = new URLSearchParams();\r\n      params.append('orgId', home.orgId);\r\n      params.append('locId', home.locId);\r\n      params.append('userId', home.userId);\r\n      params.append('searchInput', this.state.searchText);\r\n      params.append('page', pageIndex || 0);\r\n      params.append('size', 20);\r\n\r\n      url += ('?' + params);\r\n      console.log(url)\r\n      fetch(url, {\r\n        method: 'GET'\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          // console.log('response', response);\r\n          const remotePage = response.content;\r\n          delete (response.content);\r\n          this.pageObject = response;\r\n          // console.log('pageObject', this.pageObject);\r\n\r\n          // update\r\n          const existingList = this.state.artifacts;\r\n          const newList = existingList.splice(0);\r\n          // append\r\n          newList.push(...remotePage);\r\n          // console.log('newList', newList);\r\n\r\n          // to state\r\n          this.setState({\r\n            artifacts: newList,\r\n            working: false\r\n          });\r\n        })\r\n        .catch(error => {\r\n          console.log('error loading', error);\r\n          // reset\r\n          this.setState({\r\n            working: false\r\n          });\r\n        });\r\n\r\n    });\r\n  }\r\n\r\n  doChangeText(text) {\r\n    const { searchText } = this.state;\r\n    // console.log('changed', searchText.length, text.length, text)\r\n    if (text.length - searchText.length > 3) {\r\n      // scanning\r\n      this.setState({\r\n        searchText: text.replace(searchText, ''),\r\n      }, () => {\r\n        this.searchTextInput.blur();\r\n        this.doReload();\r\n      })\r\n    } else {\r\n      // typing\r\n      this.setState({\r\n        searchText: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doClearSearch() {\r\n    this.setState({\r\n      artifacts: [],\r\n      searchText: '',\r\n    })\r\n    this.pageObject = null;\r\n    this.searchTextInput.focus();\r\n  }\r\n\r\n  handlePressTable() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, preference, settings, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey;\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (!response.opentable) {\r\n          navigation.goBack();\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTable: response.opentable,\r\n          tableItems: response.opentableItems,\r\n          adhocItems: response.opentableAdhocs,\r\n          overlaySettleAdhocVisible: false,\r\n        });\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doDeleteAdhoc') {\r\n      this.doDeleteAdhoc();\r\n    } else if (text === 'doRevertAdhoc') {\r\n      this.doRevertAdhoc();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromSettleAdhoc(item) {\r\n    if (!item) {\r\n      this.setState({\r\n        selectedAdhocItem: null,\r\n        overlaySettleAdhocVisible: false\r\n      });\r\n      return;\r\n    }\r\n    const { serviceEntry, home, masters, settings, selectedTable, selectedAdhocItem } = this.state;\r\n    const settingPOSMODE = settings.find(el => el.setId === 'POSMODE')?.setString;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      restmenuRecKey: item.recKey,\r\n      adhocRecKey: selectedAdhocItem.recKey,\r\n      restmenuMod: (selectedTable.orderType === 'B' && settingPOSMODE === 'A') ? `*${intl.get('takeaway')}  ` : '',\r\n      orderType: selectedTable.orderType,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post insert-item successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Settle Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedAdhocItem.name,\r\n            item.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable()\r\n      })\r\n\r\n  }\r\n\r\n  handleUpdateFromScanBarcode(text) {\r\n    if (!text) {\r\n      this.setState({ overlayScanBarcodeVisible: false });\r\n      return;\r\n    }\r\n    const { serviceEntry, home, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      vipId: home.vipId,\r\n      barcode: text,\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post scan-barcode successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Scan Barcode',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            text,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.handlePressTable();\r\n      })\r\n  }\r\n\r\n  doPressDeleteAdhoc(item) {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doDeleteAdhoc' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Delete Adhoc',\r\n        text: `Delete ${item.name}?`,\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n      selectedAdhocItem: item,\r\n    })\r\n  }\r\n\r\n  doPressRevertAdhoc(item) {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doRevertAdhoc' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Revert Adhoc',\r\n        text: `Revert ${item.menuName}?`,\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n      selectedTableItem: item,\r\n    })\r\n  }\r\n\r\n  doPressSettleAdhoc(item) {\r\n    this.setState({\r\n      overlaySettleAdhocVisible: true,\r\n      selectedAdhocItem: item,\r\n    })\r\n  }\r\n\r\n  doDeleteAdhoc() {\r\n    const { serviceEntry, home, masters, settings, selectedAdhocItem, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/delete-adhoc';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableAdhocRecKey: selectedAdhocItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post delete-adhoc successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Delete Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedAdhocItem.name,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedAdhocItem: null,\r\n        });\r\n        this.handlePressTable();\r\n      })\r\n  }\r\n\r\n  doRevertAdhoc() {\r\n    const { serviceEntry, home, masters, settings, selectedTableItem, selectedTable } = this.state;\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/revert-adhoc';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      opentableItemRecKey: selectedTableItem.recKey,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post revert-adhoc successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Revert Adhoc',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            selectedTableItem.menuName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          selectedTableItem: null,\r\n        });\r\n        this.handlePressTable();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, serviceEntry, masters, selectedTable, adhocItems, tableItems,\r\n      working, artifacts, searchText,\r\n      availableMenus,\r\n      overlaySettleAdhocVisible, overlayScanBarcodeVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n    } = this.state;\r\n    console.log('in adhoc', artifacts && artifacts[0]);\r\n    const total = this.pageObject\r\n      ? this.pageObject.totalElements\r\n      : 0;\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayScanBarcodeVisible &&\r\n          <OverlayScanBarcode\r\n            handleUpdateFromScanBarcode={this.handleUpdateFromScanBarcode} />\r\n        }\r\n        {\r\n          overlaySettleAdhocVisible &&\r\n          <OverlaySettleAdhoc\r\n            menus={availableMenus}\r\n            handleUpdateFromSettleAdhoc={this.handleUpdateFromSettleAdhoc} />\r\n        }\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable?.tableId || '-'}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{intl.get('adhoc')}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Adhoc Item</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                  <View style={styles.titleZeroContainer}>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={adhocItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}\r\n                      onPress={() => this.doPressSettleAdhoc(item)}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.name}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.tableItemZeroContainer}\r\n                        onPress={() => this.doPressDeleteAdhoc(item)}>\r\n                        <AntDesign name='close' size={18} color={theme.paid} />\r\n                      </TouchableOpacity>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Table Item</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                  <View style={styles.titleZeroContainer}>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <View style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.tableItemZeroContainer}\r\n                        disabled={!(item.menuType === 'S' || item.menuType === 'X')}\r\n                        onPress={() => this.doPressRevertAdhoc(item)}>\r\n                        {\r\n                          (item.menuType === 'S' || item.menuType === 'X') &&\r\n                          <AntDesign name='man' size={18} color={theme.paid} />\r\n                        }\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    ref={(input) => { this.searchTextInput = input; }}\r\n                    autoCorrect={false}\r\n                    autoFocus={false}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onSubmitEditing={() => this.doReload()}\r\n                    onChangeText={text => this.doChangeText(text)}\r\n                    editable={!working}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => this.doClearSearch()}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{intl.get('pagination', { length: artifacts.length, total })}</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  key={total}\r\n                  style={{ flex: 1 }}\r\n                  data={artifacts}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid]}\r\n                      disabled={!selectedTable || selectedTable?.statusFlg !== 'C'}\r\n                      onPress={() => this.handleUpdateFromScanBarcode(item.stkId)}>\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={[styles.gridFirstLeftText, { color: theme.paid }]}>{item.stkId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.uomId} @ {item.retailListPrice.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.name}\r\n                        </Text>\r\n                      </View>\r\n                      <Text style={[styles.gridFirstLeftText, { color: theme.reserved }]}>{item.model}</Text>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.remark}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                  onEndReachedThreshold={0.4}\r\n                  onEndReached={() => this.doLoad()}\r\n                  windowSize={300}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedTable || selectedTable?.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n                disabled={!selectedTable || selectedTable?.statusFlg !== 'C'}\r\n                onPress={() => this.setState({ overlayScanBarcodeVisible: true })}>\r\n                <Ionicons name='barcode-outline' size={38} color={'white'} style={{ height: 36, width: 36 }} />\r\n                <Text style={[styles.buttonText]}>{intl.get('barcode')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, (Platform.OS === 'web' || !selectedTable || selectedTable?.statusFlg !== 'C') && { opacity: 0.2 }]}\r\n                disabled={Platform.OS === 'web' || !selectedTable || selectedTable?.statusFlg !== 'C'}\r\n                onPress={() => navigation.navigate('Scan', { home, serviceEntry, masters, selectedTable })}>\r\n                <AntDesign\r\n                  name='camerao'\r\n                  color={'white'}\r\n                  size={36}\r\n                  style={{ height: 36, width: 36 }}\r\n                />\r\n                <Text style={[styles.buttonText]}>{intl.get('camera')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemZeroContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleZeroContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  FlatList, TextInput,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Dayclose extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      dayclosePayments: props.route.params.dayclosePayments,\r\n      daycloseSubPayments: props.route.params.daycloseSubPayments,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n\r\n      total: props.route.params.dayclosePayments.reduce((init, obj) => { return init + obj.systemAmt }, 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }),\r\n      focused: null,\r\n    };\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n\r\n    this.handleFinishDayclose = this.handleFinishDayclose.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    if (!printer) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    this.handleFinishDayclose(printer);\r\n  }\r\n\r\n  handleFinishDayclose(printer) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, dayclosePayments, daycloseSubPayments, cashierPrinters } = this.state;\r\n    if (dayclosePayments.length === 0) {\r\n      return;\r\n    }\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/finish-dayclose';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      daycloseRecKey: dayclosePayments[0].masRecKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      verify: dayclosePayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n      subVerify: daycloseSubPayments.map(el => el.recKey.toString() + ',' + (this.state[el.recKey] || '0')).join(','),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post finish-dayclose successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Finish Dayclose',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  doChangeText(item, text) {\r\n    const { dayclosePayments, daycloseSubPayments } = this.state;\r\n    const found = dayclosePayments.find(el => el.pmId === item.pmId);\r\n    this.setState({\r\n      [item.recKey]: text,\r\n      [found.recKey]: daycloseSubPayments.filter(el => el.pmId === item.pmId && el.recKey !== item.recKey).reduce((init, el) => {\r\n        return init + (this.state[el.recKey] || 0) * el.pmValue\r\n      }, Number(text) * item.pmValue)\r\n    })\r\n  }\r\n\r\n  doPressKey(item) {\r\n    const { focused, dayclosePayments, daycloseSubPayments } = this.state;\r\n    const found = daycloseSubPayments.find(el => el.recKey === focused);\r\n    if (item === 'CLEAR') {\r\n      this.doChangeText(found, '0')\r\n    } else if (Number(this.state[focused]) === 0) {\r\n      this.setState({ [focused]: item })\r\n      this.doChangeText(found, item)\r\n    } else {\r\n      this.doChangeText(found, (this.state[focused] || '') + item)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { settings, dayclosePayments, daycloseSubPayments, cashierPrinters, overlayChoosePrinterVisible,\r\n      overlayProcedureMessageVisible,\r\n      total, focused } = this.state;\r\n    const settingDAYCLOSEVERIFY = settings.find(el => el.setId === 'DAYCLOSEVERIFY')?.setString;\r\n    console.log('in dayclose', focused);\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='DAY-END CLOSE'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>BACK</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Day-end Closing</Text>\r\n            <Text style={styles.overlayTitleText}>{dayclosePayments.length} PAYMENT METHODS</Text>\r\n          </View>\r\n          {\r\n            settingDAYCLOSEVERIFY === 'N' &&\r\n            <View style={styles.summary}>\r\n              <Text style={styles.summaryText}>TOTAL</Text>\r\n              <Text style={styles.summaryTotalText}>{total}</Text>\r\n            </View>\r\n          }\r\n          <View style={styles.searchBoxInfo}>\r\n            <View style={styles.titleFirstContainer}>\r\n              <Text style={styles.titleText}>Line No.</Text>\r\n            </View>\r\n            <View style={styles.titleSecondContainer}>\r\n              <Text style={styles.titleText}>Payment ID</Text>\r\n            </View>\r\n            <View style={styles.titleThirdContainer}>\r\n              <Text style={styles.titleText}>Payment Name</Text>\r\n            </View>\r\n            <View style={styles.titleFourthContainer}>\r\n              <Text style={styles.titleText}>Amount</Text>\r\n            </View>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            data={dayclosePayments}\r\n            showsVerticalScrollIndicator={false}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <>\r\n                <View style={[styles.tableItemContainer, (Number(this.state[item.recKey] || 0).toFixed(2) !== (item.systemAmt + item.floatAmt).toFixed(2) && daycloseSubPayments.some(el => el.pmId === item.pmId) && settingDAYCLOSEVERIFY === 'Y') && { backgroundColor: theme.paid }]}>\r\n                  <View style={styles.tableItemFirstContainer}>\r\n                    <Text style={styles.tableItemText}>{item.lineNo}</Text>\r\n                  </View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.pmId}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.name}\r\n                    </Text>\r\n                  </View>\r\n                  <View style={styles.tableItemFourthContainer}>\r\n                    {\r\n                      (settingDAYCLOSEVERIFY === 'Y' && daycloseSubPayments.some(obj => obj.pmId === item.pmId)) ?\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {(this.state[item.recKey] || 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                        :\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                {\r\n                  daycloseSubPayments.filter(el => el.pmId === item.pmId).map(el =>\r\n                    <View key={el.recKey.toString()}\r\n                      style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}>\r\n                        <Text style={styles.tableItemText}></Text>\r\n                      </View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, justifyContent: 'center' }}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {el.subPmId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={{ flex: 0.5, }}>\r\n                        <View style={[styles.inputRowRight, { marginRight: 10 }, focused === el.recKey && { backgroundColor: theme.reserved }]}>\r\n                          <TextInput style={[styles.textInput, focused === el.recKey && { color: 'black' }]}\r\n                            keyboardType='numeric'\r\n                            selectTextOnFocus={true}\r\n                            value={this.state[el.recKey] || '0'}\r\n                            onChangeText={text => this.doChangeText(el, text)}\r\n                            onFocus={() => this.setState({ focused: el.recKey })}\r\n                          />\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={[styles.tableItemText, { paddingRight: 10 }]}>\r\n                          {(el.pmValue * Number(this.state[el.recKey] || 0)).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={[styles.containerThird]}>\r\n          <View style={{ flex: 1, }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleFinishDayclose()}>\r\n              <AntDesign\r\n                name='isv'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>DAY CLOSE</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          <View>\r\n            {\r\n              focused &&\r\n              <FlatList\r\n                data={['1', '2', '3', '4', '5', '6', '7', '8', '9', 'CLEAR', '0']}\r\n                scrollEnabled={false}\r\n                showsVerticalScrollIndicator={false}\r\n                numColumns={3}\r\n                keyExtractor={(item, index) => index.toString()}\r\n                renderItem={({ item }) => (\r\n                  <View style={{ flex: 1 / 3, aspectRatio: 1 }}>\r\n                    <TouchableOpacity style={{ margin: 2.5, flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: 'black', borderRadius: 5, }}\r\n                      onPress={() => this.doPressKey(item)}>\r\n                      {\r\n                        item === 'CLEAR' ?\r\n                          <AntDesign name='close' color='white' size={18} />\r\n                          :\r\n                          <Text style={{ color: 'white', fontFamily: 'varela-round', fontSize: 18, }}>{item}</Text>\r\n                      }\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                )}\r\n              />\r\n            }\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  titleFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  titleFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 20,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n  },\r\n  tableItemFourthContainer: {\r\n    width: 150,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    paddingRight: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  summary: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  summaryTotalText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    color: theme.reserved,\r\n    textAlign: 'center',\r\n  },\r\n  summaryText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.paid,\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Printer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n      printers: [],\r\n      loading: false,\r\n    };\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { home, serviceEntry } = this.state;\r\n    let url = serviceEntry + 'api/iomodels';\r\n    const params = new URLSearchParams();\r\n    params.append('posNo', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('iomodels', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          printers: response,\r\n        }, () => this.handlePingAll())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingPrinter(item) {\r\n    const { serviceEntry, printers } = this.state;\r\n\r\n    let printersUpdate0 = printers;\r\n    printersUpdate0.find(el => el.recKey === item.recKey).statusFlg = 'PING...';\r\n    this.setState({\r\n      printers: printersUpdate0,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/iomodels/' + item.recKey;\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('ping iomodel', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        let printersUpdate = printers;\r\n        if (response.msgId === 'OK') {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'ONLINE';\r\n        } else {\r\n          printersUpdate.find(el => el.recKey === item.recKey).statusFlg = 'OFFLINE';\r\n        }\r\n        this.setState({\r\n          printers: printersUpdate,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressPingAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handlePingAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Ping All Printers',\r\n        text: 'Send ping to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressTestAll() {\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleTestAll' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Test All Printers',\r\n        text: 'Send test command to all printers?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    })\r\n  }\r\n\r\n  handleTestAll() {\r\n    const { serviceEntry, home } = this.state;\r\n    let url = serviceEntry + 'api/test-printer';\r\n    const params = new URLSearchParams();\r\n    params.append('userId', home.userId);\r\n    params.append('orgId', home.orgId);\r\n    params.append('locId', home.locId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET',\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post test-printer successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePingAll() {\r\n    const { printers } = this.state;\r\n    printers.forEach(el => this.handlePingPrinter(el));\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleTestAll') {\r\n      this.handleTestAll();\r\n    } else if (text === 'handlePingAll') {\r\n      this.handlePingAll();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { printers, loading,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n    console.log('in printers');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2 === 0) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}>\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.gap}></View>\r\n                <FlatList\r\n                  style={{ flex: 1, width: '100%' }}\r\n                  data={printers}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => {\r\n                    if (index % 2) {\r\n                      return (\r\n                        <TouchableOpacity\r\n                          key={item.recKey}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handlePingPrinter(item)}>\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.iomodelId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              <Text style={[styles.gridFirstRightText, { color: item.statusFlg === 'PING...' ? theme.reserved : item.statusFlg === 'ONLINE' ? theme.vacant : theme.paid }]}>\r\n                                {item.statusFlg === 'ONLINE' ? intl.get('online') : item.statusFlg === 'OFFLINE' ? intl.get('offline') : item.statusFlg}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>{item.printPort}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressPingAll()}>\r\n                <AntDesign\r\n                  name='fork'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>PING {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => this.handlePressTestAll()}>\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('test')} {intl.get('all')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n    textTransform: 'uppercase',\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayEnterDate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dateString: props.dateString ? moment(props.dateString).format('YYYY-MM-DD') : moment(new Date()).format('YYYY-MM-DD'),\r\n      valid: true,\r\n    }\r\n    this.handleValidate = this.handleValidate.bind(this);\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n  }\r\n\r\n  handleValidate(dateString) {\r\n    this.setState({\r\n      dateString,\r\n      valid: moment(dateString, 'YYYY-MM-DD', true).isValid(),\r\n    });\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    const { dateString } = this.state;\r\n    if (type === 'PLUS') {\r\n      let dateStringUpdate = moment(dateString).add(1, 'days').format('YYYY-MM-DD');\r\n\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      let dateStringUpdate = moment(dateString).subtract(1, 'days').format('YYYY-MM-DD');\r\n      this.setState({\r\n        dateString: dateStringUpdate,\r\n        valid: moment(dateStringUpdate, 'YYYY-MM-DD', true).isValid(),\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { dateString, valid } = this.state;\r\n    console.log('in overlayenterdate', this.props);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Enter Date</Text>\r\n          </View>\r\n          <View style={styles.inputRow}>\r\n            <TouchableOpacity style={styles.inputRowFirst}\r\n              onPress={() => this.handleQtyChange('MINUS')}>\r\n              <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n            <View style={styles.inputRowSecond}>\r\n              <TextInput style={[styles.textInput, !valid && { color: theme.paid }]}\r\n                keyboardType='numeric'\r\n                value={dateString}\r\n                onChangeText={(dateString) => this.handleValidate(dateString)}\r\n              />\r\n            </View>\r\n            <TouchableOpacity style={styles.inputRowThird}\r\n              onPress={() => this.handleQtyChange('PLUS')}>\r\n              <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <TouchableOpacity onPress={() => this.setState({ dateString: moment().format('YYYY-MM-DD'), valid: true })}>\r\n            <Text style={styles.overlayText}>YYYY-MM-DD</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { marginTop: 20 }, !valid && { opacity: 0.2 }]}\r\n            disabled={!valid}\r\n            onPress={() => this.props.handleUpdateFromEnterDate(dateString, this.props.dateType)}>\r\n            <Text style={styles.overlayOptionText}>OK</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={[styles.overlayOption, { backgroundColor: theme.paid }]}\r\n            onPress={() => this.props.handleUpdateFromEnterDate('')}>\r\n            <Text style={styles.overlayOptionText}>{intl.get('cancel')}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayOption: {\r\n    height: 60,\r\n    backgroundColor: theme.grey4,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    margin: 5,\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase',\r\n    textAlign: 'center',\r\n  },\r\n  inputRow: {\r\n    height: 60,\r\n    width: '100%',\r\n    marginVertical: 5,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowFirst: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowSecond: {\r\n    flex: 1,\r\n    minWidth: 80,\r\n    width: 150,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowThird: {\r\n    width: 100,\r\n    height: 60,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  textInput: {\r\n    width: '75%',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TouchableOpacity,\r\n  Dimensions, ScrollView,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Report extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n      privileges: props.route.params.masters.privileges,\r\n\r\n      selectedButton: '',\r\n      fromDateString: moment().format('YYYY-MM-DD'),\r\n      toDateString: moment().format('YYYY-MM-DD'),\r\n      reportDetails: '',\r\n      requestedPrivilege: '',\r\n      overlayRequestAccessVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleSelectReport = this.handleSelectReport.bind(this);\r\n    this.handlePrintReport = this.handlePrintReport.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handlePressDate(type) {\r\n    const { fromDateString, toDateString } = this.state;\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n      selectedDateType: type,\r\n      selectedDateString: type === 'FROMDATE' ? fromDateString : toDateString,\r\n    })\r\n  }\r\n\r\n  handleSelectReport(report, superUserId) {\r\n    const { serviceEntry, home, privileges, fromDateString, toDateString } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === report)) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: report,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedButton: report,\r\n    });\r\n    console.log('report');\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: report,\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePrintReport(printer) {\r\n    const { home, serviceEntry, cashierPrinters, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    if (!selectedButton) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer & !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry + 'api/print-bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      fromDateString,\r\n      toDateString,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post print-bistro-report successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, type) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton, fromDateString, toDateString } = this.state;\r\n\r\n    let fromDateStringUpdate = fromDateString;\r\n    let toDateStringUpdate = toDateString;\r\n\r\n    if (type === 'TODATE') {\r\n      toDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    } else {\r\n      fromDateStringUpdate = moment(text).format('YYYY-MM-DD');\r\n    }\r\n\r\n    this.setState({\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    });\r\n\r\n    let url = serviceEntry + 'api/bistro-report';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      shopId: home.shopId,\r\n      reportCode: selectedButton,\r\n      fromDateString: fromDateStringUpdate,\r\n      toDateString: toDateStringUpdate,\r\n    };\r\n    console.log('body', body, url);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          reportDetails: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handlePrintReport(printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, requestedPrivilege } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSelectReport(requestedPrivilege, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, cashierPrinters,\r\n      selectedButton, reportDetails, requestedPrivilege,\r\n      fromDateString, toDateString, selectedDateString, selectedDateType,\r\n      overlayProcedureMessageVisible, overlayEnterDateVisible,\r\n      overlayChoosePrinterVisible, overlayRequestAccessVisible } = this.state;\r\n    console.log('in reports');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            dateType={selectedDateType}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='PRINT REPORT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign\r\n                name='left'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUESUM' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUESUM')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'REVENUESUM' && { color: theme.grey1 }]}>SUMMARY</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'REVENUEDTL' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('REVENUEDTL')}\r\n            >\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>REVENUE</Text>\r\n              <Text style={[styles.selectionText, , selectedButton === 'REVENUEDTL' && { color: theme.grey1 }]}>DETAIL</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n            <TouchableOpacity\r\n              style={[styles.selection, selectedButton === 'COLLECTION' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handleSelectReport('COLLECTION')}\r\n            >\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>PAYMENT</Text>\r\n              <Text style={[styles.selectionText, selectedButton === 'COLLECTION' && { color: theme.grey1 }]}>COLLECTION</Text>\r\n            </TouchableOpacity>\r\n            <View style={styles.gap}></View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('reports')}</Text>\r\n            <View style={styles.gap}></View>\r\n            <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('FROMDATE')}>\r\n                <Text style={styles.overlayTitleText}>{fromDateString}</Text>\r\n              </TouchableOpacity>\r\n              <Text style={styles.overlayTitleText}>    /    </Text>\r\n              <TouchableOpacity style={{ height: 30, justifyContent: 'center', backgroundColor: 'none' }}\r\n                onPress={() => this.handlePressDate('TODATE')}>\r\n                <Text style={styles.overlayTitleText}>{toDateString}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <Text style={[styles.overlayTitleText, { color: theme.paid, opacity: 1 }]}>\r\n              {selectedButton === 'REVENUESUM' ?\r\n                'REVENUE SUMMARY'\r\n                :\r\n                selectedButton === 'REVENUEDTL' ?\r\n                  'REVENUE DETAIL'\r\n                  :\r\n                  selectedButton === 'COLLECTION' ?\r\n                    'PAYMENT COLLECTION'\r\n                    : null}\r\n            </Text>\r\n          </View>\r\n          {\r\n            reportDetails ?\r\n              <ScrollView style={styles.reportContainer}\r\n                showsVerticalScrollIndicator={false}>\r\n                {\r\n                  reportDetails.map((item, index) =>\r\n                    <View style={styles.reportLineContainer}\r\n                      key={item.recKey}\r\n                    >\r\n                      <View style={styles.reportLineFirst}>\r\n                        <Text style={styles.reportLineFirstText}>{item.description}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineSecond}>\r\n                        <Text style={styles.reportLineSecondText}>{item.qty}</Text>\r\n                      </View>\r\n                      <View style={styles.reportLineThird}>\r\n                        <Text style={styles.reportLineThirdText}>{item.val ? item.val.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) : null}</Text>\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                }\r\n              </ScrollView>\r\n              : null\r\n          }\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button, !selectedButton && { opacity: 0.2 }]}\r\n              disabled={!selectedButton}\r\n              onPress={() => this.handlePrintReport()}>\r\n              <AntDesign\r\n                name='printer'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{intl.get('print')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n    alignItems: 'center',\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  selection: {\r\n    width: '100%',\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  reportContainer: {\r\n    flex: 1,\r\n    width: 440,\r\n    borderTopLeftRadius: 5,\r\n    borderTopRightRadius: 5,\r\n    backgroundColor: theme.grey2,\r\n    padding: 20,\r\n  },\r\n  reportLineContainer: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n  },\r\n  reportLineFirst: {\r\n    width: 240,\r\n  },\r\n  reportLineSecond: {\r\n    width: 60,\r\n  },\r\n  reportLineThird: {\r\n    width: 100,\r\n    alignItems: 'flex-end',\r\n  },\r\n  reportLineFirstText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineSecondText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  reportLineThirdText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, ScrollView,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class Reprint extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      cashierPrinters: props.route.params.masters.cashierPrinters,\r\n\r\n      selectedButton: 'ORDERS',\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      searchText: '',\r\n      receiptsxText: '',\r\n\r\n      headers: '',\r\n      pays: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handlePressSearch = this.handlePressSearch.bind(this);\r\n    this.handleSelectButton = this.handleSelectButton.bind(this);\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleReprint = this.handleReprint.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/orders';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('orders', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response,\r\n          availableMasters: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handlePressSearch() {\r\n    const { serviceEntry, home, receiptsxText } = this.state;\r\n    this.setState({\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!receiptsxText) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/receipts-search';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('searchInput', receiptsxText);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas,\r\n          availableMasters: response.receiptmas,\r\n          searches: response.receiptpaydtl,\r\n          details: [],\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, mode) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home, selectedButton } = this.state;\r\n    let url = serviceEntry;\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (selectedButton === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    const dateString = mode === 'LEFT' ?\r\n      moment(text).subtract(1, 'days').format('YYYY-MM-DD')\r\n      : mode === 'RIGHT' ?\r\n        moment(text).add(1, 'days').format('YYYY-MM-DD')\r\n        : moment(text).format('YYYY-MM-DD');\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n            selectedDateString: dateString,\r\n            details: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectButton(type) {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n\r\n    this.setState({\r\n      details: [],\r\n      selectedMaster: '',\r\n      selectedButton: type,\r\n      pays: '',\r\n      headers: '',\r\n    })\r\n\r\n    // early exit for RECEIPTSX \r\n    if (type === 'RECEIPTSX') {\r\n      this.setState({\r\n        masters: [],\r\n        availableMasters: [],\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    if (type === 'ORDERS') {\r\n      url += 'api/orders';\r\n    } else if (type === 'KOTS') {\r\n      url += 'api/kots';\r\n    } else if (type === 'RECEIPTS') {\r\n      url += 'api/receipts';\r\n    } else {\r\n      url += 'api/daycloses';\r\n    }\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('masters', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        if (type === 'RECEIPTS') {\r\n          this.setState({\r\n            masters: response.receiptmas,\r\n            availableMasters: response.receiptmas,\r\n            searches: response.receiptpaydtl,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            masters: response,\r\n            availableMasters: response,\r\n            searches: [],\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry, selectedButton } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry;\r\n    console.log('item', selectedButton, item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + item.recKey + '/items';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + item.recKey + '/bundle';\r\n    } else {\r\n      url += 'api/daycloses/' + item.recKey + '/amts';\r\n    }\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n\r\n        // to state\r\n        if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n          this.setState({\r\n            details: response.receiptitems,\r\n            pays: response.receiptpays,\r\n            headers: response.receiptmas\r\n          });\r\n        } else {\r\n          this.setState({\r\n            details: response,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleReprint(printer) {\r\n    const { serviceEntry, home, cashierPrinters, selectedMaster, selectedButton } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let url = serviceEntry;\r\n    // console.log('item', item);\r\n    if (selectedButton === 'ORDERS') {\r\n      url += 'api/orders/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'KOTS') {\r\n      url += 'api/kots/' + selectedMaster.recKey + '/reprint';\r\n    } else if (selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX') {\r\n      url += 'api/receipts/' + selectedMaster.recKey + '/reprint';\r\n    } else {\r\n      url += 'api/daycloses/' + selectedMaster.recKey + '/reprint';\r\n    }\r\n    console.log('debug', home.defaultPrinter);\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post reprint successful', response);\r\n\r\n        // to state\r\n\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      selectedMaster: '',\r\n      details: [],\r\n      pays: '',\r\n      headers: '',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || item.createUserId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleReprint(printer);\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { cashierPrinters, selectedButton, masters, availableMasters, details, searchText, receiptsxText,\r\n      selectedMaster, selectedDateString,\r\n      pays, headers,\r\n      overlayChoosePrinterVisible, overlayEnterDateVisible, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='REPRINT'\r\n            cashierPrinters={cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <ScrollView\r\n                style={styles.selectionContainer}\r\n                alwaysBounceVertical={false}\r\n                showsVerticalScrollIndicator={false}>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'ORDERS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('ORDERS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'ORDERS' && { color: theme.grey1 }]}>ORDERS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                {/* <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'KOTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('KOTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'KOTS' && { color: theme.grey1 }]}>KOTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View> */}\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTS' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTS')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTS' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'RECEIPTSX' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('RECEIPTSX')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'RECEIPTSX' && { color: theme.grey1 }]}>RECEIPTS</Text>\r\n                  <Text style={[styles.selectionText, { color: theme.paid }]}>UNKNOWN DATE</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n                <TouchableOpacity\r\n                  style={[styles.selection, selectedButton === 'DAYCLOSES' && { backgroundColor: 'white' }]}\r\n                  onPress={() => this.handleSelectButton('DAYCLOSES')}>\r\n                  <Text style={[styles.selectionText, selectedButton === 'DAYCLOSES' && { color: theme.grey1 }]}>DAY CLOSES</Text>\r\n                </TouchableOpacity>\r\n                <View style={styles.gap}></View>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                {\r\n                  selectedButton !== 'RECEIPTSX' ?\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={searchText}\r\n                        onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                          Keyboard.dismiss()\r\n                        }}\r\n                      >\r\n                        <AntDesign name='close' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    :\r\n                    <View style={styles.searchBox}>\r\n                      <TextInput style={styles.searchBoxInputValue}\r\n                        placeholder='ENTER SEARCH TEXT'\r\n                        placeholderTextColor='rgba(255,255,255,0.2)'\r\n                        value={receiptsxText}\r\n                        onChangeText={(text) => this.setState({ receiptsxText: text })}\r\n                      >\r\n                      </TextInput>\r\n                      <TouchableOpacity style={styles.searchBoxButton}\r\n                        onPress={() => {\r\n                          this.handlePressSearch();\r\n                          Keyboard.dismiss();\r\n                        }}\r\n                      >\r\n                        <AntDesign name='search1' size={24} color={theme.grey4} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                }\r\n                <View style={styles.searchBoxInfo}>\r\n                  {\r\n                    selectedButton !== 'RECEIPTSX' &&\r\n                    <View style={{ flex: 1, flexDirection: 'row' }}>\r\n                      <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                        onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'LEFT')}>\r\n                        <AntDesign name=\"doubleleft\" size={14} color={theme.grey5} />\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                        onPress={() => this.handlePressDate()}>\r\n                        <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                        onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'RIGHT')}>\r\n                        <AntDesign name=\"doubleright\" size={14} color={theme.grey5} />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  }\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{selectedButton === 'RECEIPTSX' && moment(item.createDate).format(\"YYYY-MM-DD \")}{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedButton === 'RECEIPTS' || selectedButton === 'RECEIPTSX' ?\r\n                  <View style={styles.gridContainer}>\r\n                    <View style={styles.overlayHeader}>\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </View>\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>Qty</Text>\r\n                      </View>\r\n                      <View style={styles.titleSecondContainer}>\r\n                        <Text style={styles.titleText}>Desc</Text>\r\n                      </View>\r\n                      <View style={styles.titleThirdContainer}>\r\n                        <Text style={styles.titleText}>Price</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Total</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={details}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item }) => (\r\n                        <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                          <TouchableOpacity style={styles.tableItemSecondContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.refRecKey ? '- ' : null}{item.menuName}\r\n                            </Text>\r\n                            {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemThirdContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.netPrice && item.netPrice.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={styles.searchBoxInfo}>\r\n                      <View style={styles.titleFirstContainer}>\r\n                        <Text style={styles.titleText}>No.</Text>\r\n                      </View>\r\n                      <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                        <Text style={styles.titleText}>PM ID</Text>\r\n                      </View>\r\n                      <View style={styles.titleFourthContainer}>\r\n                        <Text style={styles.titleText}>Amount</Text>\r\n                      </View>\r\n                    </View>\r\n                    <FlatList\r\n                      style={{ flex: 1 }}\r\n                      data={pays}\r\n                      keyExtractor={item => item.recKey.toString()}\r\n                      renderItem={({ item, index }) => (\r\n                        <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                          <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                          <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.pmId}\r\n                            </Text>\r\n                            {\r\n                              item.payRef &&\r\n                              <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                                {item.payRef}\r\n                              </Text>\r\n                            }\r\n                          </TouchableOpacity>\r\n                          <View style={styles.tableItemFourthContainer}>\r\n                            <Text style={styles.tableItemText}>\r\n                              {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                            </Text>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      )}\r\n                    />\r\n                    <View style={{ flex: 1 }}>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>DISCOUNT</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={styles.gridContainer}>\r\n                    <TouchableOpacity style={styles.overlayHeader}\r\n                      onPress={() => this.setState({ selectedMaster: '', details: [] })}>\r\n                      <Text style={styles.overlayTitleText}>{selectedMaster ? (selectedMaster.tableId || ' ') : ' '}</Text>\r\n                      <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n                    </TouchableOpacity>\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                            <Text style={styles.titleText}>Payment Method</Text>\r\n                          </View>\r\n                          <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                            <Text style={styles.titleText}>Amount</Text>\r\n                          </View>\r\n                        </View>\r\n                        :\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <View style={styles.titleFirstContainer}>\r\n                            <Text style={styles.titleText}>Qty</Text>\r\n                          </View>\r\n                          <View style={styles.titleSecondContainer}>\r\n                            <Text style={styles.titleText}>Desc</Text>\r\n                          </View>\r\n                          <View style={styles.titleThirdContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Price'}</Text>\r\n                          </View>\r\n                          <View style={styles.titleFourthContainer}>\r\n                            <Text style={styles.titleText}>{selectedButton !== 'KOTS' && 'Total'}</Text>\r\n                          </View>\r\n                        </View>\r\n                    }\r\n                    {\r\n                      selectedButton === 'DAYCLOSES' ?\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.pmId}\r\n                                </Text>\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  ${item.systemAmt && item.systemAmt.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                        :\r\n                        <FlatList\r\n                          style={{ flex: 1 }}\r\n                          data={details}\r\n                          keyExtractor={item => item.recKey.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                              <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                              <TouchableOpacity style={styles.tableItemSecondContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {item.refRecKey ? '- ' : null}{item.menuName}\r\n                                </Text>\r\n                                {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                              </TouchableOpacity>\r\n                              <View style={styles.tableItemThirdContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.netPrice && item.netPrice.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.tableItemFourthContainer}>\r\n                                <Text style={styles.tableItemText}>\r\n                                  {selectedButton !== 'KOTS' && '$'}{item.lineTotal && item.lineTotal.toFixed(2)}\r\n                                </Text>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                    }\r\n                  </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMaster && { opacity: 0.2 }]}\r\n                disabled={!selectedMaster}\r\n                onPress={() => this.handleReprint()}>\r\n                <AntDesign\r\n                  name='printer'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('reprint')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 70,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity,\r\n  Dimensions, ScrollView, FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Resequence extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      selectedTableItems: [],\r\n      arrangedItems: props.route.params.tableItems.filter(el => el.confirmFlg === 'N'),\r\n\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleReset = this.handleReset.bind(this);\r\n    this.handleAddLineBreak = this.handleAddLineBreak.bind(this);\r\n    this.handleRemoveLineBreak = this.handleRemoveLineBreak.bind(this);\r\n    this.handleResequence = this.handleResequence.bind(this);\r\n    this.handleShiftTop = this.handleShiftTop.bind(this);\r\n    this.handleShiftUp = this.handleShiftUp.bind(this);\r\n    this.handleShiftDown = this.handleShiftDown.bind(this);\r\n    this.handleShiftBottom = this.handleShiftBottom.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('menu selected', item);\r\n    const { selectedTableItems, arrangedItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = [];\r\n    selectedTableItemsUpdate.push(item);\r\n    let comboItems = [];\r\n    comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n    console.log('comboItems', comboItems);\r\n    comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleReset() {\r\n    this.setState({\r\n      arrangedItems: this.state.tableItems.filter(el => el.confirmFlg === 'N'),\r\n      selectedTableItems: [],\r\n    });\r\n  }\r\n\r\n  handleAddLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'Y';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleRemoveLineBreak() {\r\n    const { arrangedItems, selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) return;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    const index = arrangedItemsUpdate.indexOf(arrangedItemsUpdate.find(el => el.recKey === selectedTableItems[0].recKey));\r\n    arrangedItemsUpdate[index].lineBreak = 'N';\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftTop() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.unshift(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToOffset({ animated: true, offset: 0 }));\r\n  }\r\n\r\n  handleShiftUp() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === 0) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index - 1;\r\n    if (arrangedItems[spliceIndex].refRecKey) {\r\n      spliceIndex = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === arrangedItems[index - 1].refRecKey));\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftDown() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    let index = arrangedItems.indexOf(arrangedItems.find(obj => obj.recKey === selectedTableItems[0].recKey));\r\n    if (index === arrangedItems.length - selectedTableItems.length) return;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    let spliceIndex = index + 1;\r\n    if (arrangedItemsUpdate.some(el => el.refRecKey === arrangedItemsUpdate[index].recKey)) {\r\n      let skip = arrangedItems.filter(el => el.refRecKey === arrangedItemsUpdate[index].recKey).length;\r\n      console.log('skip', skip);\r\n      spliceIndex += skip;\r\n    }\r\n    arrangedItemsUpdate.splice(spliceIndex, 0, ...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleShiftBottom() {\r\n    const { selectedTableItems, arrangedItems } = this.state;\r\n    let arrangedItemsUpdate = arrangedItems;\r\n    selectedTableItems.forEach(el => {\r\n      arrangedItemsUpdate = arrangedItemsUpdate.filter(obj => obj.recKey !== el.recKey)\r\n    });\r\n    arrangedItemsUpdate.push(...selectedTableItems);\r\n    this.setState({\r\n      arrangedItems: arrangedItemsUpdate,\r\n    }, () => this.scrollViewRef.scrollToEnd());\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleResequence() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, tableItems, arrangedItems } = this.state;\r\n\r\n    // count sent table items\r\n    let skip = tableItems.filter(el => el.confirmFlg === 'Y').length;\r\n    console.log('skip', skip);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/resequence';\r\n    const itemPayloads = arrangedItems.map((el, index) =>\r\n    ({\r\n      opentableItemRecKey: el.recKey,\r\n      lineNo: el.lineNo,\r\n      newLineNo: index + 1 + skip,\r\n      lineBreak: el.lineBreak,\r\n    })\r\n    );\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      itemPayloads: itemPayloads,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post resequence successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Resequence Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, tableItems, arrangedItems, selectedTableItems,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in resequence', selectedTableItems, arrangedItems);\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleReset()}>\r\n              <AntDesign name='reload1' size={36} color='white' />\r\n              <Text style={styles.buttonText}>Reset</Text>\r\n            </TouchableOpacity>\r\n            {\r\n              !selectedTableItems[0] ?\r\n                <View style={[styles.button, { opacity: 0.2 }]}>\r\n                  <AntDesign name='minus' size={36} color='white' />\r\n                  <Text style={styles.buttonText}>Add Break</Text>\r\n                </View>\r\n                :\r\n                selectedTableItems[0].lineBreak === 'Y' ?\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleRemoveLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Remove Break</Text>\r\n                  </TouchableOpacity>\r\n                  :\r\n                  <TouchableOpacity style={styles.button}\r\n                    onPress={() => this.handleAddLineBreak()}>\r\n                    <AntDesign name='minus' size={36} color='white' />\r\n                    <Text style={styles.buttonText}>Add Break</Text>\r\n                  </TouchableOpacity>\r\n            }\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => this.handleResequence()}>\r\n              <AntDesign name='bars' size={36} color={theme.reserved} />\r\n              <Text style={[styles.buttonText, { color: theme.reserved }]}>Confirm</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('resequence')}</Text>\r\n          </View>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={arrangedItems}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <View>\r\n                {\r\n                  item.lineBreak === 'Y' &&\r\n                  <View style={styles.lineBreakContainer}>\r\n                    <Text style={[styles.tableItemText, { color: theme.paid }]}>- Line Break -</Text>\r\n                  </View>\r\n                }\r\n                <TouchableOpacity\r\n                  disabled={item.refRecKey ? true : false}\r\n                  style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                  onPress={() => this.handleSelectTableItem(item)}>\r\n                  <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                  <View style={styles.tableItemSecondContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                      {item.refRecKey && '- '}{item.menuName}\r\n                    </Text>\r\n                    {\r\n                      item.menuMod &&\r\n                      <Text style={styles.tableItemModText}>{item.menuMod}</Text>\r\n                    }\r\n                  </View>\r\n                  <View style={styles.tableItemThirdContainer}>\r\n                    <Text style={styles.tableItemText}>\r\n                    </Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <ScrollView style={{ flex: 1 }}\r\n            alwaysBounceVertical={false}\r\n            showsVerticalScrollIndicator={false}>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftTop()}>\r\n              <AntDesign name='arrowup' size={36} color='white' />\r\n              <Text style={styles.buttonText}>TOP</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftUp()}>\r\n              <AntDesign name='up' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftDown()}>\r\n              <AntDesign name='down' size={36} color='white' />\r\n              <Text style={styles.buttonText}>SHIFT</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button, selectedTableItems.length !== 0 ? null : { opacity: 0.2 }]}\r\n              disabled={selectedTableItems.length === 0}\r\n              onPress={() => this.handleShiftBottom()}>\r\n              <AntDesign name='arrowdown' size={36} color='white' />\r\n              <Text style={styles.buttonText}>BOTTOM</Text>\r\n            </TouchableOpacity>\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: 50,\r\n  },\r\n  lineBreakContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Transfer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      tableItems: props.route.params.tableItems,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      tables: [],\r\n      availableTables: [],\r\n      selectedTargetTable: '',\r\n      selectedTableItems: [],\r\n      searchText: '',\r\n\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n    };\r\n    this.handleSelectTargetTable = this.handleSelectTargetTable.bind(this);\r\n    this.handlePressSelectAll = this.handlePressSelectAll.bind(this);\r\n    this.handleSelectTableItem = this.handleSelectTableItem.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    params.append('statusFlg', 'C');\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          tables: response.filter(el => el.recKey !== selectedTable.recKey),\r\n          availableTables: response.filter(el => el.recKey !== selectedTable.recKey),\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  generateTextForSelectAll() {\r\n    const { selectedTableItems } = this.state;\r\n    if (selectedTableItems.length === 0) {\r\n      return 'SELECT ALL';\r\n    } else {\r\n      return 'DESELECT ALL';\r\n    }\r\n  }\r\n\r\n  handlePressSelectAll() {\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    if (selectedTableItems.length === 0) {\r\n      this.setState({\r\n        selectedTableItems: tableItems,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedTableItems: [],\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSelectTargetTable(item) {\r\n    this.setState({\r\n      selectedTargetTable: item,\r\n    })\r\n  }\r\n\r\n  handleSelectTableItem(item) {\r\n    console.log('tableitem selected', item);\r\n    const { selectedTableItems, tableItems } = this.state;\r\n\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n\r\n    if (!selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate.push(item);\r\n      let comboItems = [];\r\n      comboItems = tableItems.filter(el => el.refRecKey === item.recKey);\r\n      console.log('comboItems', comboItems);\r\n      comboItems.forEach(el => selectedTableItemsUpdate.push(el));\r\n    } else {\r\n      selectedTableItemsUpdate = selectedTableItemsUpdate.filter(el => el.recKey !== item.recKey && el.refRecKey !== item.recKey);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    });\r\n  }\r\n\r\n  handleSubmit(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { selectedTable, selectedTableItems, selectedTargetTable, home, serviceEntry, privileges, settings } = this.state;\r\n\r\n    if (selectedTableItems.length === 0 || !selectedTargetTable) {\r\n      return;\r\n    }\r\n\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'TRANSFERITEMS')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // convert array to string without items with refRecKey\r\n    let converted = selectedTableItems.filter(el => !el.refRecKey).map(el => el.recKey).reduce((init, el) => { return init + el + ','; }, '');\r\n    console.log('converted', converted);\r\n\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/transfer-items';\r\n    const body = {\r\n      userId: home.userId,\r\n      opentableRecKeyFrom: selectedTable.recKey,\r\n      opentableRecKeyTo: selectedTargetTable.recKey,\r\n      opentableItemRecKeys: converted,\r\n      superUserId: superUserId,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post transfer-items successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Transfer Items',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            selectedTargetTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { tables, availableTables, searchText } = this.state;\r\n    let availableTablesUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableTablesUpdate = tables;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableTables: availableTablesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableTablesUpdate = availableTablesUpdate.filter(item => {\r\n      return item.tableId.toUpperCase().includes(caseText) || item.sectionId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableTables: availableTablesUpdate\r\n    });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, selectedTable, selectedTargetTable } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'TRANSFERITEMS',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access TRANSFERITEMS',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleSubmit(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { tableItems, home, selectedTargetTable, availableTables, searchText, selectedTableItems,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible } = this.state;\r\n    console.log('in transfer');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='TRANSFERITEM'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3, alignItems: 'center', justifyContent: 'center' }]}>\r\n                  <TouchableOpacity\r\n                    onPress={() => this.handlePressSelectAll()}\r\n                  >\r\n                    <Text style={styles.titleText}>{this.generateTextForSelectAll()}</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      onPress={() => this.handleSelectTableItem(item)}\r\n                      disabled={item.refRecKey ? true : false}\r\n                    >\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={[styles.searchBoxInfo, { justifyContent: 'center' }]}>\r\n                  <Text style={styles.searchBoxInfoText}>{availableTables.length} ITEMS</Text>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableTables}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedTargetTable.tableId === item.tableId && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectTargetTable(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.sectionId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={[styles.gridFirstRightText, selectedTargetTable.tableId === item.tableId ? { color: 'white' } : { color: theme.occupied }]}>OCCUPIED</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.tableId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedTargetTable || selectedTableItems.length === 0) && { opacity: 0.2 }]}\r\n                onPress={() => this.handleSubmit()}\r\n                disabled={!selectedTargetTable || selectedTableItems.length === 0}\r\n              >\r\n                <AntDesign\r\n                  name='export'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('transfer')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: theme.reserved,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard,\r\n  FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class OverlayVoidReceipt extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      overlaySearchText: '',\r\n      returns: props.returns,\r\n      availableReturns: props.returns,\r\n      selectedReturn: '',\r\n\r\n      remarks: '',\r\n    };\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { returns, availableReturns } = this.state;\r\n    let availableReturnsUpdate = [];\r\n    this.setState({ overlaySearchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', this.state.availableReturns);\r\n\r\n    availableReturnsUpdate = returns;\r\n    if (!text) {\r\n      this.setState({\r\n        availableReturns: availableReturnsUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableReturnsUpdate = availableReturnsUpdate.filter(item => {\r\n      return item.returnId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableReturns: availableReturnsUpdate\r\n    });\r\n  }\r\n\r\n  handleSubmit(item) {\r\n    const { remarks } = this.state;\r\n    let itemWithRemarks = item;\r\n    itemWithRemarks.remarks = remarks;\r\n\r\n    this.props.handleUpdateFromVoidReceipt(itemWithRemarks);\r\n  }\r\n\r\n  render() {\r\n    const { overlaySearchText, availableReturns, remarks } = this.state;\r\n    console.log('in overlayvoidreceipt, state', this.state);\r\n\r\n    return (\r\n      <View style={styles.overlay}>\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>Void Receipt</Text>\r\n          </View>\r\n          <View style={[styles.searchBoxWrapper, { marginBottom: 10 }]}>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER REMARKS'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(remarks) => this.setState({ remarks })}\r\n                value={remarks}\r\n              />\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxWrapper}>\r\n            <TouchableOpacity style={styles.overlayBackButton}\r\n              onPress={() => this.props.handleUpdateFromVoidReceipt('')}\r\n            >\r\n              <AntDesign name='close' size={24} color='white' />\r\n            </TouchableOpacity>\r\n            <View style={styles.overlaySearchBox}>\r\n              <TextInput style={styles.overlaySearchBoxInput}\r\n                placeholder='ENTER SEARCH TEXT'\r\n                placeholderTextColor='rgba(255,255,255,0.2)'\r\n                onChangeText={(searchText) => this.handleOverlaySearchText(searchText)}\r\n                value={overlaySearchText}\r\n              >\r\n              </TextInput>\r\n              <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                onPress={() => {\r\n                  this.setState({ overlaySearchText: '' }, () => this.handleOverlaySearchText(''))\r\n                  Keyboard.dismiss()\r\n                }}\r\n              >\r\n                <AntDesign name='close' size={24} color={theme.grey4} />\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.searchBoxInfo}>\r\n            <Text style={styles.searchBoxInfoText}>{availableReturns.length} ITEMS</Text>\r\n          </View>\r\n          <FlatList\r\n            style={[{ flex: 1 }]}\r\n            data={availableReturns}\r\n            keyExtractor={item => item.recKey.toString()}\r\n            renderItem={({ item }) => (\r\n              <TouchableOpacity\r\n                style={[styles.overlayGrid]}\r\n                onPress={() => this.handleSubmit(item)}>\r\n                <View style={styles.overlayGridFirst}>\r\n                  <View style={styles.overlayGridFirstLeft}>\r\n                    <Text style={styles.overlayGridFirstLeftText}>{item.returnId}</Text>\r\n                  </View>\r\n                  <View style={styles.overlayGridFirstRight}>\r\n                    <Text style={styles.overlayGridFirstRightText}></Text>\r\n                  </View>\r\n                </View>\r\n                <View style={styles.overlayGridSecond}>\r\n                  <Text style={styles.overlayGridSecondText}>\r\n                    {item.name}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.overlayGridThird}>\r\n                  <View style={styles.overlayGridThirdLeft}>\r\n                  </View>\r\n                  <View style={styles.overlayGridThirdRight}>\r\n                    <Text style={styles.overlayGridThirdRightText}></Text>\r\n                  </View>\r\n                </View>\r\n              </TouchableOpacity>\r\n            )}\r\n          />\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: 'rgba(0,0,0,0.9)',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    width: '40%',\r\n    height: '80%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    marginHorizontal: 5,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlayBackButton: {\r\n    // backgroundColor: 'white',\r\n    width: 50,\r\n    height: 50,\r\n    borderRadius: 50,\r\n    marginHorizontal: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.vacant,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayVoidReceipt from './OverlayVoidReceipt';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Void extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayVoidReceiptVisible: false,\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayRequestAccessVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      mode: 'VOID',\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleVoid = this.handleVoid.bind(this);\r\n    this.handlePressVoid = this.handlePressVoid.bind(this);\r\n    this.handlePressReopen = this.handlePressReopen.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromVoidReceipt = this.handleUpdateFromVoidReceipt.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n    console.log('item', item);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('details', response);\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, mode) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = mode === 'LEFT' ?\r\n      moment(text).subtract(1, 'days').format('YYYY-MM-DD')\r\n      : mode === 'RIGHT' ?\r\n        moment(text).add(1, 'days').format('YYYY-MM-DD')\r\n        : moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: dateString,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings, requestedPrivilege, selectedPrinter, selectedReturn } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: requestedPrivilege,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access ' + requestedPrivilege,\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleVoid(selectedReturn, selectedPrinter, response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleReopen') {\r\n      navigation.goBack();\r\n    }\r\n  }\r\n\r\n  handleUpdateFromVoidReceipt(text) {\r\n    this.setState({ overlayVoidReceiptVisible: false });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      selectedReturn: text,\r\n    })\r\n    this.handleVoid(text);\r\n  }\r\n\r\n  handlePressReopen() {\r\n    this.setState({\r\n      mode: 'REOPEN',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handlePressVoid() {\r\n    this.setState({\r\n      mode: 'VOID',\r\n    });\r\n    this.handleVoid();\r\n  }\r\n\r\n  handleVoid(item, printer, superUserId) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString, mode, } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (!item) {\r\n      this.setState({\r\n        overlayVoidReceiptVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n        requestedPrivilege: 'VOIDRECEIPT',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    if (mode === 'REOPEN') {\r\n      url = serviceEntry + 'api/void-receipt-reopen';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    } else {\r\n      url = serviceEntry + 'api/void-receipt';\r\n      body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        receiptRecKey: selectedMaster.recKey,\r\n        returnId: item.returnId,\r\n        superUserId: superUserId,\r\n        iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n        docDateString: selectedDateString,\r\n        remarks: item.remarks,\r\n      };\r\n      console.log('body', body);\r\n    }\r\n    // return;\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post void-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'REOPEN' ? 'Reopen Receipt' : 'Void Receipt',\r\n            home.userName,\r\n            response.message,\r\n            (mode === 'REOPEN' && !response.message) ? response.opentable.tableId : '',\r\n            '',\r\n            selectedMaster.recKey + ',' + selectedMaster.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        if (mode === 'REOPEN') {\r\n          this.props.route.params.handleUpdateFromVoid(response);\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully, reopened Table ' + response.opentable.tableId,\r\n              ok: false,\r\n              cancel: false,\r\n              options: [{ text: 'Ok', handleText: 'handleReopen' }],\r\n            },\r\n            overlayAlertVisible: true,\r\n            reopenResponse: response,\r\n            loading: false,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            overlayAlertInputValue: {\r\n              title: 'ALERT',\r\n              subtitle: 'Procedure Reply',\r\n              text: 'Receipt voided successfully',\r\n              ok: true,\r\n              cancel: false,\r\n              options: [],\r\n            },\r\n            overlayAlertVisible: true,\r\n            masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n            searches: response.receiptpaydtl,\r\n            selectedMaster: '',\r\n            headers: '',\r\n            details: '',\r\n            pays: '',\r\n            loading: false,\r\n          })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayRequestAccessVisible, overlayProcedureMessageVisible,\r\n      overlayVoidReceiptVisible, overlayAlertVisible, overlayAlertInputValue, requestedPrivilege,\r\n      loading, } = this.state;\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayVoidReceiptVisible &&\r\n          <OverlayVoidReceipt\r\n            returns={this.props.route.params.masters.returns}\r\n            handleUpdateFromVoidReceipt={this.handleUpdateFromVoidReceipt} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege={requestedPrivilege}\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ flex: 1, flexDirection: 'row' }}>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'LEFT')}>\r\n                      <AntDesign name=\"doubleleft\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                      onPress={() => this.handlePressDate()}>\r\n                      <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'RIGHT')}>\r\n                      <AntDesign name=\"doubleright\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressVoid()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.paid}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.paid }]}>{intl.get('void')}</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                onPress={() => this.handlePressReopen()}\r\n                disabled={!selectedMaster || loading}\r\n              >\r\n                <AntDesign\r\n                  name='exception1'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('reopen')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList,\r\n} from 'react-native';\r\nimport moment from 'moment';\r\nimport intl from 'react-intl-universal';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport OverlayChoosePrinter from './OverlayChoosePrinter';\r\nimport OverlayEnterDate from './OverlayEnterDate';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Collect extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      masters: [],\r\n      availableMasters: [],\r\n      searches: [],\r\n      selectedMaster: '',\r\n      details: [],\r\n      headers: [],\r\n      searchText: '',\r\n\r\n      selectedDateString: moment(new Date()).format('YYYY-MM-DD'),\r\n\r\n      overlayEnterDateVisible: false,\r\n      overlayChoosePrinterVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n\r\n      loading: false,\r\n      reopenResponse: '',\r\n    };\r\n    this.handleSelectMaster = this.handleSelectMaster.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handlePressDate = this.handlePressDate.bind(this);\r\n    this.handleUpdateFromEnterDate = this.handleUpdateFromEnterDate.bind(this);\r\n    this.handleUpdateFromChoosePrinter = this.handleUpdateFromChoosePrinter.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntry, home, selectedDateString } = this.state;\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', selectedDateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSelectMaster(item) {\r\n    const { serviceEntry } = this.state;\r\n    this.setState({\r\n      selectedMaster: item,\r\n    });\r\n    let url = serviceEntry + 'api/receipts/' + item.recKey + '/bundle';\r\n\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // to state\r\n        this.setState({\r\n          details: response.receiptitems,\r\n          pays: response.receiptpays,\r\n          headers: response.receiptmas,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { masters, availableMasters, searchText, searches } = this.state;\r\n    let availableMastersUpdate = [];\r\n    this.setState({ searchText: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n\r\n    availableMastersUpdate = masters;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMasters: availableMastersUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMastersUpdate = availableMastersUpdate.filter(item => {\r\n\r\n      let c1 = searches.filter(el => el.payMoney === Number(caseText));\r\n      let c2 = searches.filter(el => el.pmId.toUpperCase().includes(caseText));\r\n\r\n      return item.docId.toUpperCase().includes(caseText)\r\n        || item.tableId.toUpperCase().includes(caseText)\r\n        || c1.some(el => el.docId === item.docId)\r\n        || c2.some(el => el.docId === item.docId);\r\n    });\r\n    this.setState({\r\n      availableMasters: availableMastersUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDate() {\r\n    this.setState({\r\n      overlayEnterDateVisible: true,\r\n    })\r\n  }\r\n\r\n  handleUpdateFromEnterDate(text, mode) {\r\n    this.setState({\r\n      overlayEnterDateVisible: false,\r\n      selectedMaster: '',\r\n      headers: '',\r\n      details: '',\r\n      pays: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    const { serviceEntry, home } = this.state;\r\n    const dateString = mode === 'LEFT' ?\r\n      moment(text).subtract(1, 'days').format('YYYY-MM-DD')\r\n      : mode === 'RIGHT' ?\r\n        moment(text).add(1, 'days').format('YYYY-MM-DD')\r\n        : moment(text).format('YYYY-MM-DD');\r\n    let url = serviceEntry + 'api/deposit-receipts';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    params.append('docDateString', dateString);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('receipts', response);\r\n        if (response.message) {\r\n          console.log(response.message);\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedDateString: dateString,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromChoosePrinter(printer, purpose) {\r\n    const { selectedReturn } = this.state;\r\n    this.setState({\r\n      overlayChoosePrinterVisible: false,\r\n      selectedPrinter: printer,\r\n    });\r\n    if (!printer) {\r\n      return;\r\n    }\r\n    this.handleVoid(selectedReturn, printer);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { navigation } = this.props;\r\n    const { reopenResponse } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressCollect(printer) {\r\n    const { serviceEntry, home, settings, selectedMaster, selectedDateString } = this.state;\r\n\r\n    if (!selectedMaster) {\r\n      return;\r\n    }\r\n\r\n    if (this.props.route.params.masters.cashierPrinters.length > 1 && !printer && !home.defaultPrinter) {\r\n      this.setState({\r\n        overlayChoosePrinterVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // disable button\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    let url = '';\r\n    let body = '';\r\n    url = serviceEntry + 'api/collection-receipt';\r\n    body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      receiptRecKey: selectedMaster.recKey,\r\n      iomodelId: (home.defaultPrinter && home.defaultPrinter.iomodelId) || (printer && printer.iomodelId),\r\n      docDateString: selectedDateString,\r\n    };\r\n    console.log('body', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post collect-receipt successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Collect Receipt',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            selectedMaster.recKey,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayAlertInputValue: {\r\n            title: 'ALERT',\r\n            subtitle: 'Procedure Reply',\r\n            text: 'Receipt collected successfully',\r\n            ok: true,\r\n            cancel: false,\r\n            options: [],\r\n          },\r\n          overlayAlertVisible: true,\r\n          masters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          availableMasters: response.receiptmas.filter(el => el.statusFlg === 'E'),\r\n          searches: response.receiptpaydtl,\r\n          selectedMaster: '',\r\n          headers: '',\r\n          details: '',\r\n          pays: '',\r\n          loading: false,\r\n        })\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, masters, availableMasters, details, pays, headers, searchText, selectedMaster, selectedDateString,\r\n      overlayEnterDateVisible, overlayChoosePrinterVisible, overlayProcedureMessageVisible,\r\n      overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    // console.log('in reprint state', this.state);\r\n    console.log('in reprint');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayChoosePrinterVisible &&\r\n          <OverlayChoosePrinter\r\n            printPurpose='VOID RECEIPT'\r\n            cashierPrinters={this.props.route.params.masters.cashierPrinters}\r\n            handleUpdateFromChoosePrinter={this.handleUpdateFromChoosePrinter} />\r\n        }\r\n        {\r\n          overlayEnterDateVisible &&\r\n          <OverlayEnterDate\r\n            dateString={selectedDateString}\r\n            handleUpdateFromEnterDate={this.handleUpdateFromEnterDate} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  >\r\n                  </TextInput>\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}\r\n                  >\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ flex: 1, flexDirection: 'row' }}>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'LEFT')}>\r\n                      <AntDesign name=\"doubleleft\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                      onPress={() => this.handlePressDate()}>\r\n                      <Text style={styles.searchBoxInfoText}>{selectedDateString}</Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={{ flex: 0.5, justifyContent: 'center', alignItems: 'center' }}\r\n                      onPress={() => this.handleUpdateFromEnterDate(selectedDateString, 'RIGHT')}>\r\n                      <AntDesign name=\"doubleright\" size={14} color={theme.grey5} />\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMasters.length} DOCS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={availableMasters}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.grid, selectedMaster.recKey === item.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.handleSelectMaster(item)}\r\n                    >\r\n                      <View style={styles.gridFirst}>\r\n                        <View style={styles.gridFirstLeft}>\r\n                          <Text style={styles.gridFirstLeftText}>{item.tableId}</Text>\r\n                        </View>\r\n                        <View style={styles.gridFirstRight}>\r\n                          <Text style={styles.gridFirstRightText}>{item.createUserId}</Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.gridSecond}>\r\n                        <Text style={styles.gridSecondText}>\r\n                          {item.docId}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.gridThird}>\r\n                        <View style={styles.gridThirdLeft}>\r\n                        </View>\r\n                        <View style={styles.gridThirdRight}>\r\n                          <Text style={styles.gridThirdRightText}>{moment(item.createDate).format(\"HH:mm\")}</Text>\r\n                        </View>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.overlayHeader}>\r\n                <Text style={styles.overlayTitleText}>{selectedMaster ? selectedMaster.tableId : ' '}</Text>\r\n                <Text style={styles.overlaySubtitleText}>{selectedMaster ? selectedMaster.docId : ' '}</Text>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 3 }]}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={details}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <TouchableOpacity style={styles.tableItemSecondContainer}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ${item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>No.</Text>\r\n                  </View>\r\n                  <View style={[styles.titleSecondContainer, { flex: 10 }]}>\r\n                    <Text style={styles.titleText}>PM ID</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Amount</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={pays}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item, index }) => (\r\n                    <TouchableOpacity style={[styles.tableItemContainer]}>\r\n                      <View style={styles.tableItemFirstContainer}><Text style={styles.tableItemText}>{index + 1}</Text></View>\r\n                      <TouchableOpacity style={[styles.tableItemSecondContainer, { flex: 10 }]}\r\n                      >\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.pmId}\r\n                        </Text>\r\n                        {\r\n                          item.payRef &&\r\n                          <Text style={[styles.tableItemText, { color: theme.reserved }]}>\r\n                            {item.payRef}\r\n                          </Text>\r\n                        }\r\n                      </TouchableOpacity>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.payMoney && '$' + item.payMoney.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={[styles.gridContainer, { flex: 2, backgroundColor: 'none' }]}>\r\n                <View style={{ flex: 1, width: '100%' }}>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SUBTOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.beforeDisc && headers.beforeDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>DISCOUNT</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.totalDisc && headers.totalDisc.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={styles.titleText}>SVC CHARGE</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={styles.titleText}>{headers.serviceCharge && headers.serviceCharge.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                  <View style={{ flex: 1, marginHorizontal: 60, flexDirection: 'row' }}>\r\n                    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>TOTAL</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                      <Text style={[styles.titleText, { color: 'white' }]}>{headers.grandTotal && headers.grandTotal.toFixed(2)}</Text>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (!selectedMaster || loading) && { opacity: 0.2 }]}\r\n                disabled={!selectedMaster || loading}\r\n                onPress={() => this.handlePressCollect()}>\r\n                <AntDesign\r\n                  name='gift'\r\n                  color={theme.reserved}\r\n                  size={36}\r\n                />\r\n                <Text style={[styles.buttonText, { color: theme.reserved }]}>{intl.get('collect')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginTop: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions, FlatList,\r\n} from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport { AntDesign, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Table extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n      mode: props.route.params.mode,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      vipSources: props.route.params.masters.vipSources,\r\n      availableVipSources: props.route.params.masters.vipSources,\r\n\r\n      overlayPax: props.route.params.mode === 'NEW' ? (props.route.params.selectedTable.capacity || 0) : (props.route.params.selectedTable.pax || 0),\r\n      overlayVip: props.route.params.mode === 'NEW' ? null\r\n        : {\r\n          vipId: props.route.params.selectedTable.vipId || '',\r\n          vipName: props.route.params.selectedTable.vipName || '',\r\n          vipDisc: props.route.params.selectedTable.vipDisc || '',\r\n          vipPhone: props.route.params.selectedTable.vipPhone || '',\r\n          cumPts: props.route.params.selectedTable.cumPts || '',\r\n          vipPtsMoney: props.route.params.selectedTable.vipPtsMoney || '',\r\n          classId: props.route.params.selectedTable.classId || '',\r\n        },\r\n      overlayValidateVipId: '',\r\n      overlayValidateCardNumber: '',\r\n      overlayValidateNric: '',\r\n      overlayValidateVipName: '',\r\n      overlayValidateVipPhone: '',\r\n      overlayValidateVipPhoneCountryCode: '', // 65\r\n      overlayValidateEmailAddress: '',\r\n\r\n      vipResults: '',\r\n      selectedVipResult: '',\r\n\r\n      overlaySource: props.route.params.mode === 'NEW' ? ''\r\n        : {\r\n          sourceId: props.route.params.selectedTable.sourceId || '',\r\n        },\r\n      overlaySourceSearch: '',\r\n\r\n      overlayDeliveryFlg: props.route.params.mode === 'NEW' ? 'N' : (props.route.params.selectedTable.homeDelivery || ''),\r\n      overlayPostalCode: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.dpostalcode || ''),\r\n      overlayAddr1: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress1 || ''),\r\n      overlayAddr2: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress2 || ''),\r\n      overlayAddr3: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress3 || ''),\r\n      overlayAddr4: props.route.params.mode === 'NEW' ? '' : (props.route.params.selectedTable.daddress4 || ''),\r\n\r\n      activeTab: props.route.params.tab || 'PAX',\r\n      warning: '',\r\n    };\r\n    this.handleQtyChange = this.handleQtyChange.bind(this);\r\n    this.handlePressTab = this.handlePressTab.bind(this);\r\n    this.handleSearchVip = this.handleSearchVip.bind(this);\r\n    this.handleEnterVip = this.handleEnterVip.bind(this);\r\n    this.handleClearVip = this.handleClearVip.bind(this);\r\n    this.handlePressNext = this.handlePressNext.bind(this);\r\n    this.handlePressPrev = this.handlePressPrev.bind(this);\r\n    this.handleOverlaySearchText = this.handleOverlaySearchText.bind(this);\r\n    this.handleAddressChange = this.handleAddressChange.bind(this);\r\n    this.handleCheckDeliveryFlg = this.handleCheckDeliveryFlg.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { navigation, } = this.props;\r\n    const { mode, home, serviceEntry, selectedTable, settings, overlayPax, overlayVip, overlaySource, overlayValidateVipName, overlayDeliveryFlg,\r\n      overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (!overlayPax && overlayPax !== 0) {\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + (mode === 'NEW' ? '/change-table-status' : '/update-table-info');\r\n    const body = {\r\n      userId: home.userId,\r\n      locId: home.locId,\r\n      tableStatus: 'C',\r\n      pax: overlayPax,\r\n      // vipId: overlayVip?.vipId,\r\n      vipName: overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n      phone: overlayVip?.vipPhone,\r\n      reservationTime: '',\r\n      sourceId: overlaySource.sourceId,\r\n      deliveryFlg: overlayDeliveryFlg,\r\n      postalCode: overlayPostalCode,\r\n      addr1: overlayAddr1,\r\n      addr2: overlayAddr2,\r\n      addr3: overlayAddr3,\r\n      addr4: overlayAddr4,\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post table-edit-open successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            mode === 'NEW' ? 'Open Table' : 'Edit Table',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            overlayVip?.vipId ? overlayVip?.vipName : overlayValidateVipName,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        if (mode === 'NEW') {\r\n          this.props.route.params.handleUpdateFromTable();\r\n        } else {\r\n          navigation.goBack();\r\n        }\r\n      })\r\n  }\r\n\r\n  handleAddressChange(type, text) {\r\n    if (type === 'POSTALCODE') {\r\n      this.setState({\r\n        overlayPostalCode: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR1') {\r\n      this.setState({\r\n        overlayAddr1: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR2') {\r\n      this.setState({\r\n        overlayAddr2: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR3') {\r\n      this.setState({\r\n        overlayAddr3: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    } else if (type === 'ADDR4') {\r\n      this.setState({\r\n        overlayAddr4: text\r\n      }, () => this.handleCheckDeliveryFlg())\r\n    }\r\n  }\r\n\r\n  handleCheckDeliveryFlg() {\r\n    const { overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4 } = this.state;\r\n    if (overlayPostalCode || overlayAddr1 || overlayAddr2 || overlayAddr3 || overlayAddr4) {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'Y'\r\n      })\r\n    } else {\r\n      this.setState({\r\n        overlayDeliveryFlg: 'N'\r\n      })\r\n    }\r\n  }\r\n\r\n  handleQtyChange(type) {\r\n    if (type === 'PLUS') {\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax + 1\r\n      }));\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (this.state.overlayPax === 0) return;\r\n      this.setState((prevState, props) => ({\r\n        overlayPax: prevState.overlayPax - 1\r\n      }));\r\n    }\r\n  }\r\n\r\n  handlePaxChange(text) {\r\n    if (isNaN(text)) {\r\n      this.setState({ overlayPax: 0 })\r\n    } else {\r\n      this.setState({ overlayPax: Number(text) })\r\n    }\r\n  }\r\n\r\n  handlePressTab(type) {\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n\r\n    if (type === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (type === 'PAX') {\r\n      this.setState({\r\n        activeTab: 'PAX',\r\n      });\r\n    } else if (type === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    } else if (type === 'DELIVERY') {\r\n      this.setState({\r\n        activeTab: 'DELIVERY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePressNext() {\r\n    const { activeTab } = this.state;\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activeTab === 'PAX') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (activeTab === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    } else if (activeTab === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'DELIVERY',\r\n      });\r\n    } else if (activeTab === 'DELIVERY') {\r\n      return;\r\n    }\r\n  }\r\n\r\n  handlePressPrev() {\r\n    const { activeTab } = this.state;\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    if (activeTab === 'PAX') {\r\n      return;\r\n    } else if (activeTab === 'VIP') {\r\n      this.setState({\r\n        activeTab: 'PAX',\r\n      });\r\n    } else if (activeTab === 'SOURCE') {\r\n      this.setState({\r\n        activeTab: 'VIP',\r\n      });\r\n    } else if (activeTab === 'DELIVERY') {\r\n      this.setState({\r\n        activeTab: 'SOURCE',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateVipName,\r\n      overlayValidateNric, overlayValidateEmailAddress, overlayValidateVipPhone, overlayValidateVipPhoneCountryCode } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/search-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n    };\r\n    if (overlayValidateVipId) {\r\n      body.vipId = overlayValidateVipId;\r\n    }\r\n    if (overlayValidateCardNumber) {\r\n      body.cardNumber = overlayValidateCardNumber;\r\n    }\r\n    if (overlayValidateVipName) {\r\n      body.vipName = overlayValidateVipName;\r\n    }\r\n    if (overlayValidateNric) {\r\n      body.nric = overlayValidateNric;\r\n    }\r\n    if (overlayValidateEmailAddress) {\r\n      body.emailAddress = overlayValidateEmailAddress;\r\n    }\r\n    if (overlayValidateVipPhone) {\r\n      body.vipPhone = overlayValidateVipPhone;\r\n      body.vipPhoneCountryCode = overlayValidateVipPhoneCountryCode\r\n    }\r\n    console.log('before searching vip', body);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Search Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'Invalid VIP search',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          warning: response.length + ' VIP result(s) found',\r\n          vipResults: response,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleEnterVip(item) {\r\n    this.setState({\r\n      selectedVipResult: item,\r\n    });\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/enter-vip';\r\n    let body = {\r\n      opentableRecKey: selectedTable.recKey,\r\n      customerNumber: item.customerNumber,\r\n      name: item.name,\r\n      mobileNumber: item.mobileNumber,\r\n      emailAddress: item.emailaddress,\r\n      customerSource: item.customerSource,\r\n    };\r\n    console.log('before entering vip', item);\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Input Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            item.customerNumber + ',' + item.name,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: 'VIP input unsuccessful',\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP input successful',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClearVip() {\r\n    const { serviceEntry, home, masters, settings, selectedTable } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/clear-table-vip-info';\r\n    let body = {};\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Clear Vip',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            '',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            warning: response.message,\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayVip: {\r\n            vipId: response.opentable.vipId || '',\r\n            vipName: response.opentable.vipName || '',\r\n            vipPhone: response.opentable.vipPhone || '',\r\n            vipPtsMoney: response.opentable.vipPtsMoney || '',\r\n            cumPts: response.opentable.cumPts || '',\r\n            vipDisc: response.opentable.vipDisc || '',\r\n            classId: response.opentable.classId || '',\r\n          },\r\n          warning: 'VIP cleared',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleOverlaySearchText(text) {\r\n    const { vipSources, availableVipSources } = this.state;\r\n    let availableVipSourcesUpdate = [];\r\n    this.setState({ overlaySourceSearch: text });\r\n    let caseText = text.toUpperCase();\r\n    console.log('caseText', caseText);\r\n    console.log('available', availableVipSources);\r\n\r\n    availableVipSourcesUpdate = vipSources;\r\n    if (!text) {\r\n      this.setState({\r\n        availableVipSources: availableVipSourcesUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableVipSourcesUpdate = availableVipSourcesUpdate.filter(item => {\r\n      return item.sourceId.toUpperCase().includes(caseText) || item.name.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableVipSources: availableVipSourcesUpdate\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { mode, selectedTable, overlayProcedureMessageVisible,\r\n      overlayPax, overlayVip, overlayValidateVipId, overlayValidateCardNumber, overlayValidateEmailAddress,\r\n      overlayValidateVipPhone, overlayValidateVipPhoneCountryCode, overlayValidateVipName, overlayValidateNric,\r\n      overlaySource, overlaySourceSearch, vipResults, selectedVipResult,\r\n      overlayDeliveryFlg, overlayPostalCode, overlayAddr1, overlayAddr2, overlayAddr3, overlayAddr4,\r\n      warning, activeTab, availableVipSources } = this.state;\r\n    console.log('in overlayopentable');\r\n\r\n    const overlayTabWidth = Dimensions.get('window').width / 5 * 3;\r\n    return (\r\n      <View style={styles.overlay}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.overlayContent}>\r\n          <View style={styles.overlayHeader}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('table')} {selectedTable.tableId}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{mode === 'NEW' ? intl.get('open') : intl.get('edit')}</Text>\r\n            <Text style={styles.overlayText}>{warning ? warning : 'Enter Pax, VIP & Source'}</Text>\r\n          </View>\r\n          <View style={styles.tabsContainer}>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'PAX' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('PAX')}>\r\n              {\r\n                overlayPax !== null ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                    {overlayPax}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'PAX' && { color: theme.grey1 }]}>\r\n                PAX\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'VIP' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('VIP')}>\r\n              {\r\n                overlayVip?.vipId ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                    {overlayVip?.vipId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'VIP' && { color: theme.grey1 }]}>\r\n                VIP\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'SOURCE' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('SOURCE')}>\r\n              {\r\n                overlaySource.sourceId ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    {overlaySource.sourceId}\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                    TBD\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'SOURCE' && { color: theme.grey1 }]}>\r\n                SOURCE\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.tabContainer, activeTab === 'DELIVERY' && { backgroundColor: 'white' }]}\r\n              onPress={() => this.handlePressTab('DELIVERY')}>\r\n              {\r\n                overlayDeliveryFlg === 'Y' ?\r\n                  <Text style={[styles.tabFocusText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    YES\r\n                  </Text>\r\n                  :\r\n                  <Text style={[styles.tabFocusText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                    NO\r\n                  </Text>\r\n              }\r\n              <Text style={[styles.tabText, activeTab === 'DELIVERY' && { color: theme.grey1 }]}>\r\n                DELIVERY\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n          {\r\n            activeTab === 'PAX' ?\r\n              <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                <View style={styles.adjustContainer}>\r\n                  <TouchableOpacity style={styles.adjustFirst}\r\n                    onPress={() => this.handleQtyChange('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.adjustSecond}>\r\n                    <TextInput style={styles.overlayPax}\r\n                      selectTextOnFocus\r\n                      keyboardType='numeric'\r\n                      value={overlayPax?.toString()}\r\n                      onChangeText={(searchText) => this.handlePaxChange(searchText)} />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.adjustThird}\r\n                    onPress={() => this.handleQtyChange('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 1 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 1 })}>\r\n                    <Text style={styles.buttonText}>1</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 2 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 2 })}>\r\n                    <Text style={styles.buttonText}>2</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 3 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 3 })}>\r\n                    <Text style={styles.buttonText}>3</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 4 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 4 })}>\r\n                    <Text style={styles.buttonText}>4</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 5 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 5 })}>\r\n                    <Text style={styles.buttonText}>5</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 6 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 6 })}>\r\n                    <Text style={styles.buttonText}>6</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 7 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 7 })}>\r\n                    <Text style={styles.buttonText}>7</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 8 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 8 })}>\r\n                    <Text style={styles.buttonText}>8</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.buttonsContainer}>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 9 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 9 })}>\r\n                    <Text style={styles.buttonText}>9</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 10 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 10 })}>\r\n                    <Text style={styles.buttonText}>10</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 11 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 11 })}>\r\n                    <Text style={styles.buttonText}>11</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity style={[styles.button, overlayPax === 12 && { backgroundColor: theme.occupied }]}\r\n                    onPress={() => this.setState({ overlayPax: 12 })}>\r\n                    <Text style={styles.buttonText}>12</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              </View>\r\n              :\r\n              activeTab === 'VIP' ?\r\n                <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                  {\r\n                    (vipResults && vipResults.length !== 0) ?\r\n                      <View style={styles.selectWrapper}>\r\n                        <View style={styles.searchBoxWrapper}>\r\n                          <View style={[styles.overlaySearchBox, { marginHorizontal: 0, justifyContent: 'space-between', }]}>\r\n                            <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                              onPress={() => this.setState({ vipResults: '' })}\r\n                            >\r\n                              <AntDesign name='close' size={24} color='white' />\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.searchBoxInfo}>\r\n                          <Text style={styles.searchBoxInfoText}>{vipResults.length} ITEMS</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={[{ flex: 1 }]}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={vipResults}\r\n                          keyExtractor={(item, index) => index.toString()}\r\n                          renderItem={({ item }) => (\r\n                            <TouchableOpacity\r\n                              style={[styles.overlayGrid, item.customerNumber === selectedVipResult.customerNumber && { backgroundColor: theme.occupied }]}\r\n                              onPress={() => this.handleEnterVip(item)}>\r\n                              <View style={styles.overlayGridFirst}>\r\n                                <View style={styles.overlayGridFirstLeft}>\r\n                                  <Text style={styles.overlayGridFirstLeftText}>{item.customerNumber}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridFirstRight}>\r\n                                  <Text style={[styles.overlayGridFirstRightText, item.customerNumber === selectedVipResult.customerNumber && { color: 'white' }]}>{item.hasActiveMembership} {item.customerSource}</Text>\r\n                                </View>\r\n                              </View>\r\n                              <View style={styles.overlayGridSecond}>\r\n                                <Text style={styles.overlayGridSecondText}>\r\n                                  {item.name}\r\n                                </Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridThird}>\r\n                                <View style={styles.overlayGridThirdLeft}>\r\n                                  <Text style={styles.overlayGridThirdLeftText}>{item.emailaddress}</Text>\r\n                                </View>\r\n                                <View style={styles.overlayGridThirdRight}>\r\n                                  <Text style={styles.overlayGridThirdRightText}>{item.mobileNumber ? item.mobileNumber : ' '}</Text>\r\n                                </View>\r\n                              </View>\r\n                            </TouchableOpacity>\r\n                          )}\r\n                        />\r\n                      </View>\r\n                      :\r\n                      <View style={styles.vipInputsContainer}>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP ID'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipId) => this.setState({ overlayValidateVipId })}\r\n                            value={overlayValidateVipId}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='CARD NO.'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateCardNumber) => this.setState({ overlayValidateCardNumber })}\r\n                            value={overlayValidateCardNumber}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP NAME'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipName) => this.setState({ overlayValidateVipName })}\r\n                            value={overlayValidateVipName}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 50 }]}\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhoneCountryCode) => this.setState({ overlayValidateVipPhoneCountryCode })}\r\n                            value={overlayValidateVipPhoneCountryCode}\r\n                          />\r\n                          <TextInput style={[styles.vipInput, { width: 130 }]}\r\n                            placeholder='VIP PHONE'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateVipPhone) => this.setState({ overlayValidateVipPhone })}\r\n                            value={overlayValidateVipPhone}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <TextInput style={styles.vipInput}\r\n                            placeholder='VIP EMAIL'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            textContentType='none'\r\n                            autoComplete='off'\r\n                            autoCorrect={false}\r\n                            onChangeText={(overlayValidateEmailAddress) => this.setState({ overlayValidateEmailAddress })}\r\n                            value={overlayValidateEmailAddress}\r\n                            onSubmitEditing={() => this.handleSearchVip()}\r\n                          />\r\n                          <View style={{ flex: 1, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n                            <TouchableOpacity style={{ paddingHorizontal: 10, height: 20, margin: 5, borderRadius: 40, backgroundColor: theme.paid, alignItems: 'center', justifyContent: 'center' }}\r\n                              onPress={() => this.handleClearVip()}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 10, textTransform: 'uppercase', color: 'white' }}>{intl.get('remove')}</Text>\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP ID</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP CLASS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.classId || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>VIP DISC</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipDisc || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                        <View style={styles.vipInputsRow}>\r\n                          <View style={[styles.detailWrapper, { alignItems: 'flex-start' }]}>\r\n                            <Text style={styles.detailTitle}>VIP NAME</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipName || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>CUMULATIVE PTS</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.cumPts || '-'}</Text>\r\n                          </View>\r\n                          <View style={styles.detailWrapper}>\r\n                            <Text style={styles.detailTitle}>REDEEMABLE</Text>\r\n                            <Text style={styles.detailText}>{overlayVip?.vipPtsMoney || '-'}</Text>\r\n                          </View>\r\n                        </View>\r\n                      </View>\r\n                  }\r\n                </View>\r\n                :\r\n                activeTab === 'SOURCE' ?\r\n                  <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                    <View style={styles.selectWrapper}>\r\n                      <View style={styles.searchBoxWrapper}>\r\n                        <View style={[styles.overlaySearchBox, { marginHorizontal: 0 }]}>\r\n                          <TextInput style={styles.overlaySearchBoxInput}\r\n                            placeholder='ENTER SEARCH TEXT'\r\n                            placeholderTextColor='rgba(255,255,255,0.2)'\r\n                            onChangeText={(overlaySourceSearch) => this.handleOverlaySearchText(overlaySourceSearch)}\r\n                            value={overlaySourceSearch}\r\n                          />\r\n                          <TouchableOpacity style={styles.overlaySearchBoxButton}\r\n                            onPress={() => {\r\n                              this.setState({ overlaySourceSearch: '', overlaySource: '' }, () => this.handleOverlaySearchText(''))\r\n                              Keyboard.dismiss()\r\n                            }}>\r\n                            <AntDesign name='close' size={24} color={theme.grey4} />\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                      </View>\r\n                      <View style={styles.searchBoxInfo}>\r\n                        <Text style={styles.searchBoxInfoText}>{availableVipSources.length} ITEMS</Text>\r\n                      </View>\r\n                      <FlatList\r\n                        style={[{ flex: 1 }]}\r\n                        showsVerticalScrollIndicator={false}\r\n                        data={availableVipSources}\r\n                        keyExtractor={item => item.recKey.toString()}\r\n                        renderItem={({ item }) => (\r\n                          <TouchableOpacity\r\n                            style={[styles.overlayGrid]}\r\n                            onPress={() => this.setState({\r\n                              overlaySource: item,\r\n                              overlaySourceSearch: item.sourceId,\r\n                            })}>\r\n                            <View style={styles.overlayGridFirst}>\r\n                              <View style={styles.overlayGridFirstLeft}>\r\n                                <Text style={styles.overlayGridFirstLeftText}>{item.sourceId}</Text>\r\n                              </View>\r\n                              <View style={styles.overlayGridFirstRight}>\r\n                                <Text style={styles.overlayGridFirstRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                            <View style={styles.overlayGridSecond}>\r\n                              <Text style={styles.overlayGridSecondText}>\r\n                                {item.name}\r\n                              </Text>\r\n                            </View>\r\n                            <View style={styles.overlayGridThird}>\r\n                              <View style={styles.overlayGridThirdLeft}>\r\n                              </View>\r\n                              <View style={styles.overlayGridThirdRight}>\r\n                                <Text style={styles.overlayGridThirdRightText}></Text>\r\n                              </View>\r\n                            </View>\r\n                          </TouchableOpacity>\r\n                        )}\r\n                      />\r\n                    </View>\r\n                  </View>\r\n                  :\r\n                  <View style={[styles.overlayTab, { width: overlayTabWidth }]}>\r\n                    <View style={styles.vipInputsContainer}>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={styles.vipInput}\r\n                          placeholder='POSTAL CODE'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('POSTALCODE', text)}\r\n                          value={overlayPostalCode}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR1'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR1', text)}\r\n                          value={overlayAddr1}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR2'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR2', text)}\r\n                          value={overlayAddr2}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR3'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR3', text)}\r\n                          value={overlayAddr3}\r\n                        />\r\n                      </View>\r\n                      <View style={styles.vipInputsRow}>\r\n                        <TextInput style={[styles.vipInput, { width: 390 }]}\r\n                          placeholder='ADDR4'\r\n                          placeholderTextColor='rgba(255,255,255,0.2)'\r\n                          textContentType='none'\r\n                          autoComplete='off'\r\n                          autoCorrect={false}\r\n                          onChangeText={(text) => this.handleAddressChange('ADDR4', text)}\r\n                          value={overlayAddr4}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n          }\r\n          <View style={styles.overlayOptionsContainer}>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='close' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {intl.get('close')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressPrev()} >\r\n              <AntDesign name='left' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                PREV\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handlePressNext()} >\r\n              <AntDesign name='right' size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                NEXT\r\n              </Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n              style={styles.overlayOptionContainer}\r\n              onPress={() => this.handleSubmit()}>\r\n              <AntDesign name={mode === 'NEW' ? 'appstore-o' : 'edit'} size={32} color='white' />\r\n              <Text style={styles.overlayOptionText}>\r\n                {mode === 'NEW' ? intl.get('open') : intl.get('edit')}\r\n              </Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst keyHeight = Dimensions.get('window').height / 8;\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    backgroundColor: theme.grey2,\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayContent: {\r\n    flex: 1,\r\n    maxWidth: '60%',\r\n    backgroundColor: theme.grey2,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    position: 'relative',\r\n    alignItems: 'center',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  overlayText: {\r\n    marginTop: 15,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  overlayPax: {\r\n    width: '100%',\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 32,\r\n    textAlign: 'center',\r\n  },\r\n  buttonsContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: keyHeight - 10,\r\n    width: keyHeight - 10,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    textTransform: 'uppercase',\r\n  },\r\n  adjustContainer: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 50,\r\n  },\r\n  adjustSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  adjustThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 50,\r\n  },\r\n  overlayOptionContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayOptionsContainer: {\r\n    height: 100,\r\n    marginTop: 20,\r\n    backgroundColor: theme.grey3,\r\n    flexDirection: 'row',\r\n    margin: 5,\r\n    width: '100%',\r\n  },\r\n  overlayOptionText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: 'white',\r\n    marginTop: 5,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayTab: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  tabsContainer: {\r\n    height: 40,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  tabContainer: {\r\n    backgroundColor: theme.grey1,\r\n    width: 120,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 20,\r\n    height: 40,\r\n    marginHorizontal: 5,\r\n  },\r\n  tabText: {\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tabFocusText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  searchBoxWrapper: {\r\n    height: 50,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsContainer: {\r\n    marginTop: 20,\r\n    width: 400,\r\n    alignItems: 'center',\r\n  },\r\n  vipInputsRow: {\r\n    height: 50,\r\n    width: 400,\r\n    flexDirection: 'row',\r\n  },\r\n  vipInput: {\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    margin: 5,\r\n    paddingHorizontal: 10,\r\n    width: 190,\r\n  },\r\n  overlaySearchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 50,\r\n    flexDirection: 'row',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  overlaySearchBoxInput: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  overlaySearchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  overlaySearchBoxButtonText: {\r\n    fontSize: 14,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    textTransform: 'uppercase'\r\n  },\r\n  overlaySearchVipButton: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: 110,\r\n  },\r\n  detailWrapper: {\r\n    alignItems: 'flex-end',\r\n    margin: 5,\r\n    width: 370 / 3,\r\n  },\r\n  detailText: {\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  detailTitle: {\r\n    opacity: 0.6,\r\n    fontSize: 10,\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  overlayGrid: {\r\n    flex: 1,\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  overlayGridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridSecond: {\r\n    marginVertical: 5,\r\n  },\r\n  overlayGridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  overlayGridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  overlayGridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  overlayGridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridFirstRightText: {\r\n    color: theme.occupied,\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  overlayGridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  overlayGridThirdLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  overlayGridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  selectWrapper: {\r\n    flex: 1,\r\n    marginTop: 50,\r\n    width: 400,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, ScrollView, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n\r\n      globalModBundles: props.route.params.masters.modBundles.filter(el => (!el.modmas.locId || el.modmas.locId === props.route.params.home.locId) && el.modmas.globalFlg === 'Y'),\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedMenu.serviceFlg === 'N' ? 'B' : (props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : (props.route.params.selectedTable?.orderType || 'A')),\r\n      lineBreak: props.route.params.selectedTableItem ? props.route.params.selectedTableItem.lineBreak : 'N',\r\n\r\n      modInput: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.menuMod || '') : (props.route.params.selectedMenu.serviceFlg === 'N' ? `*${intl.get('takeaway')}  ` : ((props.route.params.selectedTable?.orderType === 'B' && props.route.params.masters.settings.find(el => el.setId === 'POSMODE')?.setString === 'A') ? `*${intl.get('takeaway')}  ` : '')),\r\n      modRecKeys: props.route.params.selectedTableItem?.modRecKeys?.split(',') || [],\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount menu', this.state.selectedMenu, this.state.selectedTableItem)\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, modInput } = this.state;\r\n    let modInputUpdate = modInput;\r\n    if (orderType === 'A') {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      modInputUpdate = `*${intl.get('takeaway')}  ` + modInputUpdate;\r\n      this.setState({\r\n        orderType: 'B',\r\n        modInput: modInputUpdate,\r\n      });\r\n    } else {\r\n      modInputUpdate = modInputUpdate.replace(`*${intl.get('takeaway')}  `, '');\r\n      this.setState({\r\n        orderType: 'A',\r\n        modInput: modInputUpdate,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleLineBreak() {\r\n    const { lineBreak } = this.state;\r\n    this.setState({\r\n      lineBreak: lineBreak === 'Y' ? 'N' : 'Y',\r\n    });\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { modInput, selectedModBundle, modRecKeys } = this.state;\r\n    let modInputUpdate = modInput;\r\n    let modRecKeysUpdate = modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n    this.setState({\r\n      modInput: modInputUpdate,\r\n      modRecKeys: modRecKeysUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      globalModBundles, menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys } = this.state;\r\n\r\n    // need preference to auto go through\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    if (modBundles.filter(el => el.modmas.mustFlg === 'Y' && (globalModBundles.some(obj => obj.modmas.modId === el.modmas.modId) || mods.some(obj => obj.menuId === selectedMenu.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => modRecKeys.some(el => el === obj.recKey.toString())))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-item';\r\n      const body = {\r\n        userId: home.userId,\r\n        opentableRecKey: selectedTable.recKey,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        restmenuMod: modInput,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        modRecKeys: modRecKeys.join(','),\r\n        menuName: menuName,\r\n        lineBreak: lineBreak,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n              qtyInput,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading,\r\n      home, settings, selectedMenu, selectedTable, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      globalModBundles,\r\n      menuName, modInput, qtyInput, orderType, lineBreak, modRecKeys,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          <ScrollView contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              selectedModBundle?.moditems.map(item =>\r\n                <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                  onPress={() => this.doPressMod(item)}>\r\n                  <Text style={styles.modText}>{item.name}</Text>\r\n                  {\r\n                    item.listPrice !== 0 &&\r\n                    <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                  }\r\n                </TouchableOpacity>\r\n              )\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId} </Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.reserved, fontSize: 16, }}> ${selectedTableItem?.listPrice?.toFixed(2) || selectedMenu.listPrice?.toFixed(2)}</Text>\r\n                  </View>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM') || selectedMenu.listPrice === 0)}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={modInput}\r\n                  onChangeText={text => this.setState({ modInput: text })}\r\n                />\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    mods?.filter(el => el.menuId === selectedMenu.menuId).length > 0 &&\r\n                    <>\r\n                      <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                        <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MENU MODIFIERS</Text>\r\n                      </View>\r\n                      <View style={styles.modContainer}>\r\n                        {\r\n                          mods?.filter(el => el.menuId === selectedMenu.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                            <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                              onPress={() => this.doPressModBundle(item)}>\r\n                              <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                            </TouchableOpacity>\r\n                          )\r\n                        }\r\n                      </View>\r\n                    </>\r\n                  }\r\n                  <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                    <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>SHOP MODIFIERS</Text>\r\n                  </View>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      globalModBundles?.map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n              </View>\r\n\r\n              <View style={{ height: 100, margin: 5, marginTop: 0, flexDirection: 'row', backgroundColor: 'white' }}>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name='close' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4, textTransform: 'uppercase' }}>\r\n                    {intl.get('close')}\r\n                  </Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity\r\n                  style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name='check' size={48} color={theme.grey4} />\r\n                  <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.grey4 }}>\r\n                    OK\r\n                  </Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n            <View style={{ marginVertical: 5, width: 130, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, margin: 5 }}\r\n                  disabled={selectedMenu.serviceFlg === 'N'}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                {\r\n                  settings.find(el => el.setId === 'MARKFIRE')?.setString === 'Y' ?\r\n                    <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: lineBreak === 'N' ? theme.grey3 : theme.occupied, borderRadius: 5, margin: 5 }}\r\n                      disabled={selectedTableItem?.confirmFlg === 'Y'}\r\n                      onPress={() => this.doToggleLineBreak()}>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase', fontSize: 10 }}>{lineBreak === 'N' ? intl.get('no') : intl.get('add')}</Text>\r\n                      <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white' }}>LINE BREAK</Text>\r\n                    </TouchableOpacity>\r\n                    :\r\n                    <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                    </View>\r\n                }\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport { StyleSheet, Text, View, Dimensions, TouchableOpacity, Platform } from 'react-native';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\nimport { AntDesign, Ionicons } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport { debug } from '../assets/utility';\r\n\r\nexport default class Scan extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      home: props.route.params.home,\r\n      selectedTable: props.route.params.selectedTable,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      hasCameraPermission: null,\r\n      detected: false,\r\n    };\r\n    this.handleBarCodeScanned = this.handleBarCodeScanned.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { status } = await BarCodeScanner.requestPermissionsAsync();\r\n    this.setState({ hasCameraPermission: status === 'granted' });\r\n  }\r\n\r\n  handleBarCodeScanned({ type, data }) {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, settings, selectedTable, detected } = this.state;\r\n    let dataUpdate = data;\r\n    if (Platform.OS === 'ios') {\r\n      if (type === 'org.gs1.EAN-13') {\r\n        if (data.charAt(0) === '0') {\r\n          dataUpdate = data.slice(1);\r\n        }\r\n      }\r\n    }\r\n    this.setState({ detected: true }, () => {\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/scan-barcode';\r\n      const body = {\r\n        userId: home.userId,\r\n        orgId: home.orgId,\r\n        locId: home.locId,\r\n        shopId: home.shopId,\r\n        vipId: home.vipId,\r\n        barcode: dataUpdate,\r\n        opentableRecKey: selectedTable.recKey,\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            this.setState({ detected: false });\r\n            throw response;\r\n          } else {\r\n            return response.json();\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log('post scan-barcode successful', response);\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Scan Barcode',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable?.tableId,\r\n              '',\r\n              dataUpdate,\r\n            );\r\n          navigation.goBack();\r\n        })\r\n        .catch(error => {\r\n          console.log('error: ', JSON.stringify(error));\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { hasCameraPermission, detected } = this.state;\r\n\r\n    // if (hasCameraPermission === null) {\r\n    //     return <Text>Requesting for camera permission</Text>;\r\n    // }\r\n    // if (hasCameraPermission === false) {\r\n    //     return <Text>No access to camera</Text>;\r\n    // }\r\n\r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <BarCodeScanner\r\n          onBarCodeScanned={detected ? null : this.handleBarCodeScanned}\r\n          style={{ flex: 1 }}\r\n        />\r\n        <TouchableOpacity style={styles.backButton}\r\n          onPress={() => navigation.goBack()}>\r\n          <AntDesign name='left' size={48} color='white' />\r\n          <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n        </TouchableOpacity>\r\n        <View style={styles.iconContainer}>\r\n          <Ionicons name='ios-barcode' color={detected ? 'red' : 'white'} size={400} />\r\n        </View>\r\n      </ View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst windowWidth = Dimensions.get('window').width;\r\nconst windowHeight = Dimensions.get('window').height;\r\n\r\nconst styles = StyleSheet.create({\r\n  iconContainer: {\r\n    position: 'absolute',\r\n    right: windowWidth / 2 - 200,\r\n    top: windowHeight / 2 - 200,\r\n    opacity: 0.5,\r\n    width: 400,\r\n    height: 400,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  backButton: {\r\n    position: 'absolute',\r\n    left: 50,\r\n    top: 50,\r\n    width: 100,\r\n    height: 100,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 10,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View, TouchableOpacity, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, Fontisto, FontAwesome, MaterialCommunityIcons, } from '@expo/vector-icons';\r\nimport theme from '../assets/theme';\r\nimport moment from 'moment';\r\nimport { debug } from '../assets/utility';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport intl from 'react-intl-universal';\r\n\r\nexport default class Trace extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      selectedTable: props.route.params.selectedTable,\r\n\r\n      maps: [],\r\n      thisTable: props.route.params.selectedTable ? true : false,\r\n      thisUser: false,\r\n\r\n      overlayChoosePrinterVisible: false,\r\n    };\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doReload()\r\n  }\r\n\r\n  doReload() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser } = this.state;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: response,\r\n        });\r\n      })\r\n  }\r\n\r\n  doLoad() {\r\n    const { serviceEntry, home, selectedTable, thisTable, thisUser, maps } = this.state;\r\n    // end reached\r\n    if (maps.length < 40) return;\r\n    let url = serviceEntry + 'api/debuglogs';\r\n    const params = new URLSearchParams();\r\n    params.append('recKey', maps[maps.length - 1].recKey);\r\n    thisUser && params.append('msg2', home.userName);\r\n    thisTable && params.append('msg4', selectedTable.tableId);\r\n    url += ('?' + params);\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          maps: [...maps, ...response],\r\n        });\r\n      })\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  doToggleTable() {\r\n    const { thisTable } = this.state;\r\n    this.setState({\r\n      thisTable: !thisTable,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  doToggleUser() {\r\n    const { thisUser } = this.state;\r\n    this.setState({\r\n      thisUser: !thisUser,\r\n    }, () => this.doReload())\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, selectedTable,\r\n      maps, thisUser, thisTable,\r\n      overlayProcedureMessageVisible } = this.state;\r\n    console.log('in trace');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.containerFirst}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={styles.button}\r\n              onPress={() => navigation.goBack()}>\r\n              <AntDesign name='left' color='white' size={36} />\r\n              <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n        <View style={styles.containerSecond}>\r\n          <TouchableOpacity style={styles.overlayHeader} onPress={() => this.traceRef.scrollToOffset({ animated: true, offset: 0 })}>\r\n            <Text style={styles.overlayTitleText}>{intl.get('action')}</Text>\r\n            <Text style={styles.overlaySubtitleText}>{intl.get('trace')}</Text>\r\n            <Text style={styles.overlayTitleText}></Text>\r\n          </TouchableOpacity>\r\n          <FlatList\r\n            style={{ flex: 1 }}\r\n            ref={ref => this.traceRef = ref}\r\n            showsVerticalScrollIndicator={false}\r\n            data={maps}\r\n            onEndReachedThreshold={0.4}\r\n            onEndReached={() => this.doLoad()}\r\n            keyExtractor={(item) => item.recKey.toString()}\r\n            renderItem={({ item, index }) => (\r\n              <ScrollView\r\n                style={{ minHeight: 40, paddingVertical: 5, }}\r\n                contentContainerStyle={{ alignItems: 'center' }}\r\n                horizontal\r\n                alwaysBounceHorizontal={false}\r\n                showsHorizontalScrollIndicator={false}>\r\n                <Text style={[styles.traceText, { textAlign: 'right', width: 40, color: theme.grey5 }]}>{moment(item.createDate).format('ddd')}</Text>\r\n                <Text style={[styles.traceText, { marginLeft: 10, }]}>{moment(item.createDate).format('HH:mm')}</Text>\r\n                <View style={{ width: 30, marginHorizontal: 5, alignItems: 'center', }}>\r\n                  {\r\n                    item.msg1 === 'Fire Course' &&\r\n                    <Fontisto name=\"fire\" size={20} color={theme.reserved} style={{ marginLeft: 1 }} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Send Order' &&\r\n                    <FontAwesome name=\"send\" size={18} color={theme.occupied} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Payment' &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.paid} style={{}} />\r\n                  }\r\n                  {\r\n                    item.msg1 === 'Finish Dayclose' &&\r\n                    <MaterialCommunityIcons name=\"moon-full\" size={22} color={theme.reserved} style={{}} />\r\n                  }\r\n                  {\r\n                    (item.msg1 === 'Open Table' || item.msg1 === 'Create Table' || (item.msg1 === 'Reopen Receipt' && !item.msg3)) &&\r\n                    <MaterialCommunityIcons name=\"checkbox-blank\" size={22} color={theme.occupied} style={{}} />\r\n                  }\r\n                </View>\r\n                <Text style={[styles.traceText, { color: theme.grey5 }]}>{item.msg2} </Text>\r\n                <Text style={[styles.traceText, { marginLeft: 5, color: theme.paid }]}>{item.msg1}</Text>\r\n                {\r\n                  item.msg5 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.reserved }]}>\"{item.msg5}\"</Text>\r\n                }\r\n                {\r\n                  item.msg6 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.vacant }]}>&#60;{item.msg6}&#62;</Text>\r\n                }\r\n                {\r\n                  item.msg4 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.occupied }]}>#{item.msg4}</Text>\r\n                }\r\n                {\r\n                  item.msg3 &&\r\n                  <Text style={[styles.traceText, { marginLeft: 5, color: theme.adhoc }]}>[{item.msg3}]</Text>\r\n                }\r\n              </ScrollView>\r\n            )}\r\n          />\r\n        </View>\r\n        <View style={styles.containerThird}>\r\n          <View style={{ flex: 1 }}>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              onPress={() => this.doToggleUser()}>\r\n              <AntDesign\r\n                name='woman'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText} numberOfLines={1}>{thisUser ? home.userName : `${intl.get('all')} ${intl.get('user')}`}</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity style={[styles.button,]}\r\n              disabled={!selectedTable}\r\n              onPress={() => this.doToggleTable()}>\r\n              <AntDesign\r\n                name='appstore-o'\r\n                color='white'\r\n                size={36}\r\n              />\r\n              <Text style={styles.buttonText}>{thisTable ? `${intl.get('table')} ${selectedTable.tableId}` : `${intl.get('all')} ${intl.get('table')}`}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  containerFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  containerSecond: {\r\n    flex: 6,\r\n    marginVertical: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  containerThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    padding: 10,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  overlayHeader: {\r\n    marginVertical: 15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n    textAlign: 'center',\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  traceText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n  }\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Activate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [],\r\n      availableMenus: [],\r\n      limiteds: [],\r\n\r\n      updateds: [],\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n\r\n      loading: false,\r\n    };\r\n    this.handleSelectMenu = this.handleSelectMenu.bind(this);\r\n    this.handleSelectUpdated = this.handleSelectUpdated.bind(this);\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleUpdateMenu = this.handleUpdateMenu.bind(this);\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.doGet();\r\n    this.doGetMenu();\r\n  }\r\n\r\n  doGet() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doGetMenu() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/menus';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n            availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  handleSelectMenu(item) {\r\n    const { menus, updateds, limiteds } = this.state;\r\n    if (updateds.some(el => el.recKey === item.recKey)) {\r\n      return;\r\n    } else {\r\n      let updatedsUpdate = updateds;\r\n      let itemUpdate = item;\r\n      const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n      itemUpdate.statusFlg = found?.statusFlg || 'A';\r\n      updatedsUpdate.push(itemUpdate);\r\n      this.setState({\r\n        updateds: updatedsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectUpdated(item) {\r\n    const { menus, updateds } = this.state;\r\n    let updatedsUpdate = updateds;\r\n    updatedsUpdate = updatedsUpdate.filter(el => el.recKey !== item.recKey);\r\n    this.setState({\r\n      updateds: updatedsUpdate,\r\n    })\r\n  }\r\n\r\n  handleSubmit() {\r\n    const { updateds } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'handleUpdateMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Update Menu',\r\n        text: 'Update ' + updateds.length + ' menus?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  handleUpdateMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry, updateds } = this.state;\r\n    if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    let updatedsUpdate = updateds.map(el => ({\r\n      recKey: el.recKey,\r\n      newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n    }));\r\n\r\n    const restmenuRecKeys = updatedsUpdate.reduce((init, el) => { return init + el.recKey + ',' + el.newStatusFlg + ','; }, '');\r\n\r\n    let url = serviceEntry + 'api/update-restmenu';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKeys: restmenuRecKeys,\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu successful');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Update Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            updateds.map(el => ({\r\n              menuId: el.menuId,\r\n              newStatusFlg: el.statusFlg === 'A' ? 'B' : 'A',\r\n            })).reduce((init, el) => { return init + el.menuId + ',' + el.newStatusFlg + ','; }, ''),\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        navigation.navigate('Login', { sync: new Date() });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus, limiteds } = this.state;\r\n    if (displayMode === 'INACTIVE ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => limiteds.some(obj => obj.restmenuRecKey === el.recKey && obj.statusFlg === 'B')),\r\n        searchText: '',\r\n        displayMode: 'INACTIVE ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.handleUpdateMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'handleUpdateMenu') {\r\n      this.handleUpdateMenu();\r\n    }\r\n  }\r\n\r\n  renderItem(item) {\r\n    const { limiteds } = this.state;\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.grid}\r\n        onPress={() => this.handleSelectMenu(item)}>\r\n        <View style={styles.gridFirst}>\r\n          <View style={styles.gridFirstLeft}>\r\n            <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n          </View>\r\n          <View style={styles.gridFirstRight}>\r\n            {\r\n              found?.statusFlg === 'B' ?\r\n                <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                :\r\n                <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridSecond}>\r\n          <Text style={styles.gridSecondText}>\r\n            {item.menuName}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, updateds, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => this.renderItem(item)}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={[styles.searchBox, { backgroundColor: theme.grey3 }]}>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={[styles.titleSecondContainer, { flex: 3 }]}>\r\n                    <Text style={styles.titleText}>{updateds.length} Changes</Text>\r\n                  </View>\r\n                  <View style={[styles.titleFourthContainer, { flex: 1 }]}>\r\n                    <Text style={styles.titleText}>New Status</Text>\r\n                  </View>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    updateds ?\r\n                      updateds.map((item, index) => (\r\n                        <TouchableOpacity\r\n                          key={index}\r\n                          style={styles.grid}\r\n                          onPress={() => this.handleSelectUpdated(item)}>\r\n                          <View style={styles.gridFirst}>\r\n                            <View style={styles.gridFirstLeft}>\r\n                              <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n                            </View>\r\n                            <View style={styles.gridFirstRight}>\r\n                              {\r\n                                item.statusFlg === 'B' ?\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n                                  :\r\n                                  <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                              }\r\n                            </View>\r\n                          </View>\r\n                          <View style={styles.gridSecond}>\r\n                            <Text style={styles.gridSecondText}>\r\n                              {item.menuName}\r\n                            </Text>\r\n                          </View>\r\n                          <View style={styles.gridThird}>\r\n                            <View style={styles.gridThirdLeft}>\r\n                              <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n                            </View>\r\n                            <View style={styles.gridThirdRight}>\r\n                              <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n                            </View>\r\n                          </View>\r\n                        </TouchableOpacity>\r\n                      ))\r\n                      : null\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, (loading || updateds.length === 0) && { opacity: 0.2 }]}\r\n                disabled={loading || updateds.length === 0}\r\n                onPress={() => this.handleSubmit()}>\r\n                <AntDesign\r\n                  name='bulb1'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport theme from '../assets/theme';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayRequestAccess from './OverlayRequestAccess';\r\n\r\nexport default class Limit extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n      menus: [],\r\n      availableMenus: [],\r\n      limiteds: [],\r\n\r\n      searchText: '',\r\n      displayMode: 'ALL',\r\n\r\n      selectedMenu: null,\r\n      statusFlg: '',\r\n      onlineStatusFlg: '',\r\n      serveLimit: '',\r\n\r\n      loading: false,\r\n    };\r\n\r\n    this.handlePressDisplayMode = this.handlePressDisplayMode.bind(this);\r\n\r\n    this.handleSearchText = this.handleSearchText.bind(this);\r\n    this.handleUpdateFromRequestAccess = this.handleUpdateFromRequestAccess.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // real time fast changing data\r\n    this.doGet();\r\n    this.doGetMenu();\r\n  }\r\n\r\n  doGet() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/restmenu-serve';\r\n    const params = new URLSearchParams();\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            limiteds: response,\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doGetMenu() {\r\n    const { serviceEntry, home, } = this.state;\r\n    let url = serviceEntry + 'api/menus';\r\n    const params = new URLSearchParams();\r\n    params.append('orgId', home.orgId);\r\n    params.append('shopId', home.shopId);\r\n    url += ('?' + params);\r\n    console.log(url)\r\n    fetch(url, {\r\n      method: 'GET'\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (response.message) {\r\n          console.log(response.message)\r\n        } else {\r\n          this.setState({\r\n            menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n            availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          });\r\n        }\r\n      })\r\n  }\r\n\r\n  doSelectMenu(item) {\r\n    const { limiteds } = this.state;\r\n    this.setState({\r\n      selectedMenu: item,\r\n      statusFlg: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.statusFlg || 'A',\r\n      onlineStatusFlg: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.onlineStatusFlg || 'A',\r\n      serveLimit: limiteds?.find(el => el.restmenuRecKey === item.recKey)?.serveLimit.toString() || '0',\r\n    })\r\n  }\r\n\r\n  doToggleStatus() {\r\n    const { statusFlg } = this.state;\r\n    if (statusFlg === 'A') {\r\n      this.setState({ statusFlg: 'B' })\r\n    } else {\r\n      this.setState({ statusFlg: 'A' })\r\n    }\r\n  }\r\n\r\n  doToggleOnlineStatus() {\r\n    const { onlineStatusFlg } = this.state;\r\n    if (onlineStatusFlg === 'A') {\r\n      this.setState({ onlineStatusFlg: 'B' })\r\n    } else {\r\n      this.setState({ onlineStatusFlg: 'A' })\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { selectedMenu } = this.state;\r\n    let options = [];\r\n    options.push({ text: 'Yes', handleText: 'doLimitMenu' });\r\n    this.setState({\r\n      overlayAlertInputValue: {\r\n        title: intl.get('action'),\r\n        subtitle: 'Limit Menu',\r\n        text: 'Limit ' + selectedMenu.menuName + '?',\r\n        ok: false,\r\n        cancel: true,\r\n        options: options,\r\n      },\r\n      overlayAlertVisible: true,\r\n    });\r\n  }\r\n\r\n  doLimitMenu(superUserId) {\r\n    const { navigation } = this.props;\r\n    const { home, settings, privileges, serviceEntry,\r\n      selectedMenu, statusFlg, serveLimit, onlineStatusFlg } = this.state;\r\n    // if (!(home.adminFlg === 'Y' || privileges.some(el => el.priId === 'UPDATEMENU')) && !superUserId) {\r\n    //   this.setState({\r\n    //     overlayRequestAccessVisible: true,\r\n    //   });\r\n    //   return;\r\n    // }\r\n\r\n    let url = serviceEntry + 'api/update-restmenu-serve';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      shopId: home.shopId,\r\n      restmenuRecKey: selectedMenu.recKey,\r\n      statusFlg: statusFlg,\r\n      onlineStatusFlg: onlineStatusFlg,\r\n      serveLimit: serveLimit || '0',\r\n    };\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post update-restmenu-serve');\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Limit Menu',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            selectedMenu.menuName,\r\n            (serveLimit || '0') + ',' + statusFlg + ',' + onlineStatusFlg,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n            loading: false,\r\n          })\r\n          return;\r\n        }\r\n        this.setState({\r\n          loading: false,\r\n          displayMode: 'ALL',\r\n          menus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n          availableMenus: [...new Map(response.map(v => [v.menuId, v])).values()],\r\n        }, () => this.doGet())\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n\r\n  }\r\n\r\n  handleSearchText(text) {\r\n    const { menus, availableMenus, searchText } = this.state;\r\n    let availableMenusUpdate = [];\r\n    this.setState({\r\n      searchText: text,\r\n      displayMode: 'ALL',\r\n    });\r\n    let caseText = text.toUpperCase();\r\n\r\n    availableMenusUpdate = menus;\r\n\r\n    if (!text) {\r\n      this.setState({\r\n        availableMenus: availableMenusUpdate\r\n      });\r\n      return;\r\n    }\r\n    availableMenusUpdate = availableMenusUpdate.filter(item => {\r\n      return item.menuName.toUpperCase().includes(caseText) || item.menuId.toUpperCase().includes(caseText);\r\n    });\r\n    this.setState({\r\n      availableMenus: availableMenusUpdate\r\n    });\r\n  }\r\n\r\n  handlePressDisplayMode() {\r\n    const { displayMode, menus, availableMenus, limiteds } = this.state;\r\n    if (displayMode === 'LIMITED ONLY') {\r\n      this.setState({\r\n        availableMenus: menus,\r\n        searchText: '',\r\n        displayMode: 'ALL',\r\n      });\r\n    } else if (displayMode === 'ALL') {\r\n      this.setState({\r\n        availableMenus: menus.filter(el => limiteds?.some(obj => obj.restmenuRecKey === el.recKey)),\r\n        searchText: '',\r\n        displayMode: 'LIMITED ONLY',\r\n      });\r\n    }\r\n  }\r\n\r\n  handleUpdateFromRequestAccess(text) {\r\n    const { home, serviceEntry, settings } = this.state;\r\n    if (!text) {\r\n      this.setState({\r\n        overlayRequestAccessVisible: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = serviceEntry + 'api/super-user';\r\n    const body = {\r\n      locId: home.locId,\r\n      accessCode: text,\r\n      priId: 'UPDATEMENU',\r\n    };\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post super-user successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Request Access UPDATEMENU',\r\n            home.userName,\r\n            response.message,\r\n            '',\r\n            '',\r\n            response.userId,\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        // to state\r\n        this.setState({\r\n          overlayRequestAccessVisible: false,\r\n        });\r\n        this.doLimitMenu(response.userId);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // to state\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doLimitMenu') {\r\n      this.doLimitMenu();\r\n    }\r\n  }\r\n\r\n  renderItem(item) {\r\n    const { limiteds } = this.state;\r\n    const found = limiteds?.find(el => el.restmenuRecKey === item.recKey);\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        style={styles.grid}\r\n        onPress={() => this.doSelectMenu(item)}>\r\n        <View style={styles.gridFirst}>\r\n          <View style={styles.gridFirstLeft}>\r\n            <Text style={styles.gridFirstLeftText}>{item.menuId}</Text>\r\n          </View>\r\n          <View style={styles.gridFirstRight}>\r\n            {\r\n              found?.statusFlg === 'B' ?\r\n                <Text style={[styles.gridFirstRightText, { color: theme.paid }]}>INACTIVE</Text>\r\n                :\r\n                <Text style={[styles.gridFirstRightText, { color: theme.reserved }]}>ACTIVE</Text>\r\n            }\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridSecond}>\r\n          <Text style={styles.gridSecondText}>\r\n            {item.menuName}\r\n          </Text>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            <Text style={[styles.gridThirdRightText, { color: theme.reserved }]}>KOT {item.kotType || '-'}</Text>\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            <Text style={styles.gridThirdRightText}>${item.listPrice.toFixed(2)}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={styles.gridThird}>\r\n          <View style={styles.gridThirdLeft}>\r\n            {\r\n              (found && found?.serveLimit !== 0) &&\r\n              <Text style={{ fontFamily: 'varela-round', color: theme.vacant, fontSize: 12 }}>LIMIT {found.serveLimit} SERVED {found.serveCount}</Text>\r\n            }\r\n          </View>\r\n          <View style={styles.gridThirdRight}>\r\n            {\r\n              (found && found?.onlineStatusFlg === 'B') ?\r\n                <Text style={{ fontFamily: 'varela-round', color: theme.grey7, fontSize: 12 }}>ONLINE ORDER <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 12 }}>OFF</Text></Text>\r\n                :\r\n                <Text style={{ fontFamily: 'varela-round', color: theme.grey7, fontSize: 12 }}>  </Text>\r\n            }\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, availableMenus, selectedMenu, searchText, displayMode,\r\n      overlayRequestAccessVisible, overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n      loading, statusFlg, onlineStatusFlg, serveLimit } = this.state;\r\n    console.log('in activate');\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        {\r\n          overlayRequestAccessVisible &&\r\n          <OverlayRequestAccess\r\n            home={home}\r\n            requestedPrivilege='UPDATEMENU'\r\n            handleUpdateFromRequestAccess={this.handleUpdateFromRequestAccess} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.button}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER SEARCH TEXT'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={searchText}\r\n                    onChangeText={(searchText) => this.handleSearchText(searchText)}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => {\r\n                      this.setState({ searchText: '' }, () => this.handleSearchText(''))\r\n                      Keyboard.dismiss()\r\n                    }}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <TouchableOpacity style={styles.searchBoxInfoLeft}\r\n                    onPress={() => this.handlePressDisplayMode()}\r\n                  >\r\n                    <Text style={styles.searchBoxInfoText}>{displayMode}</Text>\r\n                  </TouchableOpacity>\r\n                  <View style={styles.searchBoxInfoRight}>\r\n                    <Text style={styles.searchBoxInfoText}>{availableMenus.length} ITEMS</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  data={availableMenus}\r\n                  showsVerticalScrollIndicator={false}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                  renderItem={({ item }) => this.renderItem(item)}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              {\r\n                selectedMenu &&\r\n                <View style={{ flex: 1, backgroundColor: theme.grey3, borderRadius: 5 }}>\r\n                  <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                    <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                    <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}>{selectedMenu.menuName}</Text>\r\n                  </View>\r\n                  <View style={styles.inputContainer}>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Status</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.inputRowRight}\r\n                        onPress={() => this.doToggleStatus()}>\r\n                        <Text style={[styles.inputRowRightText, { color: statusFlg === 'A' ? theme.reserved : theme.paid }]}>{statusFlg === 'A' ? 'Active' : 'Inactive'}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Online Order</Text>\r\n                      </View>\r\n                      <TouchableOpacity style={styles.inputRowRight}\r\n                        onPress={() => this.doToggleOnlineStatus()}>\r\n                        <Text style={[styles.inputRowRightText, { color: onlineStatusFlg === 'A' ? theme.reserved : theme.paid }]}>{onlineStatusFlg === 'A' ? 'On' : 'Off'}</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={styles.inputRow}>\r\n                      <View style={styles.inputRowLeft}>\r\n                        <Text style={styles.inputRowLeftText}>Limit</Text>\r\n                      </View>\r\n                      <View style={styles.inputRowRight}>\r\n                        <TextInput style={styles.textInput}\r\n                          keyboardType='numeric'\r\n                          selectTextOnFocus={true}\r\n                          value={serveLimit}\r\n                          onChangeText={text => this.setState({ serveLimit: text })}\r\n                        />\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              }\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.button, !selectedMenu && { opacity: 0.2 }]}\r\n                disabled={loading || !selectedMenu}\r\n                onPress={() => this.doSubmit()}>\r\n                <AntDesign\r\n                  name='staro'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.buttonText}>{intl.get('update')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  button: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n  inputContainer: {\r\n    marginTop: 30,\r\n    marginHorizontal: 5,\r\n  },\r\n  inputRow: {\r\n    flexDirection: 'row',\r\n    height: 40,\r\n    margin: 5,\r\n  },\r\n  inputRowLeft: {\r\n    flex: 1,\r\n    paddingLeft: 10,\r\n    justifyContent: 'center',\r\n  },\r\n  inputRowRight: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n    // justifyContent: 'center',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  inputRowLeftText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  inputRowRightText: {\r\n    paddingHorizontal: 10,\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n  textInput: {\r\n    paddingHorizontal: 10,\r\n    flex: 1,\r\n    width: '100%',\r\n    textAlign: 'right',\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n  },\r\n});","import React, { Component } from 'react';\r\nimport {\r\n  StyleSheet, Text, View,\r\n  TextInput, TouchableOpacity,\r\n  Keyboard, Dimensions,\r\n  FlatList, ScrollView,\r\n} from 'react-native';\r\nimport { AntDesign, MaterialCommunityIcons, Feather } from '@expo/vector-icons';\r\nimport { debug } from '../assets/utility';\r\nimport theme from '../assets/theme';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayAlert from './OverlayAlert';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\n\r\nexport default class Fire extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      masters: props.route.params.masters,\r\n      selectedTable: props.route.params.selectedTable,\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      kitchenmsgs: props.route.params.masters.kitchenmsgs,\r\n      kottypes: props.route.params.masters.kottypes,\r\n      privileges: props.route.params.masters.privileges,\r\n      settings: props.route.params.masters.settings,\r\n\r\n      remark: '',\r\n      selectedTableItems: [],\r\n      selectedKottypes: [],\r\n      selectedKitchenmsg: null,\r\n\r\n      overlayRequestPrivilegeVisible: false,\r\n      overlayProcedureMessageVisible: false,\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    };\r\n\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  doReset() {\r\n    Keyboard.dismiss();\r\n    this.setState({\r\n      selectedKitchenmsg: null,\r\n      selectedKottypes: [],\r\n      selectedTableItems: [],\r\n      remark: '',\r\n    })\r\n  }\r\n\r\n  doPressFire() {\r\n    const { selectedKottypes, selectedTableItems, remark } = this.state;\r\n    // let options = [];\r\n    // options.push({ text: 'Yes', handleText: 'doSubmit' });\r\n    // this.setState({\r\n    //   overlayAlertInputValue: {\r\n    //     title: intl.get('action'),\r\n    //     subtitle: 'Fire',\r\n    //     text: `${intl.get('fire')} \"${remark}\" (${selectedTableItems.map(el => el.menuId).join(',')}) (${selectedKottypes.map(el => el.kotType).join(',')})`,\r\n    //     ok: false,\r\n    //     cancel: true,\r\n    //     options: options,\r\n    //   },\r\n    //   overlayAlertVisible: true,\r\n    // });\r\n    this.doSubmit();\r\n  }\r\n\r\n  doPressKitchenmsg(item) {\r\n    const { selectedKitchenmsg, kottypes } = this.state;\r\n    if (selectedKitchenmsg?.recKey === item?.recKey) {\r\n      this.setState({\r\n        selectedKitchenmsg: null,\r\n        remark: '',\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKitchenmsg: item,\r\n        remark: item.name,\r\n        selectedKottypes: item.kotTypes?.split(',').map(el => kottypes.find(obj => obj.kotType === el)) || [],\r\n      })\r\n    }\r\n  }\r\n\r\n  doPressTableItem(item) {\r\n    const { selectedTableItems, } = this.state;\r\n    let selectedTableItemsUpdate = selectedTableItems;\r\n    if (selectedTableItems.some(el => el.recKey === item.recKey)) {\r\n      selectedTableItemsUpdate = selectedTableItems.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedTableItemsUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedTableItems: selectedTableItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressKottype(item) {\r\n    const { selectedKottypes } = this.state;\r\n    let selectedKottypesUpdate = selectedKottypes;\r\n    if (selectedKottypes.some(el => el.recKey === item.recKey)) {\r\n      selectedKottypesUpdate = selectedKottypes.filter(el => el.recKey !== item.recKey);\r\n    } else {\r\n      selectedKottypesUpdate.push(item);\r\n    }\r\n    this.setState({\r\n      selectedKottypes: selectedKottypesUpdate,\r\n    })\r\n  }\r\n\r\n  doPressAllKottype() {\r\n    const { selectedKottypes, kottypes } = this.state;\r\n    if (!kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey))) {\r\n      this.setState({\r\n        selectedKottypes: [],\r\n      })\r\n    } else {\r\n      this.setState({\r\n        selectedKottypes: kottypes,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n    if (text === 'doSubmit') {\r\n      this.doSubmit();\r\n    }\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, masters, settings,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes, remark } = this.state;\r\n    let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/fire-kot';\r\n    const body = {\r\n      userId: home.userId,\r\n      orgId: home.orgId,\r\n      locId: home.locId,\r\n      opentableRecKey: selectedTable.recKey,\r\n      remark: remark,\r\n      kotTypes: selectedKottypes.map(el => el.kotType).join(','),\r\n      opentableItemRecKeys: selectedTableItems.map(el => el.recKey).join(','),\r\n      msgId: selectedKitchenmsg?.msgId,\r\n    };\r\n    console.log(body)\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log('post fire-kot successful', response);\r\n        settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n          debug(\r\n            serviceEntry,\r\n            'Fire Course',\r\n            home.userName,\r\n            response.message,\r\n            selectedTable.tableId,\r\n            '',\r\n            remark + ' (' + selectedTableItems.map(el => el.menuId).join(',') + ')' + ' (' + selectedKottypes.map(el => el.kotType).join(',') + ')',\r\n          );\r\n        if (response.message) {\r\n          this.setState({\r\n            overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n          })\r\n          return;\r\n        }\r\n        navigation.goBack();\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { navigation } = this.props;\r\n    const { home, remark, kottypes, kitchenmsgs, tableItems,\r\n      selectedKitchenmsg, selectedTableItems, selectedKottypes,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue,\r\n    } = this.state;\r\n\r\n    return (\r\n      <View style={styles.container}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={styles.leftContainer}>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={styles.navigateButton}\r\n                onPress={() => navigation.goBack()}>\r\n                <AntDesign\r\n                  name='left'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('back')}</Text>\r\n              </TouchableOpacity>\r\n              <View style={styles.selectionContainer}>\r\n              </View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingRight: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBox}>\r\n                  <TextInput style={styles.searchBoxInputValue}\r\n                    placeholder='ENTER MESSAGE'\r\n                    placeholderTextColor='rgba(255,255,255,0.2)'\r\n                    value={remark}\r\n                    onChangeText={(text) => this.setState({ remark: text })}\r\n                  />\r\n                  <TouchableOpacity style={styles.searchBoxButton}\r\n                    onPress={() => this.doReset()}>\r\n                    <AntDesign name='close' size={24} color={theme.grey4} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1, marginHorizontal: 2.5 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kitchenmsgs}\r\n                  numColumns={2}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, { marginHorizontal: 2.5 }, selectedKitchenmsg?.recKey === item?.recKey && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKitchenmsg(item)}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.name}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        <View style={styles.rightContainer}>\r\n          <View style={styles.displayContainer}>\r\n            <View style={[styles.displayWrapper, { paddingLeft: 5 }]}>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={styles.titleFirstContainer}>\r\n                    <Text style={styles.titleText}>Qty</Text>\r\n                  </View>\r\n                  <View style={styles.titleSecondContainer}>\r\n                    <Text style={styles.titleText}>Desc</Text>\r\n                  </View>\r\n                  <View style={styles.titleThirdContainer}>\r\n                    <Text style={styles.titleText}>Price</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    <Text style={styles.titleText}>Total</Text>\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={tableItems}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedTableItems.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }, item.refRecKey && { opacity: 0.2 }]}\r\n                      disabled={item.refRecKey ? true : false}\r\n                      onPress={() => this.doPressTableItem(item)}>\r\n                      <View style={[styles.tableItemFirstContainer, item.fireFlg === 'Y' && { borderRightColor: theme.reserved }]}><Text style={styles.tableItemText}>{item.orderQty}</Text></View>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.refRecKey ? '- ' : null}{item.menuName}\r\n                        </Text>\r\n                        {item.menuMod ? <Text style={styles.tableItemModText}>{item.menuMod}</Text> : null}\r\n                      </View>\r\n                      <View style={styles.tableItemThirdContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.netPrice && item.netPrice.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                      <View style={styles.tableItemFourthContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.lineTotal && item.lineTotal.toFixed(2)}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n              <View style={styles.gridContainer}>\r\n                <View style={styles.searchBoxInfo}>\r\n                  <View style={{ paddingLeft: 10, alignItems: 'center', justifyContent: 'center', }}>\r\n                    <Text style={styles.titleText}>Destination</Text>\r\n                  </View>\r\n                  <View style={styles.titleFourthContainer}>\r\n                    {\r\n                      selectedKottypes.length > 1 ?\r\n                        <Text style={[styles.titleText, { color: 'white' }]}>Various</Text>\r\n                        :\r\n                        selectedKottypes.length === 1 ?\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>{kottypes?.find(el => el.kotType === selectedKottypes[0].kotType)?.kotName}</Text>\r\n                          :\r\n                          <Text style={[styles.titleText, { color: 'white' }]}>-</Text>\r\n                    }\r\n                  </View>\r\n                </View>\r\n                <FlatList\r\n                  style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}\r\n                  data={kottypes}\r\n                  keyExtractor={item => item.recKey.toString()}\r\n                  ListHeaderComponent={\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, !kottypes.some(el => !selectedKottypes.some(obj => obj.recKey === el.recKey)) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressAllKottype()}>\r\n                      <View style={styles.tableItemSecondContainer}>\r\n                        <Text style={styles.tableItemText}>\r\n                          ALL KOT PRINTERS\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  }\r\n                  renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                      style={[styles.tableItemContainer, selectedKottypes.some(el => el.recKey === item.recKey) && { backgroundColor: theme.occupied }]}\r\n                      onPress={() => this.doPressKottype(item)}>\r\n                      <View style={[styles.tableItemSecondContainer, { flexDirection: 'row', justifyContent: 'space-between', paddingRight: 10, alignItems: 'center' }]}>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotName}\r\n                        </Text>\r\n                        <Text style={styles.tableItemText}>\r\n                          {item.kotType}\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  )}\r\n                />\r\n              </View>\r\n              <View style={styles.gap}></View>\r\n            </View>\r\n          </View>\r\n          <View style={styles.navigateContainer}>\r\n            <View style={styles.navigateWrapper}>\r\n              <TouchableOpacity style={[styles.navigateButton, ((selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark) && { opacity: 0.2 }]}\r\n                disabled={(selectedTableItems.length === 0 && selectedKottypes.length === 0) || !remark}\r\n                onPress={() => this.doPressFire()}>\r\n                <AntDesign\r\n                  name='customerservice'\r\n                  color='white'\r\n                  size={36}\r\n                />\r\n                <Text style={styles.navigateButtonText}>{intl.get('fire')}</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  leftContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  rightContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  displayContainer: {\r\n    flex: 3,\r\n    backgroundColor: theme.grey1,\r\n  },\r\n  displayWrapper: {\r\n    flex: 1,\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    alignItems: 'stretch',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  searchBox: {\r\n    backgroundColor: theme.grey1,\r\n    height: 50,\r\n    borderRadius: 100,\r\n    margin: 5,\r\n    marginTop: 10,\r\n    marginBottom: 0,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInputValue: {\r\n    flex: 1,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 16,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 50,\r\n  },\r\n  searchBoxButton: {\r\n    height: 50,\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n  },\r\n  searchBoxInfo: {\r\n    height: 20,\r\n    margin: 5,\r\n    flexDirection: 'row',\r\n  },\r\n  searchBoxInfoLeft: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoRight: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  searchBoxInfoText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  grid: {\r\n    margin: 5,\r\n    marginTop: 0,\r\n    marginBottom: 10,\r\n    backgroundColor: theme.grey4,\r\n    flexDirection: 'column',\r\n    padding: 10,\r\n  },\r\n  gridFirst: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridSecond: {\r\n    marginVertical: 5\r\n  },\r\n  gridThird: {\r\n    flexDirection: 'row'\r\n  },\r\n  gridFirstLeft: {\r\n    flex: 1,\r\n  },\r\n  gridFirstRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridThirdLeft: {\r\n    flex: 1,\r\n  },\r\n  gridThirdRight: {\r\n    flex: 1,\r\n    alignItems: 'flex-end',\r\n  },\r\n  gridFirstLeftText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridFirstRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round'\r\n  },\r\n  gridSecondText: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    fontFamily: 'varela-round',\r\n    opacity: 0.8,\r\n  },\r\n  gridThirdRightText: {\r\n    color: 'white',\r\n    fontSize: 12,\r\n    fontFamily: 'varela-round',\r\n  },\r\n  navigateContainer: {\r\n    flex: 1,\r\n    backgroundColor: theme.grey1,\r\n    flexDirection: 'column',\r\n  },\r\n  navigateWrapper: {\r\n    flex: 1,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n  },\r\n  navigateButton: {\r\n    backgroundColor: 'transparent',\r\n    borderRadius: 10,\r\n    aspectRatio: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  navigateButtonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonsContainer: {\r\n    paddingHorizontal: 10,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  button: {\r\n    height: 100,\r\n    width: 100,\r\n    margin: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey1,\r\n    borderRadius: 5,\r\n  },\r\n  buttonText: {\r\n    color: 'white',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    marginTop: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  selectionContainer: {\r\n    marginTop: 10,\r\n  },\r\n  selection: {\r\n    backgroundColor: theme.grey3,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 30,\r\n  },\r\n  selectionText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n  },\r\n  gap: {\r\n    padding: 5,\r\n  },\r\n  tableItemText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n  },\r\n  tableItemModText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: theme.reserved,\r\n  },\r\n  tableItemContainer: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    minHeight: 50,\r\n    paddingVertical: 5,\r\n    marginHorizontal: 5,\r\n    marginBottom: 5,\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  tableItemFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: 'white',\r\n  },\r\n  tableItemSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  tableItemThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  tableItemFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleFirstContainer: {\r\n    width: 50,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRightWidth: 3,\r\n    borderRightColor: theme.grey3,\r\n  },\r\n  titleSecondContainer: {\r\n    flex: 8,\r\n    justifyContent: 'center',\r\n    paddingLeft: 10,\r\n  },\r\n  titleThirdContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n  },\r\n  titleFourthContainer: {\r\n    flex: 2,\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'center',\r\n    minWidth: 64,\r\n    paddingRight: 10,\r\n  },\r\n  titleText: {\r\n    fontFamily: 'varela-round',\r\n    color: theme.grey5,\r\n  },\r\n  overlayHeader: {\r\n    height: 50,\r\n    marginVertical: 5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  overlayTitleText: {\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'varela-round',\r\n    fontSize: 12,\r\n    color: 'white',\r\n    opacity: 0.6,\r\n  },\r\n  overlaySubtitleText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 24,\r\n    color: 'white',\r\n  },\r\n});","import { Component } from 'react';\r\nimport { AntDesign, Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image, TextInput, Alert, SectionList, ScrollView, FlatList, Platform } from 'react-native';\r\nimport theme from '../assets/theme';\r\nimport { debug } from '../assets/utility';\r\nimport intl from 'react-intl-universal';\r\nimport OverlayProcedureMessage from './OverlayProcedureMessage';\r\nimport OverlayAlert from './OverlayAlert';\r\n\r\nexport default class Combo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      home: props.route.params.home,\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      preference: props.route.params.preference,\r\n      masters: props.route.params.masters,\r\n      settings: props.route.params.masters.settings,\r\n      modBundles: props.route.params.masters.modBundles,\r\n      mods: props.route.params.masters.mods,\r\n      selectedTable: props.route.params.selectedTable,\r\n      selectedMenu: props.route.params.selectedMenu, // NEW\r\n      selectedTableItem: props.route.params.selectedTableItem, // EDIT\r\n      tableItems: props.route.params.tableItems,\r\n\r\n      globalModBundles: props.route.params.masters.modBundles.filter(el => (!el.modmas.locId || el.modmas.locId === props.route.params.home.locId) && el.modmas.globalFlg === 'Y'),\r\n      comboGroups: props.route.params.masters.comboGroups.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      comboItems: props.route.params.masters.comboItems.filter(el => el.refMenuId === props.route.params.selectedMenu.menuId),\r\n      selectedComboItems: [],\r\n      selectedComboItem: null,\r\n\r\n      loading: false,\r\n      menuName: props.route.params.selectedTableItem ? props.route.params.selectedTableItem?.menuName : props.route.params.selectedMenu.menuName,\r\n      qtyInput: props.route.params.selectedTableItem?.orderQty?.toString() || '1',\r\n      orderType: props.route.params.selectedTableItem ? (props.route.params.selectedTableItem?.orderType || 'A') : (props.route.params.selectedTable?.orderType || 'A'),\r\n    };\r\n\r\n    this.handleUpdateFromProcedureMessage = this.handleUpdateFromProcedureMessage.bind(this);\r\n    this.handleUpdateFromAlert = this.handleUpdateFromAlert.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log('mount combo', this.state.comboItems, this.state.selectedComboItems)\r\n    this.doPrepareComboItems();\r\n  }\r\n\r\n  doPrepareComboItems() {\r\n    const { comboItems, tableItems, selectedTableItem } = this.state;\r\n    let tableItemsUpdate = selectedTableItem ? tableItems?.filter(el => el.refRecKey === selectedTableItem.recKey) : [];\r\n    let comboItemsUpdate = comboItems.map(el => ({\r\n      ...el,\r\n      modInput: tableItems?.find(obj => obj.comboitemRecKey === el.recKey)?.menuMod || '',\r\n      modRecKeys: tableItems?.find(obj => obj.comboitemRecKey === el.recKey)?.modRecKeys?.split(',') || [],\r\n    }));\r\n    let selectedComboItemsUpdate = comboItemsUpdate.filter(el => tableItemsUpdate.some(obj => obj.comboitemRecKey === el.recKey));\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n      selectedComboItems: selectedComboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doComboItemModInput(text) {\r\n    const { comboItems, selectedComboItem } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = text;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doPressComboItem(item) {\r\n    const { selectedComboItems } = this.state;\r\n    let selectedComboItemsUpdate = selectedComboItems;\r\n    if (selectedComboItems.some(el => el.recKey === item.recKey)) {\r\n      selectedComboItemsUpdate = selectedComboItems.filter(el => el.recKey !== item.recKey);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: null,\r\n        selectedModBundle: null,\r\n      })\r\n    } else {\r\n      selectedComboItemsUpdate.push(item);\r\n      this.setState({\r\n        selectedComboItems: selectedComboItemsUpdate,\r\n        selectedComboItem: item,\r\n        selectedModBundle: null,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromProcedureMessage(text) {\r\n    if (!text) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  handleUpdateFromAlert(text) {\r\n    const { selectedTable, selectedTableItem } = this.state;\r\n    this.setState({\r\n      overlayAlertVisible: false,\r\n      overlayAlertInputValue: '',\r\n    });\r\n    if (!text) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  doValidateQty(text) {\r\n    if (!text || isNaN(text)) {\r\n      this.setState({\r\n        qtyInput: '0',\r\n      })\r\n    } else {\r\n      this.setState({\r\n        qtyInput: text,\r\n      })\r\n    }\r\n  }\r\n\r\n  doChangeQty(type) {\r\n    const { qtyInput } = this.state;\r\n    let qtyInputUpdate = Number(qtyInput);\r\n    if (type === 'PLUS') {\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate + 1).toString(),\r\n      });\r\n    }\r\n    else if (type === 'MINUS') {\r\n      if (qtyInputUpdate <= 1) return;\r\n      this.setState({\r\n        qtyInput: (qtyInputUpdate - 1).toString(),\r\n      });\r\n    }\r\n  }\r\n\r\n  doToggleOrderType() {\r\n    const { orderType, comboItems } = this.state;\r\n    let comboItemsUpdate = comboItems;\r\n\r\n    if (orderType === 'A') {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n        el.modInput = `*${intl.get('takeaway')}  ` + el.modInput;\r\n      })\r\n      this.setState({\r\n        orderType: 'B',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    } else {\r\n      comboItemsUpdate.forEach(el => {\r\n        el.modInput = el.modInput.replace(`*${intl.get('takeaway')}  `, '');\r\n      })\r\n      this.setState({\r\n        orderType: 'A',\r\n        comboItems: comboItemsUpdate,\r\n      });\r\n    }\r\n  }\r\n\r\n  doPressModBundle(item) {\r\n    this.setState({\r\n      selectedModBundle: item,\r\n    })\r\n  }\r\n\r\n  doPressMod(item) {\r\n    const { selectedModBundle, selectedComboItem, comboItems } = this.state;\r\n    let modInputUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput;\r\n    let modRecKeysUpdate = comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys;\r\n\r\n    if (selectedModBundle.modmas.modType === 'A') {\r\n      // any\r\n      if (comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate = modInputUpdate.replace('*' + item.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== item.recKey.toString());\r\n      } else {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    } else {\r\n      // either\r\n      selectedModBundle.moditems.forEach(el => {\r\n        modInputUpdate = modInputUpdate.replace('*' + el.name + '  ', '');\r\n        modRecKeysUpdate = modRecKeysUpdate.filter(obj => obj !== el.recKey.toString());\r\n      })\r\n      if (!comboItems.find(el => el.recKey === selectedComboItem.recKey).modRecKeys.some(el => el === item.recKey.toString())) {\r\n        modInputUpdate += '*' + item.name + '  ';\r\n        modRecKeysUpdate.push(item.recKey.toString());\r\n      }\r\n    }\r\n\r\n    let comboItemsUpdate = comboItems;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modInput = modInputUpdate;\r\n    comboItemsUpdate.find(el => el.recKey === selectedComboItem.recKey).modRecKeys = modRecKeysUpdate;\r\n    this.setState({\r\n      comboItems: comboItemsUpdate,\r\n    })\r\n  }\r\n\r\n  doSubmit() {\r\n    const { navigation } = this.props;\r\n    const { serviceEntry, home, selectedTable, selectedMenu, selectedTableItem, mods, masters, settings, modBundles,\r\n      globalModBundles, comboGroups, comboItems, selectedComboItems,\r\n      menuName, qtyInput, orderType, } = this.state;\r\n\r\n    // no table\r\n    if (!selectedTable) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'MISSING TABLE',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // table status\r\n    if (selectedTable.statusFlg !== 'C') {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK TABLE STATUS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // combo group min max\r\n    if (comboGroups.some(el => (selectedComboItems.filter(obj => obj.groupNo === el.groupNo).length > el.maxSelectItem || selectedComboItems.filter(obj => obj.groupNo === el.groupNo).length < el.minSelectItem))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK MIN MAX',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n    // combo item compulsory modifier\r\n    if (selectedComboItems.some(arr => modBundles.filter(el => el.modmas.mustFlg === 'Y' && (globalModBundles.some(obj => obj.modmas.modId === el.modmas.modId) || mods.some(obj => obj.menuId === arr.menuId && obj.modId === el.modmas.modId))).some(el => !el.moditems.some(obj => arr.modRecKeys.some(el => el === obj.recKey.toString()))))) {\r\n      this.setState({\r\n        overlayProcedureMessageVisible: 'CHECK COMPULSORY MODIFIERS',\r\n        loading: false,\r\n      })\r\n      return;\r\n    }\r\n\r\n    if (selectedTableItem) {\r\n      // edit item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/update-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        opentableItemRecKey: selectedTableItem.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Update Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post update-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    } else {\r\n      // add item\r\n      let url = serviceEntry + 'api/tables/' + selectedTable.recKey + '/insert-combo';\r\n      const body = {\r\n        opentableRecKey: selectedTable.recKey,\r\n        userId: home.userId,\r\n        restmenuRecKey: selectedMenu.recKey,\r\n        orderQty: qtyInput,\r\n        orderType: orderType,\r\n        menuName: menuName,\r\n        itemPayloads: selectedComboItems.map(el => ({\r\n          combogroupRecKey: comboGroups.find(obj => obj.groupNo === el.groupNo).recKey,\r\n          comboitemRecKey: el.recKey,\r\n          restmenuMod: comboItems.find(obj => obj.recKey === el.recKey).modInput,\r\n          modRecKeys: comboItems.find(obj => obj.recKey === el.recKey).modRecKeys.join(','),\r\n          // need one more hole for modRecKeys\r\n          orderQty: qtyInput,\r\n          orderType: orderType,\r\n        })),\r\n      };\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json; charset=utf-8\",\r\n        },\r\n        body: JSON.stringify(body),\r\n      })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n          settings.find(el => el.setId === 'BISTRODEBUG')?.setString === 'Y' &&\r\n            debug(\r\n              serviceEntry,\r\n              'Insert Item',\r\n              home.userName,\r\n              response.message,\r\n              selectedTable.tableId,\r\n              menuName,\r\n            );\r\n          console.log('post insert-item successful', response);\r\n          if (response.message) {\r\n            this.setState({\r\n              overlayProcedureMessageVisible: response.message.toUpperCase(),\r\n              loading: false,\r\n            })\r\n            return;\r\n          }\r\n          navigation.goBack();\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { navigation, route } = this.props;\r\n    const { loading, preference,\r\n      home, selectedMenu, selectedTableItem, masters, mods, modBundles, selectedModBundle,\r\n      globalModBundles,\r\n      menuName, qtyInput, orderType,\r\n      comboGroups, comboItems, selectedComboItems, selectedComboItem,\r\n      overlayProcedureMessageVisible, overlayAlertVisible, overlayAlertInputValue, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'rgba(0,0,0,0.9)' }}>\r\n        {\r\n          overlayAlertVisible &&\r\n          <OverlayAlert\r\n            input={overlayAlertInputValue}\r\n            handleUpdateFromAlert={this.handleUpdateFromAlert} />\r\n        }\r\n        {\r\n          overlayProcedureMessageVisible &&\r\n          <OverlayProcedureMessage\r\n            text={overlayProcedureMessageVisible}\r\n            handleUpdateFromProcedureMessage={this.handleUpdateFromProcedureMessage} />\r\n        }\r\n        <View style={{ width: 10, }}></View>\r\n        <View style={{ flex: 1, }}>\r\n          {\r\n            selectedComboItem &&\r\n            <View style={{ flex: 1, marginVertical: 10, marginLeft: 0, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginVertical: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedComboItem.menuId}</Text>\r\n                  <Text style={{\r\n                    fontFamily: 'varela-round',\r\n                    color: 'white',\r\n                    fontSize: 20,\r\n                    textAlign: 'center',\r\n                    paddingHorizontal: 20,\r\n                  }} numberOfLines={2}>{selectedComboItem.menuName}</Text>\r\n                </View>\r\n                <TextInput style={styles.modifierTextInput}\r\n                  multiline={true}\r\n                  placeholder='CHOOSE FROM PREDEFINED MODIFIERS OR ENTER TEXT'\r\n                  placeholderTextColor='rgba(255,255,255,0.2)'\r\n                  value={comboItems.find(el => el.recKey === selectedComboItem.recKey).modInput}\r\n                  onChangeText={text => this.doComboItemModInput(text)}\r\n                />\r\n                <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                  <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MODIFIER</Text>\r\n                </View>\r\n                <ScrollView style={{ flex: 1 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  <View style={styles.modContainer}>\r\n                    {\r\n                      mods?.filter(el => el.menuId === selectedMenu.menuId || el.menuId === selectedComboItem?.menuId)?.map(item => modBundles.find(el => el.modmas.modId === item.modId))?.map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                    {\r\n                      globalModBundles?.map(item =>\r\n                        <TouchableOpacity key={item.modmas.recKey.toString()} style={[styles.modButton, item.modmas.mustFlg === 'Y' && { backgroundColor: theme.paid }]}\r\n                          onPress={() => this.doPressModBundle(item)}>\r\n                          <Text style={styles.modText}>{item.modmas.name}</Text>\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </View>\r\n                </ScrollView>\r\n                <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', backgroundColor: theme.grey2, }}>\r\n                  <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: theme.grey7, }}>MODIFIER OPTIONS</Text>\r\n                </View>\r\n                <View style={{ flex: 1, backgroundColor: theme.grey4 }}>\r\n                  <ScrollView\r\n                    contentContainerStyle={{ flexGrow: 1, alignItems: 'flex-end', justifyContent: 'center' }}\r\n                    showsVerticalScrollIndicator={false}>\r\n                    {\r\n                      selectedModBundle?.moditems.map(item =>\r\n                        <TouchableOpacity key={item.recKey.toString()} style={[styles.modButton, { margin: 10 }, comboItems.find(el => el.recKey === selectedComboItem.recKey)?.modRecKeys.some(el => el === item.recKey.toString()) && { backgroundColor: theme.occupied }]}\r\n                          onPress={() => this.doPressMod(item)}>\r\n                          <Text style={styles.modText}>{item.name}</Text>\r\n                          {\r\n                            item.listPrice !== 0 &&\r\n                            <Text style={{ position: 'absolute', top: -15, right: 10, fontFamily: 'varela-round', color: theme.reserved, fontSize: 20, }}>{item.listPrice < 0 ? '' : '+'}{item.listPrice?.toFixed(2)}</Text>\r\n                          }\r\n                        </TouchableOpacity>\r\n                      )\r\n                    }\r\n                  </ScrollView>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          }\r\n        </View>\r\n        <View style={{ flex: 2 }}>\r\n          <View style={{ flex: 1, flexDirection: 'row', padding: 5 }}>\r\n            <View style={{ flex: 1, margin: 5, backgroundColor: theme.grey2, borderRadius: 5, }}>\r\n              <View style={{ flex: 1, margin: 5, marginBottom: 0, backgroundColor: theme.grey4 }}>\r\n                <View style={{ alignItems: 'center', marginTop: 10, }}>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.paid, fontSize: 16, }}>{selectedMenu.menuId}</Text>\r\n                  <TextInput style={{ height: 50, width: '90%', fontFamily: 'varela-round', color: 'white', fontSize: 20, textAlign: 'center', paddingHorizontal: 20, }}\r\n                    editable={(home.adminFlg === 'Y' || masters.privileges.some(el => el.priId === 'EDITITEM'))}\r\n                    multiline\r\n                    blurOnSubmit\r\n                    value={menuName}\r\n                    onChangeText={text => this.setState({ menuName: text })}\r\n                  />\r\n                </View>\r\n                <View style={styles.menuQtyRow}>\r\n                  <TouchableOpacity style={styles.menuQtyRowFirst}\r\n                    onPress={() => this.doChangeQty('MINUS')}>\r\n                    <AntDesign name='minus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                  <View style={styles.menuQtyRowSecond}>\r\n                    <TextInput style={styles.qtyTextInput}\r\n                      value={qtyInput}\r\n                      keyboardType='numeric'\r\n                      onChangeText={text => this.doValidateQty(text)}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity style={styles.menuQtyRowThird}\r\n                    onPress={() => this.doChangeQty('PLUS')}>\r\n                    <AntDesign name='plus' size={32} color='rgba(0,0,0,0.85)' />\r\n                  </TouchableOpacity>\r\n                </View>\r\n                <ScrollView\r\n                  style={{ flex: 1, backgroundColor: theme.grey2, paddingBottom: 5 }}\r\n                  showsVerticalScrollIndicator={false}>\r\n                  {\r\n                    comboGroups.map(el =>\r\n                      <View key={el.recKey.toString()}>\r\n                        <View style={{ height: 20, justifyContent: 'center', alignItems: 'center', }}>\r\n                          <Text style={{ textTransform: 'uppercase', fontFamily: 'varela-round', fontSize: 12, color: 'white', }}>{el.groupName} <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.paid, }}>MIN</Text> {el.minSelectItem} <Text style={{ fontFamily: 'varela-round', fontSize: 12, color: theme.paid, }}>MAX</Text> {el.maxSelectItem}</Text>\r\n                        </View>\r\n                        <FlatList\r\n                          style={{ margin: -2.5 }}\r\n                          showsVerticalScrollIndicator={false}\r\n                          data={comboItems.filter(obj => obj.groupNo === el.groupNo)}\r\n                          numColumns={preference.pcolsize}\r\n                          keyExtractor={(item, index) => item.recKey.toString()}\r\n                          renderItem={({ item }) => this.renderComboItem(item)}\r\n                        />\r\n                      </View>\r\n                    )\r\n                  }\r\n                </ScrollView>\r\n              </View>\r\n            </View>\r\n            <View style={{ marginVertical: 5, width: 130, }}>\r\n              <ScrollView style={{ flex: 1 }}\r\n                showsVerticalScrollIndicator={false}\r\n                alwaysBounceVertical={false}>\r\n                <View style={{ paddingHorizontal: 5, height: 80, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: orderType === 'A' ? theme.grey3 : theme.paid, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doToggleOrderType()}>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', textTransform: 'uppercase' }}>{orderType === 'A' ? intl.get('dinein') : intl.get('takeaway')}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', textAlign: 'center', color: 'white', fontSize: 10 }}>ORDER TYPE</Text>\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => this.setState({ loading: true }, () => this.doSubmit())}>\r\n                  <AntDesign name=\"check\" size={28} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('PLUS')}>\r\n                  <AntDesign name='plus' size={26} color='white' />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: theme.grey3, borderRadius: 5, margin: 5 }}\r\n                  onPress={() => this.doChangeQty('MINUS')}>\r\n                  <AntDesign name=\"minus\" size={32} color='white' />\r\n                </TouchableOpacity>\r\n                <View style={{ paddingHorizontal: 5, height: 50, margin: 5 }}>\r\n                </View>\r\n                <TouchableOpacity style={{ alignItems: 'center', paddingHorizontal: 5, justifyContent: 'center', height: 50, backgroundColor: 'white', borderRadius: 5, margin: 5 }}\r\n                  disabled={loading}\r\n                  onPress={() => navigation.goBack()}>\r\n                  <AntDesign name=\"close\" size={26} color={theme.grey4} />\r\n                </TouchableOpacity>\r\n              </ScrollView>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderComboItem(item) {\r\n    const { preference, selectedComboItems } = this.state;\r\n    const found = selectedComboItems.some(el => el.recKey === item.recKey);\r\n\r\n    return (\r\n      <View style={{ flex: 1 / preference.pcolsize }}>\r\n        <TouchableOpacity style={{ height: 70, padding: 10, margin: 2.5, backgroundColor: found ? theme.occupied : theme.grey4, }}\r\n          onPress={() => this.doPressComboItem(item)}>\r\n          <View style={{ flex: 1 }}>\r\n            <Text style={{ fontFamily: 'varela-round', color: 'white', }} numberOfLines={2}>{item.menuName}</Text>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={{ fontFamily: 'varela-round', color: 'white', fontSize: 12, }}></Text>\r\n            <Text style={[{ fontFamily: 'varela-round', fontSize: 12, color: Number(item.addonPrice) === 0 ? 'transparent' : found ? 'white' : theme.reserved }]}>+{item.addonPrice?.toFixed(2)}</Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  modifierTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 20,\r\n    color: 'white',\r\n    paddingHorizontal: 20,\r\n    height: 120,\r\n    backgroundColor: theme.grey3,\r\n  },\r\n  menuQtyRow: {\r\n    height: 80,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowFirst: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    marginRight: 10,\r\n  },\r\n  menuQtyRowSecond: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  menuQtyRowThird: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    marginLeft: 10,\r\n  },\r\n  qtyTextInput: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 32,\r\n    width: '100%',\r\n    color: 'white',\r\n    textAlign: 'center',\r\n  },\r\n  modContainer: {\r\n    padding: 5,\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    backgroundColor: theme.grey4,\r\n  },\r\n  modButton: {\r\n    paddingHorizontal: 20,\r\n    minHeight: 32,\r\n    justifyContent: 'center',\r\n    borderRadius: 16,\r\n    backgroundColor: theme.grey2,\r\n    margin: 5,\r\n  },\r\n  modText: {\r\n    fontFamily: 'varela-round',\r\n    color: 'white',\r\n    fontSize: 20,\r\n  },\r\n});\r\n","import { Component } from 'react';\r\nimport { StyleSheet, View, Image, ScrollView, TouchableOpacity, Text, Alert, Platform, Dimensions } from 'react-native';\r\nimport { AntDesign, Ionicons, Entypo, MaterialCommunityIcons, Fontisto, FontAwesome, MaterialIcons } from '@expo/vector-icons';\r\nimport moment from 'moment';\r\nimport io from 'socket.io-client';\r\nimport intl from 'react-intl-universal';\r\nimport Constants from 'expo-constants';\r\nimport theme from '../assets/theme';\r\n\r\nexport default class Secondary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      serviceEntry: props.route.params.serviceEntry,\r\n      serviceEntryObj: props.route.params.serviceEntryObj,\r\n      preference: props.route.params.preference,\r\n\r\n      refresh: moment().format('HH:mm:ss'),\r\n      home: null,\r\n      selectedTable: null,\r\n      tableItems: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { serviceEntryObj, preference } = this.state;\r\n\r\n    if (preference?.usecondary) {\r\n      global.socket = io(\r\n        serviceEntryObj.restServiceUrl.substring(0, serviceEntryObj.restServiceUrl.lastIndexOf(\"/gateway\")) + '/socket.io',\r\n        {\r\n          query: {\r\n            userId: preference.usecondary,\r\n            serviceId: serviceEntryObj.epbId,\r\n          }\r\n        },\r\n      );\r\n      global.socket.on('room-participate', this.doRoomParticipate);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (global.socket) {\r\n      global.socket.off('room-participate', this.doRoomParticipate)\r\n      global.socket.close();\r\n    }\r\n  }\r\n\r\n  doRoomParticipate = data => {\r\n    console.log('chatbox room-participate', data);\r\n    this.setState({\r\n      home: data.home,\r\n      selectedTable: data.selectedTable,\r\n      tableItems: data.tableItems,\r\n    })\r\n  }\r\n\r\n  doTranslateTableColor(item) {\r\n    if (!item) return theme.grey9;\r\n    if (item.adhocItem) return theme.adhoc;\r\n    if (item.transType !== 'A') return theme.deposit;\r\n    if (item.statusFlg === 'A') {\r\n      return theme.vacant;\r\n    } else if (item.statusFlg === 'B') {\r\n      return theme.reserved;\r\n    } else if (item.statusFlg === 'C') {\r\n      return theme.occupied;\r\n    } else if (item.statusFlg === 'D') {\r\n      return theme.paid;\r\n    } else if (item.statusFlg === 'E') {\r\n      return theme.unavailable;\r\n    }\r\n  }\r\n\r\n  // not in use\r\n  doTranslateTableStatus(item) {\r\n    if (item.orderType === 'B') {\r\n      if (item.transType === 'A') {\r\n        return intl.get('sales');\r\n      } else if (item.transType === 'G') {\r\n        if (item.homeDelivery === 'Y') {\r\n          return intl.get('deposit') + 'DLY';\r\n        } else {\r\n          return intl.get('deposit');\r\n        }\r\n      }\r\n    } else {\r\n      return intl.get(`${item.statusFlg}`).d('Unknown');\r\n    }\r\n  }\r\n\r\n  doTranslateTableItemColor(item) {\r\n    if (item.fireFlg === 'Y') {\r\n      return theme.reserved;\r\n    }\r\n    if (item.confirmFlg === 'Y') {\r\n      return theme.occupied;\r\n    }\r\n    return theme.vacant;\r\n  }\r\n\r\n  render() {\r\n    const { route, navigation } = this.props;\r\n    const { serviceEntryObj, preference, refresh,\r\n      home, selectedTable, tableItems, } = this.state;\r\n\r\n    return (\r\n      <View style={{ flex: 1, flexDirection: 'row' }}>\r\n        <View style={{ width: 10, backgroundColor: theme.grey8 }}>\r\n          <View style={{ marginTop: 30, height: 100, backgroundColor: this.doTranslateTableColor(selectedTable) }}></View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n          <TouchableOpacity style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'space-between' }}\r\n            onPress={() => navigation.goBack()}>\r\n            <Text style={styles.footerText}>{home?.userName}</Text>\r\n            <Text style={styles.footerText}>{home?.locName}</Text>\r\n          </TouchableOpacity>\r\n          <View style={{ margin: 7, marginLeft: 0, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <View style={{ margin: 3, flex: 1, flexDirection: 'row', }}>\r\n              {\r\n                selectedTable &&\r\n                <View style={{ marginLeft: 0, aspectRatio: 1, backgroundColor: this.doTranslateTableColor(selectedTable), justifyContent: 'center', alignItems: 'center' }}\r\n                >\r\n                  <Text style={styles.tableUpperBand} numberOfLines={1}>{selectedTable.vipName || ''}</Text>\r\n                  <Text style={{ fontFamily: 'varela-round', color: theme.black8, fontSize: 24, letterSpacing: 1 }} numberOfLines={1}>{selectedTable.tableId}</Text>\r\n                  <Text style={styles.tableLowerBand} numberOfLines={1}>{selectedTable.sectionName}</Text>\r\n                </View>\r\n              }\r\n            </View>\r\n            <View style={{ margin: 3, height: 100 }}>\r\n            </View>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: 'white' }}>\r\n            <View style={{ width: 50, height: 20, alignItems: 'center', justifyContent: 'center', borderRightColor: theme.paid }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('qty')}</Text>\r\n            </View>\r\n            <View style={{ flex: 1, justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('desc')}</Text>\r\n            </View>\r\n            <View style={{ paddingRight: 10, alignItems: 'flex-end', justifyContent: 'center' }}>\r\n              <Text style={[styles.footerText, { fontSize: 12 }]}>{intl.get('total')}</Text>\r\n            </View>\r\n          </View>\r\n          <ScrollView style={{ flex: 1, }}\r\n            ref={ref => this.scrollViewRef = ref}\r\n            onContentSizeChange={() => this.scrollViewRef.scrollToEnd()}\r\n            showsVerticalScrollIndicator={false}>\r\n            {\r\n              tableItems.filter(el => !el.refRecKey).map(item => (\r\n                <View key={item.recKey.toString()}>\r\n                  {\r\n                    item.lineBreak === 'Y' &&\r\n                    <View style={{ alignItems: 'center', flexDirection: 'row', height: 20, }}>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                      <Text style={{ fontFamily: 'varela-round', color: theme.grey5, fontSize: 12 }}>LINE BREAK</Text>\r\n                      <View style={{ flex: 1, height: 1, width: 20, backgroundColor: theme.grey5, marginHorizontal: 20, }}></View>\r\n                    </View>\r\n                  }\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', marginVertical: 3, borderLeftWidth: 5, borderLeftColor: this.doTranslateTableItemColor(item), }}\r\n                  >\r\n                    <View style={{ paddingVertical: 10, width: 50, alignItems: 'center', borderRightColor: theme.paid }}>\r\n                      <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.orderQty}</Text>\r\n                    </View>\r\n                    <View style={{ paddingVertical: 10, flex: 1 }}>\r\n                      <View style={{ flexDirection: 'row' }}>\r\n                        <View style={{ flex: 1, }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.menuName}</Text>\r\n                          {\r\n                            item.menuMod &&\r\n                            <Text style={{ fontFamily: 'varela-round', fontSize: 16, color: theme.paid }}>{item.menuMod}</Text>\r\n                          }\r\n                        </View>\r\n                        <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                          <Text style={{ fontFamily: 'varela-round', fontSize: 16 }}>{item.lineTotal?.toFixed(2)}</Text>\r\n                        </View>\r\n                      </View>\r\n                      {\r\n                        tableItems.filter(el => el.refRecKey === item.recKey).map(obj =>\r\n                          <View style={{ marginTop: 5, flexDirection: 'row' }} key={obj.recKey.toString()}>\r\n                            <View style={{ flex: 1, }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14, marginLeft: 10 }}>- {obj.menuName}</Text>\r\n                              {\r\n                                obj.menuMod &&\r\n                                <Text style={{ fontFamily: 'varela-round', fontSize: 14, color: theme.paid }}>{obj.menuMod}</Text>\r\n                              }\r\n                            </View>\r\n                            <View style={{ paddingHorizontal: 10, alignItems: 'flex-end', }}>\r\n                              <Text style={{ fontFamily: 'varela-round', fontSize: 14 }}>{obj.lineTotal ? obj.lineTotal?.toFixed(2) : ''}</Text>\r\n                            </View>\r\n                          </View>\r\n                        )\r\n                      }\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              ))\r\n            }\r\n          </ScrollView>\r\n          <View style={{ margin: 10, marginBottom: 0, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'baseline' }}>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 10 }}></Text>\r\n            <Text style={{ fontFamily: 'varela-round', fontSize: 28 }}>${selectedTable?.grandTotal?.toFixed(2) || '0.00'}</Text>\r\n          </View>\r\n          <View style={{ margin: 7, flexDirection: 'row', }}>\r\n\r\n          </View>\r\n          <View style={{ marginHorizontal: 10, height: 20, flexDirection: 'row', justifyContent: 'space-between' }}>\r\n            <Text style={styles.footerText}>{moment().format('HH:mm')}</Text>\r\n            <Text style={styles.footerText}>EPB BISTRO {Constants.manifest.version?.split('.')[0]}</Text>\r\n          </View>\r\n        </View>\r\n        <View style={{ flex: 1, backgroundColor: theme.grey1 }}>\r\n          <Image\r\n            style={{ flex: 1 }}\r\n            source={{\r\n              uri: serviceEntryObj.restServiceUrl + 'epbm/api/image/stock?stkId=' + 'BISTRO-SECONDARY-' + serviceEntryObj.epbId + '&isResourceId=true&skuId=&t=' + refresh\r\n            }}\r\n            resizeMode='cover'\r\n          />\r\n        </View>\r\n      </View >\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  footerText: {\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableUpperBand: {\r\n    position: 'absolute',\r\n    top: 10, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    // backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'black',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  tableLowerBand: {\r\n    position: 'absolute',\r\n    bottom: 0, left: 0,\r\n    fontFamily: 'varela-round',\r\n    width: '100%',\r\n    paddingVertical: 5,\r\n    backgroundColor: theme.black8,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    color: 'white',\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  buttonText: {\r\n    marginTop: 10,\r\n    fontFamily: 'varela-round',\r\n    fontSize: 10,\r\n    color: theme.grey5,\r\n    textTransform: 'uppercase'\r\n  }\r\n});\r\n","import { Component } from 'react';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport { StyleSheet, Text, View, Platform } from 'react-native';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport * as Font from 'expo-font';\r\nimport intl from 'react-intl-universal';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { BarCodeScanner } from 'expo-barcode-scanner';\r\n\r\nimport Login from './src/Login';\r\nimport Main from './src/Main';\r\nimport Register from './src/Register';\r\nimport Preference from './src/Preference';\r\nimport Pos from './src/Pos';\r\nimport Split from './src/Split';\r\nimport Adhoc from './src/Adhoc';\r\nimport Dayclose from './src/Dayclose';\r\nimport Printer from './src/Printer';\r\nimport Report from './src/Report';\r\nimport Reprint from './src/Reprint';\r\nimport Resequence from './src/Resequence';\r\nimport Transfer from './src/Transfer';\r\nimport Void from './src/Void';\r\nimport Collect from './src/Collect';\r\nimport Table from './src/Table';\r\nimport Menu from './src/Menu';\r\nimport Scan from './src/Scan';\r\nimport Trace from './src/Trace';\r\nimport Activate from './src/Activate';\r\nimport Limit from './src/Limit';\r\nimport Fire from './src/Fire';\r\nimport Combo from './src/Combo';\r\nimport Secondary from './src/Secondary';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nexport default class App extends Component {\r\n\r\n  state = {\r\n    loading: true,\r\n  }\r\n\r\n  async componentDidMount() {\r\n\r\n    // locale data\r\n    const locales = {\r\n      \"zhs\": require('./assets/zhs.json'),\r\n      \"zht\": require('./assets/zht.json'),\r\n      \"en\": require('./assets/en.json'),\r\n      \"ja\": require('./assets/ja.json'),\r\n    };\r\n\r\n    const currentLocale = await AsyncStorage.getItem('language');\r\n\r\n    await intl.init({\r\n      currentLocale: currentLocale || 'en',\r\n      locales,\r\n    });\r\n\r\n    // ttf for native, woff for web\r\n    await Font.loadAsync({\r\n      // 'varela-round': require('./assets/VarelaRound-Regular.ttf'),\r\n      'varela-round': require('./assets/VarelaRound-Regular.woff'),\r\n    })\r\n\r\n    if (Platform.OS !== 'web') {\r\n      BarCodeScanner.getPermissionsAsync()\r\n        .then(response => {\r\n          if (response.status !== 'granted') return BarCodeScanner.requestPermissionsAsync();\r\n          return Promise.resolve(response);\r\n        })\r\n    }\r\n\r\n    this.setState({ loading: false })\r\n\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n\r\n    if (loading) return <View></View>;\r\n\r\n    return (\r\n      <NavigationContainer>\r\n        <StatusBar hidden />\r\n        <Stack.Navigator\r\n          screenOptions={{\r\n            headerShown: false,\r\n            animation: 'none',\r\n            gestureEnabled: false,\r\n          }}>\r\n          <Stack.Screen name=\"Login\" component={Login} options={Login.navigationOptions} />\r\n          <Stack.Screen name=\"Register\" component={Register} options={Register.navigationOptions} />\r\n          <Stack.Screen name=\"Preference\" component={Preference} options={Preference.navigationOptions} />\r\n          <Stack.Screen name=\"Secondary\" component={Secondary} options={Secondary.navigationOptions} />\r\n          <Stack.Screen name=\"Main\" component={Main} options={Main.navigationOptions} />\r\n          <Stack.Screen name=\"Pos\" component={Pos} options={Pos.navigationOptions} />\r\n          <Stack.Screen name=\"Split\" component={Split} options={Split.navigationOptions} />\r\n          <Stack.Screen name=\"Void\" component={Void} options={Void.navigationOptions} />\r\n          <Stack.Screen name=\"Collect\" component={Collect} options={Collect.navigationOptions} />\r\n          <Stack.Screen name=\"Transfer\" component={Transfer} options={Transfer.navigationOptions} />\r\n          <Stack.Screen name=\"Resequence\" component={Resequence} options={Resequence.navigationOptions} />\r\n          <Stack.Screen name=\"Reprint\" component={Reprint} options={Reprint.navigationOptions} />\r\n          <Stack.Screen name=\"Report\" component={Report} options={Report.navigationOptions} />\r\n          <Stack.Screen name=\"Printer\" component={Printer} options={Printer.navigationOptions} />\r\n          <Stack.Screen name=\"Dayclose\" component={Dayclose} options={Dayclose.navigationOptions} />\r\n          <Stack.Screen name=\"Adhoc\" component={Adhoc} options={Adhoc.navigationOptions} />\r\n          <Stack.Screen name=\"Scan\" component={Scan} options={Scan.navigationOptions} />\r\n          <Stack.Screen name=\"Trace\" component={Trace} options={Trace.navigationOptions} />\r\n          <Stack.Screen name=\"Activate\" component={Activate} options={Activate.navigationOptions} />\r\n          <Stack.Screen name=\"Limit\" component={Limit} options={Limit.navigationOptions} />\r\n          <Stack.Screen name=\"Table\" component={Table} options={Table.navigationOptions} />\r\n          <Stack.Screen name=\"Fire\" component={Fire} options={Fire.navigationOptions} />\r\n          <Stack.Screen name=\"Menu\" component={Menu} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n          <Stack.Screen name=\"Combo\" component={Combo} options={{\r\n            presentation: 'transparentModal',\r\n          }} />\r\n        </Stack.Navigator>\r\n      </NavigationContainer>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n","var map = {\n\t\"./af\": 94506,\n\t\"./af.js\": 94506,\n\t\"./ar\": 59687,\n\t\"./ar-dz\": 62887,\n\t\"./ar-dz.js\": 62887,\n\t\"./ar-kw\": 66307,\n\t\"./ar-kw.js\": 66307,\n\t\"./ar-ly\": 51664,\n\t\"./ar-ly.js\": 51664,\n\t\"./ar-ma\": 89926,\n\t\"./ar-ma.js\": 89926,\n\t\"./ar-sa\": 85207,\n\t\"./ar-sa.js\": 85207,\n\t\"./ar-tn\": 52912,\n\t\"./ar-tn.js\": 52912,\n\t\"./ar.js\": 59687,\n\t\"./az\": 5011,\n\t\"./az.js\": 5011,\n\t\"./be\": 25997,\n\t\"./be.js\": 25997,\n\t\"./bg\": 4427,\n\t\"./bg.js\": 4427,\n\t\"./bm\": 85385,\n\t\"./bm.js\": 85385,\n\t\"./bn\": 67703,\n\t\"./bn-bd\": 57002,\n\t\"./bn-bd.js\": 57002,\n\t\"./bn.js\": 67703,\n\t\"./bo\": 39841,\n\t\"./bo.js\": 39841,\n\t\"./br\": 45642,\n\t\"./br.js\": 45642,\n\t\"./bs\": 44707,\n\t\"./bs.js\": 44707,\n\t\"./ca\": 53512,\n\t\"./ca.js\": 53512,\n\t\"./cs\": 39497,\n\t\"./cs.js\": 39497,\n\t\"./cv\": 6479,\n\t\"./cv.js\": 6479,\n\t\"./cy\": 89318,\n\t\"./cy.js\": 89318,\n\t\"./da\": 97229,\n\t\"./da.js\": 97229,\n\t\"./de\": 63460,\n\t\"./de-at\": 51044,\n\t\"./de-at.js\": 51044,\n\t\"./de-ch\": 26445,\n\t\"./de-ch.js\": 26445,\n\t\"./de.js\": 63460,\n\t\"./dv\": 32096,\n\t\"./dv.js\": 32096,\n\t\"./el\": 16048,\n\t\"./el.js\": 16048,\n\t\"./en-au\": 74301,\n\t\"./en-au.js\": 74301,\n\t\"./en-ca\": 66855,\n\t\"./en-ca.js\": 66855,\n\t\"./en-gb\": 761,\n\t\"./en-gb.js\": 761,\n\t\"./en-ie\": 46127,\n\t\"./en-ie.js\": 46127,\n\t\"./en-il\": 49157,\n\t\"./en-il.js\": 49157,\n\t\"./en-in\": 37199,\n\t\"./en-in.js\": 37199,\n\t\"./en-nz\": 31511,\n\t\"./en-nz.js\": 31511,\n\t\"./en-sg\": 47309,\n\t\"./en-sg.js\": 47309,\n\t\"./eo\": 92160,\n\t\"./eo.js\": 92160,\n\t\"./es\": 68582,\n\t\"./es-do\": 71885,\n\t\"./es-do.js\": 71885,\n\t\"./es-mx\": 68131,\n\t\"./es-mx.js\": 68131,\n\t\"./es-us\": 16962,\n\t\"./es-us.js\": 16962,\n\t\"./es.js\": 68582,\n\t\"./et\": 98890,\n\t\"./et.js\": 98890,\n\t\"./eu\": 37704,\n\t\"./eu.js\": 37704,\n\t\"./fa\": 22562,\n\t\"./fa.js\": 22562,\n\t\"./fi\": 70877,\n\t\"./fi.js\": 70877,\n\t\"./fil\": 34246,\n\t\"./fil.js\": 34246,\n\t\"./fo\": 78341,\n\t\"./fo.js\": 78341,\n\t\"./fr\": 19867,\n\t\"./fr-ca\": 82347,\n\t\"./fr-ca.js\": 82347,\n\t\"./fr-ch\": 17683,\n\t\"./fr-ch.js\": 17683,\n\t\"./fr.js\": 19867,\n\t\"./fy\": 21982,\n\t\"./fy.js\": 21982,\n\t\"./ga\": 13905,\n\t\"./ga.js\": 13905,\n\t\"./gd\": 13443,\n\t\"./gd.js\": 13443,\n\t\"./gl\": 66905,\n\t\"./gl.js\": 66905,\n\t\"./gom-deva\": 91324,\n\t\"./gom-deva.js\": 91324,\n\t\"./gom-latn\": 41890,\n\t\"./gom-latn.js\": 41890,\n\t\"./gu\": 37134,\n\t\"./gu.js\": 37134,\n\t\"./he\": 96835,\n\t\"./he.js\": 96835,\n\t\"./hi\": 81394,\n\t\"./hi.js\": 81394,\n\t\"./hr\": 13564,\n\t\"./hr.js\": 13564,\n\t\"./hu\": 46269,\n\t\"./hu.js\": 46269,\n\t\"./hy-am\": 57269,\n\t\"./hy-am.js\": 57269,\n\t\"./id\": 44254,\n\t\"./id.js\": 44254,\n\t\"./is\": 8699,\n\t\"./is.js\": 8699,\n\t\"./it\": 28301,\n\t\"./it-ch\": 92887,\n\t\"./it-ch.js\": 92887,\n\t\"./it.js\": 28301,\n\t\"./ja\": 64642,\n\t\"./ja.js\": 64642,\n\t\"./jv\": 62168,\n\t\"./jv.js\": 62168,\n\t\"./ka\": 94501,\n\t\"./ka.js\": 94501,\n\t\"./kk\": 49537,\n\t\"./kk.js\": 49537,\n\t\"./km\": 45808,\n\t\"./km.js\": 45808,\n\t\"./kn\": 34881,\n\t\"./kn.js\": 34881,\n\t\"./ko\": 62951,\n\t\"./ko.js\": 62951,\n\t\"./ku\": 92452,\n\t\"./ku.js\": 92452,\n\t\"./ky\": 1853,\n\t\"./ky.js\": 1853,\n\t\"./lb\": 77639,\n\t\"./lb.js\": 77639,\n\t\"./lo\": 34502,\n\t\"./lo.js\": 34502,\n\t\"./lt\": 60874,\n\t\"./lt.js\": 60874,\n\t\"./lv\": 18237,\n\t\"./lv.js\": 18237,\n\t\"./me\": 87878,\n\t\"./me.js\": 87878,\n\t\"./mi\": 64234,\n\t\"./mi.js\": 64234,\n\t\"./mk\": 17535,\n\t\"./mk.js\": 17535,\n\t\"./ml\": 43896,\n\t\"./ml.js\": 43896,\n\t\"./mn\": 63046,\n\t\"./mn.js\": 63046,\n\t\"./mr\": 80927,\n\t\"./mr.js\": 80927,\n\t\"./ms\": 37224,\n\t\"./ms-my\": 66332,\n\t\"./ms-my.js\": 66332,\n\t\"./ms.js\": 37224,\n\t\"./mt\": 24866,\n\t\"./mt.js\": 24866,\n\t\"./my\": 24206,\n\t\"./my.js\": 24206,\n\t\"./nb\": 66723,\n\t\"./nb.js\": 66723,\n\t\"./ne\": 45097,\n\t\"./ne.js\": 45097,\n\t\"./nl\": 37529,\n\t\"./nl-be\": 1355,\n\t\"./nl-be.js\": 1355,\n\t\"./nl.js\": 37529,\n\t\"./nn\": 30296,\n\t\"./nn.js\": 30296,\n\t\"./oc-lnc\": 4802,\n\t\"./oc-lnc.js\": 4802,\n\t\"./pa-in\": 77057,\n\t\"./pa-in.js\": 77057,\n\t\"./pl\": 69850,\n\t\"./pl.js\": 69850,\n\t\"./pt\": 15552,\n\t\"./pt-br\": 83726,\n\t\"./pt-br.js\": 83726,\n\t\"./pt.js\": 15552,\n\t\"./ro\": 1717,\n\t\"./ro.js\": 1717,\n\t\"./ru\": 79117,\n\t\"./ru.js\": 79117,\n\t\"./sd\": 61742,\n\t\"./sd.js\": 61742,\n\t\"./se\": 92049,\n\t\"./se.js\": 92049,\n\t\"./si\": 83329,\n\t\"./si.js\": 83329,\n\t\"./sk\": 27619,\n\t\"./sk.js\": 27619,\n\t\"./sl\": 76707,\n\t\"./sl.js\": 76707,\n\t\"./sq\": 84281,\n\t\"./sq.js\": 84281,\n\t\"./sr\": 60436,\n\t\"./sr-cyrl\": 13408,\n\t\"./sr-cyrl.js\": 13408,\n\t\"./sr.js\": 60436,\n\t\"./ss\": 27500,\n\t\"./ss.js\": 27500,\n\t\"./sv\": 6950,\n\t\"./sv.js\": 6950,\n\t\"./sw\": 54222,\n\t\"./sw.js\": 54222,\n\t\"./ta\": 73746,\n\t\"./ta.js\": 73746,\n\t\"./te\": 1130,\n\t\"./te.js\": 1130,\n\t\"./tet\": 34740,\n\t\"./tet.js\": 34740,\n\t\"./tg\": 13378,\n\t\"./tg.js\": 13378,\n\t\"./th\": 20628,\n\t\"./th.js\": 20628,\n\t\"./tk\": 92622,\n\t\"./tk.js\": 92622,\n\t\"./tl-ph\": 30100,\n\t\"./tl-ph.js\": 30100,\n\t\"./tlh\": 22871,\n\t\"./tlh.js\": 22871,\n\t\"./tr\": 33600,\n\t\"./tr.js\": 33600,\n\t\"./tzl\": 18985,\n\t\"./tzl.js\": 18985,\n\t\"./tzm\": 3627,\n\t\"./tzm-latn\": 51145,\n\t\"./tzm-latn.js\": 51145,\n\t\"./tzm.js\": 3627,\n\t\"./ug-cn\": 4790,\n\t\"./ug-cn.js\": 4790,\n\t\"./uk\": 97712,\n\t\"./uk.js\": 97712,\n\t\"./ur\": 99529,\n\t\"./ur.js\": 99529,\n\t\"./uz\": 99141,\n\t\"./uz-latn\": 61737,\n\t\"./uz-latn.js\": 61737,\n\t\"./uz.js\": 99141,\n\t\"./vi\": 98205,\n\t\"./vi.js\": 98205,\n\t\"./x-pseudo\": 20697,\n\t\"./x-pseudo.js\": 20697,\n\t\"./yo\": 37826,\n\t\"./yo.js\": 37826,\n\t\"./zh-cn\": 83994,\n\t\"./zh-cn.js\": 83994,\n\t\"./zh-hk\": 36892,\n\t\"./zh-hk.js\": 36892,\n\t\"./zh-mo\": 43884,\n\t\"./zh-mo.js\": 43884,\n\t\"./zh-tw\": 85136,\n\t\"./zh-tw.js\": 85136\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"./\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [464], () => (__webpack_require__(19386)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Text","_ref","_styleObject","_styleObject2","style","children","rest","_objectWithoutProperties","_excluded","styleObject","Array","isArray","forEach","el","Object","assign","_jsx","RN","_objectSpread","fontSize","fontFamily","debug","serviceEntry","msg1","msg2","msg3","msg4","msg5","msg6","fetch","method","headers","body","JSON","stringify","vacant","reserved","occupied","paid","unavailable","adhoc","deposit","grey1","grey2","grey3","grey4","grey5","grey7","grey8","grey9","size","Platform","OS","black8","white8","OverlayAlert","_Component","_inherits","_super","_createSuper","props","_classCallCheck","call","_createClass","key","value","_this","console","log","this","View","styles","overlay","_jsxs","overlayContent","overlayHeader","overlayTitleText","overlaySubtitleText","color","theme","overlayText","text","toUpperCase","TouchableOpacity","overlayOption","onPress","handleUpdateFromProcedureMessage","overlayOptionText","Component","StyleSheet","create","backgroundColor","position","zIndex","top","left","right","bottom","flex","alignItems","justifyContent","width","borderRadius","overflow","marginVertical","textTransform","opacity","textAlign","marginTop","height","margin","OverlayLanguage","intl","buttonsContainer","button","handleUpdateFromLanguage","buttonText","minWidth","paddingHorizontal","flexDirection","state","input","_this2","title","subtitle","ok","handleUpdateFromAlert","options","map","handleText","cancel","Preference","preference","overlayProcedureMessageVisible","overlayAlertVisible","overlayAlertInputValue","bind","_assertThisInitialized","_componentDidMount","_asyncToGenerator","AsyncStorage","getItem","parse","setState","apply","arguments","doReset","push","tcolsize","mcolsize","pcolsize","mquick","dsecondary","usecondary","setItem","preferenceUpdate","isNaN","rpartition","Number","navigation","_this$state","container","OverlayProcedureMessage","leftContainer","navigateContainer","navigateWrapper","goBack","AntDesign","name","selectionContainer","displayContainer","displayWrapper","paddingRight","gap","gridContainer","ScrollView","showsVerticalScrollIndicator","grid","doTcolsize","gridFirst","gridFirstLeftText","gridFirstRightText","gridSecond","gridSecondText","gridThird","gridThirdRightText","doPcolsize","TextInput","selectTextOnFocus","defaultValue","onChangeText","doUsecondary","rightContainer","paddingLeft","doMcolsize","doMquick","doDsecondary","doPressReset","searchBox","marginBottom","searchBoxInputValue","searchBoxButton","searchBoxInfo","searchBoxInfoLeft","searchBoxInfoRight","searchBoxInfoText","padding","gridFirstLeft","gridFirstRight","gridThirdLeft","gridThirdRight","paddingTop","aspectRatio","selection","paddingVertical","selectionText","tableItemText","tableItemModText","tableItemContainer","minHeight","marginHorizontal","tableItemFirstContainer","borderRightWidth","borderRightColor","tableItemSecondContainer","tableItemThirdContainer","tableItemFourthContainer","titleFirstContainer","titleSecondContainer","titleThirdContainer","titleFourthContainer","titleText","Login","language","serviceEntryObj","accessCode","password","userId","home","dev","_preference","_preference2","_preference3","_preference4","_preference5","_preference6","sub","addListener","didFocus","navigate","doSubmitAccessCode","_didFocus","_route$params","route","params","sync","moment","diff","item","overlayLanguageVisible","currentLocale","_this3","Alert","alert","doDownload","Linking","openURL","link","doLogIn","_this$state2","_doLogIn","_this4","then","response","json","message","Promise","all","_ref2","_slicedToArray","promiseArray","url","URLSearchParams","append","shopId","promiseObject","nameString","orgId","locId","_toConsumableArray","_defineProperty","masters","reduce","o","keys","values","catch","error","_x","_x2","accessCodeUpdate","_Constants$manifest$v","_this5","_this$props","_this$state3","Ionicons","MaterialIcons","doPressDownload","numberOfLines","Constants","manifest","version","split","Image","source","Logo","resizeMode","textInputContainer","textInput","placeholder","placeholderTextColor","placeholderStyle","secureTextEntry","autoComplete","autoCorrect","onSubmitEditing","doPressKey","Dimensions","get","platformTiles","doTranslateTableColor","adhocItem","transType","statusFlg","MainTableFloor","_floorTables$","_floorTables$2","_floorTables$3","_floorTables$4","_floorTables$5","_floorTables$6","refresh","tables","handleUpdateFromMainTableFloor","translateX","useSharedValue","translateY","scale","context","x","y","tileSize","floorTables","filter","xaxis","yaxis","infoTables","tempTables","minX","min","Math","maxX","max","minY","maxY","floorWidth","floorHeight","_useState","useState","_useState2","focused","setFocused","useEffect","doPressTable","recKey","gesturePinch","Gesture","Pinch","onStart","_f","_closure","asString","__workletHash","__location","onUpdate","event","gesturePan","Pan","translationX","translationY","gesture","Simultaneous","rStyle","useAnimatedStyle","transform","__optimalization","GestureHandlerRootView","GestureDetector","Animated","ceil","length","shape","_Fragment","index","sqrt","rotateZ","tableId","pointerEvents","borderLeftWidth","borderLeftColor","seatTime","format","Feather","pax","FlatList","flexGrow","numColumns","data","scrollEnabled","keyExtractor","toString","renderItem","_item$vipName","openorderRecKey","vipName","MainTable","settings","sections","tablemas","selectedSection","floor","doRefresh","prevProps","_doRefresh","initial","doPressFloor","doPressSection","_doPressFloor","_doPressSection","sectionId","_this$state4","doPressFocusedTable","handlePressTable","handleActionTable","_this$state5","MaterialCommunityIcons","alwaysBounceVertical","activeOpacity","orderType","onetwo","tableLowerBand","MainMenu","foldergrps","folders","uniqueFolders","Map","v","folderId","menus","uniqueMenus","menuId","modBundles","displayMode","displays","limiteds","searchText","foldergrpId","found","find","selectedFoldergrp","doGet","quick","handlePressMenu","caseText","displaysUpdate","menuName","includes","_intl$get","_intl$get2","_intl$get3","_settings$find","onFocus","doSearchText","doPressFoldergrp","Keyboard","dismiss","setId","setString","horizontal","renderMenu","renderMenuB","_ref3","renderFolder","handlePressAdhoc","startTime","endTime","_this6","_this$state6","doPressFolder","_item$listPrice","_foldergrps$find","_folders$find","_this7","_this$state7","restmenuRecKey","disabled","doPressMenu","listPrice","toFixed","serveLimit","serveCount","_foldergrps$find2","_folders$find2","_item$listPrice2","_this8","_this$state8","uri","restServiceUrl","urlAddr","lastupdate","OverlayAutoLogout","timer","countdown","initialTimer","setInterval","clearInterval","handleUpdateFromAutoLogout","OverlayDeposit","selectedTable","homeDelivery","vipPhone","dlyDate","dpostalcode","daddress1","daddress2","type","address","handleUpdateFromDeposit","tabContainer","doPressDelivery","vipInputsContainer","vipInputsRow","vipInput","textContentType","keyboardType","doChangePostal","doSubmit","tabText","tabFocusText","OverlayScanBarcode","handleSubmit","scanTextInput","focus","handleUpdateFromScanBarcode","searchBoxWrapper","overlaySearchBox","overlaySearchBoxInput","ref","autoFocus","overlaySearchBoxButton","OverlayRequestAccess","handleUpdateFromRequestAccess","overlayTextUpdate","requestedPrivilege","alignSelf","OverlayChangePrice","privileges","discounts","selectedTableItem","availableDiscounts","overlaySearchText","discountSelected","selectedDiscount","validatePass","overlayRequestAccessVisible","handleOverlaySearchText","handleValidate","priId","userName","loading","superUserId","adminFlg","some","handleUpdateFromChangePrice","availableDiscountsUpdate","discId","discName","paddingBottom","selectText","selectWrapper","overlayGrid","overlayGridFirst","overlayGridFirstLeft","overlayGridFirstLeftText","overlayGridFirstRight","overlayGridFirstRightText","overlayGridSecond","overlayGridSecondText","overlayGridThird","overlayGridThirdLeft","overlayGridThirdRight","overlayGridThirdRightText","overlayBackButton","OverlayLineDiscount","remarks","itemWithRemarks","handleUpdateFromLineDiscount","OverlayHeaderDiscount","handleUpdateFromHeaderDiscount","OverlayMergeTable","availableTables","mergeTables","handleSelectTable","tableFlg","availableTablesUpdate","mergeTablesUpdate","_readOnlyError","modalAvailableMod","modalAvailableModText","handleUpdateFromMergeTable","flexWrap","marginRight","OverlaySplitTable","tableItems","availableTableItems","refRecKey","selectedTableItems","handleSelectTableItem","availableTableItemsUpdate","selectedTableItemsUpdate","lineNo","handleUpdateFromSplitTable","OverlayChangeTable","handleUpdateFromChangeTable","OverlayReviseItem","handleUpdateFromReviseItem","confirmFlg","menuType","discFlg","OverlayTableActions","handleUpdateFromTableActions","OverlayAdditionalFunctions","handleUpdateFromAdditionalFunctions","OverlayChoosePrinter","printers","cashierPrinters","availablePrinters","availablePrintersUpdate","iomodelId","printPurpose","handleUpdateFromChoosePrinter","Tab","createBottomTabNavigator","Main","screen","handlePressScan","handleUpdateFromVoid","handleUpdateFromTable","global","socket","io","substring","lastIndexOf","query","serviceId","epbId","doChooseDefaultPrinter","close","overlayChoosePrinterVisible","_masters$cashierPrint","homeUpdate","defaultPrinter","_handlePressTable","settingPOSMODE","opentable","emit","opentableItems","users","doClearTable","action","doCreateTable","mode","_settings$find2","globalModBundles","modmas","globalFlg","mustFlg","mods","_masters$modBundles$f","obj","modId","selectedMenu","opentableRecKey","restmenuMod","serviceFlg","orderQty","_settings$find3","camera","overlayScanBarcodeVisible","section","_settings$find4","_response$opentable","d","fireFlg","_settings$find5","overlayReviseItemVisible","_this$state9","_settings$find6","dayclosePayments","posDayCloseAmt","daycloseSubPayments","posDayCloseAmtDtl","printer","_this$state10","refTableId","_settings$find7","pospays","opentablePospays","newStatus","_this$state11","tableStatus","vipId","phone","reservationTime","sourceId","_settings$find8","doToggleScreen","_this$state12","opentableItemRecKey","_settings$find9","_this9","_this$state13","_settings$find10","_this10","_this$state14","newLineBreak","lineBreak","_settings$find11","_this11","_this$state15","_settings$find12","_this12","_this$state16","_settings$find13","overlayDepositVisible","_this$state17","sendFlg","_masters$sections$fin","_this13","_this$state18","printOrder","printOrderFlg","_settings$find14","_this$state19","_this14","_this$state20","_settings$find15","purpose","_this$state21","selectedPrinter","doSendOrder","doPrintBill","doStartPayment","doOpenDrawer","_this15","_this$state22","_settings$find16","doStartDayclose","doDeleteTableItem","doEditTableItem","_this$state23","overlayAdditionalFunctionsVisible","Date","_handleUpdateFromTableActions","_this$state24","overlayTableActionsVisible","overlayHeaderDiscountVisible","doChangeTableStatus","overlayMergeTableVisible","overlaySplitTableVisible","overlayChangeTableVisible","_this$state25","doRevertTableItem","overlayChangePriceVisible","overlayLineDiscountVisible","doUpdateLineBreak","doDuplicateTableItem","_this16","_this$state26","disc","discNum","_settings$find17","_this17","_this$state27","_settings$find18","_this18","_this$state28","price","_settings$find19","_this19","_this$state29","itemPayloads","mergedOpentableRecKey","_settings$find20","join","items","_this20","_this$state30","_settings$find21","_response$opentable2","table","_this21","_this$state31","opentableRecKeyTo","_settings$find22","_this$state32","doTransTypeSales","doTransTypeDeposit","deliveryFlg","postalCode","addr1","addr2","_this22","_this$state33","addr3","addr4","_settings$find23","_this23","_this$state34","barcode","_settings$find24","tableInfo","_masters$settings$fin","_selectedTable$grandT","_home$defaultPrinter","_this24","_this$state35","overlayAutoLogoutVisible","footerText","locName","marginLeft","tableUpperBand","letterSpacing","sectionName","tab","doPressSend","FontAwesome","Fontisto","scrollViewRef","onContentSizeChange","scrollToEnd","_item$lineTotal","doTranslateTableItemColor","doPressItem","menuMod","lineTotal","_obj$lineTotal","grandTotal","Navigator","screenOptions","headerShown","animation","gestureEnabled","tabBarStyle","display","Screen","OverlayServiceEntry","handleUpdateFromServiceEntry","Register","savedEntries","selectedItem","doDeleteEntry","doSetEntry","overlayServiceEntryVisible","bistroServiceUrl","doSaveEntry","savedEntriesUpdate","unshift","doPressEntry","doPressAdd","OverlaySplitItems","receipts","docId","percentage","handleFillPercentagesEvenly","handleSetPercentageForReceipt","handleSetFullPercentageForReceipt","numberString","number","receiptsUpdate","findIndex","aggregate","init","handleUpdateFromSplitItems","overlayScroll","inputRow","inputRowLeft","inputRowTitleText","inputRowSubtitleText","inputRowRight","percentageText","overlayNumber","Split","availableReceipts","receiptItems","overlaySplitItemsVisible","handleSplitSelectedTableItems","handleUndoAll","handleSelectAllUnsplitTableItems","handleDeselectAllUnsplitTableItems","comboItems","distribution","handleUpdateFromSplit","_this$props2","wrapper","itemsContainer","actionButton","splitScroll","snapToInterval","wrapperWidth","decelerationRate","OverlayInputReference","handleUpdateFromInputReference","OverlayMergeBill","selectedTargetTable","filteredResponse","handleUpdateFromMergeBill","OverlaySplitBill","handleQtyChange","prevState","adjustContainer","adjustFirst","adjustSecond","handleNumberChange","adjustThird","handleUpdateFromSplitBill","keyHeight","OverlaySplitAmount","amount","warning","handleFillRemainder","handleSetAmountForReceipt","handleUpdateFromSplitAmount","equal","doFillEvenly","OverlayUpdateTips","paymentMethods","availablePaymentMethods","selectedPaymentMethod","availablePaymentMethodsUpdate","pmId","handleUpdateFromUpdateTips","OverlayViewSplitted","handleUpdateFromViewSplitted","PaynowQR","opts","defineProperty","generate","qrstring","s","n","str","String","i","crcTable","crc","c","charCodeAt","RangeError","trim","p","id","uen","editable","expiry","company","otherdata","refNumber","final","current","f","padLeft","crc16","qrcode","reference","orgName","qrcodeString","output","QRCode","logo","Paynow","logoSize","handleUpdateFromPaynow","Pos","payments","selectedPaymentItem","pay","balance","overlayPaynowVisible","overlayInputReferenceVisible","overlayMergeBillVisible","overlaySplitBillVisible","overlaySplitAmountVisible","overlayUpdateTipsVisible","overlayViewSplittedVisible","splitting","splitReceipts","handleBuildNumberString","handleSelectPaymentMethod","handleRounding","handleEnterButton","handleFinishButton","handleAddPayment","handleDeletePayment","handleFinishPayment","handleUnsplitBill","handlePressPaymentItem","handlePressDeletePaymentItem","handlePressPaymentItemRef","handlePressMerge","handlePressUnmerge","handlePressTips","handlePressSplit","handlePressUnsplit","handleViewSplitted","handleOpenDrawer","handleValidateAmount","newNumberString","slice","maxLength","indexOf","refType","numberStringUpdate","vipPtsMoney","numberStringVal","isInteger","refFlg","payRef","payMoney","opentablePospayRecKey","payAmt","roundAmt","handleAfterAddPayment","overlayPaynowInput","docNo","roundingFlg","roundType","round","splitCount","receiptmases","splittedReceipts","receiptRecKey","itemPercentages","itemRecKey","splittedReceiptsByamt","amt","_settings2$find","opentableRecKeyGuest","tips","e","nativeEvent","layout","OverlayPaynow","leftFirstContainer","rowOf5","onLayout","doLayout","headerKeyContainer","headerKeyTextTableId","headerKeyText","splitFlg","hostFlg","leftSecondContainer","tableSummaryContainer","tableSummaryTitleContainer","tableSummaryTitle","tableSummaryTitleText","tipsPmId","tableSummaryValueContainer","tableSummaryValue","tableSummaryValueText","beforeDisc","totalDisc","serviceCharge","totalTax","tender","change","maxHeight","showsHorizontalScrollIndicator","paymentsContainer","paymentsFirst","paymentsTitleText","paymentsSecond","paymentsThird","paymentsFourth","paymentsZero","posScrollView","contentWidth","contentHeight","animated","datumContainer","datumFirst","datumText","datumSecond","datumThird","datumFourth","datumZero","rightFirstContainer","extraData","activeFunctionKeyContainer","functionKeyContainer","activeFunctionKeyText","functionKeyText","rightFirstNumberContainer","rightFirstNumberText","rightSecondContainer","rightSecondLeftContainer","clearContainer","keyText","rightSecondMiddleContainer","keyContainer","keyNumberText","rightSecondRightContainer","backspaceContainer","enterContainer","finishContainer","borderColor","borderWidth","dataContainer","OverlaySettleAdhoc","availableMenus","availableMenusUpdate","handleUpdateFromSettleAdhoc","kotType","Adhoc","working","artifacts","selectedAdhocItem","menu","overlaySettleAdhocVisible","pageObject","doLoad","totalPages","pageIndex","remotePage","content","newList","splice","replace","searchTextInput","blur","doReload","adhocItems","opentableAdhocs","_objectDestructuringEmpty","doDeleteAdhoc","doRevertAdhoc","adhocRecKey","opentableAdhocRecKey","total","totalElements","titleZeroContainer","doPressSettleAdhoc","netPrice","tableItemZeroContainer","doPressDeleteAdhoc","doPressRevertAdhoc","doChangeText","doClearSearch","stkId","uomId","retailListPrice","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","model","remark","onEndReachedThreshold","onEndReached","windowSize","Dayclose","systemAmt","handleFinishDayclose","daycloseRecKey","masRecKey","verify","subVerify","_this$setState","pmValue","settingDAYCLOSEVERIFY","containerFirst","containerSecond","summary","summaryText","summaryTotalText","floatAmt","subPmId","containerThird","Printer","handlePingAll","printersUpdate0","printersUpdate","msgId","handlePingPrinter","handleTestAll","printPort","handlePressPingAll","handlePressTestAll","OverlayEnterDate","dateString","valid","isValid","dateStringUpdate","add","subtract","inputRowFirst","inputRowSecond","inputRowThird","handleUpdateFromEnterDate","dateType","Report","selectedButton","fromDateString","toDateString","reportDetails","overlayEnterDateVisible","handlePressDate","handleSelectReport","handlePrintReport","selectedDateType","selectedDateString","report","reportCode","fromDateStringUpdate","toDateStringUpdate","reportContainer","reportLineContainer","reportLineFirst","reportLineFirstText","description","reportLineSecond","reportLineSecondText","qty","reportLineThird","reportLineThirdText","val","borderTopLeftRadius","borderTopRightRadius","Reprint","availableMasters","searches","selectedMaster","details","receiptsxText","pays","handlePressSearch","handleSelectButton","handleSelectMaster","handleReprint","handleSearchText","receiptmas","receiptpaydtl","receiptitems","receiptpays","availableMastersUpdate","c1","c2","createUserId","createDate","_ref4","_ref5","Resequence","arrangedItems","handleReset","handleAddLineBreak","handleRemoveLineBreak","handleResequence","handleShiftTop","handleShiftUp","handleShiftDown","handleShiftBottom","arrangedItemsUpdate","_arrangedItemsUpdate","scrollToOffset","offset","_arrangedItemsUpdate2","spliceIndex","concat","_arrangedItemsUpdate3","skip","_arrangedItemsUpdate4","newLineNo","lineBreakContainer","Transfer","handleSelectTargetTable","handlePressSelectAll","converted","opentableRecKeyFrom","opentableItemRecKeys","generateTextForSelectAll","OverlayVoidReceipt","returns","availableReturns","selectedReturn","availableReturnsUpdate","returnId","handleUpdateFromVoidReceipt","Void","overlayVoidReceiptVisible","reopenResponse","handleVoid","handlePressVoid","handlePressReopen","docDateString","Collect","handlePressCollect","Table","vipSources","availableVipSources","overlayPax","capacity","overlayVip","vipDisc","cumPts","classId","overlayValidateVipId","overlayValidateCardNumber","overlayValidateNric","overlayValidateVipName","overlayValidateVipPhone","overlayValidateVipPhoneCountryCode","overlayValidateEmailAddress","vipResults","selectedVipResult","overlaySource","overlaySourceSearch","overlayDeliveryFlg","overlayPostalCode","overlayAddr1","overlayAddr2","overlayAddr3","daddress3","overlayAddr4","daddress4","activeTab","handlePressTab","handleSearchVip","handleEnterVip","handleClearVip","handlePressNext","handlePressPrev","handleAddressChange","handleCheckDeliveryFlg","cardNumber","nric","emailAddress","vipPhoneCountryCode","customerNumber","mobileNumber","emailaddress","customerSource","availableVipSourcesUpdate","overlayTabWidth","tabsContainer","overlayTab","handlePaxChange","hasActiveMembership","overlayGridThirdLeftText","detailWrapper","detailTitle","detailText","overlayOptionsContainer","overlayOptionContainer","maxWidth","overlaySearchBoxButtonText","overlaySearchVipButton","Menu","_props$route$params$s","_props$route$params$s2","_props$route$params$s3","_props$route$params$s4","_props$route$params$s5","_props$route$params$s6","_props$route$params$s7","_props$route$params$m","_props$route$params$s8","_props$route$params$s9","qtyInput","modInput","modRecKeys","qtyInputUpdate","modInputUpdate","selectedModBundle","modRecKeysUpdate","modType","moditems","_selectedTableItem$li","_selectedMenu$listPri","_mods$filter","_mods$filter$map","contentContainerStyle","modButton","doPressMod","modText","multiline","blurOnSubmit","menuQtyRow","menuQtyRowFirst","doChangeQty","menuQtyRowSecond","qtyTextInput","doValidateQty","menuQtyRowThird","modifierTextInput","modContainer","doPressModBundle","doToggleOrderType","doToggleLineBreak","Scan","hasCameraPermission","detected","handleBarCodeScanned","status","BarCodeScanner","requestPermissionsAsync","dataUpdate","charAt","onBarCodeScanned","backButton","iconContainer","windowWidth","windowHeight","Trace","maps","thisTable","thisUser","traceRef","alwaysBounceHorizontal","traceText","doToggleUser","doToggleTable","Activate","updateds","overlayRequestPrivilegeVisible","handleSelectMenu","handleSelectUpdated","handlePressDisplayMode","handleUpdateMenu","doGetMenu","updatedsUpdate","itemUpdate","restmenuRecKeys","newStatusFlg","Limit","onlineStatusFlg","_limiteds$find","_limiteds$find2","_limiteds$find3","doLimitMenu","doSelectMenu","inputContainer","inputRowLeftText","doToggleStatus","inputRowRightText","doToggleOnlineStatus","Fire","kitchenmsgs","kottypes","selectedKottypes","selectedKitchenmsg","_item$kotTypes","kotTypes","selectedKottypesUpdate","_kottypes$find","navigateButton","navigateButtonText","doPressKitchenmsg","doPressTableItem","kotName","ListHeaderComponent","doPressAllKottype","doPressKottype","doPressFire","Combo","comboGroups","refMenuId","selectedComboItems","selectedComboItem","doPrepareComboItems","tableItemsUpdate","comboItemsUpdate","_tableItems$find","_tableItems$find2","_tableItems$find2$mod","comboitemRecKey","selectedComboItemsUpdate","groupNo","maxSelectItem","minSelectItem","arr","combogroupRecKey","doComboItemModInput","_comboItems$find","groupName","renderComboItem","_item$addonPrice","doPressComboItem","addonPrice","Secondary","doRoomParticipate","on","off","Stack","createNativeStackNavigator","App","_len","args","_key","locales","require","Font","loadAsync","getPermissionsAsync","resolve","NavigationContainer","StatusBar","hidden","component","navigationOptions","presentation","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code","module","exports","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","a","leafPrototypes","getProto","getPrototypeOf","t","ns","def","getOwnPropertyNames","definition","enumerable","g","globalThis","Function","window","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}